/*!
 * cdp.js 1.0.0
 *
 * Date: 2017-01-14T19:28:40+0900
 */
!function(a,b){"function"==typeof define&&define.amd?define("cdp.core",[],function(){return b(a)}):"object"==typeof exports?module.exports=b(a):b(a)}((this||0).self||global,function(a){function b(a){setTimeout(function(){try{e.apply(),a&&"function"==typeof a.success&&a.success()}catch(d){var b=d&&d.message?d.message:"initialize failed.";console.error(c+b),a&&"function"==typeof a.fail&&a.fail(d)}})}var c="[CDP] ",d=a.CDP||(a.CDP={}),e=function(){function b(){}function c(){null!=a.console&&null!=a.console.error||d(),"object"==typeof MSApp&&e()}function d(){a.console={count:function(){},groupEnd:function(){},time:function(){},timeEnd:function(){},trace:function(){},group:function(){},dirxml:function(){},debug:function(){},groupCollapsed:function(){},select:function(){},info:function(){},profile:function(){},assert:function(){},msIsIndependentlyComposed:function(){},clear:function(){},dir:function(){},warn:function(){},error:function(){},log:function(){},profileEnd:function(){}}}function e(){var a=Node.prototype.appendChild;Node.prototype.appendChild=function(b){var c=this;return MSApp.execUnsafeLocalFunction(function(){return a.call(c,b)})};var b=Node.prototype.insertBefore;Node.prototype.insertBefore=function(a,c){var d=this;return MSApp.execUnsafeLocalFunction(function(){return b.call(d,a,c)})}}return b.apply=c,b}(),f=function(){if(a.location){var b=/(.+\/)[^\/]*#[^\/]+/.exec(a.location.href);return b||(b=/(.+\/)/.exec(a.location.href)),b[1]}}();return d.global=a,d.initialize=b,d.webRoot=f,d}),function(a,b){"function"==typeof define&&define.amd?define("cdp.promise",["jquery"],function(c){return b(a.CDP||(a.CDP={}),c)}):"object"==typeof exports?module.exports=b(a.CDP||(a.CDP={}),require("jquery")):b(a.CDP||(a.CDP={}),a.jQuery||a.$)}((this||0).self||global,function(a,b){var a;return function(a){function c(a,c){var d,f;"function"==typeof c?f=c:(d=c,f=d&&d.cancelCallback?d.cancelCallback:function(){});var g=function(b){var c=b?b:{message:"abort"};null!=this.dependency?(this.dependency.abort?this.dependency.abort(c):console.error(e+"[call] dependency object doesn't have 'abort()' method."),this.callReject&&"pending"===this.state()&&(f(c),a.reject(c))):"pending"===this.state()&&(f(c),a.reject(c))},h=function(a){var b=this;return a.abort?(this.dependency=a,a.always(function(){b.dependency=null})):console.error(e+"[set] dependency object doesn't have 'abort()' method."),a},i=b.extend({},{dependency:null,callReject:!1},d),j=a.promise(i);return null==j.abort&&(j.abort=g.bind(j)),null==j.dependOn&&(j.dependOn=h.bind(j)),j}function d(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var d=[].concat.apply([],a),e=b.Deferred(),f=[],g=!1,h=function(){return!!g&&!f.some(function(a){return"pending"===a.status})};return d.forEach(function(a,b){f.push({status:"pending",args:null}),a.then(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];f[b].status="resolved",f[b].args=a},function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];f[b].status="rejected",f[b].args=a}).always(function(){h()&&e.resolve(f)})}),g=!0,h()&&e.resolve(f),e.promise()}var e="[CDP.Promise] ";a.makePromise=c,a.wait=d;var f=function(){function a(){this._pool=[],this._id=0}return a.prototype.add=function(a){var b=this;if(null==a)return null;if(!a.abort)return console.error(e+"[add] promise object doesn't have 'abort()' method."),a;var c={promise:a,id:this._id++};return this._pool.push(c),a.always(function(){b._pool=b._pool.filter(function(a){return a.id!==c.id})}),a},a.prototype.cancel=function(a){var b=this.promises();return b.forEach(function(b){b.abort&&b.abort(a)}),d.apply(null,b)},a.prototype.promises=function(){return this._pool.map(function(a){return a.promise})},a}();a.PromiseManager=f}(a||(a={})),a}),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b(require("jquery"),require("cdp.core")):"function"==typeof define&&define.amd?define("cdp.i18n",["jquery","cdp.core"],b):"object"==typeof exports?exports.CDP=b(require("jquery"),require("cdp.core")):a.CDP=b(a.jQuery,a.CDP)}(this,function(a,b){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){var d,e;(function(f){!function(f,g){d=[c(1),c(2)],e=function(a,b){return g(a,b)}.apply(b,d),!(void 0!==e&&(a.exports=e))}((this||0).self||f,function(a,b){var b;return function(b){function d(d){var f=a.Deferred(),g=d||{},h=function(a){if(a){for(var b in a)if(a.hasOwnProperty(b))for(var c in a[b])a[b].hasOwnProperty(c)&&(a[b][c]=e(a[b][c]));return g.options.resources=a,g.options}return g.options}(g.fallbackResources);return!function(){var d=[c(3)];(function(d){!function(){var e=[c(4),c(5),c(6),c(7),c(8)];(function(c,e,g,i,j){c.use(e).use(g).use(i).use(j).init(h,function(e,g){if(d.init(c,a,{tName:"t",i18nName:"i18n",handleName:"localize",selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0}),c.options.resources&&c.options.preload){var h=c.options.preload,i=c.options.resources;delete c.options.resources,delete c.options.preload,c.loadLanguages(h,function(){c.options.resources=i,c.options.preload=h,b.i18n=c,f.resolve()})}else b.i18n=c,f.resolve()})}).apply(null,e)}()}).apply(null,d)}(),f.promise()}function e(b){var c;return a.ajax({url:f(b),method:"GET",async:!1,dataType:"json",success:function(a){c=a},error:function(a,b){console.log(g+"ajax request failed. status: "+b)}}),c}function f(a){return a||"/"===a[0]?b.webRoot+a.slice(1):void console.error(g+"invalid path. path: "+a)}var g="[CDP.i18n] ";b.initializeI18N=d}(b||(b={})),b})}).call(b,function(){return this}())},function(b,c){b.exports=a},function(a,c){a.exports=b},function(a,b,c){!function(b,c){a.exports=c()}(this,function(){"use strict";function a(a,d){function e(c,d,e){function f(a,c){return h.parseDefaultValueFromContent?b({},a,{defaultValue:c}):a}if(0!==d.length){var g="text";if(0===d.indexOf("[")){var i=d.split("]");d=i[1],g=i[0].substr(1,i[0].length-1)}if(d.indexOf(";")===d.length-1&&(d=d.substr(0,d.length-2)),"html"===g)c.html(a.t(d,f(e,c.html())));else if("text"===g)c.text(a.t(d,f(e,c.text())));else if("prepend"===g)c.prepend(a.t(d,f(e,c.html())));else if("append"===g)c.append(a.t(d,f(e,c.html())));else if(0===g.indexOf("data-")){var j=g.substr("data-".length),k=a.t(d,f(e,c.data(j)));c.data(j,k),c.attr(g,k)}else c.attr(g,a.t(d,f(e,c.attr(g))))}}function f(a,c){var f=a.attr(h.selectorAttr);if(f||"undefined"==typeof f||f===!1||(f=a.text()||a.val()),f){var g=a,i=a.data(h.targetAttr);if(i&&(g=a.find(i)||a),c||h.useOptionsAttr!==!0||(c=a.data(h.optionsAttr)),c=c||{},f.indexOf(";")>=0){var j=f.split(";");d.each(j,function(a,b){""!==b&&e(g,b,c)})}else e(g,f,c);if(h.useOptionsAttr===!0){var k={};k=b({clone:k},c),delete k.lng,a.data(h.optionsAttr,k)}}}function g(a){return this.each(function(){f(d(this),a);var b=d(this).find("["+h.selectorAttr+"]");b.each(function(){f(d(this),a)})})}var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h=b({},c,h),d[h.tName]=a.t.bind(a),d[h.i18nName]=a,d.fn[h.handleName]=g}var b=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},c={tName:"t",i18nName:"i18n",handleName:"localize",selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0},d={init:a};return d})},function(a,b,c){!function(b,c){a.exports=c()}(this,function(){"use strict";function a(a){return null==a?"":""+a}function b(a,b,c){a.forEach(function(a){b[a]&&(c[a]=b[a])})}function c(a,b,c){function d(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}for(var e="string"!=typeof b?[].concat(b):b.split(".");e.length>1;){if(!a)return{};var f=d(e.shift());!a[f]&&c&&(a[f]=new c),a=a[f]}return a?{obj:a,k:d(e.shift())}:{}}function d(a,b,d){var e=c(a,b,Object),f=e.obj,g=e.k;f[g]=d}function e(a,b,d,e){var f=c(a,b,Object),g=f.obj,h=f.k;g[h]=g[h]||[],e&&(g[h]=g[h].concat(d)),e||g[h].push(d)}function f(a,b){var d=c(a,b),e=d.obj,f=d.k;if(e)return e[f]}function g(a,b,c){for(var d in b)d in a?"string"==typeof a[d]||a[d]instanceof String||"string"==typeof b[d]||b[d]instanceof String?c&&(a[d]=b[d]):g(a[d],b[d],c):a[d]=b[d];return a}function h(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function i(a){return"string"==typeof a?a.replace(/[&<>"'\/]/g,function(a){return E[a]}):a}function j(a){return a.interpolation={unescapeSuffix:"HTML"},a.interpolation.prefix=a.interpolationPrefix||"__",a.interpolation.suffix=a.interpolationSuffix||"__",a.interpolation.escapeValue=a.escapeInterpolation||!1,a.interpolation.nestingPrefix=a.reusePrefix||"$t(",a.interpolation.nestingSuffix=a.reuseSuffix||")",a}function k(a){return a.resStore&&(a.resources=a.resStore),a.ns&&a.ns.defaultNs?(a.defaultNS=a.ns.defaultNs,a.ns=a.ns.namespaces):a.defaultNS=a.ns||"translation",a.fallbackToDefaultNS&&a.defaultNS&&(a.fallbackNS=a.defaultNS),a.saveMissing=a.sendMissing,a.saveMissingTo=a.sendMissingTo||"current",a.returnNull=!a.fallbackOnNull,a.returnEmptyString=!a.fallbackOnEmpty,a.returnObjects=a.returnObjectTrees,a.joinArrays="\n",a.returnedObjectHandler=a.objectTreeKeyHandler,a.parseMissingKeyHandler=a.parseMissingKey,a.appendNamespaceToMissingKey=!0,a.nsSeparator=a.nsseparator,a.keySeparator=a.keyseparator,"sprintf"===a.shortcutFunction&&(a.overloadTranslationOptionHandler=function(a){for(var b=[],c=1;c<a.length;c++)b.push(a[c]);return{postProcess:"sprintf",sprintf:b}}),a.whitelist=a.lngWhitelist,a.preload=a.preload,"current"===a.load&&(a.load="currentOnly"),"unspecific"===a.load&&(a.load="languageOnly"),a.backend=a.backend||{},a.backend.loadPath=a.resGetPath||"locales/__lng__/__ns__.json",a.backend.addPath=a.resPostPath||"locales/add/__lng__/__ns__",a.backend.allowMultiLoading=a.dynamicLoad,a.cache=a.cache||{},a.cache.prefix="res_",a.cache.expirationTime=6048e5,a.cache.enabled=!!a.useLocalStorage,a=j(a),a.defaultVariables&&(a.interpolation.defaultVariables=a.defaultVariables),a}function l(a){return a=j(a),a.joinArrays="\n",a}function m(a){return(a.interpolationPrefix||a.interpolationSuffix||a.escapeInterpolation)&&(a=j(a)),a.nsSeparator=a.nsseparator,a.keySeparator=a.keyseparator,a.returnObjects=a.returnObjectTrees,a}function n(a){a.lng=function(){return C.deprecate("i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup."),a.services.languageUtils.toResolveHierarchy(a.language)[0]},a.preload=function(b,c){C.deprecate("i18next.preload() can be replaced with i18next.loadLanguages()"),a.loadLanguages(b,c)},a.setLng=function(b,c,d){return C.deprecate("i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace."),"function"==typeof c&&(d=c,c={}),c||(c={}),c.fixLng===!0&&d?d(null,a.getFixedT(b)):void a.changeLanguage(b,d)},a.addPostProcessor=function(b,c){C.deprecate("i18next.addPostProcessor() can be replaced by i18next.use({ type: 'postProcessor', name: 'name', process: fc })"),a.use({type:"postProcessor",name:b,process:c})}}function o(a){return a.charAt(0).toUpperCase()+a.slice(1)}function p(){var a={};return J.forEach(function(b){b.lngs.forEach(function(c){return a[c]={numbers:b.nr,plurals:K[b.fc]}})}),a}function q(a,b){for(var c=a.indexOf(b);c!==-1;)a.splice(c,1),c=a.indexOf(b)}function r(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,saveMissingTo:"fallback",missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,overloadTranslationOptionHandler:function(a){return{defaultValue:a[1]}},interpolation:{escapeValue:!0,format:function(a,b,c){return a},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",defaultVariables:void 0}}}function s(a){return"string"==typeof a.ns&&(a.ns=[a.ns]),"string"==typeof a.fallbackLng&&(a.fallbackLng=[a.fallbackLng]),"string"==typeof a.fallbackNS&&(a.fallbackNS=[a.fallbackNS]),a.whitelist&&a.whitelist.indexOf("cimode")<0&&a.whitelist.push("cimode"),a}function t(){}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},v=(function(){function a(a){this.value=a}function b(b){function c(a,b){return new Promise(function(c,e){var h={key:a,arg:b,resolve:c,reject:e,next:null};g?g=g.next=h:(f=g=h,d(a,b))})}function d(c,f){try{var g=b[c](f),h=g.value;h instanceof a?Promise.resolve(h.value).then(function(a){d("next",a)},function(a){d("throw",a)}):e(g.done?"return":"normal",g.value)}catch(a){e("throw",a)}}function e(a,b){switch(a){case"return":f.resolve({value:b,done:!0});break;case"throw":f.reject(b);break;default:f.resolve({value:b,done:!1})}f=f.next,f?d(f.key,f.arg):g=null}var f,g;this._invoke=c,"function"!=typeof b.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(b.prototype[Symbol.asyncIterator]=function(){return this}),b.prototype.next=function(a){return this._invoke("next",a)},b.prototype.throw=function(a){return this._invoke("throw",a)},b.prototype.return=function(a){return this._invoke("return",a)},{wrap:function(a){return function(){return new b(a.apply(this,arguments))}},await:function(b){return new a(b)}}}(),function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}),w=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},x=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},y=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b},z=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A={type:"logger",log:function(a){this._output("log",a)},warn:function(a){this._output("warn",a)},error:function(a){this._output("error",a)},_output:function(a,b){console&&console[a]&&console[a].apply(console,Array.prototype.slice.call(b))}},B=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(this,a),this.init(b,c)}return a.prototype.init=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=b.prefix||"i18next:",this.logger=a||A,this.options=b,this.debug=b.debug!==!1},a.prototype.setDebug=function(a){this.debug=a},a.prototype.log=function(){this.forward(arguments,"log","",!0)},a.prototype.warn=function(){this.forward(arguments,"warn","",!0)},a.prototype.error=function(){this.forward(arguments,"error","")},a.prototype.deprecate=function(){this.forward(arguments,"warn","WARNING DEPRECATED: ",!0)},a.prototype.forward=function(a,b,c,d){d&&!this.debug||("string"==typeof a[0]&&(a[0]=c+this.prefix+" "+a[0]),this.logger[b](a))},a.prototype.create=function(b){var c=new a(this.logger,w({prefix:this.prefix+":"+b+":"},this.options));return c},a}(),C=new B,D=function(){function a(){v(this,a),this.observers={}}return a.prototype.on=function(a,b){var c=this;a.split(" ").forEach(function(a){c.observers[a]=c.observers[a]||[],c.observers[a].push(b)})},a.prototype.off=function(a,b){var c=this;this.observers[a]&&this.observers[a].forEach(function(){if(b){var d=c.observers[a].indexOf(b);d>-1&&c.observers[a].splice(d,1)}else delete c.observers[a]})},a.prototype.emit=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.observers[a]&&this.observers[a].forEach(function(a){a.apply(void 0,c)}),this.observers["*"]&&this.observers["*"].forEach(function(b){var d;b.apply(b,(d=[a]).concat.apply(d,c))})},a}(),E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},F=function(a){function b(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};v(this,b);var e=y(this,a.call(this));return e.data=c,e.options=d,e}return x(b,a),b.prototype.addNamespaces=function(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)},b.prototype.removeNamespaces=function(a){var b=this.options.ns.indexOf(a);b>-1&&this.options.ns.splice(b,1)},b.prototype.getResource=function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},e=d.keySeparator||this.options.keySeparator;void 0===e&&(e=".");var g=[a,b];return c&&"string"!=typeof c&&(g=g.concat(c)),c&&"string"==typeof c&&(g=g.concat(e?c.split(e):c)),a.indexOf(".")>-1&&(g=a.split(".")),f(this.data,g)},b.prototype.addResource=function(a,b,c,e){var f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},g=this.options.keySeparator;void 0===g&&(g=".");var h=[a,b];c&&(h=h.concat(g?c.split(g):c)),a.indexOf(".")>-1&&(h=a.split("."),e=b,b=h[1]),this.addNamespaces(b),d(this.data,h,e),f.silent||this.emit("added",a,b,c,e)},b.prototype.addResources=function(a,b,c){for(var d in c)"string"==typeof c[d]&&this.addResource(a,b,d,c[d],{silent:!0});this.emit("added",a,b,c)},b.prototype.addResourceBundle=function(a,b,c,e,h){var i=[a,b];a.indexOf(".")>-1&&(i=a.split("."),e=c,c=b,b=i[1]),this.addNamespaces(b);var j=f(this.data,i)||{};e?g(j,c,h):j=w({},j,c),d(this.data,i,j),this.emit("added",a,b,c)},b.prototype.removeResourceBundle=function(a,b){this.hasResourceBundle(a,b)&&delete this.data[a][b],this.removeNamespaces(b),this.emit("removed",a,b)},b.prototype.hasResourceBundle=function(a,b){return void 0!==this.getResource(a,b)},b.prototype.getResourceBundle=function(a,b){return b||(b=this.options.defaultNS),"v1"===this.options.compatibilityAPI?w({},this.getResource(a,b)):this.getResource(a,b)},b.prototype.toJSON=function(){return this.data},b}(D),G={processors:{},addPostProcessor:function(a){this.processors[a.name]=a},handle:function(a,b,c,d,e){var f=this;return a.forEach(function(a){f.processors[a]&&(b=f.processors[a].process(b,c,d,e))}),b}},H=function(a){function c(d){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(this,c);var f=y(this,a.call(this));return b(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],d,f),f.options=e,f.logger=C.create("translator"),f}return x(c,a),c.prototype.changeLanguage=function(a){a&&(this.language=a)},c.prototype.exists=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};return"v1"===this.options.compatibilityAPI&&(b=m(b)),void 0!==this.resolve(a,b)},c.prototype.extractFromKey=function(a,b){var c=b.nsSeparator||this.options.nsSeparator;void 0===c&&(c=":");var d=b.ns||this.options.defaultNS;if(c&&a.indexOf(c)>-1){var e=a.split(c);d=e[0],a=e[1]}return"string"==typeof d&&(d=[d]),{key:a,namespaces:d}},c.prototype.translate=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==("undefined"==typeof b?"undefined":u(b))?b=this.options.overloadTranslationOptionHandler(arguments):"v1"===this.options.compatibilityAPI&&(b=m(b)),void 0===a||null===a||""===a)return"";"number"==typeof a&&(a=String(a)),"string"==typeof a&&(a=[a]);var c=b.lng||this.language;if(c&&"cimode"===c.toLowerCase())return a[a.length-1];var d=b.keySeparator||this.options.keySeparator||".",e=this.extractFromKey(a[a.length-1],b),f=e.key,g=e.namespaces,h=g[g.length-1],i=this.resolve(a,b),j=Object.prototype.toString.apply(i),k=["[object Number]","[object Function]","[object RegExp]"],l=void 0!==b.joinArrays?b.joinArrays:this.options.joinArrays;if(i&&"string"!=typeof i&&k.indexOf(j)<0&&(!l||"[object Array]"!==j)){if(!b.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,i,b):"key '"+f+" ("+this.language+")' returned an object instead of string.";var n="[object Array]"===j?[]:{};for(var o in i)n[o]=this.translate(""+f+d+o,w({joinArrays:!1,ns:g},b));i=n}else if(l&&"[object Array]"===j)i=i.join(l),i&&(i=this.extendTranslation(i,f,b));else{var p=!1,q=!1;if(this.isValidLookup(i)||void 0===b.defaultValue||(p=!0,i=b.defaultValue),this.isValidLookup(i)||(q=!0,i=f),q||p){this.logger.log("missingKey",c,h,f,i);var r=[],s=this.languageUtils.getFallbackCodes(this.options.fallbackLng,b.lng||this.language);if("fallback"===this.options.saveMissingTo&&s&&s[0])for(var t=0;t<s.length;t++)r.push(s[t]);else"all"===this.options.saveMissingTo?r=this.languageUtils.toResolveHierarchy(b.lng||this.language):r.push(b.lng||this.language);this.options.saveMissing&&(this.options.missingKeyHandler?this.options.missingKeyHandler(r,h,f,i):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(r,h,f,i)),this.emit("missingKey",r,h,f,i)}i=this.extendTranslation(i,f,b),q&&i===f&&this.options.appendNamespaceToMissingKey&&(i=h+":"+f),q&&this.options.parseMissingKeyHandler&&(i=this.options.parseMissingKeyHandler(i))}return i},c.prototype.extendTranslation=function(a,b,c){var d=this;c.interpolation&&this.interpolator.init(w({},c,{interpolation:w({},this.options.interpolation,c.interpolation)}));var e=c.replace&&"string"!=typeof c.replace?c.replace:c;this.options.interpolation.defaultVariables&&(e=w({},this.options.interpolation.defaultVariables,e)),a=this.interpolator.interpolate(a,e,this.language),a=this.interpolator.nest(a,function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return d.translate.apply(d,b)},c),c.interpolation&&this.interpolator.reset();var f=c.postProcess||this.options.postProcess,g="string"==typeof f?[f]:f;return void 0!==a&&g&&g.length&&c.applyPostProcessor!==!1&&(a=G.handle(g,a,b,c,this)),a},c.prototype.resolve=function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=void 0;return"string"==typeof a&&(a=[a]),a.forEach(function(a){if(!b.isValidLookup(d)){var e=b.extractFromKey(a,c),f=e.key,g=e.namespaces;b.options.fallbackNS&&(g=g.concat(b.options.fallbackNS));var h=void 0!==c.count&&"string"!=typeof c.count,i=void 0!==c.context&&"string"==typeof c.context&&""!==c.context,j=c.lngs?c.lngs:b.languageUtils.toResolveHierarchy(c.lng||b.language);g.forEach(function(a){b.isValidLookup(d)||j.forEach(function(e){if(!b.isValidLookup(d)){var g=f,j=[g],k=void 0;h&&(k=b.pluralResolver.getSuffix(e,c.count)),h&&i&&j.push(g+k),i&&j.push(g+=""+b.options.contextSeparator+c.context),h&&j.push(g+=k);for(var l=void 0;l=j.pop();)b.isValidLookup(d)||(d=b.getResource(e,a,l,c))}})})}}),d},c.prototype.isValidLookup=function(a){return!(void 0===a||!this.options.returnNull&&null===a||!this.options.returnEmptyString&&""===a)},c.prototype.getResource=function(a,b,c){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(a,b,c,d)},c}(D),I=function(){function a(b){v(this,a),this.options=b,this.whitelist=this.options.whitelist||!1,this.logger=C.create("languageUtils")}return a.prototype.getLanguagePartFromCode=function(a){if(a.indexOf("-")<0)return a;var b=["NB-NO","NN-NO","nb-NO","nn-NO","nb-no","nn-no"],c=a.split("-");return this.formatLanguageCode(b.indexOf(a)>-1?c[1].toLowerCase():c[0])},a.prototype.getScriptPartFromCode=function(a){if(a.indexOf("-")<0)return null;var b=a.split("-");return 2===b.length?null:(b.pop(),this.formatLanguageCode(b.join("-")))},a.prototype.getLanguagePartFromCode=function(a){if(a.indexOf("-")<0)return a;var b=["NB-NO","NN-NO","nb-NO","nn-NO","nb-no","nn-no"],c=a.split("-");return this.formatLanguageCode(b.indexOf(a)>-1?c[1].toLowerCase():c[0])},a.prototype.formatLanguageCode=function(a){if("string"==typeof a&&a.indexOf("-")>-1){var b=["hans","hant","latn","cyrl","cans","mong","arab"],c=a.split("-");return this.options.lowerCaseLng?c=c.map(function(a){return a.toLowerCase()}):2===c.length?(c[0]=c[0].toLowerCase(),c[1]=c[1].toUpperCase(),b.indexOf(c[1].toLowerCase())>-1&&(c[1]=o(c[1].toLowerCase()))):3===c.length&&(c[0]=c[0].toLowerCase(),2===c[1].length&&(c[1]=c[1].toUpperCase()),"sgn"!==c[0]&&2===c[2].length&&(c[2]=c[2].toUpperCase()),b.indexOf(c[1].toLowerCase())>-1&&(c[1]=o(c[1].toLowerCase())),b.indexOf(c[2].toLowerCase())>-1&&(c[2]=o(c[2].toLowerCase()))),c.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a},a.prototype.isWhitelisted=function(a,b){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist&&!b)&&(a=this.getLanguagePartFromCode(a)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(a)>-1},a.prototype.getFallbackCodes=function(a,b){if(!a)return[];if("string"==typeof a&&(a=[a]),"[object Array]"===Object.prototype.toString.apply(a))return a;var c=a[b];return c||(c=a[this.getScriptPartFromCode(b)]),c||(c=a[this.formatLanguageCode(b)]),c||(c=a.default),c||[]},a.prototype.toResolveHierarchy=function(a,b){var c=this,d=this.getFallbackCodes(b||this.options.fallbackLng||[],a),e=[],f=function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a&&(c.isWhitelisted(a,b)?e.push(a):c.logger.warn("rejecting non-whitelisted language code: "+a))};return"string"==typeof a&&a.indexOf("-")>-1?("languageOnly"!==this.options.load&&f(this.formatLanguageCode(a),!0),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&f(this.getScriptPartFromCode(a),!0),"currentOnly"!==this.options.load&&f(this.getLanguagePartFromCode(a))):"string"==typeof a&&f(this.formatLanguageCode(a)),d.forEach(function(a){e.indexOf(a)<0&&f(c.formatLanguageCode(a))}),e},a}(),J=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","es_ar","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt","pt_br","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],K={1:function(a){return Number(a>1)},2:function(a){return Number(1!=a)},3:function(a){return 0},4:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?1:2)},5:function(a){return Number(0===a?0:1==a?1:2==a?2:a%100>=3&&a%100<=10?3:a%100>=11?4:5)},6:function(a){return Number(1==a?0:a>=2&&a<=4?1:2)},7:function(a){return Number(1==a?0:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?1:2)},8:function(a){return Number(1==a?0:2==a?1:8!=a&&11!=a?2:3)},9:function(a){return Number(a>=2)},10:function(a){return Number(1==a?0:2==a?1:a<7?2:a<11?3:4)},11:function(a){return Number(1==a||11==a?0:2==a||12==a?1:a>2&&a<20?2:3)},12:function(a){return Number(a%10!=1||a%100==11)},13:function(a){return Number(0!==a)},14:function(a){return Number(1==a?0:2==a?1:3==a?2:3)},15:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&(a%100<10||a%100>=20)?1:2)},16:function(a){return Number(a%10==1&&a%100!=11?0:0!==a?1:2)},17:function(a){return Number(1==a||a%10==1?0:1)},18:function(a){return Number(0==a?0:1==a?1:2)},19:function(a){return Number(1==a?0:0===a||a%100>1&&a%100<11?1:a%100>10&&a%100<20?2:3)},20:function(a){return Number(1==a?0:0===a||a%100>0&&a%100<20?1:2)},21:function(a){return Number(a%100==1?1:a%100==2?2:a%100==3||a%100==4?3:0)}},L=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(this,a),this.languageUtils=b,this.options=c,this.logger=C.create("pluralResolver"),this.rules=p()}return a.prototype.addRule=function(a,b){this.rules[a]=b},a.prototype.getRule=function(a){return this.rules[this.languageUtils.getLanguagePartFromCode(a)]},a.prototype.needsPlural=function(a){var b=this.getRule(a);return!(b&&b.numbers.length<=1)},a.prototype.getSuffix=function(a,b){var c=this,d=this.getRule(a);if(!d)return this.logger.warn("no plural rule found for: "+a),"";var e=function(){if(1===d.numbers.length)return{v:""};var a=d.noAbs?d.plurals(b):d.plurals(Math.abs(b)),e=d.numbers[a];2===d.numbers.length&&1===d.numbers[0]&&(2===e?e="plural":1===e&&(e=""));var f=function(){return c.options.prepend&&e.toString()?c.options.prepend+e.toString():e.toString()};return"v1"===c.options.compatibilityJSON?1===e?{v:""}:"number"==typeof e?{v:"_plural_"+e.toString()}:{v:f()}:"v2"===c.options.compatibilityJSON||2===d.numbers.length&&1===d.numbers[0]?{v:f()}:2===d.numbers.length&&1===d.numbers[0]?{v:f()}:{v:c.options.prepend&&a.toString()?c.options.prepend+a.toString():a.toString()}}();return"object"===("undefined"==typeof e?"undefined":u(e))?e.v:void 0},a}(),M=function(){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(this,b),this.logger=C.create("interpolator"),this.init(a,!0)}return b.prototype.init=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments[1];b&&(this.options=a,this.format=a.interpolation&&a.interpolation.format||function(a){return a},this.escape=a.interpolation&&a.interpolation.escape||i),a.interpolation||(a.interpolation={escapeValue:!0});var c=a.interpolation;this.escapeValue=void 0===c.escapeValue||c.escapeValue,this.prefix=c.prefix?h(c.prefix):c.prefixEscaped||"{{",this.suffix=c.suffix?h(c.suffix):c.suffixEscaped||"}}",this.formatSeparator=c.formatSeparator?h(c.formatSeparator):c.formatSeparator||",",this.unescapePrefix=c.unescapeSuffix?"":c.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":c.unescapeSuffix||"",this.nestingPrefix=c.nestingPrefix?h(c.nestingPrefix):c.nestingPrefixEscaped||h("$t("),this.nestingSuffix=c.nestingSuffix?h(c.nestingSuffix):c.nestingSuffixEscaped||h(")"),this.resetRegExp()},b.prototype.reset=function(){this.options&&this.init(this.options)},b.prototype.resetRegExp=function(){var a=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(a,"g");var b=this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(b,"g");var c=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(c,"g")},b.prototype.interpolate=function(b,c,d){function e(a){return a.replace(/\$/g,"$$$$")}var g=this,h=void 0,i=void 0,j=function(a){if(a.indexOf(g.formatSeparator)<0)return f(c,a);var b=a.split(g.formatSeparator),e=b.shift().trim(),h=b.join(g.formatSeparator).trim();
return g.format(f(c,e),h,d)};for(this.resetRegExp();h=this.regexpUnescape.exec(b);){var k=j(h[1].trim());b=b.replace(h[0],k),this.regexpUnescape.lastIndex=0}for(;h=this.regexp.exec(b);)i=j(h[1].trim()),"string"!=typeof i&&(i=a(i)),i||(this.logger.warn("missed to pass in variable "+h[1]+" for interpolating "+b),i=""),i=e(this.escapeValue?this.escape(i):i),b=b.replace(h[0],i),this.regexp.lastIndex=0;return b},b.prototype.nest=function(b,c){function d(a){return a.replace(/\$/g,"$$$$")}function e(a){if(a.indexOf(",")<0)return a;var b=a.split(",");a=b.shift();var c=b.join(",");c=this.interpolate(c,j),c=c.replace(/'/g,'"');try{j=JSON.parse(c)}catch(b){this.logger.error("failed parsing options string in nesting for key "+a,b)}return a}var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},g=void 0,h=void 0,j=JSON.parse(JSON.stringify(f));for(j.applyPostProcessor=!1;g=this.nestingRegexp.exec(b);)h=c(e.call(this,g[1].trim()),j),"string"!=typeof h&&(h=a(h)),h||(this.logger.warn("missed to pass in variable "+g[1]+" for interpolating "+b),h=""),h=d(this.escapeValue?i(h):h),b=b.replace(g[0],h),this.regexp.lastIndex=0;return b},b}(),N=function(a){function b(c,d,e){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};v(this,b);var g=y(this,a.call(this));return g.backend=c,g.store=d,g.services=e,g.options=f,g.logger=C.create("backendConnector"),g.state={},g.queue=[],g.backend&&g.backend.init&&g.backend.init(e,f.backend,f),g}return x(b,a),b.prototype.queueLoad=function(a,b,c){var d=this,e=[],f=[],g=[],h=[];return a.forEach(function(a){var c=!0;b.forEach(function(b){var g=a+"|"+b;d.store.hasResourceBundle(a,b)?d.state[g]=2:d.state[g]<0||(1===d.state[g]?f.indexOf(g)<0&&f.push(g):(d.state[g]=1,c=!1,f.indexOf(g)<0&&f.push(g),e.indexOf(g)<0&&e.push(g),h.indexOf(b)<0&&h.push(b)))}),c||g.push(a)}),(e.length||f.length)&&this.queue.push({pending:f,loaded:{},errors:[],callback:c}),{toLoad:e,pending:f,toLoadLanguages:g,toLoadNamespaces:h}},b.prototype.loaded=function(a,b,c){var d=this,f=a.split("|"),g=z(f,2),h=g[0],i=g[1];b&&this.emit("failedLoading",h,i,b),c&&this.store.addResourceBundle(h,i,c),this.state[a]=b?-1:2,this.queue.forEach(function(c){e(c.loaded,[h],i),q(c.pending,a),b&&c.errors.push(b),0!==c.pending.length||c.done||(d.emit("loaded",c.loaded),c.errors.length?c.callback(c.errors):c.callback(),c.done=!0)}),this.queue=this.queue.filter(function(a){return!a.done})},b.prototype.read=function(a,b,c,d,e,f){var g=this;return d||(d=0),e||(e=250),a.length?void this.backend[c](a,b,function(h,i){return h&&i&&d<5?void setTimeout(function(){g.read.call(g,a,b,c,++d,2*e,f)},e):void f(h,i)}):f(null,{})},b.prototype.load=function(a,b,c){var d=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();var e=w({},this.backend.options,this.options.backend);"string"==typeof a&&(a=this.services.languageUtils.toResolveHierarchy(a)),"string"==typeof b&&(b=[b]);var g=this.queueLoad(a,b,c);return g.toLoad.length?void(e.allowMultiLoading&&this.backend.readMulti?this.read(g.toLoadLanguages,g.toLoadNamespaces,"readMulti",null,null,function(a,b){a&&d.logger.warn("loading namespaces "+g.toLoadNamespaces.join(", ")+" for languages "+g.toLoadLanguages.join(", ")+" via multiloading failed",a),!a&&b&&d.logger.log("loaded namespaces "+g.toLoadNamespaces.join(", ")+" for languages "+g.toLoadLanguages.join(", ")+" via multiloading",b),g.toLoad.forEach(function(c){var e=c.split("|"),g=z(e,2),h=g[0],i=g[1],j=f(b,[h,i]);if(j)d.loaded(c,a,j);else{var k="loading namespace "+i+" for language "+h+" via multiloading failed";d.loaded(c,k),d.logger.error(k)}})}):!function(){var a=function(a){var b=this,c=a.split("|"),d=z(c,2),e=d[0],f=d[1];this.read(e,f,"read",null,null,function(c,d){c&&b.logger.warn("loading namespace "+f+" for language "+e+" failed",c),!c&&d&&b.logger.log("loaded namespace "+f+" for language "+e,d),b.loaded(a,c,d)})};g.toLoad.forEach(function(b){a.call(d,b)})}()):void(g.pending.length||c())},b.prototype.reload=function(a,b){var c=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var d=w({},this.backend.options,this.options.backend);"string"==typeof a&&(a=this.services.languageUtils.toResolveHierarchy(a)),"string"==typeof b&&(b=[b]),d.allowMultiLoading&&this.backend.readMulti?this.read(a,b,"readMulti",null,null,function(d,e){d&&c.logger.warn("reloading namespaces "+b.join(", ")+" for languages "+a.join(", ")+" via multiloading failed",d),!d&&e&&c.logger.log("reloaded namespaces "+b.join(", ")+" for languages "+a.join(", ")+" via multiloading",e),a.forEach(function(a){b.forEach(function(b){var g=f(e,[a,b]);if(g)c.loaded(a+"|"+b,d,g);else{var h="reloading namespace "+b+" for language "+a+" via multiloading failed";c.loaded(a+"|"+b,h),c.logger.error(h)}})})}):!function(){var d=function(a){var b=this,c=a.split("|"),d=z(c,2),e=d[0],f=d[1];this.read(e,f,"read",null,null,function(c,d){c&&b.logger.warn("reloading namespace "+f+" for language "+e+" failed",c),!c&&d&&b.logger.log("reloaded namespace "+f+" for language "+e,d),b.loaded(a,c,d)})};a.forEach(function(a){b.forEach(function(b){d.call(c,a+"|"+b)})})}()},b.prototype.saveMissing=function(a,b,c,d){this.backend&&this.backend.create&&this.backend.create(a,b,c,d),a&&a[0]&&this.store.addResource(a[0],b,c,d)},b}(D),O=function(a){function b(c,d,e){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};v(this,b);var g=y(this,a.call(this));return g.cache=c,g.store=d,g.services=e,g.options=f,g.logger=C.create("cacheConnector"),g.cache&&g.cache.init&&g.cache.init(e,f.cache,f),g}return x(b,a),b.prototype.load=function(a,b,c){var d=this;if(!this.cache)return c&&c();var e=w({},this.cache.options,this.options.cache);"string"==typeof a&&(a=this.services.languageUtils.toResolveHierarchy(a)),"string"==typeof b&&(b=[b]),e.enabled?this.cache.load(a,function(b,e){if(b&&d.logger.error("loading languages "+a.join(", ")+" from cache failed",b),e)for(var f in e)for(var g in e[f])if("i18nStamp"!==g){var h=e[f][g];h&&d.store.addResourceBundle(f,g,h)}c&&c()}):c&&c()},b.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},b}(D),P=function(a){function b(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments[1];v(this,b);var e=y(this,a.call(this));return e.options=s(c),e.services={},e.logger=C,e.modules={},d&&!e.isInitialized&&e.init(c,d),e}return x(b,a),b.prototype.init=function(a,b){function c(a){if(a)return"function"==typeof a?new a:a}var d=this;if("function"==typeof a&&(b=a,a={}),a||(a={}),"v1"===a.compatibilityAPI?this.options=w({},r(),s(k(a)),{}):"v1"===a.compatibilityJSON?this.options=w({},r(),s(l(a)),{}):this.options=w({},r(),this.options,s(a)),b||(b=t),!this.options.isClone){this.modules.logger?C.init(c(this.modules.logger),this.options):C.init(null,this.options);var e=new I(this.options);this.store=new F(this.options.resources,this.options);var f=this.services;f.logger=C,f.resourceStore=this.store,f.resourceStore.on("added removed",function(a,b){f.cacheConnector.save()}),f.languageUtils=e,f.pluralResolver=new L(e,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON}),f.interpolator=new M(this.options),f.backendConnector=new N(c(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),e=1;e<b;e++)c[e-1]=arguments[e];d.emit.apply(d,[a].concat(c))}),f.backendConnector.on("loaded",function(a){f.cacheConnector.save()}),f.cacheConnector=new O(c(this.modules.cache),f.resourceStore,f,this.options),f.cacheConnector.on("*",function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),e=1;e<b;e++)c[e-1]=arguments[e];d.emit.apply(d,[a].concat(c))}),this.modules.languageDetector&&(f.languageDetector=c(this.modules.languageDetector),f.languageDetector.init(f,this.options.detection,this.options)),this.translator=new H(this.services,this.options),this.translator.on("*",function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),e=1;e<b;e++)c[e-1]=arguments[e];d.emit.apply(d,[a].concat(c))})}var g=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"];g.forEach(function(a){d[a]=function(){return this.store[a].apply(this.store,arguments)}}),"v1"===this.options.compatibilityAPI&&n(this);var h=function(){d.changeLanguage(d.options.lng,function(a,c){d.isInitialized=!0,d.emit("initialized",d.options),d.logger.log("initialized",d.options),b(a,c)})};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),this},b.prototype.loadResources=function(a){var b=this;if(a||(a=t),this.options.resources)a(null);else{var c=function(){if(b.language&&"cimode"===b.language.toLowerCase())return{v:a()};var c=[],d=function(a){var d=b.services.languageUtils.toResolveHierarchy(a);d.forEach(function(a){c.indexOf(a)<0&&c.push(a)})};d(b.language),b.options.preload&&b.options.preload.forEach(function(a){d(a)}),b.services.cacheConnector.load(c,b.options.ns,function(){b.services.backendConnector.load(c,b.options.ns,a)})}();if("object"===("undefined"==typeof c?"undefined":u(c)))return c.v}},b.prototype.reloadResources=function(a,b){a||(a=this.languages),b||(b=this.options.ns),this.services.backendConnector.reload(a,b)},b.prototype.use=function(a){return"backend"===a.type&&(this.modules.backend=a),"cache"===a.type&&(this.modules.cache=a),("logger"===a.type||a.log&&a.warn&&a.warn)&&(this.modules.logger=a),"languageDetector"===a.type&&(this.modules.languageDetector=a),"postProcessor"===a.type&&G.addPostProcessor(a),this},b.prototype.changeLanguage=function(a,b){var c=this,d=function(d){a&&(c.emit("languageChanged",a),c.logger.log("languageChanged",a)),b&&b(d,function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];return c.t.apply(c,b)})};!a&&this.services.languageDetector&&(a=this.services.languageDetector.detect()),a&&(this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.translator.changeLanguage(a),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage(a)),this.loadResources(function(a){d(a)})},b.prototype.getFixedT=function(a,b){var c=this,d=function a(b){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=w({},d);return e.lng=e.lng||a.lng,e.ns=e.ns||a.ns,c.t(b,e)};return d.lng=a,d.ns=b,d},b.prototype.t=function(){return this.translator&&this.translator.translate.apply(this.translator,arguments)},b.prototype.exists=function(){return this.translator&&this.translator.exists.apply(this.translator,arguments)},b.prototype.setDefaultNamespace=function(a){this.options.defaultNS=a},b.prototype.loadNamespaces=function(a,b){var c=this;return this.options.ns?("string"==typeof a&&(a=[a]),a.forEach(function(a){c.options.ns.indexOf(a)<0&&c.options.ns.push(a)}),void this.loadResources(b)):b&&b()},b.prototype.loadLanguages=function(a,b){"string"==typeof a&&(a=[a]);var c=this.options.preload||[],d=a.filter(function(a){return c.indexOf(a)<0});return d.length?(this.options.preload=c.concat(d),void this.loadResources(b)):b()},b.prototype.dir=function(a){if(a||(a=this.language),!a)return"rtl";var b=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return b.indexOf(this.services.languageUtils.getLanguagePartFromCode(a))>=0?"rtl":"ltr"},b.prototype.createInstance=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments[1];return new b(a,c)},b.prototype.cloneInstance=function(){var a=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments[1],e=new b(w({},c,this.options,{isClone:!0}),d),f=["store","services","language"];return f.forEach(function(b){e[b]=a[b]}),e.translator=new H(e.services,e.options),e.translator.on("*",function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];e.emit.apply(e,[a].concat(c))}),e},b}(D),Q=new P;return Q})},function(a,b,c){!function(b,c){a.exports=c()}(this,function(){"use strict";function a(a){return f.call(g.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a}function b(a,b,c,d,e){if(d&&"object"===("undefined"==typeof d?"undefined":h(d))){var f="",g=encodeURIComponent;for(var i in d)f+="&"+g(i)+"="+g(d[i]);d=f.slice(1)+(e?"":"&_t="+new Date)}try{var j=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");j.open(d?"POST":"GET",a,1),b.crossDomain||j.setRequestHeader("X-Requested-With","XMLHttpRequest"),j.withCredentials=!!b.withCredentials,d&&j.setRequestHeader("Content-type","application/x-www-form-urlencoded");var k=b.customHeaders;if(k)for(var l in k)j.setRequestHeader(l,k[l]);j.onreadystatechange=function(){j.readyState>3&&c&&c(j.responseText,j)},j.send(d)}catch(a){console&&console.log(a)}}function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function d(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,crossDomain:!1,ajax:b}}var e=[],f=e.forEach,g=e.slice,h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=function(){function b(a){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,b),this.init(a,d),this.type="backend"}return i(b,[{key:"init",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=b,this.options=a(c,this.options||{},d())}},{key:"readMulti",value:function(a,b,c){var d=this.options.loadPath;"function"==typeof this.options.loadPath&&(d=this.options.loadPath(a,b));var e=this.services.interpolator.interpolate(d,{lng:a.join("+"),ns:b.join("+")});this.loadUrl(e,c)}},{key:"read",value:function(a,b,c){var d=this.options.loadPath;"function"==typeof this.options.loadPath&&(d=this.options.loadPath([a],[b]));var e=this.services.interpolator.interpolate(d,{lng:a,ns:b});this.loadUrl(e,c)}},{key:"loadUrl",value:function(a,b){var c=this;this.options.ajax(a,this.options,function(d,e){if(e.status>=500&&e.status<600)return b("failed loading "+a,!0);if(e.status>=400&&e.status<500)return b("failed loading "+a,!1);var f=void 0,g=void 0;try{f=c.options.parse(d,a)}catch(b){g="failed parsing "+a+" to json"}return g?b(g,!1):void b(null,f)})}},{key:"create",value:function(a,b,c,d){var e=this;"string"==typeof a&&(a=[a]);var f={};f[c]=d||"",a.forEach(function(a){var c=e.services.interpolator.interpolate(e.options.addPath,{lng:a,ns:b});e.options.ajax(c,e.options,function(a,b){},f)})}}]),b}();return j.type="backend",j})},function(a,b,c){!function(b,c){a.exports=c()}(this,function(){"use strict";function a(a){return f.call(g.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a}function b(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function c(){return{enabled:!1,prefix:"i18next_res_",expirationTime:6048e5}}var d={};d.classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},d.createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();var e=[],f=e.forEach,g=e.slice,h={setItem:function(a,b){if(window.localStorage)try{window.localStorage.setItem(a,b)}catch(a){}},getItem:function(a,b){if(window.localStorage)try{return window.localStorage.getItem(a,b)}catch(a){return}}},i=function(){function e(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];d.classCallCheck(this,e),this.init(a,c),this.type="cache",this.debouncedStore=b(this.store,1e4)}return d.createClass(e,[{key:"init",value:function(b){var d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.services=b,this.options=a(d,this.options||{},c())}},{key:"load",value:function(a,b){var c=this,d={},e=(new Date).getTime();window.localStorage&&!function(){var f=a.length;a.forEach(function(a){var g=h.getItem(c.options.prefix+a);g&&(g=JSON.parse(g),g.i18nStamp&&g.i18nStamp+c.options.expirationTime>e&&(d[a]=g)),f--,0===f&&b(null,d)})}()}},{key:"store",value:function(a){if(window.localStorage)for(var b in a)a[b].i18nStamp=(new Date).getTime(),h.setItem(this.options.prefix+b,JSON.stringify(a[b]))}},{key:"save",value:function(a){this.debouncedStore(a)}}]),e}();return i.type="cache",i})},function(a,b,c){!function(b,c){a.exports=c()}(this,function(){"use strict";function a(){var b=arguments[0],c=a.cache;return c[b]&&c.hasOwnProperty(b)||(c[b]=a.parse(b)),a.format.call(null,c[b],arguments)}function b(b,c,d){return d=(c||[]).slice(0),d.splice(0,0,b),a.apply(null,d)}function c(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}function d(a,b){return Array(b+1).join(a)}var e={};e.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};var f={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};a.format=function(b,e){var g,h,i,j,k,l,m,n=1,o=b.length,p="",q=[],r=!0,s="";for(h=0;h<o;h++)if(p=c(b[h]),"string"===p)q[q.length]=b[h];else if("array"===p){if(j=b[h],j[2])for(g=e[n],i=0;i<j[2].length;i++){if(!g.hasOwnProperty(j[2][i]))throw new Error(a("[sprintf] property '%s' does not exist",j[2][i]));g=g[j[2][i]]}else g=j[1]?e[j[1]]:e[n++];if("function"==c(g)&&(g=g()),f.not_string.test(j[8])&&f.not_json.test(j[8])&&"number"!=c(g)&&isNaN(g))throw new TypeError(a("[sprintf] expecting number but found %s",c(g)));switch(f.number.test(j[8])&&(r=g>=0),j[8]){case"b":g=g.toString(2);break;case"c":g=String.fromCharCode(g);break;case"d":case"i":g=parseInt(g,10);break;case"j":g=JSON.stringify(g,null,j[6]?parseInt(j[6]):0);break;case"e":g=j[7]?g.toExponential(j[7]):g.toExponential();break;case"f":g=j[7]?parseFloat(g).toFixed(j[7]):parseFloat(g);break;case"g":g=j[7]?parseFloat(g).toPrecision(j[7]):parseFloat(g);break;case"o":g=g.toString(8);break;case"s":g=(g=String(g))&&j[7]?g.substring(0,j[7]):g;break;case"u":g>>>=0;break;case"x":g=g.toString(16);break;case"X":g=g.toString(16).toUpperCase()}f.json.test(j[8])?q[q.length]=g:(!f.number.test(j[8])||r&&!j[3]?s="":(s=r?"+":"-",g=g.toString().replace(f.sign,"")),l=j[4]?"0"===j[4]?"0":j[4].charAt(1):" ",m=j[6]-(s+g).length,k=j[6]&&m>0?d(l,m):"",q[q.length]=j[5]?s+g+k:"0"===l?s+k+g:k+s+g)}return q.join("")},a.cache={},a.parse=function(a){for(var b=a,c=[],d=[],e=0;b;){if(null!==(c=f.text.exec(b)))d[d.length]=c[0];else if(null!==(c=f.modulo.exec(b)))d[d.length]="%";else{if(null===(c=f.placeholder.exec(b)))throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){e|=1;var g=[],h=c[2],i=[];if(null===(i=f.key.exec(h)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(g[g.length]=i[1];""!==(h=h.substring(i[0].length));)if(null!==(i=f.key_access.exec(h)))g[g.length]=i[1];else{if(null===(i=f.index_access.exec(h)))throw new SyntaxError("[sprintf] failed to parse named argument key");g[g.length]=i[1]}c[2]=g}else e|=2;if(3===e)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");d[d.length]=c}b=b.substring(c[0].length)}return d};var g={name:"sprintf",type:"postProcessor",process:function(c,d,f){return f.sprintf?"[object Array]"===Object.prototype.toString.apply(f.sprintf)?b(c,f.sprintf):"object"===e.typeof(f.sprintf)?a(c,f.sprintf):c:c},overloadTranslationOptionHandler:function(a){for(var b=[],c=1;c<a.length;c++)b.push(a[c]);return{postProcess:"sprintf",sprintf:b}}};return g})},function(a,b,c){!function(b,c){a.exports=c()}(this,function(){"use strict";function a(a){return e.call(f.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a}function b(){return{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"]}}var c={};c.classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},c.createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();var d=[],e=d.forEach,f=d.slice,g={create:function(a,b,c,d){var e=void 0;if(c){var f=new Date;f.setTime(f.getTime()+60*c*1e3),e="; expires="+f.toGMTString()}else e="";d=d?"domain="+d+";":"",document.cookie=a+"="+b+e+";"+d+"path=/"},read:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null},remove:function(a){this.create(a,"",-1)}},h={name:"cookie",lookup:function(a){var b=void 0;if(a.lookupCookie&&"undefined"!=typeof document){var c=g.read(a.lookupCookie);c&&(b=c)}return b},cacheUserLanguage:function(a,b){b.lookupCookie&&"undefined"!=typeof document&&g.create(b.lookupCookie,a,b.cookieMinutes,b.cookieDomain)}},i={name:"querystring",lookup:function(a){var b=void 0;if("undefined"!=typeof window)for(var c=window.location.search.substring(1),d=c.split("&"),e=0;e<d.length;e++){var f=d[e].indexOf("=");if(f>0){var g=d[e].substring(0,f);g===a.lookupQuerystring&&(b=d[e].substring(f+1))}}return b}},j=void 0;try{j="undefined"!==window&&null!==window.localStorage;var k="i18next.translate.boo";window.localStorage.setItem(k,"foo"),window.localStorage.removeItem(k)}catch(a){j=!1}var l={name:"localStorage",lookup:function(a){var b=void 0;if(a.lookupLocalStorage&&j){var c=window.localStorage.getItem(a.lookupLocalStorage);c&&(b=c)}return b},cacheUserLanguage:function(a,b){b.lookupLocalStorage&&j&&window.localStorage.setItem(b.lookupLocalStorage,a)}},m={name:"navigator",lookup:function(a){var b=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var c=0;c<navigator.languages.length;c++)b.push(navigator.languages[c]);navigator.userLanguage&&b.push(navigator.userLanguage),navigator.language&&b.push(navigator.language)}return b.length>0?b:void 0}},n={name:"htmlTag",lookup:function(a){var b=void 0,c=a.htmlTag||("undefined"!=typeof document?document.documentElement:null);return c&&"function"==typeof c.getAttribute&&(b=c.getAttribute("lang")),b}},o=function(){function d(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];c.classCallCheck(this,d),this.type="languageDetector",this.detectors={},this.init(a,b)}return c.createClass(d,[{key:"init",value:function(c){var d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this.services=c,this.options=a(d,this.options||{},b()),this.i18nOptions=e,this.addDetector(h),this.addDetector(i),this.addDetector(l),this.addDetector(m),this.addDetector(n)}},{key:"addDetector",value:function(a){this.detectors[a.name]=a}},{key:"detect",value:function(a){var b=this;a||(a=this.options.order);var c=[];a.forEach(function(a){if(b.detectors[a]){var d=b.detectors[a].lookup(b.options);d&&"string"==typeof d&&(d=[d]),d&&(c=c.concat(d))}});var d=void 0;return c.forEach(function(a){if(!d){var c=b.services.languageUtils.formatLanguageCode(a);b.services.languageUtils.isWhitelisted(c)&&(d=c)}}),d||this.i18nOptions.fallbackLng[0]}},{key:"cacheUserLanguage",value:function(a,b){var c=this;b||(b=this.options.caches),b&&b.forEach(function(b){c.detectors[b]&&c.detectors[b].cacheUserLanguage(a,c.options)})}}]),d}();return o.type="languageDetector",o})}])}),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b(require("cdp.i18n"),require("cdp.promise"),require("backbone"),require("jquery")):"function"==typeof define&&define.amd?define("cdp.framework.jqm",["cdp.i18n","cdp.promise","backbone","jquery"],b):"object"==typeof exports?exports["CDP.Framework"]=b(require("cdp.i18n"),require("cdp.promise"),require("backbone"),require("jquery")):a["CDP.Framework"]=b(a.CDP,a.CDP,a.Backbone,a.jQuery)}(this,function(a,b,c,d){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){var d,e;(function(){!function(f,g){d=[c(1),c(2),c(3)],e=function(){return g(f.CDP||(f.CDP={}))}.apply(b,d),!(void 0!==e&&(a.exports=e))}(this,function(a){a.Framework=a.Framework||{};var a;!function(a){var b;!function(b){b.Platform=function(){var b=navigator.userAgent.toLowerCase(),c=function(a){var c=b.match(new RegExp("("+a+")( |/)([0-9]+)"));return!c||c.length<4?0:parseInt(c[3],10)};return{ltIE6:"undefined"==typeof window.addEventListener&&"undefined"==typeof document.documentElement.style.maxHeight,ltIE7:"undefined"==typeof window.addEventListener&&"undefined"==typeof document.querySelectorAll,ltIE8:"undefined"==typeof window.addEventListener&&"undefined"==typeof document.getElementsByClassName,ltIE9:document.uniqueID&&"undefined"==typeof window.matchMedia,gtIE10:document.uniqueID&&window.matchMedia,Trident:document.uniqueID,Gecko:"MozAppearance"in document.documentElement.style,Presto:a.global.opera,Blink:a.global.chrome,Webkit:"undefined"==typeof a.global.chrome&&"WebkitAppearance"in document.documentElement.style,Touch:"undefined"!=typeof a.global.ontouchstart,Mobile:"undefined"!=typeof a.global.orientation,ltAd4_4:"undefined"!=typeof a.global.orientation&&("undefined"==typeof a.global.EventSource||30>c("chrome")),Pointer:a.global.navigator.pointerEnabled,MSPoniter:a.global.navigator.msPointerEnabled,Android:b.indexOf("android")!==-1,iOS:b.indexOf("iphone")!==-1||b.indexOf("ipad")!==-1||b.indexOf("ipod")!==-1}}()}(b=a.Framework||(a.Framework={}))}(a||(a={}));var a;!function(a){var b;!function(a){var b=function(){var a=$.fn.on,b=$.fn.off,c=function(b,c,d,e,f){return"string"==typeof b&&(b=b.replace(/vclick/g,"click")),_.bind(a,this)(b,c,d,e,f)},d=function(a,c,d){return"string"==typeof a&&(a=a.replace(/vclick/g,"click")),_.bind(b,this)(a,c,d)};$.fn.on=c,$.fn.off=d},c=function(){function c(){}return c.apply=function(){c.isSupportedVclick()||(b(),c.s_vclickEvent="click")},c.isSupportedVclick=function(){return!(a.Platform.Android&&!a.Platform.ltAd4_4)},c}();c.s_vclickEvent="vclick",a.Patch=c}(b=a.Framework||(a.Framework={}))}(a||(a={}));var a;!function(a){var b;!function(a){function b(){var a=$(window);return a.width()<a.height()?c.PORTRAIT:c.LANDSCAPE}var c;!function(a){a[a.PORTRAIT=0]="PORTRAIT",a[a.LANDSCAPE=1]="LANDSCAPE"}(c=a.Orientation||(a.Orientation={})),a.getOrientation=b}(b=a.Framework||(a.Framework={}))}(a||(a={}));var a;!function(a){var b;!function(b){function c(b){return null!=b[0]&&"/"===b[0]?a.webRoot+b.slice(1):$.mobile.path.makeUrlAbsolute(b,d())}function d(){var a=$("body").pagecontainer("getActivePage");if(null==a)return $.mobile.path.documentBase.hrefNoHash;var b=$.mobile.activePage.closest(".ui-page").jqmData("url"),c=$.mobile.path.documentBase.hrefNoHash;return b&&$.mobile.path.isPath(b)||(b=c),$.mobile.path.makeUrlAbsolute(b,c)}function e(a){if(null==a)return f;var b=f;return f=a,b}b.toUrl=c;var f=function(){return $.Deferred().resolve().promise()},g=f;b.setBeforeRouteChangeHandler=e;var h=function(){function c(){}return c.initialize=function(a){var d=$("body");return c.s_router?(console.warn("logic error. initialize call twice."),!1):(c.s_initOptions=$.extend({},c.s_defaultInitOptions,a),c.s_loadUrl=_.bind(Backbone.history.loadUrl,Backbone.history),Backbone.history.loadUrl=c.customLoadUrl,c.s_router=new Backbone.Router,c.s_router.on("route",c.onRouteSucceeded),$.mobile.hashListeningEnabled||(c.s_back=_.bind($.mobile.back,$.mobile),$.mobile.back=c.customJqmBack),null==$.mobile.changePage&&($.mobile.changePage=function(a,b){d.pagecontainer("change",a,b)}),c.bindEvents(),b.setupEventHandlers(),!0)},c.register=function(a,b,d,e){void 0===d&&(d=!1);var f=c.stop(),g=a+b,h={route:a,regexp:c.s_router._routeToRegExp(a),page:b,top:d,callback:e||function(){return!1}};return c.pushContext(g,h)&&c.s_router.route(a,g,function(){}),f&&c.start({silent:!0}),c},c.start=function(a){return $.mobile.hashListeningEnabled?(console.log("setting error. confict: $.mobile.hashListeningEnabled = true, cannot start."),!1):Backbone.history.start(a)},c.stop=function(){var a=Backbone.History.started;return Backbone.history.stop(),a},c.isRouting=function(){return Backbone.History.started},c.navigate=function(a,b,d,e){if(c.s_lastNavigateInfo.inNavigation)return void console.log("Router.navigate() called in navigation proc.");if(!c.initFirstPageIfNeeded(a)){var h=$.extend({},c.s_defaultNavigateOptions,e),i=c.s_lastNavigateInfo.calledBeforeRouteChange?g:f;c.s_lastNavigateInfo={url:a,transition:b,reverse:d,backDestination:h.backDestination,noHashChange:h.noHashChange,intent:h.intent||{},positiveNavigate:!0,calledBeforeRouteChange:!0,inNavigation:!0},i().fail(function(){console.error("before route change call, failed.")}).always(function(){if(c.isRouting()&&!c.s_lastNavigateInfo.noHashChange){if(h.subFlow)switch(h.subFlow.operation){case"begin":c.startSubFlow(h.subFlow);break;case"end":return void c.finishSubFlow(h);default:console.warn("unknown subFlow.operation. operation: "+h.subFlow.operation)}c.s_router.navigate(a,h)}else h.subFlow&&console.warn("subFlow only supported under routing and hash change condition."),function(){var b,d=Backbone.history.getFragment(a);b=c.s_lastNavigateInfo.noHashChange?_.find(c.s_rootContexts,function(a){return a.regexp.test(d)}):_.findWhere(c.s_rootContexts,{route:d}),b&&(a=b.page)}(),c.changePage(a)})}},c.navigateFromTop=function(a,b,d,e){var f=c.getJqmHistory().stack,g=f[c.getJqmHistory().activeIndex],h=b||g.transition,i=null==d||d,j=function(){return a?"string"==typeof a?[{route:a}]:a instanceof Array?a:[a]:null}();f.forEach(function(a){delete a[c.SUBFLOW_PARAM]}),f[0][c.SUBFLOW_PARAM]={operation:"begin",destBase:f[0].hash,destStacks:j,additionalDistance:0},c.navigate(null,h,i,$.extend({},e,{subFlow:{operation:"end"}}))},c.back=function(){if(c.s_lastNavigateInfo.inNavigation)return void console.log("Router.back() called in navigation proc.");if(c.isTopPage()){var a=navigator.app||{};if(a.exitApp)return void a.exitApp()}c.s_lastNavigateInfo={inNavigation:!0,calledBeforeRouteChange:!0},f().then(function(){$.mobile.back()}).fail(function(){console.error("before route change call, failed."),c.s_lastNavigateInfo={}})},c.pushIntent=function(a){c.s_lastIntent=$.extend(!0,c.s_lastIntent,a)},c.popIntent=function(){var a=c.s_lastIntent;return c.s_lastIntent={},a},c.getQueryParameters=function(){return c.s_lastNavigateInfo.intent&&c.s_lastNavigateInfo.intent.params?c.s_lastNavigateInfo.intent.params.queryParams:null},c.beginSubFlow=function(a,b,d,e){var f=$.extend({},b);return f.subFlow=f.subFlow||{operation:"begin"},"begin"!==f.subFlow.operation?void console.error("logic error. invalid subflow operation. [operation: "+f.subFlow.operation+"]"):void c.navigate(a,d,e,f);
},c.commitSubFlow=function(a,b){c.navigate(null,a,b,{subFlow:{operation:"end"}})},c.cancelSubFlow=function(a,b){var d=c.detectSubFlowBaseInfo();d.subFlowParam.additionalDistance=0,c.navigate(null,a,null==b||b,{subFlow:{operation:"end",destStacks:null}})},c.isInSubFlow=function(){var a=c.getJqmHistory().stack,b=_.some(a,function(a){return!!a[c.SUBFLOW_PARAM]});return b},c.fromHashChanged=function(){return c.s_lastNavigateInfo.inNavigation&&null==c.s_lastNavigateInfo.positiveNavigate},c.registerPageStack=function(a,b,d){var e=[],f=!1;return a=a instanceof Array?a:[a],b=null!=b&&b,function(){for(var b=function(a){var b,d,e=Backbone.history.getFragment(a.route),f=_.find(c.s_rootContexts,function(a){return a.regexp.test(e)});return f?(b=c.pathToJqmDataUrl(f.page),d={route:a.route,pageUrl:b,title:a.title,transition:a.transition,url:b}):(console.warn("route is not registered. route: "+a.route),null)},d=0,g=a.length;d<g;d++){var h=b(a[d]);if(!h){f=!0;break}e.push(h)}}(),!f&&(function(){var a=c.stop(),f=e.length-1,g=e.length-1;c.getJqmHistory().clearForward();for(var h=0,i=f;h<i;h++)location.hash=e[h].route,c.getJqmHistory().stack.push(e[h]),c.getJqmHistory().activeIndex=c.getJqmHistory().stack.length-1;if(b){var j=function(){return null!=c.s_lastNavigateInfo.transition?c.s_lastNavigateInfo.transition:e[g].transition}(),k=function(){return null!=c.s_lastNavigateInfo.reverse&&c.s_lastNavigateInfo.reverse}();a=!1,c.start({silent:!0}),c.navigate(e[g].route,j,k,d)}else location.hash=e[g].route,c.getJqmHistory().stack.push(e[g]),c.getJqmHistory().activeIndex=c.getJqmHistory().stack.length-1;a&&c.start({silent:!0})}(),!0)},c.getJqmHistory=function(){return $.mobile.navigate.history},c.customLoadUrl=function(a){var b=c.s_loadUrl(a);return b||c.onRouteFailed(a),b},c.customJqmBack=function(){c.isRouting()?history.back():c.s_back()},c.bindEvents=function(){$(document).one("pagechange",function(){c.s_initOptions.anchorVclick&&$(document).on("vclick","[href]",function(a){c.onAnchorVclicked(a)})}).on("pagebeforeshow",function(a){if(null!=c.s_lastNavigateInfo.backDestination){var b=c.getJqmHistory().getActive();b[c.BACK_DESTINATION_URL]=c.s_lastNavigateInfo.backDestination}}).on("pageshow",function(a){var b=c.getJqmHistory().getActive();b[c.SUBFLOW_PARAM]&&delete b[c.SUBFLOW_PARAM]}).on("pagechange pagecontainerloadfailed",function(a){c.s_lastNavigateInfo={}}),a.setBackButtonHandler(c.back)},c.pushContext=function(a,b){return c.s_rootContexts[a]?(console.log("logic error. route is already registered. name: "+a),!1):(c.s_rootContexts[a]=b,!0)},c.initFirstPageIfNeeded=function(a){return!$.mobile.autoInitializePage&&($(document).one("pagebeforechange",function(c,d){d.toPage=b.toUrl(a)}),$.mobile.initializePage(),$.mobile.autoInitializePage=!0,!0)},c.isTopPage=function(){var a=Backbone.history.getFragment($.mobile.path.parseUrl(location.href).hash),b=_.find(c.s_rootContexts,function(b){return b.regexp.test(a)});return null!=b&&b.top},c.onAnchorVclicked=function(a){return c.isJustBeforeVclicked()?(a.preventDefault(),!1):c.followAnchor(a)},c.followAnchor=function(a){var b=$(a.currentTarget),d=b.jqmData("href")||b.attr("href"),e=b.jqmData("transition"),f=b.jqmData("direction"),g=b.attr(c.DATA_BACK_DESTINATION),h=!!b.attr(c.DATA_NO_HASH_CHANGE)&&"true"===b.attr(c.DATA_NO_HASH_CHANGE),i=!!b.attr(c.DATA_NO_VCLICK_HANDLE)&&"true"===b.attr(c.DATA_NO_VCLICK_HANDLE);return!(!i&&!c.needDefaultOperation(d))||(a.preventDefault(),c.isBackButtonClicked(a)?c.back():c.navigate(d,e,!!f,{noHashChange:h,backDestination:g}),!1)},c.needDefaultOperation=function(a){return!a||"#"===a||"#"===a[0]&&!c.canResolveRoute(a)},c.canResolveRoute=function(a){var b=Backbone.history.getFragment(a);return _.any(Backbone.history.handlers,function(a){if(a.route.test(b))return!0})},c.isJustBeforeVclicked=function(){var a=Date.now()-c.s_lastClickedTime<2*c.DELAY_TIME;return c.s_lastClickedTime=Date.now(),a},c.isBackButtonClicked=function(a){return"back"===$(a.currentTarget).jqmData("rel")},c.onRouteSucceeded=function(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];var e=c.s_rootContexts[a];if(e){var f={params:{queryParams:b}};c.s_lastNavigateInfo.inNavigation=!0,null!=c.s_lastNavigateInfo.intent&&(f.params=$.extend({},f.params,c.s_lastNavigateInfo.intent.params||{})),c.s_lastNavigateInfo.intent=$.extend({},c.s_lastNavigateInfo.intent,f);var g=e.callback(b);g||c.changePage(e.page)}},c.onRouteFailed=function(a){if(c.s_lastNavigateInfo.inNavigation=!0,null==a&&(a=Backbone.history.getFragment()),c.s_lastNavigateInfo.positiveNavigate){var b=c.s_rootContexts[a];null==b&&(b={route:a,regexp:c.s_router._routeToRegExp(a),page:c.s_lastNavigateInfo.url,top:!1,callback:null},c.pushContext(a,b))}var d=a;null!=c.s_rootContexts[a]&&(d=c.s_rootContexts[a].page),c.changePage(d)},c.changePage=function(a){var d;if(c.s_lastNavigateInfo.positiveNavigate)c.getJqmHistory().previousIndex=c.getJqmHistory().activeIndex;else{if(c.s_lastNavigateInfo.inAdditionalBack)c.s_lastNavigateInfo.inAdditionalBack=!1;else{c.decideDirection(a);var e=c.detectAdditionalBackDistance();if(0<e)return c.s_lastNavigateInfo.inAdditionalBack=!0,c.getJqmHistory().activeIndex-=e,void history.go(-e)}var h=c.detectSubFlowBaseInfo();h.isCurrent&&delete h.stack[c.SUBFLOW_PARAM]}d=c.s_lastNavigateInfo.calledBeforeRouteChange?g:f,d().then(function(){c.s_lastNavigateInfo.intent&&c.pushIntent(c.s_lastNavigateInfo.intent),c.treatUrlHistory(),$.mobile.changePage(b.toUrl(a),{showLoadMsg:!1,allowSamePageTransition:!0,transition:c.s_lastNavigateInfo.transition||"none",reverse:c.s_lastNavigateInfo.reverse,fromHashChange:!c.s_lastNavigateInfo.positiveNavigate,changeHash:!c.s_lastNavigateInfo.noHashChange})}).fail(function(){console.error("before route change call, failed."),c.s_lastNavigateInfo={}})},c.decideDirection=function(a){var d=$.mobile.path.convertUrlToDataUrl(b.toUrl(a));null==c.s_lastNavigateInfo.transition&&(c.s_lastNavigateInfo.transition=c.getJqmHistory().getActive().transition),c.getJqmHistory().direct({url:d,present:function(a,b){switch(b){case"back":null==c.s_lastNavigateInfo.reverse&&(c.s_lastNavigateInfo.reverse=!0);break;case"forward":null==c.s_lastNavigateInfo.transition&&(c.s_lastNavigateInfo.transition=a.transition);break;default:console.log("unknown direction: "+b)}},missing:function(){1===c.getJqmHistory().activeIndex?(c.getJqmHistory().previousIndex=1,c.getJqmHistory().activeIndex=0,null==c.s_lastNavigateInfo.reverse&&(c.s_lastNavigateInfo.reverse=!0)):0!==c.getJqmHistory().activeIndex&&console.log("unknown direction.")}})},c.detectAdditionalBackDistance=function(){var a,b,d,e,f,g,h=c.getJqmHistory().stack,i=c.getJqmHistory().activeIndex,j=c.getJqmHistory().previousIndex;if(!c.s_lastNavigateInfo.reverse||null==j||!h[j])return 0;if(b=h[j][c.BACK_DESTINATION_URL],null==b)return 0;if(e=Backbone.history.getFragment(b),""===e)return i;if(f=_.find(c.s_rootContexts,function(a){return a.regexp.test(e)}),null==f)return console.warn("back destination is not registered. back-dst: "+b),0;for(g=c.pathToJqmDataUrl(f.page),a=i,d=0;0<=a&&g!==h[a].pageUrl;a--,d++);return a<0?(console.warn("back destination does not exist in history. back-dst: "+b),0):d},c.startSubFlow=function(a){var b=c.getJqmHistory().getActive(),d=a;a.destBase?!function(){var b=0,e=Backbone.history.getFragment(a.destBase),f=_.find(c.s_rootContexts,function(a){return a.regexp.test(e)});if(null==f)return void console.warn("base destination is not registered. destBase: "+a.destBase);for(var g=c.pathToJqmDataUrl(f.page),h=c.getJqmHistory().stack,i=c.getJqmHistory().activeIndex;0<=i;i--,b++)if(g===h[i].pageUrl){d.additionalDistance=b;break}}():(d.destBase=location.hash,d.additionalDistance=0),b[c.SUBFLOW_PARAM]=d},c.finishSubFlow=function(a){var b=$.extend(!0,{},a),d=c.detectSubFlowBaseInfo(),e=$.extend({},d.subFlowParam,b.subFlow),f=d.distance,g=d.stack,h=0,i=100,j=10,k=function(){j<=h?(console.error("reached navigate max retry count."),c.s_lastNavigateInfo={}):e.destBase!==location.hash?(h++,setTimeout(k,i)):(c.s_lastNavigateInfo.inNavigation=!1,c.registerPageStack(e.destStacks,!0,b))};g?(delete g[c.SUBFLOW_PARAM],c.getJqmHistory().activeIndex-=f,c.getJqmHistory().clearForward(),e.destStacks?(c.stop(),0!==f&&history.go(-f),delete b.subFlow,setTimeout(k,0)):(c.s_lastNavigateInfo.positiveNavigate=!1,history.go(-f))):(console.warn("subFlow begin status does not exist in history."),c.s_lastNavigateInfo={})},c.detectSubFlowBaseInfo=function(){var a,b,d,e=c.getJqmHistory().stack,f=c.getJqmHistory().activeIndex,g={};for(a=f,b=0;0<=a;a--,b++)if(e[a][c.SUBFLOW_PARAM]){d=e[a],g=e[a][c.SUBFLOW_PARAM];break}return null==g.additionalDistance&&(g.additionalDistance=0),{stack:d,subFlowParam:g,distance:b+g.additionalDistance,isCurrent:function(){return!(!d||0!==b)}()}},c.pathToJqmDataUrl=function(a){var c=b.toUrl(a),d=$.mobile.path.convertUrlToDataUrl(c);return d},c.treatUrlHistory=function(){(c.s_lastNavigateInfo.positiveNavigate||history.length<c.getJqmHistory().stack.length)&&c.getJqmHistory().clearForward()},c}();h.s_initOptions={},h.s_router=null,h.s_rootContexts={},h.s_lastNavigateInfo={},h.s_lastClickedTime=null,h.s_lastIntent={},h.s_loadUrl=null,h.s_back=null,h.DELAY_TIME=200,h.DATA_BACK_DESTINATION="data-back-dst",h.DATA_NO_HASH_CHANGE="data-no-hash-change",h.DATA_NO_VCLICK_HANDLE="data-no-vclick-handle",h.BACK_DESTINATION_URL="backDstUrl",h.SUBFLOW_PARAM="subFlowParam",h.s_defaultInitOptions={anchorVclick:!0},h.s_defaultNavigateOptions={trigger:!0,replace:!1,intent:null},b.Router=h}(b=a.Framework||(a.Framework={}))}(a||(a={}));var a;!function(a){function b(){var b=$.Deferred();return a.Framework.Platform.Mobile?null==a.global.cordova||null==a.global.cordova.exec?$(document).one("deviceready",function(){b.resolve()}):b.resolve():setTimeout(function(){b.resolve()},100),b.promise()}function d(a){var b=e;return e=a,b}a.waitForDeviceReady=b;var e=null;a.setBackButtonHandler=d,function(){b().done(function(){$(document).on("backbutton",function(a){e&&e(a)})})}();var f;!function(b){function d(d){var e=$.Deferred(),f=k(d);return m.calling?(console.warn(l+"cdp.framework.jqm is already initialized, ignored."),e.resolve()):(m.calling=!0,a.initialize({success:function(){f.applyPatch&&b.Patch.apply(),f.jquery(),$(document).on("mobileinit",function(){f.jquerymobile(),a.initializeI18N(f.i18n).always(function(a){$(document).one("pagebeforechange",function(a,b){b.options.showLoadMsg=!1}).on("pagebeforecreate",function(a){$(a.target).localize()}),b.Router.initialize({anchorVclick:f.anchorVclick})?(m.done=!0,e.resolve()):(console.error(l+"error. CDP.Framework.Router.initialize() failed."),m.calling=!1,e.reject())})});var d=~~$.fn.jquery.split(".")[0];3<=d?(4<=d&&console.warn(l+"jquery-migrate for 3.0.0+ in use."),!function(){var a=[c(4)];(function(){![c(6)]}).apply(null,a)}()):![c(6)]},fail:function(a){console.error(l+"error. CDP.initialize() failed."),m.calling=!1,e.reject()}}),e.promise())}function e(){return m.done}function f(a,b){o[a]=b}function g(a){delete o[a]}function h(){!function(){var b=a.setBackButtonHandler(null),c=function(a){n&&n.onHardwareBackButton(a)||b(a)};a.setBackButtonHandler(c)}(),function(){var b=a.Framework.setBeforeRouteChangeHandler(null),c=function(){return n?n.onBeforeRouteChange():b()};a.Framework.setBeforeRouteChangeHandler(c)}()}function i(a){n=a,n&&(p=b.getOrientation())}function j(){return b.Patch.s_vclickEvent}function k(b){var c={jquery:function(){$.support.cors=!0,$.ajaxSetup({cache:!1})},jquerymobile:function(){$.mobile.allowCrossDomainPages=!0,$.mobile.defaultPageTransition="none",$.mobile.hashListeningEnabled=!1,$.mobile.pushStateEnabled=!1},i18n:{},applyPatch:!0,anchorVclick:!0};return $.extend({},c,a.global.Config,b)}var l="[CDP.Framework] ",m={done:!1,calling:!1},n=null,o={},p=null;b.initialize=d,b.isInitialized=e,b.registerOrientationChangedListener=f,b.unregisterOrientationChangedListener=g,b.setupEventHandlers=h,b.setActivePage=i,b.getDefaultClickEvent=j,$(window).on("resize",function(a){var c=b.getOrientation();if(p!==c){for(var d in o)o[d].onOrientationChanged(c);n&&n.onOrientationChanged(c),p=c}})}(f=a.Framework||(a.Framework={}))}(a||(a={}));var a;return function(a){var b;!function(a){var b=function(){function b(a,b,c){this._url=a,this._id=b,this.setup(c)}return Object.defineProperty(b.prototype,"active",{get:function(){return!!this._$page&&this._$page.hasClass("ui-page-active")},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"$page",{get:function(){return this._$page},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"$header",{get:function(){return this._$header},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"$footer",{get:function(){return this._$footer},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"intent",{get:function(){return this._intent},set:function(a){this._intent=a,this._intent._update=!0},enumerable:!0,configurable:!0}),b.prototype.onOrientationChanged=function(a){this._owner&&this._owner.onOrientationChanged(a)},b.prototype.onHardwareBackButton=function(a){return!!this._owner&&this._owner.onHardwareBackButton(a)},b.prototype.onBeforeRouteChange=function(){return this._owner?this._owner.onBeforeRouteChange():$.Deferred().resolve().promise()},b.prototype.onCommand=function(a,b){this._owner&&this._owner.onCommand(a,b)},b.prototype.onInitialize=function(a){this._owner&&this._owner.onInitialize(a)},b.prototype.onPageBeforeCreate=function(a){this._owner&&this._owner.onPageBeforeCreate(a)},b.prototype.onPageInit=function(a){this._owner&&this._owner.onPageInit(a)},b.prototype.onPageBeforeShow=function(a,b){this._owner&&this._owner.onPageBeforeShow(a,b)},b.prototype.onPageShow=function(a,b){this._owner&&this._owner.onPageShow(a,b)},b.prototype.onPageBeforeHide=function(a,b){this._owner&&this._owner.onPageBeforeHide(a,b)},b.prototype.onPageHide=function(a,b){this._owner&&this._owner.onPageHide(a,b)},b.prototype.onPageRemove=function(a){this._owner&&this._owner.onPageRemove(a)},b.prototype.setup=function(b){var c=this;this._initialized=!1,this._intent=null;var d="#"+this._id;$(document).off("pagebeforecreate",d).on("pagebeforecreate",d,function(a){c._$page=$(d).first(),c._$header=c._$page.children(":jqmData(role=header)").first(),c._$footer=c._$page.children(":jqmData(role=footer)").first(),c._$page.on("pagecreate",function(a){c.pageInit(a)}).on("pagebeforeshow",function(a,b){c.pageBeforeShow(a,b)}).on("pageshow",function(a,b){c.pageShow(a,b)}).on("pagebeforehide",function(a,b){c.pageBeforeHide(a,b)}).on("pagehide",function(a,b){c.pageHide(a,b)}).on("pageremove",function(a){c.pageRemove(a)}),c.pageBeforeCreate(a)}),b=b||{},this._owner=b.owner,this._keepIntent=b.keepIntent,null==b.route&&(b.route=this._id),a.Router.register(b.route,this._url,b.top,b.callback)},b.prototype.getDirection=function(){var b=a.Router.getJqmHistory().activeIndex,c=a.Router.getJqmHistory().previousIndex;return null==b||null==c?"unknown":c===b?"same":b<c?"back":"forward"},b.prototype.pageBeforeCreate=function(a){this.onPageBeforeCreate(a)},b.prototype.pageInit=function(a){this._initialized||(this.onInitialize(a),this._initialized=!0),this.onPageInit(a)},b.prototype.pageBeforeShow=function(b,c){a.setActivePage(this),this._intent=a.Router.popIntent(),this.onPageBeforeShow(b,$.extend(c,{direction:this.getDirection()}))},b.prototype.pageShow=function(a,b){this.onPageShow(a,$.extend(b,{direction:this.getDirection()}))},b.prototype.pageBeforeHide=function(b,c){this.onPageBeforeHide(b,$.extend(c,{direction:this.getDirection()})),null!=this._intent&&(this._keepIntent||this._intent._update)?(delete this._intent._update,a.Router.pushIntent(this._intent)):a.Router.fromHashChanged()&&a.Router.isInSubFlow()&&a.Router.pushIntent(this._intent),this._intent=null,a.setActivePage(null)},b.prototype.pageHide=function(a,b){this.onPageHide(a,$.extend(b,{direction:this.getDirection()}))},b.prototype.pageRemove=function(a){this.onPageRemove(a),this._$page.off(),this._$page=null,this._$header.off(),this._$header=null,this._$footer.off(),this._$footer=null},b}();a.Page=b}(b=a.Framework||(a.Framework={}))}(a||(a={})),a.Framework})}).call(window)},function(b,c){b.exports=a},function(a,c){a.exports=b},function(a,b){a.exports=c},function(a,b,c){var d,e;(function(){!function(f){d=[c(5)],e=function(a){return f(a,window)}.apply(b,d),!(void 0!==e&&(a.exports=e))}(function(a,b){"use strict";function c(c){var d=b.console;f[c]||(f[c]=!0,a.migrateWarnings.push(c),d&&d.warn&&!a.migrateMute&&(d.warn("JQMIGRATE: "+c),a.migrateTrace&&d.trace&&d.trace()))}function d(a,b,d,e){Object.defineProperty(a,b,{configurable:!0,enumerable:!0,get:function(){return c(e),d},set:function(a){c(e),d=a}})}function e(a,b,d,e){a[b]=function(){return c(e),d.apply(this,arguments)}}a.migrateVersion="3.0.1-pre",function(){var c=b.console&&b.console.log&&function(){b.console.log.apply(b.console,arguments)},d=/^[12]\./;c&&(a&&!d.test(a.fn.jquery)||c("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),a.migrateWarnings&&c("JQMIGRATE: Migrate plugin loaded multiple times"),a.migrateMute||c("JQMIGRATE: Migrate is installed"+(a.migrateMute?"":" with logging active")+", version "+a.migrateVersion))}();var f={};a.migrateWarnings=[],void 0===a.migrateTrace&&(a.migrateTrace=!0),a.migrateReset=function(){f={},a.migrateWarnings.length=0},"BackCompat"===b.document.compatMode&&c("jQuery is not compatible with Quirks Mode");var g=a.fn.init,h=a.isNumeric,i=a.find,j=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,k=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g;a.fn.init=function(a){var b=Array.prototype.slice.call(arguments);return"string"==typeof a&&"#"===a&&(c("jQuery( '#' ) is not a valid selector"),b[0]=[]),g.apply(this,b)},a.fn.init.prototype=a.fn,a.find=function(a){var d=Array.prototype.slice.call(arguments);if("string"==typeof a&&j.test(a))try{b.document.querySelector(a)}catch(e){a=a.replace(k,function(a,b,c,d){return"["+b+c+'"'+d+'"]'});try{b.document.querySelector(a),c("Attribute selector with '#' must be quoted: "+d[0]),d[0]=a}catch(a){c("Attribute selector with '#' was not fixed: "+d[0])}}return i.apply(this,d)};var l;for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&(a.find[l]=i[l]);a.fn.size=function(){return c("jQuery.fn.size() is deprecated and removed; use the .length property"),this.length},a.parseJSON=function(){return c("jQuery.parseJSON is deprecated; use JSON.parse"),JSON.parse.apply(null,arguments)},a.isNumeric=function(b){function d(b){var c=b&&b.toString();return!a.isArray(b)&&c-parseFloat(c)+1>=0}var e=h(b),f=d(b);return e!==f&&c("jQuery.isNumeric() should not be called on constructed objects"),f},e(a,"unique",a.uniqueSort,"jQuery.unique is deprecated; use jQuery.uniqueSort"),d(a.expr,"filters",a.expr.pseudos,"jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"),d(a.expr,":",a.expr.pseudos,"jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos");var m=a.ajax;a.ajax=function(){var a=m.apply(this,arguments);return a.promise&&(e(a,"success",a.done,"jQXHR.success is deprecated and removed"),e(a,"error",a.fail,"jQXHR.error is deprecated and removed"),e(a,"complete",a.always,"jQXHR.complete is deprecated and removed")),a};var n=a.fn.removeAttr,o=a.fn.toggleClass,p=/\S+/g;a.fn.removeAttr=function(b){var d=this;return a.each(b.match(p),function(b,e){a.expr.match.bool.test(e)&&(c("jQuery.fn.removeAttr no longer sets boolean properties: "+e),d.prop(e,!1))}),n.apply(this,arguments)},a.fn.toggleClass=function(b){return void 0!==b&&"boolean"!=typeof b?o.apply(this,arguments):(c("jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var c=this.getAttribute&&this.getAttribute("class")||"";c&&a.data(this,"__className__",c),this.setAttribute&&this.setAttribute("class",c||b===!1?"":a.data(this,"__className__")||"")}))};var q=!1;a.swap&&a.each(["height","width","reliableMarginRight"],function(b,c){var d=a.cssHooks[c]&&a.cssHooks[c].get;d&&(a.cssHooks[c].get=function(){var a;return q=!0,a=d.apply(this,arguments),q=!1,a})}),a.swap=function(a,b,d,e){var f,g,h={};q||c("jQuery.swap() is undocumented and deprecated");for(g in b)h[g]=a.style[g],a.style[g]=b[g];f=d.apply(a,e||[]);for(g in b)a.style[g]=h[g];return f};var r=a.data;a.data=function(b,d,e){var f;if(d&&"object"==typeof d&&2===arguments.length){f=a.hasData(b)&&r.call(this,b);var g={};for(var h in d)h!==a.camelCase(h)?(c("jQuery.data() always sets/gets camelCased names: "+h),f[h]=d[h]):g[h]=d[h];return r.call(this,b,g),d}return d&&"string"==typeof d&&d!==a.camelCase(d)&&(f=a.hasData(b)&&r.call(this,b),f&&d in f)?(c("jQuery.data() always sets/gets camelCased names: "+d),arguments.length>2&&(f[d]=e),f[d]):r.apply(this,arguments)};var s=a.Tween.prototype.run;a.Tween.prototype.run=function(){if(a.easing[this.easing].length>1){c('easing function "jQuery.easing.'+this.easing.toString()+'" should use only first argument');var b=a.easing[this.easing];a.easing[this.easing]=function(c){return b.call(a.easing,c,c,0,1,1)}.bind(this)}s.apply(this,arguments)},a.fx.interval=a.fx.interval||13,b.requestAnimationFrame&&d(a.fx,"interval",a.fx.interval,"jQuery.fx.interval is deprecated");var t=a.fn.load,u=a.event.add,v=a.event.fix;a.event.props=[],a.event.fixHooks={},d(a.event.props,"concat",a.event.props.concat,"jQuery.event.props.concat() is deprecated and removed"),a.event.fix=function(b){var d,e=b.type,f=this.fixHooks[e],g=a.event.props;if(g.length)for(c("jQuery.event.props are deprecated and removed: "+g.join());g.length;)a.event.addProp(g.pop());if(f&&!f._migrated_&&(f._migrated_=!0,c("jQuery.event.fixHooks are deprecated and removed: "+e),(g=f.props)&&g.length))for(;g.length;)a.event.addProp(g.pop());return d=v.call(this,b),f&&f.filter?f.filter(d,b):d},a.event.add=function(a,d){return a===b&&"load"===d&&"complete"===b.document.readyState&&c("jQuery(window).on('load'...) called after load event occurred"),u.apply(this,arguments)},a.each(["load","unload","error"],function(b,d){a.fn[d]=function(){var a=Array.prototype.slice.call(arguments,0);return"load"===d&&"string"==typeof a[0]?t.apply(this,a):(c("jQuery.fn."+d+"() is deprecated"),a.splice(0,0,d),arguments.length?this.on.apply(this,a):(this.triggerHandler.apply(this,a),this))}}),a(function(){a(b.document).triggerHandler("ready")}),a.event.special.ready={setup:function(){this===b.document&&c("'ready' event is deprecated")}},a.fn.extend({bind:function(a,b,d){return c("jQuery.fn.bind() is deprecated"),this.on(a,null,b,d)},unbind:function(a,b){return c("jQuery.fn.unbind() is deprecated"),this.off(a,null,b)},delegate:function(a,b,d,e){return c("jQuery.fn.delegate() is deprecated"),this.on(b,a,d,e)},undelegate:function(a,b,d){return c("jQuery.fn.undelegate() is deprecated"),1===arguments.length?this.off(a,"**"):this.off(b,a||"**",d)}});var w=a.fn.offset;a.fn.offset=function(){var d,e=this[0],f={top:0,left:0};return e&&e.nodeType?(d=(e.ownerDocument||b.document).documentElement,a.contains(d,e)?w.apply(this,arguments):(c("jQuery.fn.offset() requires an element connected to a document"),f)):(c("jQuery.fn.offset() requires a valid DOM element"),f)};var x=a.param;a.param=function(b,d){var e=a.ajaxSettings&&a.ajaxSettings.traditional;return void 0===d&&e&&(c("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),d=e),x.call(this,b,d)};var y=a.fn.andSelf||a.fn.addBack;a.fn.andSelf=function(){return c("jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),y.apply(this,arguments)};var z=a.Deferred,A=[["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),"rejected"],["notify","progress",a.Callbacks("memory"),a.Callbacks("memory")]];return a.Deferred=function(b){var d=z(),e=d.promise();return d.pipe=e.pipe=function(){var b=arguments;return c("deferred.pipe() is deprecated"),a.Deferred(function(c){a.each(A,function(f,g){var h=a.isFunction(b[f])&&b[f];d[g[1]](function(){var b=h&&h.apply(this,arguments);b&&a.isFunction(b.promise)?b.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g[0]+"With"](this===e?c.promise():this,h?[b]:arguments)})}),b=null}).promise()},b&&b.call(d,d),d},a})}).call(window)},function(a,b){a.exports=d},function(a,b,c){var d,e;(function(){!function(f,g,h){d=[c(5)],e=function(a){return h(a,f,g),a.mobile}.apply(b,d),!(void 0!==e&&(a.exports=e))}(this,document,function(a,b,c,d){!function(a){a.mobile={}}(a),function(a,b){function d(b,c){var d,f,g,h=b.nodeName.toLowerCase();return"area"===h?(d=b.parentNode,f=d.name,!(!b.href||!f||"map"!==d.nodeName.toLowerCase())&&(g=a("img[usemap=#"+f+"]")[0],!!g&&e(g))):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&e(b)}function e(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var f=0,g=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(this[0].ownerDocument||c):b},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){g.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||c>=0)&&d(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in c.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(d){if(d!==b)return this.css("zIndex",d);if(this.length)for(var e,f,g=a(this[0]);g.length&&g[0]!==c;){if(e=g.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(f=parseInt(g.css("zIndex"),10),!isNaN(f)&&0!==f))return f;g=g.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}}}(a),function(a,b,d){var e=function(b,c){var d=b.parent(),e=[],f=function(){var b=a(this),c=a.mobile.toolbar&&b.data("mobile-toolbar")?b.toolbar("option"):{position:b.attr("data-"+a.mobile.ns+"position"),updatePagePadding:b.attr("data-"+a.mobile.ns+"update-page-padding")!==!1};return!("fixed"===c.position&&c.updatePagePadding===!0)},g=d.children(":jqmData(role='header')").filter(f),h=b.children(":jqmData(role='header')"),i=d.children(":jqmData(role='footer')").filter(f),j=b.children(":jqmData(role='footer')");return 0===h.length&&g.length>0&&(e=e.concat(g.toArray())),0===j.length&&i.length>0&&(e=e.concat(i.toArray())),a.each(e,function(b,d){c-=a(d).outerHeight()}),Math.max(0,c)};a.extend(a.mobile,{window:a(b),document:a(c),keyCode:a.ui.keyCode,behaviors:{},silentScroll:function(c){"number"!==a.type(c)&&(c=a.mobile.defaultHomeScroll),a.event.special.scrollstart.enabled=!1,setTimeout(function(){b.scrollTo(0,c),a.mobile.document.trigger("silentscroll",{x:0,y:c})},20),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(b){var c=a(b).closest(".ui-page").jqmData("url"),d=a.mobile.path.documentBase.hrefNoHash;return a.mobile.dynamicBaseEnabled&&c&&a.mobile.path.isPath(c)||(c=d),a.mobile.path.makeUrlAbsolute(c,d)},removeActiveLinkClass:function(b){!a.mobile.activeClickedLink||a.mobile.activeClickedLink.closest("."+a.mobile.activePageClass).length&&!b||a.mobile.activeClickedLink.removeClass(a.mobile.activeBtnClass),a.mobile.activeClickedLink=null},getInheritedTheme:function(a,b){for(var c,d,e=a[0],f="",g=/ui-(bar|body|overlay)-([a-z])\b/;e&&(c=e.className||"",!(c&&(d=g.exec(c))&&(f=d[2])));)e=e.parentNode;return f||b||"a"},enhanceable:function(a){return this.haveParents(a,"enhance")},hijackable:function(a){return this.haveParents(a,"ajax")},haveParents:function(b,c){if(!a.mobile.ignoreContentEnabled)return b;var d,e,f,g,h,i=b.length,j=a();for(g=0;g<i;g++){for(e=b.eq(g),f=!1,d=b[g];d;){if(h=d.getAttribute?d.getAttribute("data-"+a.mobile.ns+c):"","false"===h){f=!0;break}d=d.parentNode}f||(j=j.add(e))}return j},getScreenHeight:function(){return b.innerHeight||a.mobile.window.height()},resetActivePageHeight:function(b){var c=a("."+a.mobile.activePageClass),d=c.height(),f=c.outerHeight(!0);b=e(c,"number"==typeof b?b:a.mobile.getScreenHeight()),c.css("min-height",""),c.height()<b&&c.css("min-height",b-(f-d))},loading:function(){var b=this.loading._widget||a(a.mobile.loader.prototype.defaultHtml).loader(),c=b.loader.apply(b,arguments);return this.loading._widget=b,c}}),a.addDependents=function(b,c){var d=a(b),e=d.jqmData("dependents")||a();d.jqmData("dependents",a(e).add(c))},a.fn.extend({removeWithDependents:function(){a.removeWithDependents(this)},enhanceWithin:function(){var b,c={},d=a.mobile.page.prototype.keepNativeSelector(),e=this;a.mobile.nojs&&a.mobile.nojs(this),a.mobile.links&&a.mobile.links(this),a.mobile.degradeInputsWithin&&a.mobile.degradeInputsWithin(this),a.fn.buttonMarkup&&this.find(a.fn.buttonMarkup.initSelector).not(d).jqmEnhanceable().buttonMarkup(),a.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(d).jqmEnhanceable().fieldcontain(),a.each(a.mobile.widgets,function(b,f){if(f.initSelector){var g=a.mobile.enhanceable(e.find(f.initSelector));g.length>0&&(g=g.not(d)),g.length>0&&(c[f.prototype.widgetName]=g)}});for(b in c)c[b][b]();return this},addDependents:function(b){a.addDependents(this,b)},getEncodedText:function(){return a("<a>").text(this.text()).html()},jqmEnhanceable:function(){
return a.mobile.enhanceable(this)},jqmHijackable:function(){return a.mobile.hijackable(this)}}),a.removeWithDependents=function(b){var c=a(b);(c.jqmData("dependents")||a()).remove(),c.remove()},a.addDependents=function(b,c){var d=a(b),e=d.jqmData("dependents")||a();d.jqmData("dependents",a(e).add(c))},a.find.matches=function(b,c){return a.find(b,null,null,c)},a.find.matchesSelector=function(b,c){return a.find(c,null,null,[b]).length>0}}(a,this),function(a,b,c){a.extend(a.mobile,{version:"1.4.5",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:a(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}(a,this),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(a){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;h<i;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(a.isPlainObject(f)?c[e]=a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):c[e]=f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return"instance"===g?(j=e,!1):e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){if(b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled"))return("string"==typeof g?f[g]:g).apply(f,arguments)}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(a),function(a,b,c){var d={},e=a.find,f=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,g=/:jqmData\(([^)]*)\)/g;a.extend(a.mobile,{ns:"",getAttribute:function(b,c){var d;b=b.jquery?b[0]:b,b&&b.getAttribute&&(d=b.getAttribute("data-"+a.mobile.ns+c));try{d="true"===d||"false"!==d&&("null"===d?null:+d+""===d?+d:f.test(d)?JSON.parse(d):d)}catch(a){}return d},nsNormalizeDict:d,nsNormalize:function(b){return d[b]||(d[b]=a.camelCase(a.mobile.ns+b))},closestPageData:function(a){return a.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),a.fn.jqmData=function(b,d){var e;return"undefined"!=typeof b&&(b&&(b=a.mobile.nsNormalize(b)),e=arguments.length<2||d===c?this.data(b):this.data(b,d)),e},a.jqmData=function(b,c,d){var e;return"undefined"!=typeof c&&(e=a.data(b,c?a.mobile.nsNormalize(c):c,d)),e},a.fn.jqmRemoveData=function(b){return this.removeData(a.mobile.nsNormalize(b))},a.jqmRemoveData=function(b,c){return a.removeData(b,a.mobile.nsNormalize(c))},a.find=function(b,c,d,f){return b.indexOf(":jqmData")>-1&&(b=b.replace(g,"[data-"+(a.mobile.ns||"")+"$1]")),e.call(this,b,c,d,f)},a.extend(a.find,e)}(a,this),function(a,b){var c=/[A-Z]/g,d=function(a){return"-"+a.toLowerCase()};a.extend(a.Widget.prototype,{_getCreateOptions:function(){var b,e,f=this.element[0],g={};if(!a.mobile.getAttribute(f,"defaults"))for(b in this.options)e=a.mobile.getAttribute(f,b.replace(c,d)),null!=e&&(g[b]=e);return g}}),a.mobile.widget=a.Widget}(a),function(a){var b="ui-loader",c=a("html");a.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+b+"'><span class='ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var b=a("."+a.mobile.activeBtnClass).first();this.element.css({top:a.support.scrollTop&&this.window.scrollTop()+this.window.height()/2||b.length&&b.offset().top||100})},checkLoaderPosition:function(){var b=this.element.offset(),c=this.window.scrollTop(),d=a.mobile.getScreenHeight();(b.top<c||b.top-c>d)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),this.window.unbind("scroll",this.checkLoaderPosition).bind("scroll",a.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(a(this.defaultHtml).html())},show:function(d,e,f){var g,h,i;this.resetHtml(),"object"===a.type(d)?(i=a.extend({},this.options,d),d=i.theme):(i=this.options,d=d||i.theme),h=e||(i.text===!1?"":i.text),c.addClass("ui-loading"),g=i.textVisible,this.element.attr("class",b+" ui-corner-all ui-body-"+d+" ui-loader-"+(g||e||d.text?"verbose":"default")+(i.textonly||f?" ui-loader-textonly":"")),i.html?this.element.html(i.html):this.element.find("h1").text(h),this.element.appendTo(a(a.mobile.pagecontainer?":mobile-pagecontainer":"body")),this.checkLoaderPosition(),this.window.bind("scroll",a.proxy(this.checkLoaderPosition,this))},hide:function(){c.removeClass("ui-loading"),this.options.text&&this.element.removeClass("ui-loader-fakefix"),this.window.unbind("scroll",this.fakeFixLoader),this.window.unbind("scroll",this.checkLoaderPosition)}})}(a,this),function(a,b,d){"$:nomunge";function e(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var f,g="hashchange",h=c,i=a.event.special,j=h.documentMode,k="on"+g in b&&(j===d||j>7);a.fn[g]=function(a){return a?this.bind(g,a):this.trigger(g)},a.fn[g].delay=50,i[g]=a.extend(i[g],{setup:function(){return!k&&void a(f.start)},teardown:function(){return!k&&void a(f.stop)}}),f=function(){function c(){var d=e(),h=n(j);d!==j?(m(j=d,h),a(b).trigger(g)):h!==j&&(location.href=location.href.replace(/#.*/,"")+h),f=setTimeout(c,a.fn[g].delay)}var f,i={},j=e(),l=function(a){return a},m=l,n=l;return i.start=function(){f||c()},i.stop=function(){f&&clearTimeout(f),f=d},b.attachEvent&&!b.addEventListener&&!k&&function(){var b,d;i.start=function(){b||(d=a.fn[g].src,d=d&&d+e(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){d||m(e()),c()}).attr("src",d||"javascript:0").insertAfter("body")[0].contentWindow,h.onpropertychange=function(){try{"title"===event.propertyName&&(b.document.title=h.title)}catch(a){}})},i.stop=l,n=function(){return e(b.location.href)},m=function(c,d){var e=b.document,f=a.fn[g].domain;c!==d&&(e.title=h.title,e.open(),f&&e.write('<script>document.domain="'+f+'"</script>'),e.close(),b.location.hash=c)}}(),i}()}(a,this),function(a,d){b.matchMedia=b.matchMedia||function(a,b){var c,d=a.documentElement,e=d.firstElementChild||d.firstChild,f=a.createElement("body"),g=a.createElement("div");return g.id="mq-test-1",g.style.cssText="position:absolute;top:-100em",f.style.background="none",f.appendChild(g),function(a){return g.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',d.insertBefore(f,e),c=42===g.offsetWidth,d.removeChild(f),{matches:c,media:a}}}(c),a.mobile.media=function(a){return b.matchMedia(a).matches}}(a),function(a,b){var d={touch:"ontouchend"in c};a.mobile.support=a.mobile.support||{},a.extend(a.support,d),a.extend(a.mobile.support,d)}(a),function(a,c){a.extend(a.support,{orientation:"orientation"in b&&"onorientationchange"in b})}(a),function(a,d){function e(a){var b,c=a.charAt(0).toUpperCase()+a.substr(1),e=(a+" "+o.join(c+" ")+c).split(" ");for(b in e)if(n[e[b]]!==d)return!0}function f(){var c=b,d=!(!c.document.createElementNS||!c.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||c.opera&&navigator.userAgent.indexOf("Chrome")===-1),e=function(b){b&&d||a("html").addClass("ui-nosvg")},f=new c.Image;f.onerror=function(){e(!1)},f.onload=function(){e(1===f.width&&1===f.height)},f.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}function g(){var e,f,g,h="transform-3d",i=a.mobile.media("(-"+o.join("-"+h+"),(-")+"-"+h+"),("+h+")");if(i)return!!i;e=c.createElement("div"),f={MozTransform:"-moz-transform",transform:"transform"},m.append(e);for(g in f)e.style[g]!==d&&(e.style[g]="translate3d( 100px, 1px, 1px )",i=b.getComputedStyle(e).getPropertyValue(f[g]));return!!i&&"none"!==i}function h(){var b,c,d=location.protocol+"//"+location.host+location.pathname+"ui-dir/",e=a("head base"),f=null,g="";return e.length?g=e.attr("href"):e=f=a("<base>",{href:d}).appendTo("head"),b=a("<a href='testurl' />").prependTo(m),c=b[0].href,e[0].href=g||location.pathname,f&&f.remove(),0===c.indexOf(d)}function i(){var a,d=c.createElement("x"),e=c.documentElement,f=b.getComputedStyle;return"pointerEvents"in d.style&&(d.style.pointerEvents="auto",d.style.pointerEvents="x",e.appendChild(d),a=f&&"auto"===f(d,"").pointerEvents,e.removeChild(d),!!a)}function j(){var a=c.createElement("div");return"undefined"!=typeof a.getBoundingClientRect}function k(){var a=b,c=navigator.userAgent,d=navigator.platform,e=c.match(/AppleWebKit\/([0-9]+)/),f=!!e&&e[1],g=c.match(/Fennec\/([0-9]+)/),h=!!g&&g[1],i=c.match(/Opera Mobi\/([0-9]+)/),j=!!i&&i[1];return!((d.indexOf("iPhone")>-1||d.indexOf("iPad")>-1||d.indexOf("iPod")>-1)&&f&&f<534||a.operamini&&"[object OperaMini]"==={}.toString.call(a.operamini)||i&&j<7458||c.indexOf("Android")>-1&&f&&f<533||h&&h<6||"palmGetResource"in b&&f&&f<534||c.indexOf("MeeGo")>-1&&c.indexOf("NokiaBrowser/8.5.0")>-1)}var l,m=a("<body>").prependTo("html"),n=m[0].style,o=["Webkit","Moz","O"],p="palmGetResource"in b,q=b.operamini&&"[object OperaMini]"==={}.toString.call(b.operamini),r=b.blackberry&&!e("-webkit-transform");a.extend(a.mobile,{browser:{}}),a.mobile.browser.oldIE=function(){var a=3,b=c.createElement("div"),d=b.all||[];do b.innerHTML="<!--[if gt IE "+ ++a+"]><br><![endif]-->";while(d[0]);return a>4?a:!a}(),a.extend(a.support,{pushState:"pushState"in history&&"replaceState"in history&&!(b.navigator.userAgent.indexOf("Firefox")>=0&&b.top!==b)&&b.navigator.userAgent.search(/CriOS/)===-1,mediaquery:a.mobile.media("only all"),cssPseudoElement:!!e("content"),touchOverflow:!!e("overflowScrolling"),cssTransform3d:g(),boxShadow:!!e("boxShadow")&&!r,fixedPosition:k(),scrollTop:("pageXOffset"in b||"scrollTop"in c.documentElement||"scrollTop"in m[0])&&!p&&!q,dynamicBaseTag:h(),cssPointerEvents:i(),boundingRect:j(),inlineSVG:f}),m.remove(),l=function(){var a=b.navigator.userAgent;return a.indexOf("Nokia")>-1&&(a.indexOf("Symbian/3")>-1||a.indexOf("Series60/5")>-1)&&a.indexOf("AppleWebKit")>-1&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),a.mobile.gradeA=function(){return(a.support.mediaquery&&a.support.cssPseudoElement||a.mobile.browser.oldIE&&a.mobile.browser.oldIE>=8)&&(a.support.boundingRect||null!==a.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},a.mobile.ajaxBlacklist=b.blackberry&&!b.WebKitPoint||q||l,l&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),a.support.boxShadow||a("html").addClass("ui-noboxshadow")}(a),function(a,b){var c,d=a.mobile.window,e=function(){};a.event.special.beforenavigate={setup:function(){d.on("navigate",e)},teardown:function(){d.off("navigate",e)}},a.event.special.navigate=c={bound:!1,pushStateEnabled:!0,originalEventName:b,isPushStateEnabled:function(){return a.support.pushState&&a.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return a.mobile.hashListeningEnabled===!0},popstate:function(b){var c=new a.Event("navigate"),e=new a.Event("beforenavigate"),f=b.originalEvent.state||{};e.originalEvent=b,d.trigger(e),e.isDefaultPrevented()||(b.historyState&&a.extend(f,b.historyState),c.originalEvent=b,setTimeout(function(){d.trigger(c,{state:f})},0))},hashchange:function(b){var c=new a.Event("navigate"),e=new a.Event("beforenavigate");e.originalEvent=b,d.trigger(e),e.isDefaultPrevented()||(c.originalEvent=b,d.trigger(c,{state:b.hashchangeState||{}}))},setup:function(){c.bound||(c.bound=!0,c.isPushStateEnabled()?(c.originalEventName="popstate",d.bind("popstate.navigate",c.popstate)):c.isHashChangeEnabled()&&(c.originalEventName="hashchange",d.bind("hashchange.navigate",c.hashchange)))}}}(a),function(a,c){var d,e,f="&ui-state=dialog";a.mobile.path=d={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(a){var b=this.parseUrl(a||location.href),c=a?b:location,d=b.hash;return d="#"===d?"":d,c.protocol+b.doubleSlash+c.host+(""!==c.protocol&&"/"!==c.pathname.substring(0,1)?"/":"")+c.pathname+c.search+d},getDocumentUrl:function(b){return b?a.extend({},d.documentUrl):d.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(b){if("object"===a.type(b))return b;var c=d.urlParseRE.exec(b||"")||[];return{href:c[0]||"",hrefNoHash:c[1]||"",hrefNoSearch:c[2]||"",domain:c[3]||"",protocol:c[4]||"",doubleSlash:c[5]||"",authority:c[6]||"",username:c[8]||"",password:c[9]||"",host:c[10]||"",hostname:c[11]||"",port:c[12]||"",pathname:c[13]||"",directory:c[14]||"",filename:c[15]||"",search:c[16]||"",hash:c[17]||""}},makePathAbsolute:function(a,b){var c,d,e,f;if(a&&"/"===a.charAt(0))return a;for(a=a||"",b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",c=b?b.split("/"):[],d=a.split("/"),e=0;e<d.length;e++)switch(f=d[e]){case".":break;case"..":c.length&&c.pop();break;default:c.push(f)}return"/"+c.join("/")},isSameDomain:function(a,b){return d.parseUrl(a).domain.toLowerCase()===d.parseUrl(b).domain.toLowerCase()},isRelativeUrl:function(a){return""===d.parseUrl(a).protocol},isAbsoluteUrl:function(a){return""!==d.parseUrl(a).protocol},makeUrlAbsolute:function(a,b){if(!d.isRelativeUrl(a))return a;b===c&&(b=this.documentBase);var e=d.parseUrl(a),f=d.parseUrl(b),g=e.protocol||f.protocol,h=e.protocol?e.doubleSlash:e.doubleSlash||f.doubleSlash,i=e.authority||f.authority,j=""!==e.pathname,k=d.makePathAbsolute(e.pathname||f.filename,f.pathname),l=e.search||!j&&f.search||"",m=e.hash;return g+h+i+k+l+m},addSearchParams:function(b,c){var e=d.parseUrl(b),f="object"==typeof c?a.param(c):c,g=e.search||"?";return e.hrefNoSearch+g+("?"!==g.charAt(g.length-1)?"&":"")+f+(e.hash||"")},convertUrlToDataUrl:function(a){var c=a,e=d.parseUrl(a);return d.isEmbeddedPage(e)?c=e.hash.split(f)[0].replace(/^#/,"").replace(/\?.*$/,""):d.isSameDomain(e,this.documentBase)&&(c=e.hrefNoHash.replace(this.documentBase.domain,"").split(f)[0]),b.decodeURIComponent(c)},get:function(a){return a===c&&(a=d.parseLocation().hash),d.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(a){location.hash=a},isPath:function(a){return/\//.test(a)},clean:function(a){return a.replace(this.documentBase.domain,"")},stripHash:function(a){return a.replace(/^#/,"")},stripQueryParams:function(a){return a.replace(/\?.*$/,"")},cleanHash:function(a){return d.stripHash(a.replace(/\?.*$/,"").replace(f,""))},isHashValid:function(a){return/^#[^#]+$/.test(a)},isExternal:function(a){var b=d.parseUrl(a);return!(!b.protocol||b.domain.toLowerCase()===this.documentUrl.domain.toLowerCase())},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isEmbeddedPage:function(a){var b=d.parseUrl(a);return""!==b.protocol?!this.isPath(b.hash)&&b.hash&&(b.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&b.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(b.href)},squash:function(a,b){var c,e,f,g,h,i=this.isPath(a),j=this.parseUrl(a),k=j.hash,l="";return b||(i?b=d.getLocation():(h=d.getDocumentUrl(!0),b=d.isPath(h.hash)?d.squash(h.href):h.href)),e=i?d.stripHash(a):a,e=d.isPath(j.hash)?d.stripHash(j.hash):e,g=e.indexOf(this.uiStateKey),g>-1&&(l=e.slice(g),e=e.slice(0,g)),c=d.makeUrlAbsolute(e,b),f=this.parseUrl(c).search,i?((d.isPath(k)||0===k.replace("#","").indexOf(this.uiStateKey))&&(k=""),l&&k.indexOf(this.uiStateKey)===-1&&(k+=l),k.indexOf("#")===-1&&""!==k&&(k="#"+k),c=d.parseUrl(c),c=c.protocol+c.doubleSlash+c.host+c.pathname+f+k):c+=c.indexOf("#")>-1?l:"#"+l,c},isPreservableHash:function(a){return 0===a.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(a){var b="#"===a.substring(0,1);return b&&(a=a.substring(1)),(b?"#":"")+a.replace(/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(a){return a&&a.split(f)[0]},isFirstPageUrl:function(b){var e=d.parseUrl(d.makeUrlAbsolute(b,this.documentBase)),f=e.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&e.hrefNoHash===this.documentBase.hrefNoHash,g=a.mobile.firstPage,h=g&&g[0]?g[0].id:c;return f&&(!e.hash||"#"===e.hash||h&&e.hash.replace(/^#/,"")===h)},isPermittedCrossDomainRequest:function(b,c){return a.mobile.allowCrossDomainPages&&("file:"===b.protocol||"content:"===b.protocol)&&c.search(/^https?:/)!==-1}},d.documentUrl=d.parseLocation(),e=a("head").find("base"),d.documentBase=e.length?d.parseUrl(d.makeUrlAbsolute(e.attr("href"),d.documentUrl.href)):d.documentUrl,d.documentBaseDiffers=d.documentUrl.hrefNoHash!==d.documentBase.hrefNoHash,d.getDocumentBase=function(b){return b?a.extend({},d.documentBase):d.documentBase.href},a.extend(a.mobile,{getDocumentUrl:d.getDocumentUrl,getDocumentBase:d.getDocumentBase})}(a),function(a,b){a.mobile.History=function(a,b){this.stack=a||[],this.activeIndex=b||0},a.extend(a.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(a,b){b=b||{},this.getNext()&&this.clearForward(),b.hash&&b.hash.indexOf("#")===-1&&(b.hash="#"+b.hash),b.url=a,this.stack.push(b),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(a,b,c){b=b||this.stack;var d,e,f,g=b.length;for(e=0;e<g;e++)if(d=b[e],(decodeURIComponent(a)===decodeURIComponent(d.url)||decodeURIComponent(a)===decodeURIComponent(d.hash))&&(f=e,c))return f;return f},closest:function(a){var c,d=this.activeIndex;return c=this.find(a,this.stack.slice(0,d)),c===b&&(c=this.find(a,this.stack.slice(d),!0),c=c===b?c:c+d),c},direct:function(c){var d=this.closest(c.url),e=this.activeIndex;d!==b&&(this.activeIndex=d,this.previousIndex=e),d<e?(c.present||c.back||a.noop)(this.getActive(),"back"):d>e?(c.present||c.forward||a.noop)(this.getActive(),"forward"):d===b&&c.missing&&c.missing(this.getActive())}})}(a),function(a,d){var e=a.mobile.path,f=location.href;a.mobile.Navigator=function(b){this.history=b,this.ignoreInitialHashChange=!0,a.mobile.window.bind({"popstate.history":a.proxy(this.popstate,this),"hashchange.history":a.proxy(this.hashchange,this)})},a.extend(a.mobile.Navigator.prototype,{squash:function(d,f){var g,h,i=e.isPath(d)?e.stripHash(d):d;return h=e.squash(d),g=a.extend({hash:i,url:h},f),b.history.replaceState(g,g.title||c.title,h),g},hash:function(a,b){var c,d,f,g;return c=e.parseUrl(a),d=e.parseLocation(),d.pathname+d.search===c.pathname+c.search?f=c.hash?c.hash:c.pathname+c.search:e.isPath(a)?(g=e.parseUrl(b),f=g.pathname+g.search+(e.isPreservableHash(g.hash)?g.hash.replace("#",""):"")):f=a,f},go:function(d,f,g){var h,i,j,k,l=a.event.special.navigate.isPushStateEnabled();i=e.squash(d),j=this.hash(d,i),g&&j!==e.stripHash(e.parseLocation().hash)&&(this.preventNextHashChange=g),this.preventHashAssignPopState=!0,b.location.hash=j,this.preventHashAssignPopState=!1,h=a.extend({url:i,hash:j,title:c.title},f),l&&(k=new a.Event("popstate"),k.originalEvent={type:"popstate",state:null},this.squash(d,h),g||(this.ignorePopState=!0,a.mobile.window.trigger(k))),this.history.add(h.url,h)},popstate:function(b){var c,d;if(a.event.special.navigate.isPushStateEnabled())return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,void b.stopImmediatePropagation()):this.ignorePopState?void(this.ignorePopState=!1):!b.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===f)?void b.preventDefault():(c=e.parseLocation().hash,!b.originalEvent.state&&c?(d=this.squash(c),this.history.add(d.url,d),void(b.historyState=d)):void this.history.direct({url:(b.originalEvent.state||{}).url||c,present:function(c,d){b.historyState=a.extend({},c),b.historyState.direction=d}}))},hashchange:function(b){var d,f;if(a.event.special.navigate.isHashChangeEnabled()&&!a.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,void b.stopImmediatePropagation();d=this.history,f=e.parseLocation().hash,this.history.direct({url:f,present:function(c,d){b.hashchangeState=a.extend({},c),b.hashchangeState.direction=d},missing:function(){d.add(f,{hash:f,title:c.title})}})}}})}(a),function(a,b){a.mobile.navigate=function(b,c,d){a.mobile.navigate.navigator.go(b,c,d)},a.mobile.navigate.history=new a.mobile.History,a.mobile.navigate.navigator=new a.mobile.Navigator(a.mobile.navigate.history);var c=a.mobile.path.parseLocation();a.mobile.navigate.history.add(c.href,{hash:c.hash})}(a),function(a,b){var d={animation:{},transition:{}},e=c.createElement("a"),f=["","webkit-","moz-","o-"];a.each(["animation","transition"],function(c,g){var h=0===c?g+"-name":g;a.each(f,function(c,f){if(e.style[a.camelCase(f+h)]!==b)return d[g].prefix=f,!1}),d[g].duration=a.camelCase(d[g].prefix+g+"-duration"),d[g].event=a.camelCase(d[g].prefix+g+"-end"),""===d[g].prefix&&(d[g].event=d[g].event.toLowerCase())}),a.support.cssTransitions=d.transition.prefix!==b,a.support.cssAnimations=d.animation.prefix!==b,a(e).remove(),a.fn.animationComplete=function(e,f,g){var h,i,j=this,k=function(){clearTimeout(h),e.apply(this,arguments)},l=f&&"animation"!==f?"transition":"animation";return a.support.cssTransitions&&"transition"===l||a.support.cssAnimations&&"animation"===l?(g===b&&(a(this).context!==c&&(i=3e3*parseFloat(a(this).css(d[l].duration))),(0===i||i===b||isNaN(i))&&(i=a.fn.animationComplete.defaultDuration)),h=setTimeout(function(){a(j).off(d[l].event,k),e.apply(j)},i),a(this).one(d[l].event,k)):(setTimeout(a.proxy(e,this),0),a(this))},a.fn.animationComplete.defaultDuration=1e3}(a),function(a,b,c,d){function e(a){for(;a&&"undefined"!=typeof a.originalEvent;)a=a.originalEvent;return a}function f(b,c){var f,g,h,i,j,k,l,m,n,o=b.type;if(b=a.Event(b),b.type=c,f=b.originalEvent,g=a.event.props,o.search(/^(mouse|click)/)>-1&&(g=E),f)for(l=g.length,i;l;)i=g[--l],b[i]=f[i];if(o.search(/mouse(down|up)|click/)>-1&&!b.which&&(b.which=1),o.search(/^touch/)!==-1&&(h=e(f),o=h.touches,j=h.changedTouches,k=o&&o.length?o[0]:j&&j.length?j[0]:d))for(m=0,n=C.length;m<n;m++)i=C[m],b[i]=k[i];return b}function g(b){for(var c,d,e={};b;){c=a.data(b,z);for(d in c)c[d]&&(e[d]=e.hasVirtualBinding=!0);b=b.parentNode}return e}function h(b,c){for(var d;b;){if(d=a.data(b,z),d&&(!c||d[c]))return b;b=b.parentNode}return null}function i(){M=!1}function j(){M=!0}function k(){Q=0,K.length=0,L=!1,j()}function l(){i()}function m(){n(),G=setTimeout(function(){G=0,k()},a.vmouse.resetTimerDuration)}function n(){G&&(clearTimeout(G),G=0)}function o(b,c,d){var e;return(d&&d[b]||!d&&h(c.target,b))&&(e=f(c,b),a(c.target).trigger(e)),e}function p(b){var c,d=a.data(b.target,A);L||Q&&Q===d||(c=o("v"+b.type,b),c&&(c.isDefaultPrevented()&&b.preventDefault(),c.isPropagationStopped()&&b.stopPropagation(),c.isImmediatePropagationStopped()&&b.stopImmediatePropagation()))}function q(b){var c,d,f,h=e(b).touches;h&&1===h.length&&(c=b.target,d=g(c),d.hasVirtualBinding&&(Q=P++,a.data(c,A,Q),n(),l(),J=!1,f=e(b).touches[0],H=f.pageX,I=f.pageY,o("vmouseover",b,d),o("vmousedown",b,d)))}function r(a){M||(J||o("vmousecancel",a,g(a.target)),J=!0,m())}function s(b){if(!M){var c=e(b).touches[0],d=J,f=a.vmouse.moveDistanceThreshold,h=g(b.target);J=J||Math.abs(c.pageX-H)>f||Math.abs(c.pageY-I)>f,J&&!d&&o("vmousecancel",b,h),o("vmousemove",b,h),m()}}function t(a){if(!M){j();var b,c,d=g(a.target);o("vmouseup",a,d),J||(b=o("vclick",a,d),b&&b.isDefaultPrevented()&&(c=e(a).changedTouches[0],K.push({touchID:Q,x:c.clientX,y:c.clientY}),L=!0)),o("vmouseout",a,d),J=!1,m()}}function u(b){var c,d=a.data(b,z);if(d)for(c in d)if(d[c])return!0;return!1}function v(){}function w(b){var c=b.substr(1);return{setup:function(){u(this)||a.data(this,z,{});var d=a.data(this,z);d[b]=!0,F[b]=(F[b]||0)+1,1===F[b]&&O.bind(c,p),a(this).bind(c,v),N&&(F.touchstart=(F.touchstart||0)+1,1===F.touchstart&&O.bind("touchstart",q).bind("touchend",t).bind("touchmove",s).bind("scroll",r))},teardown:function(){--F[b],F[b]||O.unbind(c,p),N&&(--F.touchstart,F.touchstart||O.unbind("touchstart",q).unbind("touchmove",s).unbind("touchend",t).unbind("scroll",r));var d=a(this),e=a.data(this,z);e&&(e[b]=!1),d.unbind(c,v),u(this)||d.removeData(z)}}}var x,y,z="virtualMouseBindings",A="virtualTouchID",B="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),C="clientX clientY pageX pageY screenX screenY".split(" "),D=a.event.mouseHooks?a.event.mouseHooks.props:[],E=a.event.props.concat(D),F={},G=0,H=0,I=0,J=!1,K=[],L=!1,M=!1,N="addEventListener"in c,O=a(c),P=1,Q=0;for(a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},y=0;y<B.length;y++)a.event.special[B[y]]=w(B[y]);N&&c.addEventListener("click",function(b){var c,d,e,f,g,h,i=K.length,j=b.target;if(i)for(c=b.clientX,d=b.clientY,x=a.vmouse.clickDistanceThreshold,e=j;e;){for(f=0;f<i;f++)if(g=K[f],h=0,e===j&&Math.abs(g.x-c)<x&&Math.abs(g.y-d)<x||a.data(e,A)===g.touchID)return b.preventDefault(),void b.stopPropagation();e=e.parentNode}},!0)}(a,b,c),function(a,b,d){function e(b,c,e,f){var g=e.type;e.type=c,f?a.event.trigger(e,d,b):a.event.dispatch.call(b,e),e.type=g}var f=a(c),g=a.mobile.support.touch,h="touchmove scroll",i=g?"touchstart":"mousedown",j=g?"touchend":"mouseup",k=g?"touchmove":"mousemove";a.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger(c)},a.attrFn&&(a.attrFn[c]=!0)}),a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,b){c=b,e(f,c?"scrollstart":"scrollstop",a)}var c,d,f=this,g=a(f);g.bind(h,function(e){a.event.special.scrollstart.enabled&&(c||b(e,!0),clearTimeout(d),d=setTimeout(function(){b(e,!1)},50))})},teardown:function(){a(this).unbind(h)}},a.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var b=this,c=a(b),d=!1;c.bind("vmousedown",function(g){function h(){clearTimeout(k)}function i(){h(),c.unbind("vclick",j).unbind("vmouseup",h),f.unbind("vmousecancel",i)}function j(a){i(),d||l!==a.target?d&&a.preventDefault():e(b,"tap",a)}if(d=!1,g.which&&1!==g.which)return!1;var k,l=g.target;c.bind("vmouseup",h).bind("vclick",j),f.bind("vmousecancel",i),
k=setTimeout(function(){a.event.special.tap.emitTapOnTaphold||(d=!0),e(b,"taphold",a.Event("taphold",{target:l}))},a.event.special.tap.tapholdThreshold)})},teardown:function(){a(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),f.unbind("vmousecancel")}},a.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(a){var c=b.pageXOffset,d=b.pageYOffset,e=a.clientX,f=a.clientY;return 0===a.pageY&&Math.floor(f)>Math.floor(a.pageY)||0===a.pageX&&Math.floor(e)>Math.floor(a.pageX)?(e-=c,f-=d):(f<a.pageY-d||e<a.pageX-c)&&(e=a.pageX-c,f=a.pageY-d),{x:e,y:f}},start:function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b,d=a.event.special.swipe.getLocation(c);return{time:(new Date).getTime(),coords:[d.x,d.y],origin:a(b.target)}},stop:function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b,d=a.event.special.swipe.getLocation(c);return{time:(new Date).getTime(),coords:[d.x,d.y]}},handleSwipe:function(b,c,d,f){if(c.time-b.time<a.event.special.swipe.durationThreshold&&Math.abs(b.coords[0]-c.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(b.coords[1]-c.coords[1])<a.event.special.swipe.verticalDistanceThreshold){var g=b.coords[0]>c.coords[0]?"swipeleft":"swiperight";return e(d,"swipe",a.Event("swipe",{target:f,swipestart:b,swipestop:c}),!0),e(d,g,a.Event(g,{target:f,swipestart:b,swipestop:c}),!0),!0}return!1},eventInProgress:!1,setup:function(){var b,c=this,d=a(c),e={};b=a.data(this,"mobile-events"),b||(b={length:0},a.data(this,"mobile-events",b)),b.length++,b.swipe=e,e.start=function(b){if(!a.event.special.swipe.eventInProgress){a.event.special.swipe.eventInProgress=!0;var d,g=a.event.special.swipe.start(b),h=b.target,i=!1;e.move=function(b){g&&!b.isDefaultPrevented()&&(d=a.event.special.swipe.stop(b),i||(i=a.event.special.swipe.handleSwipe(g,d,c,h),i&&(a.event.special.swipe.eventInProgress=!1)),Math.abs(g.coords[0]-d.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault())},e.stop=function(){i=!0,a.event.special.swipe.eventInProgress=!1,f.off(k,e.move),e.move=null},f.on(k,e.move).one(j,e.stop)}},d.on(i,e.start)},teardown:function(){var b,c;b=a.data(this,"mobile-events"),b&&(c=b.swipe,delete b.swipe,b.length--,0===b.length&&a.removeData(this,"mobile-events")),c&&(c.start&&a(this).off(i,c.start),c.move&&f.off(k,c.move),c.stop&&f.off(j,c.stop))}},a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(b,c){a.event.special[b]={setup:function(){a(this).bind(c,a.noop)},teardown:function(){a(this).unbind(c)}}})}(a,this),function(a){a.event.special.throttledresize={setup:function(){a(this).bind("resize",f)},teardown:function(){a(this).unbind("resize",f)}};var b,c,d,e=250,f=function(){c=(new Date).getTime(),d=c-g,d>=e?(g=c,a(this).trigger("throttledresize")):(b&&clearTimeout(b),b=setTimeout(f,e-d))},g=0}(a),function(a,b){function d(){var a=e();a!==f&&(f=a,l.trigger(m))}var e,f,g,h,i,j,k,l=a(b),m="orientationchange",n={0:!0,180:!0};a.support.orientation&&(i=b.innerWidth||l.width(),j=b.innerHeight||l.height(),k=50,g=i>j&&i-j>k,h=n[b.orientation],(g&&h||!g&&!h)&&(n={"-90":!0,90:!0})),a.event.special.orientationchange=a.extend({},a.event.special.orientationchange,{setup:function(){return!(a.support.orientation&&!a.event.special.orientationchange.disabled)&&(f=e(),void l.bind("throttledresize",d))},teardown:function(){return!(a.support.orientation&&!a.event.special.orientationchange.disabled)&&void l.unbind("throttledresize",d)},add:function(a){var b=a.handler;a.handler=function(a){return a.orientation=e(),b.apply(this,arguments)}}}),a.event.special.orientationchange.orientation=e=function(){var d=!0,e=c.documentElement;return d=a.support.orientation?n[b.orientation]:e&&e.clientWidth/e.clientHeight<1.1,d?"portrait":"landscape"},a.fn[m]=function(a){return a?this.bind(m,a):this.trigger(m)},a.attrFn&&(a.attrFn[m]=!0)}(a,this),function(a,b){var c=a("head").children("base"),d={element:c.length?c:a("<base>",{href:a.mobile.path.documentBase.hrefNoHash}).prependTo(a("head")),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(b){a.mobile.dynamicBaseEnabled&&a.support.dynamicBaseTag&&d.element.attr("href",a.mobile.path.makeUrlAbsolute(b,a.mobile.path.documentBase))},rewrite:function(b,c){var e=a.mobile.path.get(b);c.find(d.linkSelector).each(function(b,c){var d=a(c).is("[href]")?"href":a(c).is("[src]")?"src":"action",f=a.mobile.path.parseLocation(),g=a(c).attr(d);g=g.replace(f.protocol+f.doubleSlash+f.host+f.pathname,""),/^(\w+:|#|\/)/.test(g)||a(c).attr(d,e+g)})},reset:function(){d.element.attr("href",a.mobile.path.documentBase.hrefNoSearch)}};a.mobile.base=d}(a),function(a,b){a.mobile.widgets={};var c=a.widget,d=a.mobile.keepNative;a.widget=function(c){return function(){var d=c.apply(this,arguments),e=d.prototype.widgetName;return d.initSelector=d.prototype.initSelector!==b?d.prototype.initSelector:":jqmData(role='"+e+"')",a.mobile.widgets[e]=d,d}}(a.widget),a.extend(a.widget,c),a.mobile.document.on("create",function(b){a(b.target).enhanceWithin()}),a.widget("mobile.page",{options:{theme:"a",domCache:!1,keepNativeDefault:a.mobile.keepNative,contentTheme:null,enhanced:!1},_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_create:function(){return this._trigger("beforecreate")!==!1&&(this.options.enhanced||this._enhance(),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),this.element.enhanceWithin(),void("dialog"===a.mobile.getAttribute(this.element[0],"role")&&a.mobile.dialog&&this.element.dialog()))},_enhance:function(){var c="data-"+a.mobile.ns,d=this;this.options.role&&this.element.attr("data-"+a.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme),this.element.find("["+c+"role='content']").each(function(){var e=a(this),f=this.getAttribute(c+"theme")||b;d.options.contentTheme=f||d.options.contentTheme||d.options.dialog&&d.options.theme||"dialog"===d.element.jqmData("role")&&d.options.theme,e.addClass("ui-content"),d.options.contentTheme&&e.addClass("ui-body-"+d.options.contentTheme),e.attr("role","main").addClass("ui-content")})},bindRemove:function(b){var c=this.element;!c.data("mobile-page").options.domCache&&c.is(":jqmData(external-page='true')")&&c.bind("pagehide.remove",b||function(b,c){if(!c.samePage){var d=a(this),e=new a.Event("pageremove");d.trigger(e),e.isDefaultPrevented()||d.removeWithDependents()}})},_setOptions:function(c){c.theme!==b&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+c.theme),c.contentTheme!==b&&this.element.find("[data-"+a.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+c.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(a){this.element.parent().pagecontainer({theme:a||this.options.theme})},keepNativeSelector:function(){var b=this.options,c=a.trim(b.keepNative||""),e=a.trim(a.mobile.keepNative),f=a.trim(b.keepNativeDefault),g=d===e?"":e,h=""===g?f:"";return(c?[c]:[]).concat(g?[g]:[]).concat(h?[h]:[]).join(", ")}})}(a),function(a,d){a.widget("mobile.pagecontainer",{options:{theme:"a"},initSelector:!1,_create:function(){this._trigger("beforecreate"),this.setLastScrollEnabled=!0,this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"}),this._on(this.window,{navigate:"_filterNavigateEvents"}),this._on({pagechange:"_afterContentChange"}),this.window.one("navigate",a.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(a){a.theme!==d&&"none"!==a.theme?this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+a.theme):a.theme!==d&&this.element.removeClass("ui-overlay-"+this.options.theme),this._super(a)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0,this._off(this.window,"scrollstop"),this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(this.setLastScrollEnabled){var a,b,c,d=this._getActiveHistory();d&&(a=this._getScroll(),b=this._getMinScroll(),c=this._getDefaultScroll(),d.lastScroll=a<b?c:a)}},_delayedRecordScroll:function(){setTimeout(a.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getMinScroll:function(){return a.mobile.minScrollBack},_getDefaultScroll:function(){return a.mobile.defaultHomeScroll},_filterNavigateEvents:function(b,c){var d;b.originalEvent&&b.originalEvent.isDefaultPrevented()||(d=b.originalEvent.type.indexOf("hashchange")>-1?c.state.hash:c.state.url,d||(d=this._getHash()),d&&"#"!==d&&0!==d.indexOf("#"+a.mobile.path.uiStateKey)||(d=location.href),this._handleNavigate(d,c.state))},_getHash:function(){return a.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return a.mobile.firstPage},_getHistory:function(){return a.mobile.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return a.mobile.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(c){if(a.mobile.hashListeningEnabled)b.history.go(c);else{var d=a.mobile.navigate.history.activeIndex,e=d+parseInt(c,10),f=a.mobile.navigate.history.stack[e].url,g=c>=1?"forward":"back";a.mobile.navigate.history.activeIndex=e,a.mobile.navigate.history.previousIndex=d,this.change(f,{direction:g,changeHash:!1,fromHashChange:!0})}},_handleDestination:function(b){var c;return"string"===a.type(b)&&(b=a.mobile.path.stripHash(b)),b&&(c=this._getHistory(),b=a.mobile.path.isPath(b)?b:a.mobile.path.makeUrlAbsolute("#"+b,this._getDocumentBase())),b||this._getInitialContent()},_transitionFromHistory:function(a,b){var c=this._getHistory(),d="back"===a?c.getLast():c.getActive();return d&&d.transition||b},_handleDialog:function(b,c){var d,e,f=this.getActivePage();return f&&!f.data("mobile-dialog")?("back"===c.direction?this.back():this.forward(),!1):(d=c.pageUrl,e=this._getActiveHistory(),a.extend(b,{role:e.role,transition:this._transitionFromHistory(c.direction,b.transition),reverse:"back"===c.direction}),d)},_handleNavigate:function(b,c){var d=a.mobile.path.stripHash(b),e=this._getHistory(),f=0===e.stack.length?"none":this._transitionFromHistory(c.direction),g={changeHash:!1,fromHashChange:!0,reverse:"back"===c.direction};a.extend(g,c,{transition:f}),e.activeIndex>0&&d.indexOf(a.mobile.dialogHashKey)>-1&&(d=this._handleDialog(g,c),d===!1)||this._changeContent(this._handleDestination(d),g)},_changeContent:function(b,c){a.mobile.changePage(b,c)},_getBase:function(){return a.mobile.base},_getNs:function(){return a.mobile.ns},_enhance:function(a,b){return a.page({role:b})},_include:function(a,b){a.appendTo(this.element),this._enhance(a,b.role),a.page("bindRemove")},_find:function(b){var c,d=this._createFileUrl(b),e=this._createDataUrl(b),f=this._getInitialContent();return c=this.element.children("[data-"+this._getNs()+"url='"+a.mobile.path.hashToSelector(e)+"']"),0===c.length&&e&&!a.mobile.path.isPath(e)&&(c=this.element.children(a.mobile.path.hashToSelector("#"+e)).attr("data-"+this._getNs()+"url",e).jqmData("url",e)),0===c.length&&a.mobile.path.isFirstPageUrl(d)&&f&&f.parent().length&&(c=a(f)),c},_getLoader:function(){return a.mobile.loading()},_showLoading:function(b,c,d,e){this._loadMsg||(this._loadMsg=setTimeout(a.proxy(function(){this._getLoader().loader("show",c,d,e),this._loadMsg=0},this),b))},_hideLoading:function(){clearTimeout(this._loadMsg),this._loadMsg=0,this._getLoader().loader("hide")},_showError:function(){this._hideLoading(),this._showLoading(0,a.mobile.pageLoadErrorMessageTheme,a.mobile.pageLoadErrorMessage,!0),setTimeout(a.proxy(this,"_hideLoading"),1500)},_parse:function(b,c){var d,e=a("<div></div>");return e.get(0).innerHTML=b,d=e.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),d.length||(d=a("<div data-"+this._getNs()+"role='page'>"+(b.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),d.attr("data-"+this._getNs()+"url",this._createDataUrl(c)).attr("data-"+this._getNs()+"external-page",!0),d},_setLoadedTitle:function(b,c){var d=c.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;d&&!b.jqmData("title")&&(d=a("<div>"+d+"</div>").text(),b.jqmData("title",d))},_isRewritableBaseTag:function(){return a.mobile.dynamicBaseEnabled&&!a.support.dynamicBaseTag},_createDataUrl:function(b){return a.mobile.path.convertUrlToDataUrl(b)},_createFileUrl:function(b){return a.mobile.path.getFilePath(b)},_triggerWithDeprecated:function(b,c,d){var e=a.Event("page"+b),f=a.Event(this.widgetName+b);return(d||this.element).trigger(e,c),this._trigger(b,f,c),{deprecatedEvent:e,event:f}},_loadSuccess:function(b,c,e,f){var g=this._createFileUrl(b);return a.proxy(function(h,i,j){var k,l=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),m=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");l.test(h)&&RegExp.$1&&m.test(RegExp.$1)&&RegExp.$1&&(g=a.mobile.path.getFilePath(a("<div>"+RegExp.$1+"</div>").text()),g=this.window[0].encodeURIComponent(g)),e.prefetch===d&&this._getBase().set(g),k=this._parse(h,g),this._setLoadedTitle(k,h),c.xhr=j,c.textStatus=i,c.page=k,c.content=k,c.toPage=k,this._triggerWithDeprecated("load",c).event.isDefaultPrevented()||(this._isRewritableBaseTag()&&k&&this._getBase().rewrite(g,k),this._include(k,e),e.showLoadMsg&&this._hideLoading(),f.resolve(b,e,k))},this)},_loadDefaults:{type:"get",data:d,reloadPage:!1,reload:!1,role:d,showLoadMsg:!1,loadMsgDelay:50},load:function(b,c){var e,f,g,h,i=c&&c.deferred||a.Deferred(),j=c&&c.reload===d&&c.reloadPage!==d?{reload:c.reloadPage}:{},k=a.extend({},this._loadDefaults,c,j),l=null,m=a.mobile.path.makeUrlAbsolute(b,this._findBaseWithDefault());return k.data&&"get"===k.type&&(m=a.mobile.path.addSearchParams(m,k.data),k.data=d),k.data&&"post"===k.type&&(k.reload=!0),e=this._createFileUrl(m),f=this._createDataUrl(m),l=this._find(m),0===l.length&&a.mobile.path.isEmbeddedPage(e)&&!a.mobile.path.isFirstPageUrl(e)?(i.reject(m,k),i.promise()):(this._getBase().reset(),l.length&&!k.reload?(this._enhance(l,k.role),i.resolve(m,k,l),k.prefetch||this._getBase().set(b),i.promise()):(h={url:b,absUrl:m,toPage:b,prevPage:c?c.fromPage:d,dataUrl:f,deferred:i,options:k},g=this._triggerWithDeprecated("beforeload",h),g.deprecatedEvent.isDefaultPrevented()||g.event.isDefaultPrevented()?i.promise():(k.showLoadMsg&&this._showLoading(k.loadMsgDelay),k.prefetch===d&&this._getBase().reset(),a.mobile.allowCrossDomainPages||a.mobile.path.isSameDomain(a.mobile.path.documentUrl,m)?(a.ajax({url:e,type:k.type,data:k.data,contentType:k.contentType,dataType:"html",success:this._loadSuccess(m,h,k,i),error:this._loadError(m,h,k,i)}),i.promise()):(i.reject(m,k),i.promise()))))},_loadError:function(b,c,d,e){return a.proxy(function(f,g,h){this._getBase().set(a.mobile.path.get()),c.xhr=f,c.textStatus=g,c.errorThrown=h;var i=this._triggerWithDeprecated("loadfailed",c);i.deprecatedEvent.isDefaultPrevented()||i.event.isDefaultPrevented()||(d.showLoadMsg&&this._showError(),e.reject(b,d))},this)},_getTransitionHandler:function(b){return b=a.mobile._maybeDegradeTransition(b),a.mobile.transitionHandlers[b]||a.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(b,c,d){var e=!1;d=d||"",c&&(b[0]===c[0]&&(e=!0),this._triggerWithDeprecated(d+"hide",{nextPage:b,toPage:b,prevPage:c,samePage:e},c)),this._triggerWithDeprecated(d+"show",{prevPage:c||a(""),toPage:b},b)},_cssTransition:function(b,c,d){var e,f,g=d.transition,h=d.reverse,i=d.deferred;this._triggerCssTransitionEvents(b,c,"before"),this._hideLoading(),e=this._getTransitionHandler(g),f=new e(g,h,b,c).transition(),f.done(a.proxy(function(){this._triggerCssTransitionEvents(b,c)},this)),f.done(function(){i.resolve.apply(i,arguments)})},_releaseTransitionLock:function(){f=!1,e.length>0&&a.mobile.changePage.apply(null,e.pop())},_removeActiveLinkClass:function(b){a.mobile.removeActiveLinkClass(b)},_loadUrl:function(b,c,d){d.target=b,d.deferred=a.Deferred(),this.load(b,d),d.deferred.done(a.proxy(function(a,b,d){f=!1,b.absUrl=c.absUrl,this.transition(d,c,b)},this)),d.deferred.fail(a.proxy(function(){this._removeActiveLinkClass(!0),this._releaseTransitionLock(),this._triggerWithDeprecated("changefailed",c)},this))},_triggerPageBeforeChange:function(b,c,d){var e;return c.prevPage=this.activePage,a.extend(c,{toPage:b,options:d}),"string"===a.type(b)?c.absUrl=a.mobile.path.makeUrlAbsolute(b,this._findBaseWithDefault()):c.absUrl=d.absUrl,e=this._triggerWithDeprecated("beforechange",c),!e.event.isDefaultPrevented()&&!e.deprecatedEvent.isDefaultPrevented()},change:function(b,c){if(f)return void e.unshift(arguments);var d=a.extend({},a.mobile.changePage.defaults,c),g={};d.fromPage=d.fromPage||this.activePage,this._triggerPageBeforeChange(b,g,d)&&(b=g.toPage,"string"===a.type(b)?(f=!0,this._loadUrl(b,g,d)):this.transition(b,g,d))},transition:function(b,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(f)return void e.unshift([b,h]);if(this._triggerPageBeforeChange(b,g,h)&&(g.prevPage=h.fromPage,v=this._triggerWithDeprecated("beforetransition",g),!v.deprecatedEvent.isDefaultPrevented()&&!v.event.isDefaultPrevented())){if(f=!0,b[0]!==a.mobile.firstPage[0]||h.dataUrl||(h.dataUrl=a.mobile.path.documentUrl.hrefNoHash),i=h.fromPage,j=h.dataUrl&&a.mobile.path.convertUrlToDataUrl(h.dataUrl)||b.jqmData("url"),k=j,l=a.mobile.path.getFilePath(j),m=a.mobile.navigate.history.getActive(),n=0===a.mobile.navigate.history.activeIndex,o=0,p=c.title,q=("dialog"===h.role||"dialog"===b.jqmData("role"))&&b.jqmData("dialog")!==!0,i&&i[0]===b[0]&&!h.allowSamePageTransition)return f=!1,this._triggerWithDeprecated("transition",g),this._triggerWithDeprecated("change",g),void(h.fromHashChange&&a.mobile.navigate.history.direct({url:j}));b.page({role:h.role}),h.fromHashChange&&(o="back"===h.direction?-1:1);try{c.activeElement&&"body"!==c.activeElement.nodeName.toLowerCase()?a(c.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(a){}r=!1,q&&m&&(m.url&&m.url.indexOf(a.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-dialog")&&a.mobile.navigate.history.activeIndex>0&&(h.changeHash=!1,r=!0),j=m.url||"",j+=!r&&j.indexOf("#")>-1?a.mobile.dialogHashKey:"#"+a.mobile.dialogHashKey),s=m?b.jqmData("title")||b.children(":jqmData(role='header')").find(".ui-title").text():p,s&&p===c.title&&(p=s),b.jqmData("title")||b.jqmData("title",p),h.transition=h.transition||(o&&!n?m.transition:d)||(q?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition),!o&&r&&(a.mobile.navigate.history.getActive().pageUrl=k),j&&!h.fromHashChange&&(!a.mobile.path.isPath(j)&&j.indexOf("#")<0&&(j="#"+j),t={transition:h.transition,title:p,pageUrl:k,role:h.role},h.changeHash!==!1&&a.mobile.hashListeningEnabled?a.mobile.navigate(this.window[0].encodeURI(j),t,!0):b[0]!==a.mobile.firstPage[0]&&a.mobile.navigate.history.add(j,t)),c.title=p,a.mobile.activePage=b,this.activePage=b,h.reverse=h.reverse||o<0,u=a.Deferred(),this._cssTransition(b,i,{transition:h.transition,reverse:h.reverse,deferred:u}),u.done(a.proxy(function(c,d,e,f,i){a.mobile.removeActiveLinkClass(),h.duplicateCachedPage&&h.duplicateCachedPage.remove(),i||a.mobile.focusPage(b),this._releaseTransitionLock(),this._triggerWithDeprecated("transition",g),this._triggerWithDeprecated("change",g)},this))}},_findBaseWithDefault:function(){var b=this.activePage&&a.mobile.getClosestBaseUrl(this.activePage);return b||a.mobile.path.documentBase.hrefNoHash}}),a.mobile.navreadyDeferred=a.Deferred();var e=[],f=!1}(a),function(a,d){function e(a){for(;a&&("string"!=typeof a.nodeName||"a"!==a.nodeName.toLowerCase());)a=a.parentNode;return a}var f=a.Deferred(),g=a.Deferred(),h=function(){g.resolve(),g=null},i=a.mobile.path.documentUrl,j=null;a.mobile.loadPage=function(b,c){var d;return c=c||{},d=c.pageContainer||a.mobile.pageContainer,c.deferred=a.Deferred(),d.pagecontainer("load",b,c),c.deferred.promise()},a.mobile.back=function(){var c=b.navigator;this.phonegapNavigationEnabled&&c&&c.app&&c.app.backHistory?c.app.backHistory():a.mobile.pageContainer.pagecontainer("back")},a.mobile.focusPage=function(a){var b=a.find("[autofocus]"),c=a.find(".ui-title:eq(0)");return b.length?void b.focus():void(c.length?c.focus():a.focus())},a.mobile._maybeDegradeTransition=a.mobile._maybeDegradeTransition||function(a){return a},a.mobile.changePage=function(b,c){a.mobile.pageContainer.pagecontainer("change",b,c)},a.mobile.changePage.defaults={transition:d,reverse:!1,changeHash:!0,fromHashChange:!1,role:d,duplicateCachedPage:d,pageContainer:d,showLoadMsg:!0,dataUrl:d,fromPage:d,allowSamePageTransition:!1},a.mobile._registerInternalEvents=function(){var c=function(b,c){var d,e,f,g,h=!0;return!(!a.mobile.ajaxEnabled||b.is(":jqmData(ajax='false')")||!b.jqmHijackable().length||b.attr("target"))&&(d=j&&j.attr("formaction")||b.attr("action"),g=(b.attr("method")||"get").toLowerCase(),d||(d=a.mobile.getClosestBaseUrl(b),"get"===g&&(d=a.mobile.path.parseUrl(d).hrefNoSearch),d===a.mobile.path.documentBase.hrefNoHash&&(d=i.hrefNoSearch)),d=a.mobile.path.makeUrlAbsolute(d,a.mobile.getClosestBaseUrl(b)),!(a.mobile.path.isExternal(d)&&!a.mobile.path.isPermittedCrossDomainRequest(i,d))&&(c||(e=b.serializeArray(),j&&j[0].form===b[0]&&(f=j.attr("name"),f&&(a.each(e,function(a,b){if(b.name===f)return f="",!1}),f&&e.push({name:f,value:j.attr("value")}))),h={url:d,options:{type:g,data:a.param(e),transition:b.jqmData("transition"),reverse:"reverse"===b.jqmData("direction"),reloadPage:!0}}),h))};a.mobile.document.delegate("form","submit",function(b){var d;b.isDefaultPrevented()||(d=c(a(this)),d&&(a.mobile.changePage(d.url,d.options),b.preventDefault()))}),a.mobile.document.bind("vclick",function(b){var d,f,g=b.target,h=!1;if(!(b.which>1)&&a.mobile.linkBindingEnabled){if(j=a(g),a.data(g,"mobile-button")){if(!c(a(g).closest("form"),!0))return;g.parentNode&&(g=g.parentNode)}else{if(g=e(g),!g||"#"===a.mobile.path.parseUrl(g.getAttribute("href")||"#").hash)return;if(!a(g).jqmHijackable().length)return}~g.className.indexOf("ui-link-inherit")?g.parentNode&&(f=a.data(g.parentNode,"buttonElements")):f=a.data(g,"buttonElements"),f?g=f.outer:h=!0,d=a(g),h&&(d=d.closest(".ui-btn")),d.length>0&&!d.hasClass("ui-state-disabled")&&(a.mobile.removeActiveLinkClass(!0),a.mobile.activeClickedLink=d,a.mobile.activeClickedLink.addClass(a.mobile.activeBtnClass))}}),a.mobile.document.bind("click",function(c){if(a.mobile.linkBindingEnabled&&!c.isDefaultPrevented()){var f,g,h,j,k,l,m,n=e(c.target),o=a(n),p=function(){b.setTimeout(function(){a.mobile.removeActiveLinkClass(!0)},200)};if(a.mobile.activeClickedLink&&a.mobile.activeClickedLink[0]===c.target.parentNode&&p(),n&&!(c.which>1)&&o.jqmHijackable().length){if(o.is(":jqmData(rel='back')"))return a.mobile.back(),!1;if(f=a.mobile.getClosestBaseUrl(o),g=a.mobile.path.makeUrlAbsolute(o.attr("href")||"#",f),!a.mobile.ajaxEnabled&&!a.mobile.path.isEmbeddedPage(g))return void p();if(!(g.search("#")===-1||a.mobile.path.isExternal(g)&&a.mobile.path.isAbsoluteUrl(g))){if(g=g.replace(/[^#]*#/,""),!g)return void c.preventDefault();g=a.mobile.path.isPath(g)?a.mobile.path.makeUrlAbsolute(g,f):a.mobile.path.makeUrlAbsolute("#"+g,i.hrefNoHash)}if(h=o.is("[rel='external']")||o.is(":jqmData(ajax='false')")||o.is("[target]"),j=h||a.mobile.path.isExternal(g)&&!a.mobile.path.isPermittedCrossDomainRequest(i,g))return void p();k=o.jqmData("transition"),l="reverse"===o.jqmData("direction")||o.jqmData("back"),m=o.attr("data-"+a.mobile.ns+"rel")||d,a.mobile.changePage(g,{transition:k,reverse:l,role:m,link:o}),c.preventDefault()}}}),a.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var b=[];a(this).find("a:jqmData(prefetch)").each(function(){var c=a(this),d=c.attr("href");d&&a.inArray(d,b)===-1&&(b.push(d),a.mobile.loadPage(d,{role:c.attr("data-"+a.mobile.ns+"rel"),prefetch:!0}))})}),a.mobile.pageContainer.pagecontainer(),a.mobile.document.bind("pageshow",function(){g?g.done(a.mobile.resetActivePageHeight):a.mobile.resetActivePageHeight()}),a.mobile.window.bind("throttledresize",a.mobile.resetActivePageHeight)},a(function(){f.resolve()}),"complete"===c.readyState?h():a.mobile.window.load(h),a.when(f,a.mobile.navreadyDeferred).done(function(){a.mobile._registerInternalEvents()})}(a),function(a,b,c){a.mobile.Transition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(b,c,d,e){a.extend(this,{name:b,reverse:c,$to:d,$from:e,deferred:new a.Deferred})},cleanFrom:function(){this.$from.removeClass(a.mobile.activePageClass+" out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn(),this.$to.removeClass("out in reverse "+this.name).height(""),this.toggleViewportClass(),a.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage(),this.sequential||this.$to.addClass(a.mobile.activePageClass),this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(a,b,c,d){this.beforeDoneOut(),this.startIn(a,b,c,d)},hideIn:function(a){this.$to.css("z-index",-10),a.call(this),this.$to.css("z-index","")},scrollPage:function(){a.event.special.scrollstart.enabled=!1,(a.mobile.hideUrlBar||this.toScroll!==a.mobile.defaultHomeScroll)&&b.scrollTo(0,this.toScroll),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},startIn:function(b,c,d,e){this.hideIn(function(){this.$to.addClass(a.mobile.activePageClass+this.toPreClass),e||a.mobile.focusPage(this.$to),this.$to.height(b+this.toScroll),d||this.scrollPage()}),this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+c),d?this.doneIn():this.$to.animationComplete(a.proxy(function(){this.doneIn()},this))},startOut:function(b,c,d){this.beforeStartOut(b,c,d),this.$from.height(b+a.mobile.window.scrollTop()).addClass(this.name+" out"+c)},toggleViewportClass:function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(){var b,c=this.reverse?" reverse":"",d=a.mobile.getScreenHeight(),e=a.mobile.maxTransitionWidth!==!1&&a.mobile.window.width()>a.mobile.maxTransitionWidth;return this.toScroll=a.mobile.navigate.history.getActive().lastScroll||a.mobile.defaultHomeScroll,b=!a.support.cssTransitions||!a.support.cssAnimations||e||!this.name||"none"===this.name||Math.max(a.mobile.window.scrollTop(),this.toScroll)>a.mobile.getMaxScrollForTransition(),this.toggleViewportClass(),this.$from&&!b?this.startOut(d,c,b):this.doneOut(d,c,b,!0),this.deferred.promise()}})}(a,this),function(a){a.mobile.SerialTransition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.SerialTransition.prototype,a.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(b,c,d){this.$from.animationComplete(a.proxy(function(){this.doneOut(b,c,d)},this))}})}(a),function(a){a.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.ConcurrentTransition.prototype,a.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(a,b,c){this.doneOut(a,b,c)}})}(a),function(a){var b=function(){return 3*a.mobile.getScreenHeight()};a.mobile.transitionHandlers={sequential:a.mobile.SerialTransition,simultaneous:a.mobile.ConcurrentTransition},a.mobile.defaultTransitionHandler=a.mobile.transitionHandlers.sequential,a.mobile.transitionFallbacks={},a.mobile._maybeDegradeTransition=function(b){return b&&!a.support.cssTransform3d&&a.mobile.transitionFallbacks[b]&&(b=a.mobile.transitionFallbacks[b]),b},a.mobile.getMaxScrollForTransition=a.mobile.getMaxScrollForTransition||b}(a),function(a,b,c){a.mobile.transitionFallbacks.flip="fade"}(a,this),function(a,b,c){a.mobile.transitionFallbacks.flow="fade"}(a,this),function(a,b,c){a.mobile.transitionFallbacks.pop="fade"}(a,this),function(a,b,c){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous,a.mobile.transitionFallbacks.slide="fade"}(a,this),function(a,b,c){a.mobile.transitionFallbacks.slidedown="fade"}(a,this),function(a,b,c){a.mobile.transitionFallbacks.slidefade="fade"}(a,this),function(a,b,c){a.mobile.transitionFallbacks.slideup="fade"}(a,this),function(a,b,c){a.mobile.transitionFallbacks.turn="fade"}(a,this),function(a,b){a.mobile.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},a.mobile.page.prototype.options.degradeInputs=a.mobile.degradeInputs,a.mobile.degradeInputsWithin=function(b){b=a(b),b.find("input").not(a.mobile.page.prototype.keepNativeSelector()).each(function(){var b,c,d,e,f=a(this),g=this.getAttribute("type"),h=a.mobile.degradeInputs[g]||"text";a.mobile.degradeInputs[g]&&(b=a("<div>").html(f.clone()).html(),c=b.indexOf(" type=")>-1,d=c?/\s+type=["']?\w+['"]?/:/\/?>/,e=' type="'+h+'" data-'+a.mobile.ns+'type="'+g+'"'+(c?"":">"),f.replaceWith(b.replace(d,e)))})}}(a),function(a,b,c){a.widget("mobile.page",a.mobile.page,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,dialog:!1},_create:function(){this._super(),this.options.dialog&&(a.extend(this,{_inner:this.element.children(),_headerCloseButton:null}),this.options.enhanced||this._setCloseBtn(this.options.closeBtn))},_enhance:function(){this._super(),this.options.dialog&&this.element.addClass("ui-dialog").wrapInner(a("<div/>",{role:"dialog",class:"ui-dialog-contain ui-overlay-shadow"+(this.options.corners?" ui-corner-all":"")}))},_setOptions:function(b){var d,e,f=this.options;b.corners!==c&&this._inner.toggleClass("ui-corner-all",!!b.corners),b.overlayTheme!==c&&a.mobile.activePage[0]===this.element[0]&&(f.overlayTheme=b.overlayTheme,this._handlePageBeforeShow()),b.closeBtnText!==c&&(d=f.closeBtn,e=b.closeBtnText),b.closeBtn!==c&&(d=b.closeBtn),d&&this._setCloseBtn(d,e),this._super(b)},_handlePageBeforeShow:function(){this.options.overlayTheme&&this.options.dialog?(this.removeContainerBackground(),this.setContainerBackground(this.options.overlayTheme)):this._super()},_setCloseBtn:function(b,c){var d,e=this._headerCloseButton;b="left"===b?"left":"right"===b?"right":"none","none"===b?e&&(e.remove(),e=null):e?(e.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+b),c&&e.text(c)):(d=this._inner.find(":jqmData(role='header')").first(),e=a("<a></a>",{href:"#",class:"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+b}).attr("data-"+a.mobile.ns+"rel","back").text(c||this.options.closeBtnText||"").prependTo(d)),this._headerCloseButton=e}})}(a,this),function(a,b,c){a.widget("mobile.dialog",{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_handleVClickSubmit:function(b){var c,d=a(b.target).closest("vclick"===b.type?"a":"form");d.length&&!d.jqmData("transition")&&(c={},c["data-"+a.mobile.ns+"transition"]=(a.mobile.navigate.history.getActive()||{}).transition||a.mobile.defaultDialogTransition,c["data-"+a.mobile.ns+"direction"]="reverse",d.attr(c))},_create:function(){var b=this.element,c=this.options;b.addClass("ui-dialog").wrapInner(a("<div/>",{role:"dialog",class:"ui-dialog-contain ui-overlay-shadow"+(c.corners?" ui-corner-all":"")})),a.extend(this,{_isCloseable:!1,_inner:b.children(),
_headerCloseButton:null}),this._on(b,{vclick:"_handleVClickSubmit",submit:"_handleVClickSubmit",pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),this._setCloseBtn(c.closeBtn)},_setOptions:function(b){var d,e,f=this.options;b.corners!==c&&this._inner.toggleClass("ui-corner-all",!!b.corners),b.overlayTheme!==c&&a.mobile.activePage[0]===this.element[0]&&(f.overlayTheme=b.overlayTheme,this._handlePageBeforeShow()),b.closeBtnText!==c&&(d=f.closeBtn,e=b.closeBtnText),b.closeBtn!==c&&(d=b.closeBtn),d&&this._setCloseBtn(d,e),this._super(b)},_setCloseBtn:function(b,c){var d,e=this._headerCloseButton;b="left"===b?"left":"right"===b?"right":"none","none"===b?e&&(e.remove(),e=null):e?(e.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+b),c&&e.text(c)):(d=this._inner.find(":jqmData(role='header')").first(),e=a("<a></a>",{role:"button",href:"#",class:"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+b}).text(c||this.options.closeBtnText||"").prependTo(d),this._on(e,{click:"close"})),this._headerCloseButton=e},close:function(){var b=a.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,a.mobile.hashListeningEnabled&&b.activeIndex>0?a.mobile.back():a.mobile.pageContainer.pagecontainer("back"))}})}(a,this),function(a,b){var c=/([A-Z])/g,d=function(a){return"ui-btn-icon-"+(null===a?"left":a)};a.widget("mobile.collapsible",{options:{enhanced:!1,expandCueText:null,collapseCueText:null,collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:null,expandedIcon:null,iconpos:null,theme:null,contentTheme:null,inset:null,corners:null,mini:null},_create:function(){var b=this.element,c={accordion:b.closest(":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')"+(a.mobile.collapsibleset?", :mobile-collapsibleset":"")).addClass("ui-collapsible-set")};this._ui=c,this._renderedOptions=this._getOptions(this.options),this.options.enhanced?(c.heading=this.element.children(".ui-collapsible-heading"),c.content=c.heading.next(),c.anchor=c.heading.children(),c.status=c.anchor.children(".ui-collapsible-heading-status")):this._enhance(b,c),this._on(c.heading,{tap:function(){c.heading.find("a").first().addClass(a.mobile.activeBtnClass)},click:function(a){this._handleExpandCollapse(!c.heading.hasClass("ui-collapsible-heading-collapsed")),a.preventDefault(),a.stopPropagation()}})},_getOptions:function(b){var d,e=this._ui.accordion,f=this._ui.accordionWidget;b=a.extend({},b),e.length&&!f&&(this._ui.accordionWidget=f=e.data("mobile-collapsibleset"));for(d in b)b[d]=null!=b[d]?b[d]:f?f.options[d]:e.length?a.mobile.getAttribute(e[0],d.replace(c,"-$1").toLowerCase()):null,null==b[d]&&(b[d]=a.mobile.collapsible.defaults[d]);return b},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:""},_enhance:function(b,c){var e,f=this._renderedOptions,g=this._themeClassFromOption("ui-body-",f.contentTheme);return b.addClass("ui-collapsible "+(f.inset?"ui-collapsible-inset ":"")+(f.inset&&f.corners?"ui-corner-all ":"")+(g?"ui-collapsible-themed-content ":"")),c.originalHeading=b.children(this.options.heading).first(),c.content=b.wrapInner("<div class='ui-collapsible-content "+g+"'></div>").children(".ui-collapsible-content"),c.heading=c.originalHeading,c.heading.is("legend")&&(c.heading=a("<div role='heading'>"+c.heading.html()+"</div>"),c.placeholder=a("<div><!-- placeholder for legend --></div>").insertBefore(c.originalHeading),c.originalHeading.remove()),e=f.collapsed?f.collapsedIcon?"ui-icon-"+f.collapsedIcon:"":f.expandedIcon?"ui-icon-"+f.expandedIcon:"",c.status=a("<span class='ui-collapsible-heading-status'></span>"),c.anchor=c.heading.detach().addClass("ui-collapsible-heading").append(c.status).wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().addClass("ui-btn "+(e?e+" ":"")+(e?d(f.iconpos)+" ":"")+this._themeClassFromOption("ui-btn-",f.theme)+" "+(f.mini?"ui-mini ":"")),c.heading.insertBefore(c.content),this._handleExpandCollapse(this.options.collapsed),c},refresh:function(){this._applyOptions(this.options),this._renderedOptions=this._getOptions(this.options)},_applyOptions:function(a){var c,e,f,g,h,i=this.element,j=this._renderedOptions,k=this._ui,l=k.anchor,m=k.status,n=this._getOptions(a);a.collapsed!==b&&this._handleExpandCollapse(a.collapsed),c=i.hasClass("ui-collapsible-collapsed"),c?n.expandCueText!==b&&m.text(n.expandCueText):n.collapseCueText!==b&&m.text(n.collapseCueText),h=n.collapsedIcon!==b?n.collapsedIcon!==!1:j.collapsedIcon!==!1,n.iconpos===b&&n.collapsedIcon===b&&n.expandedIcon===b||(l.removeClass([d(j.iconpos)].concat(j.expandedIcon?["ui-icon-"+j.expandedIcon]:[]).concat(j.collapsedIcon?["ui-icon-"+j.collapsedIcon]:[]).join(" ")),h&&l.addClass([d(n.iconpos!==b?n.iconpos:j.iconpos)].concat(c?["ui-icon-"+(n.collapsedIcon!==b?n.collapsedIcon:j.collapsedIcon)]:["ui-icon-"+(n.expandedIcon!==b?n.expandedIcon:j.expandedIcon)]).join(" "))),n.theme!==b&&(f=this._themeClassFromOption("ui-btn-",j.theme),e=this._themeClassFromOption("ui-btn-",n.theme),l.removeClass(f).addClass(e)),n.contentTheme!==b&&(f=this._themeClassFromOption("ui-body-",j.contentTheme),e=this._themeClassFromOption("ui-body-",n.contentTheme),k.content.removeClass(f).addClass(e)),n.inset!==b&&(i.toggleClass("ui-collapsible-inset",n.inset),g=!(!n.inset||!n.corners&&!j.corners)),n.corners!==b&&(g=!(!n.corners||!n.inset&&!j.inset)),g!==b&&i.toggleClass("ui-corner-all",g),n.mini!==b&&l.toggleClass("ui-mini",n.mini)},_setOptions:function(a){this._applyOptions(a),this._super(a),this._renderedOptions=this._getOptions(this.options)},_handleExpandCollapse:function(b){var c=this._renderedOptions,d=this._ui;d.status.text(b?c.expandCueText:c.collapseCueText),d.heading.toggleClass("ui-collapsible-heading-collapsed",b).find("a").first().toggleClass("ui-icon-"+c.expandedIcon,!b).toggleClass("ui-icon-"+c.collapsedIcon,b||c.expandedIcon===c.collapsedIcon).removeClass(a.mobile.activeBtnClass),this.element.toggleClass("ui-collapsible-collapsed",b),d.content.toggleClass("ui-collapsible-content-collapsed",b).attr("aria-hidden",b).trigger("updatelayout"),this.options.collapsed=b,this._trigger(b?"collapse":"expand")},expand:function(){this._handleExpandCollapse(!1)},collapse:function(){this._handleExpandCollapse(!0)},_destroy:function(){var a=this._ui,b=this.options;b.enhanced||(a.placeholder?(a.originalHeading.insertBefore(a.placeholder),a.placeholder.remove(),a.heading.remove()):(a.status.remove(),a.heading.removeClass("ui-collapsible-heading ui-collapsible-heading-collapsed").children().contents().unwrap()),a.anchor.contents().unwrap(),a.content.contents().unwrap(),this.element.removeClass("ui-collapsible ui-collapsible-collapsed ui-collapsible-themed-content ui-collapsible-inset ui-corner-all"))}}),a.mobile.collapsible.defaults={expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsedIcon:"plus",contentTheme:"inherit",expandedIcon:"minus",iconpos:"left",inset:!0,corners:!0,theme:"inherit",mini:!1}}(a),function(a,b){function c(b){var c,e=b.length,f=[];for(c=0;c<e;c++)b[c].className.match(d)||f.push(b[c]);return a(f)}var d=/\bui-screen-hidden\b/;a.mobile.behaviors.addFirstLastClasses={_getVisibles:function(a,b){var d;return b?d=c(a):(d=a.filter(":visible"),0===d.length&&(d=c(a))),d},_addFirstLastClasses:function(a,b,c){a.removeClass("ui-first-child ui-last-child"),b.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),c||this.element.trigger("updatelayout")},_removeFirstLastClasses:function(a){a.removeClass("ui-first-child ui-last-child")}}}(a),function(a,b){var c=":mobile-collapsible, "+a.mobile.collapsible.initSelector;a.widget("mobile.collapsibleset",a.extend({initSelector:":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')",options:a.extend({enhanced:!1},a.mobile.collapsible.defaults),_handleCollapsibleExpand:function(b){var c=a(b.target).closest(".ui-collapsible");c.parent().is(":mobile-collapsibleset, :jqmData(role='collapsible-set')")&&c.siblings(".ui-collapsible:not(.ui-collapsible-collapsed)").collapsible("collapse")},_create:function(){var b=this.element,c=this.options;a.extend(this,{_classes:""}),c.enhanced||(b.addClass("ui-collapsible-set "+this._themeClassFromOption("ui-group-theme-",c.theme)+" "+(c.corners&&c.inset?"ui-corner-all ":"")),this.element.find(a.mobile.collapsible.initSelector).collapsible()),this._on(b,{collapsibleexpand:"_handleCollapsibleExpand"})},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:""},_init:function(){this._refresh(!0),this.element.children(c).filter(":jqmData(collapsed='false')").collapsible("expand")},_setOptions:function(a){var c,d,e=this.element,f=this._themeClassFromOption("ui-group-theme-",a.theme);return f&&e.removeClass(this._themeClassFromOption("ui-group-theme-",this.options.theme)).addClass(f),a.inset!==b&&(d=!(!a.inset||!a.corners&&!this.options.corners)),a.corners!==b&&(d=!(!a.corners||!a.inset&&!this.options.inset)),d!==b&&e.toggleClass("ui-corner-all",d),c=this._super(a),this.element.children(":mobile-collapsible").collapsible("refresh"),c},_destroy:function(){var a=this.element;this._removeFirstLastClasses(a.children(c)),a.removeClass("ui-collapsible-set ui-corner-all "+this._themeClassFromOption("ui-group-theme-",this.options.theme)).children(":mobile-collapsible").collapsible("destroy")},_refresh:function(b){var d=this.element.children(c);this.element.find(a.mobile.collapsible.initSelector).not(".ui-collapsible").collapsible(),this._addFirstLastClasses(d,this._getVisibles(d,b),b)},refresh:function(){this._refresh(!1)}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a,b){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain")}}(a),function(a,b){a.fn.grid=function(b){return this.each(function(){var c,d,e=a(this),f=a.extend({grid:null},b),g=e.children(),h={solo:1,a:2,b:3,c:4,d:5},i=f.grid;if(!i)if(g.length<=5)for(d in h)h[d]===g.length&&(i=d);else i="a",e.addClass("ui-grid-duo");c=h[i],e.addClass("ui-grid-"+i),g.filter(":nth-child("+c+"n+1)").addClass("ui-block-a"),c>1&&g.filter(":nth-child("+c+"n+2)").addClass("ui-block-b"),c>2&&g.filter(":nth-child("+c+"n+3)").addClass("ui-block-c"),c>3&&g.filter(":nth-child("+c+"n+4)").addClass("ui-block-d"),c>4&&g.filter(":nth-child("+c+"n+5)").addClass("ui-block-e")})}}(a),function(a,b){a.widget("mobile.navbar",{options:{iconpos:"top",grid:null},_create:function(){var d=this.element,e=d.find("a, button"),f=e.filter(":jqmData(icon)").length?this.options.iconpos:b;d.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),e.each(function(){var b=a.mobile.getAttribute(this,"icon"),c=a.mobile.getAttribute(this,"theme"),d="ui-btn";c&&(d+=" ui-btn-"+c),b&&(d+=" ui-icon-"+b+" ui-btn-icon-"+f),a(this).addClass(d)}),d.delegate("a","vclick",function(){var b=a(this);b.hasClass("ui-state-disabled")||b.hasClass("ui-disabled")||b.hasClass(a.mobile.activeBtnClass)||(e.removeClass(a.mobile.activeBtnClass),b.addClass(a.mobile.activeBtnClass),a(c).one("pagehide",function(){b.removeClass(a.mobile.activeBtnClass)}))}),d.closest(".ui-page").bind("pagebeforeshow",function(){e.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}})}(a),function(a,b){var c=a.mobile.getAttribute;a.widget("mobile.listview",a.extend({options:{theme:null,countTheme:null,dividerTheme:null,icon:"carat-r",splitIcon:"carat-r",splitTheme:null,corners:!0,shadow:!0,inset:!1},_create:function(){var a=this,b="";b+=a.options.inset?" ui-listview-inset":"",a.options.inset&&(b+=a.options.corners?" ui-corner-all":"",b+=a.options.shadow?" ui-shadow":""),a.element.addClass(" ui-listview"+b),a.refresh(!0)},_findFirstElementByTagName:function(a,b,c,d){var e={};for(e[c]=e[d]=!0;a;){if(e[a.nodeName])return a;a=a[b]}return null},_addThumbClasses:function(b){var c,d,e=b.length;for(c=0;c<e;c++)d=a(this._findFirstElementByTagName(b[c].firstChild,"nextSibling","img","IMG")),d.length&&a(this._findFirstElementByTagName(d[0].parentNode,"parentNode","li","LI")).addClass(d.hasClass("ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")},_getChildrenByTagName:function(b,c,d){var e=[],f={};for(f[c]=f[d]=!0,b=b.firstChild;b;)f[b.nodeName]&&e.push(b),b=b.nextSibling;return a(e)},_beforeListviewRefresh:a.noop,_afterListviewRefresh:a.noop,refresh:function(b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=this.options,y=this.element,z=!!a.nodeName(y[0],"ol"),A=y.attr("start"),B={},C=y.find(".ui-li-count"),D=c(y[0],"counttheme")||this.options.countTheme,E=D?"ui-body-"+D:"ui-body-inherit";for(x.theme&&y.addClass("ui-group-theme-"+x.theme),z&&(A||0===A)&&(n=parseInt(A,10)-1,y.css("counter-reset","listnumbering "+n)),this._beforeListviewRefresh(),w=this._getChildrenByTagName(y[0],"li","LI"),e=0,f=w.length;e<f;e++)g=w.eq(e),h="",(b||g[0].className.search(/\bui-li-static\b|\bui-li-divider\b/)<0)&&(l=this._getChildrenByTagName(g[0],"a","A"),m="list-divider"===c(g[0],"role"),p=g.attr("value"),i=c(g[0],"theme"),l.length&&l[0].className.search(/\bui-btn\b/)<0&&!m?(j=c(g[0],"icon"),k=j!==!1&&(j||x.icon),l.removeClass("ui-link"),d="ui-btn",i&&(d+=" ui-btn-"+i),l.length>1?(h="ui-li-has-alt",q=l.last(),r=c(q[0],"theme")||x.splitTheme||c(g[0],"theme",!0),s=r?" ui-btn-"+r:"",t=c(q[0],"icon")||c(g[0],"icon")||x.splitIcon,u="ui-btn ui-btn-icon-notext ui-icon-"+t+s,q.attr("title",a.trim(q.getEncodedText())).addClass(u).empty(),l=l.first()):k&&(d+=" ui-btn-icon-right ui-icon-"+k),l.addClass(d)):m?(v=c(g[0],"theme")||x.dividerTheme||x.theme,h="ui-li-divider ui-bar-"+(v?v:"inherit"),g.attr("role","heading")):l.length<=0&&(h="ui-li-static ui-body-"+(i?i:"inherit")),z&&p&&(o=parseInt(p,10)-1,g.css("counter-reset","listnumbering "+o))),B[h]||(B[h]=[]),B[h].push(g[0]);for(h in B)a(B[h]).addClass(h);C.each(function(){a(this).closest("li").addClass("ui-li-has-count")}),E&&C.not("[class*='ui-body-']").addClass(E),this._addThumbClasses(w),this._addThumbClasses(w.find(".ui-btn")),this._afterListviewRefresh(),this._addFirstLastClasses(w,this._getVisibles(w,b),b)}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a,b){function d(b){var c=a.trim(b.text())||null;return c?c=c.slice(0,1).toUpperCase():null}a.widget("mobile.listview",a.mobile.listview,{options:{autodividers:!1,autodividersSelector:d},_beforeListviewRefresh:function(){this.options.autodividers&&(this._replaceDividers(),this._superApply(arguments))},_replaceDividers:function(){var b,d,e,f,g,h=null,i=this.element;for(i.children("li:jqmData(role='list-divider')").remove(),d=i.children("li"),b=0;b<d.length;b++)e=d[b],f=this.options.autodividersSelector(a(e)),f&&h!==f&&(g=c.createElement("li"),g.appendChild(c.createTextNode(f)),g.setAttribute("data-"+a.mobile.ns+"role","list-divider"),e.parentNode.insertBefore(g,e)),h=f}})}(a),function(a,b){var c=/(^|\s)ui-li-divider($|\s)/,d=/(^|\s)ui-screen-hidden($|\s)/;a.widget("mobile.listview",a.mobile.listview,{options:{hideDividers:!1},_afterListviewRefresh:function(){var a,b,e,f=!0;if(this._superApply(arguments),this.options.hideDividers)for(a=this._getChildrenByTagName(this.element[0],"li","LI"),b=a.length-1;b>-1;b--)e=a[b],e.className.match(c)?(f&&(e.className=e.className+" ui-screen-hidden"),f=!0):e.className.match(d)||(f=!1)}})}(a),function(a,b){a.mobile.nojs=function(b){a(":jqmData(role='nojs')",b).addClass("ui-nojs")}}(a),function(a,b){a.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(a),function(a,b){var c=a.mobile.path.hashToSelector;a.widget("mobile.checkboxradio",a.extend({initSelector:"input:not( :jqmData(role='flipswitch' ) )[type='checkbox'],input[type='radio']:not( :jqmData(role='flipswitch' ))",options:{theme:"inherit",mini:!1,wrapperClass:null,enhanced:!1,iconpos:"left"},_create:function(){var b=this.element,c=this.options,d=function(a,b){return a.jqmData(b)||a.closest("form, fieldset").jqmData(b)},e=this.options.enhanced?{element:this.element.siblings("label"),isParent:!1}:this._findLabel(),f=b[0].type,g="ui-"+f+"-on",h="ui-"+f+"-off";"checkbox"!==f&&"radio"!==f||(this.element[0].disabled&&(this.options.disabled=!0),c.iconpos=d(b,"iconpos")||e.element.attr("data-"+a.mobile.ns+"iconpos")||c.iconpos,c.mini=d(b,"mini")||c.mini,a.extend(this,{input:b,label:e.element,labelIsParent:e.isParent,inputtype:f,checkedClass:g,uncheckedClass:h}),this.options.enhanced||this._enhance(),this._on(e.element,{vmouseover:"_handleLabelVMouseOver",vclick:"_handleLabelVClick"}),this._on(b,{vmousedown:"_cacheVals",vclick:"_handleInputVClick",focus:"_handleInputFocus",blur:"_handleInputBlur"}),this._handleFormReset(),this.refresh())},_findLabel:function(){var b,d,e,f=this.element,g=f[0].labels;return g&&g.length>0?(d=a(g[0]),e=a.contains(d[0],f[0])):(b=f.closest("label"),e=b.length>0,d=e?b:a(this.document[0].getElementsByTagName("label")).filter("[for='"+c(f[0].id)+"']").first()),{element:d,isParent:e}},_enhance:function(){this.label.addClass("ui-btn ui-corner-all"),this.labelIsParent?this.input.add(this.label).wrapAll(this._wrapper()):(this.element.wrap(this._wrapper()),this.element.parent().prepend(this.label)),this._setOptions({theme:this.options.theme,iconpos:this.options.iconpos,mini:this.options.mini})},_wrapper:function(){return a("<div class='"+(this.options.wrapperClass?this.options.wrapperClass:"")+" ui-"+this.inputtype+(this.options.disabled?" ui-state-disabled":"")+"' ></div>")},_handleInputFocus:function(){this.label.addClass(a.mobile.focusClass)},_handleInputBlur:function(){this.label.removeClass(a.mobile.focusClass)},_handleInputVClick:function(){this.element.prop("checked",this.element.is(":checked")),this._getInputSet().not(this.element).prop("checked",!1),this._updateAll(!0)},_handleLabelVMouseOver:function(a){this.label.parent().hasClass("ui-state-disabled")&&a.stopPropagation()},_handleLabelVClick:function(a){var b=this.element;return b.is(":disabled")?void a.preventDefault():(this._cacheVals(),b.prop("checked","radio"===this.inputtype&&!0||!b.prop("checked")),b.triggerHandler("click"),this._getInputSet().not(b).prop("checked",!1),this._updateAll(),!1)},_cacheVals:function(){this._getInputSet().each(function(){a(this).attr("data-"+a.mobile.ns+"cacheVal",this.checked)})},_getInputSet:function(){var b,d,e=this.element[0],f=e.name,g=e.form,h=this.element.parents().last().get(0),i=this.element;return f&&"radio"===this.inputtype&&h&&(b="input[type='radio'][name='"+c(f)+"']",g?(d=g.getAttribute("id"),d&&(i=a(b+"[form='"+c(d)+"']",h)),i=a(g).find(b).filter(function(){return this.form===g}).add(i)):i=a(b,h).filter(function(){return!this.form})),i},_updateAll:function(b){var c=this;this._getInputSet().each(function(){var d=a(this);!this.checked&&"checkbox"!==c.inputtype||b||d.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},_hasIcon:function(){var b,c,d=a.mobile.controlgroup;return!(d&&(b=this.element.closest(":mobile-controlgroup,"+d.prototype.initSelector),b.length>0))||(c=a.data(b[0],"mobile-controlgroup"),"horizontal"!==(c?c.options.type:b.attr("data-"+a.mobile.ns+"type")))},refresh:function(){var b=this.element[0].checked,c=a.mobile.activeBtnClass,d="ui-btn-icon-"+this.options.iconpos,e=[],f=[];this._hasIcon()?(f.push(c),e.push(d)):(f.push(d),(b?e:f).push(c)),b?(e.push(this.checkedClass),f.push(this.uncheckedClass)):(e.push(this.uncheckedClass),f.push(this.checkedClass)),this.widget().toggleClass("ui-state-disabled",this.element.prop("disabled")),this.label.addClass(e.join(" ")).removeClass(f.join(" "))},widget:function(){return this.label.parent()},_setOptions:function(a){var c=this.label,d=this.options,e=this.widget(),f=this._hasIcon();a.disabled!==b&&(this.input.prop("disabled",!!a.disabled),e.toggleClass("ui-state-disabled",!!a.disabled)),a.mini!==b&&e.toggleClass("ui-mini",!!a.mini),a.theme!==b&&c.removeClass("ui-btn-"+d.theme).addClass("ui-btn-"+a.theme),a.wrapperClass!==b&&e.removeClass(d.wrapperClass).addClass(a.wrapperClass),a.iconpos!==b&&f?c.removeClass("ui-btn-icon-"+d.iconpos).addClass("ui-btn-icon-"+a.iconpos):f||c.removeClass("ui-btn-icon-"+d.iconpos),this._super(a)}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.button",{initSelector:"input[type='button'], input[type='submit'], input[type='reset']",options:{theme:null,icon:null,iconpos:"left",iconshadow:!1,corners:!0,shadow:!0,inline:null,mini:null,wrapperClass:null,enhanced:!1},_create:function(){this.element.is(":disabled")&&(this.options.disabled=!0),this.options.enhanced||this._enhance(),a.extend(this,{wrapper:this.element.parent()}),this._on({focus:function(){this.widget().addClass(a.mobile.focusClass)},blur:function(){this.widget().removeClass(a.mobile.focusClass)}}),this.refresh(!0)},_enhance:function(){this.element.wrap(this._button())},_button:function(){var b=this.options,c=this._getIconClasses(this.options);return a("<div class='ui-btn ui-input-btn"+(b.wrapperClass?" "+b.wrapperClass:"")+(b.theme?" ui-btn-"+b.theme:"")+(b.corners?" ui-corner-all":"")+(b.shadow?" ui-shadow":"")+(b.inline?" ui-btn-inline":"")+(b.mini?" ui-mini":"")+(b.disabled?" ui-state-disabled":"")+(c?" "+c:"")+"' >"+this.element.val()+"</div>")},widget:function(){return this.wrapper},_destroy:function(){this.element.insertBefore(this.wrapper),this.wrapper.remove()},_getIconClasses:function(a){return a.icon?"ui-icon-"+a.icon+(a.iconshadow?" ui-shadow-icon":"")+" ui-btn-icon-"+a.iconpos:""},_setOptions:function(c){var d=this.widget();c.theme!==b&&d.removeClass(this.options.theme).addClass("ui-btn-"+c.theme),c.corners!==b&&d.toggleClass("ui-corner-all",c.corners),c.shadow!==b&&d.toggleClass("ui-shadow",c.shadow),c.inline!==b&&d.toggleClass("ui-btn-inline",c.inline),c.mini!==b&&d.toggleClass("ui-mini",c.mini),c.disabled!==b&&(this.element.prop("disabled",c.disabled),d.toggleClass("ui-state-disabled",c.disabled)),c.icon===b&&c.iconshadow===b&&c.iconpos===b||d.removeClass(this._getIconClasses(this.options)).addClass(this._getIconClasses(a.extend({},this.options,c))),this._super(c)},refresh:function(b){var c,d=this.element.prop("disabled");this.options.icon&&"notext"===this.options.iconpos&&this.element.attr("title")&&this.element.attr("title",this.element.val()),b||(c=this.element.detach(),a(this.wrapper).text(this.element.val()).append(c)),this.options.disabled!==d&&this._setOptions({disabled:d})}})}(a),function(a){var b=a("meta[name=viewport]"),c=b.attr("content"),d=c+",maximum-scale=1, user-scalable=no",e=c+",maximum-scale=10, user-scalable=yes",f=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(c);a.mobile.zoom=a.extend({},{enabled:!f,locked:!1,disable:function(c){f||a.mobile.zoom.locked||(b.attr("content",d),a.mobile.zoom.enabled=!1,a.mobile.zoom.locked=c||!1)},enable:function(c){f||a.mobile.zoom.locked&&c!==!0||(b.attr("content",e),a.mobile.zoom.enabled=!0,a.mobile.zoom.locked=!1)},restore:function(){f||(b.attr("content",c),a.mobile.zoom.enabled=!0)}})}(a),function(a,b){a.widget("mobile.textinput",{initSelector:"input[type='text'],input[type='search'],:jqmData(type='search'),input[type='number'],:jqmData(type='number'),input[type='password'],input[type='email'],input[type='url'],input[type='tel'],textarea,input[type='time'],input[type='date'],input[type='month'],input[type='week'],input[type='datetime'],input[type='datetime-local'],input[type='color'],input:not([type]),input[type='file']",options:{theme:null,corners:!0,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,wrapperClass:"",enhanced:!1},_create:function(){var b=this.options,c=this.element.is("[type='search'], :jqmData(type='search')"),d="TEXTAREA"===this.element[0].tagName,e=this.element.is("[data-"+(a.mobile.ns||"")+"type='range']"),f=(this.element.is("input")||this.element.is("[data-"+(a.mobile.ns||"")+"type='search']"))&&!e;this.element.prop("disabled")&&(b.disabled=!0),a.extend(this,{classes:this._classesFromOptions(),isSearch:c,isTextarea:d,isRange:e,inputNeedsWrap:f}),this._autoCorrect(),b.enhanced||this._enhance(),this._on({focus:"_handleFocus",blur:"_handleBlur"})},refresh:function(){this.setOptions({disabled:this.element.is(":disabled")})},_enhance:function(){var a=[];this.isTextarea&&a.push("ui-input-text"),(this.isTextarea||this.isRange)&&a.push("ui-shadow-inset"),this.inputNeedsWrap?this.element.wrap(this._wrap()):a=a.concat(this.classes),this.element.addClass(a.join(" "))},widget:function(){return this.inputNeedsWrap?this.element.parent():this.element},_classesFromOptions:function(){var a=this.options,b=[];return b.push("ui-body-"+(null===a.theme?"inherit":a.theme)),a.corners&&b.push("ui-corner-all"),a.mini&&b.push("ui-mini"),a.disabled&&b.push("ui-state-disabled"),a.wrapperClass&&b.push(a.wrapperClass),b},_wrap:function(){return a("<div class='"+(this.isSearch?"ui-input-search ":"ui-input-text ")+this.classes.join(" ")+" ui-shadow-inset'></div>")},_autoCorrect:function(){"undefined"==typeof this.element[0].autocorrect||a.support.touchOverflow||(this.element[0].setAttribute("autocorrect","off"),this.element[0].setAttribute("autocomplete","off"))},_handleBlur:function(){this.widget().removeClass(a.mobile.focusClass),this.options.preventFocusZoom&&a.mobile.zoom.enable(!0)},_handleFocus:function(){this.options.preventFocusZoom&&a.mobile.zoom.disable(!0),this.widget().addClass(a.mobile.focusClass)},_setOptions:function(a){var c=this.widget();this._super(a),a.disabled===b&&a.mini===b&&a.corners===b&&a.theme===b&&a.wrapperClass===b||(c.removeClass(this.classes.join(" ")),this.classes=this._classesFromOptions(),c.addClass(this.classes.join(" "))),a.disabled!==b&&this.element.prop("disabled",!!a.disabled)},_destroy:function(){this.options.enhanced||(this.inputNeedsWrap&&this.element.unwrap(),this.element.removeClass("ui-input-text "+this.classes.join(" ")))}})}(a),function(a,d){a.widget("mobile.slider",a.extend({initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!1},_create:function(){var e,f,g,h,i,j,k,l,m,n,o=this,p=this.element,q=this.options.trackTheme||a.mobile.getAttribute(p[0],"theme"),r=q?" ui-bar-"+q:" ui-bar-inherit",s=this.options.corners||p.jqmData("corners")?" ui-corner-all":"",t=this.options.mini||p.jqmData("mini")?" ui-mini":"",u=p[0].nodeName.toLowerCase(),v="select"===u,w=p.parent().is(":jqmData(role='rangeslider')"),x=v?"ui-slider-switch":"",y=p.attr("id"),z=a("[for='"+y+"']"),A=z.attr("id")||y+"-label",B=v?0:parseFloat(p.attr("min")),C=v?p.find("option").length-1:parseFloat(p.attr("max")),D=b.parseFloat(p.attr("step")||1),E=c.createElement("a"),F=a(E),G=c.createElement("div"),H=a(G),I=!(!this.options.highlight||v)&&function(){var b=c.createElement("div");return b.className="ui-slider-bg "+a.mobile.activeBtnClass,a(b).prependTo(H)}();if(z.attr("id",A),this.isToggleSwitch=v,E.setAttribute("href","#"),G.setAttribute("role","application"),G.className=[this.isToggleSwitch?"ui-slider ui-slider-track ui-shadow-inset ":"ui-slider-track ui-shadow-inset ",x,r,s,t].join(""),E.className="ui-slider-handle",G.appendChild(E),F.attr({role:"slider","aria-valuemin":B,"aria-valuemax":C,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":A}),a.extend(this,{slider:H,handle:F,control:p,type:u,step:D,max:C,min:B,valuebg:I,isRangeslider:w,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),v){for(k=p.attr("tabindex"),k&&F.attr("tabindex",k),p.attr("tabindex","-1").focus(function(){a(this).blur(),F.focus()}),f=c.createElement("div"),f.className="ui-slider-inneroffset",g=0,h=G.childNodes.length;g<h;g++)f.appendChild(G.childNodes[g]);for(G.appendChild(f),F.addClass("ui-slider-handle-snapping"),e=p.find("option"),i=0,j=e.length;i<j;i++)l=i?"a":"b",m=i?" "+a.mobile.activeBtnClass:"",n=c.createElement("span"),n.className=["ui-slider-label ui-slider-label-",l,m].join(""),n.setAttribute("role","img"),n.appendChild(c.createTextNode(e[i].innerHTML)),a(n).prependTo(H);o._labels=a(".ui-slider-label",H)}p.addClass(v?"ui-slider-switch":"ui-slider-input"),this._on(p,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),H.bind("vmousedown",a.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(c,{vmousemove:"_preventDocumentDrag"}),this._on(H.add(c),{vmouseup:"_sliderVMouseUp"}),H.insertAfter(p),v||w||(f=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",p.add(H).wrapAll(f)),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(d,d,!0)},_setOptions:function(a){a.theme!==d&&this._setTheme(a.theme),a.trackTheme!==d&&this._setTrackTheme(a.trackTheme),a.corners!==d&&this._setCorners(a.corners),a.mini!==d&&this._setMini(a.mini),a.highlight!==d&&this._setHighlight(a.highlight),a.disabled!==d&&this._setDisabled(a.disabled),this._super(a)},_controlChange:function(a){return this._trigger("controlchange",a)!==!1&&void(this.mouseMoved||this.refresh(this._value(),!0))},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(b){var c=this._value();if(!this.options.disabled){switch(b.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:b.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(b.keyCode){case a.mobile.keyCode.HOME:this.refresh(this.min);break;case a.mobile.keyCode.END:this.refresh(this.max);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:this.refresh(c+this.step);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:this.refresh(c-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(a){return!(this.options.disabled||1!==a.which&&0!==a.which&&a.which!==d)&&(this._trigger("beforestart",a)!==!1&&(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(a),this._trigger("start"),!1))},_sliderVMouseUp:function(){if(this.dragging)return this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.mouseMoved?this.userModified?this.refresh(0===this.beforeStart?1:0):this.refresh(this.beforeStart):this.refresh(0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1},_preventDocumentDrag:function(a){return this._trigger("drag",a)!==!1&&(this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(a),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0)},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(d,!1,!0)},refresh:function(b,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=this,A=a.mobile.getAttribute(this.element[0],"theme"),B=this.options.theme||A,C=B?" ui-btn-"+B:"",D=this.options.trackTheme||A,E=D?" ui-bar-"+D:" ui-bar-inherit",F=this.options.corners?" ui-corner-all":"",G=this.options.mini?" ui-mini":"";if(z.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch ui-slider-track ui-shadow-inset":"ui-slider-track ui-shadow-inset",E,F,G].join(""),(this.options.disabled||this.element.prop("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){
var b=c.createElement("div");return b.className="ui-slider-bg "+a.mobile.activeBtnClass,a(b).prependTo(z.slider)}()),this.handle.addClass("ui-btn"+C+" ui-shadow"),l=this.element,m=!this.isToggleSwitch,n=m?[]:l.find("option"),o=m?parseFloat(l.attr("min")):0,p=m?parseFloat(l.attr("max")):n.length-1,q=m&&parseFloat(l.attr("step"))>0?parseFloat(l.attr("step")):1,"object"==typeof b){if(h=b,i=8,f=this.slider.offset().left,g=this.slider.width(),j=g/((p-o)/q),!this.dragging||h.pageX<f-i||h.pageX>f+g+i)return;k=j>1?(h.pageX-f)/g*100:Math.round((h.pageX-f)/g*100)}else null==b&&(b=m?parseFloat(l.val()||0):l[0].selectedIndex),k=(parseFloat(b)-o)/(p-o)*100;if(!isNaN(k)&&(r=k/100*(p-o)+o,s=(r-o)%q,t=r-s,2*Math.abs(s)>=q&&(t+=s>0?q:-q),u=100/((p-o)/q),r=parseFloat(t.toFixed(5)),"undefined"==typeof j&&(j=g/((p-o)/q)),j>1&&m&&(k=(r-o)*u*(1/q)),k<0&&(k=0),k>100&&(k=100),r<o&&(r=o),r>p&&(r=p),this.handle.css("left",k+"%"),this.handle[0].setAttribute("aria-valuenow",m?r:n.eq(r).attr("value")),this.handle[0].setAttribute("aria-valuetext",m?r:n.eq(r).getEncodedText()),this.handle[0].setAttribute("title",m?r:n.eq(r).getEncodedText()),this.valuebg&&this.valuebg.css("width",k+"%"),this._labels&&(v=this.handle.width()/this.slider.width()*100,w=k&&v+(100-v)*k/100,x=100===k?0:Math.min(v+100-w,100),this._labels.each(function(){var b=a(this).hasClass("ui-slider-label-a");a(this).width((b?w:x)+"%")})),!e)){if(y=!1,m?(y=parseFloat(l.val())!==r,l.val(r)):(y=l[0].selectedIndex!==r,l[0].selectedIndex=r),this._trigger("beforechange",b)===!1)return!1;!d&&y&&l.trigger("change")}},_setHighlight:function(a){a=!!a,a?(this.options.highlight=!!a,this.refresh()):this.valuebg&&(this.valuebg.remove(),this.valuebg=!1)},_setTheme:function(a){this.handle.removeClass("ui-btn-"+this.options.theme).addClass("ui-btn-"+a);var b=this.options.theme?this.options.theme:"inherit",c=a?a:"inherit";this.control.removeClass("ui-body-"+b).addClass("ui-body-"+c)},_setTrackTheme:function(a){var b=this.options.trackTheme?this.options.trackTheme:"inherit",c=a?a:"inherit";this.slider.removeClass("ui-body-"+b).addClass("ui-body-"+c)},_setMini:function(a){a=!!a,this.isToggleSwitch||this.isRangeslider||(this.slider.parent().toggleClass("ui-mini",a),this.element.toggleClass("ui-mini",a)),this.slider.toggleClass("ui-mini",a)},_setCorners:function(a){this.slider.toggleClass("ui-corner-all",a),this.isToggleSwitch||this.control.toggleClass("ui-corner-all",a)},_setDisabled:function(a){a=!!a,this.element.prop("disabled",a),this.slider.toggleClass("ui-state-disabled",a).attr("aria-disabled",a),this.element.toggleClass("ui-state-disabled",a)}},a.mobile.behaviors.formReset))}(a),function(a,b){function c(){return d||(d=a("<div></div>",{class:"ui-slider-popup ui-shadow ui-corner-all"})),d.clone()}var d;a.widget("mobile.slider",a.mobile.slider,{options:{popupEnabled:!1,showValue:!1},_create:function(){this._super(),a.extend(this,{_currentValue:null,_popup:null,_popupVisible:!1}),this._setOption("popupEnabled",this.options.popupEnabled),this._on(this.handle,{vmousedown:"_showPopup"}),this._on(this.slider.add(this.document),{vmouseup:"_hidePopup"}),this._refresh()},_positionPopup:function(){var a=this.handle.offset();this._popup.offset({left:a.left+(this.handle.width()-this._popup.width())/2,top:a.top-this._popup.outerHeight()-5})},_setOption:function(a,b){this._super(a,b),"showValue"===a?this.handle.html(b&&!this.options.mini?this._value():""):"popupEnabled"===a&&b&&!this._popup&&(this._popup=c().addClass("ui-body-"+(this.options.theme||"a")).hide().insertBefore(this.element))},refresh:function(){this._super.apply(this,arguments),this._refresh()},_refresh:function(){var a,b=this.options;b.popupEnabled&&this.handle.removeAttr("title"),a=this._value(),a!==this._currentValue&&(this._currentValue=a,b.popupEnabled&&this._popup&&(this._positionPopup(),this._popup.html(a)),b.showValue&&!this.options.mini&&this.handle.html(a))},_showPopup:function(){this.options.popupEnabled&&!this._popupVisible&&(this.handle.html(""),this._popup.show(),this._positionPopup(),this._popupVisible=!0)},_hidePopup:function(){var a=this.options;a.popupEnabled&&this._popupVisible&&(a.showValue&&!a.mini&&this.handle.html(this._value()),this._popup.hide(),this._popupVisible=!1)}})}(a),function(a,b){a.widget("mobile.flipswitch",a.extend({options:{onText:"On",offText:"Off",theme:null,enhanced:!1,wrapperClass:null,corners:!0,mini:!1},_create:function(){this.options.enhanced?a.extend(this,{flipswitch:this.element.parent(),on:this.element.find(".ui-flipswitch-on").eq(0),off:this.element.find(".ui-flipswitch-off").eq(0),type:this.element.get(0).tagName}):this._enhance(),this._handleFormReset(),this._originalTabIndex=this.element.attr("tabindex"),null!=this._originalTabIndex&&this.on.attr("tabindex",this._originalTabIndex),this.element.attr("tabindex","-1"),this._on({focus:"_handleInputFocus"}),this.element.is(":disabled")&&this._setOptions({disabled:!0}),this._on(this.flipswitch,{click:"_toggle",swipeleft:"_left",swiperight:"_right"}),this._on(this.on,{keydown:"_keydown"}),this._on({change:"refresh"})},_handleInputFocus:function(){this.on.focus()},widget:function(){return this.flipswitch},_left:function(){this.flipswitch.removeClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=0:this.element.prop("checked",!1),this.element.trigger("change")},_right:function(){this.flipswitch.addClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=1:this.element.prop("checked",!0),this.element.trigger("change")},_enhance:function(){var b=a("<div>"),c=this.options,d=this.element,e=c.theme?c.theme:"inherit",f=a("<a></a>",{href:"#"}),g=a("<span></span>"),h=d.get(0).tagName,i="INPUT"===h?c.onText:d.find("option").eq(1).text(),j="INPUT"===h?c.offText:d.find("option").eq(0).text();f.addClass("ui-flipswitch-on ui-btn ui-shadow ui-btn-inherit").text(i),g.addClass("ui-flipswitch-off").text(j),b.addClass("ui-flipswitch ui-shadow-inset ui-bar-"+e+" "+(c.wrapperClass?c.wrapperClass:"")+" "+(d.is(":checked")||d.find("option").eq(1).is(":selected")?"ui-flipswitch-active":"")+(d.is(":disabled")?" ui-state-disabled":"")+(c.corners?" ui-corner-all":"")+(c.mini?" ui-mini":"")).append(f,g),d.addClass("ui-flipswitch-input").after(b).appendTo(b),a.extend(this,{flipswitch:b,on:f,off:g,type:h})},_reset:function(){this.refresh()},refresh:function(){var a,b=this.flipswitch.hasClass("ui-flipswitch-active")?"_right":"_left";a="SELECT"===this.type?this.element.get(0).selectedIndex>0?"_right":"_left":this.element.prop("checked")?"_right":"_left",a!==b&&this[a]()},_toggle:function(){var a=this.flipswitch.hasClass("ui-flipswitch-active")?"_left":"_right";this[a]()},_keydown:function(b){b.which===a.mobile.keyCode.LEFT?this._left():b.which===a.mobile.keyCode.RIGHT?this._right():b.which===a.mobile.keyCode.SPACE&&(this._toggle(),b.preventDefault())},_setOptions:function(a){if(a.theme!==b){var c=a.theme?a.theme:"inherit",d=a.theme?a.theme:"inherit";this.widget().removeClass("ui-bar-"+c).addClass("ui-bar-"+d)}a.onText!==b&&this.on.text(a.onText),a.offText!==b&&this.off.text(a.offText),a.disabled!==b&&this.widget().toggleClass("ui-state-disabled",a.disabled),a.mini!==b&&this.widget().toggleClass("ui-mini",a.mini),a.corners!==b&&this.widget().toggleClass("ui-corner-all",a.corners),this._super(a)},_destroy:function(){this.options.enhanced||(null!=this._originalTabIndex?this.element.attr("tabindex",this._originalTabIndex):this.element.removeAttr("tabindex"),this.on.remove(),this.off.remove(),this.element.unwrap(),this.flipswitch.remove(),this.removeClass("ui-flipswitch-input"))}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.rangeslider",a.extend({options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!0},_create:function(){var b=this.element,c=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",d=b.find("input").first(),e=b.find("input").last(),f=b.find("label").first(),g=a.data(d.get(0),"mobile-slider")||a.data(d.slider().get(0),"mobile-slider"),h=a.data(e.get(0),"mobile-slider")||a.data(e.slider().get(0),"mobile-slider"),i=g.slider,j=h.slider,k=g.handle,l=a("<div class='ui-rangeslider-sliders' />").appendTo(b);d.addClass("ui-rangeslider-first"),e.addClass("ui-rangeslider-last"),b.addClass(c),i.appendTo(l),j.appendTo(l),f.insertBefore(b),k.prependTo(j),a.extend(this,{_inputFirst:d,_inputLast:e,_sliderFirst:i,_sliderLast:j,_label:f,_targetVal:null,_sliderTarget:!1,_sliders:l,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(k,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var a=this;setTimeout(function(){a._updateHighlight()},0)},_dragFirstHandle:function(b){return a.data(this._inputFirst.get(0),"mobile-slider").dragging=!0,a.data(this._inputFirst.get(0),"mobile-slider").refresh(b),a.data(this._inputFirst.get(0),"mobile-slider")._trigger("start"),!1},_slidedrag:function(b){var c=a(b.target).is(this._inputFirst),d=c?this._inputLast:this._inputFirst;if(this._sliderTarget=!1,"first"===this._proxy&&c||"last"===this._proxy&&!c)return a.data(d.get(0),"mobile-slider").dragging=!0,a.data(d.get(0),"mobile-slider").refresh(b),!1},_slidestop:function(b){var c=a(b.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",c?1:"")},_slidebeforestart:function(b){this._sliderTarget=!1,a(b.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=a(b.target).val())},_setOptions:function(a){a.theme!==b&&this._setTheme(a.theme),a.trackTheme!==b&&this._setTrackTheme(a.trackTheme),a.mini!==b&&this._setMini(a.mini),a.highlight!==b&&this._setHighlight(a.highlight),a.disabled!==b&&this._setDisabled(a.disabled),this._super(a),this.refresh()},refresh:function(){var a=this.element,b=this.options;(this._inputFirst.is(":disabled")||this._inputLast.is(":disabled"))&&(this.options.disabled=!0),a.find("input").slider({theme:b.theme,trackTheme:b.trackTheme,disabled:b.disabled,corners:b.corners,mini:b.mini,highlight:b.highlight}).slider("refresh"),this._updateHighlight()},_change:function(b){if("keyup"===b.type)return this._updateHighlight(),!1;var c=this,d=parseFloat(this._inputFirst.val(),10),e=parseFloat(this._inputLast.val(),10),f=a(b.target).hasClass("ui-rangeslider-first"),g=f?this._inputFirst:this._inputLast,h=f?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===b.type&&!a(b.target).hasClass("ui-slider-handle"))g.blur();else if("mousedown"===b.type)return;return d>e&&!this._sliderTarget?(g.val(f?e:d).slider("refresh"),this._trigger("normalize")):d>e&&(g.val(this._targetVal).slider("refresh"),setTimeout(function(){h.val(f?d:e).slider("refresh"),a.data(h.get(0),"mobile-slider").handle.focus(),c._sliderFirst.css("z-index",f?"":1),c._trigger("normalize")},0),this._proxy=f?"first":"last"),d===e?(a.data(g.get(0),"mobile-slider").handle.css("z-index",1),a.data(h.get(0),"mobile-slider").handle.css("z-index",0)):(a.data(h.get(0),"mobile-slider").handle.css("z-index",""),a.data(g.get(0),"mobile-slider").handle.css("z-index","")),this._updateHighlight(),!(d>=e)&&void 0},_updateHighlight:function(){var b=parseInt(a.data(this._inputFirst.get(0),"mobile-slider").handle.get(0).style.left,10),c=parseInt(a.data(this._inputLast.get(0),"mobile-slider").handle.get(0).style.left,10),d=c-b;this.element.find(".ui-slider-bg").css({"margin-left":b+"%",width:d+"%"})},_setTheme:function(a){this._inputFirst.slider("option","theme",a),this._inputLast.slider("option","theme",a)},_setTrackTheme:function(a){this._inputFirst.slider("option","trackTheme",a),this._inputLast.slider("option","trackTheme",a)},_setMini:function(a){this._inputFirst.slider("option","mini",a),this._inputLast.slider("option","mini",a),this.element.toggleClass("ui-mini",!!a)},_setHighlight:function(a){this._inputFirst.slider("option","highlight",a),this._inputLast.slider("option","highlight",a)},_setDisabled:function(a){this._inputFirst.prop("disabled",a),this._inputLast.prop("disabled",a)},_destroy:function(){this._label.prependTo(this.element),this.element.removeClass("ui-rangeslider ui-mini"),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.textinput",a.mobile.textinput,{options:{clearBtn:!1,clearBtnText:"Clear text"},_create:function(){this._super(),this.isSearch&&(this.options.clearBtn=!0),this.options.clearBtn&&this.inputNeedsWrap&&this._addClearBtn()},clearButton:function(){return a("<a href='#' tabindex='-1' aria-hidden='true' class='ui-input-clear ui-btn ui-icon-delete ui-btn-icon-notext ui-corner-all'></a>").attr("title",this.options.clearBtnText).text(this.options.clearBtnText)},_clearBtnClick:function(a){this.element.val("").focus().trigger("change"),this._clearBtn.addClass("ui-input-clear-hidden"),a.preventDefault()},_addClearBtn:function(){this.options.enhanced||this._enhanceClear(),a.extend(this,{_clearBtn:this.widget().find("a.ui-input-clear")}),this._bindClearEvents(),this._toggleClear()},_enhanceClear:function(){this.clearButton().appendTo(this.widget()),this.widget().addClass("ui-input-has-clear")},_bindClearEvents:function(){this._on(this._clearBtn,{click:"_clearBtnClick"}),this._on({keyup:"_toggleClear",change:"_toggleClear",input:"_toggleClear",focus:"_toggleClear",blur:"_toggleClear",cut:"_toggleClear",paste:"_toggleClear"})},_unbindClear:function(){this._off(this._clearBtn,"click"),this._off(this.element,"keyup change input focus blur cut paste")},_setOptions:function(a){this._super(a),a.clearBtn===b||this.element.is("textarea, :jqmData(type='range')")||(a.clearBtn?this._addClearBtn():this._destroyClear()),a.clearBtnText!==b&&this._clearBtn!==b&&this._clearBtn.text(a.clearBtnText).attr("title",a.clearBtnText)},_toggleClear:function(){this._delay("_toggleClearClass",0)},_toggleClearClass:function(){this._clearBtn.toggleClass("ui-input-clear-hidden",!this.element.val())},_destroyClear:function(){this.widget().removeClass("ui-input-has-clear"),this._unbindClear(),this._clearBtn.remove()},_destroy:function(){this._super(),this.options.clearBtn&&this._destroyClear()}})}(a),function(a,b){a.widget("mobile.textinput",a.mobile.textinput,{options:{autogrow:!0,keyupTimeoutBuffer:100},_create:function(){this._super(),this.options.autogrow&&this.isTextarea&&this._autogrow()},_autogrow:function(){this.element.addClass("ui-textinput-autogrow"),this._on({keyup:"_timeout",change:"_timeout",input:"_timeout",paste:"_timeout"}),this._on(!0,this.document,{pageshow:"_handleShow",popupbeforeposition:"_handleShow",updatelayout:"_handleShow",panelopen:"_handleShow"})},_handleShow:function(b){a.contains(b.target,this.element[0])&&this.element.is(":visible")&&("popupbeforeposition"!==b.type&&this.element.addClass("ui-textinput-autogrow-resize").animationComplete(a.proxy(function(){this.element.removeClass("ui-textinput-autogrow-resize")},this),"transition"),this._prepareHeightUpdate())},_unbindAutogrow:function(){this.element.removeClass("ui-textinput-autogrow"),this._off(this.element,"keyup change input paste"),this._off(this.document,"pageshow popupbeforeposition updatelayout panelopen")},keyupTimeout:null,_prepareHeightUpdate:function(a){this.keyupTimeout&&clearTimeout(this.keyupTimeout),a===b?this._updateHeight():this.keyupTimeout=this._delay("_updateHeight",a)},_timeout:function(){this._prepareHeightUpdate(this.options.keyupTimeoutBuffer)},_updateHeight:function(){var a,b,c,d,e,f,g,h,i,j=this.window.scrollTop();this.keyupTimeout=0,"onpage"in this.element[0]||this.element.css({height:0,"min-height":0,"max-height":0}),d=this.element[0].scrollHeight,e=this.element[0].clientHeight,f=parseFloat(this.element.css("border-top-width")),g=parseFloat(this.element.css("border-bottom-width")),h=f+g,i=d+h+15,0===e&&(a=parseFloat(this.element.css("padding-top")),b=parseFloat(this.element.css("padding-bottom")),c=a+b,i+=c),this.element.css({height:i,"min-height":"","max-height":""}),this.window.scrollTop(j)},refresh:function(){this.options.autogrow&&this.isTextarea&&this._updateHeight()},_setOptions:function(a){this._super(a),a.autogrow!==b&&this.isTextarea&&(a.autogrow?this._autogrow():this._unbindAutogrow())}})}(a),function(a,d){a.widget("mobile.selectmenu",a.extend({initSelector:"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )",options:{theme:null,icon:"carat-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!1,overlayTheme:null,dividerTheme:null,hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,mini:!1},_button:function(){return a("<div/>")},_setDisabled:function(a){return this.element.attr("disabled",a),this.button.attr("aria-disabled",a),this._setOption("disabled",a)},_focusButton:function(){var a=this;setTimeout(function(){a.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var b=this.options.inline||this.element.jqmData("inline"),c=this.options.mini||this.element.jqmData("mini"),d="";~this.element[0].className.indexOf("ui-btn-left")&&(d=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(d=" ui-btn-right"),b&&(d+=" ui-btn-inline"),c&&(d+=" ui-mini"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+d+"'>"),this.selectId=this.select.attr("id")||"select-"+this.uuid,this.buttonId=this.selectId+"-button",this.label=a("label[for='"+this.selectId+"']"),this.isMultiple=this.select[0].multiple},_destroy:function(){var a=this.element.parents(".ui-select");a.length>0&&(a.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(a.hasClass("ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(a),a.remove())},_create:function(){this._preExtension(),this.button=this._button();var c=this,d=this.options,e=!!d.icon&&(d.iconpos||this.select.jqmData("iconpos")),f=this.button.insertBefore(this.select).attr("id",this.buttonId).addClass("ui-btn"+(d.icon?" ui-icon-"+d.icon+" ui-btn-icon-"+e+(d.iconshadow?" ui-shadow-icon":""):"")+(d.theme?" ui-btn-"+d.theme:"")+(d.corners?" ui-corner-all":"")+(d.shadow?" ui-shadow":""));this.setButtonText(),d.nativeMenu&&b.opera&&b.opera.version&&f.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=a("<span>").addClass("ui-li-count ui-body-inherit").hide().appendTo(f.addClass("ui-li-has-count"))),(d.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){c.refresh(),d.nativeMenu&&c._delay(function(){c.select.blur()})}),this._handleFormReset(),this._on(this.button,{keydown:"_handleKeydown"}),this.build()},build:function(){var b=this;this.select.appendTo(b.button).bind("vmousedown",function(){b.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){b.button.addClass(a.mobile.focusClass)}).bind("blur",function(){b.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",function(){b.button.trigger("vmouseover")}).bind("vmousemove",function(){b.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){b.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}),b.button.bind("vmousedown",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.label.bind("click focus",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.select.bind("focus",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.button.bind("mouseup",function(){b.options.preventFocusZoom&&setTimeout(function(){a.mobile.zoom.enable(!0)},0)}),b.select.bind("blur",function(){b.options.preventFocusZoom&&a.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var a=this;return this.selected().map(function(){return a._selectOptions().index(this)}).get()},setButtonText:function(){var b=this,d=this.selected(),e=this.placeholder,f=a(c.createElement("span"));this.button.children("span").not(".ui-li-count").remove().end().end().prepend(function(){return e=d.length?d.map(function(){return a(this).text()}).get().join(", "):b.placeholder,e?f.text(e):f.html("&#160;"),f.addClass(b.select.attr("class")).addClass(d.attr("class")).removeClass("ui-screen-hidden")}())},setButtonCount:function(){var a=this.selected();this.isMultiple&&this.buttonCount[a.length>1?"show":"hide"]().text(a.length)},_handleKeydown:function(){this._delay("_refreshButton")},_reset:function(){this.refresh()},_refreshButton:function(){this.setButtonText(),this.setButtonCount()},refresh:function(){this._refreshButton()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-state-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-state-disabled")}},a.mobile.behaviors.formReset))}(a),function(a,b){a.mobile.links=function(b){a(b).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var a=this,b=a.getAttribute("href").substring(1);b&&(a.setAttribute("aria-haspopup",!0),a.setAttribute("aria-owns",b),a.setAttribute("aria-expanded",!1))}).end().not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")}}(a),function(a,c){function d(a,b,c,d){var e=d;return e=a<b?c+(a-b)/2:Math.min(Math.max(c,d-b/2),c+a-b)}function e(a){return{x:a.scrollLeft(),y:a.scrollTop(),cx:a[0].innerWidth||a.width(),cy:a[0].innerHeight||a.height()}}a.widget("mobile.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,enhanced:!1,history:!a.mobile.browser.oldIE},_handleDocumentVmousedown:function(b){this._isOpen&&a.contains(this._ui.container[0],b.target)&&this._ignoreResizeEvents()},_create:function(){var b=this.element,c=b.attr("id"),d=this.options;d.history=d.history&&a.mobile.ajaxEnabled&&a.mobile.hashListeningEnabled,this._on(this.document,{vmousedown:"_handleDocumentVmousedown"}),a.extend(this,{_scrollTop:0,_page:b.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),0===this._page.length&&(this._page=a("body")),d.enhanced?this._ui={container:b.parent(),screen:b.parent().prev(),placeholder:a(this.document[0].getElementById(c+"-placeholder"))}:(this._ui=this._enhance(b,c),this._applyTransition(d.transition)),this._setTolerance(d.tolerance)._ui.focusElement=this._ui.container,this._on(this._ui.screen,{vclick:"_eatEventAndClose"}),this._on(this.window,{orientationchange:a.proxy(this,"_handleWindowOrientationchange"),resize:a.proxy(this,"_handleWindowResize"),keyup:a.proxy(this,"_handleWindowKeyUp")}),this._on(this.document,{focusin:"_handleDocumentFocusIn"})},_enhance:function(b,c){var d=this.options,e=d.wrapperClass,f={screen:a("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",d.overlayTheme)+"'></div>"),placeholder:a("<div style='display: none;'><!-- placeholder --></div>"),container:a("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+(e?" "+e:"")+"'></div>")},g=this.document[0].createDocumentFragment();return g.appendChild(f.screen[0]),g.appendChild(f.container[0]),c&&(f.screen.attr("id",c+"-screen"),f.container.attr("id",c+"-popup"),f.placeholder.attr("id",c+"-placeholder").html("<!-- placeholder for "+c+" -->")),this._page[0].appendChild(g),f.placeholder.insertAfter(b),b.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",d.theme)+" "+(d.shadow?"ui-overlay-shadow ":"")+(d.corners?"ui-corner-all ":"")).appendTo(f.container),f},_eatEventAndClose:function(a){return a.preventDefault(),a.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var a=this._ui.screen,b=this._ui.container.outerHeight(!0),c=a.removeAttr("style").height(),d=this.document.height()-1;c<d?a.height(d):b>c&&a.height(b)},_handleWindowKeyUp:function(b){if(this._isOpen&&b.keyCode===a.mobile.keyCode.ESCAPE)return this._eatEventAndClose(b)},_expectResizeEvent:function(){var a=e(this.window);if(this._resizeData){if(a.x===this._resizeData.windowCoordinates.x&&a.y===this._resizeData.windowCoordinates.y&&a.cx===this._resizeData.windowCoordinates.cx&&a.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:a},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(b){var c,d=b.target,e=this._ui;if(this._isOpen){if(d!==e.container[0]){if(c=a(d),!a.contains(e.container[0],d))return a(this.document[0].activeElement).one("focus",a.proxy(function(){this._safelyBlur(d)},this)),e.focusElement.focus(),b.preventDefault(),b.stopImmediatePropagation(),!1;e.focusElement[0]===e.container[0]&&(e.focusElement=c)}this._ignoreResizeEvents()}},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:a+"inherit"},_applyTransition:function(b){return b&&(this._ui.container.removeClass(this._fallbackTransition),"none"!==b&&(this._fallbackTransition=a.mobile._maybeDegradeTransition(b),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))),this},_setOptions:function(a){var b=this.options,d=this.element,e=this._ui.screen;return a.wrapperClass!==c&&this._ui.container.removeClass(b.wrapperClass).addClass(a.wrapperClass),a.theme!==c&&d.removeClass(this._themeClassFromOption("ui-body-",b.theme)).addClass(this._themeClassFromOption("ui-body-",a.theme)),a.overlayTheme!==c&&(e.removeClass(this._themeClassFromOption("ui-overlay-",b.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",a.overlayTheme)),this._isOpen&&e.addClass("in")),a.shadow!==c&&d.toggleClass("ui-overlay-shadow",a.shadow),a.corners!==c&&d.toggleClass("ui-corner-all",a.corners),a.transition!==c&&(this._currentTransition||this._applyTransition(a.transition)),a.tolerance!==c&&this._setTolerance(a.tolerance),a.disabled!==c&&a.disabled&&this.close(),this._super(a)},_setTolerance:function(b){var d,e={t:30,r:15,b:30,l:15};if(b!==c)switch(d=String(b).split(","),a.each(d,function(a,b){d[a]=parseInt(b,10)}),d.length){case 1:isNaN(d[0])||(e.t=e.r=e.b=e.l=d[0]);break;case 2:isNaN(d[0])||(e.t=e.b=d[0]),isNaN(d[1])||(e.l=e.r=d[1]);break;case 4:isNaN(d[0])||(e.t=d[0]),isNaN(d[1])||(e.r=d[1]),isNaN(d[2])||(e.b=d[2]),isNaN(d[3])||(e.l=d[3])}return this._tolerance=e,this},_clampPopupWidth:function(a){var b,c=e(this.window),d={x:this._tolerance.l,y:c.y+this._tolerance.t,cx:c.cx-this._tolerance.l-this._tolerance.r,cy:c.cy-this._tolerance.t-this._tolerance.b};return a||this._ui.container.css("max-width",d.cx),b={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},{rc:d,menuSize:b}},_calculateFinalLocation:function(a,b){var c,e=b.rc,f=b.menuSize;return c={left:d(e.cx,f.cx,e.x,a.x),top:d(e.cy,f.cy,e.y,a.y)},c.top=Math.max(0,c.top),c.top-=Math.min(c.top,Math.max(0,c.top+f.cy-this.document.height())),c},_placementCoords:function(a){return this._calculateFinalLocation(a,this._clampPopupWidth())},_createPrerequisites:function(b,c,d){var e,f=this;e={screen:a.Deferred(),container:a.Deferred()},e.screen.then(function(){e===f._prerequisites&&b()}),e.container.then(function(){e===f._prerequisites&&c()}),a.when(e.screen,e.container).done(function(){e===f._prerequisites&&(f._prerequisites=null,d())}),f._prerequisites=e},_animate:function(b){return this._ui.screen.removeClass(b.classToRemove).addClass(b.screenClassToAdd),b.prerequisites.screen.resolve(),b.transition&&"none"!==b.transition&&(b.applyTransition&&this._applyTransition(b.transition),this._fallbackTransition)?void this._ui.container.addClass(b.containerClassToAdd).removeClass(b.classToRemove).animationComplete(a.proxy(b.prerequisites.container,"resolve")):(this._ui.container.removeClass(b.classToRemove),void b.prerequisites.container.resolve())},_desiredCoords:function(b){var c,d=null,f=e(this.window),g=b.x,h=b.y,i=b.positionTo;if(i&&"origin"!==i)if("window"===i)g=f.cx/2+f.x,h=f.cy/2+f.y;else{try{d=a(i)}catch(a){d=null}d&&(d.filter(":visible"),0===d.length&&(d=null))}return d&&(c=d.offset(),g=c.left+d.outerWidth()/2,h=c.top+d.outerHeight()/2),("number"!==a.type(g)||isNaN(g))&&(g=f.cx/2+f.x),("number"!==a.type(h)||isNaN(h))&&(h=f.cy/2+f.y),{x:g,y:h}},_reposition:function(a){a={x:a.x,y:a.y,positionTo:a.positionTo},this._trigger("beforeposition",c,a),this._ui.container.offset(this._placementCoords(this._desiredCoords(a)))},reposition:function(a){this._isOpen&&this._reposition(a)},_safelyBlur:function(b){b!==this.window[0]&&"body"!==b.nodeName.toLowerCase()&&a(b).blur()},_openPrerequisitesComplete:function(){var b=this.element.attr("id"),c=this._ui.container.find(":focusable").first();this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),a.contains(this._ui.container[0],this.document[0].activeElement)||this._safelyBlur(this.document[0].activeElement),c.length>0&&(this._ui.focusElement=c),this._ignoreResizeEvents(),b&&this.document.find("[aria-haspopup='true'][aria-owns='"+b+"']").attr("aria-expanded",!0),this._trigger("afteropen")},_open:function(b){var c=a.extend({},this.options,b),d=function(){var a=navigator.userAgent,b=a.match(/AppleWebKit\/([0-9\.]+)/),c=!!b&&b[1],d=a.match(/Android (\d+(?:\.\d+))/),e=!!d&&d[1],f=a.indexOf("Chrome")>-1;return!(!(null!==d&&"4.0"===e&&c&&c>534.13)||f)}();this._createPrerequisites(a.noop,a.noop,a.proxy(this,"_openPrerequisitesComplete")),this._currentTransition=c.transition,this._applyTransition(c.transition),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-truncate"),this._reposition(c),this._ui.container.removeClass("ui-popup-hidden"),this.options.overlayTheme&&d&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:c.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_closePrerequisitesDone:function(){var b=this._ui.container,d=this.element.attr("id");
a.mobile.popup.active=c,a(":focus",b[0]).add(b[0]).blur(),d&&this.document.find("[aria-haspopup='true'][aria-owns='"+d+"']").attr("aria-expanded",!1),this._trigger("afterclose")},_close:function(b){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrerequisites(a.proxy(this,"_closePrerequisiteScreen"),a.proxy(this,"_closePrerequisiteContainer"),a.proxy(this,"_closePrerequisitesDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:b?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){this.options.enhanced||(this._setOptions({theme:a.mobile.popup.prototype.options.theme}),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove())},_destroy:function(){return a.mobile.popup.active===this?(this.element.one("popupafterclose",a.proxy(this,"_unenhance")),this.close()):this._unenhance(),this},_closePopup:function(c,d){var e,f,g=this.options,h=!1;c&&c.isDefaultPrevented()||a.mobile.popup.active!==this||(b.scrollTo(0,this._scrollTop),c&&"pagebeforechange"===c.type&&d&&(e="string"==typeof d.toPage?d.toPage:d.toPage.jqmData("url"),e=a.mobile.path.parseUrl(e),f=e.pathname+e.search+e.hash,this._myUrl!==a.mobile.path.makeUrlAbsolute(f)?h=!0:c.preventDefault()),this.window.off(g.closeEvents),this.element.undelegate(g.closeLinkSelector,g.closeLinkEvents),this._close(h))},_bindContainerClose:function(){this.window.on(this.options.closeEvents,a.proxy(this,"_closePopup"))},widget:function(){return this._ui.container},open:function(b){var c,d,e,f,g,h,i=this,j=this.options;return a.mobile.popup.active||j.disabled?this:(a.mobile.popup.active=this,this._scrollTop=this.window.scrollTop(),j.history?(h=a.mobile.navigate.history,d=a.mobile.dialogHashKey,e=a.mobile.activePage,f=!!e&&e.hasClass("ui-dialog"),this._myUrl=c=h.getActive().url,(g=c.indexOf(d)>-1&&!f&&h.activeIndex>0)?(i._open(b),i._bindContainerClose(),this):(c.indexOf(d)!==-1||f?c=a.mobile.path.parseLocation().hash+d:c+=c.indexOf("#")>-1?d:"#"+d,this.window.one("beforenavigate",function(a){a.preventDefault(),i._open(b),i._bindContainerClose()}),this.urlAltered=!0,a.mobile.navigate(c,{role:"dialog"}),this)):(i._open(b),i._bindContainerClose(),i.element.delegate(j.closeLinkSelector,j.closeLinkEvents,function(a){i.close(),a.preventDefault()}),this))},close:function(){return a.mobile.popup.active!==this?this:(this._scrollTop=this.window.scrollTop(),this.options.history&&this.urlAltered?(a.mobile.back(),this.urlAltered=!1):this._closePopup(),this)}}),a.mobile.popup.handleLink=function(b){var c,d=a.mobile.path,e=a(d.hashToSelector(d.parseUrl(b.attr("href")).hash)).first();e.length>0&&e.data("mobile-popup")&&(c=b.offset(),e.popup("open",{x:c.left+b.outerWidth()/2,y:c.top+b.outerHeight()/2,transition:b.jqmData("transition"),positionTo:b.jqmData("position-to")})),setTimeout(function(){b.removeClass(a.mobile.activeBtnClass)},300)},a.mobile.document.on("pagebeforechange",function(b,c){"popup"===c.options.role&&(a.mobile.popup.handleLink(c.options.link),b.preventDefault())})}(a),function(a,b){var d=".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')",e=function(a,b,c){var e=a[c+"All"]().not(d).first();e.length&&(b.blur().attr("tabindex","-1"),e.find("a").first().focus())};a.widget("mobile.selectmenu",a.mobile.selectmenu,{_create:function(){var a=this.options;return a.nativeMenu=a.nativeMenu||this.element.parents(":jqmData(role='popup'),:mobile-popup").length>0,this._super()},_handleSelectFocus:function(){this.element.blur(),this.button.focus()},_handleKeydown:function(a){this._super(a),this._handleButtonVclickKeydown(a)},_handleButtonVclickKeydown:function(b){this.options.disabled||this.isOpen||this.options.nativeMenu||("vclick"===b.type||b.keyCode&&(b.keyCode===a.mobile.keyCode.ENTER||b.keyCode===a.mobile.keyCode.SPACE))&&(this._decideFormat(),"overlay"===this.menuType?this.button.attr("href","#"+this.popupId).attr("data-"+(a.mobile.ns||"")+"rel","popup"):this.button.attr("href","#"+this.dialogId).attr("data-"+(a.mobile.ns||"")+"rel","dialog"),this.isOpen=!0)},_handleListFocus:function(b){var c="focusin"===b.type?{tabindex:"0",event:"vmouseover"}:{tabindex:"-1",event:"vmouseout"};a(b.target).attr("tabindex",c.tabindex).trigger(c.event)},_handleListKeydown:function(b){var c=a(b.target),d=c.closest("li");switch(b.keyCode){case 38:return e(d,c,"prev"),!1;case 40:return e(d,c,"next"),!1;case 13:case 32:return c.trigger("click"),!1}},_handleMenuPageHide:function(){this._delayedTrigger(),this.thisPage.page("bindRemove")},_handleHeaderCloseClick:function(){if("overlay"===this.menuType)return this.close(),!1},_handleListItemClick:function(b){var c=a(b.target).closest("li"),d=this.select[0].selectedIndex,e=a.mobile.getAttribute(c,"option-index"),f=this._selectOptions().eq(e)[0];f.selected=!this.isMultiple||!f.selected,this.isMultiple&&c.find("a").toggleClass("ui-checkbox-on",f.selected).toggleClass("ui-checkbox-off",!f.selected),this.isMultiple||d===e||(this._triggerChange=!0),this.isMultiple?(this.select.trigger("change"),this.list.find("li:not(.ui-li-divider)").eq(e).find("a").first().focus()):this.close(),b.preventDefault()},build:function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this.options;return v.nativeMenu?this._super():(c=this.selectId,d=c+"-listbox",e=c+"-dialog",f=this.label,g=this.element.closest(".ui-page"),h=this.element[0].multiple,i=c+"-menu",j=v.theme?" data-"+a.mobile.ns+"theme='"+v.theme+"'":"",k=v.overlayTheme||v.theme||null,l=k?" data-"+a.mobile.ns+"overlay-theme='"+k+"'":"",m=v.dividerTheme&&h?" data-"+a.mobile.ns+"divider-theme='"+v.dividerTheme+"'":"",n=a("<div data-"+a.mobile.ns+"role='dialog' class='ui-selectmenu' id='"+e+"'"+j+l+"><div data-"+a.mobile.ns+"role='header'><div class='ui-title'></div></div><div data-"+a.mobile.ns+"role='content'></div></div>"),o=a("<div"+j+l+" id='"+d+"' class='ui-selectmenu'></div>").insertAfter(this.select).popup(),p=a("<ul class='ui-selectmenu-list' id='"+i+"' role='listbox' aria-labelledby='"+this.buttonId+"'"+j+m+"></ul>").appendTo(o),q=a("<div class='ui-header ui-bar-"+(v.theme?v.theme:"inherit")+"'></div>").prependTo(o),r=a("<h1 class='ui-title'></h1>").appendTo(q),this.isMultiple&&(u=a("<a>",{role:"button",text:v.closeText,href:"#",class:"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete"}).appendTo(q)),a.extend(this,{selectId:c,menuId:i,popupId:d,dialogId:e,thisPage:g,menuPage:n,label:f,isMultiple:h,theme:v.theme,listbox:o,list:p,header:q,headerTitle:r,headerClose:u,menuPageContent:s,menuPageClose:t,placeholder:""}),this.refresh(),this._origTabIndex===b&&(this._origTabIndex=null!==this.select[0].getAttribute("tabindex")&&this.select.attr("tabindex")),this.select.attr("tabindex","-1"),this._on(this.select,{focus:"_handleSelectFocus"}),this._on(this.button,{vclick:"_handleButtonVclickKeydown"}),this.list.attr("role","listbox"),this._on(this.list,{focusin:"_handleListFocus",focusout:"_handleListFocus",keydown:"_handleListKeydown","click li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)":"_handleListItemClick"}),this._on(this.menuPage,{pagehide:"_handleMenuPageHide"}),this._on(this.listbox,{popupafterclose:"_popupClosed"}),this.isMultiple&&this._on(this.headerClose,{click:"_handleHeaderCloseClick"}),this)},_popupClosed:function(){this.close(),this._delayedTrigger()},_delayedTrigger:function(){this._triggerChange&&this.element.trigger("change"),this._triggerChange=!1},_isRebuildRequired:function(){var a=this.list.find("li"),b=this._selectOptions().not(".ui-screen-hidden");return b.text()!==a.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(b){var c,d;return this.options.nativeMenu?this._super(b):(c=this,(b||this._isRebuildRequired())&&c._buildList(),d=this.selectedIndices(),c.setButtonText(),c.setButtonCount(),void c.list.find("li:not(.ui-li-divider)").find("a").removeClass(a.mobile.activeBtnClass).end().attr("aria-selected",!1).each(function(b){var e=a(this);a.inArray(b,d)>-1?(e.attr("aria-selected",!0),c.isMultiple?e.find("a").removeClass("ui-checkbox-off").addClass("ui-checkbox-on"):e.hasClass("ui-screen-hidden")?e.next().find("a").addClass(a.mobile.activeBtnClass):e.find("a").addClass(a.mobile.activeBtnClass)):c.isMultiple&&e.find("a").removeClass("ui-checkbox-on").addClass("ui-checkbox-off")}))},close:function(){if(!this.options.disabled&&this.isOpen){var a=this;"page"===a.menuType?(a.menuPage.dialog("close"),a.list.appendTo(a.listbox)):a.listbox.popup("close"),a._focusButton(),a.isOpen=!1}},open:function(){this.button.click()},_focusMenuItem:function(){var b=this.list.find("a."+a.mobile.activeBtnClass);0===b.length&&(b=this.list.find("li:not("+d+") a.ui-btn")),b.first().focus()},_decideFormat:function(){var b=this,c=this.window,d=b.list.parent(),e=d.outerHeight(),f=c.scrollTop(),g=b.button.offset().top,h=c.height();e>h-80||!a.support.scrollTop?(b.menuPage.appendTo(a.mobile.pageContainer).page(),b.menuPageContent=b.menuPage.find(".ui-content"),b.menuPageClose=b.menuPage.find(".ui-header a"),b.thisPage.unbind("pagehide.remove"),0===f&&g>h&&b.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",g)}),b.menuPage.one({pageshow:a.proxy(this,"_focusMenuItem"),pagehide:a.proxy(this,"close")}),b.menuType="page",b.menuPageContent.append(b.list),b.menuPage.find("div .ui-title").text(b.label.getEncodedText()||b.placeholder)):(b.menuType="overlay",b.listbox.one({popupafteropen:a.proxy(this,"_focusMenuItem")}))},_buildList:function(){var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=this.options,s=this.placeholder,t=!0,u="false",v="data-"+a.mobile.ns,w=v+"option-index",x=v+"icon",y=v+"role",z=v+"placeholder",A=c.createDocumentFragment(),B=!1;for(q.list.empty().filter(".ui-listview").listview("destroy"),b=this._selectOptions(),d=b.length,e=this.select[0],g=0;g<d;g++,B=!1)h=b[g],i=a(h),i.hasClass("ui-screen-hidden")||(j=h.parentNode,m=[],k=i.text(),l=c.createElement("a"),l.setAttribute("href","#"),l.appendChild(c.createTextNode(k)),j!==e&&"optgroup"===j.nodeName.toLowerCase()&&(n=j.getAttribute("label"),n!==f&&(o=c.createElement("li"),o.setAttribute(y,"list-divider"),o.setAttribute("role","option"),o.setAttribute("tabindex","-1"),o.appendChild(c.createTextNode(n)),A.appendChild(o),f=n)),!t||h.getAttribute("value")&&0!==k.length&&!i.jqmData("placeholder")||(t=!1,B=!0,null===h.getAttribute(z)&&(this._removePlaceholderAttr=!0),h.setAttribute(z,!0),r.hidePlaceholderMenuItems&&m.push("ui-screen-hidden"),s!==k&&(s=q.placeholder=k)),p=c.createElement("li"),h.disabled&&(m.push("ui-state-disabled"),p.setAttribute("aria-disabled",!0)),p.setAttribute(w,g),p.setAttribute(x,u),B&&p.setAttribute(z,!0),p.className=m.join(" "),p.setAttribute("role","option"),l.setAttribute("tabindex","-1"),this.isMultiple&&a(l).addClass("ui-btn ui-checkbox-off ui-btn-icon-right"),p.appendChild(l),A.appendChild(p));q.list[0].appendChild(A),this.isMultiple||s.length?this.headerTitle.text(this.placeholder):this.header.addClass("ui-screen-hidden"),q.list.listview()},_button:function(){return this.options.nativeMenu?this._super():a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.options.nativeMenu||(this.close(),this._origTabIndex!==b&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+a.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove()),this._super()}})}(a),function(a,b){function c(a,b){var c=b?b:[];return c.push("ui-btn"),a.theme&&c.push("ui-btn-"+a.theme),a.icon&&(c=c.concat(["ui-icon-"+a.icon,"ui-btn-icon-"+a.iconpos]),a.iconshadow&&c.push("ui-shadow-icon")),a.inline&&c.push("ui-btn-inline"),a.shadow&&c.push("ui-shadow"),a.corners&&c.push("ui-corner-all"),a.mini&&c.push("ui-mini"),c}function d(a){var c,d,e,g=!1,h=!0,i={icon:"",inline:!1,shadow:!1,corners:!1,iconshadow:!1,mini:!1},j=[];for(a=a.split(" "),c=0;c<a.length;c++)e=!0,d=f[a[c]],d!==b?(e=!1,i[d]=!0):0===a[c].indexOf("ui-btn-icon-")?(e=!1,h=!1,i.iconpos=a[c].substring(12)):0===a[c].indexOf("ui-icon-")?(e=!1,i.icon=a[c].substring(8)):0===a[c].indexOf("ui-btn-")&&8===a[c].length?(e=!1,i.theme=a[c].substring(7)):"ui-btn"===a[c]&&(e=!1,g=!0),e&&j.push(a[c]);return h&&(i.icon=""),{options:i,unknownClasses:j,alreadyEnhanced:g}}function e(a){return"-"+a.toLowerCase()}var f={"ui-shadow":"shadow","ui-corner-all":"corners","ui-btn-inline":"inline","ui-shadow-icon":"iconshadow","ui-mini":"mini"},g=function(){var c=a.mobile.getAttribute.apply(this,arguments);return null==c?b:c},h=/[A-Z]/g;a.fn.buttonMarkup=function(f,i){var j,k,l,m,n,o=a.fn.buttonMarkup.defaults;for(j=0;j<this.length;j++){if(l=this[j],k=i?{alreadyEnhanced:!1,unknownClasses:[]}:d(l.className),m=a.extend({},k.alreadyEnhanced?k.options:{},f),!k.alreadyEnhanced)for(n in o)m[n]===b&&(m[n]=g(l,n.replace(h,e)));l.className=c(a.extend({},o,m),k.unknownClasses).join(" "),"button"!==l.tagName.toLowerCase()&&l.setAttribute("role","button")}return this},a.fn.buttonMarkup.defaults={icon:"",iconpos:"left",theme:null,inline:!1,shadow:!0,corners:!0,iconshadow:!1,mini:!1},a.extend(a.fn.buttonMarkup,{initSelector:"a:jqmData(role='button'), .ui-bar > a, .ui-bar > :jqmData(role='controlgroup') > a, button:not(:jqmData(role='navbar') button)"})}(a),function(a,b){a.widget("mobile.controlgroup",a.extend({options:{enhanced:!1,theme:null,shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1},_create:function(){var b=this.element,c=this.options,d=a.mobile.page.prototype.keepNativeSelector();a.fn.buttonMarkup&&this.element.find(a.fn.buttonMarkup.initSelector).not(d).buttonMarkup(),a.each(this._childWidgets,a.proxy(function(b,c){a.mobile[c]&&this.element.find(a.mobile[c].initSelector).not(d)[c]()},this)),a.extend(this,{_ui:null,_initialRefresh:!0}),c.enhanced?this._ui={groupLegend:b.children(".ui-controlgroup-label").children(),childWrapper:b.children(".ui-controlgroup-controls")}:this._ui=this._enhance()},_childWidgets:["checkboxradio","selectmenu","button"],_themeClassFromOption:function(a){return a?"none"===a?"":"ui-group-theme-"+a:""},_enhance:function(){var b=this.element,c=this.options,d={groupLegend:b.children("legend"),childWrapper:b.addClass("ui-controlgroup ui-controlgroup-"+("horizontal"===c.type?"horizontal":"vertical")+" "+this._themeClassFromOption(c.theme)+" "+(c.corners?"ui-corner-all ":"")+(c.mini?"ui-mini ":"")).wrapInner("<div class='ui-controlgroup-controls "+(c.shadow===!0?"ui-shadow":"")+"'></div>").children()};return d.groupLegend.length>0&&a("<div role='heading' class='ui-controlgroup-label'></div>").append(d.groupLegend).prependTo(b),d},_init:function(){this.refresh()},_setOptions:function(a){var c,d,e=this.element;return a.type!==b&&(e.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+("horizontal"===a.type?"horizontal":"vertical")),c=!0),a.theme!==b&&e.removeClass(this._themeClassFromOption(this.options.theme)).addClass(this._themeClassFromOption(a.theme)),a.corners!==b&&e.toggleClass("ui-corner-all",a.corners),a.mini!==b&&e.toggleClass("ui-mini",a.mini),a.shadow!==b&&this._ui.childWrapper.toggleClass("ui-shadow",a.shadow),a.excludeInvisible!==b&&(this.options.excludeInvisible=a.excludeInvisible,c=!0),d=this._super(a),c&&this.refresh(),d},container:function(){return this._ui.childWrapper},refresh:function(){var b=this.container(),c=b.find(".ui-btn").not(".ui-slider-handle"),d=this._initialRefresh;a.mobile.checkboxradio&&b.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(c,this.options.excludeInvisible?this._getVisibles(c,d):c,d),this._initialRefresh=!1},_destroy:function(){var a,b,c=this.options;return c.enhanced?this:(a=this._ui,b=this.element.removeClass("ui-controlgroup ui-controlgroup-horizontal ui-controlgroup-vertical ui-corner-all ui-mini "+this._themeClassFromOption(c.theme)).find(".ui-btn").not(".ui-slider-handle"),this._removeFirstLastClasses(b),a.groupLegend.unwrap(),void a.childWrapper.children().unwrap())}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a,b){a.widget("mobile.toolbar",{initSelector:":jqmData(role='footer'), :jqmData(role='header')",options:{theme:null,addBackBtn:!1,backBtnTheme:null,backBtnText:"Back"},_create:function(){var b,c,d=this.element.is(":jqmData(role='header')")?"header":"footer",e=this.element.closest(".ui-page");0===e.length&&(e=!1,this._on(this.document,{pageshow:"refresh"})),a.extend(this,{role:d,page:e,leftbtn:b,rightbtn:c}),this.element.attr("role","header"===d?"banner":"contentinfo").addClass("ui-"+d),this.refresh(),this._setOptions(this.options)},_setOptions:function(a){if(a.addBackBtn!==b&&this._updateBackButton(),null!=a.backBtnTheme&&this.element.find(".ui-toolbar-back-btn").addClass("ui-btn ui-btn-"+a.backBtnTheme),a.backBtnText!==b&&this.element.find(".ui-toolbar-back-btn .ui-btn-text").text(a.backBtnText),a.theme!==b){var c=this.options.theme?this.options.theme:"inherit",d=a.theme?a.theme:"inherit";this.element.removeClass("ui-bar-"+c).addClass("ui-bar-"+d)}this._super(a)},refresh:function(){"header"===this.role&&this._addHeaderButtonClasses(),this.page||(this._setRelative(),"footer"===this.role?this.element.appendTo("body"):"header"===this.role&&this._updateBackButton()),this._addHeadingClasses(),this._btnMarkup()},_setRelative:function(){a("[data-"+a.mobile.ns+"role='page']").css({position:"relative"})},_btnMarkup:function(){this.element.children("a").filter(":not([data-"+a.mobile.ns+"role='none'])").attr("data-"+a.mobile.ns+"role","button"),this.element.trigger("create")},_addHeaderButtonClasses:function(){var a=this.element.children("a, button");this.leftbtn=a.hasClass("ui-btn-left")&&!a.hasClass("ui-toolbar-back-btn"),this.rightbtn=a.hasClass("ui-btn-right"),this.leftbtn=this.leftbtn||a.eq(0).not(".ui-btn-right,.ui-toolbar-back-btn").addClass("ui-btn-left").length,this.rightbtn=this.rightbtn||a.eq(1).addClass("ui-btn-right").length},_updateBackButton:function(){var b,c=this.options,d=c.backBtnTheme||c.theme;b=this._backButton=this._backButton||{},this.options.addBackBtn&&"header"===this.role&&a(".ui-page").length>1&&(this.page?this.page[0].getAttribute("data-"+a.mobile.ns+"url")!==a.mobile.path.stripHash(location.hash):a.mobile.navigate&&a.mobile.navigate.history&&a.mobile.navigate.history.activeIndex>0)&&!this.leftbtn?b.attached||(this.backButton=b.element=(b.element||a("<a role='button' href='javascript:void(0);' class='ui-btn ui-corner-all ui-shadow ui-btn-left "+(d?"ui-btn-"+d+" ":"")+"ui-toolbar-back-btn ui-icon-carat-l ui-btn-icon-left' data-"+a.mobile.ns+"rel='back'>"+c.backBtnText+"</a>")).prependTo(this.element),b.attached=!0):b.element&&(b.element.detach(),b.attached=!1)},_addHeadingClasses:function(){this.element.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})},_destroy:function(){var a;this.element.children("h1, h2, h3, h4, h5, h6").removeClass("ui-title").removeAttr("role").removeAttr("aria-level"),"header"===this.role&&(this.element.children("a, button").removeClass("ui-btn-left ui-btn-right ui-btn ui-shadow ui-corner-all"),this.backButton&&this.backButton.remove()),a=this.options.theme?this.options.theme:"inherit",this.element.removeClass("ui-bar-"+a),this.element.removeClass("ui-"+this.role).removeAttr("role")}})}(a),function(a,b){a.widget("mobile.toolbar",a.mobile.toolbar,{options:{position:null,visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-flipswitch, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!a.support.fixedPosition}},_create:function(){this._super(),this.pagecontainer=a(":mobile-pagecontainer"),"fixed"!==this.options.position||this.options.supportBlacklist()||this._makeFixed()},_makeFixed:function(){this.element.addClass("ui-"+this.role+"-fixed"),this.updatePagePadding(),this._addTransitionClass(),this._bindPageEvents(),this._bindToggleHandlers()},_setOptions:function(c){if("fixed"===c.position&&"fixed"!==this.options.position&&this._makeFixed(),"fixed"===this.options.position&&!this.options.supportBlacklist()){var d=this.page?this.page:a(".ui-page-active").length>0?a(".ui-page-active"):a(".ui-page").eq(0);c.fullscreen!==b&&(c.fullscreen?(this.element.addClass("ui-"+this.role+"-fullscreen"),d.addClass("ui-page-"+this.role+"-fullscreen")):(this.element.removeClass("ui-"+this.role+"-fullscreen"),d.removeClass("ui-page-"+this.role+"-fullscreen").addClass("ui-page-"+this.role+"-fixed")))}this._super(c)},_addTransitionClass:function(){var a=this.options.transition;a&&"none"!==a&&("slide"===a&&(a=this.element.hasClass("ui-header")?"slidedown":"slideup"),this.element.addClass(a))},_bindPageEvents:function(){var a=this.page?this.element.closest(".ui-page"):this.document;this._on(a,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var b=this.options;b.disablePageZoom&&a.mobile.zoom.disable(!0),b.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this.page?this.page:".ui-page-active")},_handlePageShow:function(){this.updatePagePadding(this.page?this.page:".ui-page-active"),this.options.updatePagePadding&&this._on(this.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(b,c){var d,e,f,g,h=this.options;h.disablePageZoom&&a.mobile.zoom.enable(!0),h.updatePagePadding&&this._off(this.window,"throttledresize"),h.trackPersistentToolbars&&(d=a(".ui-footer-fixed:jqmData(id)",this.page),e=a(".ui-header-fixed:jqmData(id)",this.page),f=d.length&&c.nextPage&&a(".ui-footer-fixed:jqmData(id='"+d.jqmData("id")+"')",c.nextPage)||a(),g=e.length&&c.nextPage&&a(".ui-header-fixed:jqmData(id='"+e.jqmData("id")+"')",c.nextPage)||a(),(f.length||g.length)&&(f.add(g).appendTo(a.mobile.pageContainer),c.nextPage.one("pageshow",function(){g.prependTo(this),f.appendTo(this)})))},_visible:!0,updatePagePadding:function(c){var d=this.element,e="header"===this.role,f=parseFloat(d.css(e?"top":"bottom"));this.options.fullscreen||(c=c&&c.type===b&&c||this.page||d.closest(".ui-page"),c=this.page?this.page:".ui-page-active",a(c).css("padding-"+(e?"top":"bottom"),d.outerHeight()+f))},_useTransition:function(b){var c=this.window,d=this.element,e=c.scrollTop(),f=d.height(),g=this.page?d.closest(".ui-page").height():a(".ui-page-active").height(),h=a.mobile.getScreenHeight();return!b&&(this.options.transition&&"none"!==this.options.transition&&("header"===this.role&&!this.options.fullscreen&&e>f||"footer"===this.role&&!this.options.fullscreen&&e+h<g-f)||this.options.fullscreen)},show:function(a){var b="ui-fixed-hidden",c=this.element;this._useTransition(a)?c.removeClass("out "+b).addClass("in").animationComplete(function(){c.removeClass("in")}):c.removeClass(b),this._visible=!0},hide:function(a){var b="ui-fixed-hidden",c=this.element,d="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(a)?c.addClass(d).removeClass("in").animationComplete(function(){c.addClass(b).removeClass(d)}):c.addClass(b).removeClass(d),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var b,c,d=this,e=d.options,f=!0,g=this.page?this.page:a(".ui-page");g.bind("vclick",function(b){e.tapToggle&&!a(b.target).closest(e.tapToggleBlacklist).length&&d.toggle()}).bind("focusin focusout",function(g){screen.width<1025&&a(g.target).is(e.hideDuringFocus)&&!a(g.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==g.type||f?"focusin"===g.type&&f&&(clearTimeout(b),f=!1,c=setTimeout(function(){d.hide()},0)):(f=!0,clearTimeout(c),b=setTimeout(function(){d.show()},0)))})},_setRelative:function(){"fixed"!==this.options.position&&a("[data-"+a.mobile.ns+"role='page']").css({position:"relative"})},_destroy:function(){var b,c,d,e,f,g=this.pagecontainer.pagecontainer("getActivePage");this._super(),"fixed"===this.options.position&&(d=a("body>.ui-"+this.role+"-fixed").add(g.find(".ui-"+this.options.role+"-fixed")).not(this.element).length>0,f=a("body>.ui-"+this.role+"-fixed").add(g.find(".ui-"+this.options.role+"-fullscreen")).not(this.element).length>0,c="ui-header-fixed ui-footer-fixed ui-header-fullscreen in out ui-footer-fullscreen fade slidedown slideup ui-fixed-hidden",this.element.removeClass(c),f||(b="ui-page-"+this.role+"-fullscreen"),d||(e="header"===this.role,b+=" ui-page-"+this.role+"-fixed",g.css("padding-"+(e?"top":"bottom"),"")),g.removeClass(b))}})}(a),function(a,b){a.widget("mobile.toolbar",a.mobile.toolbar,{_makeFixed:function(){this._super(),this._workarounds()},_workarounds:function(){var a=navigator.userAgent,b=navigator.platform,c=a.match(/AppleWebKit\/([0-9]+)/),d=!!c&&c[1],e=null,f=this;if(b.indexOf("iPhone")>-1||b.indexOf("iPad")>-1||b.indexOf("iPod")>-1)e="ios";else{if(!(a.indexOf("Android")>-1))return;e="android"}if("ios"===e)f._bindScrollWorkaround();else{if(!("android"===e&&d&&d<534))return;f._bindScrollWorkaround(),f._bindListThumbWorkaround()}},_viewportOffset:function(){var a=this.element,b=a.hasClass("ui-header"),c=Math.abs(a.offset().top-this.window.scrollTop());return b||(c=Math.round(c-this.window.height()+a.outerHeight())-60),c},_bindScrollWorkaround:function(){var a=this;this._on(this.window,{scrollstop:function(){var b=a._viewportOffset();b>2&&a._visible&&a._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var b=parseFloat(a(".ui-page-active").css("padding-bottom"));a(".ui-page-active").css("padding-bottom",b+1+"px"),setTimeout(function(){a(".ui-page-active").css("padding-bottom",b+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(a),function(a,b){function c(){var a=e.clone(),b=a.eq(0),c=a.eq(1),d=c.children();return{arEls:c.add(b),gd:b,ct:c,ar:d}}var d=a.mobile.browser.oldIE&&a.mobile.browser.oldIE<=8,e=a("<div class='ui-popup-arrow-guide'></div><div class='ui-popup-arrow-container"+(d?" ie":"")+"'><div class='ui-popup-arrow'></div></div>");a.widget("mobile.popup",a.mobile.popup,{options:{arrow:""},_create:function(){var a,b=this._super();return this.options.arrow&&(this._ui.arrow=a=this._addArrow()),b},_addArrow:function(){var a,b=this.options,d=c();return a=this._themeClassFromOption("ui-body-",b.theme),d.ar.addClass(a+(b.shadow?" ui-overlay-shadow":"")),d.arEls.hide().appendTo(this.element),d},_unenhance:function(){var a=this._ui.arrow;return a&&a.arEls.remove(),this._super()},_tryAnArrow:function(a,b,c,d,e){var f,g,h,i={},j={};return d.arFull[a.dimKey]>d.guideDims[a.dimKey]?e:(i[a.fst]=c[a.fst]+(d.arHalf[a.oDimKey]+d.menuHalf[a.oDimKey])*a.offsetFactor-d.contentBox[a.fst]+(d.clampInfo.menuSize[a.oDimKey]-d.contentBox[a.oDimKey])*a.arrowOffsetFactor,i[a.snd]=c[a.snd],f=d.result||this._calculateFinalLocation(i,d.clampInfo),g={x:f.left,y:f.top},j[a.fst]=g[a.fst]+d.contentBox[a.fst]+a.tipOffset,j[a.snd]=Math.max(f[a.prop]+d.guideOffset[a.prop]+d.arHalf[a.dimKey],Math.min(f[a.prop]+d.guideOffset[a.prop]+d.guideDims[a.dimKey]-d.arHalf[a.dimKey],c[a.snd])),h=Math.abs(c.x-j.x)+Math.abs(c.y-j.y),(!e||h<e.diff)&&(j[a.snd]-=d.arHalf[a.dimKey]+f[a.prop]+d.contentBox[a.snd],e={dir:b,diff:h,result:f,posProp:a.prop,posVal:j[a.snd]}),e)},_getPlacementState:function(a){var b,c,d=this._ui.arrow,e={clampInfo:this._clampPopupWidth(!a),arFull:{cx:d.ct.width(),cy:d.ct.height()},guideDims:{cx:d.gd.width(),cy:d.gd.height()},guideOffset:d.gd.offset()};return b=this.element.offset(),d.gd.css({left:0,top:0,right:0,bottom:0}),c=d.gd.offset(),e.contentBox={x:c.left-b.left,y:c.top-b.top,cx:d.gd.width(),cy:d.gd.height()},d.gd.removeAttr("style"),e.guideOffset={left:e.guideOffset.left-b.left,top:e.guideOffset.top-b.top},e.arHalf={cx:e.arFull.cx/2,cy:e.arFull.cy/2},e.menuHalf={cx:e.clampInfo.menuSize.cx/2,cy:e.clampInfo.menuSize.cy/2},e},_placementCoords:function(b){var c,e,f,g,h,i=this.options.arrow,j=this._ui.arrow;return j?(j.arEls.show(),h={},c=this._getPlacementState(!0),f={l:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:1,tipOffset:-c.arHalf.cx,arrowOffsetFactor:0},r:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:-1,tipOffset:c.arHalf.cx+c.contentBox.cx,arrowOffsetFactor:1},b:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:-1,tipOffset:c.arHalf.cy+c.contentBox.cy,arrowOffsetFactor:1},t:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:1,tipOffset:-c.arHalf.cy,arrowOffsetFactor:0}},a.each((i===!0?"l,t,r,b":i).split(","),a.proxy(function(a,d){e=this._tryAnArrow(f[d],d,b,c,e)},this)),e?(j.ct.removeClass("ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b").addClass("ui-popup-arrow-"+e.dir).removeAttr("style").css(e.posProp,e.posVal).show(),d||(g=this.element.offset(),h[f[e.dir].fst]=j.ct.offset(),h[f[e.dir].snd]={left:g.left+c.contentBox.x,top:g.top+c.contentBox.y}),e.result):(j.arEls.hide(),this._super(b))):this._super(b)},_setOptions:function(a){var c,d=this.options.theme,e=this._ui.arrow,f=this._super(a);if(a.arrow!==b){if(!e&&a.arrow)return void(this._ui.arrow=this._addArrow());e&&!a.arrow&&(e.arEls.remove(),this._ui.arrow=null)}return e=this._ui.arrow,e&&(a.theme!==b&&(d=this._themeClassFromOption("ui-body-",d),c=this._themeClassFromOption("ui-body-",a.theme),e.ar.removeClass(d).addClass(c)),a.shadow!==b&&e.ar.toggleClass("ui-overlay-shadow",a.shadow)),f},_destroy:function(){var a=this._ui.arrow;return a&&a.arEls.remove(),this._super()}})}(a),function(a,c){a.widget("mobile.panel",{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pageContainer:"ui-panel-page-container",pageWrapper:"ui-panel-wrapper",pageFixedToolbar:"ui-panel-fixed-toolbar",pageContentPrefix:"ui-panel-page-content",animate:"ui-panel-animate"},animate:!0,theme:null,position:"left",dismissible:!0,display:"reveal",swipeClose:!0,positionFixed:!1},_closeLink:null,_parentPage:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbars:null,_create:function(){var b=this.element,c=b.closest(".ui-page, :jqmData(role='page')");a.extend(this,{_closeLink:b.find(":jqmData(rel='close')"),_parentPage:c.length>0&&c,_openedPage:null,_page:this._getPage,_panelInner:this._getPanelInner(),_fixedToolbars:this._getFixedToolbars}),"overlay"!==this.options.display&&this._getWrapper(),this._addPanelClasses(),a.support.cssTransform3d&&this.options.animate&&this.element.addClass(this.options.classes.animate),this._bindUpdateLayout(),this._bindCloseEvents(),this._bindLinkListeners(),this._bindPageEvents(),this.options.dismissible&&this._createModal(),this._bindSwipeEvents()},_getPanelInner:function(){var a=this.element.find("."+this.options.classes.panelInner);return 0===a.length&&(a=this.element.children().wrapAll("<div class='"+this.options.classes.panelInner+"' />").parent()),a},_createModal:function(){var b=this,c=b._parentPage?b._parentPage.parent():b.element.parent();b._modal=a("<div class='"+b.options.classes.modal+"'></div>").on("mousedown",function(){b.close()}).appendTo(c)},_getPage:function(){var b=this._openedPage||this._parentPage||a("."+a.mobile.activePageClass);
return b},_getWrapper:function(){var a=this._page().find("."+this.options.classes.pageWrapper);0===a.length&&(a=this._page().children(".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)").wrapAll("<div class='"+this.options.classes.pageWrapper+"'></div>").parent()),this._wrapper=a},_getFixedToolbars:function(){var b=a("body").children(".ui-header-fixed, .ui-footer-fixed"),c=this._page().find(".ui-header-fixed, .ui-footer-fixed"),d=b.add(c).addClass(this.options.classes.pageFixedToolbar);return d},_getPosDisplayClasses:function(a){return a+"-position-"+this.options.position+" "+a+"-display-"+this.options.display},_getPanelClasses:function(){var a=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed+" ui-body-"+(this.options.theme?this.options.theme:"inherit");return this.options.positionFixed&&(a+=" "+this.options.classes.panelFixed),a},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_handleCloseClick:function(a){a.isDefaultPrevented()||this.close()},_bindCloseEvents:function(){this._on(this._closeLink,{click:"_handleCloseClick"}),this._on({"click a:jqmData(ajax='false')":"_handleCloseClick"})},_positionPanel:function(b){var c=this,d=c._panelInner.outerHeight(),e=d>a.mobile.getScreenHeight();e||!c.options.positionFixed?(e&&(c._unfixPanel(),a.mobile.resetActivePageHeight(d)),b&&this.window[0].scrollTo(0,a.mobile.defaultHomeScroll)):c._fixPanel()},_bindFixListener:function(){this._on(a(b),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(a(b),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var a=this;a.element.on("updatelayout",function(){a._open&&a._positionPanel()})},_bindLinkListeners:function(){this._on("body",{"click a":"_handleClick"})},_handleClick:function(b){var d,e=this.element.attr("id");b.currentTarget.href.split("#")[1]===e&&e!==c&&(b.preventDefault(),d=a(b.target),d.hasClass("ui-btn")&&(d.addClass(a.mobile.activeBtnClass),this.element.one("panelopen panelclose",function(){d.removeClass(a.mobile.activeBtnClass)})),this.toggle())},_bindSwipeEvents:function(){var a=this,b=a._modal?a.element.add(a._modal):a.element;a.options.swipeClose&&("left"===a.options.position?b.on("swipeleft.panel",function(){a.close()}):b.on("swiperight.panel",function(){a.close()}))},_bindPageEvents:function(){var a=this;this.document.on("panelbeforeopen",function(b){a._open&&b.target!==a.element[0]&&a.close()}).on("keyup.panel",function(b){27===b.keyCode&&a._open&&a.close()}),this._parentPage||"overlay"===this.options.display||this._on(this.document,{pageshow:function(){this._openedPage=null,this._getWrapper()}}),a._parentPage?this.document.on("pagehide",":jqmData(role='page')",function(){a._open&&a.close(!0)}):this.document.on("pagebeforehide",function(){a._open&&a.close(!0)})},_open:!1,_pageContentOpenClasses:null,_modalOpenClasses:null,open:function(b){if(!this._open){var c=this,d=c.options,e=function(){c._off(c.document,"panelclose"),c._page().jqmData("panel","open"),a.support.cssTransform3d&&d.animate&&"overlay"!==d.display&&(c._wrapper.addClass(d.classes.animate),c._fixedToolbars().addClass(d.classes.animate)),!b&&a.support.cssTransform3d&&d.animate?(c._wrapper||c.element).animationComplete(f,"transition"):setTimeout(f,0),d.theme&&"overlay"!==d.display&&c._page().parent().addClass(d.classes.pageContainer+"-themed "+d.classes.pageContainer+"-"+d.theme),c.element.removeClass(d.classes.panelClosed).addClass(d.classes.panelOpen),c._positionPanel(!0),c._pageContentOpenClasses=c._getPosDisplayClasses(d.classes.pageContentPrefix),"overlay"!==d.display&&(c._page().parent().addClass(d.classes.pageContainer),c._wrapper.addClass(c._pageContentOpenClasses),c._fixedToolbars().addClass(c._pageContentOpenClasses)),c._modalOpenClasses=c._getPosDisplayClasses(d.classes.modal)+" "+d.classes.modalOpen,c._modal&&c._modal.addClass(c._modalOpenClasses).height(Math.max(c._modal.height(),c.document.height()))},f=function(){c._open&&("overlay"!==d.display&&(c._wrapper.addClass(d.classes.pageContentPrefix+"-open"),c._fixedToolbars().addClass(d.classes.pageContentPrefix+"-open")),c._bindFixListener(),c._trigger("open"),c._openedPage=c._page())};c._trigger("beforeopen"),"open"===c._page().jqmData("panel")?c._on(c.document,{panelclose:e}):e(),c._open=!0}},close:function(b){if(this._open){var c=this,d=this.options,e=function(){c.element.removeClass(d.classes.panelOpen),"overlay"!==d.display&&(c._wrapper.removeClass(c._pageContentOpenClasses),c._fixedToolbars().removeClass(c._pageContentOpenClasses)),!b&&a.support.cssTransform3d&&d.animate?(c._wrapper||c.element).animationComplete(f,"transition"):setTimeout(f,0),c._modal&&c._modal.removeClass(c._modalOpenClasses).height("")},f=function(){d.theme&&"overlay"!==d.display&&c._page().parent().removeClass(d.classes.pageContainer+"-themed "+d.classes.pageContainer+"-"+d.theme),c.element.addClass(d.classes.panelClosed),"overlay"!==d.display&&(c._page().parent().removeClass(d.classes.pageContainer),c._wrapper.removeClass(d.classes.pageContentPrefix+"-open"),c._fixedToolbars().removeClass(d.classes.pageContentPrefix+"-open")),a.support.cssTransform3d&&d.animate&&"overlay"!==d.display&&(c._wrapper.removeClass(d.classes.animate),c._fixedToolbars().removeClass(d.classes.animate)),c._fixPanel(),c._unbindFixListener(),a.mobile.resetActivePageHeight(),c._page().jqmRemoveData("panel"),c._trigger("close"),c._openedPage=null};c._trigger("beforeclose"),e(),c._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_destroy:function(){var b,c=this.options,d=a("body > :mobile-panel").length+a.mobile.activePage.find(":mobile-panel").length>1;"overlay"!==c.display&&(b=a("body > :mobile-panel").add(a.mobile.activePage.find(":mobile-panel")),0===b.not(".ui-panel-display-overlay").not(this.element).length&&this._wrapper.children().unwrap(),this._open&&(this._fixedToolbars().removeClass(c.classes.pageContentPrefix+"-open"),a.support.cssTransform3d&&c.animate&&this._fixedToolbars().removeClass(c.classes.animate),this._page().parent().removeClass(c.classes.pageContainer),c.theme&&this._page().parent().removeClass(c.classes.pageContainer+"-themed "+c.classes.pageContainer+"-"+c.theme))),d||this.document.off("panelopen panelclose"),this._open&&this._page().jqmRemoveData("panel"),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),c.classes.panelOpen,c.classes.animate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._modal&&this._modal.remove()}})}(a),function(a,b){a.widget("mobile.table",{options:{classes:{table:"ui-table"},enhanced:!1},_create:function(){this.options.enhanced||this.element.addClass(this.options.classes.table),a.extend(this,{headers:b,allHeaders:b}),this._refresh(!0)},_setHeaders:function(){var a=this.element.find("thead tr");this.headers=this.element.find("tr:eq(0)").children(),this.allHeaders=this.headers.add(a.children())},refresh:function(){this._refresh()},rebuild:a.noop,_refresh:function(){var b=this.element,c=b.find("thead tr");this._setHeaders(),c.each(function(){var d=0;a(this).children().each(function(){var e,f=parseInt(this.getAttribute("colspan"),10),g=":nth-child("+(d+1)+")";if(this.setAttribute("data-"+a.mobile.ns+"colstart",d+1),f)for(e=0;e<f-1;e++)d++,g+=", :nth-child("+(d+1)+")";a(this).jqmData("cells",b.find("tr").not(c.eq(0)).not(this).children(g)),d++})})}})}(a),function(a,b){a.widget("mobile.table",a.mobile.table,{options:{mode:"columntoggle",columnBtnTheme:null,columnPopupTheme:null,columnBtnText:"Columns...",classes:a.extend(a.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"})},_create:function(){this._super(),"columntoggle"===this.options.mode&&(a.extend(this,{_menu:null}),this.options.enhanced?(this._menu=a(this.document[0].getElementById(this._id()+"-popup")).children().first(),this._addToggles(this._menu,!0)):(this._menu=this._enhanceColToggle(),this.element.addClass(this.options.classes.columnToggleTable)),this._setupEvents(),this._setToggleState())},_id:function(){return this.element.attr("id")||this.widgetName+this.uuid},_setupEvents:function(){this._on(this.window,{throttledresize:"_setToggleState"}),this._on(this._menu,{"change input":"_menuInputChange"})},_addToggles:function(b,c){var d,e=0,f=this.options,g=b.controlgroup("container");c?d=b.find("input"):g.empty(),this.headers.not("td").each(function(){var b,h,i=a(this),j=a.mobile.getAttribute(this,"priority");j&&(h=i.add(i.jqmData("cells")),h.addClass(f.classes.priorityPrefix+j),b=(c?d.eq(e++):a("<label><input type='checkbox' checked />"+(i.children("abbr").first().attr("title")||i.text())+"</label>").appendTo(g).children(0).checkboxradio({theme:f.columnPopupTheme})).jqmData("header",i).jqmData("cells",h),i.jqmData("input",b))}),c||b.controlgroup("refresh")},_menuInputChange:function(b){var c=a(b.target),d=c[0].checked;c.jqmData("cells").toggleClass("ui-table-cell-hidden",!d).toggleClass("ui-table-cell-visible",d)},_unlockCells:function(a){a.removeClass("ui-table-cell-hidden ui-table-cell-visible")},_enhanceColToggle:function(){var b,c,d,e,f=this.element,g=this.options,h=a.mobile.ns,i=this.document[0].createDocumentFragment();return b=this._id()+"-popup",c=a("<a href='#"+b+"' class='"+g.classes.columnBtn+" ui-btn ui-btn-"+(g.columnBtnTheme||"a")+" ui-corner-all ui-shadow ui-mini' data-"+h+"rel='popup'>"+g.columnBtnText+"</a>"),d=a("<div class='"+g.classes.popup+"' id='"+b+"'></div>"),e=a("<fieldset></fieldset>").controlgroup(),this._addToggles(e,!1),e.appendTo(d),i.appendChild(d[0]),i.appendChild(c[0]),f.before(i),d.popup(),e},rebuild:function(){this._super(),"columntoggle"===this.options.mode&&this._refresh(!1)},_refresh:function(b){var c,d,e;if(this._super(b),!b&&"columntoggle"===this.options.mode)for(c=this.headers,d=[],this._menu.find("input").each(function(){var b=a(this),e=b.jqmData("header"),f=c.index(e[0]);f>-1&&!b.prop("checked")&&d.push(f)}),this._unlockCells(this.element.find(".ui-table-cell-hidden, .ui-table-cell-visible")),this._addToggles(this._menu,b),e=d.length-1;e>-1;e--)c.eq(d[e]).jqmData("input").prop("checked",!1).checkboxradio("refresh").trigger("change")},_setToggleState:function(){this._menu.find("input").each(function(){var b=a(this);this.checked="table-cell"===b.jqmData("cells").eq(0).css("display"),b.checkboxradio("refresh")})},_destroy:function(){this._super()}})}(a),function(a,b){a.widget("mobile.table",a.mobile.table,{options:{mode:"reflow",classes:a.extend(a.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"})},_create:function(){this._super(),"reflow"===this.options.mode&&(this.options.enhanced||(this.element.addClass(this.options.classes.reflowTable),this._updateReflow()))},rebuild:function(){this._super(),"reflow"===this.options.mode&&this._refresh(!1)},_refresh:function(a){this._super(a),a||"reflow"!==this.options.mode||this._updateReflow()},_updateReflow:function(){var b=this,c=this.options;a(b.allHeaders.get().reverse()).each(function(){var d,e,f=a(this).jqmData("cells"),g=a.mobile.getAttribute(this,"colstart"),h=f.not(this).filter("thead th").length&&" ui-table-cell-label-top",i=a(this).clone().contents();i.length>0&&(h?(d=parseInt(this.getAttribute("colspan"),10),e="",d&&(e="td:nth-child("+d+"n + "+g+")"),b._addLabels(f.filter(e),c.classes.cellLabels+h,i)):b._addLabels(f,c.classes.cellLabels,i))})},_addLabels:function(b,c,d){1===d.length&&"abbr"===d[0].nodeName.toLowerCase()&&(d=d.eq(0).attr("title")),b.not(":has(b."+c+")").prepend(a("<b class='"+c+"'></b>").append(d))}})}(a),function(a,c){var d=function(b,c){return(""+(a.mobile.getAttribute(this,"filtertext")||a(this).text())).toLowerCase().indexOf(c)===-1};a.widget("mobile.filterable",{initSelector:":jqmData(filter='true')",options:{filterReveal:!1,filterCallback:d,enhanced:!1,input:null,children:"> li, > option, > optgroup option, > tbody tr, > .ui-controlgroup-controls > .ui-btn, > .ui-controlgroup-controls > .ui-checkbox, > .ui-controlgroup-controls > .ui-radio"},_create:function(){var b=this.options;a.extend(this,{_search:null,_timer:0}),this._setInput(b.input),b.enhanced||this._filterItems((this._search&&this._search.val()||"").toLowerCase())},_onKeyUp:function(){var c,d,e=this._search;if(e){if(c=e.val().toLowerCase(),d=a.mobile.getAttribute(e[0],"lastval")+"",d&&d===c)return;this._timer&&(b.clearTimeout(this._timer),this._timer=0),this._timer=this._delay(function(){return this._trigger("beforefilter",null,{input:e})!==!1&&(e[0].setAttribute("data-"+a.mobile.ns+"lastval",c),this._filterItems(c),void(this._timer=0))},250)}},_getFilterableItems:function(){var b=this.element,c=this.options.children,d=c?a.isFunction(c)?c():c.nodeName?a(c):c.jquery?c:this.element.find(c):{length:0};return 0===d.length&&(d=b.children()),d},_filterItems:function(b){var c,e,f,g,h=[],i=[],j=this.options,k=this._getFilterableItems();if(null!=b)for(e=j.filterCallback||d,f=k.length,c=0;c<f;c++)g=e.call(k[c],c,b)?i:h,g.push(k[c]);0===i.length?k[j.filterReveal&&0===b.length?"addClass":"removeClass"]("ui-screen-hidden"):(a(i).addClass("ui-screen-hidden"),a(h).removeClass("ui-screen-hidden")),this._refreshChildWidget(),this._trigger("filter",null,{items:k})},_refreshChildWidget:function(){var b,c,d=["collapsibleset","selectmenu","controlgroup","listview"];for(c=d.length-1;c>-1;c--)b=d[c],a.mobile[b]&&(b=this.element.data("mobile-"+b),b&&a.isFunction(b.refresh)&&b.refresh())},_setInput:function(c){var d=this._search;this._timer&&(b.clearTimeout(this._timer),this._timer=0),d&&(this._off(d,"keyup change input"),d=null),c&&(d=c.jquery?c:c.nodeName?a(c):this.document.find(c),this._on(d,{keydown:"_onKeyDown",keypress:"_onKeyPress",keyup:"_onKeyUp",change:"_onKeyUp",input:"_onKeyUp"})),this._search=d},_onKeyDown:function(b){b.keyCode===a.ui.keyCode.ENTER&&(b.preventDefault(),this._preventKeyPress=!0)},_onKeyPress:function(a){this._preventKeyPress&&(a.preventDefault(),this._preventKeyPress=!1)},_setOptions:function(a){var b=!(a.filterReveal===c&&a.filterCallback===c&&a.children===c);this._super(a),a.input!==c&&(this._setInput(a.input),b=!0),b&&this.refresh()},_destroy:function(){var a=this.options,b=this._getFilterableItems();a.enhanced?b.toggleClass("ui-screen-hidden",a.filterReveal):b.removeClass("ui-screen-hidden")},refresh:function(){this._timer&&(b.clearTimeout(this._timer),this._timer=0),this._filterItems((this._search&&this._search.val()||"").toLowerCase())}})}(a),function(a,b){var c=function(a,b){return function(c){b.call(this,c),a._syncTextInputOptions(c)}},d=/(^|\s)ui-li-divider(\s|$)/,e=a.mobile.filterable.prototype.options.filterCallback;a.mobile.filterable.prototype.options.filterCallback=function(a,b){return!this.className.match(d)&&e.call(this,a,b)},a.widget("mobile.filterable",a.mobile.filterable,{options:{filterPlaceholder:"Filter items...",filterTheme:null},_create:function(){var b,c,d=this.element,e=["collapsibleset","selectmenu","controlgroup","listview"],f={};for(this._super(),a.extend(this,{_widget:null}),b=e.length-1;b>-1;b--)if(c=e[b],a.mobile[c]){if(this._setWidget(d.data("mobile-"+c)))break;f[c+"create"]="_handleCreate"}this._widget||this._on(d,f)},_handleCreate:function(a){this._setWidget(this.element.data("mobile-"+a.type.substring(0,a.type.length-6)))},_trigger:function(a,b,c){return this._widget&&"mobile-listview"===this._widget.widgetFullName&&"beforefilter"===a&&this._widget._trigger("beforefilter",b,c),this._super(a,b,c)},_setWidget:function(a){return!this._widget&&a&&(this._widget=a,this._widget._setOptions=c(this,this._widget._setOptions)),this._widget&&(this._syncTextInputOptions(this._widget.options),"listview"===this._widget.widgetName&&(this._widget.options.hideDividers=!0,this._widget.element.listview("refresh"))),!!this._widget},_isSearchInternal:function(){return this._search&&this._search.jqmData("ui-filterable-"+this.uuid+"-internal")},_setInput:function(b){var c=this.options,d=!0,e={};if(!b){if(this._isSearchInternal())return;d=!1,b=a("<input data-"+a.mobile.ns+"type='search' placeholder='"+c.filterPlaceholder+"'></input>").jqmData("ui-filterable-"+this.uuid+"-internal",!0),a("<form class='ui-filterable'></form>").append(b).submit(function(a){a.preventDefault(),b.blur()}).insertBefore(this.element),a.mobile.textinput&&(null!=this.options.filterTheme&&(e.theme=c.filterTheme),b.textinput(e))}this._super(b),this._isSearchInternal()&&d&&this._search.attr("placeholder",this.options.filterPlaceholder)},_setOptions:function(c){var d=this._super(c);return c.filterPlaceholder!==b&&this._isSearchInternal()&&this._search.attr("placeholder",c.filterPlaceholder),c.filterTheme!==b&&this._search&&a.mobile.textinput&&this._search.textinput("option","theme",c.filterTheme),d},_refreshChildWidget:function(){this._refreshingChildWidget=!0,this._superApply(arguments),this._refreshingChildWidget=!1},refresh:function(){this._refreshingChildWidget||this._superApply(arguments)},_destroy:function(){this._isSearchInternal()&&this._search.remove(),this._super()},_syncTextInputOptions:function(c){var d,e={};if(this._isSearchInternal()&&a.mobile.textinput){for(d in a.mobile.textinput.prototype.options)c[d]!==b&&("theme"===d&&null!=this.options.filterTheme?e[d]=this.options.filterTheme:e[d]=c[d]);this._search.textinput("option",e)}}}),a.widget("mobile.listview",a.mobile.listview,{options:{filter:!1},_create:function(){return this.options.filter!==!0||this.element.data("mobile-filterable")||this.element.filterable(),this._super()},refresh:function(){var a;this._superApply(arguments),this.options.filter===!0&&(a=this.element.data("mobile-filterable"),a&&a.refresh())}})}(a),function(a,b){function c(){return++e}function d(a){return a.hash.length>1&&decodeURIComponent(a.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}var e=0,f=/#.*$/;a.widget("ui.tabs",{version:"fadf2b312a05040436451c64bbfaf4814bc62c56",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(c.active):this.active=a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each(function(c,e){if(a(e).attr("aria-controls")===d)return b=c,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==b&&b!==-1||(b=!!this.tabs.length&&0)),b!==!1&&(b=this.tabs.index(this.tabs.eq(b)),b===-1&&(b=!c&&0)),!c&&b===!1&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d!==this.options.active&&d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),b<0&&(b=e),b}for(var e=this.tabs.length-1;a.inArray(d(),this.options.disabled)!==-1;)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?void this._activate(b):"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(c,e){var f,g,h,i=a(e).uniqueId().attr("id"),j=a(e).closest("li"),k=j.attr("aria-controls");d(e)?(f=e.hash,g=b.element.find(b._sanitizeSelector(f))):(h=b._tabId(j),f="#"+h,g=b.element.find(f),g.length||(g=b._createPanel(h),g.insertAfter(b.panels[c-1]||b.tablist)),g.attr("aria-live","polite")),g.length&&(b.panels=b.panels.add(g)),k&&j.data("ui-tabs-aria-controls",k),j.attr({"aria-controls":f.substring(1),"aria-labelledby":i}),g.attr("aria-labelledby",i)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c,d=0;c=this.tabs[d];d++)b===!0||a.inArray(d,b)!==-1?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=!h&&this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e()),h.attr({"aria-expanded":"false","aria-hidden":"true"}),c.oldTab.attr("aria-selected","false"),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr({"aria-expanded":"true","aria-hidden":"false"}),c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(c){var d=this.options.disabled;d!==!1&&(c===b?d=!1:(c=this._getIndex(c),d=a.isArray(d)?a.map(d,function(a){return a!==c?a:null}):a.map(this.tabs,function(a,b){return b!==c?b:null})),this._setupDisabled(d))},disable:function(c){var d=this.options.disabled;if(d!==!0){if(c===b)d=!0;else{if(c=this._getIndex(c),a.inArray(c,d)!==-1)return;d=a.isArray(d)?a.merge([c],d).sort():[c]}this._setupDisabled(d)}},load:function(b,c){b=this._getIndex(b);var e=this,f=this.tabs.eq(b),g=f.find(".ui-tabs-anchor"),h=this._getPanelForTab(f),i={tab:f,panel:h};d(g[0])||(this.xhr=a.ajax(this._ajaxSettings(g,c,i)),this.xhr&&"canceled"!==this.xhr.statusText&&(f.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){h.html(a),e._trigger("load",c,i)},1)}).complete(function(a,b){setTimeout(function(){"abort"===b&&e.panels.stop(!1,!0),f.removeClass("ui-tabs-loading"),h.removeAttr("aria-busy"),a===e.xhr&&delete e.xhr},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}})}(a),function(a,b){}(a),function(a,b){function c(a){e=a.originalEvent,i=e.accelerationIncludingGravity,f=Math.abs(i.x),g=Math.abs(i.y),h=Math.abs(i.z),!b.orientation&&(f>7||(h>6&&g<8||h<8&&g>6)&&f>5)?d.enabled&&d.disable():d.enabled||d.enable()}a.mobile.iosorientationfixEnabled=!0;var d,e,f,g,h,i,j=navigator.userAgent;return/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(j)&&j.indexOf("AppleWebKit")>-1?(d=a.mobile.zoom,void a.mobile.document.on("mobileinit",function(){a.mobile.iosorientationfixEnabled&&a.mobile.window.bind("orientationchange.iosorientationfix",d.enable).bind("devicemotion.iosorientationfix",c)})):void(a.mobile.iosorientationfixEnabled=!1)}(a,this),function(a,b,d){function e(){f.removeClass("ui-mobile-rendering")}var f=a("html"),g=a.mobile.window;a(b.document).trigger("mobileinit"),a.mobile.gradeA()&&(a.mobile.ajaxBlacklist&&(a.mobile.ajaxEnabled=!1),f.addClass("ui-mobile ui-mobile-rendering"),setTimeout(e,5e3),a.extend(a.mobile,{initializePage:function(){var b=a.mobile.path,f=a(":jqmData(role='page'), :jqmData(role='dialog')"),h=b.stripHash(b.stripQueryParams(b.parseLocation().hash)),i=a.mobile.path.parseLocation(),j=h?c.getElementById(h):d;f.length||(f=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0)),f.each(function(){var c=a(this);c[0].getAttribute("data-"+a.mobile.ns+"url")||c.attr("data-"+a.mobile.ns+"url",c.attr("id")||b.convertUrlToDataUrl(i.pathname+i.search))}),a.mobile.firstPage=f.first(),a.mobile.pageContainer=a.mobile.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer(),a.mobile.navreadyDeferred.resolve(),g.trigger("pagecontainercreate"),a.mobile.loading("show"),e(),a.mobile.hashListeningEnabled&&a.mobile.path.isHashValid(location.hash)&&(a(j).is(":jqmData(role='page')")||a.mobile.path.isPath(h)||h===a.mobile.dialogHashKey)?a.event.special.navigate.isPushStateEnabled()?(a.mobile.navigate.history.stack=[],a.mobile.navigate(a.mobile.path.isPath(location.hash)?location.hash:location.href)):g.trigger("hashchange",[!0]):(a.event.special.navigate.isPushStateEnabled()&&a.mobile.navigate.navigator.squash(b.parseLocation().href),a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),a(function(){a.support.inlineSVG(),a.mobile.hideUrlBar&&b.scrollTo(0,1),a.mobile.defaultHomeScroll=a.support.scrollTop&&1!==a.mobile.window.scrollTop()?1:0,
a.mobile.autoInitializePage&&a.mobile.initializePage(),a.mobile.hideUrlBar&&g.load(a.mobile.silentScroll),a.support.cssPointerEvents||a.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(a){a.preventDefault(),a.stopImmediatePropagation()})}))}(a,this)})}).call(window)}])}),function(a,b){"function"==typeof define&&define.amd?define("cdp.tools",["jquery","underscore"],function(c,d){return b(a.CDP||(a.CDP={}),c,d)}):"object"==typeof exports?module.exports=b(a.CDP||(a.CDP={}),require("jquery"),require("underscore")):b(a.CDP||(a.CDP={}),a.jQuery||a.$,a._)}((this||0).self||global,function(a,b,c){a.Tools=a.Tools||{};var a;!function(a){var b;!function(a){a.global=a.global||window}(b=a.Tools||(a.Tools={}))}(a||(a={}));var a;!function(a){var b;!function(a){var b;!function(b){function c(){return a.global.BlobBuilder||a.global.WebKitBlobBuilder||a.global.MozBlobBuilder||a.global.MSBlobBuilder}function d(b,d){var e=null,f=c();if(null!=f){var g=new f;g.append(b),e=g.getBlob(d)}else e=new a.global.Blob([b],{type:d});return e}function e(b,d){var e=null,g=c();if(null!=g){var h=new g;h.append(f(b)),e=h.getBlob(d)}else e=new a.global.Blob([f(b)],{type:d});return e}function f(a){for(var b=window.atob(a),c=new ArrayBuffer(b.length),d=new Uint8Array(c),e=0,f=b.length;e<f;++e)d[e]=b.charCodeAt(e);return c}function g(a){for(var b=window.atob(a),c=new Uint8Array(b.length),d=0,e=b.length;d<e;++d)c[d]=b.charCodeAt(d);return c}function h(a){var b=new Uint8Array(a);return i(b)}function i(a){for(var b="",c=0,d=a.byteLength;c<d;++c)b+=String.fromCharCode(a[c]);return window.btoa(b)}b.arrayBufferToBlob=d,b.base64ToBlob=e,b.base64ToArrayBuffer=f,b.base64ToUint8Array=g,b.arrayBufferToBase64=h,b.uint8ArrayToBase64=i,b.URL=function(){return a.global.URL||a.global.webkitURL}()}(b=a.Blob||(a.Blob={}))}(b=a.Tools||(a.Tools={}))}(a||(a={}));var a;!function(a){var b;!function(a){var b="[CDP.Tools.DateTime] ",c=function(){function a(){}return a.computeDate=function(a,b){var c=new Date(a.getTime()),d=c.getTime(),e=864e5*b,f=d+e;return c.setTime(f),c},a.convertISOStringToDate=function(a){var b,c,d,e=a.split("T"),f=e[0].split("-");return e[1]&&(b=e[1].split(":"),c=b[2].split(".")),d=b?new Date(f[0],f[1]-1,f[2],b[0],b[1],c[0],c[1]):f[2]?new Date(f[0],f[1]-1,f[2]):f[1]?new Date(f[0],f[1]-1):new Date(f[0])},a.convertDateToISOString=function(c,d){void 0===d&&(d="msec");var e;switch(d){case"year":case"month":case"date":case"hour":case"min":case"sec":case"msec":break;default:console.warn(b+"unknown target: "+d),d="msec"}return e=c.getFullYear(),"year"===d?e:(e+="-"+a.numberToDoubleDigitsString(c.getMonth()+1),"month"===d?e:(e+="-"+a.numberToDoubleDigitsString(c.getDate()),"date"===d?e:(e+="T"+a.numberToDoubleDigitsString(c.getHours()),"hour"===d?e:(e+=":"+a.numberToDoubleDigitsString(c.getMinutes()),"min"===d?e:(e+=":"+a.numberToDoubleDigitsString(c.getSeconds()),"sec"===d?e:e+="."+String((c.getMilliseconds()/1e3).toFixed(3)).slice(2,5))))))},a.convertFileSystemStringToDate=function(a){var b,c,d=a.split("T"),e=d[0].split("_");return d[1]&&(b=d[1].split("_")),c=b?new Date(e[0],e[1]-1,e[2],b[0],b[1],b[2],b[3]):e[2]?new Date(e[0],e[1]-1,e[2]):e[1]?new Date(e[0],e[1]-1):new Date(e[0])},a.convertDateToFileSystemString=function(c,d){void 0===d&&(d="msec");var e;switch(d){case"year":case"month":case"date":case"hour":case"min":case"sec":case"msec":break;default:console.warn(b+"unknown target: "+d),d="msec"}return e=c.getFullYear(),"year"===d?e:(e+="_"+a.numberToDoubleDigitsString(c.getMonth()+1),"month"===d?e:(e+="_"+a.numberToDoubleDigitsString(c.getDate()),"date"===d?e:(e+="T"+a.numberToDoubleDigitsString(c.getHours()),"hour"===d?e:(e+="_"+a.numberToDoubleDigitsString(c.getMinutes()),"min"===d?e:(e+="_"+a.numberToDoubleDigitsString(c.getSeconds()),"sec"===d?e:e+="_"+String((c.getMilliseconds()/1e3).toFixed(3)).slice(2,5))))))},a.numberToDoubleDigitsString=function(a){return a<0||a>100?null:a<10?"0"+a:""+a},a}();a.DateTime=c}(b=a.Tools||(a.Tools={}))}(a||(a={}));var a;!function(a){var c;!function(a){function c(a){return a>=0?a:-a}function d(a,b){return a>=b?a:b}function e(a,b){return a<=b?a:b}function f(a,c){void 0===c&&(c=0);var d=b.Deferred(),e=function(){a()?d.resolve():setTimeout(e,c)};return setTimeout(e,c),d.promise()}function g(b,c){var d="";return b=Number(b),isNaN(b)||isNaN(c)||c<=0?null:(b<0&&(b=a.abs(b),d="-"),d+(Array(c).join("0")+b).slice(-c))}function h(a,c){function d(){this.constructor=a}var e=a.prototype;d.prototype=c.prototype,a.prototype=new d,b.extend(a.prototype,e)}function i(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];b.forEach(function(b){Object.getOwnPropertyNames(b.prototype).forEach(function(c){a.prototype[c]=b.prototype[c]})})}function j(a,c){var d,e=this;d=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return e.apply(this,arguments)},b.extend(d,e,c);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&b.extend(d.prototype,a),d.__super__=e.prototype,d}function k(){var a,b=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;return null==window.devicePixelRatio||b?window.matchMedia?(a="(-webkit-min-device-pixel-ratio: 1.5),                    (min--moz-device-pixel-ratio: 1.5),                    (-o-min-device-pixel-ratio: 3/2),                    (min-resolution: 1.5dppx)",window.matchMedia(a).matches?1.5:(a="(-webkit-min-device-pixel-ratio: 2),                    (min--moz-device-pixel-ratio: 2),                    (-o-min-device-pixel-ratio: 2/1),                    (min-resolution: 2dppx)",window.matchMedia(a).matches?2:(a="(-webkit-min-device-pixel-ratio: 0.75),                    (min--moz-device-pixel-ratio: 0.75),                    (-o-min-device-pixel-ratio: 3/4),                    (min-resolution: 0.75dppx)",window.matchMedia(a).matches?.7:void 0))):1:window.devicePixelRatio}function l(a,c){var d=b.Deferred();if(!a)return d.reject("null argument");var e;switch(typeof a){case"object":e=a;break;case"string":try{e=new Worker(a)}catch(a){return console.error(m+a),d.reject(a)}break;default:return d.reject("invalid type argument")}return e.onerror=function(a){return d.reject(a)},e.onmessage=function(a){return d.resolve(a.data)},e.postMessage(c),d.promise()}var m="[CDP.Tools.Functions] ";a.abs=c,a.max=d,a.min=e,a.await=f,a.toZeroPadding=g,a.inherit=h,a.mixin=i,a.extend=j,a.getDevicePixcelRatio=k,a.doWork=l}(c=a.Tools||(a.Tools={}))}(a||(a={}));var a;return function(a){var d;!function(a){var d="[CDP.Tools.Template] ",e=function(){function e(){}return e.getTemplateElement=function(a,c){var f=e.getElementMap(),g=f[a];try{if(!g){if(c){var h=e.findHtmlFromSource(c);g=b(h).find(a)}else g=b(a);if(g<=0)throw"invalid [key, src] = ["+a+", "+c+"]";f[a]=g}}catch(a){return console.error(d+a),null}return g},e.empty=function(){e._mapElement=null,e._mapSource=null},e.getJST=function(b,d){var e,f=this.getTemplateElement(b,d),g=null;return null!=a.global.Hogan?(g=Hogan.compile(f.text()),e=function(a){return g.render(a)}):(g=c.template(f.html()),e=function(a){return g(a).replace(/\n|\t/g,"")}),e},e.getElementMap=function(){return e._mapElement||(e._mapElement={}),e._mapElement},e.getSourceMap=function(){return e._mapSource||(e._mapSource={}),e._mapSource},e.findHtmlFromSource=function(a){var c=e.getSourceMap(),d=c[a];return d||(b.ajax({url:a,method:"GET",async:!1,dataType:"html",success:function(a){d=a},error:function(a,b){throw"ajax request failed. status: "+b}}),c[a]=d),d},e}();a.Template=e}(d=a.Tools||(a.Tools={}))}(a||(a={})),a.Tools}),function(a,b){"function"==typeof define&&define.amd?define("cdp.ui.listview",["jquery","underscore","backbone"],function(c,d,e){return b(a.CDP||(a.CDP={}),c,d,e)}):"object"==typeof exports?module.exports=b(a.CDP||(a.CDP={}),require("jquery"),require("underscore"),require("backbone")):b(a.CDP||(a.CDP={}),a.$,a._,a.Backbone)}((this||0).self||global,function(a,b,c,d){a.UI=a.UI||{};var a,e=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};!function(a){var b;!function(a){var b;!function(a){a.WRAPPER_CLASS="listview-wrapper",a.WRAPPER_SELECTOR="."+a.WRAPPER_CLASS,a.SCROLL_MAP_CLASS="listview-scroll-map",a.SCROLL_MAP_SELECTOR="."+a.SCROLL_MAP_CLASS,a.INACTIVE_CLASS="inactive",a.INACTIVE_CLASS_SELECTOR="."+a.INACTIVE_CLASS,a.RECYCLE_CLASS="listview-recycle",a.RECYCLE_CLASS_SELECTOR="."+a.RECYCLE_CLASS,a.LISTITEM_BASE_CLASS="listview-item-base",a.LISTITEM_BASE_CLASS_SELECTOR="."+a.LISTITEM_BASE_CLASS,a.DATA_PAGE_INDEX="data-page-index",a.DATA_CONTAINER_INDEX="data-container-index"}(b=a.ListViewGlobalConfig||(a.ListViewGlobalConfig={}))}(b=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var c;!function(c){var d=a.UI.ListViewGlobalConfig,e=a.UI._ListViewUtils,f="[CDP.UI.LineProfile] ",g=function(){function a(a,b,c,d){this._owner=a,this._height=b,this._initializer=c,this._info=d,this._index=null,this._pageIndex=null,this._offset=null,this._$base=null,this._instance=null}return a.prototype.activate=function(){if(null==this._instance){var a=void 0;this._$base=this.prepareBaseElement(),a=b.extend({},{el:this._$base,owner:this._owner,lineProfile:this},this._info),this._instance=new this._initializer(a),"none"===this._$base.css("display")&&this._$base.css("display","block")}this.updatePageIndex(this._$base),"visible"!==this._$base.css("visibility")&&this._$base.css("visibility","visible")},a.prototype.hide=function(){null==this._instance&&this.activate(),"hidden"!==this._$base.css("visibility")&&this._$base.css("visibility","hidden")},a.prototype.inactivate=function(){null!=this._instance&&("visible"!==this._$base.css("visibility")&&this._$base.css("visibility","visible"),this._instance.remove(),this._instance=null,this._$base.addClass(d.RECYCLE_CLASS),this._$base.css("display","none"),this._$base=null)},a.prototype.refresh=function(){null!=this._instance&&this._instance.render()},a.prototype.isActive=function(){return null!=this._instance},a.prototype.updateHeight=function(a,b){var c=a-this._height;this._height=a,this._owner.updateScrollMapHeight(c),null!=b&&b.reflectAll&&this._owner.updateProfiles(this._index)},a.prototype.resetDepth=function(){null!=this._instance&&this._$base.css("z-index",this._owner.getListViewOptions().baseDepth)},Object.defineProperty(a.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"index",{get:function(){return this._index},set:function(a){this._index=a,null!=this._$base&&this.updateIndex(this._$base)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"pageIndex",{get:function(){return this._pageIndex},set:function(a){this._pageIndex=a,null!=this._$base&&this.updatePageIndex(this._$base)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"offset",{get:function(){return this._offset},set:function(a){this._offset=a,null!=this._$base&&this.updateOffset(this._$base)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"info",{get:function(){return this._info},enumerable:!0,configurable:!0}),a.prototype.prepareBaseElement=function(){var a,c=this._owner.getScrollMapElement(),e=this._owner.findRecycleElements().first(),g=this._owner.getListViewOptions().itemTagName;return null!=this._$base?(console.warn(f+"this._$base is not null."),this._$base):(0<e.length?(a=e,a.removeAttr("z-index"),a.removeClass(d.RECYCLE_CLASS)):(a=b("<"+g+" class='"+d.LISTITEM_BASE_CLASS+"'></"+g+">"),a.css("display","none"),c.append(a)),a.height()!==this._height&&a.height(this._height),this.updateIndex(a),this.updateOffset(a),a)},a.prototype.updateIndex=function(a){a.attr(d.DATA_CONTAINER_INDEX)!==this._index.toString()&&a.attr(d.DATA_CONTAINER_INDEX,this._index.toString())},a.prototype.updatePageIndex=function(a){a.attr(d.DATA_PAGE_INDEX)!==this._pageIndex.toString()&&a.attr(d.DATA_PAGE_INDEX,this._pageIndex.toString())},a.prototype.updateOffset=function(a){var b={};if(this._owner.getListViewOptions().enableTransformOffset){if(e.getCssMatrixValue(a,"translateY")!==this._offset){for(var c=0;c<e.cssPrefixes.length;c++)b[e.cssPrefixes[c]+"transform"]="translate3d(0px,"+this._offset+"px,0px)";a.css(b)}}else parseInt(a.css("top"),10)!==this._offset&&a.css("top",this._offset+"px")},a}();c.LineProfile=g}(c=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var c;!function(a){var c="[CDP.UI.GroupProfile] ",d=function(){function d(a,b){this._id=a,this._owner=b,this._parent=null,this._children=[],this._expanded=!1,this._status="unregistered",this._mapLines={}}return d.prototype.addItem=function(c,e,f,g){var h,i=b.extend({},{groupProfile:this},f);return null==g&&(g=d.LAYOUT_KEY_DEFAULT),null==this._mapLines[g]&&(this._mapLines[g]=[]),h=new a.LineProfile(this._owner.core,Math.floor(c),e,i),"registered"!==this._status||null!=this._owner.layoutKey&&g!==this._owner.layoutKey||(this._owner._addLine(h,this.getLastLineIndex()+1),this._owner.update()),this._mapLines[g].push(h),this},d.prototype.addChildren=function(a){var b=this,c=a instanceof Array?a:[a];return c.forEach(function(a){a.setParent(b)}),this._children=this._children.concat(c),this},d.prototype.getParent=function(){return this._parent},d.prototype.getChildren=function(){return this._children},d.prototype.hasChildren=function(a){return!(this._children.length<=0)&&(null==a||this._children[0].hasLayoutKeyOf(a))},d.prototype.hasLayoutKeyOf=function(a){return null==a&&(a=d.LAYOUT_KEY_DEFAULT),null!=this._mapLines[a]},d.prototype.expand=function(){var a=this,b=[];this._lines.length<0?console.warn(c+"this group has no lines."):this.hasChildren()?this.isExpanded()||(b=this.queryOperationTarget("registered"),this._expanded=!0,0<b.length&&this._owner.statusScope("expanding",function(){a._lines.forEach(function(a){a.refresh()}),a._owner._addLine(b,a.getLastLineIndex()+1),a._owner.update()})):console.warn(c+"this group has no children.")},d.prototype.collapse=function(a){var b=this,d=[];this.hasChildren()?this.isExpanded()&&(d=this.queryOperationTarget("unregistered"),this._expanded=!1,0<d.length&&(a=null!=a?a:this._owner.core.getListViewOptions().animationDuration,this._owner.statusScope("collapsing",function(){b._lines.forEach(function(a){a.refresh()}),b._owner.removeItem(d[0].index,d.length,a),b._owner.update()}))):console.warn(c+"this group has no children.")},d.prototype.ensureVisible=function(a){0<this._lines.length?this._owner.ensureVisible(this._lines[0].index,a):null!=a.callback&&a.callback()},d.prototype.toggle=function(a){this._expanded?this.collapse(a):this.expand()},d.prototype.isExpanded=function(){return this._expanded},d.prototype.register=function(a){return this._parent?console.error(c+"logic error: 'register' method is acceptable only top group."):this._owner._addLine(this.preprocess("registered"),a),this},d.prototype.restore=function(){var a=[];return this._parent?console.error(c+"logic error: 'restore' method is acceptable only top group."):this._lines&&(a=this._expanded?this._lines.concat(this.queryOperationTarget("active")):this._lines,this._owner._addLine(a)),this},d.prototype.getLastLineIndex=function(a){var b=this;void 0===a&&(a=!1);var d=function(){var c;return a&&(c=b.queryOperationTarget("active")),(null==c||c.length<=0)&&(c=b._lines),c}();return d.length<=0?(console.error(c+"logic error: this group is stil not registered."),null):d[d.length-1].index},Object.defineProperty(d.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),d.prototype.setParent=function(a){this._parent=a},d.prototype.preprocess=function(a){var b=[];return a!==this._status&&null!=this._lines&&(b=this._lines),this._status=a,b},d.prototype.queryOperationTarget=function(a){var b=function(d){var e=[];return d._children.forEach(function(d){switch(a){case"registered":e=e.concat(d.preprocess(a));break;case"unregistered":e=e.concat(d.preprocess(a));break;case"active":null!=d._lines&&(e=e.concat(d._lines));break;default:return void console.warn(c+"unknown operation: "+a)}d.isExpanded()&&(e=e.concat(b(d)))}),e};return b(this)},Object.defineProperty(d.prototype,"_lines",{get:function(){var a=this._owner.layoutKey;return null!=a?this._mapLines[a]:this._mapLines[d.LAYOUT_KEY_DEFAULT]},enumerable:!0,configurable:!0}),d}();d.LAYOUT_KEY_DEFAULT="-layout-default",a.GroupProfile=d}(c=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var d;!function(d){function e(a,b){var d=a,e=b instanceof Array?b:[b];return e.forEach(function(a){var b={};c.extendOwn(b,a.prototype),delete b.constructor,d=d.extend(b)}),d}function f(a,b){var c,d=b instanceof Array?b:[b];c=2<=d.length?e(d[0],d.slice(1)):d[0],a=e(c,a)}function g(a,b){var c=b instanceof Array?b:[b];c.forEach(function(b){Object.getOwnPropertyNames(b.prototype).forEach(function(c){a.prototype[c]=b.prototype[c]})})}d.global=a.global||window,d.composeViews=e,d.deriveViews=f,d.mixinViews=g;var h;!function(a){a.cssPrefixes=["-webkit-","-moz-","-ms-","-o-",""],a.getCssMatrixValue=function(c,d){for(var e=0,f=0,g=0,h=0,i=0;i<a.cssPrefixes.length;i++){var j=b(c).css(a.cssPrefixes[i]+"transform");if(j){var k=j.indexOf("3d")!==-1;j=j.replace("matrix3d","").replace("matrix","").replace(/[^\d.,-]/g,"");var l=j.split(",");e=Number(l[k?12:4]),f=Number(l[k?13:5]),g=Number(l[0]),h=Number(l[k?5:3]);break}}switch(d){case"translateX":return isNaN(e)?0:e;case"translateY":return isNaN(f)?0:f;case"scaleX":return isNaN(g)?1:g;case"scaleY":return isNaN(h)?1:h;default:return 0}},a.transitionEnd="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",a.setTransformsTransitions=function(c,d,e,f){for(var g=b(c),h={},i=e/1e3+"s",j=" "+i+" "+f,k=", transform"+j,l=0;l<a.cssPrefixes.length;l++)h[a.cssPrefixes[l]+"transition"]=d+j+k;g.css(h)},a.clearTransitions=function(c){var d=b(c);d.off(a.transitionEnd);for(var e={},f=0;f<a.cssPrefixes.length;f++)e[a.cssPrefixes[f]+"transition"]="";d.css(e)},a.abs=function(a){return a>=0?a:-a},a.max=function(a,b){return a>=b?a:b}}(h=d._ListViewUtils||(d._ListViewUtils={}))}(d=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var b;!function(a){var b=function(){function a(){this._status={}}return a.prototype.statusAddRef=function(a){return this._status[a]?this._status[a]++:this._status[a]=1,this._status[a]},a.prototype.statusRelease=function(a){var b;return this._status[a]?(this._status[a]--,b=this._status[a],0===b&&delete this._status[a]):b=0,b},a.prototype.statusScope=function(a,b){this.statusAddRef(a),b(),this.statusRelease(a)},a.prototype.isStatusIn=function(a){return!!this._status[a]},a}();a.StatusManager=b}(b=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var b;!function(a){var b=function(){function a(){this._index=0,this._offset=0,this._height=0,this._lines=[],this._status="inactive"}return a.prototype.activate=function(){"active"!==this._status&&this._lines.forEach(function(a){a.activate()}),this._status="active"},a.prototype.hide=function(){"hidden"!==this._status&&this._lines.forEach(function(a){a.hide()}),this._status="hidden"},a.prototype.inactivate=function(){"inactive"!==this._status&&this._lines.forEach(function(a){a.inactivate()}),this._status="inactive"},a.prototype.push=function(a){this._lines.push(a),this._height+=a.height},a.prototype.normalize=function(){var a=c.every(this._lines,function(a){return a.isActive()});a||(this._status="inactive")},a.prototype.getLineProfile=function(a){return 0<=a&&a<this._lines.length?this._lines[a]:null},a.prototype.getLineProfileFirst=function(){return this.getLineProfile(0)},a.prototype.getLineProfileLast=function(){return this.getLineProfile(this._lines.length-1)},Object.defineProperty(a.prototype,"index",{get:function(){return this._index},set:function(a){this._index=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"offset",{get:function(){return this._offset},set:function(a){this._offset=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),a}();a.PageProfile=b}(b=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var c;!function(c){var d=a.UI._ListViewUtils,e="[CDP.UI.ScrollerElement] ",f=function(){function a(a,c){this._$target=null,this._$scrollMap=null,this._listviewOptions=null,this._$target=b(a),this._listviewOptions=c}return a.prototype.getType=function(){return a.TYPE},a.prototype.getPos=function(){return this._$target.scrollTop()},a.prototype.getPosMax=function(){return null==this._$scrollMap&&(this._$scrollMap=this._$target.children().first()),d.max(this._$scrollMap.height()-this._$target.height(),0)},a.prototype.on=function(a,b){switch(a){case"scroll":this._$target.on("scroll",b);break;case"scrollstop":this._$target.on("scrollstop",b);break;default:console.warn(e+"unsupported type: "+a)}},a.prototype.off=function(a,b){switch(a){case"scroll":this._$target.off("scroll",b);break;case"scrollstop":this._$target.off("scrollstop",b);break;default:console.warn(e+"unsupported type: "+a)}},a.prototype.scrollTo=function(a,b,c){this._listviewOptions.enableAnimation&&b?(null==c&&(c=this._listviewOptions.animationDuration),this._$target.animate({scrollTop:a},c)):this._$target.scrollTop(a)},a.prototype.update=function(){},a.prototype.destroy=function(){this._$scrollMap=null,this._$target&&(this._$target.off(),this._$target=null)},Object.defineProperty(a,"TYPE",{get:function(){return"element-overflow"},enumerable:!0,configurable:!0}),a.getFactory=function(){var b=function(b,c){return new a(b,c)};return b.type=a.TYPE,b},a}();c.ScrollerElement=f}(c=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var c;!function(c){var d=a.UI._ListViewUtils,e="[CDP.UI.ScrollerNative] ",f=function(){function a(a){this._$body=null,this._$target=null,this._$scrollMap=null,this._listviewOptions=null,this._$target=b(document),this._$body=b("body"),this._listviewOptions=a}return a.prototype.getType=function(){return a.TYPE},a.prototype.getPos=function(){return this._$target.scrollTop()},a.prototype.getPosMax=function(){return d.max(this._$target.height()-window.innerHeight,0)},a.prototype.on=function(a,c){switch(a){case"scroll":this._$target.on("scroll",c);break;case"scrollstop":b(window).on("scrollstop",c);break;default:console.warn(e+"unsupported type: "+a)}},a.prototype.off=function(a,c){switch(a){case"scroll":this._$target.off("scroll",c);break;case"scrollstop":b(window).off("scrollstop",c);break;default:console.warn(e+"unsupported type: "+a)}},a.prototype.scrollTo=function(a,b,c){this._listviewOptions.enableAnimation&&b?(null==c&&(c=this._listviewOptions.animationDuration),this._$body.animate({scrollTop:a},c)):this._$body.scrollTop(a)},a.prototype.update=function(){},a.prototype.destroy=function(){this._$scrollMap=null,this._$target=null},Object.defineProperty(a,"TYPE",{get:function(){return"native-scroll"},enumerable:!0,configurable:!0}),a.getFactory=function(){var b=function(b,c){return new a(c)};return b.type=a.TYPE,b},a}();c.ScrollerNative=f}(c=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var d;!function(d){var e=a.UI.ListViewGlobalConfig,f=a.UI._ListViewUtils,g="[CDP.UI.ScrollerIScroll] ",h=function(){function a(a,c,e,f){this._$owner=null,this._iscroll=null,this._refreshTimerId=null,this._$wrapper=null,this._$scroller=null,this._listviewOptions=null,null!=d.global.IScroll?(this._$owner=a,this._iscroll=new IScroll(c,e),this._$wrapper=b(this._iscroll.wrapper),this._$scroller=b(this._iscroll.scroller),this._listviewOptions=f):console.error(g+"iscroll module doesn't load.")}return a.prototype.getType=function(){return a.TYPE},a.prototype.getPos=function(){var a=this._iscroll.getComputedPosition().y;return a=c.isNaN(a)?0:-a},a.prototype.getPosMax=function(){return f.max(-this._iscroll.maxScrollY,0)},a.prototype.on=function(a,b){switch(a){case"scroll":this._iscroll.on("scroll",b);break;case"scrollstop":this._iscroll.on("scrollEnd",b);break;default:console.warn(g+"unsupported type: "+a)}},a.prototype.off=function(a,b){switch(a){case"scroll":this._iscroll.off("scroll",b);break;case"scrollstop":this._iscroll.on("scrollEnd",b);break;default:console.warn(g+"unsupported type: "+a)}},a.prototype.scrollTo=function(a,b,c){c=0,this._listviewOptions.enableAnimation&&b&&(c=c||this._listviewOptions.animationDuration),this._iscroll.scrollTo(0,-a,c)},a.prototype.update=function(){var a=this;if(this._$owner){!function(){var b=a._$owner.height();b!==a._$wrapper.height()&&a._$wrapper.height(b)}(),null!=this._refreshTimerId&&clearTimeout(this._refreshTimerId);var b=function(){a._$scroller&&a._$scroller.height()!==a._iscroll.scrollerHeight?(a._iscroll.refresh(),a._refreshTimerId=setTimeout(b,a._listviewOptions.scrollMapRefreshInterval)):a._refreshTimerId=null};this._iscroll.refresh(),this._refreshTimerId=setTimeout(b,this._listviewOptions.scrollMapRefreshInterval)}},a.prototype.destroy=function(){this._$scroller=null,this._$wrapper=null,this._iscroll.destroy(),this._$owner=null},Object.defineProperty(a,"TYPE",{get:function(){return"iscroll"},enumerable:!0,configurable:!0}),a.getFactory=function(c){var d={scrollX:!1,bounce:!1,tap:!0,click:!0,mouseWheel:!0,scrollbars:!0,interactiveScrollbars:!0,shrinkScrollbars:"scale",fadeScrollbars:!0,probeType:2},f=b.extend({},d,c),g=function(c,d){var g=b(c),h=g.find(e.SCROLL_MAP_SELECTOR),i=b("<div class='"+e.WRAPPER_CLASS+"'></div>").css({position:"absolute",width:"100%",height:"100%",overflow:"hidden"});return h.wrap(i),new a(g,e.WRAPPER_SELECTOR,f,d)};return g.type=a.TYPE,g},a}();d.ScrollerIScroll=h}(d=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var b;!function(a){var b="[CDP.UI.ListItemView] ",c=function(c){function d(a){var b=c.call(this,a)||this;if(b._owner=null,b._lineProfile=null,b._owner=a.owner,a.$el){var d=!!b.events;b.setElement(a.$el,d)}return b._lineProfile=a.lineProfile,b}return e(d,c),d.prototype.render=function(){return console.warn(b+"need override 'render()' method."),this},d.prototype.getIndex=function(){return this._lineProfile.index},d.prototype.getSpecifiedHeight=function(){return this._lineProfile.height},d.prototype.hasChildNode=function(){return!!this.$el&&0<this.$el.children().length},d.prototype.updateHeight=function(a,b){return this.$el&&this.getSpecifiedHeight()!==a&&(this._lineProfile.updateHeight(a,b),this.$el.height(a)),this},d.compose=function(b,c,e){var f=a.composeViews(d,b);return f.extend(c,e)},d.prototype.remove=function(){return this.$el.find("figure").css("background-image","none"),this.$el.children().remove(),this.$el.off(),this.$el=null,this.stopListening(),this._lineProfile=null,this},Object.defineProperty(d.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),d}(d.View);a.ListItemView=c}(b=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var d;!function(d){var e=a.UI.ListViewGlobalConfig,f=a.UI._ListViewUtils,g="[CDP.UI.ScrollManager] ",h=function(){function a(a){var c=this;this._$root=null,this._$map=null,this._mapHeight=0,this._scroller=null,this._settings=null,this._active=!0,this._scrollEventHandler=null,this._scrollStopEventHandler=null,this._baseHeight=0,this._lines=[],this._pages=[],this._lastActivePageContext={index:0,from:0,to:0,pos:0},this._backup={};var e={scrollerFactory:d.ScrollerNative.getFactory(),enableHiddenPage:!1,enableTransformOffset:!1,scrollMapRefreshInterval:200,scrollRefreshDistance:200,pagePrepareCount:3,pagePreloadCount:1,enableAnimation:!0,animationDuration:0,baseDepth:"auto",itemTagName:"div",removeItemWithTransition:!0,useDummyInactiveScrollMap:!1};this._settings=b.extend({},e,a),this._scrollEventHandler=function(a){c.onScroll(c._scroller.getPos())},this._scrollStopEventHandler=function(a){c.onScrollStop(c._scroller.getPos())}}return a.prototype.initialize=function(a,b){return this._$root&&this.destroy(),this._$root=a,this._$map=a.hasClass(e.SCROLL_MAP_CLASS)?a:a.find(e.SCROLL_MAP_SELECTOR),this._$map.length<=0?(this._$root=null,!1):(this._scroller=this.createScroller(),this.setBaseHeight(b),this.setScrollerCondition(),!0)},a.prototype.destroy=function(){this._scroller&&(this.resetScrollerCondition(),this._scroller.destroy(),this._scroller=null),this.release(),this._$map=null,this._$root=null},a.prototype.setBaseHeight=function(a){this._baseHeight=a,this._baseHeight<=0&&console.warn(g+"invalid base height: "+this._baseHeight),this._scroller&&this._scroller.update()},a.prototype.setActiveState=function(a){this._active=a,this.treatScrollPosition()},a.prototype.isActive=function(){return this._active},a.prototype.getScrollerType=function(){return this._settings.scrollerFactory.type},a.prototype.treatScrollPosition=function(){var a,b=this,c={},d=function(d,e){if(e=e||b._scroller.getPos()-b._lastActivePageContext.pos,f.getCssMatrixValue(d,"translateY")!==e){for(a=0;a<f.cssPrefixes.length;a++)c[f.cssPrefixes[a]+"transform"]="translate3d(0px,"+e+"px,0px)";return d.css(c),d}},e=function(b){for(a=0;a<f.cssPrefixes.length;a++)c[f.cssPrefixes[a]+"transform"]="";return b.css(c),b};this._active?(!function(){b._scroller&&b._scroller.scrollTo(b._lastActivePageContext.pos,!1,0),e(b._$map).css("display","block")}(),this._settings.useDummyInactiveScrollMap&&this.prepareInactiveMap().remove()):d(this._settings.useDummyInactiveScrollMap?this.prepareInactiveMap():this._$map)},a.prototype.prepareInactiveMap=function(){var a=this._$map.parent(),c=a.find(e.INACTIVE_CLASS_SELECTOR);if(c.length<=0){var d=this.getPageIndex(),f=this._$map.clone().children().filter(function(a,c){var f=~~b(c).attr(e.DATA_PAGE_INDEX);return d-1<=f||f<=d+1});c=b("<section class='"+e.SCROLL_MAP_CLASS+" "+e.INACTIVE_CLASS+"'></section>").append(f).height(this._mapHeight),a.append(c),this._$map.css("display","none")}return c},a.prototype.isInitialized=function(){return!!this._$root},a.prototype.addItem=function(a,b,c,e){this._addLine(new d.LineProfile(this,Math.floor(a),b,c),e)},a.prototype._addLine=function(a,b){var c,d,e=0,f=a instanceof Array?a:[a],g=!1;for(null==b&&(b=this._lines.length),b===this._lines.length&&(g=!0),c=0,d=f.length;c<d;c++)e+=f[c].height;for(this.updateScrollMapHeight(e),c=f.length-1;c>=0;c--)this._lines.splice(b,0,f[c]);g||(0===b?this.clearPage():null!=this._lines[b-1].pageIndex&&this.clearPage(this._lines[b-1].pageIndex)),this.updateProfiles(b)},a.prototype.removeItem=function(a,b,c){a instanceof Array?this._removeLines(a,b):this._removeLine(a,b,c)},a.prototype._removeLine=function(a,b,c){var d=this;if(null==b&&(b=1),a<0||this._lines.length<a+b)return void console.error(g+"logic error. removeItem(), invalid index: "+a);c=null!=c?c:0;var e=0,f=[],h=!1;!function(){for(var g,i=0;i<b;i++)g=d._lines[a+i],e+=g.height,g.resetDepth(),f.push(g);if(d._settings.removeItemWithTransition&&0<c){var j=d.getScrollPos(),k=d.getScrollPosMax()-e;h=k<j}}(),function(){h&&d.setupScrollMapTransition(d._$map,c),null!=d._lines[a].pageIndex&&d.clearPage(d._lines[a].pageIndex),d.updateScrollMapHeight(-e),d._lines.splice(a,b),d.updateProfiles(a),setTimeout(function(){f.forEach(function(a){a.inactivate()})},c)}()},a.prototype._removeLines=function(a,b){var c=this;b=null!=b?b:0;for(var d=0,e=a.length;d<e;d++)if(d<0||this._lines.length<d)return void console.error(g+"logic error. removeItem(), invalid index: "+d);var f=0,h=[],i=!1;!function(){var d;if(a.forEach(function(a){d=c._lines[a],f+=d.height,d.resetDepth(),h.push(d)}),c._settings.removeItemWithTransition&&0<b){var e=c.getScrollPos(),g=c.getScrollPosMax()-f;i=g<e}}(),function(){i&&c.setupScrollMapTransition(c._$map,b),a.forEach(function(a){null!=c._lines[a].pageIndex&&c.clearPage(c._lines[a].pageIndex),c._lines.splice(a,1),c.updateProfiles(a)}),c.updateScrollMapHeight(-f),setTimeout(function(){h.forEach(function(a){a.inactivate()})},b)}()},a.prototype.setupScrollMapTransition=function(a,b){var c=function(b){a.off(f.transitionEnd),f.clearTransitions(a)};this._$map.on(f.transitionEnd,c),f.setTransformsTransitions(a,"height",b,"ease");
},a.prototype.getItemInfo=function(a){var c,d=function(a){return a.hasClass(e.LISTITEM_BASE_CLASS)?~~a.attr(e.DATA_CONTAINER_INDEX):a.hasClass(e.SCROLL_MAP_CLASS)||a.length<=0?(console.warn(g+"cannot ditect line from event object."),null):d(a.parent())};return a instanceof b.Event?c=d(b(a.currentTarget)):"number"==typeof a&&(c=a),null==c?(console.error(g+"logic error. unsupported arg type. type: "+typeof a),null):c<0||this._lines.length<=c?(console.error(g+"logic error. invalid range. index: "+c),null):this._lines[c].info},a.prototype.refresh=function(){var a=this,b={},d=this._settings.pagePrepareCount+this._settings.pagePreloadCount,e=this.getPageIndex(),h=[],i=c.filter(this._pages,function(a){return"inactive"!==a.status}),j=function(c){c===e?(b[c]="activate",h.push(c)):f.abs(e-c)<=a._settings.pagePrepareCount?b[c]="activate":a._settings.enableHiddenPage?b[c]="hide":b[c]="activate",e+1!==c&&e-1!==c||h.push(c)};this._lines.length<=0||(!function(){var b=0,c=0,f=0,g=0,h=e-d,i=e+d;for(c=h;c<=i;c++)c<0?f++:a._pages.length<=c?g++:j(c);if(0<f)for(b=0,c=e+d+1;b<f&&!(a._pages.length<=c);b++,c++)j(c);if(0<g)for(b=0,c=e-d-1;b<g&&!(c<0);b++,c--)j(c)}(),i.forEach(function(a){var c=a.index;null==b[c]&&a.inactivate()}),h.sort(function(a,b){return a<b?-1:a>b?1:0}).forEach(function(b){setTimeout(function(){a.isInitialized()&&a._pages[b]&&a._pages[b].activate()},0)}),c.each(b,function(c,d){setTimeout(function(){if(a.isInitialized()){var e=~~d;switch(c){case"activate":a._pages[e]&&a._pages[e].activate();break;case"hide":a._pages[e]&&a._pages[e].hide();break;case"inactivate":console.warn(g+"unexpected operation: inactivate");break;default:console.warn(g+"unknown operation: "+b[d])}}},0)}),this.findRecycleElements().remove(),this._lastActivePageContext.from=this._pages[e].getLineProfileFirst().index,this._lastActivePageContext.to=this._pages[e].getLineProfileLast().index,this._lastActivePageContext.index=e)},a.prototype.update=function(){var a=this._pages.length;this.assignPage(a),this.refresh()},a.prototype.rebuild=function(){this.clearPage(),this.assignPage(),this.refresh()},a.prototype.release=function(){this._lines.forEach(function(a){a.inactivate()}),this._pages=[],this._lines=[],this._$map&&(this._mapHeight=0,this._$map.height(0))},a.prototype.backup=function(a){return null==this._backup[a]&&(this._backup[a]={lines:this._lines}),!0},a.prototype.restore=function(a,b){return void 0===b&&(b=!0),null!=this._backup[a]&&(0<this._lines.length&&this.release(),this._addLine(this._backup[a].lines),b&&this.rebuild(),!0)},a.prototype.hasBackup=function(a){return null!=this._backup[a]},a.prototype.clearBackup=function(a){return null==a?(this._backup={},!0):null!=this._backup[a]&&(delete this._backup[a],!0)},Object.defineProperty(a.prototype,"backupData",{get:function(){return this._backup},enumerable:!0,configurable:!0}),a.prototype.setScrollHandler=function(a,b){this._scroller&&(b?this._scroller.on("scroll",a):this._scroller.off("scroll",a))},a.prototype.setScrollStopHandler=function(a,b){this._scroller&&(b?this._scroller.on("scrollstop",a):this._scroller.off("scrollstop",a))},a.prototype.getScrollPos=function(){return this._scroller?this._scroller.getPos():0},a.prototype.getScrollPosMax=function(){return this._scroller?this._scroller.getPosMax():0},a.prototype.scrollTo=function(a,b,c){this._scroller&&(a<0?(console.warn(g+"invalid position, too small. [pos: "+a+"]"),a=0):this._scroller.getPosMax()<a&&(console.warn(g+"invalid position, too big. [pos: "+a+"]"),a=this._scroller.getPosMax()),this._lastActivePageContext.pos=a,a!==this._scroller.getPos()&&this._scroller.scrollTo(a,b,c))},a.prototype.ensureVisible=function(a,c){var d=this;return a<0||this._lines.length<=a?void console.warn(g+"ensureVisible(), invalid index, noop. [index: "+a+"]"):this._scroller?void function(){var e,f=d._lines[a],h={partialOK:!0,setTop:!1,animate:d._settings.enableAnimation,time:d._settings.animationDuration,callback:function(){}},i=b.extend({},h,c),j={from:d._scroller.getPos(),to:d._scroller.getPos()+d._baseHeight},k={from:f.offset,to:f.offset+f.height},l=function(){return i.partialOK?k.from<=j.from?j.from<=k.to:k.from<=j.to:j.from<=k.from&&k.to<=j.to},m=function(){return k.from<j.from?k.from:j.from<k.from?f.offset-f.height:(console.warn(g+"logic error."),0)};if(i.setTop)e=k.from;else{if(l())return void i.callback();e=m()}e<0?e=0:d._scroller.getPosMax()<e&&(e=d._scroller.getPosMax()),setTimeout(i.callback,i.time),d.scrollTo(e,i.animate,i.time)}():void console.warn(g+"scroller is not ready.")},a.prototype.getScrollMapHeight=function(){return this._$map?this._mapHeight:0},a.prototype.updateScrollMapHeight=function(a){this._$map&&(this._mapHeight+=a,this._mapHeight<0&&(this._mapHeight=0),this._$map.height(this._mapHeight))},a.prototype.updateProfiles=function(a){var b,c,d;for(b=a,c=this._lines.length;b<c;b++)0<b?(d=this._lines[b-1],this._lines[b].index=d.index+1,this._lines[b].offset=d.offset+d.height):(this._lines[b].index=0,this._lines[b].offset=0)},a.prototype.getScrollMapElement=function(){return this._$map||b("")},a.prototype.findRecycleElements=function(){return this._$map?this._$map.find(e.RECYCLE_CLASS_SELECTOR):b("")},a.prototype.getListViewOptions=function(){return this._settings},a.prototype.setScrollerCondition=function(){this._scroller.on("scroll",this._scrollEventHandler),this._scroller.on("scrollstop",this._scrollStopEventHandler)},a.prototype.resetScrollerCondition=function(){this._scroller.off("scrollstop",this._scrollStopEventHandler),this._scroller.off("scroll",this._scrollEventHandler)},a.prototype.createScroller=function(){return this._settings.scrollerFactory(this._$root[0],this._settings)},a.prototype.getPageIndex=function(){var a,b,c,d,e=this,f=this._scroller?this._scroller.getPos():0,h=this._scroller?this._scroller.getPosMax():0,i=function(){var a=e.getLastPage();return null!=a?a.offset+a.height:e._baseHeight}(),j=function(){return 0===h||h<=e._baseHeight?0:f*i/h}(),k=function(a){return null!=a&&(a.offset<=j&&j<=a.offset+a.height)};if(this._baseHeight<=0)return console.error(g+"invalid base height: "+this._baseHeight),0;if(d=Math.floor(j/this._baseHeight),this._pages.length<=d&&(d=this._pages.length-1),c=this._pages[d],k(c))return c.index;if(j<c.offset){for(a=d-1;a>=0;a--)if(c=this._pages[a],k(c))return c.index;return console.warn(g+"unknown page index."),0}for(a=d+1,b=this._pages.length;a<b;a++)if(c=this._pages[a],k(c))return c.index;return console.warn(g+"unknown page index."),this.getLastPage().index},a.prototype.onScroll=function(a){if(this._active&&0<this._pages.length){var b=this.getPageIndex();f.abs(a-this._lastActivePageContext.pos)<this._settings.scrollRefreshDistance&&this._lastActivePageContext.index!==b&&this.refresh(),this._lastActivePageContext.pos=a}},a.prototype.onScrollStop=function(a){if(this._active&&0<this._pages.length){var b=this.getPageIndex();this._lastActivePageContext.index!==b&&this.refresh(),this._lastActivePageContext.pos=a}},a.prototype.getLastPage=function(){return 0<this._pages.length?this._pages[this._pages.length-1]:null},a.prototype.assignPage=function(a){var b,c,e=this;null==a?a=0:this.clearPage(a),function(){var a,f,g=0,h=e.getLastPage();null==h?(h=new d.PageProfile,e._pages.push(h)):(a=h.getLineProfileLast(),null!=a&&(g=a.index+1));var i=e._lines.slice(g);for(b=0,c=i.length;b<c;b++)e._baseHeight<=h.height&&(h.normalize(),f=h,f=new d.PageProfile,f.index=h.index+1,f.offset=h.offset+h.height,h=f,e._pages.push(h)),i[b].pageIndex=h.index,h.push(i[b]);h.normalize()}(),this._scroller&&this._scroller.update()},a.prototype.clearPage=function(a){null==a&&(a=0),this._pages=this._pages.slice(0,a)},a}();d.ScrollManager=h}(d=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var c;!function(a){var c=function(c){function d(b){var d=c.call(this,b)||this;d._scrollMgr=null;var e=b||{};if(d._scrollMgr=new a.ScrollManager(b),e.$el){var f=!!d.events;d.setElement(e.$el,f)}else{var g=e.initialHeight||d.$el.height();d._scrollMgr.initialize(d.$el,g)}return d}return e(d,c),d.prototype.setElement=function(a,d){if(this._scrollMgr){var e=b(a);this._scrollMgr.destroy(),this._scrollMgr.initialize(e,e.height())}return c.prototype.setElement.call(this,a,d)},d.prototype.remove=function(){return this._scrollMgr.destroy(),c.prototype.remove.call(this)},d.prototype.isInitialized=function(){return this._scrollMgr.isInitialized()},d.prototype.addItem=function(b,c,d,e){this._addLine(new a.LineProfile(this._scrollMgr,Math.floor(b),c,d),e)},d.prototype.removeItem=function(a,b,c){this._scrollMgr.removeItem(a,b,c)},d.prototype.getItemInfo=function(a){return this._scrollMgr.getItemInfo(a)},d.prototype.refresh=function(){this._scrollMgr.refresh()},d.prototype.update=function(){this._scrollMgr.update()},d.prototype.rebuild=function(){this._scrollMgr.rebuild()},d.prototype.release=function(){this._scrollMgr.release()},d.prototype.backup=function(a){return this._scrollMgr.backup(a)},d.prototype.restore=function(a,b){return void 0===b&&(b=!0),this._scrollMgr.restore(a,b)},d.prototype.hasBackup=function(a){return this._scrollMgr.hasBackup(a)},d.prototype.clearBackup=function(a){return this._scrollMgr.clearBackup(a)},Object.defineProperty(d.prototype,"backupData",{get:function(){return this._scrollMgr?this._scrollMgr.backupData:null},enumerable:!0,configurable:!0}),d.prototype.setScrollHandler=function(a,b){this._scrollMgr.setScrollHandler(a,b)},d.prototype.setScrollStopHandler=function(a,b){this._scrollMgr.setScrollStopHandler(a,b)},d.prototype.getScrollPos=function(){return this._scrollMgr.getScrollPos()},d.prototype.getScrollPosMax=function(){return this._scrollMgr.getScrollPosMax()},d.prototype.scrollTo=function(a,b,c){this._scrollMgr.scrollTo(a,b,c)},d.prototype.ensureVisible=function(a,b){this._scrollMgr.ensureVisible(a,b)},Object.defineProperty(d.prototype,"core",{get:function(){return this._scrollMgr},enumerable:!0,configurable:!0}),d.prototype._addLine=function(a,b){this._scrollMgr._addLine(a,b)},d.compose=function(b,c,e){var f=a.composeViews(d,b);return f.extend(c,e)},d}(d.View);a.ListView=c}(c=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var b;!function(a){var b=function(a){function b(b){var c=a.call(this,b)||this;return c._groupProfile=null,c._groupProfile=b.groupProfile,c}return e(b,a),b.prototype.isExpanded=function(){return this._groupProfile.isExpanded()},b.prototype.isExpanding=function(){return this.owner.isExpanding()},b.prototype.isCollapsing=function(){return this.owner.isCollapsing()},b.prototype.isSwitching=function(){return this.owner.isSwitching()},b.prototype.hasChildren=function(a){return this._groupProfile.hasChildren(a)},b}(a.ListItemView);a.GroupListItemView=b}(b=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var b;!function(a){var b="[CDP.UI.ExpandManager] ",d=function(){function d(a){this._owner=null,this._mapGroups={},this._aryTopGroups=[],this._layoutKey=null,this._owner=a}return d.prototype.newGroup=function(b){var c;return null==b&&(b="group-id:"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)),null!=this._mapGroups[b]?this._mapGroups[b]:(c=new a.GroupProfile(b,this._owner),this._mapGroups[b]=c,c)},d.prototype.getGroup=function(a){return null==this._mapGroups[a]?(console.warn(b+"group id: "+a+" is not registered."),null):this._mapGroups[a]},d.prototype.registerTopGroup=function(a){var d,e;return"registered"===a.status?void a.restore():(d=0<this._aryTopGroups.length?this._aryTopGroups[this._aryTopGroups.length-1]:null,e=null!=d?d.getLastLineIndex(!0)+1:0,c.isNaN(e)?void console.error(b+"logic error, 'insertTo' is NaN."):(this._aryTopGroups.push(a),void a.register(e)))},d.prototype.getTopGroups=function(){return this._aryTopGroups.slice(0)},d.prototype.expandAll=function(){this._aryTopGroups.forEach(function(a){a.hasChildren()&&a.expand()})},d.prototype.collapseAll=function(a){this._aryTopGroups.forEach(function(b){b.hasChildren()&&b.collapse(a)})},d.prototype.isExpanding=function(){return this._owner.isStatusIn("expanding")},d.prototype.isCollapsing=function(){return this._owner.isStatusIn("collapsing")},d.prototype.isSwitching=function(){return this.isExpanding()||this.isCollapsing()},d.prototype.statusAddRef=function(a){return this._owner.statusAddRef(a)},d.prototype.statusRelease=function(a){return this._owner.statusRelease(a)},d.prototype.statusScope=function(a,b){this._owner.statusScope(a,b)},d.prototype.isStatusIn=function(a){return this._owner.isStatusIn(a)},Object.defineProperty(d.prototype,"layoutKey",{get:function(){return this._layoutKey},set:function(a){this._layoutKey=a},enumerable:!0,configurable:!0}),d.prototype.release=function(){this._mapGroups={},this._aryTopGroups=[]},d.prototype.backup=function(a){var b=this.backupData;return null==b[a]&&(b[a]={map:this._mapGroups,tops:this._aryTopGroups}),!0},d.prototype.restore=function(a,b){void 0===b&&(b=!0);var c=this.backupData;return null!=c[a]&&(0<this._aryTopGroups.length&&this.release(),this._mapGroups=c[a].map,this._aryTopGroups=c[a].tops,!(this._aryTopGroups.length<=0||!this._aryTopGroups[0].hasLayoutKeyOf(this.layoutKey))&&(this._aryTopGroups.forEach(function(a){a.restore()}),b&&this._owner.rebuild(),!0))},d.prototype.hasBackup=function(a){return this._owner.hasBackup(a)},d.prototype.clearBackup=function(a){return this._owner.clearBackup(a)},Object.defineProperty(d.prototype,"backupData",{get:function(){return this._owner.backupData},enumerable:!0,configurable:!0}),d}();a.ExpandManager=d}(b=a.UI||(a.UI={}))}(a||(a={}));var a;return function(a){var b;!function(a){var b=function(b){function c(c){var d=b.call(this,c)||this;return d._statusMgr=null,d._expandManager=null,d._statusMgr=new a.StatusManager,d._expandManager=new a.ExpandManager(d),d}return e(c,b),c.prototype.newGroup=function(a){return this._expandManager.newGroup(a)},c.prototype.getGroup=function(a){return this._expandManager.getGroup(a)},c.prototype.registerTopGroup=function(a){this._expandManager.registerTopGroup(a)},c.prototype.getTopGroups=function(){return this._expandManager.getTopGroups()},c.prototype.expandAll=function(){this._expandManager.expandAll()},c.prototype.collapseAll=function(a){this._expandManager.collapseAll(a)},c.prototype.isExpanding=function(){return this._expandManager.isExpanding()},c.prototype.isCollapsing=function(){return this._expandManager.isCollapsing()},c.prototype.isSwitching=function(){return this._expandManager.isSwitching()},c.prototype.statusAddRef=function(a){return this._statusMgr.statusAddRef(a)},c.prototype.statusRelease=function(a){return this._statusMgr.statusRelease(a)},c.prototype.statusScope=function(a,b){this._statusMgr.statusScope(a,b)},c.prototype.isStatusIn=function(a){return this._statusMgr.isStatusIn(a)},Object.defineProperty(c.prototype,"layoutKey",{get:function(){return this._expandManager.layoutKey},set:function(a){this._expandManager.layoutKey=a},enumerable:!0,configurable:!0}),c.prototype.release=function(){b.prototype.release.call(this),this._expandManager.release()},c.prototype.backup=function(a){return this._expandManager.backup(a)},c.prototype.restore=function(a,b){return void 0===b&&(b=!0),this._expandManager.restore(a,b)},c}(a.ListView);a.ExpandableListView=b}(b=a.UI||(a.UI={}))}(a||(a={})),a.UI}),function(a,b){"function"==typeof define&&define.amd?define("cdp.ui.jqm",["cdp.framework.jqm","cdp.tools","cdp.ui.listview"],function(){return b(a.CDP||(a.CDP={}))}):b(a.CDP||(a.CDP={}))}(this,function(a){a.UI=a.UI||{};var a,b=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};!function(a){var b;!function(a){var b,c="[CDP.UI.Toast] ";!function(a){function b(b,g,h){void 0===g&&(g=a.LENGTH_SHORT);var i=$.mobile,j=h||new f,k=!!j.getStyle(),l=b.replace(/\n/g,"<br/>"),m="<div>"+l+"</div>",n=$(m).addClass(j.getClass());k&&n.css(j.getStyle()),n.css({top:0,left:0}).appendTo(i.pageContainer);var o,p,q=j.getOffsetPoint(),r=$(window),s=n.width()+parseInt(n.css("padding-left"),10)+parseInt(n.css("padding-right"),10),t=n.height()+parseInt(n.css("padding-top"),10)+parseInt(n.css("padding-bottom"),10);switch(15&q){case d.LEFT:o=0+j.getOffsetX();break;case d.RIGHT:o=r.width()-s+j.getOffsetX();break;case d.CENTER:o=r.width()/2-s/2+j.getOffsetX();break;default:console.warn(c+"warn. unknown offsetPoint:"+(15&q)),o=r.width()/2-s/2+j.getOffsetX()}switch(240&q){case e.TOP:p=0+j.getOffsetY();break;case e.BOTTOM:p=r.height()-t+j.getOffsetY();break;case e.CENTER:p=r.height()/2-t/2+j.getOffsetY();break;default:console.warn(c+"warn. unknown offsetPoint:"+(240&q)),p=r.height()/2-t/2+j.getOffsetY()}n.css({top:p,left:o}).delay(g).fadeOut(400,function(){$(this).remove()})}a.LENGTH_SHORT=1500,a.LENGTH_LONG=4e3;var d;!function(a){a[a.LEFT=1]="LEFT",a[a.RIGHT=2]="RIGHT",a[a.CENTER=4]="CENTER"}(d=a.OffsetX||(a.OffsetX={}));var e;!function(a){a[a.TOP=16]="TOP",a[a.BOTTOM=32]="BOTTOM",a[a.CENTER=64]="CENTER"}(e=a.OffsetY||(a.OffsetY={}));var f=function(){function a(){}return a.prototype.getClass=function(){return"ui-loader ui-overlay-shadow ui-corner-all"},a.prototype.getStyle=function(){var a={padding:"7px 25px 7px 25px",display:"block","background-color":"#1d1d1d","border-color":"#1b1b1b",color:"#fff","text-shadow":"0 1px 0 #111","font-weight":"bold",opacity:.8};return a},a.prototype.getOffsetPoint=function(){return d.CENTER|e.BOTTOM},a.prototype.getOffsetX=function(){return 0},a.prototype.getOffsetY=function(){return-75},a}();a.StyleBuilderDefault=f,a.show=b}(b=a.Toast||(a.Toast={}))}(b=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var b;!function(b){var c=a.Framework,d="[CDP.UI.Dialog] ",e=function(){function b(c,d){this._template=null,this._settings=null,this._$dialog=null,b.initCommonCondition(),this._settings=$.extend({},b.s_defaultOptions,d),this._template=a.Tools.Template.getJST(c,this._settings.src)}return b.prototype.show=function(a){var c=this,e=$(document),f=$("body"),g=f.pagecontainer("getActivePage"),h={overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"},i={overflow:f.css("overflow"),"overflow-x":f.css("overflow-x"),"overflow-y":f.css("overflow-y")},j=f.scrollTop(),k={overflow:g.css("overflow"),"overflow-x":g.css("overflow-x"),"overflow-y":g.css("overflow-y")},l="scroll touchmove mousemove MSPointerMove",m=function(a){"deny"===c._settings.scrollEvent?a.preventDefault():"adjust"===c._settings.scrollEvent&&f.scrollTop(j)};return null!=a&&(this._settings=$.extend({},this._settings,a)),this._settings._header=this._settings.title?"has-title":"no-title",this._$dialog=$(this._template(this._settings)),this._$dialog.localize(),f.append(this._$dialog),this.onBeforeShow().done(function(){c._$dialog.popup({dismissible:c._settings.dismissible,transition:c._settings.transition,positionTo:"window",create:function(a,d){"allow"!==c._settings.scrollEvent&&e.on(l,m),f.css(h),g.css(h),b.register(c)},afterclose:function(a,d){g.css(k),f.css(i),"allow"!==c._settings.scrollEvent&&e.off(l,m),b.register(null),c._$dialog.remove(),c._$dialog=null}}).popup("open").on(c._settings.event,function(a){a.preventDefault();var b=$(a.target).attr("data-auto-close");null==b&&(b=c._settings.defaultAutoClose?"true":"false"),"false"!==b&&c.close()})}).fail(function(a){console.error(d+"Dialog.show() failed."),c._$dialog&&c._$dialog.trigger("error",a)}),this._$dialog},b.prototype.close=function(){this._$dialog&&this._$dialog.popup("close")},Object.defineProperty(b.prototype,"$el",{get:function(){return this._$dialog},enumerable:!0,configurable:!0}),b.prototype.onBeforeShow=function(){return $.Deferred().resolve()},b.setDefaultOptions=function(a){b.initCommonCondition(),$.extend(!0,b.s_defaultOptions,a)},b.register=function(a){null!=a&&null!=b.s_activeDialog&&console.warn(d+"new dialog proc is called in the past dialog's one. use setTimeout() for post process."),b.s_activeDialog=a},b.initCommonCondition=function(){return c.isInitialized()?void(null==b.s_oldBackKeyHandler&&(b.s_oldBackKeyHandler=a.setBackButtonHandler(null),a.setBackButtonHandler(b.customBackKeyHandler),b.s_defaultOptions={idPositive:"dlg-btn-positive",idNegative:"dlg-btn-negative",event:c.getDefaultClickEvent(),dismissible:!1,defaultAutoClose:!1,transition:"pop",labelPositive:"OK",labelNegative:"Cancel",backKey:"close",scrollEvent:"deny"})):void console.warn(d+"initCommonCondition() should be called after Framework.initialized.")},b.customBackKeyHandler=function(a){return null!=b.s_activeDialog?void("close"===b.s_activeDialog._settings.backKey?b.s_activeDialog.close():"function"==typeof b.s_activeDialog._settings.backKey&&b.s_activeDialog._settings.backKey(a)):void b.s_oldBackKeyHandler(a)},b}();e.s_activeDialog=null,e.s_oldBackKeyHandler=null,e.s_defaultOptions=null,b.Dialog=e}(b=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var c;!function(c){var d=a.Framework,e=function(a){function c(b){var c=a.call(this,b)||this;if(c._owner=null,c._owner=b.owner,b.$el){var d=!!c.events;c.setElement(b.$el,d)}return c}return b(c,a),Object.defineProperty(c.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),c}(Backbone.View);c.PageContainerView=e;var f=function(a){function e(b,e,f){var g=a.call(this,f)||this;g._pageOptions=null,g._basePage=null,g._statusMgr=null,g._pageOptions=$.extend({},{owner:g},f),g._basePage=g._pageOptions.basePage?new g._pageOptions.basePage(b,e,g._pageOptions):new d.Page(b,e,g._pageOptions),g._statusMgr=new c.StatusManager;var h=!!g.events;return g.setElement(g.$page,h),g}return b(e,a),e.prototype.statusAddRef=function(a){return this._statusMgr.statusAddRef(a)},e.prototype.statusRelease=function(a){return this._statusMgr.statusRelease(a)},e.prototype.statusScope=function(a,b){this._statusMgr.statusScope(a,b)},e.prototype.isStatusIn=function(a){return this._statusMgr.isStatusIn(a)},Object.defineProperty(e.prototype,"active",{get:function(){return this._basePage.active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._basePage.url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._basePage?this._basePage.id:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$page",{get:function(){return this._basePage.$page},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$header",{get:function(){return this._basePage.$header},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$footer",{get:function(){return this._basePage.$footer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intent",{get:function(){return this._basePage.intent},set:function(a){this._basePage.intent=a},enumerable:!0,configurable:!0}),e.prototype.onOrientationChanged=function(a){},e.prototype.onHardwareBackButton=function(a){return!1},e.prototype.onBeforeRouteChange=function(){return $.Deferred().resolve().promise()},e.prototype.onCommand=function(a,b){},e.prototype.onInitialize=function(a){},e.prototype.onPageBeforeCreate=function(a){this.setElement(this.$page,!0)},e.prototype.onPageInit=function(a){},e.prototype.onPageBeforeShow=function(a,b){},e.prototype.onPageShow=function(a,b){},e.prototype.onPageBeforeHide=function(a,b){},e.prototype.onPageHide=function(a,b){},e.prototype.onPageRemove=function(a){this.remove()},e}(Backbone.View);c.PageView=f}(c=a.UI||(a.UI={}))}(a||(a={}));var a;!function(a){var c;!function(a){var c=function(c){function d(b,d,e){var f=c.call(this,b,d,$.extend({},{autoDestoryElement:!1},e))||this;return f._scrollMgr=null,f._needRebuild=!1,f._scrollMgr=new a.ScrollManager(e),f}return b(d,c),d.prototype.reserveRebuild=function(){this._needRebuild=!0},d.prototype.onOrientationChanged=function(a){this._scrollMgr.setBaseHeight(this.getPageBaseHeight())},d.prototype.onBeforeRouteChange=function(){return this._pageOptions.autoDestoryElement&&this._scrollMgr.destroy(),c.prototype.onBeforeRouteChange.call(this)},d.prototype.onPageBeforeShow=function(a,b){c.prototype.onPageBeforeShow.call(this,a,b),this._scrollMgr.initialize(this.$page,this.getPageBaseHeight())},d.prototype.onPageShow=function(a,b){c.prototype.onPageShow.call(this,a,b),this._scrollMgr.setBaseHeight(this.getPageBaseHeight()),this._needRebuild&&(this.rebuild(),this._needRebuild=!1)},d.prototype.onPageRemove=function(a){c.prototype.onPageRemove.call(this,a),this.release()},d.prototype.isInitialized=function(){return this._scrollMgr.isInitialized()},d.prototype.addItem=function(b,c,d,e){this._addLine(new a.LineProfile(this._scrollMgr,Math.floor(b),c,d),e)},d.prototype.removeItem=function(a,b,c){this._scrollMgr.removeItem(a,b,c)},d.prototype.getItemInfo=function(a){return this._scrollMgr.getItemInfo(a)},d.prototype.refresh=function(){this._scrollMgr.refresh()},d.prototype.update=function(){this._scrollMgr.update()},d.prototype.rebuild=function(){this._scrollMgr.rebuild()},d.prototype.release=function(){this._scrollMgr.release()},d.prototype.backup=function(a){return this._scrollMgr.backup(a)},d.prototype.restore=function(a,b){void 0===b&&(b=!0);var c=this._scrollMgr.restore(a,b);return c&&!b&&this.reserveRebuild(),c},d.prototype.hasBackup=function(a){return this._scrollMgr.hasBackup(a)},d.prototype.clearBackup=function(a){return this._scrollMgr.clearBackup(a)},Object.defineProperty(d.prototype,"backupData",{get:function(){return this._scrollMgr.backupData},enumerable:!0,configurable:!0}),d.prototype.setScrollHandler=function(a,b){this._scrollMgr.setScrollHandler(a,b)},d.prototype.setScrollStopHandler=function(a,b){this._scrollMgr.setScrollStopHandler(a,b)},d.prototype.getScrollPos=function(){return this._scrollMgr.getScrollPos()},d.prototype.getScrollPosMax=function(){return this._scrollMgr.getScrollPosMax()},d.prototype.scrollTo=function(a,b,c){this._scrollMgr.scrollTo(a,b,c)},d.prototype.ensureVisible=function(a,b){this._scrollMgr.ensureVisible(a,b)},Object.defineProperty(d.prototype,"core",{get:function(){return this._scrollMgr},enumerable:!0,configurable:!0}),d.prototype._addLine=function(a,b){this._scrollMgr._addLine(a,b)},d.prototype.getPageBaseHeight=function(){return $(window).height()-parseInt(this.$page.css("padding-top"),10)},d}(a.PageView);a.PageListView=c}(c=a.UI||(a.UI={}))}(a||(a={}));var a;return function(a){var c;!function(a){var c=function(c){function d(b,d,e){var f=c.call(this,b,d,e)||this;return f._expandManager=null,f._expandManager=new a.ExpandManager(f),f}return b(d,c),d.prototype.newGroup=function(a){return this._expandManager.newGroup(a)},d.prototype.getGroup=function(a){return this._expandManager.getGroup(a)},d.prototype.registerTopGroup=function(a){this._expandManager.registerTopGroup(a)},d.prototype.getTopGroups=function(){return this._expandManager.getTopGroups()},d.prototype.expandAll=function(){this._expandManager.expandAll()},d.prototype.collapseAll=function(a){this._expandManager.collapseAll(a)},d.prototype.isExpanding=function(){return this._expandManager.isExpanding()},d.prototype.isCollapsing=function(){return this._expandManager.isCollapsing()},d.prototype.isSwitching=function(){return this._expandManager.isSwitching()},Object.defineProperty(d.prototype,"layoutKey",{get:function(){return this._expandManager.layoutKey},set:function(a){this._expandManager.layoutKey=a},enumerable:!0,configurable:!0}),d.prototype.release=function(){c.prototype.release.call(this),this._expandManager.release()},d.prototype.backup=function(a){return this._expandManager.backup(a)},d.prototype.restore=function(a,b){return void 0===b&&(b=!0),this._expandManager.restore(a,b)},d}(a.PageListView);a.PageExpandableListView=c}(c=a.UI||(a.UI={}))}(a||(a={})),a.UI}),function(a){"function"==typeof define&&define.amd||(a.define=function(){})}(this),define("cdp/core/core",["require","exports","cdp.core"],function(a,b,c){"use strict";b.global=c.global,b.initialize=c.initialize,b.webRoot=c.webRoot}),define("cdp/core/promise",["require","exports","cdp.promise"],function(a,b,c){"use strict";b.makePromise=c.makePromise,b.wait=c.wait,b.PromiseManager=c.PromiseManager}),define("cdp/core/i18n",["require","exports","cdp.i18n"],function(a,b,c){"use strict";b.i18n=c.i18n}),define("cdp/core/framework.jqm",["require","exports","cdp.framework.jqm"],function(a,b){"use strict";b.waitForDeviceReady=CDP.waitForDeviceReady,b.setBackButtonHandler=CDP.setBackButtonHandler}),define("cdp/core",["require","exports","cdp/core/core","cdp/core/promise","cdp/core/i18n","cdp/core/framework.jqm"],function(a,b,c,d,e,f){"use strict";function g(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}g(c),g(d),g(e),g(f)}),define("cdp/framework/jqm",["require","exports","cdp.framework.jqm"],function(a,b,c){"use strict";b.Patch=c.Patch,b.Platform=c.Platform,b.getOrientation=c.getOrientation,b.toUrl=c.toUrl,b.setBeforeRouteChangeHandler=c.setBeforeRouteChangeHandler,b.Router=c.Router,b.initialize=c.initialize,b.isInitialized=c.isInitialized,b.registerOrientationChangedListener=c.registerOrientationChangedListener,b.unregisterOrientationChangedListener=c.unregisterOrientationChangedListener,b.setupEventHandlers=c.setupEventHandlers,b.setActivePage=c.setActivePage,b.getDefaultClickEvent=c.getDefaultClickEvent,b.Page=c.Page}),define("cdp/framework",["require","exports","cdp/framework/jqm"],function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}d(c)}),define("cdp/tools/tools",["require","exports","cdp.tools"],function(a,b,c){"use strict";var d;!function(a){a.arrayBufferToBlob=c.Blob.arrayBufferToBlob,a.base64ToBlob=c.Blob.base64ToBlob,a.base64ToArrayBuffer=c.Blob.base64ToArrayBuffer,a.base64ToUint8Array=c.Blob.base64ToUint8Array,a.arrayBufferToBase64=c.Blob.arrayBufferToBase64,a.uint8ArrayToBase64=c.Blob.uint8ArrayToBase64,a.URL=c.Blob.URL}(d=b.Blob||(b.Blob={})),b.DateTime=c.DateTime,b.abs=c.abs,b.max=c.max,b.min=c.min,b.await=c.await,b.toZeroPadding=c.toZeroPadding,b.inherit=c.inherit,b.mixin=c.mixin,b.extend=c.extend,b.getDevicePixcelRatio=c.getDevicePixcelRatio,b.doWork=c.doWork,b.Template=c.Template}),define("cdp/tools",["require","exports","cdp/tools/tools"],function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}d(c)}),define("cdp/ui/listview",["require","exports","cdp.ui.listview"],function(a,b,c){"use strict";b.ListViewGlobalConfig=c.ListViewGlobalConfig,b.LineProfile=c.LineProfile,b.GroupProfile=c.GroupProfile,b.composeViews=c.composeViews,b.deriveViews=c.deriveViews,b.mixinViews=c.mixinViews,b.StatusManager=c.StatusManager,b.PageProfile=c.PageProfile,b.ScrollerElement=c.ScrollerElement,b.ScrollerNative=c.ScrollerNative,b.ScrollerIScroll=c.ScrollerIScroll,b.ListItemView=c.ListItemView,b.ScrollManager=c.ScrollManager,b.ListView=c.ListView,b.GroupListItemView=c.GroupListItemView,b.ExpandManager=c.ExpandManager,b.ExpandableListView=c.ExpandableListView}),define("cdp/ui/jqm",["require","exports","cdp.ui.jqm"],function(a,b,c){"use strict";var d;!function(a){a.LENGTH_SHORT=c.Toast.LENGTH_SHORT,a.LENGTH_LONG=c.Toast.LENGTH_LONG,a.StyleBuilderDefault=c.Toast.StyleBuilderDefault,a.show=c.Toast.show}(d=b.Toast||(b.Toast={})),b.Dialog=c.Dialog,b.PageContainerView=c.PageContainerView,b.PageView=c.PageView,b.PageListView=c.PageListView,b.PageExpandableListView=c.PageExpandableListView}),define("cdp/ui",["require","exports","cdp/ui/listview","cdp/ui/jqm"],function(a,b,c,d){"use strict";function e(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}e(c),e(d)}),define("cdp",["require","exports","cdp/core","cdp/framework","cdp/tools","cdp/ui"],function(a,b,c,d,e,f){"use strict";function g(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}g(c),b.Framework=d,b.Tools=e,b.UI=f,b.initialize=d.initialize});
//# sourceMappingURL=cdp-1.0.0.min.map