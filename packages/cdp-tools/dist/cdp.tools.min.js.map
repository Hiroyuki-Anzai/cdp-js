{"version":3,"sources":["dist/cdp.tools.js"],"names":["root","factory","define","amd","CDP","jQuery","$","this","self","global","Tools","RESULT_CODE_BASE","MODULE_RESULT_CODE_RANGE_CDP","FUNCTION_CODE_RANGE","LOCAL_CODE_BASE","RESULT_CODE","DECLARE_ERROR_CODE","CDP_TOOLS","FUNCTIONS","BLOB","Promise","TAG","abs","x","max","lhs","rhs","min","toZeroPadding","no","limit","signed","Number","isNaN","Array","join","slice","inherit","subClass","superClass","_prototype","prototype","_inherit","constructor","extend","mixin","derived","bases","_i","arguments","length","forEach","base","Object","getOwnPropertyNames","name","protoProps","staticProps","parent","child","hasOwnProperty","apply","Surrogate","__super__","getDevicePixcelRatio","mediaQuery","is_firefox","navigator","userAgent","toLowerCase","indexOf","window","devicePixelRatio","matchMedia","matches","s_canvasFactory","getCanvas","document","createElement","cloneNode","ensureImageLoaded","url","img","Image","destroy","src","resolve","reject","onload","event","onerror","makeErrorInfo","ERROR_CDP_TOOLS_IMAGE_LOAD_FAILED","resizeImage","longSideLength","canvas","ih","height","iw","width","ia","cw","ch","ERROR_CDP_TOOLS_INVALID_IMAGE","Math","round","getContext","drawImage","toDataURL","Blob","getBlobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","makeErrorInfoFromDOMError","resultCode","cause","tag","message","_cause","arrayBufferToBlob","buf","mimeType","blob","blobBuilderObject","blobBuilder","append","getBlob","type","base64ToBlob","base64","base64ToArrayBuffer","dataUrlToBlob","dataUrl","split","bytes","atob","arrayBuffer","ArrayBuffer","data","Uint8Array","i","len","charCodeAt","base64ToUint8Array","encoded","arrayBufferToBase64","uint8ArrayToBase64","byteLength","String","fromCharCode","btoa","readBlobAsArrayBuffer","reader","FileReader","cancel","abort","result","ERROR_CDP_TOOLS_FILE_READER_ERROR","error","readAsArrayBuffer","readBlobAsUint8Array","dependOn","then","catch","readBlobAsText","encode","readAsText","readBlobAsDataURL","readAsDataURL","URL","webkitURL","xhrSuccessStatus","0","1223","ajaxTransport","options","originalOptions","jqXHR","FormData","dataType","abortCallback_1","send","headers","callback","xhr","XMLHttpRequest","async","responseType","username","password","_callback","addEventListener","_data","response","status","statusText","getAllResponseHeaders","open","setRequestHeader","DateTime","computeDate","addDays","dt","Date","getTime","baseSec","addSec","targetSec","setTime","convertISOStringToDate","dateString","dateTime","dateArray","timeArray","secArray","dateObject","convertDateToISOString","date","target","isoDateString","console","warn","getFullYear","numberToDoubleDigitsString","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","toFixed","convertFileSystemStringToDate","convertDateToFileSystemString","fileSystemString","num","Template","getTemplateElement","key","cache","mapElement","getElementMap","$element","html","findHtmlFromSource","find","exception","empty","_mapElement","_mapSource","getJST","template","jst","Hogan","compile","text","render","_","replace","getSourceMap","mapSource","ajax","method","success"],"mappings":"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","sourcesContent":["﻿/*!\n * cdp.tools.js 2.0.0\n *\n * Date: 2017-07-31T02:19:37.107Z\n */\n(function (root, factory) { if (typeof define === \"function\" && define.amd) { define([\"cdp.core\", \"cdp.promise\"], function () { return factory(root.CDP || (root.CDP = {}), root.jQuery || root.$); }); } else { factory(root.CDP || (root.CDP = {}), root.jQuery || root.$); } }(((this || 0).self || global), function (CDP, $) { CDP.Tools = CDP.Tools || {};\nvar CDP;\n(function (CDP) {\n    /**\n     * @enum  RESULT_CODE_BASE\n     * @brief リザルトコードのオフセット値\n     */\n    var RESULT_CODE_BASE;\n    (function (RESULT_CODE_BASE) {\n        RESULT_CODE_BASE[RESULT_CODE_BASE[\"CDP_TOOLS_DECLARERATION\"] = 0] = \"CDP_TOOLS_DECLARERATION\";\n        RESULT_CODE_BASE[RESULT_CODE_BASE[\"CDP_TOOLS\"] = 4 * CDP.MODULE_RESULT_CODE_RANGE_CDP] = \"CDP_TOOLS\";\n    })(RESULT_CODE_BASE = CDP.RESULT_CODE_BASE || (CDP.RESULT_CODE_BASE = {}));\n    ///////////////////////////////////////////////////////////////////////\n    // module error declaration:\n    var FUNCTION_CODE_RANGE = 10;\n    /**\n     * @enum  LOCAL_CODE_BASE\n     * @brief cdp.tools 内のローカルコードオフセット値\n     */\n    var LOCAL_CODE_BASE;\n    (function (LOCAL_CODE_BASE) {\n        LOCAL_CODE_BASE[LOCAL_CODE_BASE[\"FUNCTIONS\"] = 0] = \"FUNCTIONS\";\n        LOCAL_CODE_BASE[LOCAL_CODE_BASE[\"BLOB\"] = 1 * FUNCTION_CODE_RANGE] = \"BLOB\";\n    })(LOCAL_CODE_BASE || (LOCAL_CODE_BASE = {}));\n    /* tslint:disable:max-line-length */\n    /**\n     * @enum  RESULT_CODE\n     * @brief cdp.tools のエラーコード定義\n     */\n    var RESULT_CODE;\n    (function (RESULT_CODE) {\n        RESULT_CODE[RESULT_CODE[\"ERROR_CDP_TOOLS_DECLARATION\"] = 0] = \"ERROR_CDP_TOOLS_DECLARATION\";\n        RESULT_CODE[RESULT_CODE[\"ERROR_CDP_TOOLS_IMAGE_LOAD_FAILED\"] = CDP.DECLARE_ERROR_CODE(RESULT_CODE_BASE.CDP_TOOLS, LOCAL_CODE_BASE.FUNCTIONS + 1, \"image load failed.\")] = \"ERROR_CDP_TOOLS_IMAGE_LOAD_FAILED\";\n        RESULT_CODE[RESULT_CODE[\"ERROR_CDP_TOOLS_INVALID_IMAGE\"] = CDP.DECLARE_ERROR_CODE(RESULT_CODE_BASE.CDP_TOOLS, LOCAL_CODE_BASE.FUNCTIONS + 2, \"invalid image.\")] = \"ERROR_CDP_TOOLS_INVALID_IMAGE\";\n        RESULT_CODE[RESULT_CODE[\"ERROR_CDP_TOOLS_FILE_READER_ERROR\"] = CDP.DECLARE_ERROR_CODE(RESULT_CODE_BASE.CDP_TOOLS, LOCAL_CODE_BASE.BLOB + 1, \"FileReader method failed.\")] = \"ERROR_CDP_TOOLS_FILE_READER_ERROR\";\n    })(RESULT_CODE = CDP.RESULT_CODE || (CDP.RESULT_CODE = {}));\n    /* tslint:enable:max-line-length */\n})(CDP || (CDP = {}));\n/// <reference types=\"jquery\" />\nvar CDP;\n(function (CDP) {\n    var Tools;\n    (function (Tools) {\n        var Promise = CDP.Promise;\n        var TAG = \"[CDP.Tools.Functions] \";\n        /**\n         * Math.abs よりも高速な abs\n         */\n        function abs(x) {\n            return x >= 0 ? x : -x;\n        }\n        Tools.abs = abs;\n        /**\n         * Math.max よりも高速な max\n         */\n        function max(lhs, rhs) {\n            return lhs >= rhs ? lhs : rhs;\n        }\n        Tools.max = max;\n        /**\n         * Math.min よりも高速な min\n         */\n        function min(lhs, rhs) {\n            return lhs <= rhs ? lhs : rhs;\n        }\n        Tools.min = min;\n        /**\n         * 数値を 0 詰めして文字列を生成\n         */\n        function toZeroPadding(no, limit) {\n            var signed = \"\";\n            no = Number(no);\n            if (isNaN(no) || isNaN(limit) || limit <= 0) {\n                return null;\n            }\n            if (no < 0) {\n                no = Tools.abs(no);\n                signed = \"-\";\n            }\n            return signed + (Array(limit).join(\"0\") + no).slice(-limit);\n        }\n        Tools.toZeroPadding = toZeroPadding;\n        /**\n         * 多重継承のための実行時継承関数\n         *\n         * Sub Class 候補オブジェクトに対して Super Class 候補オブジェクトを直前の Super Class として挿入する。\n         * prototype のみコピーする。\n         * インスタンスメンバをコピーしたい場合、Super Class が疑似コンストラクタを提供する必要がある。\n         * 詳細は cdp.tools.Functions.spec.ts を参照。\n         *\n         * @param subClass   {constructor} [in] オブジェクトの constructor を指定\n         * @param superClass {constructor} [in] オブジェクトの constructor を指定\n         */\n        function inherit(subClass, superClass) {\n            var _prototype = subClass.prototype;\n            function _inherit() {\n                this.constructor = subClass;\n            }\n            _inherit.prototype = superClass.prototype;\n            subClass.prototype = new _inherit();\n            $.extend(subClass.prototype, _prototype);\n        }\n        Tools.inherit = inherit;\n        /**\n         * mixin 関数\n         *\n         * TypeScript Official Site に載っている mixin 関数\n         * http://www.typescriptlang.org/Handbook#mixins\n         * 既に定義されているオブジェクトから、新規にオブジェクトを合成する。\n         *\n         * @param derived {constructor}    [in] 合成されるオブジェクトの constructor を指定\n         * @param bases   {constructor...} [in] 合成元オブジェクトの constructor を指定 (可変引数)\n         */\n        function mixin(derived) {\n            var bases = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                bases[_i - 1] = arguments[_i];\n            }\n            bases.forEach(function (base) {\n                Object.getOwnPropertyNames(base.prototype).forEach(function (name) {\n                    derived.prototype[name] = base.prototype[name];\n                });\n            });\n        }\n        Tools.mixin = mixin;\n        /**\n         * \\~english\n         * Helper function to correctly set up the prototype chain, for subclasses.\n         * The function behavior is same as extend() function of Backbone.js.\n         *\n         * @param protoProps  {Object} [in] set prototype properties as object.\n         * @param staticProps {Object} [in] set static properties as object.\n         * @return {Object} subclass constructor.\n         *\n         * \\~japanese\n         * クラス継承のためのヘルパー関数\n         * Backbone.js extend() 関数と同等\n         *\n         * @param protoProps  {Object} [in] prototype properties をオブジェクトで指定\n         * @param staticProps {Object} [in] static properties をオブジェクトで指定\n         * @return {Object} サブクラスのコンストラクタ\n         */\n        function extend(protoProps, staticProps) {\n            var parent = this;\n            var child;\n            if (protoProps && protoProps.hasOwnProperty(\"constructor\")) {\n                child = protoProps.constructor;\n            }\n            else {\n                child = function () {\n                    return parent.apply(this, arguments);\n                };\n            }\n            $.extend(child, parent, staticProps);\n            var Surrogate = function () {\n                this.constructor = child;\n            };\n            Surrogate.prototype = parent.prototype;\n            child.prototype = new Surrogate;\n            if (protoProps) {\n                $.extend(child.prototype, protoProps);\n            }\n            child.__super__ = parent.prototype;\n            return child;\n        }\n        Tools.extend = extend;\n        /**\n         * DPI 取得\n         */\n        function getDevicePixcelRatio() {\n            var mediaQuery;\n            var is_firefox = navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\n            if (null != window.devicePixelRatio && !is_firefox) {\n                return window.devicePixelRatio;\n            }\n            else if (window.matchMedia) {\n                mediaQuery =\n                    \"(-webkit-min-device-pixel-ratio: 1.5),\\\n                    (min--moz-device-pixel-ratio: 1.5),\\\n                    (-o-min-device-pixel-ratio: 3/2),\\\n                    (min-resolution: 1.5dppx)\";\n                if (window.matchMedia(mediaQuery).matches) {\n                    return 1.5;\n                }\n                mediaQuery =\n                    \"(-webkit-min-device-pixel-ratio: 2),\\\n                    (min--moz-device-pixel-ratio: 2),\\\n                    (-o-min-device-pixel-ratio: 2/1),\\\n                    (min-resolution: 2dppx)\";\n                if (window.matchMedia(mediaQuery).matches) {\n                    return 2;\n                }\n                mediaQuery =\n                    \"(-webkit-min-device-pixel-ratio: 0.75),\\\n                    (min--moz-device-pixel-ratio: 0.75),\\\n                    (-o-min-device-pixel-ratio: 3/4),\\\n                    (min-resolution: 0.75dppx)\";\n                if (window.matchMedia(mediaQuery).matches) {\n                    return 0.7;\n                }\n            }\n            else {\n                return 1;\n            }\n        }\n        Tools.getDevicePixcelRatio = getDevicePixcelRatio;\n        // Canvas element のキャッシュ\n        var s_canvasFactory;\n        // キャッシュ済みの Canvas を取得する\n        function getCanvas() {\n            s_canvasFactory = s_canvasFactory || document.createElement(\"canvas\");\n            return s_canvasFactory.cloneNode(false);\n        }\n        Tools.getCanvas = getCanvas;\n        /**\n         * 画像リソースのロード完了を保証\n         * ブラウザ既定のプログレッシブロードを走らせないため.\n         *\n         * @param  {String} url [in] url (data-url)\n         * @return {IPromise<string>} 表示可能な url\n         */\n        function ensureImageLoaded(url) {\n            var img = new Image();\n            var destroy = function () {\n                if (img) {\n                    img.src = \"\"; // 読み込み停止\n                    img = null;\n                }\n            };\n            return new Promise(function (resolve, reject) {\n                img.onload = function (event) {\n                    destroy();\n                    resolve(url);\n                };\n                img.onerror = function (event) {\n                    destroy();\n                    reject(CDP.makeErrorInfo(CDP.RESULT_CODE.ERROR_CDP_TOOLS_IMAGE_LOAD_FAILED, TAG, \"image load failed. [url: \" + url + \"]\"));\n                };\n                img.src = url;\n            }, destroy);\n        }\n        Tools.ensureImageLoaded = ensureImageLoaded;\n        /**\n         * 画像のリサイズ\n         * 指定した長辺の長さにアスペクト比を維持してリサイズを行う\n         * longSideLength より小さな場合はオリジナルサイズで data-url を返却する\n         *\n         * @param  {String} src            [in] image に指定するソース\n         * @param  {Number} longSideLength [in] リサイズに使用する長辺の最大値を指定\n         * @return {IPromise<string>} base64 data url を返却\n         */\n        function resizeImage(src, longSideLength) {\n            var img = new Image();\n            var destroy = function () {\n                if (img) {\n                    img.src = \"\"; // 読み込み停止\n                    img = null;\n                }\n            };\n            return new Promise(function (resolve, reject) {\n                img.onload = function (event) {\n                    var canvas = getCanvas();\n                    var ih = img.height, iw = img.width, ia = ih / iw;\n                    var cw, ch;\n                    if (iw === 0 || 0 === ia) {\n                        reject(CDP.makeErrorInfo(CDP.RESULT_CODE.ERROR_CDP_TOOLS_INVALID_IMAGE, TAG, \"invalid image. [src: \" + src + \"]\"));\n                    }\n                    else {\n                        if (longSideLength <= 0) {\n                            longSideLength = (ia < 1) ? iw : ih;\n                        }\n                        if (ia < 1) {\n                            cw = (longSideLength < iw) ? longSideLength : iw;\n                            ch = Math.round(cw * ia);\n                        }\n                        else {\n                            ch = (longSideLength < ih) ? longSideLength : ih;\n                            cw = Math.round(ch / ia);\n                        }\n                        canvas.width = cw;\n                        canvas.height = ch;\n                        canvas.getContext(\"2d\").drawImage(img, 0, 0, cw, ch);\n                        resolve(canvas.toDataURL());\n                    }\n                    destroy();\n                };\n                img.onerror = function (event) {\n                    destroy();\n                    reject(CDP.makeErrorInfo(CDP.RESULT_CODE.ERROR_CDP_TOOLS_IMAGE_LOAD_FAILED, TAG, \"image load failed. [src: \" + src + \"]\"));\n                };\n                img.src = src;\n            });\n        }\n        Tools.resizeImage = resizeImage;\n    })(Tools = CDP.Tools || (CDP.Tools = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var Tools;\n    (function (Tools) {\n        var Promise = CDP.Promise;\n        var TAG = \"[CDP.Tools.Blob] \";\n        var Blob;\n        (function (Blob) {\n            /**\n             * Get BlobBuilder\n             *\n             * @return {any} BlobBuilder\n             */\n            function getBlobBuilder() {\n                return CDP.global.BlobBuilder || CDP.global.WebKitBlobBuilder || CDP.global.MozBlobBuilder || CDP.global.MSBlobBuilder;\n            }\n            /**\n             * エラー情報生成 from DOMError\n             *\n             * @param  {RESULT_CODE} resultCode [in] RESULT_CODE を指定\n             * @param  {DOMError}    cause      [in] 下位の DOM エラーを指定\n             * @param  {String}      [tag]      [in] TAG を指定\n             * @param  {String}      [message]  [in] メッセージを指定\n             * @return {ErrorInfo} エラーオブジェクト\n             */\n            function makeErrorInfoFromDOMError(resultCode, cause, tag, message) {\n                var _cause;\n                if (cause) {\n                    _cause = {\n                        name: cause.name,\n                        message: cause.name,\n                    };\n                }\n                return CDP.makeErrorInfo(resultCode, tag, message, _cause);\n            }\n            /**\n             * ArrayBuffer to Blob\n             *\n             * @param buf {ArrayBuffer} [in] ArrayBuffer data\n             * @param mimeType {string} [in] MimeType of data\n             * @return {Blob} Blob data\n             */\n            function arrayBufferToBlob(buf, mimeType) {\n                var blob = null;\n                var blobBuilderObject = getBlobBuilder();\n                if (blobBuilderObject != null) {\n                    var blobBuilder = new blobBuilderObject();\n                    blobBuilder.append(buf);\n                    blob = blobBuilder.getBlob(mimeType);\n                }\n                else {\n                    // Android 4.4 KitKat Chromium WebView\n                    blob = new CDP.global.Blob([buf], { type: mimeType });\n                }\n                return blob;\n            }\n            Blob.arrayBufferToBlob = arrayBufferToBlob;\n            /**\n             * Base64 string to Blob\n             *\n             * @param base64 {string} [in] Base64 string data\n             * @param mimeType {string} [in] MimeType of data\n             * @return {Blob} Blob data\n             */\n            function base64ToBlob(base64, mimeType) {\n                var blob = null;\n                var blobBuilderObject = getBlobBuilder();\n                if (blobBuilderObject != null) {\n                    var blobBuilder = new blobBuilderObject();\n                    blobBuilder.append(base64ToArrayBuffer(base64));\n                    blob = blobBuilder.getBlob(mimeType);\n                }\n                else {\n                    // Android 4.4 KitKat Chromium WebView\n                    blob = new CDP.global.Blob([base64ToArrayBuffer(base64)], { type: mimeType });\n                }\n                return blob;\n            }\n            Blob.base64ToBlob = base64ToBlob;\n            /**\n             * data-url 形式画像から Blob オブジェクトへ変換\n             *\n             * @param  {String} dataUrl    [in] data url\n             * @param  {String} [mimeType] [in] mime type を指定. 既定では \"image/png\"\n             * @return {Blob} Blob インスタンス\n             */\n            function dataUrlToBlob(dataUrl, mimeType) {\n                if (mimeType === void 0) { mimeType = \"image/png\"; }\n                var base64 = dataUrl.split(\",\")[1];\n                return base64ToBlob(base64, mimeType);\n            }\n            Blob.dataUrlToBlob = dataUrlToBlob;\n            /**\n             * Base64 string to ArrayBuffer\n             *\n             * @param base64 {string} [in] Base64 string data\n             * @return {ArrayBuffer} ArrayBuffer data\n             */\n            function base64ToArrayBuffer(base64) {\n                var bytes = window.atob(base64);\n                var arrayBuffer = new ArrayBuffer(bytes.length);\n                var data = new Uint8Array(arrayBuffer);\n                for (var i = 0, len = bytes.length; i < len; ++i) {\n                    data[i] = bytes.charCodeAt(i);\n                }\n                return arrayBuffer;\n            }\n            Blob.base64ToArrayBuffer = base64ToArrayBuffer;\n            /**\n             * Base64 string to Uint8Array\n             *\n             * @param base64 {string} [in] Base64 string data\n             * @return {Uint8Array} Uint8Array data\n             */\n            function base64ToUint8Array(encoded) {\n                var bytes = window.atob(encoded);\n                var data = new Uint8Array(bytes.length);\n                for (var i = 0, len = bytes.length; i < len; ++i) {\n                    data[i] = bytes.charCodeAt(i);\n                }\n                return data;\n            }\n            Blob.base64ToUint8Array = base64ToUint8Array;\n            /**\n             * ArrayBuffer to base64 string\n             *\n             * @param arrayBuffer {ArrayBuffer} [in] ArrayBuffer data\n             * @return {string} base64 data\n             */\n            function arrayBufferToBase64(arrayBuffer) {\n                var bytes = new Uint8Array(arrayBuffer);\n                return uint8ArrayToBase64(bytes);\n            }\n            Blob.arrayBufferToBase64 = arrayBufferToBase64;\n            /**\n             * Uint8Array to base64 string\n             *\n             * @param bytes {Uint8Array} [in] Uint8Array data\n             * @return {string} base64 data\n             */\n            function uint8ArrayToBase64(bytes) {\n                var data = \"\";\n                for (var i = 0, len = bytes.byteLength; i < len; ++i) {\n                    data += String.fromCharCode(bytes[i]);\n                }\n                return window.btoa(data);\n            }\n            Blob.uint8ArrayToBase64 = uint8ArrayToBase64;\n            /**\n             * read Blob as ArrayBuffer\n             *\n             * @param  {Blob} blob [in] blob data\n             * @return {CDP.IPromise<ArrayBuffer>} promise object\n             */\n            function readBlobAsArrayBuffer(blob) {\n                var reader = new FileReader();\n                var cancel = function () { return reader.abort(); };\n                return new Promise(function (resolve, reject) {\n                    reader.onload = function () {\n                        resolve(reader.result);\n                    };\n                    reader.onerror = function () {\n                        reject(makeErrorInfoFromDOMError(CDP.RESULT_CODE.ERROR_CDP_TOOLS_FILE_READER_ERROR, reader.error, TAG, \"FileReader.readAsArrayBuffer() failed.\"));\n                    };\n                    reader.readAsArrayBuffer(blob);\n                }, cancel);\n            }\n            Blob.readBlobAsArrayBuffer = readBlobAsArrayBuffer;\n            /**\n             * read Blob as Uint8Array\n             *\n             * @param  {Blob} blob [in] blob data\n             * @return {CDP.IPromise<Uint8Array>} promise object\n             */\n            function readBlobAsUint8Array(blob) {\n                return new Promise(function (resolve, reject, dependOn) {\n                    dependOn(readBlobAsArrayBuffer(blob))\n                        .then(function (result) {\n                        resolve(new Uint8Array(result));\n                    })\n                        .catch(function (error) {\n                        reject(error);\n                    });\n                });\n            }\n            Blob.readBlobAsUint8Array = readBlobAsUint8Array;\n            /**\n             * read Blob as text string\n             *\n             * @param  {Blob} blob [in] blob data\n             * @return {CDP.IPromise<Uint8Array>} promise object\n             */\n            function readBlobAsText(blob, encode) {\n                if (encode === void 0) { encode = \"utf-8\"; }\n                var reader = new FileReader();\n                var cancel = function () { return reader.abort(); };\n                return new Promise(function (resolve, reject) {\n                    reader.onload = function () {\n                        resolve(reader.result);\n                    };\n                    reader.onerror = function () {\n                        reject(makeErrorInfoFromDOMError(CDP.RESULT_CODE.ERROR_CDP_TOOLS_FILE_READER_ERROR, reader.error, TAG, \"FileReader.readAsText() failed.\"));\n                    };\n                    reader.readAsText(blob, encode);\n                }, cancel);\n            }\n            Blob.readBlobAsText = readBlobAsText;\n            /**\n             * read Blob as Data URL\n             *\n             * @param  {Blob} blob [in] blob data\n             * @return {CDP.IPromise<string>} promise object\n             */\n            function readBlobAsDataURL(blob) {\n                var reader = new FileReader();\n                var cancel = function () { return reader.abort(); };\n                return new Promise(function (resolve, reject) {\n                    reader.onload = function () {\n                        resolve(reader.result);\n                    };\n                    reader.onerror = function () {\n                        reject(makeErrorInfoFromDOMError(CDP.RESULT_CODE.ERROR_CDP_TOOLS_FILE_READER_ERROR, reader.error, TAG, \"FileReader.readAsDataURL() failed.\"));\n                    };\n                    reader.readAsDataURL(blob);\n                }, cancel);\n            }\n            Blob.readBlobAsDataURL = readBlobAsDataURL;\n            /**\n             * URL Object\n             *\n             * @return {any} URL Object\n             */\n            Blob.URL = (function () {\n                return CDP.global.URL || CDP.global.webkitURL;\n            })();\n        })(Blob = Tools.Blob || (Tools.Blob = {}));\n    })(Tools = CDP.Tools || (CDP.Tools = {}));\n})(CDP || (CDP = {}));\n/**\n * @file  BinaryTransport.ts\n * @brief jQuery ajax transport for making binary data type requests.\n *\n *        original: https://github.com/henrya/js-jquery/blob/master/BinaryTransport/jquery.binarytransport.js\n *        author:   Henry Algus <henryalgus@gmail.com>\n */\nvar CDP;\n(function (CDP) {\n    var Tools;\n    (function (Tools) {\n        // Support file protocol. (as same as official way)\n        var xhrSuccessStatus = {\n            0: 200,\n            1223: 204\n        };\n        $.ajaxTransport(\"+binary\", function (options, originalOptions, jqXHR) {\n            if (CDP.global.FormData &&\n                ((options.dataType && (options.dataType === \"binary\")) ||\n                    (options.data && ((CDP.global.ArrayBuffer && options.data instanceof ArrayBuffer) ||\n                        (CDP.global.Blob && options.data instanceof CDP.global.Blob))))) {\n                var abortCallback_1;\n                return {\n                    send: function (headers, callback) {\n                        // setup all variables\n                        var xhr = new XMLHttpRequest();\n                        var url = options.url;\n                        var type = options.type;\n                        var async = options.async || true;\n                        // blob or arraybuffer. Default is blob\n                        var dataType = options.responseType || \"blob\";\n                        var data = options.data || null;\n                        var username = options.username || null;\n                        var password = options.password || null;\n                        var _callback = callback || (function () { });\n                        // succeeded handler\n                        xhr.addEventListener(\"load\", function () {\n                            var _data = {};\n                            _data[options.dataType] = xhr.response;\n                            _callback(xhrSuccessStatus[xhr.status] || xhr.status, xhr.statusText, _data, xhr.getAllResponseHeaders());\n                        });\n                        // error handler\n                        xhr.addEventListener(\"error\", function () {\n                            var _data = {};\n                            _data[options.dataType] = xhr.response;\n                            // make callback and send data\n                            _callback(xhr.status, xhr.statusText, _data, xhr.getAllResponseHeaders());\n                        });\n                        // abort handler\n                        xhr.addEventListener(\"abort\", function () {\n                            var _data = {};\n                            _data[options.dataType] = xhr.response;\n                            // make callback and send data\n                            _callback(xhr.status, xhr.statusText, _data, xhr.getAllResponseHeaders());\n                        });\n                        // abort callback\n                        abortCallback_1 = function () {\n                            xhr.abort();\n                        };\n                        xhr.open(type, url, async, username, password);\n                        // setup custom headers\n                        for (var i in headers) {\n                            if (headers.hasOwnProperty(i)) {\n                                xhr.setRequestHeader(i, headers[i]);\n                            }\n                        }\n                        xhr.responseType = dataType;\n                        xhr.send(data);\n                    },\n                    abort: function () {\n                        if (abortCallback_1) {\n                            abortCallback_1();\n                        }\n                    }\n                };\n            }\n        });\n    })(Tools = CDP.Tools || (CDP.Tools = {}));\n})(CDP || (CDP = {}));\n/* tslint:disable:max-line-length */\nvar CDP;\n(function (CDP) {\n    var Tools;\n    (function (Tools) {\n        var TAG = \"[CDP.Tools.DateTime] \";\n        /**\n         * @class DateTime\n         * @brief 時刻操作のユーティリティクラス\n         */\n        var DateTime = (function () {\n            function DateTime() {\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // public static method\n            /**\n             * 基点となる日付から、n日後、n日前を算出\n             *\n             * @param base    {Date}   [in] 基準日\n             * @param addDays {Number} [in] 加算日. マイナス指定でn日前も設定可能\n             * @return {Date} 日付オブジェクト\n             */\n            DateTime.computeDate = function (base, addDays) {\n                var dt = new Date(base.getTime());\n                var baseSec = dt.getTime();\n                var addSec = addDays * 86400000; //日数 * 1日のミリ秒数\n                var targetSec = baseSec + addSec;\n                dt.setTime(targetSec);\n                return dt;\n            };\n            /**\n             * Convert string to date object\n             *\n             * @param {String} date string ex) YYYY-MM-DDTHH:mm:SS.SSS\n             * @return {Object} date object\n             */\n            DateTime.convertISOStringToDate = function (dateString) {\n                var dateTime = dateString.split(\"T\"), dateArray = dateTime[0].split(\"-\");\n                var timeArray, secArray, dateObject;\n                if (dateTime[1]) {\n                    timeArray = dateTime[1].split(\":\");\n                    secArray = timeArray[2].split(\".\");\n                }\n                if (timeArray) {\n                    dateObject = new Date(dateArray[0], dateArray[1] - 1, dateArray[2], timeArray[0], timeArray[1], secArray[0], secArray[1]);\n                }\n                else {\n                    if (dateArray[2]) {\n                        dateObject = new Date(dateArray[0], dateArray[1] - 1, dateArray[2]);\n                    }\n                    else if (dateArray[1]) {\n                        dateObject = new Date(dateArray[0], dateArray[1] - 1);\n                    }\n                    else {\n                        dateObject = new Date(dateArray[0]);\n                    }\n                }\n                return dateObject;\n            };\n            /**\n             *  Convert a date object into a string in PMOAPI recorded_date format(the ISO 8601 Extended Format)\n             *\n             * @param date   {Date}   [in] date object\n             * @param target {String} [in] {year | month | date | hour | min | sec | msec }\n             * @return {String}\n             */\n            DateTime.convertDateToISOString = function (date, target) {\n                if (target === void 0) { target = \"msec\"; }\n                var isoDateString;\n                switch (target) {\n                    case \"year\":\n                    case \"month\":\n                    case \"date\":\n                    case \"hour\":\n                    case \"min\":\n                    case \"sec\":\n                    case \"msec\":\n                        break;\n                    default:\n                        console.warn(TAG + \"unknown target: \" + target);\n                        target = \"msec\";\n                }\n                isoDateString = date.getFullYear();\n                if (\"year\" === target) {\n                    return isoDateString;\n                }\n                isoDateString += (\"-\" + DateTime.numberToDoubleDigitsString(date.getMonth() + 1));\n                if (\"month\" === target) {\n                    return isoDateString;\n                }\n                isoDateString += (\"-\" + DateTime.numberToDoubleDigitsString(date.getDate()));\n                if (\"date\" === target) {\n                    return isoDateString;\n                }\n                isoDateString += (\"T\" + DateTime.numberToDoubleDigitsString(date.getHours()));\n                if (\"hour\" === target) {\n                    return isoDateString;\n                }\n                isoDateString += (\":\" + DateTime.numberToDoubleDigitsString(date.getMinutes()));\n                if (\"min\" === target) {\n                    return isoDateString;\n                }\n                isoDateString += (\":\" + DateTime.numberToDoubleDigitsString(date.getSeconds()));\n                if (\"sec\" === target) {\n                    return isoDateString;\n                }\n                isoDateString += (\".\" + String((date.getMilliseconds() / 1000).toFixed(3)).slice(2, 5));\n                return isoDateString;\n            };\n            /**\n             * Convert file system compatible string to date object\n             *\n             * @param {String} date string ex) yyyy_MM_ddTHH_mm_ss_SSS\n             * @return {Object} date object\n             */\n            DateTime.convertFileSystemStringToDate = function (dateString) {\n                var dateTime = dateString.split(\"T\"), dateArray = dateTime[0].split(\"_\");\n                var timeArray, dateObject;\n                if (dateTime[1]) {\n                    timeArray = dateTime[1].split(\"_\");\n                }\n                if (timeArray) {\n                    dateObject = new Date(dateArray[0], dateArray[1] - 1, dateArray[2], timeArray[0], timeArray[1], timeArray[2], timeArray[3]);\n                }\n                else {\n                    if (dateArray[2]) {\n                        dateObject = new Date(dateArray[0], dateArray[1] - 1, dateArray[2]);\n                    }\n                    else if (dateArray[1]) {\n                        dateObject = new Date(dateArray[0], dateArray[1] - 1);\n                    }\n                    else {\n                        dateObject = new Date(dateArray[0]);\n                    }\n                }\n                return dateObject;\n            };\n            /**\n             *  Convert a date object into a string in file system compatible format(yyyy_MM_ddTHH_mm_ss_SSS)\n             *\n             * @param date   {Date}   [in] date object\n             * @param target {String} [in] {year | month | date | hour | min | sec | msec }\n             * @return {String}\n             */\n            DateTime.convertDateToFileSystemString = function (date, target) {\n                if (target === void 0) { target = \"msec\"; }\n                var fileSystemString;\n                switch (target) {\n                    case \"year\":\n                    case \"month\":\n                    case \"date\":\n                    case \"hour\":\n                    case \"min\":\n                    case \"sec\":\n                    case \"msec\":\n                        break;\n                    default:\n                        console.warn(TAG + \"unknown target: \" + target);\n                        target = \"msec\";\n                }\n                fileSystemString = date.getFullYear();\n                if (\"year\" === target) {\n                    return fileSystemString;\n                }\n                fileSystemString += (\"_\" + DateTime.numberToDoubleDigitsString(date.getMonth() + 1));\n                if (\"month\" === target) {\n                    return fileSystemString;\n                }\n                fileSystemString += (\"_\" + DateTime.numberToDoubleDigitsString(date.getDate()));\n                if (\"date\" === target) {\n                    return fileSystemString;\n                }\n                fileSystemString += (\"T\" + DateTime.numberToDoubleDigitsString(date.getHours()));\n                if (\"hour\" === target) {\n                    return fileSystemString;\n                }\n                fileSystemString += (\"_\" + DateTime.numberToDoubleDigitsString(date.getMinutes()));\n                if (\"min\" === target) {\n                    return fileSystemString;\n                }\n                fileSystemString += (\"_\" + DateTime.numberToDoubleDigitsString(date.getSeconds()));\n                if (\"sec\" === target) {\n                    return fileSystemString;\n                }\n                fileSystemString += (\"_\" + String((date.getMilliseconds() / 1000).toFixed(3)).slice(2, 5));\n                return fileSystemString;\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // private static method\n            /**\n             * Convert num to string(double digits)\n             *\n             * @param  {Number} number (0 <number < 100)\n             * @return {String} double digits string\n             */\n            DateTime.numberToDoubleDigitsString = function (num) {\n                if (num < 0 || num > 100) {\n                    return null;\n                }\n                if (num < 10) {\n                    return \"0\" + num;\n                }\n                return \"\" + num;\n            };\n            return DateTime;\n        }());\n        Tools.DateTime = DateTime;\n    })(Tools = CDP.Tools || (CDP.Tools = {}));\n})(CDP || (CDP = {}));\n/// <reference types=\"jquery\" />\nvar CDP;\n(function (CDP) {\n    var Tools;\n    (function (Tools) {\n        var TAG = \"[CDP.Tools.Template] \";\n        //___________________________________________________________________________________________________________________//\n        /**\n         * @class Template\n         * @brief template script を管理するユーティリティクラス\n         */\n        var Template = (function () {\n            function Template() {\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // 公開メソッド\n            /**\n             * 指定した id, class 名, Tag 名をキーにテンプレートの JQuery Element を取得する。\n             *\n             * @param {String}  key     [in] id, class, tag を表す文字列\n             * @param {String}  [src]   [in] 外部 html を指定する場合は url を設定\n             * @param {Boolean} [cache] [in] src html をキャッシュする場合は true. src が指定されているときのみ有効\n             * @return template が格納されている JQuery Element\n             */\n            Template.getTemplateElement = function (key, src, cache) {\n                if (src === void 0) { src = null; }\n                if (cache === void 0) { cache = true; }\n                var mapElement = Template.getElementMap();\n                var $element = mapElement[key];\n                try {\n                    if (!$element) {\n                        if (src) {\n                            var html = Template.findHtmlFromSource(src);\n                            $element = $(html).find(key);\n                        }\n                        else {\n                            $element = $(key);\n                        }\n                        // 要素の検証\n                        if ($element <= 0) {\n                            throw (\"invalid [key, src] = [\" + key + \", \" + src + \"]\");\n                        }\n                        if (src && cache) {\n                            mapElement[key] = $element;\n                        }\n                    }\n                }\n                catch (exception) {\n                    console.error(TAG + exception);\n                    return null;\n                }\n                return $element;\n            };\n            /**\n             * Map オブジェクトの削除\n             * 明示的にキャッシュを開放する場合は本メソッドをコールする\n             */\n            Template.empty = function () {\n                Template._mapElement = null;\n                Template._mapSource = null;\n            };\n            Template.getJST = function (key, src, cache) {\n                var template = null;\n                var jst;\n                var $element;\n                if (key instanceof jQuery) {\n                    $element = key;\n                }\n                else {\n                    $element = Template.getTemplateElement(key, src, cache);\n                }\n                if (null != CDP.global.Hogan) {\n                    template = Hogan.compile($element.text());\n                    jst = function (data) {\n                        return template.render(data);\n                    };\n                }\n                else if (null != CDP.global._) {\n                    template = _.template($element.html());\n                    jst = function (data) {\n                        // 改行とタブは削除する\n                        return template(data).replace(/\\n|\\t/g, \"\");\n                    };\n                }\n                else {\n                    console.warn(TAG + \"cannot find template engine module.\");\n                    console.warn(\"    'hogan' or 'underscore' is required.\");\n                }\n                return jst;\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // 内部メソッド\n            //! Element Map オブジェクトの取得\n            Template.getElementMap = function () {\n                if (!Template._mapElement) {\n                    Template._mapElement = {};\n                }\n                return Template._mapElement;\n            };\n            //! URL Map オブジェクトの取得\n            Template.getSourceMap = function () {\n                if (!Template._mapSource) {\n                    Template._mapSource = {};\n                }\n                return Template._mapSource;\n            };\n            //! URL Map から HTML を検索. 失敗した場合は undefined が返る\n            Template.findHtmlFromSource = function (src) {\n                var mapSource = Template.getSourceMap();\n                var html = mapSource[src];\n                if (!html) {\n                    $.ajax({\n                        url: src,\n                        method: \"GET\",\n                        async: false,\n                        dataType: \"html\",\n                        success: function (data) {\n                            html = data;\n                        },\n                        error: function (data, status) {\n                            throw (\"ajax request failed. status: \" + status);\n                        }\n                    });\n                    // キャッシュに格納\n                    mapSource[src] = html;\n                }\n                return html;\n            };\n            return Template;\n        }());\n        Tools.Template = Template;\n    })(Tools = CDP.Tools || (CDP.Tools = {}));\n})(CDP || (CDP = {}));\n\nreturn CDP.Tools; }));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNkcDovLy9DRFAvVG9vbHMvRXJyb3JEZWZzLnRzIiwiY2RwOi8vL0NEUC9Ub29scy9GdW5jdGlvbnMudHMiLCJjZHA6Ly8vQ0RQL1Rvb2xzL0Jsb2IudHMiLCJjZHA6Ly8vQ0RQL1Rvb2xzL0JpbmFyeVRyYW5zcG9ydC50cyIsImNkcDovLy9DRFAvVG9vbHMvRGF0ZVRpbWUudHMiLCJjZHA6Ly8vQ0RQL1Rvb2xzL1RlbXBsYXRlLnRzIiwiY2RwOi8vL0NEUC9Ub29scy9JbnRlcmZhY2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQVUsR0FBRyxDQXFDWjtBQXJDRCxXQUFVLEdBQUc7SUFFVDs7O09BR0c7SUFDSCxJQUFZLGdCQUdYO0lBSEQsV0FBWSxnQkFBZ0I7UUFDeEIsNkZBQTJCO1FBQzNCLGlEQUFZLENBQUMsR0FBRyxnQ0FBNEI7SUFDaEQsQ0FBQyxFQUhXLGdCQUFnQixHQUFoQixvQkFBZ0IsS0FBaEIsb0JBQWdCLFFBRzNCO0lBRUQsdUVBQXVFO0lBQ3ZFLDRCQUE0QjtJQUU1QixJQUFNLG1CQUFtQixHQUFHLEVBQUUsQ0FBQztJQUUvQjs7O09BR0c7SUFDSCxJQUFLLGVBR0o7SUFIRCxXQUFLLGVBQWU7UUFDaEIsK0RBQWU7UUFDZiwwQ0FBYyxDQUFDLEdBQUcsbUJBQW1CO0lBQ3pDLENBQUMsRUFISSxlQUFlLEtBQWYsZUFBZSxRQUduQjtJQUVELG9DQUFvQztJQUNwQzs7O09BR0c7SUFDSCxJQUFZLFdBS1g7SUFMRCxXQUFZLFdBQVc7UUFDbkIsMkZBQXVDO1FBQ3ZDLCtEQUFzQyxzQkFBa0IsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsZUFBZSxDQUFDLFNBQVMsR0FBRyxDQUFDLEVBQUUsb0JBQW9CLENBQUM7UUFDekksMkRBQXNDLHNCQUFrQixDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxlQUFlLENBQUMsU0FBUyxHQUFHLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQztRQUNySSwrREFBc0Msc0JBQWtC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ICAgICAqIEBlbnVtICBSRVNVTFRfQ09ERV9CQVNFXHJcbiAgICAgKiBAYnJpZWYg44Oq44K244Or44OI44Kz44O844OJ44Gu44Kq44OV44K744OD44OI5YCkXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBlbnVtIFJFU1VMVF9DT0RFX0JBU0Uge1xyXG4gICAgICAgIENEUF9UT09MU19ERUNMQVJFUkFUSU9OID0gMCwgICAgLy8gVFMyNDMyIOWvvuetllxyXG4gICAgICAgIENEUF9UT09MUyA9IDQgKiBNT0RVTEVfUkVTVUxUX0NPREVfUkFOR0VfQ0RQLFxyXG4gICAgfVxyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAvLyBtb2R1bGUgZXJyb3IgZGVjbGFyYXRpb246XHJcblxyXG4gICAgY29uc3QgRlVOQ1RJT05fQ09ERV9SQU5HRSA9IDEwO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVudW0gIExPQ0FMX0NPREVfQkFTRVxyXG4gICAgICogQGJyaWVmIGNkcC50b29scyDlhoXjga7jg63jg7zjgqvjg6vjgrPjg7zjg4njgqrjg5Xjgrvjg4Pjg4jlgKRcclxuICAgICAqL1xyXG4gICAgZW51bSBMT0NBTF9DT0RFX0JBU0Uge1xyXG4gICAgICAgIEZVTkNUSU9OUyAgID0gMCxcclxuICAgICAgICBCTE9CICAgICAgICA9IDEgKiBGVU5DVElPTl9DT0RFX1JBTkdFLFxyXG4gICAgfVxyXG5cclxuICAgIC8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xyXG4gICAgLyoqXHJcbiAgICAgKiBAZW51bSAgUkVTVUxUX0NPREVcclxuICAgICAqIEBicmllZiBjZHAudG9vbHMg44Gu44Ko44Op44O844Kz44O844OJ5a6a576pXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBlbnVtIFJFU1VMVF9DT0RFIHtcclxuICAgICAgICBFUlJPUl9DRFBfVE9PTFNfREVDTEFSQVRJT04gICAgICAgICA9IDAsIC8vIFRTMjQzMiDlr77nrZZcclxuICAgICAgICBFUlJPUl9DRFBfVE9PTFNfSU1BR0VfTE9BRF9GQUlMRUQgICA9IERFQ0xBUkVfRVJST1JfQ09ERShSRVNVTFRfQ09ERV9CQVNFLkNEUF9UT09MUywgTE9DQUxfQ09ERV9CQVNFLkZVTkNUSU9OUyArIDEsIFwiaW1hZ2UgbG9hZCBmYWlsZWQuXCIpLFxyXG4gICAgICAgIEVSUk9SX0NEUF9UT09MU19JTlZBTElEX0lNQUdFICAgICAgID0gREVDTEFSRV9FUlJPUl9DT0RFKFJFU1VMVF9DT0RFX0JBU0UuQ0RQX1RPT0xTLCBMT0NBTF9DT0RFX0JBU0UuRlVOQ1RJT05TICsgMiwgXCJpbnZhbGlkIGltYWdlLlwiKSxcclxuICAgICAgICBFUlJPUl9DRFBfVE9PTFNfRklMRV9SRUFERVJfRVJST1IgICA9IERFQ0xBUkVfRVJST1JfQ09ERShSRVNVTFRfQ09ERV9CQVNFLkNEUF9UT09MUywgTE9DQUxfQ09ERV9CQVNFLkJMT0IgKyAxLCBcIkZpbGVSZWFkZXIgbWV0aG9kIGZhaWxlZC5cIiksXHJcbiAgICB9XHJcbiAgICAvKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xyXG59XHJcbiIsIi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwianF1ZXJ5XCIgLz5cclxuXHJcbm5hbWVzcGFjZSBDRFAuVG9vbHMge1xyXG5cclxuICAgIGltcG9ydCBQcm9taXNlID0gQ0RQLlByb21pc2U7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlRvb2xzLkZ1bmN0aW9uc10gXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXRoLmFicyDjgojjgorjgoLpq5jpgJ/jgaogYWJzXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBhYnMoeDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4geCA+PSAwID8geCA6IC14O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWF0aC5tYXgg44KI44KK44KC6auY6YCf44GqIG1heFxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gbWF4KGxoczogbnVtYmVyLCByaHM6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIGxocyA+PSByaHMgPyBsaHMgOiByaHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXRoLm1pbiDjgojjgorjgoLpq5jpgJ/jgaogbWluXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBtaW4obGhzOiBudW1iZXIsIHJoczogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gbGhzIDw9IHJocyA/IGxocyA6IHJocztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaVsOWApOOCkiAwIOipsOOCgeOBl+OBpuaWh+Wtl+WIl+OCkueUn+aIkFxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gdG9aZXJvUGFkZGluZyhubzogbnVtYmVyLCBsaW1pdDogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgc2lnbmVkID0gXCJcIjtcclxuICAgICAgICBubyA9IE51bWJlcihubyk7XHJcblxyXG4gICAgICAgIGlmIChpc05hTihubykgfHwgaXNOYU4obGltaXQpIHx8IGxpbWl0IDw9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobm8gPCAwKSB7XHJcbiAgICAgICAgICAgIG5vID0gVG9vbHMuYWJzKG5vKTtcclxuICAgICAgICAgICAgc2lnbmVkID0gXCItXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2lnbmVkICsgKEFycmF5KGxpbWl0KS5qb2luKFwiMFwiKSArIG5vKS5zbGljZSgtbGltaXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5aSa6YeN57aZ5om/44Gu44Gf44KB44Gu5a6f6KGM5pmC57aZ5om/6Zai5pWwXHJcbiAgICAgKlxyXG4gICAgICogU3ViIENsYXNzIOWAmeijnOOCquODluOCuOOCp+OCr+ODiOOBq+WvvuOBl+OBpiBTdXBlciBDbGFzcyDlgJnoo5zjgqrjg5bjgrjjgqfjgq/jg4jjgpLnm7TliY3jga4gU3VwZXIgQ2xhc3Mg44Go44GX44Gm5oy/5YWl44GZ44KL44CCXHJcbiAgICAgKiBwcm90b3R5cGUg44Gu44G/44Kz44OU44O844GZ44KL44CCXHJcbiAgICAgKiDjgqTjg7Pjgrnjgr/jg7Pjgrnjg6Hjg7Pjg5DjgpLjgrPjg5Tjg7zjgZfjgZ/jgYTloLTlkIjjgIFTdXBlciBDbGFzcyDjgYznlpHkvLzjgrPjg7Pjgrnjg4jjg6njgq/jgr/jgpLmj5DkvpvjgZnjgovlv4XopoHjgYzjgYLjgovjgIJcclxuICAgICAqIOips+e0sOOBryBjZHAudG9vbHMuRnVuY3Rpb25zLnNwZWMudHMg44KS5Y+C54Wn44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHN1YkNsYXNzICAge2NvbnN0cnVjdG9yfSBbaW5dIOOCquODluOCuOOCp+OCr+ODiOOBriBjb25zdHJ1Y3RvciDjgpLmjIflrppcclxuICAgICAqIEBwYXJhbSBzdXBlckNsYXNzIHtjb25zdHJ1Y3Rvcn0gW2luXSDjgqrjg5bjgrjjgqfjgq/jg4jjga4gY29uc3RydWN0b3Ig44KS5oyH5a6aXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpbmhlcml0KHN1YkNsYXNzOiBhbnksIHN1cGVyQ2xhc3M6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IF9wcm90b3R5cGUgPSBzdWJDbGFzcy5wcm90b3R5cGU7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIF9pbmhlcml0KCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9pbmhlcml0LnByb3RvdHlwZSA9IHN1cGVyQ2xhc3MucHJvdG90eXBlO1xyXG4gICAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IG5ldyBfaW5oZXJpdCgpO1xyXG5cclxuICAgICAgICAkLmV4dGVuZChzdWJDbGFzcy5wcm90b3R5cGUsIF9wcm90b3R5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogbWl4aW4g6Zai5pWwXHJcbiAgICAgKlxyXG4gICAgICogVHlwZVNjcmlwdCBPZmZpY2lhbCBTaXRlIOOBq+i8ieOBo+OBpuOBhOOCiyBtaXhpbiDplqLmlbBcclxuICAgICAqIGh0dHA6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL0hhbmRib29rI21peGluc1xyXG4gICAgICog5pei44Gr5a6a576p44GV44KM44Gm44GE44KL44Kq44OW44K444Kn44Kv44OI44GL44KJ44CB5paw6KaP44Gr44Kq44OW44K444Kn44Kv44OI44KS5ZCI5oiQ44GZ44KL44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRlcml2ZWQge2NvbnN0cnVjdG9yfSAgICBbaW5dIOWQiOaIkOOBleOCjOOCi+OCquODluOCuOOCp+OCr+ODiOOBriBjb25zdHJ1Y3RvciDjgpLmjIflrppcclxuICAgICAqIEBwYXJhbSBiYXNlcyAgIHtjb25zdHJ1Y3Rvci4uLn0gW2luXSDlkIjmiJDlhYPjgqrjg5bjgrjjgqfjgq/jg4jjga4gY29uc3RydWN0b3Ig44KS5oyH5a6aICjlj6/lpInlvJXmlbApXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBtaXhpbihkZXJpdmVkOiBhbnksIC4uLmJhc2VzOiBhbnlbXSk6IHZvaWQge1xyXG4gICAgICAgIGJhc2VzLmZvckVhY2goKGJhc2UpID0+IHtcclxuICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYmFzZS5wcm90b3R5cGUpLmZvckVhY2gobmFtZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkZXJpdmVkLnByb3RvdHlwZVtuYW1lXSA9IGJhc2UucHJvdG90eXBlW25hbWVdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byBjb3JyZWN0bHkgc2V0IHVwIHRoZSBwcm90b3R5cGUgY2hhaW4sIGZvciBzdWJjbGFzc2VzLlxyXG4gICAgICogVGhlIGZ1bmN0aW9uIGJlaGF2aW9yIGlzIHNhbWUgYXMgZXh0ZW5kKCkgZnVuY3Rpb24gb2YgQmFja2JvbmUuanMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHByb3RvUHJvcHMgIHtPYmplY3R9IFtpbl0gc2V0IHByb3RvdHlwZSBwcm9wZXJ0aWVzIGFzIG9iamVjdC5cclxuICAgICAqIEBwYXJhbSBzdGF0aWNQcm9wcyB7T2JqZWN0fSBbaW5dIHNldCBzdGF0aWMgcHJvcGVydGllcyBhcyBvYmplY3QuXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHN1YmNsYXNzIGNvbnN0cnVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgKiDjgq/jg6njgrnntpnmib/jga7jgZ/jgoHjga7jg5jjg6vjg5Hjg7zplqLmlbBcclxuICAgICAqIEJhY2tib25lLmpzIGV4dGVuZCgpIOmWouaVsOOBqOWQjOetiVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwcm90b1Byb3BzICB7T2JqZWN0fSBbaW5dIHByb3RvdHlwZSBwcm9wZXJ0aWVzIOOCkuOCquODluOCuOOCp+OCr+ODiOOBp+aMh+WumlxyXG4gICAgICogQHBhcmFtIHN0YXRpY1Byb3BzIHtPYmplY3R9IFtpbl0gc3RhdGljIHByb3BlcnRpZXMg44KS44Kq44OW44K444Kn44Kv44OI44Gn5oyH5a6aXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IOOCteODluOCr+ODqeOCueOBruOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZXh0ZW5kKHByb3RvUHJvcHM6IG9iamVjdCwgc3RhdGljUHJvcHM/OiBvYmplY3QpOiBvYmplY3Qge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXM7XHJcbiAgICAgICAgbGV0IGNoaWxkO1xyXG5cclxuICAgICAgICBpZiAocHJvdG9Qcm9wcyAmJiBwcm90b1Byb3BzLmhhc093blByb3BlcnR5KFwiY29uc3RydWN0b3JcIikpIHtcclxuICAgICAgICAgICAgY2hpbGQgPSBwcm90b1Byb3BzLmNvbnN0cnVjdG9yO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoaWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJC5leHRlbmQoY2hpbGQsIHBhcmVudCwgc3RhdGljUHJvcHMpO1xyXG5cclxuICAgICAgICBjb25zdCBTdXJyb2dhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFN1cnJvZ2F0ZS5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlO1xyXG4gICAgICAgIGNoaWxkLnByb3RvdHlwZSA9IG5ldyBTdXJyb2dhdGU7XHJcblxyXG4gICAgICAgIGlmIChwcm90b1Byb3BzKSB7XHJcbiAgICAgICAgICAgICQuZXh0ZW5kKGNoaWxkLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlO1xyXG5cclxuICAgICAgICByZXR1cm4gY2hpbGQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEUEkg5Y+W5b6XXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXREZXZpY2VQaXhjZWxSYXRpbygpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBtZWRpYVF1ZXJ5O1xyXG4gICAgICAgIGNvbnN0IGlzX2ZpcmVmb3ggPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImZpcmVmb3hcIikgPiAtMTtcclxuICAgICAgICBpZiAobnVsbCAhPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAmJiAhaXNfZmlyZWZveCkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LmRldmljZVBpeGVsUmF0aW87XHJcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cubWF0Y2hNZWRpYSkge1xyXG4gICAgICAgICAgICBtZWRpYVF1ZXJ5ID1cclxuICAgICAgICAgICAgICAgIFwiKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMS41KSxcXFxyXG4gICAgICAgICAgICAgICAgICAgIChtaW4tLW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86IDEuNSksXFxcclxuICAgICAgICAgICAgICAgICAgICAoLW8tbWluLWRldmljZS1waXhlbC1yYXRpbzogMy8yKSxcXFxyXG4gICAgICAgICAgICAgICAgICAgIChtaW4tcmVzb2x1dGlvbjogMS41ZHBweClcIjtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKG1lZGlhUXVlcnkpLm1hdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxLjU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWVkaWFRdWVyeSA9XHJcbiAgICAgICAgICAgICAgICBcIigtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpLFxcXHJcbiAgICAgICAgICAgICAgICAgICAgKG1pbi0tbW96LWRldmljZS1waXhlbC1yYXRpbzogMiksXFxcclxuICAgICAgICAgICAgICAgICAgICAoLW8tbWluLWRldmljZS1waXhlbC1yYXRpbzogMi8xKSxcXFxyXG4gICAgICAgICAgICAgICAgICAgIChtaW4tcmVzb2x1dGlvbjogMmRwcHgpXCI7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYShtZWRpYVF1ZXJ5KS5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtZWRpYVF1ZXJ5ID1cclxuICAgICAgICAgICAgICAgIFwiKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMC43NSksXFxcclxuICAgICAgICAgICAgICAgICAgICAobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOiAwLjc1KSxcXFxyXG4gICAgICAgICAgICAgICAgICAgICgtby1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAzLzQpLFxcXHJcbiAgICAgICAgICAgICAgICAgICAgKG1pbi1yZXNvbHV0aW9uOiAwLjc1ZHBweClcIjtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKG1lZGlhUXVlcnkpLm1hdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwLjc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FudmFzIGVsZW1lbnQg44Gu44Kt44Oj44OD44K344OlXHJcbiAgICBsZXQgc19jYW52YXNGYWN0b3J5OiBIVE1MQ2FudmFzRWxlbWVudDtcclxuXHJcbiAgICAvLyDjgq3jg6Pjg4Pjgrfjg6XmuIjjgb/jga4gQ2FudmFzIOOCkuWPluW+l+OBmeOCi1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldENhbnZhcygpOiBIVE1MQ2FudmFzRWxlbWVudCB7XHJcbiAgICAgICAgc19jYW52YXNGYWN0b3J5ID0gc19jYW52YXNGYWN0b3J5IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgcmV0dXJuIDxIVE1MQ2FudmFzRWxlbWVudD5zX2NhbnZhc0ZhY3RvcnkuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOeUu+WDj+ODquOCveODvOOCueOBruODreODvOODieWujOS6huOCkuS/neiovFxyXG4gICAgICog44OW44Op44Km44K25pei5a6a44Gu44OX44Ot44Kw44Os44OD44K344OW44Ot44O844OJ44KS6LWw44KJ44Gb44Gq44GE44Gf44KBLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gdXJsIFtpbl0gdXJsIChkYXRhLXVybClcclxuICAgICAqIEByZXR1cm4ge0lQcm9taXNlPHN0cmluZz59IOihqOekuuWPr+iDveOBqiB1cmxcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUltYWdlTG9hZGVkKHVybDogc3RyaW5nKTogSVByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICAgICAgICBjb25zdCBkZXN0cm95ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaW1nKSB7XHJcbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gXCJcIjsgICAvLyDoqq3jgb/ovrzjgb/lgZzmraJcclxuICAgICAgICAgICAgICAgIGltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpbWcub25sb2FkID0gKGV2ZW50OiBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh1cmwpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICByZWplY3QobWFrZUVycm9ySW5mbyhcclxuICAgICAgICAgICAgICAgICAgICBSRVNVTFRfQ09ERS5FUlJPUl9DRFBfVE9PTFNfSU1BR0VfTE9BRF9GQUlMRUQsXHJcbiAgICAgICAgICAgICAgICAgICAgVEFHLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiaW1hZ2UgbG9hZCBmYWlsZWQuIFt1cmw6IFwiICsgdXJsICsgXCJdXCJcclxuICAgICAgICAgICAgICAgICkpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaW1nLnNyYyA9IHVybDtcclxuXHJcbiAgICAgICAgfSwgZGVzdHJveSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiDnlLvlg4/jga7jg6rjgrXjgqTjgrpcclxuICAgICAqIOaMh+WumuOBl+OBn+mVt+i+uuOBrumVt+OBleOBq+OCouOCueODmuOCr+ODiOavlOOCkue2reaMgeOBl+OBpuODquOCteOCpOOCuuOCkuihjOOBhlxyXG4gICAgICogbG9uZ1NpZGVMZW5ndGgg44KI44KK5bCP44GV44Gq5aC05ZCI44Gv44Kq44Oq44K444OK44Or44K144Kk44K644GnIGRhdGEtdXJsIOOCkui/lOWNtOOBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gc3JjICAgICAgICAgICAgW2luXSBpbWFnZSDjgavmjIflrprjgZnjgovjgr3jg7zjgrlcclxuICAgICAqIEBwYXJhbSAge051bWJlcn0gbG9uZ1NpZGVMZW5ndGggW2luXSDjg6rjgrXjgqTjgrrjgavkvb/nlKjjgZnjgovplbfovrrjga7mnIDlpKflgKTjgpLmjIflrppcclxuICAgICAqIEByZXR1cm4ge0lQcm9taXNlPHN0cmluZz59IGJhc2U2NCBkYXRhIHVybCDjgpLov5TljbRcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZUltYWdlKHNyYzogc3RyaW5nLCBsb25nU2lkZUxlbmd0aDogbnVtYmVyKTogSVByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICAgICAgICBjb25zdCBkZXN0cm95ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaW1nKSB7XHJcbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gXCJcIjsgICAvLyDoqq3jgb/ovrzjgb/lgZzmraJcclxuICAgICAgICAgICAgICAgIGltZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpbWcub25sb2FkID0gKGV2ZW50OiBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpaCA9IGltZy5oZWlnaHQsIGl3ID0gaW1nLndpZHRoLCBpYSA9IGloIC8gaXc7XHJcbiAgICAgICAgICAgICAgICBsZXQgY3c6IG51bWJlciwgY2g6IG51bWJlcjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXcgPT09IDAgfHwgMCA9PT0gaWEpIHsgLy8g5b+144Gu44Gf44KB5LiN5q2j44Gq55S75YOP44KS44Ks44O844OJXHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG1ha2VFcnJvckluZm8oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJFU1VMVF9DT0RFLkVSUk9SX0NEUF9UT09MU19JTlZBTElEX0lNQUdFLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBUQUcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaW52YWxpZCBpbWFnZS4gW3NyYzogXCIgKyBzcmMgKyBcIl1cIlxyXG4gICAgICAgICAgICAgICAgICAgICkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobG9uZ1NpZGVMZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb25nU2lkZUxlbmd0aCA9IChpYSA8IDEpID8gaXcgOiBpaDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlhIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdyA9IChsb25nU2lkZUxlbmd0aCA8IGl3KSA/IGxvbmdTaWRlTGVuZ3RoIDogaXc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoID0gTWF0aC5yb3VuZChjdyAqIGlhKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaCA9IChsb25nU2lkZUxlbmd0aCA8IGloKSA/IGxvbmdTaWRlTGVuZ3RoIDogaWg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN3ID0gTWF0aC5yb3VuZChjaCAvIGlhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGN3O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjaDtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLmRyYXdJbWFnZShpbWcsIDAsIDAsIGN3LCBjaCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoY2FudmFzLnRvRGF0YVVSTCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpbWcub25lcnJvciA9IChldmVudDogRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHJlamVjdChtYWtlRXJyb3JJbmZvKFxyXG4gICAgICAgICAgICAgICAgICAgIFJFU1VMVF9DT0RFLkVSUk9SX0NEUF9UT09MU19JTUFHRV9MT0FEX0ZBSUxFRCxcclxuICAgICAgICAgICAgICAgICAgICBUQUcsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJpbWFnZSBsb2FkIGZhaWxlZC4gW3NyYzogXCIgKyBzcmMgKyBcIl1cIlxyXG4gICAgICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpbWcuc3JjID0gc3JjO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBDRFAuVG9vbHMge1xyXG5cclxuICAgIGltcG9ydCBQcm9taXNlID0gQ0RQLlByb21pc2U7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlRvb2xzLkJsb2JdIFwiO1xyXG5cclxuICAgIGV4cG9ydCBtb2R1bGUgQmxvYiB7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEdldCBCbG9iQnVpbGRlclxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7YW55fSBCbG9iQnVpbGRlclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldEJsb2JCdWlsZGVyKCk6IGFueSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWwuQmxvYkJ1aWxkZXIgfHwgZ2xvYmFsLldlYktpdEJsb2JCdWlsZGVyIHx8IGdsb2JhbC5Nb3pCbG9iQnVpbGRlciB8fCBnbG9iYWwuTVNCbG9iQnVpbGRlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOOCqOODqeODvOaDheWgseeUn+aIkCBmcm9tIERPTUVycm9yXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtSRVNVTFRfQ09ERX0gcmVzdWx0Q29kZSBbaW5dIFJFU1VMVF9DT0RFIOOCkuaMh+WumlxyXG4gICAgICAgICAqIEBwYXJhbSAge0RPTUVycm9yfSAgICBjYXVzZSAgICAgIFtpbl0g5LiL5L2N44GuIERPTSDjgqjjg6njg7zjgpLmjIflrppcclxuICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgW3RhZ10gICAgICBbaW5dIFRBRyDjgpLmjIflrppcclxuICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICAgW21lc3NhZ2VdICBbaW5dIOODoeODg+OCu+ODvOOCuOOCkuaMh+WumlxyXG4gICAgICAgICAqIEByZXR1cm4ge0Vycm9ySW5mb30g44Ko44Op44O844Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gbWFrZUVycm9ySW5mb0Zyb21ET01FcnJvcihyZXN1bHRDb2RlOiBSRVNVTFRfQ09ERSwgY2F1c2U6IERPTUVycm9yLCB0YWc/OiBzdHJpbmcsIG1lc3NhZ2U/OiBzdHJpbmcpOiBFcnJvckluZm8ge1xyXG4gICAgICAgICAgICBsZXQgX2NhdXNlOiBFcnJvcjtcclxuICAgICAgICAgICAgaWYgKGNhdXNlKSB7XHJcbiAgICAgICAgICAgICAgICBfY2F1c2UgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogY2F1c2UubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjYXVzZS5uYW1lLCAgICAvLyBET01FcnJvci5tZXNzYWdlIOOBjOacquOCteODneODvOODiFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbWFrZUVycm9ySW5mbyhyZXN1bHRDb2RlLCB0YWcsIG1lc3NhZ2UsIF9jYXVzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBcnJheUJ1ZmZlciB0byBCbG9iXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gYnVmIHtBcnJheUJ1ZmZlcn0gW2luXSBBcnJheUJ1ZmZlciBkYXRhXHJcbiAgICAgICAgICogQHBhcmFtIG1pbWVUeXBlIHtzdHJpbmd9IFtpbl0gTWltZVR5cGUgb2YgZGF0YVxyXG4gICAgICAgICAqIEByZXR1cm4ge0Jsb2J9IEJsb2IgZGF0YVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBhcnJheUJ1ZmZlclRvQmxvYihidWY6IEFycmF5QnVmZmVyLCBtaW1lVHlwZTogc3RyaW5nKTogQmxvYiB7XHJcbiAgICAgICAgICAgIGxldCBibG9iOiBCbG9iID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGJsb2JCdWlsZGVyT2JqZWN0OiBhbnkgPSBnZXRCbG9iQnVpbGRlcigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGJsb2JCdWlsZGVyT2JqZWN0ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2JCdWlsZGVyOiBhbnkgPSBuZXcgYmxvYkJ1aWxkZXJPYmplY3QoKTtcclxuICAgICAgICAgICAgICAgIGJsb2JCdWlsZGVyLmFwcGVuZChidWYpO1xyXG4gICAgICAgICAgICAgICAgYmxvYiA9IGJsb2JCdWlsZGVyLmdldEJsb2IobWltZVR5cGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQW5kcm9pZCA0LjQgS2l0S2F0IENocm9taXVtIFdlYlZpZXdcclxuICAgICAgICAgICAgICAgIGJsb2IgPSBuZXcgZ2xvYmFsLkJsb2IoW2J1Zl0sIHsgdHlwZTogbWltZVR5cGUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGJsb2I7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBCYXNlNjQgc3RyaW5nIHRvIEJsb2JcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBiYXNlNjQge3N0cmluZ30gW2luXSBCYXNlNjQgc3RyaW5nIGRhdGFcclxuICAgICAgICAgKiBAcGFyYW0gbWltZVR5cGUge3N0cmluZ30gW2luXSBNaW1lVHlwZSBvZiBkYXRhXHJcbiAgICAgICAgICogQHJldHVybiB7QmxvYn0gQmxvYiBkYXRhXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NFRvQmxvYihiYXNlNjQ6IHN0cmluZywgbWltZVR5cGU6IHN0cmluZyk6IEJsb2Ige1xyXG4gICAgICAgICAgICBsZXQgYmxvYjogQmxvYiA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBibG9iQnVpbGRlck9iamVjdDogYW55ID0gZ2V0QmxvYkJ1aWxkZXIoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChibG9iQnVpbGRlck9iamVjdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBibG9iQnVpbGRlcjogYW55ID0gbmV3IGJsb2JCdWlsZGVyT2JqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBibG9iQnVpbGRlci5hcHBlbmQoYmFzZTY0VG9BcnJheUJ1ZmZlcihiYXNlNjQpKTtcclxuICAgICAgICAgICAgICAgIGJsb2IgPSBibG9iQnVpbGRlci5nZXRCbG9iKG1pbWVUeXBlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEFuZHJvaWQgNC40IEtpdEthdCBDaHJvbWl1bSBXZWJWaWV3XHJcbiAgICAgICAgICAgICAgICBibG9iID0gbmV3IGdsb2JhbC5CbG9iKFtiYXNlNjRUb0FycmF5QnVmZmVyKGJhc2U2NCldLCB7IHR5cGU6IG1pbWVUeXBlIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBibG9iO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogZGF0YS11cmwg5b2i5byP55S75YOP44GL44KJIEJsb2Ig44Kq44OW44K444Kn44Kv44OI44G45aSJ5o+bXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGRhdGFVcmwgICAgW2luXSBkYXRhIHVybFxyXG4gICAgICAgICAqIEBwYXJhbSAge1N0cmluZ30gW21pbWVUeXBlXSBbaW5dIG1pbWUgdHlwZSDjgpLmjIflrpouIOaXouWumuOBp+OBryBcImltYWdlL3BuZ1wiXHJcbiAgICAgICAgICogQHJldHVybiB7QmxvYn0gQmxvYiDjgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gZGF0YVVybFRvQmxvYihkYXRhVXJsOiBzdHJpbmcsIG1pbWVUeXBlOiBzdHJpbmcgPSBcImltYWdlL3BuZ1wiKTogQmxvYiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2U2NCA9IGRhdGFVcmwuc3BsaXQoXCIsXCIpWzFdO1xyXG4gICAgICAgICAgICByZXR1cm4gYmFzZTY0VG9CbG9iKGJhc2U2NCwgbWltZVR5cGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQmFzZTY0IHN0cmluZyB0byBBcnJheUJ1ZmZlclxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGJhc2U2NCB7c3RyaW5nfSBbaW5dIEJhc2U2NCBzdHJpbmcgZGF0YVxyXG4gICAgICAgICAqIEByZXR1cm4ge0FycmF5QnVmZmVyfSBBcnJheUJ1ZmZlciBkYXRhXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NFRvQXJyYXlCdWZmZXIoYmFzZTY0OiBzdHJpbmcpOiBBcnJheUJ1ZmZlciB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGVzID0gd2luZG93LmF0b2IoYmFzZTY0KTtcclxuICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnl0ZXMubGVuZ3RoKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBieXRlcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YVtpXSA9IGJ5dGVzLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGFycmF5QnVmZmVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQmFzZTY0IHN0cmluZyB0byBVaW50OEFycmF5XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gYmFzZTY0IHtzdHJpbmd9IFtpbl0gQmFzZTY0IHN0cmluZyBkYXRhXHJcbiAgICAgICAgICogQHJldHVybiB7VWludDhBcnJheX0gVWludDhBcnJheSBkYXRhXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NFRvVWludDhBcnJheShlbmNvZGVkOiBzdHJpbmcpOiBVaW50OEFycmF5IHtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZXMgPSB3aW5kb3cuYXRvYihlbmNvZGVkKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KGJ5dGVzLmxlbmd0aCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYnl0ZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFbaV0gPSBieXRlcy5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQXJyYXlCdWZmZXIgdG8gYmFzZTY0IHN0cmluZ1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGFycmF5QnVmZmVyIHtBcnJheUJ1ZmZlcn0gW2luXSBBcnJheUJ1ZmZlciBkYXRhXHJcbiAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBiYXNlNjQgZGF0YVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBhcnJheUJ1ZmZlclRvQmFzZTY0KGFycmF5QnVmZmVyOiBBcnJheUJ1ZmZlcik6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gdWludDhBcnJheVRvQmFzZTY0KGJ5dGVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVpbnQ4QXJyYXkgdG8gYmFzZTY0IHN0cmluZ1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGJ5dGVzIHtVaW50OEFycmF5fSBbaW5dIFVpbnQ4QXJyYXkgZGF0YVxyXG4gICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gYmFzZTY0IGRhdGFcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gdWludDhBcnJheVRvQmFzZTY0KGJ5dGVzOiBVaW50OEFycmF5KTogc3RyaW5nIHtcclxuICAgICAgICAgICAgbGV0IGRhdGE6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYnl0ZXMuYnl0ZUxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYnRvYShkYXRhKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiByZWFkIEJsb2IgYXMgQXJyYXlCdWZmZXJcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSAge0Jsb2J9IGJsb2IgW2luXSBibG9iIGRhdGFcclxuICAgICAgICAgKiBAcmV0dXJuIHtDRFAuSVByb21pc2U8QXJyYXlCdWZmZXI+fSBwcm9taXNlIG9iamVjdFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYjogQmxvYik6IElQcm9taXNlPEFycmF5QnVmZmVyPiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbmNlbCA9ICgpID0+IHJlYWRlci5hYm9ydCgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QobWFrZUVycm9ySW5mb0Zyb21ET01FcnJvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkVTVUxUX0NPREUuRVJST1JfQ0RQX1RPT0xTX0ZJTEVfUkVBREVSX0VSUk9SLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuZXJyb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRBRyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJGaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKCkgZmFpbGVkLlwiXHJcbiAgICAgICAgICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xyXG4gICAgICAgICAgICB9LCBjYW5jZWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogcmVhZCBCbG9iIGFzIFVpbnQ4QXJyYXlcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSAge0Jsb2J9IGJsb2IgW2luXSBibG9iIGRhdGFcclxuICAgICAgICAgKiBAcmV0dXJuIHtDRFAuSVByb21pc2U8VWludDhBcnJheT59IHByb21pc2Ugb2JqZWN0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIHJlYWRCbG9iQXNVaW50OEFycmF5KGJsb2I6IEJsb2IpOiBJUHJvbWlzZTxVaW50OEFycmF5PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0LCBkZXBlbmRPbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGVwZW5kT24ocmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXN1bHQ6IEFycmF5QnVmZmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobmV3IFVpbnQ4QXJyYXkocmVzdWx0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yOiBFcnJvckluZm8pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiByZWFkIEJsb2IgYXMgdGV4dCBzdHJpbmdcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSAge0Jsb2J9IGJsb2IgW2luXSBibG9iIGRhdGFcclxuICAgICAgICAgKiBAcmV0dXJuIHtDRFAuSVByb21pc2U8VWludDhBcnJheT59IHByb21pc2Ugb2JqZWN0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2I6IEJsb2IsIGVuY29kZTogc3RyaW5nID0gXCJ1dGYtOFwiKTogSVByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbmNlbCA9ICgpID0+IHJlYWRlci5hYm9ydCgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QobWFrZUVycm9ySW5mb0Zyb21ET01FcnJvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkVTVUxUX0NPREUuRVJST1JfQ0RQX1RPT0xTX0ZJTEVfUkVBREVSX0VSUk9SLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIuZXJyb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRBRyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJGaWxlUmVhZGVyLnJlYWRBc1RleHQoKSBmYWlsZWQuXCJcclxuICAgICAgICAgICAgICAgICAgICApKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChibG9iLCBlbmNvZGUpO1xyXG4gICAgICAgICAgICB9LCBjYW5jZWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogcmVhZCBCbG9iIGFzIERhdGEgVVJMXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtCbG9ifSBibG9iIFtpbl0gYmxvYiBkYXRhXHJcbiAgICAgICAgICogQHJldHVybiB7Q0RQLklQcm9taXNlPHN0cmluZz59IHByb21pc2Ugb2JqZWN0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIHJlYWRCbG9iQXNEYXRhVVJMKGJsb2I6IEJsb2IpOiBJUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgY29uc3QgY2FuY2VsID0gKCkgPT4gcmVhZGVyLmFib3J0KCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChtYWtlRXJyb3JJbmZvRnJvbURPTUVycm9yKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSRVNVTFRfQ09ERS5FUlJPUl9DRFBfVE9PTFNfRklMRV9SRUFERVJfRVJST1IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5lcnJvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgVEFHLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTCgpIGZhaWxlZC5cIlxyXG4gICAgICAgICAgICAgICAgICAgICkpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xyXG4gICAgICAgICAgICB9LCBjYW5jZWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVVJMIE9iamVjdFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7YW55fSBVUkwgT2JqZWN0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IFVSTCA9ICgoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWwuVVJMIHx8IGdsb2JhbC53ZWJraXRVUkw7XHJcbiAgICAgICAgfSkoKTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogQGZpbGUgIEJpbmFyeVRyYW5zcG9ydC50c1xyXG4gKiBAYnJpZWYgalF1ZXJ5IGFqYXggdHJhbnNwb3J0IGZvciBtYWtpbmcgYmluYXJ5IGRhdGEgdHlwZSByZXF1ZXN0cy5cclxuICpcclxuICogICAgICAgIG9yaWdpbmFsOiBodHRwczovL2dpdGh1Yi5jb20vaGVucnlhL2pzLWpxdWVyeS9ibG9iL21hc3Rlci9CaW5hcnlUcmFuc3BvcnQvanF1ZXJ5LmJpbmFyeXRyYW5zcG9ydC5qc1xyXG4gKiAgICAgICAgYXV0aG9yOiAgIEhlbnJ5IEFsZ3VzIDxoZW5yeWFsZ3VzQGdtYWlsLmNvbT5cclxuICovXHJcbm5hbWVzcGFjZSBDRFAuVG9vbHMge1xyXG4gICAgLy8gU3VwcG9ydCBmaWxlIHByb3RvY29sLiAoYXMgc2FtZSBhcyBvZmZpY2lhbCB3YXkpXHJcbiAgICBjb25zdCB4aHJTdWNjZXNzU3RhdHVzID0ge1xyXG4gICAgICAgIDA6IDIwMCxcclxuICAgICAgICAxMjIzOiAyMDRcclxuICAgIH07XHJcblxyXG4gICAgJC5hamF4VHJhbnNwb3J0KFwiK2JpbmFyeVwiLCAob3B0aW9uczogSlF1ZXJ5LkFqYXhTZXR0aW5ncywgb3JpZ2luYWxPcHRpb25zOiBKUXVlcnkuQWpheFNldHRpbmdzLCBqcVhIUjogSlF1ZXJ5WEhSKSA9PiB7XHJcbiAgICAgICAgaWYgKGdsb2JhbC5Gb3JtRGF0YSAmJlxyXG4gICAgICAgICAgICAoKG9wdGlvbnMuZGF0YVR5cGUgJiYgKG9wdGlvbnMuZGF0YVR5cGUgPT09IFwiYmluYXJ5XCIpKSB8fFxyXG4gICAgICAgICAgICAob3B0aW9ucy5kYXRhICYmICgoZ2xvYmFsLkFycmF5QnVmZmVyICYmIG9wdGlvbnMuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fFxyXG4gICAgICAgICAgICAoZ2xvYmFsLkJsb2IgJiYgb3B0aW9ucy5kYXRhIGluc3RhbmNlb2YgZ2xvYmFsLkJsb2IpKSkpKSB7XHJcbiAgICAgICAgICAgIGxldCBhYm9ydENhbGxiYWNrOiAoKSA9PiB2b2lkO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc2VuZDogZnVuY3Rpb24gKGhlYWRlcnM6IEpRdWVyeS5QbGFpbk9iamVjdCwgY2FsbGJhY2s6IEpRdWVyeS5UcmFuc3BvcnQuU3VjY2Vzc0NhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0dXAgYWxsIHZhcmlhYmxlc1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IG9wdGlvbnMudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBvcHRpb25zLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXN5bmMgPSBvcHRpb25zLmFzeW5jIHx8IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGJsb2Igb3IgYXJyYXlidWZmZXIuIERlZmF1bHQgaXMgYmxvYlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFUeXBlID0gKDxhbnk+b3B0aW9ucykucmVzcG9uc2VUeXBlIHx8IFwiYmxvYlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBvcHRpb25zLmRhdGEgfHwgbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IG9wdGlvbnMudXNlcm5hbWUgfHwgbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXNzd29yZCA9IG9wdGlvbnMucGFzc3dvcmQgfHwgbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgX2NhbGxiYWNrOiBKUXVlcnkuVHJhbnNwb3J0LlN1Y2Nlc3NDYWxsYmFjayA9IGNhbGxiYWNrIHx8ICgoKSA9PiB7IC8qIG5vb3AgKi8gfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHN1Y2NlZWRlZCBoYW5kbGVyXHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgX2RhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGFbb3B0aW9ucy5kYXRhVHlwZV0gPSB4aHIucmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jYWxsYmFjayhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoclN1Y2Nlc3NTdGF0dXNbeGhyLnN0YXR1c10gfHwgeGhyLnN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxKUXVlcnkuQWpheC5UZXh0U3RhdHVzPnhoci5zdGF0dXNUZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXJyb3IgaGFuZGxlclxyXG4gICAgICAgICAgICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBfZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZGF0YVtvcHRpb25zLmRhdGFUeXBlXSA9IHhoci5yZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBjYWxsYmFjayBhbmQgc2VuZCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jYWxsYmFjayhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SlF1ZXJ5LkFqYXguVGV4dFN0YXR1cz54aHIuc3RhdHVzVGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFib3J0IGhhbmRsZXJcclxuICAgICAgICAgICAgICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgX2RhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGFbb3B0aW9ucy5kYXRhVHlwZV0gPSB4aHIucmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgY2FsbGJhY2sgYW5kIHNlbmQgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2FsbGJhY2soXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuc3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEpRdWVyeS5BamF4LlRleHRTdGF0dXM+eGhyLnN0YXR1c1RleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBhYm9ydCBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgICAgIGFib3J0Q2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5hYm9ydCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHhoci5vcGVuKHR5cGUsIHVybCwgYXN5bmMsIHVzZXJuYW1lLCBwYXNzd29yZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldHVwIGN1c3RvbSBoZWFkZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIGluIGhlYWRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGksIGhlYWRlcnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gZGF0YVR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNlbmQoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYWJvcnQ6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWJvcnRDYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhYm9ydENhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbiIsIi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xyXG5cclxubmFtZXNwYWNlIENEUC5Ub29scyB7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlRvb2xzLkRhdGVUaW1lXSBcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBjbGFzcyBEYXRlVGltZVxyXG4gICAgICogQGJyaWVmIOaZguWIu+aTjeS9nOOBruODpuODvOODhuOCo+ODquODhuOCo+OCr+ODqeOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgY2xhc3MgRGF0ZVRpbWUge1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIHB1YmxpYyBzdGF0aWMgbWV0aG9kXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWfuueCueOBqOOBquOCi+aXpeS7mOOBi+OCieOAgW7ml6XlvozjgIFu5pel5YmN44KS566X5Ye6XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gYmFzZSAgICB7RGF0ZX0gICBbaW5dIOWfuua6luaXpVxyXG4gICAgICAgICAqIEBwYXJhbSBhZGREYXlzIHtOdW1iZXJ9IFtpbl0g5Yqg566X5pelLiDjg57jgqTjg4rjgrnmjIflrprjgadu5pel5YmN44KC6Kit5a6a5Y+v6IO9XHJcbiAgICAgICAgICogQHJldHVybiB7RGF0ZX0g5pel5LuY44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBjb21wdXRlRGF0ZShiYXNlOiBEYXRlLCBhZGREYXlzOiBudW1iZXIpOiBEYXRlIHtcclxuICAgICAgICAgICAgY29uc3QgZHQgPSBuZXcgRGF0ZShiYXNlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VTZWMgPSBkdC5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFkZFNlYyA9IGFkZERheXMgKiA4NjQwMDAwMDsgICAgLy/ml6XmlbAgKiAx5pel44Gu44Of44Oq56eS5pWwXHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFNlYyA9IGJhc2VTZWMgKyBhZGRTZWM7XHJcbiAgICAgICAgICAgIGR0LnNldFRpbWUodGFyZ2V0U2VjKTtcclxuICAgICAgICAgICAgcmV0dXJuIGR0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29udmVydCBzdHJpbmcgdG8gZGF0ZSBvYmplY3RcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRlIHN0cmluZyBleCkgWVlZWS1NTS1ERFRISDptbTpTUy5TU1NcclxuICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGRhdGUgb2JqZWN0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBjb252ZXJ0SVNPU3RyaW5nVG9EYXRlKGRhdGVTdHJpbmc6IHN0cmluZyk6IERhdGUge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRlVGltZSA9IGRhdGVTdHJpbmcuc3BsaXQoXCJUXCIpLFxyXG4gICAgICAgICAgICAgICAgZGF0ZUFycmF5ID0gZGF0ZVRpbWVbMF0uc3BsaXQoXCItXCIpO1xyXG4gICAgICAgICAgICBsZXQgdGltZUFycmF5LCBzZWNBcnJheSwgZGF0ZU9iamVjdDtcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRlVGltZVsxXSkge1xyXG4gICAgICAgICAgICAgICAgdGltZUFycmF5ID0gZGF0ZVRpbWVbMV0uc3BsaXQoXCI6XCIpO1xyXG4gICAgICAgICAgICAgICAgc2VjQXJyYXkgPSB0aW1lQXJyYXlbMl0uc3BsaXQoXCIuXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGltZUFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlT2JqZWN0ID0gbmV3IERhdGUoPGFueT5kYXRlQXJyYXlbMF0sIDxhbnk+ZGF0ZUFycmF5WzFdIC0gMSwgPGFueT5kYXRlQXJyYXlbMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgPGFueT50aW1lQXJyYXlbMF0sIDxhbnk+dGltZUFycmF5WzFdLCA8YW55PnNlY0FycmF5WzBdLCA8YW55PnNlY0FycmF5WzFdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRlQXJyYXlbMl0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlT2JqZWN0ID0gbmV3IERhdGUoPGFueT5kYXRlQXJyYXlbMF0sIDxhbnk+ZGF0ZUFycmF5WzFdIC0gMSwgPGFueT5kYXRlQXJyYXlbMl0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRlQXJyYXlbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlT2JqZWN0ID0gbmV3IERhdGUoPGFueT5kYXRlQXJyYXlbMF0sIDxhbnk+ZGF0ZUFycmF5WzFdIC0gMSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVPYmplY3QgPSBuZXcgRGF0ZSg8YW55PmRhdGVBcnJheVswXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBkYXRlT2JqZWN0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogIENvbnZlcnQgYSBkYXRlIG9iamVjdCBpbnRvIGEgc3RyaW5nIGluIFBNT0FQSSByZWNvcmRlZF9kYXRlIGZvcm1hdCh0aGUgSVNPIDg2MDEgRXh0ZW5kZWQgRm9ybWF0KVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGRhdGUgICB7RGF0ZX0gICBbaW5dIGRhdGUgb2JqZWN0XHJcbiAgICAgICAgICogQHBhcmFtIHRhcmdldCB7U3RyaW5nfSBbaW5dIHt5ZWFyIHwgbW9udGggfCBkYXRlIHwgaG91ciB8IG1pbiB8IHNlYyB8IG1zZWMgfVxyXG4gICAgICAgICAqIEByZXR1cm4ge1N0cmluZ31cclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnREYXRlVG9JU09TdHJpbmcoZGF0ZTogRGF0ZSwgdGFyZ2V0OiBzdHJpbmcgPSBcIm1zZWNcIik6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIGxldCBpc29EYXRlU3RyaW5nO1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ5ZWFyXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibW9udGhcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRlXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiaG91clwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm1pblwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNlY1wiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm1zZWNcIjpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRyArIFwidW5rbm93biB0YXJnZXQ6IFwiICsgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBcIm1zZWNcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaXNvRGF0ZVN0cmluZyA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgaWYgKFwieWVhclwiID09PSB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc29EYXRlU3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpc29EYXRlU3RyaW5nICs9IChcIi1cIiArIERhdGVUaW1lLm51bWJlclRvRG91YmxlRGlnaXRzU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpKTtcclxuICAgICAgICAgICAgaWYgKFwibW9udGhcIiA9PT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNvRGF0ZVN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaXNvRGF0ZVN0cmluZyArPSAoXCItXCIgKyBEYXRlVGltZS5udW1iZXJUb0RvdWJsZURpZ2l0c1N0cmluZyhkYXRlLmdldERhdGUoKSkpO1xyXG4gICAgICAgICAgICBpZiAoXCJkYXRlXCIgPT09IHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzb0RhdGVTdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlzb0RhdGVTdHJpbmcgKz0gKFwiVFwiICsgRGF0ZVRpbWUubnVtYmVyVG9Eb3VibGVEaWdpdHNTdHJpbmcoZGF0ZS5nZXRIb3VycygpKSk7XHJcbiAgICAgICAgICAgIGlmIChcImhvdXJcIiA9PT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNvRGF0ZVN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaXNvRGF0ZVN0cmluZyArPSAoXCI6XCIgKyBEYXRlVGltZS5udW1iZXJUb0RvdWJsZURpZ2l0c1N0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkpO1xyXG4gICAgICAgICAgICBpZiAoXCJtaW5cIiA9PT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNvRGF0ZVN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaXNvRGF0ZVN0cmluZyArPSAoXCI6XCIgKyBEYXRlVGltZS5udW1iZXJUb0RvdWJsZURpZ2l0c1N0cmluZyhkYXRlLmdldFNlY29uZHMoKSkpO1xyXG4gICAgICAgICAgICBpZiAoXCJzZWNcIiA9PT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNvRGF0ZVN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaXNvRGF0ZVN0cmluZyArPSAoXCIuXCIgKyBTdHJpbmcoKGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgLyAxMDAwKS50b0ZpeGVkKDMpKS5zbGljZSgyLCA1KSk7XHJcbiAgICAgICAgICAgIHJldHVybiBpc29EYXRlU3RyaW5nO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbnZlcnQgZmlsZSBzeXN0ZW0gY29tcGF0aWJsZSBzdHJpbmcgdG8gZGF0ZSBvYmplY3RcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRlIHN0cmluZyBleCkgeXl5eV9NTV9kZFRISF9tbV9zc19TU1NcclxuICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGRhdGUgb2JqZWN0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBjb252ZXJ0RmlsZVN5c3RlbVN0cmluZ1RvRGF0ZShkYXRlU3RyaW5nOiBzdHJpbmcpOiBEYXRlIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0ZVRpbWUgPSBkYXRlU3RyaW5nLnNwbGl0KFwiVFwiKSxcclxuICAgICAgICAgICAgICAgIGRhdGVBcnJheSA9IGRhdGVUaW1lWzBdLnNwbGl0KFwiX1wiKTtcclxuICAgICAgICAgICAgbGV0IHRpbWVBcnJheSwgZGF0ZU9iamVjdDtcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRlVGltZVsxXSkge1xyXG4gICAgICAgICAgICAgICAgdGltZUFycmF5ID0gZGF0ZVRpbWVbMV0uc3BsaXQoXCJfXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGltZUFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlT2JqZWN0ID0gbmV3IERhdGUoPGFueT5kYXRlQXJyYXlbMF0sIDxhbnk+ZGF0ZUFycmF5WzFdIC0gMSwgPGFueT5kYXRlQXJyYXlbMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgPGFueT50aW1lQXJyYXlbMF0sIDxhbnk+dGltZUFycmF5WzFdLCA8YW55PnRpbWVBcnJheVsyXSwgPGFueT50aW1lQXJyYXlbM10pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGVBcnJheVsyXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVPYmplY3QgPSBuZXcgRGF0ZSg8YW55PmRhdGVBcnJheVswXSwgPGFueT5kYXRlQXJyYXlbMV0gLSAxLCA8YW55PmRhdGVBcnJheVsyXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGVBcnJheVsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVPYmplY3QgPSBuZXcgRGF0ZSg8YW55PmRhdGVBcnJheVswXSwgPGFueT5kYXRlQXJyYXlbMV0gLSAxKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZU9iamVjdCA9IG5ldyBEYXRlKDxhbnk+ZGF0ZUFycmF5WzBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRhdGVPYmplY3Q7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAgQ29udmVydCBhIGRhdGUgb2JqZWN0IGludG8gYSBzdHJpbmcgaW4gZmlsZSBzeXN0ZW0gY29tcGF0aWJsZSBmb3JtYXQoeXl5eV9NTV9kZFRISF9tbV9zc19TU1MpXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZGF0ZSAgIHtEYXRlfSAgIFtpbl0gZGF0ZSBvYmplY3RcclxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IHtTdHJpbmd9IFtpbl0ge3llYXIgfCBtb250aCB8IGRhdGUgfCBob3VyIHwgbWluIHwgc2VjIHwgbXNlYyB9XHJcbiAgICAgICAgICogQHJldHVybiB7U3RyaW5nfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY29udmVydERhdGVUb0ZpbGVTeXN0ZW1TdHJpbmcoZGF0ZTogRGF0ZSwgdGFyZ2V0OiBzdHJpbmcgPSBcIm1zZWNcIik6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIGxldCBmaWxlU3lzdGVtU3RyaW5nO1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ5ZWFyXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibW9udGhcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRlXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiaG91clwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm1pblwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNlY1wiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm1zZWNcIjpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRyArIFwidW5rbm93biB0YXJnZXQ6IFwiICsgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBcIm1zZWNcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZmlsZVN5c3RlbVN0cmluZyA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgaWYgKFwieWVhclwiID09PSB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmaWxlU3lzdGVtU3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmaWxlU3lzdGVtU3RyaW5nICs9IChcIl9cIiArIERhdGVUaW1lLm51bWJlclRvRG91YmxlRGlnaXRzU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpKTtcclxuICAgICAgICAgICAgaWYgKFwibW9udGhcIiA9PT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsZVN5c3RlbVN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZmlsZVN5c3RlbVN0cmluZyArPSAoXCJfXCIgKyBEYXRlVGltZS5udW1iZXJUb0RvdWJsZURpZ2l0c1N0cmluZyhkYXRlLmdldERhdGUoKSkpO1xyXG4gICAgICAgICAgICBpZiAoXCJkYXRlXCIgPT09IHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbGVTeXN0ZW1TdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZpbGVTeXN0ZW1TdHJpbmcgKz0gKFwiVFwiICsgRGF0ZVRpbWUubnVtYmVyVG9Eb3VibGVEaWdpdHNTdHJpbmcoZGF0ZS5nZXRIb3VycygpKSk7XHJcbiAgICAgICAgICAgIGlmIChcImhvdXJcIiA9PT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsZVN5c3RlbVN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZmlsZVN5c3RlbVN0cmluZyArPSAoXCJfXCIgKyBEYXRlVGltZS5udW1iZXJUb0RvdWJsZURpZ2l0c1N0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkpO1xyXG4gICAgICAgICAgICBpZiAoXCJtaW5cIiA9PT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsZVN5c3RlbVN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZmlsZVN5c3RlbVN0cmluZyArPSAoXCJfXCIgKyBEYXRlVGltZS5udW1iZXJUb0RvdWJsZURpZ2l0c1N0cmluZyhkYXRlLmdldFNlY29uZHMoKSkpO1xyXG4gICAgICAgICAgICBpZiAoXCJzZWNcIiA9PT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsZVN5c3RlbVN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZmlsZVN5c3RlbVN0cmluZyArPSAoXCJfXCIgKyBTdHJpbmcoKGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgLyAxMDAwKS50b0ZpeGVkKDMpKS5zbGljZSgyLCA1KSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmaWxlU3lzdGVtU3RyaW5nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBwcml2YXRlIHN0YXRpYyBtZXRob2RcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29udmVydCBudW0gdG8gc3RyaW5nKGRvdWJsZSBkaWdpdHMpXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG51bWJlciAoMCA8bnVtYmVyIDwgMTAwKVxyXG4gICAgICAgICAqIEByZXR1cm4ge1N0cmluZ30gZG91YmxlIGRpZ2l0cyBzdHJpbmdcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBudW1iZXJUb0RvdWJsZURpZ2l0c1N0cmluZyhudW06IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIGlmIChudW0gPCAwIHx8IG51bSA+IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG51bSA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCIwXCIgKyBudW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFwiXCIgKyBudW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8vLyA8cmVmZXJlbmNlIHR5cGVzPVwianF1ZXJ5XCIgLz5cclxuXHJcbm5hbWVzcGFjZSBDRFAuVG9vbHMge1xyXG5cclxuICAgIGNvbnN0IFRBRyA9IFwiW0NEUC5Ub29scy5UZW1wbGF0ZV0gXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaW50ZXJmYWNlIEpTVFxyXG4gICAgICogQGJyaWVmIOOCs+ODs+ODkeOCpOODq+a4iOOBvyDjg4bjg7Pjg5fjg6zjg7zjg4jmoLzntI3jgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBKU1Qge1xyXG4gICAgICAgIChkYXRhPzogYW55KTogc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIC8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAY2xhc3MgVGVtcGxhdGVcclxuICAgICAqIEBicmllZiB0ZW1wbGF0ZSBzY3JpcHQg44KS566h55CG44GZ44KL44Om44O844OG44Kj44Oq44OG44Kj44Kv44Op44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjbGFzcyBUZW1wbGF0ZSB7XHJcblxyXG4gICAgICAgIHN0YXRpYyBfbWFwRWxlbWVudDogYW55OyAgICAvLyE8IOOCreODvOOBqCBKUXVlcnkgRWxlbWVudCDjga4gTWFwIOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgIHN0YXRpYyBfbWFwU291cmNlOiBhbnk7ICAgICAvLyE8IFVSTCDjgagg44K944O844K544OV44Kh44Kk44OrKEhUTUwpIOOBriBNYXAg44Kq44OW44K444Kn44Kv44OIXHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8g5YWs6ZaL44Oh44K944OD44OJXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOaMh+WumuOBl+OBnyBpZCwgY2xhc3Mg5ZCNLCBUYWcg5ZCN44KS44Kt44O844Gr44OG44Oz44OX44Os44O844OI44GuIEpRdWVyeSBFbGVtZW50IOOCkuWPluW+l+OBmeOCi+OAglxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9ICBrZXkgICAgIFtpbl0gaWQsIGNsYXNzLCB0YWcg44KS6KGo44GZ5paH5a2X5YiXXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9ICBbc3JjXSAgIFtpbl0g5aSW6YOoIGh0bWwg44KS5oyH5a6a44GZ44KL5aC05ZCI44GvIHVybCDjgpLoqK3lrppcclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjYWNoZV0gW2luXSBzcmMgaHRtbCDjgpLjgq3jg6Pjg4Pjgrfjg6XjgZnjgovloLTlkIjjga8gdHJ1ZS4gc3JjIOOBjOaMh+WumuOBleOCjOOBpuOBhOOCi+OBqOOBjeOBruOBv+acieWKuVxyXG4gICAgICAgICAqIEByZXR1cm4gdGVtcGxhdGUg44GM5qC857SN44GV44KM44Gm44GE44KLIEpRdWVyeSBFbGVtZW50XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3RhdGljIGdldFRlbXBsYXRlRWxlbWVudChrZXk6IHN0cmluZywgc3JjOiBzdHJpbmcgPSBudWxsLCBjYWNoZTogYm9vbGVhbiA9IHRydWUpOiBKUXVlcnkge1xyXG4gICAgICAgICAgICBjb25zdCBtYXBFbGVtZW50ID0gVGVtcGxhdGUuZ2V0RWxlbWVudE1hcCgpO1xyXG4gICAgICAgICAgICBsZXQgJGVsZW1lbnQgPSBtYXBFbGVtZW50W2tleV07XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEkZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcmMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaHRtbCA9IFRlbXBsYXRlLmZpbmRIdG1sRnJvbVNvdXJjZShzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxlbWVudCA9ICQoaHRtbCkuZmluZChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbGVtZW50ID0gJChrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyDopoHntKDjga7mpJzoqLxcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJGVsZW1lbnQgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAoXCJpbnZhbGlkIFtrZXksIHNyY10gPSBbXCIgKyBrZXkgKyBcIiwgXCIgKyBzcmMgKyBcIl1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcmMgJiYgY2FjaGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFwRWxlbWVudFtrZXldID0gJGVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHICsgZXhjZXB0aW9uKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gJGVsZW1lbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBNYXAg44Kq44OW44K444Kn44Kv44OI44Gu5YmK6ZmkXHJcbiAgICAgICAgICog5piO56S655qE44Gr44Kt44Oj44OD44K344Ol44KS6ZaL5pS+44GZ44KL5aC05ZCI44Gv5pys44Oh44K944OD44OJ44KS44Kz44O844Or44GZ44KLXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3RhdGljIGVtcHR5KCk6IHZvaWQge1xyXG4gICAgICAgICAgICBUZW1wbGF0ZS5fbWFwRWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgICAgIFRlbXBsYXRlLl9tYXBTb3VyY2UgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5oyH5a6a44GX44GfIGlkLCBjbGFzcyDlkI0sIFRhZyDlkI3jgpLjgq3jg7zjgasgSlNUIOOCkuWPluW+l+OBmeOCi+OAglxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmcgfCBqUXVlcnl9IGtleSAgICAgW2luXSBpZCwgY2xhc3MsIHRhZyDjgpLooajjgZnmloflrZfliJcg44G+44Gf44GvIOODhuODs+ODl+ODrOODvOODiOaWh+Wtl+WIlywg44G+44Gf44GvIGpRdWVyeSDjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgICAgICAgW3NyY10gICBbaW5dIOWklumDqCBodG1sIOOCkuaMh+WumuOBmeOCi+WgtOWQiOOBryB1cmwg44KS6Kit5a6aXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgICAgIFtjYWNoZV0gW2luXSBzcmMgaHRtbCDjgpLjgq3jg6Pjg4Pjgrfjg6XjgZnjgovloLTlkIjjga8gdHJ1ZS4gc3JjIOOBjOaMh+WumuOBleOCjOOBpuOBhOOCi+OBqOOBjeOBruOBv+acieWKuVxyXG4gICAgICAgICAqIEByZXR1cm4g44Kz44Oz44OR44Kk44Or44GV44KM44GfIEpTVCDjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAgICAgKi9cclxuICAgICAgICBzdGF0aWMgZ2V0SlNUKGtleTogSlF1ZXJ5KTogSlNUO1xyXG4gICAgICAgIHN0YXRpYyBnZXRKU1Qoa2V5OiBzdHJpbmcsIHNyYz86IHN0cmluZywgY2FjaGU/OiBib29sZWFuKTogSlNUO1xyXG4gICAgICAgIHN0YXRpYyBnZXRKU1Qoa2V5OiBhbnksIHNyYz86IHN0cmluZywgY2FjaGU/OiBib29sZWFuKTogSlNUIHtcclxuICAgICAgICAgICAgbGV0IHRlbXBsYXRlOiBhbnkgPSBudWxsO1xyXG4gICAgICAgICAgICBsZXQganN0OiBKU1Q7XHJcbiAgICAgICAgICAgIGxldCAkZWxlbWVudDogSlF1ZXJ5O1xyXG4gICAgICAgICAgICBpZiAoa2V5IGluc3RhbmNlb2YgalF1ZXJ5KSB7XHJcbiAgICAgICAgICAgICAgICAkZWxlbWVudCA9IGtleTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRlbGVtZW50ID0gVGVtcGxhdGUuZ2V0VGVtcGxhdGVFbGVtZW50KGtleSwgc3JjLCBjYWNoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG51bGwgIT0gZ2xvYmFsLkhvZ2FuKSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IEhvZ2FuLmNvbXBpbGUoJGVsZW1lbnQudGV4dCgpKTtcclxuICAgICAgICAgICAgICAgIGpzdCA9IGZ1bmN0aW9uIChkYXRhPzogYW55KTogc3RyaW5nIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGUucmVuZGVyKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChudWxsICE9IGdsb2JhbC5fKSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IF8udGVtcGxhdGUoJGVsZW1lbnQuaHRtbCgpKTtcclxuICAgICAgICAgICAgICAgIGpzdCA9IGZ1bmN0aW9uIChkYXRhPzogYW55KTogc3RyaW5nIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyDmlLnooYzjgajjgr/jg5bjga/liYrpmaTjgZnjgotcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGUoZGF0YSkucmVwbGFjZSgvXFxufFxcdC9nLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHICsgXCJjYW5ub3QgZmluZCB0ZW1wbGF0ZSBlbmdpbmUgbW9kdWxlLlwiKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIiAgICAnaG9nYW4nIG9yICd1bmRlcnNjb3JlJyBpcyByZXF1aXJlZC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGpzdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8g5YaF6YOo44Oh44K944OD44OJXHJcblxyXG4gICAgICAgIC8vISBFbGVtZW50IE1hcCDjgqrjg5bjgrjjgqfjgq/jg4jjga7lj5blvpdcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBnZXRFbGVtZW50TWFwKCk6IGFueSB7XHJcbiAgICAgICAgICAgIGlmICghVGVtcGxhdGUuX21hcEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIFRlbXBsYXRlLl9tYXBFbGVtZW50ID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFRlbXBsYXRlLl9tYXBFbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIFVSTCBNYXAg44Kq44OW44K444Kn44Kv44OI44Gu5Y+W5b6XXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgZ2V0U291cmNlTWFwKCk6IGFueSB7XHJcbiAgICAgICAgICAgIGlmICghVGVtcGxhdGUuX21hcFNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgVGVtcGxhdGUuX21hcFNvdXJjZSA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBUZW1wbGF0ZS5fbWFwU291cmNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIFVSTCBNYXAg44GL44KJIEhUTUwg44KS5qSc57SiLiDlpLHmlZfjgZfjgZ/loLTlkIjjga8gdW5kZWZpbmVkIOOBjOi/lOOCi1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGZpbmRIdG1sRnJvbVNvdXJjZShzcmM6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hcFNvdXJjZSA9IFRlbXBsYXRlLmdldFNvdXJjZU1hcCgpO1xyXG4gICAgICAgICAgICBsZXQgaHRtbCA9IG1hcFNvdXJjZVtzcmNdO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFodG1sKSB7XHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogc3JjLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgICAgICBhc3luYzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogKGRhdGE6IGFueSwgc3RhdHVzOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwiYWpheCByZXF1ZXN0IGZhaWxlZC4gc3RhdHVzOiBcIiArIHN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyDjgq3jg6Pjg4Pjgrfjg6XjgavmoLzntI1cclxuICAgICAgICAgICAgICAgIG1hcFNvdXJjZVtzcmNdID0gaHRtbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaHRtbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZGVjbGFyZSBtb2R1bGUgXCJjZHAudG9vbHNcIiB7XHJcbiAgICBjb25zdCBUb29sczogdHlwZW9mIENEUC5Ub29scztcclxuICAgIGV4cG9ydCA9IFRvb2xzO1xyXG59XHJcbiJdfQ=="]}