{"version":3,"sources":["dist/cdp.js"],"names":["root","factory","define","amd","exports","module","this","self","global","TAG","CDP","Patch","_apply","console","error","_consolePatch","MSApp","_nodePatch","count","groupEnd","time","timeEnd","trace","group","dirxml","debug","groupCollapsed","select","info","profile","assert","msIsIndependentlyComposed","clear","dir","warn","log","profileEnd","originalAppendChild","Node","prototype","appendChild","node","_this","execUnsafeLocalFunction","call","originalInsertBefore","insertBefore","newElement","referenceElement","apply","_webRoot","location","baseUrl","exec","href","_init","options","setTimeout","success","msg","message","fail","Config","initialize","webRoot","$","require","jQuery","makeCancelable","df","extendOptions","cancel","cancelCallback","_abort","detail","dependency","abort","callReject","state","reject","_dependOn","promise","always","_target","extend","target","dependOn","makePromise","cancelable","bind","wait","deferreds","_i","arguments","length","_deferreds","concat","Deferred","results","initialized","isFinished","some","element","status","forEach","deferred","index","push","args","then","resolve","race","PromiseManager","_pool","_id","add","cookie","id","filter","promises","map","PromiseConstructor","executor","value","reason","all","when","Promise","webpackUniversalModuleDefinition","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","modules","installedModules","__webpack_require__","moduleId","i","l","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","hasOwnProperty","p","s","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","undefined","initializeI18N","settings","i18nSettings","i18nOptions","resources","lng","ns","getLocaleFallbackResource","fallbackResources","__WEBPACK_AMD_REQUIRE_ARRAY__","$18Next","i18next","Backend","Cache","PostProcessor","LanguageDetector","use","init","t","tName","i18nName","handleName","selectorAttr","targetAttr","optionsAttr","useOptionsAttr","parseDefaultValueFromContent","preload","_preload_1","_resources_1","loadLanguages","i18n","catch","oe","path","json","ajax","url","toUrl","method","async","dataType","data","xhr","slice","jqueryI18next","_extends","assign","source","key","defaults","parse","ele","opts","attr","indexOf","parts","split","substr","extendDefault","val","defaultValue","html","text","prepend","append","dataAttr","translated","localize","targetSelector","find","keys","each","k","clone","handle","elements","fn","_typeof","Symbol","iterator","obj","constructor","classCallCheck","instance","Constructor","TypeError","inherits","subClass","superClass","create","writable","setPrototypeOf","__proto__","possibleConstructorReturn","ReferenceError","slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","next","done","err","Array","isArray","toConsumableArray","arr2","from","consoleLogger","type","output","_console","Logger","concreteLogger","prefix","logger","setDebug","bool","_len","_key","forward","_len2","_key2","_len3","_key3","deprecate","_len4","_key4","lvl","debugOnly","moduleName","baseLogger","EventEmitter","observers","on","events","listener","event","off","_this2","splice","emit","cloned","observer","_cloned","_ref","makeString","copy","a","getLastOfPath","Empty","cleanKey","replace","canNotTraverseDeeper","stack","shift","setPath","newValue","_getLastOfPath","pushPath","_getLastOfPath2","getPath","_getLastOfPath3","deepExtend","overwrite","prop","String","regexEscape","str","_entityMap","&","<",">","\"","'","/","escape","ResourceStore","_EventEmitter","defaultNS","addNamespaces","removeNamespaces","getResource","keySeparator","addResource","silent","addResources","addResourceBundle","deep","pack","removeResourceBundle","hasResourceBundle","getResourceBundle","compatibilityAPI","toJSON","postProcessor","processors","addPostProcessor","translator","processor","process","convertInterpolation","interpolation","unescapeSuffix","interpolationPrefix","suffix","interpolationSuffix","escapeValue","escapeInterpolation","nestingPrefix","reusePrefix","nestingSuffix","reuseSuffix","convertAPIOptions","resStore","defaultNs","namespaces","fallbackToDefaultNS","fallbackNS","saveMissing","sendMissing","saveMissingTo","sendMissingTo","returnNull","fallbackOnNull","returnEmptyString","fallbackOnEmpty","returnObjects","returnObjectTrees","joinArrays","returnedObjectHandler","objectTreeKeyHandler","parseMissingKeyHandler","parseMissingKey","appendNamespaceToMissingKey","nsSeparator","nsseparator","keyseparator","shortcutFunction","overloadTranslationOptionHandler","values","postProcess","sprintf","whitelist","lngWhitelist","load","backend","loadPath","resGetPath","addPath","resPostPath","allowMultiLoading","dynamicLoad","cache","expirationTime","enabled","useLocalStorage","defaultVariables","convertJSONOptions","convertTOptions","appendBackwardsAPI","services","languageUtils","toResolveHierarchy","language","lngs","cb","setLng","callback","fixLng","getFixedT","changeLanguage","fc","Translator","exists","extractFromKey","join","translate","_extractFromKey","namespace","appendNamespaceToCIMode","toLowerCase","res","resType","toString","noObject","copy$$1","extendTranslation","usedDefault","usedKey","isValidLookup","fallbackLngs","getFallbackCodes","fallbackLng","missingKeyHandler","backendConnector","interpolator","interpolate","nest","reset","postProcessorNames","applyPostProcessor","_this3","found","extracted","needsPluralHandling","needsContextHandling","context","codes","code","finalKey","finalKeys","pluralSuffix","pluralResolver","getSuffix","contextSeparator","possibleKey","pop","resourceStore","capitalize","string","charAt","toUpperCase","LanguageUtil","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","specialCases","lowerCaseLng","part","cleanCode","isWhitelisted","nonExplicitWhitelist","fallbacks","default","fallbackCode","fallbackCodes","addCode","sets","nr","_rulesPluralsTypes","1","_","Number","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","createRules","rules","set$$1","numbers","plurals","PluralResolver","addRule","getRule","needsPlural","rule","_ret","v","idx","noAbs","Math","abs","simplifyPluralSuffix","returnSuffix","compatibilityJSON","Interpolator","format","iOpts","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","nestingPrefixEscaped","nestingSuffixEscaped","resetRegExp","regexpStr","regexp","RegExp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","nestingRegexp","match","regexSafe","handleFormat","trim","f","lastIndex","clonedOptions","handleHasOptions","optionsString","JSON","e","remove","what","Connector","store","queue","queueLoad","languages","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","loaded","errors","_name$split","_name$split2","q","read","fcName","tried","_this4","_this5","readMulti","_name$split3","_name$split4","bundle","loadOne","reload","_this6","_this7","_name$split5","_name$split6","fallbackValue","Connector$1","loadLngs","save","get$1","initImmediate","pluralSeparator","_format","transformOptions","noop","I18n","external","isInitialized","isClone","createClassOnDemand","ClassOrObject","lu","cacheConnector","languageDetector","detection","storeApi","_store","loadResources","_ret3","reloadResources","cacheUserLanguage","detect","fixedT","_translator","_translator2","setDefaultNamespace","loadNamespaces","preloaded","newLngs","rtlLngs","createInstance","cloneInstance","mergedOptions","membersToCopy","i18nextXHRBackend","addQueryString","params","queryString","encodeURIComponent","paramName","Date","queryStringParams","x","XMLHttpRequest","ActiveXObject","open","crossDomain","setRequestHeader","withCredentials","h","customHeaders","onreadystatechange","readyState","responseText","send","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_classCallCheck","getDefaults","loadUrl","ret","payload","i18nextLocalStorageCache","debounce","func","immediate","timeout","later","callNow","clearTimeout","storage","setItem","window","localStorage","getItem","versions","debouncedStore","nowMS","getTime","todo","local","i18nStamp","i18nVersion","storeParam","stringify","i18nextSprintfPostProcessor","babelHelpers","typeof","re","not_string","number","not_json","modulo","placeholder","key_access","index_access","sign","parse_tree","argv","cursor","tree_length","node_type","arg","pad","pad_character","pad_length","is_positive","get_type","Error","test","isNaN","fromCharCode","parseInt","toExponential","parseFloat","toFixed","toPrecision","substring","str_repeat","fmt","_fmt","arg_names","field_list","replacement_field","field_match","SyntaxError","vsprintf","_argv","variable","input","multiplier","i18nextBrowserLanguageDetector","createClass","minutes","domain","expires","date","setTime","toGMTString","document","nameEQ","ca","cookie$1","lookup","lookupCookie","cookieMinutes","cookieDomain","querystring","query","search","pos","lookupQuerystring","hasLocalStorageSupport","testKey","removeItem","lookupLocalStorage","navigator$1","navigator","userLanguage","htmlTag","documentElement","getAttribute","order","caches","excludeCacheFor","Browser","detectors","addDetector","detector","detectionOrder","detected","detectorName","cleanedLng","cacheName","__WEBPACK_EXTERNAL_MODULE_5__","doc","mobile","uuid","runiqueId","ui","version","keyCode","BACKSPACE","COMMA","DELETE","DOWN","END","ENTER","ESCAPE","HOME","LEFT","PAGE_DOWN","PAGE_UP","PERIOD","RIGHT","SPACE","TAB","UP","focus","orig","delay","elem","scrollParent","ie","css","parents","eq","ownerDocument","uniqueId","removeUniqueId","removeAttr","focusable","isTabIndexNotNaN","mapName","img","nodeName","parentNode","visible","disabled","expr","filters","addBack","createPseudo","dataName","tabbable","tabIndex","isTabIndexNaN","outerWidth","jquery","side","innerWidth","innerHeight","outerHeight","reduce","size","border","margin","selector","prevObject","removeData","camelCase","userAgent","support","selectstart","createElement","disableSelection","preventDefault","enableSelection","unbind","zIndex","position","parent","plugin","option","set","proto","plugins","allowDisconnected","nodeType","compensateToolbars","page","desiredHeight","pageParent","toolbarsAffectingHeight","noPadders","theElement","widgetOptions","toolbar","updatePagePadding","externalHeaders","children","internalHeaders","externalFooters","internalFooters","toArray","max","behaviors","silentScroll","ypos","defaultHomeScroll","special","scrollstart","scrollTo","trigger","y","getClosestBaseUrl","closest","jqmData","base","documentBase","hrefNoHash","dynamicBaseEnabled","isPath","makeUrlAbsolute","removeActiveLinkClass","forceRemoval","activeClickedLink","activePageClass","removeClass","activeBtnClass","getInheritedTheme","el","defaultTheme","ltr","className","enhanceable","haveParents","hijackable","ignoreContentEnabled","$newSet","$element","excluded","getScreenHeight","height","resetActivePageHeight","pageHeight","pageOuterHeight","loading","loader","_widget","defaultHtml","returnValue","addDependents","newDependents","$elem","dependents","removeWithDependents","enhanceWithin","widgetElements","keepNative","keepNativeSelector","that","nojs","links","degradeInputsWithin","buttonMarkup","initSelector","not","jqmEnhanceable","fieldcontain","widgets","widgetName","getEncodedText","jqmHijackable","nativeElement","matches","matchesSelector","subPageUrlKey","hideUrlBar","focusClass","ajaxEnabled","hashListeningEnabled","linkBindingEnabled","defaultPageTransition","maxTransitionWidth","minScrollBack","defaultDialogTransition","pageLoadErrorMessage","pageLoadErrorMessageTheme","phonegapNavigationEnabled","autoInitializePage","pushStateEnabled","hoverDelay","pageContainer","allowCrossDomainPages","dialogHashKey","_cleanData","cleanData","elems","triggerHandler","widget","fullName","existingConstructor","basePrototype","proxiedPrototype","Widget","_createWidget","_proto","_childConstructors","isFunction","_super","_superApply","__super","__superApply","widgetEventPrefix","widgetFullName","child","childPrototype","bridge","inputIndex","inputLength","isPlainObject","isMethodCall","methodValue","pushStack","defaultElement","eventNamespace","_getCreateOptions","bindings","hoverable","_on","destroy","style","defaultView","parentWindow","_create","_trigger","_getCreateEventData","_destroy","curOption","_setOptions","_setOption","toggleClass","enable","disable","suppressDisabledCheck","handlers","delegateElement","handler","handlerProxy","hasClass","guid","eventName","delegate","_off","undelegate","_delay","_hoverable","mouseenter","currentTarget","addClass","mouseleave","_focusable","focusin","focusout","Event","originalEvent","isDefaultPrevented","show","hide","defaultEffect","effect","hasOptions","effectName","duration","isEmptyObject","complete","effects","easing","nsNormalizeDict","oldFind","rbrace","jqmDataRE","nsNormalize","closestPageData","$target","result","jqmRemoveData","extra","rcapitals","replaceFunction","loaderClass","$html","theme","textVisible","fakeFixLoader","activeBtn","first","top","scrollTop","offset","checkLoaderPosition","screenHeight","proxy","resetHtml","msgText","textonly","loadSettings","appendTo","pagecontainer","str_hashchange","fake_onhashchange","doc_mode","documentMode","supports_onhashchange","get_fragment","setup","start","teardown","stop","timeout_id","last_hash","fn_retval","history_set","history_get","poll","hash","history_hash","attachEvent","addEventListener","iframe","iframe_src","src","one","insertAfter","contentWindow","onpropertychange","propertyName","title","iframe_doc","write","close","matchMedia","docElem","refNode","firstElementChild","firstChild","fakeBody","div","cssText","background","innerHTML","offsetWidth","removeChild","media","touch","orientation","propExists","uc_prop","vendors","fbCSS","prependTo","webos","operamini","bb","blackberry","nokiaLTE7_3","inlineSVG","w","svg","createElementNS","createSVGRect","opera","Image","onerror","onload","width","transform3dTest","mqProp","transforms","MozTransform","transform","getComputedStyle","getPropertyValue","baseTagTest","fauxBase","protocol","host","pathname","fauxEle","link","rebase","cssPointerEventsTest","supports","pointerEvents","boundingRect","getBoundingClientRect","browser","oldIE","fixedPosition","ua","platform","wkmatch","wkversion","ffmatch","ffversion","operammobilematch","omversion","pushState","history","mediaquery","cssPseudoElement","touchOverflow","cssTransform3d","boxShadow","dynamicBaseTag","cssPointerEvents","gradeA","ajaxBlacklist","WebKitPoint","$win","dummyFnToInitNavigate","beforenavigate","navigate","bound","originalEventName","isPushStateEnabled","isHashChangeEnabled","popstate","newEvent","beforeNavigate","historyState","hashchange","hashchangeState","$base","uiStateKey","urlParseRE","getLocation","parsedUrl","parseUrl","uri","doubleSlash","getDocumentUrl","asParsedObject","documentUrl","parseLocation","hrefNoSearch","authority","username","password","hostname","port","directory","filename","makePathAbsolute","relPath","absPath","absStack","relStack","isSameDomain","absUrl1","absUrl2","isRelativeUrl","isAbsoluteUrl","relUrl","absUrl","relObj","absObj","hasPath","addSearchParams","u","param","convertUrlToDataUrl","isEmbeddedPage","decodeURIComponent","newPath","stripHash","clean","stripQueryParams","cleanHash","isHashValid","isExternal","hasProtocol","documentBaseDiffers","squash","resolutionUrl","cleanedUrl","stateIndex","docUrl","preservedHash","uiState","isPreservableHash","hashToSelector","hasHash","getFilePath","isFirstPageUrl","samePath","fp","firstPage","fpId","isPermittedCrossDomainRequest","reqUrl","getDocumentBase","History","activeIndex","getActive","getLast","previousIndex","getNext","getPrev","clearForward","earlyReturn","entry","direct","newActiveIndex","present","back","missing","initialHref","Navigator","ignoreInitialHashChange","popstate.history","hashchange.history","replaceState","parsed","loc","resolved","go","noEvents","popstateEvent","isPopStateEvent","preventNextHashChange","preventHashAssignPopState","ignorePopState","stopImmediatePropagation","historyEntry","direction","animation","transition","testElement","vendorPrefixes","testName","j","cssTransitions","cssAnimations","animationComplete","fallbackTime","timer","eventBinding","animationType","defaultDuration","dataPropertyName","touchTargetPropertyName","virtualEventNames","touchEventProps","mouseHookProps","mouseHooks","mouseEventProps","activeDocHandlers","resetTimerID","startX","startY","didScroll","clickBlockList","blockMouseTriggers","blockTouchTriggers","eventCaptureSupported","$document","nextTouchID","lastTouchID","threshold","vmouse","moveDistanceThreshold","clickDistanceThreshold","resetTimerDuration","getNativeEvent","createVirtualEvent","eventType","ne","ct","len","which","touches","changedTouches","getVirtualBindingFlags","flags","b","hasVirtualBinding","getClosestElementWithVirtualBinding","enableTouchBindings","disableTouchBindings","enableMouseBindings","disableMouseBindings","startResetTimer","clearResetTimer","triggerVirtualEvent","ve","mouseEventCallback","touchID","isPropagationStopped","stopPropagation","isImmediatePropagationStopped","handleTouchStart","pageX","pageY","handleScroll","handleTouchMove","didCancel","moveThreshold","handleTouchEnd","clientX","clientY","hasVirtualBindings","dummyMouseHandler","getSpecialEventObject","realType","$this","cnt","supportTouch","scrollEvent","touchStartEvent","touchStopEvent","touchMoveEvent","attrFn","triggerCustomEvent","bubble","originalType","dispatch","thisObject","scrolling","tap","tapholdThreshold","emitTapOnTaphold","isTaphold","origTarget","clearTapTimer","clearTapHandlers","clickHandler","swipe","scrollSupressionThreshold","durationThreshold","horizontalDistanceThreshold","verticalDistanceThreshold","winPageX","pageXOffset","winPageY","pageYOffset","floor","coords","origin","handleSwipe","swipestart","swipestop","eventInProgress","emitted","move","scrollstop","taphold","swipeleft","swiperight","sourceEvent","throttledresize","throttle","curr","diff","lastCall","heldCall","win","event_name","get_orientation","last_orientation","initial_orientation_is_landscape","initial_orientation_is_default","portrait_map","0","180","ww","wh","landscape_threshold","-90","90","orientationchange","handleObj","old_handler","isPortrait","clientWidth","clientHeight","baseElement","linkSelector","rewrite","thisAttr","is","theLocation","thisUrl","originalWidget","keepNativeFactoryDefault","domCache","keepNativeDefault","contentTheme","enhanced","_enhance","pagebeforehide","pagebeforeshow","dialog","attrPrefix","role","bindRemove","samePage","prEvent","_handlePageBeforeShow","setContainerBackground","removeContainerBackground","globalValue","optionValue","newDefault","oldDefault","setLastScrollEnabled","pagechange","_disableRecordScroll","_enableRecordScroll","_afterContentChange","_recordScroll","active","_getActiveHistory","currentScroll","minScroll","defaultScroll","_getScroll","_getMinScroll","_getDefaultScroll","lastScroll","_delayedRecordScroll","_filterNavigateEvents","_getHash","_handleNavigate","getActivePage","activePage","_getInitialContent","_getHistory","_getDocumentBase","steps","change","changeHash","fromHashChange","_handleDestination","to","_transitionFromHistory","defaultTransition","_handleDialog","changePageOptions","activeContent","pageUrl","reverse","_changeContent","changePage","_getBase","_getNs","content","_include","_find","fileUrl","_createFileUrl","dataUrl","_createDataUrl","initialContent","_getLoader","_showLoading","_loadMsg","_hideLoading","_showError","_parse","_setLoadedTitle","newPageTitle","$1","_isRewritableBaseTag","absoluteUrl","_triggerWithDeprecated","deprecatedEvent","_loadSuccess","triggerData","textStatus","pageElemRegex","dataUrlRegex","prefetch","toPage","showLoadMsg","_loadDefaults","reloadPage","loadMsgDelay","reloadOptionExtension","_findBaseWithDefault","pblEvent","prevPage","fromPage","contentType","_loadError","errorThrown","plfEvent","_getTransitionHandler","_maybeDegradeTransition","transitionHandlers","defaultTransitionHandler","_triggerCssTransitionEvents","nextPage","_cssTransition","TransitionHandler","_releaseTransitionLock","isPageTransitioning","pageTransitionQueue","_removeActiveLinkClass","force","_loadUrl","_triggerPageBeforeChange","returnEvents","unshift","activeIsInitialPage","historyDir","pageTitle","isDialog","alreadyThere","cssTransitionDeferred","beforeTransition","allowSamePageTransition","activeElement","blur","encodeURI","$to","$from","alreadyFocused","duplicateCachedPage","focusPage","closestBase","navreadyDeferred","domreadyDeferred","loadDeferred","pageIsFullyLoaded","$lastVClicked","findClosestLink","loadPage","container","nav","app","backHistory","autofocus","_registerInternalEvents","getAjaxFormData","$form","calculateOnly","formData","vclickedName","serializeArray","form","$btn","btnEls","needClosest","outer","$link","httpCleanup","useDefaultUrlHandling","urls","inArray","Transition","toPreClass","cleanFrom","beforeDoneIn","beforeDoneOut","beforeStartOut","doneIn","toggleViewportClass","toScroll","scrollPage","sequential","doneOut","reverseClass","none","preventFocus","startIn","hideIn","startOut","maxTransitionOverride","getMaxScrollForTransition","SerialTransition","ConcurrentTransition","defaultGetMaxScrollForTransition","simultaneous","transitionFallbacks","flip","flow","slide","slidedown","slidefade","slideup","turn","degradeInputs","color","datetime","datetime-local","email","month","range","tel","week","optType","hasType","findstr","repstr","replaceWith","closeBtn","closeBtnText","overlayTheme","corners","_inner","_headerCloseButton","_setCloseBtn","wrapInner","class","closeButtonLocation","closeButtonText","currentOpts","dst","btn","_isCloseable","_handlePageBeforeHide","_handleVClickSubmit","attrs","vclick","submit","click","hist","rInitialLetter","iconposClass","iconpos","expandCueText","collapseCueText","collapsed","heading","collapsedIcon","expandedIcon","inset","mini","accordion","collapsibleset","_ui","_renderedOptions","_getOptions","anchor","_handleExpandCollapse","accordionWidget","collapsible","_themeClassFromOption","iconclass","contentThemeClass","originalHeading","detach","refresh","_applyOptions","isCollapsed","newTheme","oldTheme","hasCorners","hasIcon","isCollapse","expand","collapse","contents","unwrap","uiScreenHiddenRegex","noHiddenClass","addFirstLastClasses","_getVisibles","$els","visibles","_addFirstLastClasses","$visibles","end","last","_removeFirstLastClasses","childCollapsiblesSelector","_handleCollapsibleExpand","closestCollapsible","siblings","_classes","collapsibleexpand","_refresh","themeClass","collapsiblesInSet","grid","$kids","gridCols","solo","letter","$navbar","$navbtns","icon","classes","getAttr","countTheme","dividerTheme","splitIcon","splitTheme","shadow","listviewClasses","_findFirstElementByTagName","nextProp","lcName","ucName","dict","_addThumbClasses","containers","_getChildrenByTagName","nextSibling","_beforeListviewRefresh","_afterListviewRefresh","buttonClass","numli","item","itemClass","itemTheme","itemIcon","isDivider","startCount","newStartCount","splittheme","splitThemeClass","spliticon","altButtonClass","li","$list","ol","itemClassDict","countBubbles","countThemeClass","empty","defaultAutodividersSelector","elt","listview","autodividers","autodividersSelector","_replaceDividers","lis","dividerText","lastDividerText","list","divider","createTextNode","setAttribute","rdivider","rhidden","hideDividers","items","hideDivider","formReset","_handleFormReset","escapeId","wrapperClass","inheritAttr","label","isParent","_findLabel","inputtype","checkedClass","uncheckedClass","labelIsParent","vmouseover","vmousedown","parentLabel","labelsList","labels","contains","getElementsByTagName","wrapAll","_wrapper","wrap","_handleInputFocus","_handleInputBlur","_handleInputVClick","_getInputSet","_updateAll","_handleLabelVMouseOver","_handleLabelVClick","_cacheVals","checked","formId","radio","radios","changeTriggered","checkboxradio","_reset","_hasIcon","controlgroup","controlgroupWidget","controlgroupConstructor","isChecked","addClasses","removeClasses","currentOptions","iconshadow","inline","wrapper","_button","iconClasses","_getIconClasses","originalElement","isDisabled","meta","disabledZoom","enabledZoom","disabledInitially","zoom","locked","lock","unlock","restore","preventFocusZoom","isSearch","isTextarea","tagName","isRange","inputNeedsWrap","_classesFromOptions","_autoCorrect","setOptions","elementClasses","_wrap","autocorrect","_handleBlur","_handleFocus","trackTheme","highlight","control","trackThemeClass","cornerClass","miniClass","cType","isToggleSwitch","isRangeslider","selectClass","controlID","$label","labelID","min","step","domHandle","domSlider","slider","valuebg","bg","optionsCount","origTabIndex","activeClass","sliderImg","aria-valuemin","aria-valuemax","aria-valuenow","_value","aria-valuetext","aria-labelledby","dragging","beforeStart","userModified","mouseMoved","childNodes","_labels","keyup","vmouseup","_sliderVMouseDown","vmousemove","keydown","_setTheme","_setTrackTheme","_setCorners","_setMini","_setHighlight","_setDisabled","_controlChange","_controlKeyup","_controlBlur","_controlVMouseUp","_checkedRefresh","_handleVMouseDown","_handleKeydown","_keySliding","_handleKeyup","selectedIndex","_sliderVMouseUp","_preventDocumentDrag","isfromControl","preventInputUpdate","parentTheme","left","tol","pxStep","percent","isInput","optionElements","newval","valModStep","alignValue","percentPerStep","handlePercent","aPercent","bPercent","valueChanged","round","ab","currentTheme","currentTrackTheme","newTrackTheme","popup","getPopup","popupEnabled","showValue","_currentValue","_popup","_popupVisible","_positionPopup","dstOffset","_showPopup","_hidePopup","onText","offText","flipswitch","_originalTabIndex","_left","_right","after","existingDirection","_toggle","_keydown","$el","elClass","_inputFirst","_inputLast","_label","_sliderWidgetFirst","_sliderWidgetLast","_sliderFirst","_sliderLast","firstHandle","_sliders","_targetVal","_sliderTarget","_proxy","slidebeforestart","slidestop","slidedrag","slidebeforechange","mousedown","_handleReset","_updateHighlight","_dragFirstHandle","_slidedrag","otherSlider","_slidestop","_slidebeforestart","_change","thisSlider","margin-left","textinput","clearBtn","clearBtnText","_addClearBtn","clearButton","_clearBtnClick","_clearBtn","_enhanceClear","_bindClearEvents","_toggleClear","cut","paste","_unbindClear","_destroyClear","_toggleClearClass","autogrow","keyupTimeoutBuffer","_autogrow","pageshow","popupbeforeposition","updatelayout","panelopen","_handleShow","_prepareHeightUpdate","_unbindAutogrow","keyupTimeout","_updateHeight","_timeout","paddingTop","paddingBottom","paddingHeight","scrollHeight","borderTop","borderBottom","borderHeight","min-height","max-height","hidePlaceholderMenuItems","closeText","nativeMenu","button","_focusButton","_selectOptions","_preExtension","selectId","buttonId","isMultiple","multiple","setButtonText","buttonCount","build","selected","selectedIndices","span","setButtonCount","_refreshButton","idref","fitSegmentInsideSegment","windowSize","segmentSize","desired","getWindowCoordinates","theWindow","scrollLeft","cx","cy","positionTo","tolerance","closeLinkSelector","closeLinkEvents","navigateEvents","closeEvents","dismissible","_handleDocumentVmousedown","theEvent","_isOpen","_ignoreResizeEvents","myId","_scrollTop","_page","_fallbackTransition","_currentTransition","_prerequisites","_tolerance","_resizeData","_ignoreResizeTo","_orientationchangeInProgress","screen","prev","getElementById","_applyTransition","_setTolerance","focusElement","resize","fragment","createDocumentFragment","_eatEventAndClose","_resizeScreen","popupHeight","documentHeight","_handleWindowKeyUp","_expectResizeEvent","windowCoordinates","timeoutId","_resizeTimeout","reposition","_stopIgnoringResizeEvents","_handleWindowResize","_handleWindowOrientationchange","_handleDocumentFocusIn","targetElement","_safelyBlur","newOptions","r","ar","_clampPopupWidth","infoOnly","menuSize","rectangle","rc","_calculateFinalLocation","clampInfo","_placementCoords","_createPrerequisites","screenPrerequisite","containerPrerequisite","whenDone","prerequisites","_animate","classToRemove","screenClassToAdd","applyTransition","containerClassToAdd","_desiredCoords","openOptions","pTo","_reposition","currentElement","_openPrerequisitesComplete","firstFocus","_open","androidBlacklist","androidmatch","andversion","chromematch","additionalCondition","_closePrerequisiteScreen","_closePrerequisiteContainer","_closePrerequisitesDone","_close","_unenhance","_closePopup","parsedDst","_myUrl","_bindContainerClose","hashkey","currentIsDialog","urlHistory","urlAltered","handleLink","unfocusableItemSelector","goToAdjacentItem","adjacent","selectmenu","_handleSelectFocus","_handleButtonVclickKeydown","isOpen","_decideFormat","menuType","popupId","dialogId","_handleListFocus","tabindex","_handleListKeydown","_handleMenuPageHide","_delayedTrigger","thisPage","_handleHeaderCloseClick","_handleListItemClick","listItem","oldIndex","newIndex","_triggerChange","menuId","themeAttr","overlayThemeAttr","dividerThemeAttr","menuPage","listbox","header","headerTitle","menuPageContent","menuPageClose","headerClose","_origTabIndex","click li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)","pagehide","popupafterclose","_popupClosed","_isRebuildRequired","indices","_buildList","_focusMenuItem","$window","selfListParent","menuHeight","btnOffset","popupafteropen","needPlaceholder","dataIcon","$options","numOptions","dataPrefix","dataIndexAttr","dataIconAttr","dataRoleAttr","dataPlaceholderAttr","isPlaceholderItem","optGroup","$option","optLabel","_removePlaceholderAttr","aria-haspopup","aria-owns","reverseBoolOptionMap","ui-shadow","ui-corner-all","ui-btn-inline","ui-shadow-icon","ui-mini","getAttrFixed","capitalLettersRE","optionsToClasses","existingClasses","classNameToOptions","unknownClass","alreadyEnhanced","noIcon","unknownClasses","camelCase2Hyphenated","overwriteClasses","retrievedOptions","optionKey","excludeInvisible","_childWidgets","_initialRefresh","groupLegend","childWrapper","callRefresh","els","buttons","addBackBtn","backBtnTheme","backBtnText","leftbtn","rightbtn","_updateBackButton","_addHeaderButtonClasses","_setRelative","_addHeadingClasses","_btnMarkup","headerAnchors","backButton","_backButton","attached","aria-level","visibleOnPageShow","disablePageZoom","fullscreen","tapToggle","tapToggleBlacklist","hideDuringFocus","trackPersistentToolbars","supportBlacklist","_makeFixed","_addTransitionClass","_bindPageEvents","_bindToggleHandlers","$page","tclass","webkitAnimationStart","animationstart","_handleAnimationStart","_handlePageShow","thisFooter","thisHeader","nextFooter","nextHeader","_visible","tbPage","_useTransition","notransition","scroll","elHeight","pHeight","viewportHeight","hideClass","outclass","toggle","delayShow","delayHide","isVisible","pageClasses","toolbarClasses","hasFixed","hasFullscreen","_workarounds","os","_bindScrollWorkaround","_bindListThumbWorkaround","_viewportOffset","viewportOffset","_triggerRedraw","ieHack","uiTemplate","getArrow","gd","arEls","arrow","_addArrow","_tryAnArrow","best","desiredForArrow","tip","arFull","dimKey","guideDims","fst","arHalf","oDimKey","menuHalf","offsetFactor","contentBox","arrowOffsetFactor","snd","tipOffset","guideOffset","posProp","posVal","_getPlacementState","clamp","gdOffset","right","bottom","elOffset","bgRef","panel","panelOpen","panelClosed","panelFixed","panelInner","modal","modalOpen","pageWrapper","pageFixedToolbar","pageContentPrefix","animate","display","swipeClose","positionFixed","_closeLink","_parentPage","_modal","_panelInner","_fixedToolbars","parentPage","_openedPage","_getPage","_getPanelInner","_getFixedToolbars","_getWrapper","_addPanelClasses","_bindUpdateLayout","_bindCloseEvents","_bindLinkListeners","_createModal","_bindSwipeEvents","extFixedToolbars","intFixedToolbars","fixedToolbars","_getPosDisplayClasses","_getPanelClasses","panelClasses","_handleCloseClick","click a:jqmData(ajax='false')","_positionPanel","scrollToTop","panelInnerHeight","_unfixPanel","_fixPanel","_bindFixListener","_unbindFixListener","click a","_handleClick","panelId","area","_pageContentOpenClasses","_modalOpenClasses","_openPanel","panelclose","_closePanel","otherPanels","multiplePanels","table","headers","allHeaders","_setHeaders","trs","rebuild","columnCount","mode","columnBtnTheme","columnPopupTheme","columnBtnText","columnBtn","priorityPrefix","columnToggleTable","_menu","_addToggles","_enhanceColToggle","_setupEvents","_setToggleState","change input","menu","keep","inputs","checkboxIndex","cells","priority","_menuInputChange","evt","_unlockCells","menuButton","before","hiddenColumns","checkbox","reflowTable","cellLabels","_updateReflow","colstart","hierarchyClass","iteration","_addLabels","defaultFilterCallback","searchValue","filterReveal","filterCallback","_search","_timer","_setInput","_filterItems","_onKeyUp","lastval","_getFilterableItems","filterItems","_refreshChildWidget","recognizedWidgets","keypress","_onKeyDown","_preventKeyPress","_onKeyPress","refilter","replaceSetOptions","_syncTextInputOptions","rDividerListItem","origDefaultFilterCallback","filterable","filterPlaceholder","filterTheme","createHandlers","_setWidget","_handleCreate","_isSearchInternal","updatePlaceholder","textinputOpts","_refreshingChildWidget","textinputOptions","tabId","rhash","getNextTabId","isLocal","heightStyle","activate","beforeActivate","beforeLoad","running","_processTabs","_initialActive","unique","tabs","sort","anchors","_findActive","locationHash","tab","_getPanelForTab","_tabKeydown","focusedTab","goingForward","_handlePageNav","activating","_activate","_focusNextTab","ctrlKey","_panelKeydown","altKey","_findNextTab","lastTabIndex","constrain","_setupDisabled","_setupHeightStyle","_tabId","_sanitizeSelector","tablist","aria-selected","panels","aria-expanded","aria-hidden","_getList","anchorId","originalAriaControls","_createPanel","aria-controls","maxHeight","_eventHandler","clickedIsActive","collapsing","toShow","toHide","eventData","oldTab","oldPanel","newTab","newPanel","_show","_hide","_getIndex","num","merge","_ajaxSettings","statusText","response","jqXHR","beforeSend","ajaxSettings","iosorientationfixEnabled","z","aig","checkTilt","accelerationIncludingGravity","hideRenderingClass","initializePage","$pages","hashPage","Framework","Model","Backbone","Collection","View","Events","Platform","majorVersion","ltIE6","ltIE7","querySelectorAll","ltIE8","getElementsByClassName","ltIE9","uniqueID","gtIE10","Trident","Gecko","Presto","Blink","chrome","Webkit","Touch","ontouchstart","Mobile","ltAd4_4","EventSource","Pointer","pointerEnabled","MSPoniter","msPointerEnabled","Android","iOS","_vclickPatch","jquery_on","jquery_off","custom_on","types","custom_off","isSupportedVclick","s_vclickEvent","Orientation","getOrientation","PORTRAIT","LANDSCAPE","waitForDeviceReady","cordova","_defaultBackButtonHandler","setBackButtonHandler","oldHandler","_dfInitialize","config","getConfig","applyPatch","applyJQueryConfig","applyJQueryMobileConfig","Router","anchorVclick","jqueryMajor","waitForInitialize","_orientationListenerHolder","registerOrientationChangedListener","unregisterOrientationChangedListener","_activePage","setupEventHandlers","oldBackButtonHandler","baseBackButtonHandler","onHardwareBackButton","oldRouteChangeHandler","setBeforeRouteChangeHandler","baseRouteChangeHandler","onBeforeRouteChange","_lastOrientation","setActivePage","getDefaultClickEvent","_pageConstructors","_pageInstances","registerPages","ctor","constructPages","disposePages","defConfig","ajaxSetup","migrateMute","jquerymobile","newOrientation","onOrientationChanged","getCurrentDocumentUrl","$activePage","_beforeRouteChange","_defaultBeforeRouteChange","$body","s_router","s_initOptions","s_defaultInitOptions","s_loadUrl","customLoadUrl","onRouteSucceeded","s_back","customJqmBack","opt","bindEvents","register","route","restart","_routeToRegExp","pushContext","pageConstruct","prevState","started","isRouting","s_lastNavigateInfo","inNavigation","initFirstPageIfNeeded","navOptions","s_defaultNavigateOptions","notifyBeforeRouteChange","calledBeforeRouteChange","backDestination","noHashChange","intent","positiveNavigate","subFlow","operation","startSubFlow","finishSubFlow","fragment_1","getFragment","s_rootContexts","ctx","findWhere","navigateFromTop","getJqmHistory","currentPage","_transition","_reverse","destStacks","SUBFLOW_PARAM","destBase","additionalDistance","isTopPage","exitApp","pushIntent","s_lastIntent","popIntent","getQueryParameters","beginSubFlow","commitSubFlow","cancelSubFlow","baseInfo","detectSubFlowBaseInfo","subFlowParam","isInSubFlow","has","fromHashChanged","registerPageStack","pageStack","withNavigate","newStacks","failed","makeStack","pathToJqmDataUrl","silentLength","finalIndex","handled","onRouteFailed","onAnchorVclicked","BACK_DESTINATION_URL","isJustBeforeVclicked","followAnchor","backDst","DATA_BACK_DESTINATION","DATA_NO_HASH_CHANGE","noHrefHandle","DATA_NO_VCLICK_HANDLE","needDefaultOperation","isBackButtonClicked","canResolveRoute","any","isBefore","now","s_lastClickedTime","DELAY_TIME","queryParams","inAdditionalBack","decideDirection","additional","detectAdditionalBackDistance","subFlowInfo","isCurrent","treatUrlHistory","newPage","historyActiveIndex","distance","jqmDataUrl","fragment_2","retry","NAVIGATE_INTERVAL","MAX_RETRY_COUNT","_navigate","Page","_url","_$page","_$header","_$footer","_intent","newIntent","_update","_owner","onCommand","kind","onInitialize","onPageBeforeCreate","onPageInit","onPageBeforeShow","onPageShow","onPageBeforeHide","onPageHide","onPageRemove","_initialized","ev","pageInit","pageBeforeShow","pageShow","pageBeforeHide","pageHide","pageRemove","pageBeforeCreate","owner","_keepIntent","keepIntent","getDirection","prevIndex","migrateVersion","rbadVersions","migrateWarnings","warnedAbout","migrateTrace","migrateReset","migrateWarn","migrateWarnProp","migrateWarnFunc","newFunc","compatMode","oldInit","oldIsNumeric","isNumeric","rattrHashTest","rattrHashGlob","arg1","querySelector","err1","op","err2","findProp","parseJSON","isNumeric2","realStringObj","oldValue","uniqueSort","pseudos","oldAjax","jQXHR","oldRemoveAttr","oldToggleClass","rmatchNonSpace","internalSwapCall","swap","oldHook","cssHooks","old","oldData","curData","hasData","sameKeys","oldTweenRun","Tween","run","oldEasing","fx","interval","requestAnimationFrame","oldLoad","oldEventAdd","originalFix","fix","fixHooks","fixHook","addProp","_migrated_","ready","oldOffset","oldParam","traditional","ajaxTraditional","oldSelf","andSelf","oldDeferred","tuples","Callbacks","pipe","fns","newDefer","tuple","returned","progress","notify","Tools","Function","Blob","getBlobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","arrayBufferToBlob","buf","mimeType","blob","blobBuilderObject","blobBuilder","getBlob","base64ToBlob","base64","base64ToArrayBuffer","bytes","atob","arrayBuffer","ArrayBuffer","Uint8Array","charCodeAt","base64ToUint8Array","encoded","arrayBufferToBase64","uint8ArrayToBase64","byteLength","btoa","URL","webkitURL","xhrSuccessStatus","1223","ajaxTransport","originalOptions","FormData","abortCallback_1","responseType","_callback","_data","getAllResponseHeaders","DateTime","computeDate","addDays","dt","baseSec","addSec","targetSec","convertISOStringToDate","dateString","dateTime","dateArray","timeArray","secArray","dateObject","convertDateToISOString","isoDateString","getFullYear","numberToDoubleDigitsString","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","convertFileSystemStringToDate","convertDateToFileSystemString","fileSystemString","lhs","rhs","toZeroPadding","no","limit","signed","inherit","_prototype","_inherit","mixin","derived","bases","getOwnPropertyNames","Surrogate","__super__","getDevicePixcelRatio","mediaQuery","is_firefox","devicePixelRatio","Template","getTemplateElement","mapElement","getElementMap","findHtmlFromSource","exception","_mapElement","_mapSource","getJST","template","jst","Hogan","compile","render","getSourceMap","mapSource","UI","ListViewGlobalConfig","WRAPPER_CLASS","WRAPPER_SELECTOR","SCROLL_MAP_CLASS","SCROLL_MAP_SELECTOR","INACTIVE_CLASS","INACTIVE_CLASS_SELECTOR","RECYCLE_CLASS","RECYCLE_CLASS_SELECTOR","LISTITEM_BASE_CLASS","LISTITEM_BASE_CLASS_SELECTOR","DATA_PAGE_INDEX","DATA_CONTAINER_INDEX","composeViews","derives","_composed","_derives","derive","seed","extendOwn","deriveViews","_bases","mixinViews","_ListViewUtils","cssPrefixes","getCssMatrixValue","transX","transY","scaleX","scaleY","matrix","is3dMatrix","transitionEnd","setTransformsTransitions","msec","timingFunction","transitions","second","clearTransitions","StatusManager","_status","statusAddRef","statusRelease","retval","statusScope","isStatusIn","_Config","_ToolCSS","LineProfile","_height","_initializer","_info","_index","_pageIndex","_offset","_$base","_instance","prepareBaseElement","lineProfile","updatePageIndex","inactivate","isActive","updateHeight","newHeight","delta","updateScrollMapHeight","reflectAll","updateProfiles","resetDepth","getListViewOptions","baseDepth","updateIndex","updateOffset","$map","getScrollMapElement","$recycle","findRecycleElements","itemTagName","enableTransformOffset","PageProfile","_lines","line","normalize","enableAll","every","getLineProfile","getLineProfileFirst","getLineProfileLast","GroupProfile","_parent","_children","_expanded","_mapLines","addItem","initializer","layoutKey","groupProfile","LAYOUT_KEY_DEFAULT","core","_addLine","getLastLineIndex","update","addChildren","setParent","getParent","getChildren","hasChildren","hasLayoutKeyOf","lines","isExpanded","queryOperationTarget","animationDuration","ensureVisible","insertTo","preprocess","withActiveChildren","newStatus","findTargets","_Utils","ScrollerElement","_$target","_$scrollMap","_listviewOptions","getType","TYPE","getPos","getPosMax","enableAnimation","getFactory","ScrollerNative","_$body","ScrollerIScroll","$owner","iscrollOptions","listviewOptions","_$owner","_iscroll","_refreshTimerId","_$wrapper","_$scroller","IScroll","scroller","getComputedPosition","maxScrollY","ownerHeight","proc_1","scrollerHeight","scrollMapRefreshInterval","defaultOpt","scrollX","bounce","mouseWheel","scrollbars","interactiveScrollbars","shrinkScrollbars","fadeScrollbars","disablePointer","disableMouse","disableTouch","probeType","$wrapper","overflow","__extends","extendStatics","__","ListItemView","_lineProfile","delegates","setElement","getIndex","getSpecifiedHeight","hasChildNode","compose","properties","classProperties","composed","stopListening","ScrollManager","_$root","_$map","_mapHeight","_scroller","_settings","_active","_scrollEventHandler","_scrollStopEventHandler","_baseHeight","_pages","_lastActivePageContext","_backup","defOptions","scrollerFactory","enableHiddenPage","scrollRefreshDistance","pagePrepareCount","pagePreloadCount","removeItemWithTransition","useDummyInactiveScrollMap","onScroll","onScrollStop","$root","createScroller","setBaseHeight","setScrollerCondition","resetScrollerCondition","release","setActiveState","treatScrollPosition","getScrollerType","clearOffset","prepareInactiveMap","$parent","$inactiveMap","currentPageIndex_1","getPageIndex","$listItemViews","pageIndex","_line","deltaHeight","addTail","clearPage","arg2","arg3","_removeLines","_removeLine","removed","mapTransition","current","getScrollPos","posMax","getScrollPosMax","setupScrollMapTransition","indexes","transitionEndHandler","getItemInfo","parser","targets","searchCount","currentPageIndex","highPriorityIndex","oldExsistPage","changeState","overflowPrev","overflowNext","beginIndex","endIndex","action","assignPage","backup","hasBackup","clearBackup","setScrollHandler","setScrollStopHandler","defaultOptions","partialOK","setTop","currentScope","targetScope","isInScope","detectPosition","getScrollMapHeight","candidate","scrollPos","scrollPosMax","scrollMapSize","lastPage","getLastPage","validRange","lineIndex","lastLine","tempPage","asignee","ListView","_scrollMgr","initialHeight","backupData","GroupListItemView","_groupProfile","isExpanding","isCollapsing","isSwitching","ExpandManager","_mapGroups","_aryTopGroups","_layoutKey","newGroup","random","pow","getGroup","registerTopGroup","topGroup","lastGroup","getTopGroups","expandAll","collapseAll","tops","ExpandableListView","_statusMgr","_expandManager","Theme","getCurrentUIPlatform","$htms","s_platforms","setCurrentUIPlatform","$htms_1","detectUIPlatform","DEBUG","setUIPlatforms","platforms","setPageTransitionMap","s_pageTransitionMap","setDialogTransitionMap","s_dialogTransitionMap","queryPageTransition","original","convert","fallback","queryDialogTransition","platform-default","ios","android","platform-alternative","applyCustomChangePage","jqmChangePage","customChangePage","isString","ExtensionManager","registerDomExtension","s_domExtensions","applyDomExtension","$ui","Toast","LENGTH_SHORT","LENGTH_LONG","OffsetX","OffsetY","StyleBuilderDefault","getClass","getStyle","padding","background-color","border-color","text-shadow","font-weight","opacity","getOffsetPoint","CENTER","BOTTOM","getOffsetX","getOffsetY","$mobile","setCSS","box","offsetPoint","posX","posY","box_width","box_height","TOP","fadeOut","Dialog","_template","_$dialog","initCommonCondition","s_defaultOptions","ofcHidden","overflow-x","overflow-y","ofcBody","parentScrollPos","ofcPage","scrollHander","afterclose","forceOverwriteAfterClose","_titleState","resolveTheme","domExtensionOptions","onBeforeShow","autoClose","defaultAutoClose","queryTheme","candidateTheme","domTheme","domOverlayTheme","setDefaultOptions","s_activeDialog","s_oldBackKeyHandler","customBackKeyHandler","idPositive","idNegative","labelPositive","labelNegative","backKey","alert","dlgAlert","confirm","dlgConfirm","DialogPrompt","_eventOK","eventOK","prompt","dlgPrompt","BaseHeaderView","_options","backCommandSelector","backCommandKind","baseTemplate","createHeaderBase","showIndicator","hideIndicator","releaseHeaderBase","$header","s_$headerBase","s_refCount","body","_hasBackIndicator","eventMap","onCommandBack","BasePage","baseHeader","backCommandHandler","_baseHeader","PageContainerView","PageView","_pageOptions","_basePage","basePage","$footer","PageListView","autoDestoryElement","_needRebuild","reserveRebuild","getPageBaseHeight","PageExpandableListView","Extension","ripple","surface","ink","rippleColor","ANIMATION_END_EVENT","NO_RIPPLE_CLASS","makeTemplateParam","spinnerify","spinner","floating","floatingify","$input","_getAllSwitches","_getInputFromSwitch","$switch","$select","_getLabelsFromSwitch","_getSwitchFromLabel","changeTo","$handles","patch_IScroll_utils_click","createEvent","initMouseEvent","view","screenX","screenY","shiftKey","metaKey","_constructed","dispatchEvent","s_applied","utils","NativeBridge","Utils","defineResultCode","errorCode","s_pluginReady","Plugin","waitForPluginReady","channel","onCordovaReady","subscribe","_bridge","_taskId","ERROR_CANCEL","taskId","Gate","feature","receiveParams","SUCCESS_PROGRESS","makeFatal","dispose","_core","coreInitialize","_promise","core_1","promise_1","i18n_1","framework_jqm_1","__export","_framework","promise_2","jqm_1","_tools","tools_1","promise_3","listview_1","jqm_2","nativebridge_1","core_2"],"mappings":"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","sourcesContent":["/*!\n * @cdp/mobile 2.0.0\n *\n * Date: 2017-07-05T06:47:05.691Z\n *\n * including:\n *     @cdp/core 2.0.0\n *     @cdp/promise 2.0.0\n *     @cdp/nativebridge 2.0.0\n *     @cdp/i18n 2.0.0\n *     @cdp/framework-jqm 2.0.0\n *     @cdp/tools 2.0.0\n *     @cdp/ui-listview 2.0.0\n *     @cdp/ui-jqm 2.0.0\n */\n\n//======================================================//\n\n/*!\n * cdp.core.js 2.0.0\n *\n * Date: 2017-07-04T08:57:20.187Z\n */\n((function (root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        // AMD\n        define(\"cdp.core\",[],function () {\n            return factory(root);\n        });\n    } else if (typeof exports === \"object\") {\n        // CommonJS\n        module.exports = factory(root);\n    } else {\n        // Browser globals\n        factory(root);\n    }\n})(((this || 0).self || global), function (root) {\n\n    var TAG = \"[CDP] \";\n\n    // \"CDP\" global exports.\n    var CDP = root.CDP || (root.CDP = {});\n\n    /**\n     * \\~english\n     * @class Patch\n     * @brief This class applies patch codes to 3rd party libraries for they works good with the others.\n     *\n     * \\~japanese\n     * @class Patch\n     * @brief 外部ライブラリに Patch を当てるクラス\n     */\n    var Patch = (function () {\n        function Patch() {\n        }\n\n        /**\n         * \\~english\n         * Apply patch.\n         *\n         * \\~japanese\n         * パッチの適用\n         */\n        function _apply() {\n            if (null == root.console || null == root.console.error) {\n                _consolePatch();\n            }\n\n            if (typeof MSApp === \"object\") {\n                _nodePatch();\n            }\n        }\n\n        function _consolePatch() {\n            root.console = {\n                count: function () {\n                },\n                groupEnd: function () {\n                },\n                time: function () {\n                },\n                timeEnd: function () {\n                },\n                trace: function () {\n                },\n                group: function () {\n                },\n                dirxml: function () {\n                },\n                debug: function () {\n                },\n                groupCollapsed: function () {\n                },\n                select: function () {\n                },\n                info: function () {\n                },\n                profile: function () {\n                },\n                assert: function () {\n                },\n                msIsIndependentlyComposed: function () {\n                },\n                clear: function () {\n                },\n                dir: function () {\n                },\n                warn: function () {\n                },\n                error: function () {\n                },\n                log: function () {\n                },\n                profileEnd: function () {\n                }\n            };\n        }\n\n        function _nodePatch() {\n            var originalAppendChild = Node.prototype.appendChild;\n            Node.prototype.appendChild = function (node) {\n                var _this = this;\n                return MSApp.execUnsafeLocalFunction(function () {\n                    return originalAppendChild.call(_this, node);\n                });\n            };\n\n            var originalInsertBefore = Node.prototype.insertBefore;\n            Node.prototype.insertBefore = function (newElement, referenceElement) {\n                var _this = this;\n                return MSApp.execUnsafeLocalFunction(function () {\n                    return originalInsertBefore.call(_this, newElement, referenceElement);\n                });\n            };\n        }\n\n        Patch.apply = _apply;\n\n        return Patch;\n    })();\n\n    /**\n     * \\~english\n     * Get web root.\n     *\n     * \\~japanese\n     * web root を取得\n     */\n    var _webRoot = (function () {\n        if (root.location) {\n            var baseUrl = /(.+\\/)[^/]*#[^/]+/.exec(root.location.href);\n            if (!baseUrl) {\n                baseUrl = /(.+\\/)/.exec(root.location.href);\n            }\n            return baseUrl[1];\n        }\n    })();\n\n    /**\n     * \\~english\n     * Initialization function of environment.\n     *\n     * @param options {CoreInitOptions} [in] init options.\n     *\n     * \\~japanese\n     * Framework の初期化関数\n     * v1.2.0+ より options のコールバックに変更\n     *\n     * @param options {CoreInitOptions} [in] 初期化オプション.\n     */\n    function _init(options) {\n        setTimeout(function () {\n            try {\n                Patch.apply();\n                if (options && typeof options.success === \"function\") {\n                    options.success();\n                }\n            } catch (error) {\n                var msg = (error && error.message) ? error.message : \"initialize failed.\";\n                console.error(TAG + msg);\n                if (options && typeof options.fail === \"function\") {\n                    options.fail(error);\n                }\n            }\n        });\n    }\n\n    CDP.global = root;\n    CDP.Config = CDP.Config || root.Config || {};\n    CDP.initialize = _init;\n    CDP.webRoot = _webRoot;\n\n    return CDP;\n}));\n/*!\n * cdp.promise.js 2.0.0\n *\n * Date: 2017-07-04T08:58:02.389Z\n */\n(function (root, factory) { if (typeof define === \"function\" && define.amd) { define(\"cdp.promise\",[\"jquery\"], function ($) { return factory(root.CDP || (root.CDP = {}), $); }); } else if (typeof exports === \"object\") { module.exports = factory(root.CDP || (root.CDP = {}), require(\"jquery\")); } else { factory(root.CDP || (root.CDP = {}), root.jQuery || root.$); } }(((this || 0).self || global), function (CDP, $) {\nvar CDP;\n(function (CDP) {\n    var TAG = \"[CDP.Promise] \";\n    /**\n     * Cancel 可能オブジェクトの作成\n     *\n     * @param df       [in] jQueryDeferred instance を指定\n     * @param options? [in] jQueryPromise を拡張するオブジェクト or キャンセル時に呼び出される関数を指定\n     * @returns {Object} Cancelable property\n     */\n    function makeCancelable(df, options) {\n        var extendOptions;\n        var cancel;\n        if (\"function\" === typeof options) {\n            cancel = options;\n        }\n        else {\n            extendOptions = options;\n            if (extendOptions && extendOptions.cancelCallback) {\n                cancel = extendOptions.cancelCallback;\n            }\n            else {\n                cancel = function () { };\n            }\n        }\n        var _abort = function (info) {\n            var detail = info ? info : { message: \"abort\" };\n            cancel(detail);\n            if (null != this.dependency) {\n                if (this.dependency.abort) {\n                    this.dependency.abort(detail);\n                }\n                else {\n                    console.error(TAG + \"[call] dependency object doesn't have 'abort()' method.\");\n                }\n                if (this.callReject && \"pending\" === this.state()) {\n                    df.reject(detail);\n                }\n            }\n            else if (\"pending\" === this.state()) {\n                df.reject(detail);\n            }\n        };\n        var _dependOn = function (promise) {\n            var _this = this;\n            if (promise.abort) {\n                this.dependency = promise;\n                promise\n                    .always(function () {\n                    _this.dependency = null;\n                });\n            }\n            else {\n                console.error(TAG + \"[set] dependency object doesn't have 'abort()' method.\");\n            }\n            return promise;\n        };\n        var _target = $.extend({}, {\n            dependency: null,\n            callReject: false,\n        }, extendOptions);\n        return {\n            df: df,\n            target: _target,\n            abort: _abort,\n            dependOn: _dependOn,\n        };\n    }\n    /**\n     * Promise オブジェクトの作成\n     * jQueryDeferred オブジェクトから、Tools.Promise オブジェクトを作成する\n     *\n     * @param df       [in] jQueryDeferred instance を指定\n     * @param options? [in] jQueryPromise を拡張するオブジェクト or キャンセル時に呼び出される関数を指定\n     * @returns IPromise オブジェクト\n     */\n    function makePromise(df, options) {\n        var cancelable = makeCancelable(df, options);\n        var promise = df.promise(cancelable.target);\n        if (null == promise.abort) {\n            promise.abort = cancelable.abort.bind(promise);\n        }\n        if (null == promise.dependOn) {\n            promise.dependOn = cancelable.dependOn.bind(promise);\n        }\n        return promise;\n    }\n    CDP.makePromise = makePromise;\n    function wait() {\n        var deferreds = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            deferreds[_i] = arguments[_i];\n        }\n        // 投入法が可変引数だった場合は配列に修正する\n        var _deferreds = [].concat.apply([], deferreds);\n        // 実際の作業\n        var df = $.Deferred();\n        var results = [];\n        var initialized = false;\n        var isFinished = function () {\n            if (!initialized) {\n                return false;\n            }\n            else {\n                return !results.some(function (element) {\n                    return \"pending\" === element.status;\n                });\n            }\n        };\n        _deferreds.forEach(function (deferred, index) {\n            results.push({\n                status: \"pending\",\n                args: null,\n            });\n            deferred\n                .then(function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                results[index].status = \"resolved\";\n                results[index].args = args;\n            }, function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                results[index].status = \"rejected\";\n                results[index].args = args;\n            })\n                .always(function () {\n                if (isFinished()) {\n                    df.resolve(results);\n                }\n            });\n        });\n        initialized = true;\n        if (isFinished()) {\n            df.resolve(results);\n        }\n        return df.promise();\n    }\n    CDP.wait = wait;\n    function race() {\n        var deferreds = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            deferreds[_i] = arguments[_i];\n        }\n        var df = $.Deferred();\n        var _deferreds = [].concat.apply([], deferreds);\n        _deferreds.forEach(function (deferred, index) {\n            deferred\n                .then(function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                if (\"pending\" === df.state()) {\n                    df.resolve(args);\n                }\n            }, function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                if (\"pending\" === df.state()) {\n                    df.reject(args);\n                }\n            });\n        });\n        return df.promise();\n    }\n    CDP.race = race;\n    //___________________________________________________________________________________________________________________//\n    /**\n     * @class PromiseManager\n     * @brief 複数の DataProvider.Promise を管理するクラス\n     */\n    var PromiseManager = (function () {\n        function PromiseManager() {\n            this._pool = [];\n            this._id = 0;\n        }\n        ///////////////////////////////////////////////////////////////////////\n        // public method\n        /**\n         * Promise を管理下に追加\n         *\n         * @param promise [in] 管理対象のオブジェクト\n         * @returns 引数に渡したオブジェクト\n         */\n        PromiseManager.prototype.add = function (promise) {\n            var _this = this;\n            if (promise == null) {\n                return null;\n            }\n            // abort() を持っていない場合はエラー\n            if (!promise.abort) {\n                console.error(TAG + \"[add] promise object doesn't have 'abort()' method.\");\n                return promise;\n            }\n            var cookie = {\n                promise: promise,\n                id: this._id++,\n            };\n            this._pool.push(cookie);\n            promise\n                .always(function () {\n                _this._pool = _this._pool.filter(function (element) {\n                    if (element.id !== cookie.id) {\n                        return true;\n                    }\n                    else {\n                        return false;\n                    }\n                });\n            });\n            return promise;\n        };\n        /**\n         * 管理対象の Promise に対して abort を発行\n         * キャンセル処理に対するキャンセルは不可\n         *\n         * @returns Promise オブジェクト\n         */\n        PromiseManager.prototype.cancel = function (info) {\n            var promises = this.promises();\n            promises.forEach(function (element) {\n                if (element.abort) {\n                    element.abort(info);\n                }\n            });\n            return wait.apply(null, promises);\n        };\n        /**\n         * 管理対象の Promise を配列で返す\n         *\n         * @returns Promise オブジェクト配列\n         */\n        PromiseManager.prototype.promises = function () {\n            return this._pool.map(function (element) {\n                return element.promise;\n            });\n        };\n        return PromiseManager;\n    }());\n    CDP.PromiseManager = PromiseManager;\n    //___________________________________________________________________________________________________________________//\n    /**\n     * @class PromiseConstructor\n     * @brief ES6 Promise 互換の Promise オブジェクトコンストラクタ\n     */\n    var PromiseConstructor = (function () {\n        /**\n         * constructor\n         *\n         * @param executor [in] ES6 Promise 互換引数. (dependOn を第3引数に渡す)\n         * @param options? [in] jQueryPromise を拡張するオブジェクト or キャンセル時に呼び出される関数を指定\n         * @return IPromise オブジェクト\n         */\n        function PromiseConstructor(executor, options) {\n            // apply mixin\n            var cancelable = makeCancelable($.Deferred(), options);\n            $.extend(true, this, cancelable.df, cancelable.target);\n            this.abort = cancelable.abort.bind(this);\n            this.dependOn = cancelable.dependOn.bind(this);\n            executor(this.resolve, this.reject, this.dependOn);\n        }\n        ///////////////////////////////////////////////////////////////////////\n        // static methods:\n        PromiseConstructor.resolve = function (value) {\n            return $.Deferred().resolve(value);\n        };\n        PromiseConstructor.reject = function (reason) {\n            return $.Deferred().reject(reason);\n        };\n        PromiseConstructor.all = function () {\n            var deferreds = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                deferreds[_i] = arguments[_i];\n            }\n            return $.when(deferreds);\n        };\n        PromiseConstructor.wait = function () {\n            var deferreds = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                deferreds[_i] = arguments[_i];\n            }\n            return wait(deferreds);\n        };\n        PromiseConstructor.race = function () {\n            var deferreds = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                deferreds[_i] = arguments[_i];\n            }\n            return race(deferreds);\n        };\n        return PromiseConstructor;\n    }());\n    CDP.PromiseConstructor = PromiseConstructor;\n    CDP.Promise = PromiseConstructor;\n})(CDP || (CDP = {}));\n\nreturn CDP; }));\n/*!\n * cdp.i18n.js 2.0.0\n *\n * Date: 2017-07-04T09:11:11.925Z\n */\n\n(function webpackUniversalModuleDefinition(root, factory) {\n    if(typeof exports === 'object' && typeof module === 'object')\n        module.exports = factory(require(\"jquery\"), require(\"cdp.core\"), require(\"cdp.promise\"));\n    else if(typeof define === 'function' && define.amd)\n        define(\"cdp.i18n\", [\"jquery\", \"cdp.core\", \"cdp.promise\"], factory);\n    else if(typeof exports === 'object')\n        exports[\"CDP\"] = factory(require(\"jquery\"), require(\"cdp.core\"), require(\"cdp.promise\"));\n    else\n        root[\"CDP\"] = factory(root[\"jQuery\"], root[\"CDP\"], root[\"CDP\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/     // The module cache\n/******/     var installedModules = {};\n/******/\n/******/     // The require function\n/******/     function __webpack_require__(moduleId) {\n/******/\n/******/         // Check if module is in cache\n/******/         if(installedModules[moduleId]) {\n/******/             return installedModules[moduleId].exports;\n/******/         }\n/******/         // Create a new module (and put it into the cache)\n/******/         var module = installedModules[moduleId] = {\n/******/             i: moduleId,\n/******/             l: false,\n/******/             exports: {}\n/******/         };\n/******/\n/******/         // Execute the module function\n/******/         modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/         // Flag the module as loaded\n/******/         module.l = true;\n/******/\n/******/         // Return the exports of the module\n/******/         return module.exports;\n/******/     }\n/******/\n/******/\n/******/     // expose the modules object (__webpack_modules__)\n/******/     __webpack_require__.m = modules;\n/******/\n/******/     // expose the module cache\n/******/     __webpack_require__.c = installedModules;\n/******/\n/******/     // define getter function for harmony exports\n/******/     __webpack_require__.d = function(exports, name, getter) {\n/******/         if(!__webpack_require__.o(exports, name)) {\n/******/             Object.defineProperty(exports, name, {\n/******/                 configurable: false,\n/******/                 enumerable: true,\n/******/                 get: getter\n/******/             });\n/******/         }\n/******/     };\n/******/\n/******/     // getDefaultExport function for compatibility with non-harmony modules\n/******/     __webpack_require__.n = function(module) {\n/******/         var getter = module && module.__esModule ?\n/******/             function getDefault() { return module['default']; } :\n/******/             function getModuleExports() { return module; };\n/******/         __webpack_require__.d(getter, 'a', getter);\n/******/         return getter;\n/******/     };\n/******/\n/******/     // Object.prototype.hasOwnProperty.call\n/******/     __webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/     // __webpack_public_path__\n/******/     __webpack_require__.p = \"\";\n/******/\n/******/     // Load entry module and return exports\n/******/     return __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) { if (true) { !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1), __webpack_require__(2), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function ($, CDP) { return factory($, CDP); }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n                __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); } else { factory(root.jQuery || root.$, root.CDP || (root.CDP = {})); } }(this, function ($, CDP) {\n\n/* tslint:disable:max-line-length */\nvar CDP;\n(function (CDP) {\n    var Promise = CDP.Promise;\n    var TAG = \"[CDP.i18n] \";\n    /**\n     * \\~english\n     * initialize i18next.\n     *\n     * \\~japanese\n     * i18next の初期化\n     *\n     * @private\n     * @returns IPromiseBase オブジェクト\n     */\n    function initializeI18N(settings) {\n        return new Promise(function (resolve) {\n            var i18nSettings = settings || {};\n            var i18nOptions = (function (resources) {\n                if (resources) {\n                    for (var lng in resources) {\n                        if (resources.hasOwnProperty(lng)) {\n                            for (var ns in resources[lng]) {\n                                if (resources[lng].hasOwnProperty(ns)) {\n                                    resources[lng][ns] = getLocaleFallbackResource(resources[lng][ns]);\n                                }\n                            }\n                        }\n                    }\n                    i18nSettings.options.resources = resources;\n                    return i18nSettings.options;\n                }\n                else {\n                    return i18nSettings.options;\n                }\n            })(i18nSettings.fallbackResources);\n            new Promise(function(resolve) { resolve(); }).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(4)]; (function ($18Next) {\n                new Promise(function(resolve) { resolve(); }).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [\n                    __webpack_require__(5),\n                    __webpack_require__(6),\n                    __webpack_require__(7),\n                    __webpack_require__(8),\n                    __webpack_require__(9),\n                ]; (function (i18next, Backend, Cache, PostProcessor, LanguageDetector) {\n                    i18next\n                        .use(Backend)\n                        .use(Cache)\n                        .use(PostProcessor)\n                        .use(LanguageDetector)\n                        .init(i18nOptions, function (error, t) {\n                        $18Next.init(i18next, $, {\n                            tName: \"t\",\n                            i18nName: \"i18n\",\n                            handleName: \"localize\",\n                            selectorAttr: \"data-i18n\",\n                            targetAttr: \"i18n-target\",\n                            optionsAttr: \"i18n-options\",\n                            useOptionsAttr: false,\n                            parseDefaultValueFromContent: true // parses default values from content ele.val or ele.text\n                        });\n                        // i18next 3.4.1: resources が指定されると preload が読み込まれないため、再読み込み処理を行う.\n                        if (i18next.options.resources && i18next.options.preload) {\n                            // options からプロパティを一旦削除.\n                            var _preload_1 = i18next.options.preload;\n                            var _resources_1 = i18next.options.resources;\n                            delete i18next.options.resources;\n                            delete i18next.options.preload;\n                            i18next.loadLanguages(_preload_1, function () {\n                                // options を元に戻す\n                                i18next.options.resources = _resources_1;\n                                i18next.options.preload = _preload_1;\n                                CDP.i18n = i18next;\n                                resolve();\n                            });\n                        }\n                        else {\n                            CDP.i18n = i18next;\n                            resolve();\n                        }\n                    });\n                }.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}).catch(__webpack_require__.oe);\n            }.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}).catch(__webpack_require__.oe);\n        });\n    }\n    CDP.initializeI18N = initializeI18N;\n    /**\n     * \\~english\n     * get string resource for fallback.\n     *\n     * \\~japanese\n     * Fallback 用ローカライズリソースの取得\n     *\n     * @private\n     * @returns falbakc リソースオブジェクト\n     */\n    function getLocaleFallbackResource(path) {\n        var json;\n        $.ajax({\n            url: toUrl(path),\n            method: \"GET\",\n            async: false,\n            dataType: \"json\",\n            success: function (data) {\n                json = data;\n            },\n            error: function (xhr, status) {\n                console.log(TAG + \"ajax request failed. status: \" + status);\n            }\n        });\n        return json;\n    }\n    /**\n     * \\~english\n     * Convert path to URL.\n     *\n     * @param path [in] path string\n     *\n     * \\~japanese\n     * path を URL に変換\n     *\n     * @param path [in] パスを指定。\n     */\n    function toUrl(path) {\n        if (!path && \"/\" !== path[0]) {\n            console.error(TAG + \"invalid path. path: \" + path);\n        }\n        else {\n            return CDP.webRoot + path.slice(1);\n        }\n    }\n})(CDP || (CDP = {}));\n\nreturn CDP; }));\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function (global, factory) {\n   true ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.jqueryI18next = factory());\n}(this, (function () { 'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar defaults = {\n  tName: 't',\n  i18nName: 'i18n',\n  handleName: 'localize',\n  selectorAttr: 'data-i18n',\n  targetAttr: 'i18n-target',\n  optionsAttr: 'i18n-options',\n  useOptionsAttr: false,\n  parseDefaultValueFromContent: true\n};\n\nfunction init(i18next, $) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\n  options = _extends({}, defaults, options);\n\n  function parse(ele, key, opts) {\n    if (key.length === 0) return;\n\n    var attr = 'text';\n\n    if (key.indexOf('[') === 0) {\n      var parts = key.split(']');\n      key = parts[1];\n      attr = parts[0].substr(1, parts[0].length - 1);\n    }\n\n    if (key.indexOf(';') === key.length - 1) {\n      key = key.substr(0, key.length - 2);\n    }\n\n    function extendDefault(o, val) {\n      if (!options.parseDefaultValueFromContent) return o;\n      return _extends({}, o, { defaultValue: val });\n    }\n\n    if (attr === 'html') {\n      ele.html(i18next.t(key, extendDefault(opts, ele.html())));\n    } else if (attr === 'text') {\n      ele.text(i18next.t(key, extendDefault(opts, ele.text())));\n    } else if (attr === 'prepend') {\n      ele.prepend(i18next.t(key, extendDefault(opts, ele.html())));\n    } else if (attr === 'append') {\n      ele.append(i18next.t(key, extendDefault(opts, ele.html())));\n    } else if (attr.indexOf('data-') === 0) {\n      var dataAttr = attr.substr('data-'.length);\n      var translated = i18next.t(key, extendDefault(opts, ele.data(dataAttr)));\n\n      // we change into the data cache\n      ele.data(dataAttr, translated);\n      // we change into the dom\n      ele.attr(attr, translated);\n    } else {\n      ele.attr(attr, i18next.t(key, extendDefault(opts, ele.attr(attr))));\n    }\n  }\n\n  function localize(ele, opts) {\n    var key = ele.attr(options.selectorAttr);\n    if (!key && typeof key !== 'undefined' && key !== false) key = ele.text() || ele.val();\n    if (!key) return;\n\n    var target = ele,\n        targetSelector = ele.data(options.targetAttr);\n\n    if (targetSelector) target = ele.find(targetSelector) || ele;\n\n    if (!opts && options.useOptionsAttr === true) opts = ele.data(options.optionsAttr);\n\n    opts = opts || {};\n\n    if (key.indexOf(';') >= 0) {\n      var keys = key.split(';');\n\n      $.each(keys, function (m, k) {\n        if (k !== '') parse(target, k, opts);\n      });\n    } else {\n      parse(target, key, opts);\n    }\n\n    if (options.useOptionsAttr === true) {\n      var clone = {};\n      clone = _extends({ clone: clone }, opts);\n\n      delete clone.lng;\n      ele.data(options.optionsAttr, clone);\n    }\n  }\n\n  function handle(opts) {\n    return this.each(function () {\n      // localize element itself\n      localize($(this), opts);\n\n      // localize children\n      var elements = $(this).find('[' + options.selectorAttr + ']');\n      elements.each(function () {\n        localize($(this), opts);\n      });\n    });\n  };\n\n  // $.t $.i18n shortcut\n  $[options.tName] = i18next.t.bind(i18next);\n  $[options.i18nName] = i18next;\n\n  // selector function $(mySelector).localize(opts);\n  $.fn[options.handleName] = handle;\n}\n\nvar index = {\n  init: init\n};\n\nreturn index;\n\n})));\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function (global, factory) {\n     true ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.i18next = factory());\n}(this, (function () { 'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n\n\n\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nvar consoleLogger = {\n  type: 'logger',\n\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    var _console;\n\n    /* eslint no-console: 0 */\n    if (console && console[type]) (_console = console)[type].apply(_console, toConsumableArray(args));\n  }\n};\n\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    classCallCheck(this, Logger);\n\n    this.init(concreteLogger, options);\n  }\n\n  Logger.prototype.init = function init(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  };\n\n  Logger.prototype.setDebug = function setDebug(bool) {\n    this.debug = bool;\n  };\n\n  Logger.prototype.log = function log() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return this.forward(args, 'log', '', true);\n  };\n\n  Logger.prototype.warn = function warn() {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return this.forward(args, 'warn', '', true);\n  };\n\n  Logger.prototype.error = function error() {\n    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return this.forward(args, 'error', '');\n  };\n\n  Logger.prototype.deprecate = function deprecate() {\n    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  };\n\n  Logger.prototype.forward = function forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (typeof args[0] === 'string') args[0] = '' + prefix + this.prefix + ' ' + args[0];\n    return this.logger[lvl](args);\n  };\n\n  Logger.prototype.create = function create(moduleName) {\n    return new Logger(this.logger, _extends({ prefix: this.prefix + ':' + moduleName + ':' }, this.options));\n  };\n\n  return Logger;\n}();\n\nvar baseLogger = new Logger();\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    classCallCheck(this, EventEmitter);\n\n    this.observers = {};\n  }\n\n  EventEmitter.prototype.on = function on(events, listener) {\n    var _this = this;\n\n    events.split(' ').forEach(function (event) {\n      _this.observers[event] = _this.observers[event] || [];\n      _this.observers[event].push(listener);\n    });\n  };\n\n  EventEmitter.prototype.off = function off(event, listener) {\n    var _this2 = this;\n\n    if (!this.observers[event]) {\n      return;\n    }\n\n    this.observers[event].forEach(function () {\n      if (!listener) {\n        delete _this2.observers[event];\n      } else {\n        var index = _this2.observers[event].indexOf(listener);\n        if (index > -1) {\n          _this2.observers[event].splice(index, 1);\n        }\n      }\n    });\n  };\n\n  EventEmitter.prototype.emit = function emit(event) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (this.observers[event]) {\n      var cloned = [].concat(this.observers[event]);\n      cloned.forEach(function (observer) {\n        observer.apply(undefined, args);\n      });\n    }\n\n    if (this.observers['*']) {\n      var _cloned = [].concat(this.observers['*']);\n      _cloned.forEach(function (observer) {\n        var _ref;\n\n        observer.apply(observer, (_ref = [event]).concat.apply(_ref, args));\n      });\n    }\n  };\n\n  return EventEmitter;\n}();\n\nfunction makeString(object) {\n  if (object == null) return '';\n  /* eslint prefer-template: 0 */\n  return '' + object;\n}\n\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    object = object[key];\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath.obj,\n      k = _getLastOfPath.k;\n\n  obj[k] = newValue;\n}\n\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath2.obj,\n      k = _getLastOfPath2.k;\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\n\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n      obj = _getLastOfPath3.obj,\n      k = _getLastOfPath3.k;\n\n  if (!obj) return undefined;\n  return obj[k];\n}\n\nfunction deepExtend(target, source, overwrite) {\n  /* eslint no-restricted-syntax: 0 */\n  for (var prop in source) {\n    if (prop in target) {\n      // If we reached a leaf string in target or source then replace with source or skip depending on the 'overwrite' switch\n      if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n        if (overwrite) target[prop] = source[prop];\n      } else {\n        deepExtend(target[prop], source[prop], overwrite);\n      }\n    } else {\n      target[prop] = source[prop];\n    }\n  }\n  return target;\n}\n\nfunction regexEscape(str) {\n  /* eslint no-useless-escape: 0 */\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n\n/* eslint-disable */\nvar _entityMap = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  \"/\": '&#x2F;'\n};\n/* eslint-enable */\n\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n\n  return data;\n}\n\nvar ResourceStore = function (_EventEmitter) {\n  inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore() {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { ns: ['translation'], defaultNS: 'translation' };\n    classCallCheck(this, ResourceStore);\n\n    var _this = possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.data = data;\n    _this.options = options;\n    return _this;\n  }\n\n  ResourceStore.prototype.addNamespaces = function addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  };\n\n  ResourceStore.prototype.removeNamespaces = function removeNamespaces(ns) {\n    var index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  };\n\n  ResourceStore.prototype.getResource = function getResource(lng, ns, key) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    var keySeparator = options.keySeparator || this.options.keySeparator;\n    if (keySeparator === undefined) keySeparator = '.';\n\n    var path = [lng, ns];\n    if (key && typeof key !== 'string') path = path.concat(key);\n    if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    }\n\n    return getPath(this.data, path);\n  };\n\n  ResourceStore.prototype.addResource = function addResource(lng, ns, key, value) {\n    var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : { silent: false };\n\n    var keySeparator = this.options.keySeparator;\n    if (keySeparator === undefined) keySeparator = '.';\n\n    var path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    setPath(this.data, path, value);\n\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  };\n\n  ResourceStore.prototype.addResources = function addResources(lng, ns, resources) {\n    /* eslint no-restricted-syntax: 0 */\n    for (var m in resources) {\n      if (typeof resources[m] === 'string') this.addResource(lng, ns, m, resources[m], { silent: true });\n    }\n    this.emit('added', lng, ns, resources);\n  };\n\n  ResourceStore.prototype.addResourceBundle = function addResourceBundle(lng, ns, resources, deep, overwrite) {\n    var path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n\n    this.addNamespaces(ns);\n\n    var pack = getPath(this.data, path) || {};\n\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = _extends({}, pack, resources);\n    }\n\n    setPath(this.data, path, pack);\n\n    this.emit('added', lng, ns, resources);\n  };\n\n  ResourceStore.prototype.removeResourceBundle = function removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n\n    this.emit('removed', lng, ns);\n  };\n\n  ResourceStore.prototype.hasResourceBundle = function hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  };\n\n  ResourceStore.prototype.getResourceBundle = function getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n\n    // COMPATIBILITY: remove extend in v2.1.0\n    if (this.options.compatibilityAPI === 'v1') return _extends({}, this.getResource(lng, ns));\n\n    return this.getResource(lng, ns);\n  };\n\n  ResourceStore.prototype.toJSON = function toJSON() {\n    return this.data;\n  };\n\n  return ResourceStore;\n}(EventEmitter);\n\nvar postProcessor = {\n\n  processors: {},\n\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n\n    return value;\n  }\n};\n\n/* eslint no-param-reassign: 0 */\nfunction convertInterpolation(options) {\n\n  options.interpolation = {\n    unescapeSuffix: 'HTML'\n  };\n\n  options.interpolation.prefix = options.interpolationPrefix || '__';\n  options.interpolation.suffix = options.interpolationSuffix || '__';\n  options.interpolation.escapeValue = options.escapeInterpolation || false;\n\n  options.interpolation.nestingPrefix = options.reusePrefix || '$t(';\n  options.interpolation.nestingSuffix = options.reuseSuffix || ')';\n\n  return options;\n}\n\nfunction convertAPIOptions(options) {\n  if (options.resStore) options.resources = options.resStore;\n\n  if (options.ns && options.ns.defaultNs) {\n    options.defaultNS = options.ns.defaultNs;\n    options.ns = options.ns.namespaces;\n  } else {\n    options.defaultNS = options.ns || 'translation';\n  }\n\n  if (options.fallbackToDefaultNS && options.defaultNS) options.fallbackNS = options.defaultNS;\n\n  options.saveMissing = options.sendMissing;\n  options.saveMissingTo = options.sendMissingTo || 'current';\n  options.returnNull = !options.fallbackOnNull;\n  options.returnEmptyString = !options.fallbackOnEmpty;\n  options.returnObjects = options.returnObjectTrees;\n  options.joinArrays = '\\n';\n\n  options.returnedObjectHandler = options.objectTreeKeyHandler;\n  options.parseMissingKeyHandler = options.parseMissingKey;\n  options.appendNamespaceToMissingKey = true;\n\n  options.nsSeparator = options.nsseparator || ':';\n  options.keySeparator = options.keyseparator || '.';\n\n  if (options.shortcutFunction === 'sprintf') {\n    options.overloadTranslationOptionHandler = function handle(args) {\n      var values = [];\n\n      for (var i = 1; i < args.length; i++) {\n        values.push(args[i]);\n      }\n\n      return {\n        postProcess: 'sprintf',\n        sprintf: values\n      };\n    };\n  }\n\n  options.whitelist = options.lngWhitelist;\n  options.preload = options.preload;\n  if (options.load === 'current') options.load = 'currentOnly';\n  if (options.load === 'unspecific') options.load = 'languageOnly';\n\n  // backend\n  options.backend = options.backend || {};\n  options.backend.loadPath = options.resGetPath || 'locales/__lng__/__ns__.json';\n  options.backend.addPath = options.resPostPath || 'locales/add/__lng__/__ns__';\n  options.backend.allowMultiLoading = options.dynamicLoad;\n\n  // cache\n  options.cache = options.cache || {};\n  options.cache.prefix = 'res_';\n  options.cache.expirationTime = 7 * 24 * 60 * 60 * 1000;\n  options.cache.enabled = options.useLocalStorage;\n\n  options = convertInterpolation(options);\n  if (options.defaultVariables) options.interpolation.defaultVariables = options.defaultVariables;\n\n  // COMPATIBILITY: deprecation\n  // if (options.getAsync === false) throw deprecation error\n\n  return options;\n}\n\nfunction convertJSONOptions(options) {\n  options = convertInterpolation(options);\n  options.joinArrays = '\\n';\n\n  return options;\n}\n\nfunction convertTOptions(options) {\n  if (options.interpolationPrefix || options.interpolationSuffix || options.escapeInterpolation !== undefined) {\n    options = convertInterpolation(options);\n  }\n\n  options.nsSeparator = options.nsseparator;\n  options.keySeparator = options.keyseparator;\n\n  options.returnObjects = options.returnObjectTrees;\n\n  return options;\n}\n\nfunction appendBackwardsAPI(i18n) {\n  i18n.lng = function () {\n    baseLogger.deprecate('i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup.');\n    return i18n.services.languageUtils.toResolveHierarchy(i18n.language)[0];\n  };\n\n  i18n.preload = function (lngs, cb) {\n    baseLogger.deprecate('i18next.preload() can be replaced with i18next.loadLanguages()');\n    i18n.loadLanguages(lngs, cb);\n  };\n\n  i18n.setLng = function (lng, options, callback) {\n    baseLogger.deprecate('i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace.');\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!options) options = {};\n\n    if (options.fixLng === true) {\n      if (callback) return callback(null, i18n.getFixedT(lng));\n    }\n\n    return i18n.changeLanguage(lng, callback);\n  };\n\n  i18n.addPostProcessor = function (name, fc) {\n    baseLogger.deprecate('i18next.addPostProcessor() can be replaced by i18next.use({ type: \\'postProcessor\\', name: \\'name\\', process: fc })');\n    i18n.use({\n      type: 'postProcessor',\n      name: name,\n      process: fc\n    });\n  };\n}\n\nvar Translator = function (_EventEmitter) {\n  inherits(Translator, _EventEmitter);\n\n  function Translator(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    classCallCheck(this, Translator);\n\n    var _this = possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector'], services, _this);\n\n    _this.options = options;\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n\n  Translator.prototype.changeLanguage = function changeLanguage(lng) {\n    if (lng) this.language = lng;\n  };\n\n  Translator.prototype.exists = function exists(key) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { interpolation: {} };\n\n    if (this.options.compatibilityAPI === 'v1') {\n      options = convertTOptions(options);\n    }\n\n    return this.resolve(key, options) !== undefined;\n  };\n\n  Translator.prototype.extractFromKey = function extractFromKey(key, options) {\n    var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    var keySeparator = options.keySeparator || this.options.keySeparator || '.';\n\n    var namespaces = options.ns || this.options.defaultNS;\n    if (nsSeparator && key.indexOf(nsSeparator) > -1) {\n      var parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    return {\n      key: key,\n      namespaces: namespaces\n    };\n  };\n\n  Translator.prototype.translate = function translate(keys) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) !== 'object') {\n      /* eslint prefer-rest-params: 0 */\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    } else if (this.options.compatibilityAPI === 'v1') {\n      options = convertTOptions(options);\n    }\n\n    // non valid keys handling\n    if (keys === undefined || keys === null || keys === '') return '';\n    if (typeof keys === 'number') keys = String(keys);\n    if (typeof keys === 'string') keys = [keys];\n\n    // separators\n    var keySeparator = options.keySeparator || this.options.keySeparator || '.';\n\n    // get namespace(s)\n\n    var _extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n        key = _extractFromKey.key,\n        namespaces = _extractFromKey.namespaces;\n\n    var namespace = namespaces[namespaces.length - 1];\n\n    // return key on CIMode\n    var lng = options.lng || this.language;\n    var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng && lng.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        return namespace + nsSeparator + key;\n      }\n\n      return key;\n    }\n\n    // resolve from store\n    var res = this.resolve(keys, options);\n\n    var resType = Object.prototype.toString.apply(res);\n    var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n\n    // object\n    if (res && typeof res !== 'string' && noObject.indexOf(resType) < 0 && !(joinArrays && resType === '[object Array]')) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(key, res, options) : 'key \\'' + key + ' (' + this.language + ')\\' returned an object instead of string.';\n      }\n\n      // if we got a separator we loop over children - else we just return object as is\n      // as having it set to false means no hierarchy so no lookup for nested values\n      if (options.keySeparator || this.options.keySeparator) {\n        var copy$$1 = resType === '[object Array]' ? [] : {}; // apply child translation on a copy\n\n        /* eslint no-restricted-syntax: 0 */\n        for (var m in res) {\n          if (Object.prototype.hasOwnProperty.call(res, m)) {\n            copy$$1[m] = this.translate('' + key + keySeparator + m, _extends({}, options, { joinArrays: false, ns: namespaces }));\n          }\n        }\n        res = copy$$1;\n      }\n    } else if (joinArrays && resType === '[object Array]') {\n      // array special treatment\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, key, options);\n    } else {\n      // string, empty or null\n      var usedDefault = false;\n      var usedKey = false;\n\n      // fallback value\n      if (!this.isValidLookup(res) && options.defaultValue !== undefined) {\n        usedDefault = true;\n        res = options.defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n\n      // save missing\n      if (usedKey || usedDefault) {\n        this.logger.log('missingKey', lng, namespace, key, res);\n\n        var lngs = [];\n        var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (var i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n\n        if (this.options.saveMissing) {\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(lngs, namespace, key, res);\n          } else if (this.backendConnector && this.backendConnector.saveMissing) {\n            this.backendConnector.saveMissing(lngs, namespace, key, res);\n          }\n        }\n\n        this.emit('missingKey', lngs, namespace, key, res);\n      }\n\n      // extend\n      res = this.extendTranslation(res, key, options);\n\n      // append namespace if still key\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = namespace + ':' + key;\n\n      // parseMissingKeyHandler\n      if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);\n    }\n\n    // return\n    return res;\n  };\n\n  Translator.prototype.extendTranslation = function extendTranslation(res, key, options) {\n    var _this2 = this;\n\n    if (options.interpolation) this.interpolator.init(_extends({}, options, { interpolation: _extends({}, this.options.interpolation, options.interpolation) }));\n\n    // interpolate\n    var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n    if (this.options.interpolation.defaultVariables) data = _extends({}, this.options.interpolation.defaultVariables, data);\n    res = this.interpolator.interpolate(res, data, options.lng || this.language);\n\n    // nesting\n    if (options.nest !== false) res = this.interpolator.nest(res, function () {\n      return _this2.translate.apply(_this2, arguments);\n    }, options);\n\n    if (options.interpolation) this.interpolator.reset();\n\n    // post process\n    var postProcess = options.postProcess || this.options.postProcess;\n    var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n    if (res !== undefined && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, options, this);\n    }\n\n    return res;\n  };\n\n  Translator.prototype.resolve = function resolve(keys) {\n    var _this3 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var found = void 0;\n\n    if (typeof keys === 'string') keys = [keys];\n\n    // forEach possible key\n    keys.forEach(function (k) {\n      if (_this3.isValidLookup(found)) return;\n\n      var extracted = _this3.extractFromKey(k, options);\n      var key = extracted.key;\n      var namespaces = extracted.namespaces;\n      if (_this3.options.fallbackNS) namespaces = namespaces.concat(_this3.options.fallbackNS);\n\n      var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';\n\n      var codes = options.lngs ? options.lngs : _this3.languageUtils.toResolveHierarchy(options.lng || _this3.language);\n\n      namespaces.forEach(function (ns) {\n        if (_this3.isValidLookup(found)) return;\n\n        codes.forEach(function (code) {\n          if (_this3.isValidLookup(found)) return;\n\n          var finalKey = key;\n          var finalKeys = [finalKey];\n\n          var pluralSuffix = void 0;\n          if (needsPluralHandling) pluralSuffix = _this3.pluralResolver.getSuffix(code, options.count);\n\n          // fallback for plural if context not found\n          if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix);\n\n          // get key for context if needed\n          if (needsContextHandling) finalKeys.push(finalKey += '' + _this3.options.contextSeparator + options.context);\n\n          // get key for plural if needed\n          if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);\n\n          // iterate over finalKeys starting with most specific pluralkey (-> contextkey only) -> singularkey only\n          var possibleKey = void 0;\n          /* eslint no-cond-assign: 0 */\n          while (possibleKey = finalKeys.pop()) {\n            if (!_this3.isValidLookup(found)) {\n              found = _this3.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n\n    return found;\n  };\n\n  Translator.prototype.isValidLookup = function isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  };\n\n  Translator.prototype.getResource = function getResource(code, ns, key) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    return this.resourceStore.getResource(code, ns, key, options);\n  };\n\n  return Translator;\n}(EventEmitter);\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n\n    this.whitelist = this.options.whitelist || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  LanguageUtil.prototype.getScriptPartFromCode = function getScriptPartFromCode(code) {\n    if (!code || code.indexOf('-') < 0) return null;\n\n    var p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    return this.formatLanguageCode(p.join('-'));\n  };\n\n  LanguageUtil.prototype.getLanguagePartFromCode = function getLanguagePartFromCode(code) {\n    if (!code || code.indexOf('-') < 0) return code;\n\n    var p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  };\n\n  LanguageUtil.prototype.formatLanguageCode = function formatLanguageCode(code) {\n    // http://www.iana.org/assignments/language-tags/language-tags.xhtml\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      var p = code.split('-');\n\n      if (this.options.lowerCaseLng) {\n        p = p.map(function (part) {\n          return part.toLowerCase();\n        });\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n\n        // if lenght 2 guess it's a country\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n\n      return p.join('-');\n    }\n\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  };\n\n  LanguageUtil.prototype.isWhitelisted = function isWhitelisted(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitWhitelist) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.whitelist || !this.whitelist.length || this.whitelist.indexOf(code) > -1;\n  };\n\n  LanguageUtil.prototype.getFallbackCodes = function getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n    if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n\n    if (!code) return fallbacks.default || [];\n\n    // asume we have an object defining fallbacks\n    var found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks.default;\n\n    return found || [];\n  };\n\n  LanguageUtil.prototype.toResolveHierarchy = function toResolveHierarchy(code, fallbackCode) {\n    var _this = this;\n\n    var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n\n    var codes = [];\n    var addCode = function addCode(c) {\n      if (!c) return;\n      if (_this.isWhitelisted(c)) {\n        codes.push(c);\n      } else {\n        _this.logger.warn('rejecting non-whitelisted language code: ' + c);\n      }\n    };\n\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (typeof code === 'string') {\n      addCode(this.formatLanguageCode(code));\n    }\n\n    fallbackCodes.forEach(function (fc) {\n      if (codes.indexOf(fc) < 0) addCode(_this.formatLanguageCode(fc));\n    });\n\n    return codes;\n  };\n\n  return LanguageUtil;\n}();\n\n// definition http://translate.sourceforge.net/wiki/l10n/pluralforms\n/* eslint-disable */\nvar sets = [{ lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'tg', 'ti', 'tr', 'uz', 'wa'], nr: [1, 2], fc: 1 }, { lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'es_ar', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'he', 'hi', 'hu', 'hy', 'ia', 'it', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt', 'pt_br', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'], nr: [1, 2], fc: 2 }, { lngs: ['ay', 'bo', 'cgg', 'fa', 'id', 'ja', 'jbo', 'ka', 'kk', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'], nr: [1], fc: 3 }, { lngs: ['be', 'bs', 'dz', 'hr', 'ru', 'sr', 'uk'], nr: [1, 2, 5], fc: 4 }, { lngs: ['ar'], nr: [0, 1, 2, 3, 11, 100], fc: 5 }, { lngs: ['cs', 'sk'], nr: [1, 2, 5], fc: 6 }, { lngs: ['csb', 'pl'], nr: [1, 2, 5], fc: 7 }, { lngs: ['cy'], nr: [1, 2, 3, 8], fc: 8 }, { lngs: ['fr'], nr: [1, 2], fc: 9 }, { lngs: ['ga'], nr: [1, 2, 3, 7, 11], fc: 10 }, { lngs: ['gd'], nr: [1, 2, 3, 20], fc: 11 }, { lngs: ['is'], nr: [1, 2], fc: 12 }, { lngs: ['jv'], nr: [0, 1], fc: 13 }, { lngs: ['kw'], nr: [1, 2, 3, 4], fc: 14 }, { lngs: ['lt'], nr: [1, 2, 10], fc: 15 }, { lngs: ['lv'], nr: [1, 2, 0], fc: 16 }, { lngs: ['mk'], nr: [1, 2], fc: 17 }, { lngs: ['mnk'], nr: [0, 1, 2], fc: 18 }, { lngs: ['mt'], nr: [1, 2, 11, 20], fc: 19 }, { lngs: ['or'], nr: [2, 1], fc: 2 }, { lngs: ['ro'], nr: [1, 2, 20], fc: 20 }, { lngs: ['sl'], nr: [5, 1, 2, 3], fc: 21 }];\n\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n === 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n === 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n === 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  }\n};\n/* eslint-enable */\n\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set$$1) {\n    set$$1.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set$$1.nr,\n        plurals: _rulesPluralsTypes[set$$1.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n\n    this.logger = baseLogger.create('pluralResolver');\n\n    this.rules = createRules();\n  }\n\n  PluralResolver.prototype.addRule = function addRule(lng, obj) {\n    this.rules[lng] = obj;\n  };\n\n  PluralResolver.prototype.getRule = function getRule(code) {\n    return this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  };\n\n  PluralResolver.prototype.needsPlural = function needsPlural(code) {\n    var rule = this.getRule(code);\n\n    return rule && rule.numbers.length > 1;\n  };\n\n  PluralResolver.prototype.getSuffix = function getSuffix(code, count) {\n    var _this = this;\n\n    var rule = this.getRule(code);\n\n    if (rule) {\n      var _ret = function () {\n        if (rule.numbers.length === 1) return {\n            v: ''\n          }; // only singular\n\n        var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n        var suffix = rule.numbers[idx];\n\n        // special treatment for lngs only having singular and plural\n        if (_this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          if (suffix === 2) {\n            suffix = 'plural';\n          } else if (suffix === 1) {\n            suffix = '';\n          }\n        }\n\n        var returnSuffix = function returnSuffix() {\n          return _this.options.prepend && suffix.toString() ? _this.options.prepend + suffix.toString() : suffix.toString();\n        };\n\n        // COMPATIBILITY JSON\n        // v1\n        if (_this.options.compatibilityJSON === 'v1') {\n          if (suffix === 1) return {\n              v: ''\n            };\n          if (typeof suffix === 'number') return {\n              v: '_plural_' + suffix.toString()\n            };\n          return {\n            v: returnSuffix()\n          };\n        } else if ( /* v2 */_this.options.compatibilityJSON === 'v2' || rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          return {\n            v: returnSuffix()\n          };\n        } else if ( /* v3 - gettext index */rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          return {\n            v: returnSuffix()\n          };\n        }\n        return {\n          v: _this.options.prepend && idx.toString() ? _this.options.prepend + idx.toString() : idx.toString()\n        };\n      }();\n\n      if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n    }\n\n    this.logger.warn('no plural rule found for: ' + code);\n    return '';\n  };\n\n  return PluralResolver;\n}();\n\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    classCallCheck(this, Interpolator);\n\n    this.logger = baseLogger.create('interpolator');\n\n    this.init(options, true);\n  }\n\n  /* eslint no-param-reassign: 0 */\n\n\n  Interpolator.prototype.init = function init() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var reset = arguments[1];\n\n    if (reset) {\n      this.options = options;\n      this.format = options.interpolation && options.interpolation.format || function (value) {\n        return value;\n      };\n      this.escape = options.interpolation && options.interpolation.escape || escape;\n    }\n    if (!options.interpolation) options.interpolation = { escapeValue: true };\n\n    var iOpts = options.interpolation;\n\n    this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n\n    this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n    this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n\n    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n\n    this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n\n    this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n\n    // the regexp\n    this.resetRegExp();\n  };\n\n  Interpolator.prototype.reset = function reset() {\n    if (this.options) this.init(this.options);\n  };\n\n  Interpolator.prototype.resetRegExp = function resetRegExp() {\n    // the regexp\n    var regexpStr = this.prefix + '(.+?)' + this.suffix;\n    this.regexp = new RegExp(regexpStr, 'g');\n\n    var regexpUnescapeStr = '' + this.prefix + this.unescapePrefix + '(.+?)' + this.unescapeSuffix + this.suffix;\n    this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n\n    var nestingRegexpStr = this.nestingPrefix + '(.+?)' + this.nestingSuffix;\n    this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n  };\n\n  Interpolator.prototype.interpolate = function interpolate(str, data, lng) {\n    var _this = this;\n\n    var match = void 0;\n    var value = void 0;\n\n    function regexSafe(val) {\n      return val.replace(/\\$/g, '$$$$');\n    }\n\n    var handleFormat = function handleFormat(key) {\n      if (key.indexOf(_this.formatSeparator) < 0) return getPath(data, key);\n\n      var p = key.split(_this.formatSeparator);\n      var k = p.shift().trim();\n      var f = p.join(_this.formatSeparator).trim();\n\n      return _this.format(getPath(data, k), f, lng);\n    };\n\n    this.resetRegExp();\n\n    // unescape if has unescapePrefix/Suffix\n    /* eslint no-cond-assign: 0 */\n    while (match = this.regexpUnescape.exec(str)) {\n      value = handleFormat(match[1].trim());\n      str = str.replace(match[0], value);\n      this.regexpUnescape.lastIndex = 0;\n    }\n\n    // regular escape on demand\n    while (match = this.regexp.exec(str)) {\n      value = handleFormat(match[1].trim());\n      if (typeof value !== 'string') value = makeString(value);\n      if (!value) {\n        this.logger.warn('missed to pass in variable ' + match[1] + ' for interpolating ' + str);\n        value = '';\n      }\n      value = this.escapeValue ? regexSafe(this.escape(value)) : regexSafe(value);\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  };\n\n  Interpolator.prototype.nest = function nest(str, fc) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var match = void 0;\n    var value = void 0;\n\n    var clonedOptions = _extends({}, options);\n    clonedOptions.applyPostProcessor = false; // avoid post processing on nested lookup\n\n    // if value is something like \"myKey\": \"lorem $(anotherKey, { \"count\": {{aValueInOptions}} })\"\n    function handleHasOptions(key) {\n      if (key.indexOf(',') < 0) return key;\n\n      var p = key.split(',');\n      key = p.shift();\n      var optionsString = p.join(',');\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      optionsString = optionsString.replace(/'/g, '\"');\n\n      try {\n        clonedOptions = JSON.parse(optionsString);\n      } catch (e) {\n        this.logger.error('failed parsing options string in nesting for key ' + key, e);\n      }\n\n      return key;\n    }\n\n    // regular escape on demand\n    while (match = this.nestingRegexp.exec(str)) {\n      value = fc(handleHasOptions.call(this, match[1].trim()), clonedOptions);\n\n      // is only the nesting key (key1 = '$(key2)') return the value without stringify\n      if (value && match[0] === str && typeof value !== 'string') return value;\n\n      // no string to include or empty\n      if (typeof value !== 'string') value = makeString(value);\n      if (!value) {\n        this.logger.warn('missed to resolve ' + match[1] + ' for nesting ' + str);\n        value = '';\n      }\n      // Nested keys should not be escaped by default #854\n      // value = this.escapeValue ? regexSafe(utils.escape(value)) : regexSafe(value);\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  };\n\n  return Interpolator;\n}();\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    classCallCheck(this, Connector);\n\n    var _this = possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n    return _this;\n  }\n\n  Connector.prototype.queueLoad = function queueLoad(languages, namespaces, callback) {\n    var _this2 = this;\n\n    // find what needs to be loaded\n    var toLoad = [];\n    var pending = [];\n    var toLoadLanguages = [];\n    var toLoadNamespaces = [];\n\n    languages.forEach(function (lng) {\n      var hasAllNamespaces = true;\n\n      namespaces.forEach(function (ns) {\n        var name = lng + '|' + ns;\n\n        if (_this2.store.hasResourceBundle(lng, ns)) {\n          _this2.state[name] = 2; // loaded\n        } else if (_this2.state[name] < 0) {\n          // nothing to do for err\n        } else if (_this2.state[name] === 1) {\n          if (pending.indexOf(name) < 0) pending.push(name);\n        } else {\n          _this2.state[name] = 1; // pending\n\n          hasAllNamespaces = false;\n\n          if (pending.indexOf(name) < 0) pending.push(name);\n          if (toLoad.indexOf(name) < 0) toLoad.push(name);\n          if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n        }\n      });\n\n      if (!hasAllNamespaces) toLoadLanguages.push(lng);\n    });\n\n    if (toLoad.length || pending.length) {\n      this.queue.push({\n        pending: pending,\n        loaded: {},\n        errors: [],\n        callback: callback\n      });\n    }\n\n    return {\n      toLoad: toLoad,\n      pending: pending,\n      toLoadLanguages: toLoadLanguages,\n      toLoadNamespaces: toLoadNamespaces\n    };\n  };\n\n  Connector.prototype.loaded = function loaded(name, err, data) {\n    var _this3 = this;\n\n    var _name$split = name.split('|'),\n        _name$split2 = slicedToArray(_name$split, 2),\n        lng = _name$split2[0],\n        ns = _name$split2[1];\n\n    if (err) this.emit('failedLoading', lng, ns, err);\n\n    if (data) {\n      this.store.addResourceBundle(lng, ns, data);\n    }\n\n    // set loaded\n    this.state[name] = err ? -1 : 2;\n\n    // callback if ready\n    this.queue.forEach(function (q) {\n      pushPath(q.loaded, [lng], ns);\n      remove(q.pending, name);\n\n      if (err) q.errors.push(err);\n\n      if (q.pending.length === 0 && !q.done) {\n        _this3.emit('loaded', q.loaded);\n        /* eslint no-param-reassign: 0 */\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n\n    // remove done load requests\n    this.queue = this.queue.filter(function (q) {\n      return !q.done;\n    });\n  };\n\n  Connector.prototype.read = function read(lng, ns, fcName) {\n    var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n    var _this4 = this;\n\n    var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n    var callback = arguments[5];\n\n    if (!lng.length) return callback(null, {}); // noting to load\n\n    return this.backend[fcName](lng, ns, function (err, data) {\n      if (err && data /* = retryFlag */ && tried < 5) {\n        setTimeout(function () {\n          _this4.read.call(_this4, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    });\n  };\n\n  /* eslint consistent-return: 0 */\n\n\n  Connector.prototype.load = function load(languages, namespaces, callback) {\n    var _this5 = this;\n\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    var options = _extends({}, this.backend.options, this.options.backend);\n\n    if (typeof languages === 'string') languages = this.services.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    var toLoad = this.queueLoad(languages, namespaces, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback(); // nothing to load and no pendings...callback now\n      return null; // pendings will trigger callback\n    }\n\n    // load with multi-load\n    if (options.allowMultiLoading && this.backend.readMulti) {\n      this.read(toLoad.toLoadLanguages, toLoad.toLoadNamespaces, 'readMulti', null, null, function (err, data) {\n        if (err) _this5.logger.warn('loading namespaces ' + toLoad.toLoadNamespaces.join(', ') + ' for languages ' + toLoad.toLoadLanguages.join(', ') + ' via multiloading failed', err);\n        if (!err && data) _this5.logger.log('successfully loaded namespaces ' + toLoad.toLoadNamespaces.join(', ') + ' for languages ' + toLoad.toLoadLanguages.join(', ') + ' via multiloading', data);\n\n        toLoad.toLoad.forEach(function (name) {\n          var _name$split3 = name.split('|'),\n              _name$split4 = slicedToArray(_name$split3, 2),\n              l = _name$split4[0],\n              n = _name$split4[1];\n\n          var bundle = getPath(data, [l, n]);\n          if (bundle) {\n            _this5.loaded(name, err, bundle);\n          } else {\n            var error = 'loading namespace ' + n + ' for language ' + l + ' via multiloading failed';\n            _this5.loaded(name, error);\n            _this5.logger.error(error);\n          }\n        });\n      });\n    } else {\n      toLoad.toLoad.forEach(function (name) {\n        _this5.loadOne(name);\n      });\n    }\n  };\n\n  Connector.prototype.reload = function reload(languages, namespaces) {\n    var _this6 = this;\n\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n    }\n    var options = _extends({}, this.backend.options, this.options.backend);\n\n    if (typeof languages === 'string') languages = this.services.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n\n    // load with multi-load\n    if (options.allowMultiLoading && this.backend.readMulti) {\n      this.read(languages, namespaces, 'readMulti', null, null, function (err, data) {\n        if (err) _this6.logger.warn('reloading namespaces ' + namespaces.join(', ') + ' for languages ' + languages.join(', ') + ' via multiloading failed', err);\n        if (!err && data) _this6.logger.log('successfully reloaded namespaces ' + namespaces.join(', ') + ' for languages ' + languages.join(', ') + ' via multiloading', data);\n\n        languages.forEach(function (l) {\n          namespaces.forEach(function (n) {\n            var bundle = getPath(data, [l, n]);\n            if (bundle) {\n              _this6.loaded(l + '|' + n, err, bundle);\n            } else {\n              var error = 'reloading namespace ' + n + ' for language ' + l + ' via multiloading failed';\n              _this6.loaded(l + '|' + n, error);\n              _this6.logger.error(error);\n            }\n          });\n        });\n      });\n    } else {\n      languages.forEach(function (l) {\n        namespaces.forEach(function (n) {\n          _this6.loadOne(l + '|' + n, 're');\n        });\n      });\n    }\n  };\n\n  Connector.prototype.loadOne = function loadOne(name) {\n    var _this7 = this;\n\n    var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    var _name$split5 = name.split('|'),\n        _name$split6 = slicedToArray(_name$split5, 2),\n        lng = _name$split6[0],\n        ns = _name$split6[1];\n\n    this.read(lng, ns, 'read', null, null, function (err, data) {\n      if (err) _this7.logger.warn(prefix + 'loading namespace ' + ns + ' for language ' + lng + ' failed', err);\n      if (!err && data) _this7.logger.log(prefix + 'loaded namespace ' + ns + ' for language ' + lng, data);\n\n      _this7.loaded(name, err, data);\n    });\n  };\n\n  Connector.prototype.saveMissing = function saveMissing(languages, namespace, key, fallbackValue) {\n    if (this.backend && this.backend.create) this.backend.create(languages, namespace, key, fallbackValue);\n\n    // write to store to avoid resending\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  };\n\n  return Connector;\n}(EventEmitter);\n\nvar Connector$1 = function (_EventEmitter) {\n  inherits(Connector, _EventEmitter);\n\n  function Connector(cache, store, services) {\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    classCallCheck(this, Connector);\n\n    var _this = possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.cache = cache;\n    _this.store = store;\n    _this.services = services;\n    _this.options = options;\n    _this.logger = baseLogger.create('cacheConnector');\n\n    if (_this.cache && _this.cache.init) _this.cache.init(services, options.cache, options);\n    return _this;\n  }\n\n  /* eslint consistent-return: 0 */\n\n\n  Connector.prototype.load = function load(languages, namespaces, callback) {\n    var _this2 = this;\n\n    if (!this.cache) return callback && callback();\n    var options = _extends({}, this.cache.options, this.options.cache);\n\n    var loadLngs = typeof languages === 'string' ? this.services.languageUtils.toResolveHierarchy(languages) : languages;\n\n    if (options.enabled) {\n      this.cache.load(loadLngs, function (err, data) {\n        if (err) _this2.logger.error('loading languages ' + loadLngs.join(', ') + ' from cache failed', err);\n        if (data) {\n          /* eslint no-restricted-syntax: 0 */\n          for (var l in data) {\n            if (Object.prototype.hasOwnProperty.call(data, l)) {\n              for (var n in data[l]) {\n                if (Object.prototype.hasOwnProperty.call(data[l], n)) {\n                  if (n !== 'i18nStamp') {\n                    var bundle = data[l][n];\n                    if (bundle) _this2.store.addResourceBundle(l, n, bundle);\n                  }\n                }\n              }\n            }\n          }\n        }\n        if (callback) callback();\n      });\n    } else if (callback) {\n      callback();\n    }\n  };\n\n  Connector.prototype.save = function save() {\n    if (this.cache && this.options.cache && this.options.cache.enabled) this.cache.save(this.store.data);\n  };\n\n  return Connector;\n}(EventEmitter);\n\nfunction get$1() {\n  return {\n    debug: false,\n    initImmediate: true,\n\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false, // string or array of namespaces\n\n    whitelist: false, // array with whitelisted languages\n    nonExplicitWhitelist: false,\n    load: 'all', // | currentOnly | languageOnly\n    preload: false, // array with preload languages\n\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n\n    saveMissing: false, // enable to send missing values\n    saveMissingTo: 'fallback', // 'current' || 'all'\n    missingKeyHandler: false, // function(lng, ns, key, fallbackValue) -> override if prefer on handling\n\n    postProcess: false, // string or array of postProcessor names\n    returnNull: true, // allows null value as valid translation\n    returnEmptyString: true, // allows empty string value as valid translation\n    returnObjects: false,\n    joinArrays: false, // or string to join array\n    returnedObjectHandler: function returnedObjectHandler() {}, // function(key, value, options) triggered if key returns object but returnObjects is set to false\n    parseMissingKeyHandler: false, // function(key) parsed a key that was not found in t() before returning\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      return { defaultValue: args[1] };\n    },\n\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      // prefixEscaped: '{{',\n      // suffixEscaped: '}}',\n      // unescapeSuffix: '',\n      unescapePrefix: '-',\n\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      // nestingPrefixEscaped: '$t(',\n      // nestingSuffixEscaped: ')',\n      defaultVariables: undefined // object that can have values to interpolate on - extends passed in interpolation data\n    }\n  };\n}\n\n/* eslint no-param-reassign: 0 */\nfunction transformOptions(options) {\n  // create namespace object if namespace is passed in as string\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  // extend whitelist with cimode\n  if (options.whitelist && options.whitelist.indexOf('cimode') < 0) options.whitelist.push('cimode');\n\n  return options;\n}\n\nfunction noop() {}\n\nvar I18n = function (_EventEmitter) {\n  inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments[1];\n    classCallCheck(this, I18n);\n\n    var _this = possibleConstructorReturn(this, _EventEmitter.call(this));\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = { external: [] };\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      var _ret;\n\n      // https://github.com/i18next/i18next/issues/879\n      if (!_this.options.initImmediate) return _ret = _this.init(options, callback), possibleConstructorReturn(_this, _ret);\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n    return _this;\n  }\n\n  I18n.prototype.init = function init(options, callback) {\n    var _this2 = this;\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!options) options = {};\n\n    if (options.compatibilityAPI === 'v1') {\n      this.options = _extends({}, get$1(), transformOptions(convertAPIOptions(options)), {});\n    } else if (options.compatibilityJSON === 'v1') {\n      this.options = _extends({}, get$1(), transformOptions(convertJSONOptions(options)), {});\n    } else {\n      this.options = _extends({}, get$1(), this.options, transformOptions(options));\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n\n    function createClassOnDemand(ClassOrObject) {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    }\n\n    // init services\n    if (!this.options.isClone) {\n      (function () {\n        if (_this2.modules.logger) {\n          baseLogger.init(createClassOnDemand(_this2.modules.logger), _this2.options);\n        } else {\n          baseLogger.init(null, _this2.options);\n        }\n\n        var lu = new LanguageUtil(_this2.options);\n        _this2.store = new ResourceStore(_this2.options.resources, _this2.options);\n\n        var s = _this2.services;\n        s.logger = baseLogger;\n        s.resourceStore = _this2.store;\n        s.resourceStore.on('added removed', function (lng, ns) {\n          s.cacheConnector.save();\n        });\n        s.languageUtils = lu;\n        s.pluralResolver = new PluralResolver(lu, { prepend: _this2.options.pluralSeparator, compatibilityJSON: _this2.options.compatibilityJSON, simplifyPluralSuffix: _this2.options.simplifyPluralSuffix });\n        s.interpolator = new Interpolator(_this2.options);\n\n        s.backendConnector = new Connector(createClassOnDemand(_this2.modules.backend), s.resourceStore, s, _this2.options);\n        // pipe events from backendConnector\n        s.backendConnector.on('*', function (event) {\n          for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n\n        s.backendConnector.on('loaded', function (loaded) {\n          s.cacheConnector.save();\n        });\n\n        s.cacheConnector = new Connector$1(createClassOnDemand(_this2.modules.cache), s.resourceStore, s, _this2.options);\n        // pipe events from backendConnector\n        s.cacheConnector.on('*', function (event) {\n          for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n\n        if (_this2.modules.languageDetector) {\n          s.languageDetector = createClassOnDemand(_this2.modules.languageDetector);\n          s.languageDetector.init(s, _this2.options.detection, _this2.options);\n        }\n\n        _this2.translator = new Translator(_this2.services, _this2.options);\n        // pipe events from translator\n        _this2.translator.on('*', function (event) {\n          for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n            args[_key3 - 1] = arguments[_key3];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n\n        _this2.modules.external.forEach(function (m) {\n          if (m.init) m.init(_this2);\n        });\n      })();\n    }\n\n    // append api\n    var storeApi = ['getResource', 'addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle', 'hasResourceBundle', 'getResourceBundle'];\n    storeApi.forEach(function (fcName) {\n      _this2[fcName] = function () {\n        var _store;\n\n        return (_store = _this2.store)[fcName].apply(_store, arguments);\n      };\n    });\n\n    // COMPATIBILITY: remove this\n    if (this.options.compatibilityAPI === 'v1') appendBackwardsAPI(this);\n\n    var load = function load() {\n      _this2.changeLanguage(_this2.options.lng, function (err, t) {\n        _this2.isInitialized = true;\n        _this2.logger.log('initialized', _this2.options);\n        _this2.emit('initialized', _this2.options);\n\n        callback(err, t);\n      });\n    };\n\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n\n    return this;\n  };\n\n  /* eslint consistent-return: 0 */\n\n\n  I18n.prototype.loadResources = function loadResources() {\n    var _this3 = this;\n\n    var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n    if (!this.options.resources) {\n      var _ret3 = function () {\n        if (_this3.language && _this3.language.toLowerCase() === 'cimode') return {\n            v: callback()\n          }; // avoid loading resources for cimode\n\n        var toLoad = [];\n\n        var append = function append(lng) {\n          if (!lng) return;\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n\n        if (!_this3.language) {\n          // at least load fallbacks in this case\n          var fallbacks = _this3.services.languageUtils.getFallbackCodes(_this3.options.fallbackLng);\n          fallbacks.forEach(function (l) {\n            return append(l);\n          });\n        } else {\n          append(_this3.language);\n        }\n\n        if (_this3.options.preload) {\n          _this3.options.preload.forEach(function (l) {\n            return append(l);\n          });\n        }\n\n        _this3.services.cacheConnector.load(toLoad, _this3.options.ns, function () {\n          _this3.services.backendConnector.load(toLoad, _this3.options.ns, callback);\n        });\n      }();\n\n      if ((typeof _ret3 === 'undefined' ? 'undefined' : _typeof(_ret3)) === \"object\") return _ret3.v;\n    } else {\n      callback(null);\n    }\n  };\n\n  I18n.prototype.reloadResources = function reloadResources(lngs, ns) {\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    this.services.backendConnector.reload(lngs, ns);\n  };\n\n  I18n.prototype.use = function use(module) {\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n\n    if (module.type === 'cache') {\n      this.modules.cache = module;\n    }\n\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n\n    return this;\n  };\n\n  I18n.prototype.changeLanguage = function changeLanguage(lng, callback) {\n    var _this4 = this;\n\n    var done = function done(err, l) {\n      if (l) {\n        _this4.emit('languageChanged', l);\n        _this4.logger.log('languageChanged', l);\n      }\n\n      if (callback) callback(err, function () {\n        return _this4.t.apply(_this4, arguments);\n      });\n    };\n\n    var setLng = function setLng(l) {\n      if (l) {\n        _this4.language = l;\n        _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n\n        _this4.translator.changeLanguage(l);\n\n        if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n      }\n\n      _this4.loadResources(function (err) {\n        done(err, l);\n      });\n    };\n\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      this.services.languageDetector.detect(setLng);\n    } else {\n      setLng(lng);\n    }\n  };\n\n  I18n.prototype.getFixedT = function getFixedT(lng, ns) {\n    var _this5 = this;\n\n    var fixedT = function fixedT(key) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var options = _extends({}, opts);\n      options.lng = options.lng || fixedT.lng;\n      options.ns = options.ns || fixedT.ns;\n      return _this5.t(key, options);\n    };\n    fixedT.lng = lng;\n    fixedT.ns = ns;\n    return fixedT;\n  };\n\n  I18n.prototype.t = function t() {\n    var _translator;\n\n    return this.translator && (_translator = this.translator).translate.apply(_translator, arguments);\n  };\n\n  I18n.prototype.exists = function exists() {\n    var _translator2;\n\n    return this.translator && (_translator2 = this.translator).exists.apply(_translator2, arguments);\n  };\n\n  I18n.prototype.setDefaultNamespace = function setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  };\n\n  I18n.prototype.loadNamespaces = function loadNamespaces(ns, callback) {\n    var _this6 = this;\n\n    if (!this.options.ns) return callback && callback();\n    if (typeof ns === 'string') ns = [ns];\n\n    ns.forEach(function (n) {\n      if (_this6.options.ns.indexOf(n) < 0) _this6.options.ns.push(n);\n    });\n\n    this.loadResources(callback);\n  };\n\n  I18n.prototype.loadLanguages = function loadLanguages(lngs, callback) {\n    if (typeof lngs === 'string') lngs = [lngs];\n    var preloaded = this.options.preload || [];\n\n    var newLngs = lngs.filter(function (lng) {\n      return preloaded.indexOf(lng) < 0;\n    });\n    // Exit early if all given languages are already preloaded\n    if (!newLngs.length) return callback();\n\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(callback);\n  };\n\n  I18n.prototype.dir = function dir(lng) {\n    if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;\n    if (!lng) return 'rtl';\n\n    var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];\n\n    return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n  };\n\n  /* eslint class-methods-use-this: 0 */\n\n\n  I18n.prototype.createInstance = function createInstance() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments[1];\n\n    return new I18n(options, callback);\n  };\n\n  I18n.prototype.cloneInstance = function cloneInstance() {\n    var _this7 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n    var mergedOptions = _extends({}, this.options, options, { isClone: true });\n    var clone = new I18n(mergedOptions, callback);\n    var membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(function (m) {\n      clone[m] = _this7[m];\n    });\n    clone.translator = new Translator(clone.services, clone.options);\n    clone.translator.on('*', function (event) {\n      for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n\n      clone.emit.apply(clone, [event].concat(args));\n    });\n    clone.init(mergedOptions, callback);\n\n    return clone;\n  };\n\n  return I18n;\n}(EventEmitter);\n\nvar i18next = new I18n();\n\nreturn i18next;\n\n})));\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function (global, factory) {\n   true ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.i18nextXHRBackend = factory());\n}(this, (function () { 'use strict';\n\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\n\nfunction defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction addQueryString(url, params) {\n  if (params && (typeof params === 'undefined' ? 'undefined' : _typeof(params)) === 'object') {\n    var queryString = '',\n        e = encodeURIComponent;\n\n    // Must encode data\n    for (var paramName in params) {\n      queryString += '&' + e(paramName) + '=' + e(params[paramName]);\n    }\n\n    if (!queryString) {\n      return url;\n    }\n\n    url = url + (url.indexOf('?') !== -1 ? '&' : '?') + queryString.slice(1);\n  }\n\n  return url;\n}\n\n// https://gist.github.com/Xeoncross/7663273\nfunction ajax(url, options, callback, data, cache) {\n\n  if (data && (typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object') {\n    if (!cache) {\n      data['_t'] = new Date();\n    }\n    // URL encoded form data must be in querystring format\n    data = addQueryString('', data).slice(1);\n  }\n\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n\n  try {\n    var x;\n    if (XMLHttpRequest) {\n      x = new XMLHttpRequest();\n    } else {\n      x = new ActiveXObject('MSXML2.XMLHTTP.3.0');\n    }\n    x.open(data ? 'POST' : 'GET', url, 1);\n    if (!options.crossDomain) {\n      x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n    x.withCredentials = !!options.withCredentials;\n    if (data) {\n      x.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    }\n    var h = options.customHeaders;\n    if (h) {\n      for (var i in h) {\n        x.setRequestHeader(i, h[i]);\n      }\n    }\n    x.onreadystatechange = function () {\n      x.readyState > 3 && callback && callback(x.responseText, x);\n    };\n    x.send(data);\n  } catch (e) {\n    console && console.log(e);\n  }\n}\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getDefaults() {\n  return {\n    loadPath: '/locales/{{lng}}/{{ns}}.json',\n    addPath: 'locales/add/{{lng}}/{{ns}}',\n    allowMultiLoading: false,\n    parse: JSON.parse,\n    crossDomain: false,\n    ajax: ajax\n  };\n}\n\nvar Backend = function () {\n  function Backend(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Backend);\n\n    this.init(services, options);\n\n    this.type = 'backend';\n  }\n\n  _createClass(Backend, [{\n    key: 'init',\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this.services = services;\n      this.options = defaults(options, this.options || {}, getDefaults());\n    }\n  }, {\n    key: 'readMulti',\n    value: function readMulti(languages, namespaces, callback) {\n      var loadPath = this.options.loadPath;\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath(languages, namespaces);\n      }\n\n      var url = this.services.interpolator.interpolate(loadPath, { lng: languages.join('+'), ns: namespaces.join('+') });\n\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: 'read',\n    value: function read(language, namespace, callback) {\n      var loadPath = this.options.loadPath;\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath([language], [namespace]);\n      }\n\n      var url = this.services.interpolator.interpolate(loadPath, { lng: language, ns: namespace });\n\n      this.loadUrl(url, callback);\n    }\n  }, {\n    key: 'loadUrl',\n    value: function loadUrl(url, callback) {\n      var _this = this;\n\n      this.options.ajax(url, this.options, function (data, xhr) {\n        if (xhr.status >= 500 && xhr.status < 600) return callback('failed loading ' + url, true /* retry */);\n        if (xhr.status >= 400 && xhr.status < 500) return callback('failed loading ' + url, false /* no retry */);\n\n        var ret = void 0,\n            err = void 0;\n        try {\n          ret = _this.options.parse(data, url);\n        } catch (e) {\n          err = 'failed parsing ' + url + ' to json';\n        }\n        if (err) return callback(err, false);\n        callback(null, ret);\n      });\n    }\n  }, {\n    key: 'create',\n    value: function create(languages, namespace, key, fallbackValue) {\n      var _this2 = this;\n\n      if (typeof languages === 'string') languages = [languages];\n\n      var payload = {};\n      payload[key] = fallbackValue || '';\n\n      languages.forEach(function (lng) {\n        var url = _this2.services.interpolator.interpolate(_this2.options.addPath, { lng: lng, ns: namespace });\n\n        _this2.options.ajax(url, _this2.options, function (data, xhr) {\n          //const statusCode = xhr.status.toString();\n          // TODO: if statusCode === 4xx do log\n        }, payload);\n      });\n    }\n  }]);\n\n  return Backend;\n}();\n\nBackend.type = 'backend';\n\nreturn Backend;\n\n})));\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function (global, factory) {\n     true ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.i18nextLocalStorageCache = factory());\n}(this, (function () { 'use strict';\n\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\n\nfunction defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n\n\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this,\n        args = arguments;\n    var later = function later() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar storage = {\n  setItem: function setItem(key, value) {\n    if (window.localStorage) {\n      try {\n        window.localStorage.setItem(key, value);\n      } catch (e) {\n        // f.log('failed to set value for key \"' + key + '\" to localStorage.');\n      }\n    }\n  },\n  getItem: function getItem(key, value) {\n    if (window.localStorage) {\n      try {\n        return window.localStorage.getItem(key, value);\n      } catch (e) {\n        // f.log('failed to get value for key \"' + key + '\" from localStorage.');\n      }\n    }\n    return undefined;\n  }\n};\n\nfunction getDefaults() {\n  return {\n    enabled: false,\n    prefix: 'i18next_res_',\n    expirationTime: 7 * 24 * 60 * 60 * 1000,\n    versions: {}\n  };\n}\n\nvar Cache = function () {\n  function Cache(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Cache);\n\n    this.init(services, options);\n\n    this.type = 'cache';\n    this.debouncedStore = debounce(this.store, 10000);\n  }\n\n  _createClass(Cache, [{\n    key: 'init',\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this.services = services;\n      this.options = defaults(options, this.options || {}, getDefaults());\n    }\n  }, {\n    key: 'load',\n    value: function load(lngs, callback) {\n      var _this = this;\n\n      var store = {};\n      var nowMS = new Date().getTime();\n\n      if (!window.localStorage || !lngs.length) {\n        return callback(null, null);\n      }\n\n      var todo = lngs.length;\n\n      lngs.forEach(function (lng) {\n        var local = storage.getItem(_this.options.prefix + lng);\n\n        if (local) {\n          local = JSON.parse(local);\n          if (\n          // expiration field is mandatory, and should not be expired\n          local.i18nStamp && local.i18nStamp + _this.options.expirationTime > nowMS &&\n\n          // there should be no language version set, or if it is, it should match the one in translation\n          _this.options.versions[lng] === local.i18nVersion) {\n            delete local.i18nVersion;\n            store[lng] = local;\n          }\n        }\n\n        todo -= 1;\n        if (todo === 0) {\n          callback(null, store);\n        }\n      });\n      return undefined;\n    }\n  }, {\n    key: 'store',\n    value: function store(storeParam) {\n      var store = storeParam;\n      if (window.localStorage) {\n        for (var m in store) {\n          // eslint-disable-line\n          // timestamp\n          store[m].i18nStamp = new Date().getTime();\n\n          // language version (if set)\n          if (this.options.versions[m]) {\n            store[m].i18nVersion = this.options.versions[m];\n          }\n\n          // save\n          storage.setItem(this.options.prefix + m, JSON.stringify(store[m]));\n        }\n      }\n    }\n  }, {\n    key: 'save',\n    value: function save(store) {\n      this.debouncedStore(store);\n    }\n  }]);\n\n  return Cache;\n}();\n\nCache.type = 'cache';\n\nreturn Cache;\n\n})));\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function (global, factory) {\n     true ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define('i18nextSprintfPostProcessor', factory) :\n    (global.i18nextSprintfPostProcessor = factory());\n}(this, function () { 'use strict';\n\n    var babelHelpers = {};\n    babelHelpers.typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n    };\n    babelHelpers;\n\n    var re = {\n        not_string: /[^s]/,\n        number: /[diefg]/,\n        json: /[j]/,\n        not_json: /[^j]/,\n        text: /^[^\\x25]+/,\n        modulo: /^\\x25{2}/,\n        placeholder: /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-gijosuxX])/,\n        key: /^([a-z_][a-z_\\d]*)/i,\n        key_access: /^\\.([a-z_][a-z_\\d]*)/i,\n        index_access: /^\\[(\\d+)\\]/,\n        sign: /^[\\+\\-]/\n    };\n\n    function sprintf() {\n        var key = arguments[0],\n            cache = sprintf.cache;\n        if (!(cache[key] && cache.hasOwnProperty(key))) {\n            cache[key] = sprintf.parse(key);\n        }\n        return sprintf.format.call(null, cache[key], arguments);\n    }\n\n    sprintf.format = function (parse_tree, argv) {\n        var cursor = 1,\n            tree_length = parse_tree.length,\n            node_type = \"\",\n            arg,\n            output = [],\n            i,\n            k,\n            match,\n            pad,\n            pad_character,\n            pad_length,\n            is_positive = true,\n            sign = \"\";\n        for (i = 0; i < tree_length; i++) {\n            node_type = get_type(parse_tree[i]);\n            if (node_type === \"string\") {\n                output[output.length] = parse_tree[i];\n            } else if (node_type === \"array\") {\n                match = parse_tree[i]; // convenience purposes only\n                if (match[2]) {\n                    // keyword argument\n                    arg = argv[cursor];\n                    for (k = 0; k < match[2].length; k++) {\n                        if (!arg.hasOwnProperty(match[2][k])) {\n                            throw new Error(sprintf(\"[sprintf] property '%s' does not exist\", match[2][k]));\n                        }\n                        arg = arg[match[2][k]];\n                    }\n                } else if (match[1]) {\n                    // positional argument (explicit)\n                    arg = argv[match[1]];\n                } else {\n                    // positional argument (implicit)\n                    arg = argv[cursor++];\n                }\n\n                if (get_type(arg) == \"function\") {\n                    arg = arg();\n                }\n\n                if (re.not_string.test(match[8]) && re.not_json.test(match[8]) && get_type(arg) != \"number\" && isNaN(arg)) {\n                    throw new TypeError(sprintf(\"[sprintf] expecting number but found %s\", get_type(arg)));\n                }\n\n                if (re.number.test(match[8])) {\n                    is_positive = arg >= 0;\n                }\n\n                switch (match[8]) {\n                    case \"b\":\n                        arg = arg.toString(2);\n                        break;\n                    case \"c\":\n                        arg = String.fromCharCode(arg);\n                        break;\n                    case \"d\":\n                    case \"i\":\n                        arg = parseInt(arg, 10);\n                        break;\n                    case \"j\":\n                        arg = JSON.stringify(arg, null, match[6] ? parseInt(match[6]) : 0);\n                        break;\n                    case \"e\":\n                        arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential();\n                        break;\n                    case \"f\":\n                        arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg);\n                        break;\n                    case \"g\":\n                        arg = match[7] ? parseFloat(arg).toPrecision(match[7]) : parseFloat(arg);\n                        break;\n                    case \"o\":\n                        arg = arg.toString(8);\n                        break;\n                    case \"s\":\n                        arg = (arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg;\n                        break;\n                    case \"u\":\n                        arg = arg >>> 0;\n                        break;\n                    case \"x\":\n                        arg = arg.toString(16);\n                        break;\n                    case \"X\":\n                        arg = arg.toString(16).toUpperCase();\n                        break;\n                }\n                if (re.json.test(match[8])) {\n                    output[output.length] = arg;\n                } else {\n                    if (re.number.test(match[8]) && (!is_positive || match[3])) {\n                        sign = is_positive ? \"+\" : \"-\";\n                        arg = arg.toString().replace(re.sign, \"\");\n                    } else {\n                        sign = \"\";\n                    }\n                    pad_character = match[4] ? match[4] === \"0\" ? \"0\" : match[4].charAt(1) : \" \";\n                    pad_length = match[6] - (sign + arg).length;\n                    pad = match[6] ? pad_length > 0 ? str_repeat(pad_character, pad_length) : \"\" : \"\";\n                    output[output.length] = match[5] ? sign + arg + pad : pad_character === \"0\" ? sign + pad + arg : pad + sign + arg;\n                }\n            }\n        }\n        return output.join(\"\");\n    };\n\n    sprintf.cache = {};\n\n    sprintf.parse = function (fmt) {\n        var _fmt = fmt,\n            match = [],\n            parse_tree = [],\n            arg_names = 0;\n        while (_fmt) {\n            if ((match = re.text.exec(_fmt)) !== null) {\n                parse_tree[parse_tree.length] = match[0];\n            } else if ((match = re.modulo.exec(_fmt)) !== null) {\n                parse_tree[parse_tree.length] = \"%\";\n            } else if ((match = re.placeholder.exec(_fmt)) !== null) {\n                if (match[2]) {\n                    arg_names |= 1;\n                    var field_list = [],\n                        replacement_field = match[2],\n                        field_match = [];\n                    if ((field_match = re.key.exec(replacement_field)) !== null) {\n                        field_list[field_list.length] = field_match[1];\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== \"\") {\n                            if ((field_match = re.key_access.exec(replacement_field)) !== null) {\n                                field_list[field_list.length] = field_match[1];\n                            } else if ((field_match = re.index_access.exec(replacement_field)) !== null) {\n                                field_list[field_list.length] = field_match[1];\n                            } else {\n                                throw new SyntaxError(\"[sprintf] failed to parse named argument key\");\n                            }\n                        }\n                    } else {\n                        throw new SyntaxError(\"[sprintf] failed to parse named argument key\");\n                    }\n                    match[2] = field_list;\n                } else {\n                    arg_names |= 2;\n                }\n                if (arg_names === 3) {\n                    throw new Error(\"[sprintf] mixing positional and named placeholders is not (yet) supported\");\n                }\n                parse_tree[parse_tree.length] = match;\n            } else {\n                throw new SyntaxError(\"[sprintf] unexpected placeholder\");\n            }\n            _fmt = _fmt.substring(match[0].length);\n        }\n        return parse_tree;\n    };\n\n    function vsprintf(fmt, argv, _argv) {\n        _argv = (argv || []).slice(0);\n        _argv.splice(0, 0, fmt);\n        return sprintf.apply(null, _argv);\n    }\n\n    /**\n     * helpers\n     */\n    function get_type(variable) {\n        return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase();\n    }\n\n    function str_repeat(input, multiplier) {\n        return Array(multiplier + 1).join(input);\n    }\n\n    var index = {\n      name: 'sprintf',\n      type: 'postProcessor',\n\n      process: function process(value, key, options) {\n        if (!options.sprintf) return value;\n\n        if (Object.prototype.toString.apply(options.sprintf) === '[object Array]') {\n          return vsprintf(value, options.sprintf);\n        } else if (babelHelpers.typeof(options.sprintf) === 'object') {\n          return sprintf(value, options.sprintf);\n        }\n\n        return value;\n      },\n      overloadTranslationOptionHandler: function overloadTranslationOptionHandler(args) {\n        var values = [];\n\n        for (var i = 1; i < args.length; i++) {\n          values.push(args[i]);\n        }\n\n        return {\n          postProcess: 'sprintf',\n          sprintf: values\n        };\n      }\n    };\n\n    return index;\n\n}));\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function (global, factory) {\n   true ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.i18nextBrowserLanguageDetector = factory());\n}(this, function () { 'use strict';\n\n  var babelHelpers = {};\n\n  babelHelpers.classCallCheck = function (instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  babelHelpers.createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  babelHelpers;\n\n  var arr = [];\n  var each = arr.forEach;\n  var slice = arr.slice;\n\n  function defaults(obj) {\n    each.call(slice.call(arguments, 1), function (source) {\n      if (source) {\n        for (var prop in source) {\n          if (obj[prop] === undefined) obj[prop] = source[prop];\n        }\n      }\n    });\n    return obj;\n  }\n\n  var cookie = {\n    create: function create(name, value, minutes, domain) {\n      var expires = void 0;\n      if (minutes) {\n        var date = new Date();\n        date.setTime(date.getTime() + minutes * 60 * 1000);\n        expires = '; expires=' + date.toGMTString();\n      } else expires = '';\n      domain = domain ? 'domain=' + domain + ';' : '';\n      document.cookie = name + '=' + value + expires + ';' + domain + 'path=/';\n    },\n\n    read: function read(name) {\n      var nameEQ = name + '=';\n      var ca = document.cookie.split(';');\n      for (var i = 0; i < ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) === ' ') {\n          c = c.substring(1, c.length);\n        }if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n      }\n      return null;\n    },\n\n    remove: function remove(name) {\n      this.create(name, '', -1);\n    }\n  };\n\n  var cookie$1 = {\n    name: 'cookie',\n\n    lookup: function lookup(options) {\n      var found = void 0;\n\n      if (options.lookupCookie && typeof document !== 'undefined') {\n        var c = cookie.read(options.lookupCookie);\n        if (c) found = c;\n      }\n\n      return found;\n    },\n    cacheUserLanguage: function cacheUserLanguage(lng, options) {\n      if (options.lookupCookie && typeof document !== 'undefined') {\n        cookie.create(options.lookupCookie, lng, options.cookieMinutes, options.cookieDomain);\n      }\n    }\n  };\n\n  var querystring = {\n    name: 'querystring',\n\n    lookup: function lookup(options) {\n      var found = void 0;\n\n      if (typeof window !== 'undefined') {\n        var query = window.location.search.substring(1);\n        var params = query.split('&');\n        for (var i = 0; i < params.length; i++) {\n          var pos = params[i].indexOf('=');\n          if (pos > 0) {\n            var key = params[i].substring(0, pos);\n            if (key === options.lookupQuerystring) {\n              found = params[i].substring(pos + 1);\n            }\n          }\n        }\n      }\n\n      return found;\n    }\n  };\n\n  var hasLocalStorageSupport = void 0;\n  try {\n    hasLocalStorageSupport = window !== 'undefined' && window.localStorage !== null;\n    var testKey = 'i18next.translate.boo';\n    window.localStorage.setItem(testKey, 'foo');\n    window.localStorage.removeItem(testKey);\n  } catch (e) {\n    hasLocalStorageSupport = false;\n  }\n\n  var localStorage = {\n    name: 'localStorage',\n\n    lookup: function lookup(options) {\n      var found = void 0;\n\n      if (options.lookupLocalStorage && hasLocalStorageSupport) {\n        var lng = window.localStorage.getItem(options.lookupLocalStorage);\n        if (lng) found = lng;\n      }\n\n      return found;\n    },\n    cacheUserLanguage: function cacheUserLanguage(lng, options) {\n      if (options.lookupLocalStorage && hasLocalStorageSupport) {\n        window.localStorage.setItem(options.lookupLocalStorage, lng);\n      }\n    }\n  };\n\n  var navigator$1 = {\n    name: 'navigator',\n\n    lookup: function lookup(options) {\n      var found = [];\n\n      if (typeof navigator !== 'undefined') {\n        if (navigator.languages) {\n          // chrome only; not an array, so can't use .push.apply instead of iterating\n          for (var i = 0; i < navigator.languages.length; i++) {\n            found.push(navigator.languages[i]);\n          }\n        }\n        if (navigator.userLanguage) {\n          found.push(navigator.userLanguage);\n        }\n        if (navigator.language) {\n          found.push(navigator.language);\n        }\n      }\n\n      return found.length > 0 ? found : undefined;\n    }\n  };\n\n  var htmlTag = {\n    name: 'htmlTag',\n\n    lookup: function lookup(options) {\n      var found = void 0;\n      var htmlTag = options.htmlTag || (typeof document !== 'undefined' ? document.documentElement : null);\n\n      if (htmlTag && typeof htmlTag.getAttribute === 'function') {\n        found = htmlTag.getAttribute('lang');\n      }\n\n      return found;\n    }\n  };\n\n  function getDefaults() {\n    return {\n      order: ['querystring', 'cookie', 'localStorage', 'navigator', 'htmlTag'],\n      lookupQuerystring: 'lng',\n      lookupCookie: 'i18next',\n      lookupLocalStorage: 'i18nextLng',\n\n      // cache user language\n      caches: ['localStorage'],\n      excludeCacheFor: ['cimode']\n      //cookieMinutes: 10,\n      //cookieDomain: 'myDomain'\n    };\n  }\n\n  var Browser = function () {\n    function Browser(services) {\n      var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n      babelHelpers.classCallCheck(this, Browser);\n\n      this.type = 'languageDetector';\n      this.detectors = {};\n\n      this.init(services, options);\n    }\n\n    babelHelpers.createClass(Browser, [{\n      key: 'init',\n      value: function init(services) {\n        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n        var i18nOptions = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n        this.services = services;\n        this.options = defaults(options, this.options || {}, getDefaults());\n        this.i18nOptions = i18nOptions;\n\n        this.addDetector(cookie$1);\n        this.addDetector(querystring);\n        this.addDetector(localStorage);\n        this.addDetector(navigator$1);\n        this.addDetector(htmlTag);\n      }\n    }, {\n      key: 'addDetector',\n      value: function addDetector(detector) {\n        this.detectors[detector.name] = detector;\n      }\n    }, {\n      key: 'detect',\n      value: function detect(detectionOrder) {\n        var _this = this;\n\n        if (!detectionOrder) detectionOrder = this.options.order;\n\n        var detected = [];\n        detectionOrder.forEach(function (detectorName) {\n          if (_this.detectors[detectorName]) {\n            var lookup = _this.detectors[detectorName].lookup(_this.options);\n            if (lookup && typeof lookup === 'string') lookup = [lookup];\n            if (lookup) detected = detected.concat(lookup);\n          }\n        });\n\n        var found = void 0;\n        detected.forEach(function (lng) {\n          if (found) return;\n          var cleanedLng = _this.services.languageUtils.formatLanguageCode(lng);\n          if (_this.services.languageUtils.isWhitelisted(cleanedLng)) found = cleanedLng;\n        });\n\n        return found || this.i18nOptions.fallbackLng[0];\n      }\n    }, {\n      key: 'cacheUserLanguage',\n      value: function cacheUserLanguage(lng, caches) {\n        var _this2 = this;\n\n        if (!caches) caches = this.options.caches;\n        if (!caches) return;\n        if (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(lng) > -1) return;\n        caches.forEach(function (cacheName) {\n          if (_this2.detectors[cacheName]) _this2.detectors[cacheName].cacheUserLanguage(lng, _this2.options);\n        });\n      }\n    }]);\n    return Browser;\n  }();\n\n  Browser.type = 'languageDetector';\n\n  return Browser;\n\n}));\n\n/***/ })\n/******/ ]);\n});\n/*!\n * cdp.framework.jqm.js 2.0.0\n *\n * Date: 2017-07-04T08:58:31.096Z\n */\n\n(function webpackUniversalModuleDefinition(root, factory) {\n    if(typeof exports === 'object' && typeof module === 'object')\n        module.exports = factory(require(\"cdp.i18n\"), require(\"backbone\"), require(\"jquery\"));\n    else if(typeof define === 'function' && define.amd)\n        define(\"cdp.framework.jqm\",[\"cdp.i18n\", \"backbone\", \"jquery\"], factory);\n    else if(typeof exports === 'object')\n        exports[\"Framework\"] = factory(require(\"cdp.i18n\"), require(\"backbone\"), require(\"jquery\"));\n    else\n        root[\"CDP\"] = root[\"CDP\"] || {}, root[\"CDP\"][\"Framework\"] = factory(root[\"CDP\"], root[\"Backbone\"], root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_5__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/     // The module cache\n/******/     var installedModules = {};\n/******/\n/******/     // The require function\n/******/     function __webpack_require__(moduleId) {\n/******/\n/******/         // Check if module is in cache\n/******/         if(installedModules[moduleId]) {\n/******/             return installedModules[moduleId].exports;\n/******/         }\n/******/         // Create a new module (and put it into the cache)\n/******/         var module = installedModules[moduleId] = {\n/******/             i: moduleId,\n/******/             l: false,\n/******/             exports: {}\n/******/         };\n/******/\n/******/         // Execute the module function\n/******/         modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/         // Flag the module as loaded\n/******/         module.l = true;\n/******/\n/******/         // Return the exports of the module\n/******/         return module.exports;\n/******/     }\n/******/\n/******/\n/******/     // expose the modules object (__webpack_modules__)\n/******/     __webpack_require__.m = modules;\n/******/\n/******/     // expose the module cache\n/******/     __webpack_require__.c = installedModules;\n/******/\n/******/     // define getter function for harmony exports\n/******/     __webpack_require__.d = function(exports, name, getter) {\n/******/         if(!__webpack_require__.o(exports, name)) {\n/******/             Object.defineProperty(exports, name, {\n/******/                 configurable: false,\n/******/                 enumerable: true,\n/******/                 get: getter\n/******/             });\n/******/         }\n/******/     };\n/******/\n/******/     // getDefaultExport function for compatibility with non-harmony modules\n/******/     __webpack_require__.n = function(module) {\n/******/         var getter = module && module.__esModule ?\n/******/             function getDefault() { return module['default']; } :\n/******/             function getModuleExports() { return module; };\n/******/         __webpack_require__.d(getter, 'a', getter);\n/******/         return getter;\n/******/     };\n/******/\n/******/     // Object.prototype.hasOwnProperty.call\n/******/     __webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/     // __webpack_public_path__\n/******/     __webpack_require__.p = \"\";\n/******/\n/******/     // Load entry module and return exports\n/******/     return __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n/*!\n* jQuery Mobile 1.4.5\n* Git HEAD hash: 68e55e78b292634d3991c795f06f5e37a512decc <> Date: Fri Oct 31 2014 17:33:30 UTC\n* http://jquerymobile.com\n*\n* Copyright 2010, 2014 jQuery Foundation, Inc. and othercontributors\n* Released under the MIT license.\n* http://jquery.org/license\n*\n*/\n\n\n(function ( root, doc, factory ) {\n    if ( true ) {\n        // AMD. Register as an anonymous module.\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(5) ], __WEBPACK_AMD_DEFINE_RESULT__ = function ( $ ) {\n            factory( $, root, doc );\n            return $.mobile;\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n                __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {\n        // Browser globals\n        factory( root.jQuery, root, doc );\n    }\n}( this, document, function ( jQuery, window, document, undefined ) {\n(function( $ ) {\n    $.mobile = {};\n}( jQuery ));\n\n/*!\n * jQuery UI Core c0ab71056b936627e8a7821f03c044aec6280a40\n * http://jqueryui.com\n *\n * Copyright 2013 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/ui-core/\n */\n(function( $, undefined ) {\n\nvar uuid = 0,\n    runiqueId = /^ui-id-\\d+$/;\n\n// $.ui might exist from components with no dependencies, e.g., $.ui.position\n$.ui = $.ui || {};\n\n$.extend( $.ui, {\n    version: \"c0ab71056b936627e8a7821f03c044aec6280a40\",\n\n    keyCode: {\n        BACKSPACE: 8,\n        COMMA: 188,\n        DELETE: 46,\n        DOWN: 40,\n        END: 35,\n        ENTER: 13,\n        ESCAPE: 27,\n        HOME: 36,\n        LEFT: 37,\n        PAGE_DOWN: 34,\n        PAGE_UP: 33,\n        PERIOD: 190,\n        RIGHT: 39,\n        SPACE: 32,\n        TAB: 9,\n        UP: 38\n    }\n});\n\n// plugins\n$.fn.extend({\n    focus: (function( orig ) {\n        return function( delay, fn ) {\n            return typeof delay === \"number\" ?\n                this.each(function() {\n                    var elem = this;\n                    setTimeout(function() {\n                        $( elem ).focus();\n                        if ( fn ) {\n                            fn.call( elem );\n                        }\n                    }, delay );\n                }) :\n                orig.apply( this, arguments );\n        };\n    })( $.fn.focus ),\n\n    scrollParent: function() {\n        var scrollParent;\n        if (($.ui.ie && (/(static|relative)/).test(this.css(\"position\"))) || (/absolute/).test(this.css(\"position\"))) {\n            scrollParent = this.parents().filter(function() {\n                return (/(relative|absolute|fixed)/).test($.css(this,\"position\")) && (/(auto|scroll)/).test($.css(this,\"overflow\")+$.css(this,\"overflow-y\")+$.css(this,\"overflow-x\"));\n            }).eq(0);\n        } else {\n            scrollParent = this.parents().filter(function() {\n                return (/(auto|scroll)/).test($.css(this,\"overflow\")+$.css(this,\"overflow-y\")+$.css(this,\"overflow-x\"));\n            }).eq(0);\n        }\n\n        return ( /fixed/ ).test( this.css( \"position\") ) || !scrollParent.length ? $( this[ 0 ].ownerDocument || document ) : scrollParent;\n    },\n\n    uniqueId: function() {\n        return this.each(function() {\n            if ( !this.id ) {\n                this.id = \"ui-id-\" + (++uuid);\n            }\n        });\n    },\n\n    removeUniqueId: function() {\n        return this.each(function() {\n            if ( runiqueId.test( this.id ) ) {\n                $( this ).removeAttr( \"id\" );\n            }\n        });\n    }\n});\n\n// selectors\nfunction focusable( element, isTabIndexNotNaN ) {\n    var map, mapName, img,\n        nodeName = element.nodeName.toLowerCase();\n    if ( \"area\" === nodeName ) {\n        map = element.parentNode;\n        mapName = map.name;\n        if ( !element.href || !mapName || map.nodeName.toLowerCase() !== \"map\" ) {\n            return false;\n        }\n        img = $( \"img[usemap=#\" + mapName + \"]\" )[0];\n        return !!img && visible( img );\n    }\n    return ( /input|select|textarea|button|object/.test( nodeName ) ?\n        !element.disabled :\n        \"a\" === nodeName ?\n            element.href || isTabIndexNotNaN :\n            isTabIndexNotNaN) &&\n        // the element and all of its ancestors must be visible\n        visible( element );\n}\n\nfunction visible( element ) {\n    return $.expr.filters.visible( element ) &&\n        !$( element ).parents().addBack().filter(function() {\n            return $.css( this, \"visibility\" ) === \"hidden\";\n        }).length;\n}\n\n$.extend( $.expr[ \":\" ], {\n    data: $.expr.createPseudo ?\n        $.expr.createPseudo(function( dataName ) {\n            return function( elem ) {\n                return !!$.data( elem, dataName );\n            };\n        }) :\n        // support: jQuery <1.8\n        function( elem, i, match ) {\n            return !!$.data( elem, match[ 3 ] );\n        },\n\n    focusable: function( element ) {\n        return focusable( element, !isNaN( $.attr( element, \"tabindex\" ) ) );\n    },\n\n    tabbable: function( element ) {\n        var tabIndex = $.attr( element, \"tabindex\" ),\n            isTabIndexNaN = isNaN( tabIndex );\n        return ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );\n    }\n});\n\n// support: jQuery <1.8\nif ( !$( \"<a>\" ).outerWidth( 1 ).jquery ) {\n    $.each( [ \"Width\", \"Height\" ], function( i, name ) {\n        var side = name === \"Width\" ? [ \"Left\", \"Right\" ] : [ \"Top\", \"Bottom\" ],\n            type = name.toLowerCase(),\n            orig = {\n                innerWidth: $.fn.innerWidth,\n                innerHeight: $.fn.innerHeight,\n                outerWidth: $.fn.outerWidth,\n                outerHeight: $.fn.outerHeight\n            };\n\n        function reduce( elem, size, border, margin ) {\n            $.each( side, function() {\n                size -= parseFloat( $.css( elem, \"padding\" + this ) ) || 0;\n                if ( border ) {\n                    size -= parseFloat( $.css( elem, \"border\" + this + \"Width\" ) ) || 0;\n                }\n                if ( margin ) {\n                    size -= parseFloat( $.css( elem, \"margin\" + this ) ) || 0;\n                }\n            });\n            return size;\n        }\n\n        $.fn[ \"inner\" + name ] = function( size ) {\n            if ( size === undefined ) {\n                return orig[ \"inner\" + name ].call( this );\n            }\n\n            return this.each(function() {\n                $( this ).css( type, reduce( this, size ) + \"px\" );\n            });\n        };\n\n        $.fn[ \"outer\" + name] = function( size, margin ) {\n            if ( typeof size !== \"number\" ) {\n                return orig[ \"outer\" + name ].call( this, size );\n            }\n\n            return this.each(function() {\n                $( this).css( type, reduce( this, size, true, margin ) + \"px\" );\n            });\n        };\n    });\n}\n\n// support: jQuery <1.8\nif ( !$.fn.addBack ) {\n    $.fn.addBack = function( selector ) {\n        return this.add( selector == null ?\n            this.prevObject : this.prevObject.filter( selector )\n        );\n    };\n}\n\n// support: jQuery 1.6.1, 1.6.2 (http://bugs.jquery.com/ticket/9413)\nif ( $( \"<a>\" ).data( \"a-b\", \"a\" ).removeData( \"a-b\" ).data( \"a-b\" ) ) {\n    $.fn.removeData = (function( removeData ) {\n        return function( key ) {\n            if ( arguments.length ) {\n                return removeData.call( this, $.camelCase( key ) );\n            } else {\n                return removeData.call( this );\n            }\n        };\n    })( $.fn.removeData );\n}\n\n\n\n\n\n// deprecated\n$.ui.ie = !!/msie [\\w.]+/.exec( navigator.userAgent.toLowerCase() );\n\n$.support.selectstart = \"onselectstart\" in document.createElement( \"div\" );\n$.fn.extend({\n    disableSelection: function() {\n        return this.bind( ( $.support.selectstart ? \"selectstart\" : \"mousedown\" ) +\n            \".ui-disableSelection\", function( event ) {\n                event.preventDefault();\n            });\n    },\n\n    enableSelection: function() {\n        return this.unbind( \".ui-disableSelection\" );\n    },\n\n    zIndex: function( zIndex ) {\n        if ( zIndex !== undefined ) {\n            return this.css( \"zIndex\", zIndex );\n        }\n\n        if ( this.length ) {\n            var elem = $( this[ 0 ] ), position, value;\n            while ( elem.length && elem[ 0 ] !== document ) {\n                // Ignore z-index if position is set to a value where z-index is ignored by the browser\n                // This makes behavior of this function consistent across browsers\n                // WebKit always returns auto if the element is positioned\n                position = elem.css( \"position\" );\n                if ( position === \"absolute\" || position === \"relative\" || position === \"fixed\" ) {\n                    // IE returns 0 when zIndex is not specified\n                    // other browsers return a string\n                    // we ignore the case of nested elements with an explicit value of 0\n                    // <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\n                    value = parseInt( elem.css( \"zIndex\" ), 10 );\n                    if ( !isNaN( value ) && value !== 0 ) {\n                        return value;\n                    }\n                }\n                elem = elem.parent();\n            }\n        }\n\n        return 0;\n    }\n});\n\n// $.ui.plugin is deprecated. Use $.widget() extensions instead.\n$.ui.plugin = {\n    add: function( module, option, set ) {\n        var i,\n            proto = $.ui[ module ].prototype;\n        for ( i in set ) {\n            proto.plugins[ i ] = proto.plugins[ i ] || [];\n            proto.plugins[ i ].push( [ option, set[ i ] ] );\n        }\n    },\n    call: function( instance, name, args, allowDisconnected ) {\n        var i,\n            set = instance.plugins[ name ];\n\n        if ( !set ) {\n            return;\n        }\n\n        if ( !allowDisconnected && ( !instance.element[ 0 ].parentNode || instance.element[ 0 ].parentNode.nodeType === 11 ) ) {\n            return;\n        }\n\n        for ( i = 0; i < set.length; i++ ) {\n            if ( instance.options[ set[ i ][ 0 ] ] ) {\n                set[ i ][ 1 ].apply( instance.element, args );\n            }\n        }\n    }\n};\n\n})( jQuery );\n\n(function( $, window, undefined ) {\n\n    // Subtract the height of external toolbars from the page height, if the page does not have\n    // internal toolbars of the same type. We take care to use the widget options if we find a\n    // widget instance and the element's data-attributes otherwise.\n    var compensateToolbars = function( page, desiredHeight ) {\n        var pageParent = page.parent(),\n            toolbarsAffectingHeight = [],\n\n            // We use this function to filter fixed toolbars with option updatePagePadding set to\n            // true (which is the default) from our height subtraction, because fixed toolbars with\n            // option updatePagePadding set to true compensate for their presence by adding padding\n            // to the active page. We want to avoid double-counting by also subtracting their\n            // height from the desired page height.\n            noPadders = function() {\n                var theElement = $( this ),\n                    widgetOptions = $.mobile.toolbar && theElement.data( \"mobile-toolbar\" ) ?\n                        theElement.toolbar( \"option\" ) : {\n                            position: theElement.attr( \"data-\" + $.mobile.ns + \"position\" ),\n                            updatePagePadding: ( theElement.attr( \"data-\" + $.mobile.ns +\n                                \"update-page-padding\" ) !== false )\n                        };\n\n                return !( widgetOptions.position === \"fixed\" &&\n                    widgetOptions.updatePagePadding === true );\n            },\n            externalHeaders = pageParent.children( \":jqmData(role='header')\" ).filter( noPadders ),\n            internalHeaders = page.children( \":jqmData(role='header')\" ),\n            externalFooters = pageParent.children( \":jqmData(role='footer')\" ).filter( noPadders ),\n            internalFooters = page.children( \":jqmData(role='footer')\" );\n\n        // If we have no internal headers, but we do have external headers, then their height\n        // reduces the page height\n        if ( internalHeaders.length === 0 && externalHeaders.length > 0 ) {\n            toolbarsAffectingHeight = toolbarsAffectingHeight.concat( externalHeaders.toArray() );\n        }\n\n        // If we have no internal footers, but we do have external footers, then their height\n        // reduces the page height\n        if ( internalFooters.length === 0 && externalFooters.length > 0 ) {\n            toolbarsAffectingHeight = toolbarsAffectingHeight.concat( externalFooters.toArray() );\n        }\n\n        $.each( toolbarsAffectingHeight, function( index, value ) {\n            desiredHeight -= $( value ).outerHeight();\n        });\n\n        // Height must be at least zero\n        return Math.max( 0, desiredHeight );\n    };\n\n    $.extend( $.mobile, {\n        // define the window and the document objects\n        window: $( window ),\n        document: $( document ),\n\n        // TODO: Remove and use $.ui.keyCode directly\n        keyCode: $.ui.keyCode,\n\n        // Place to store various widget extensions\n        behaviors: {},\n\n        // Scroll page vertically: scroll to 0 to hide iOS address bar, or pass a Y value\n        silentScroll: function( ypos ) {\n            if ( $.type( ypos ) !== \"number\" ) {\n                ypos = $.mobile.defaultHomeScroll;\n            }\n\n            // prevent scrollstart and scrollstop events\n            $.event.special.scrollstart.enabled = false;\n\n            setTimeout(function() {\n                window.scrollTo( 0, ypos );\n                $.mobile.document.trigger( \"silentscroll\", { x: 0, y: ypos });\n            }, 20 );\n\n            setTimeout(function() {\n                $.event.special.scrollstart.enabled = true;\n            }, 150 );\n        },\n\n        getClosestBaseUrl: function( ele )    {\n            // Find the closest page and extract out its url.\n            var url = $( ele ).closest( \".ui-page\" ).jqmData( \"url\" ),\n                base = $.mobile.path.documentBase.hrefNoHash;\n\n            if ( !$.mobile.dynamicBaseEnabled || !url || !$.mobile.path.isPath( url ) ) {\n                url = base;\n            }\n\n            return $.mobile.path.makeUrlAbsolute( url, base );\n        },\n        removeActiveLinkClass: function( forceRemoval ) {\n            if ( !!$.mobile.activeClickedLink &&\n                ( !$.mobile.activeClickedLink.closest( \".\" + $.mobile.activePageClass ).length ||\n                    forceRemoval ) ) {\n\n                $.mobile.activeClickedLink.removeClass( $.mobile.activeBtnClass );\n            }\n            $.mobile.activeClickedLink = null;\n        },\n\n        // DEPRECATED in 1.4\n        // Find the closest parent with a theme class on it. Note that\n        // we are not using $.fn.closest() on purpose here because this\n        // method gets called quite a bit and we need it to be as fast\n        // as possible.\n        getInheritedTheme: function( el, defaultTheme ) {\n            var e = el[ 0 ],\n                ltr = \"\",\n                re = /ui-(bar|body|overlay)-([a-z])\\b/,\n                c, m;\n            while ( e ) {\n                c = e.className || \"\";\n                if ( c && ( m = re.exec( c ) ) && ( ltr = m[ 2 ] ) ) {\n                    // We found a parent with a theme class\n                    // on it so bail from this loop.\n                    break;\n                }\n\n                e = e.parentNode;\n            }\n            // Return the theme letter we found, if none, return the\n            // specified default.\n            return ltr || defaultTheme || \"a\";\n        },\n\n        enhanceable: function( elements ) {\n            return this.haveParents( elements, \"enhance\" );\n        },\n\n        hijackable: function( elements ) {\n            return this.haveParents( elements, \"ajax\" );\n        },\n\n        haveParents: function( elements, attr ) {\n            if ( !$.mobile.ignoreContentEnabled ) {\n                return elements;\n            }\n\n            var count = elements.length,\n                $newSet = $(),\n                e, $element, excluded,\n                i, c;\n\n            for ( i = 0; i < count; i++ ) {\n                $element = elements.eq( i );\n                excluded = false;\n                e = elements[ i ];\n\n                while ( e ) {\n                    c = e.getAttribute ? e.getAttribute( \"data-\" + $.mobile.ns + attr ) : \"\";\n\n                    if ( c === \"false\" ) {\n                        excluded = true;\n                        break;\n                    }\n\n                    e = e.parentNode;\n                }\n\n                if ( !excluded ) {\n                    $newSet = $newSet.add( $element );\n                }\n            }\n\n            return $newSet;\n        },\n\n        getScreenHeight: function() {\n            // Native innerHeight returns more accurate value for this across platforms,\n            // jQuery version is here as a normalized fallback for platforms like Symbian\n            return window.innerHeight || $.mobile.window.height();\n        },\n\n        //simply set the active page's minimum height to screen height, depending on orientation\n        resetActivePageHeight: function( height ) {\n            var page = $( \".\" + $.mobile.activePageClass ),\n                pageHeight = page.height(),\n                pageOuterHeight = page.outerHeight( true );\n\n            height = compensateToolbars( page,\n                ( typeof height === \"number\" ) ? height : $.mobile.getScreenHeight() );\n\n            // Remove any previous min-height setting\n            page.css( \"min-height\", \"\" );\n\n            // Set the minimum height only if the height as determined by CSS is insufficient\n            if ( page.height() < height ) {\n                page.css( \"min-height\", height - ( pageOuterHeight - pageHeight ) );\n            }\n        },\n\n        loading: function() {\n            // If this is the first call to this function, instantiate a loader widget\n            var loader = this.loading._widget || $( $.mobile.loader.prototype.defaultHtml ).loader(),\n\n                // Call the appropriate method on the loader\n                returnValue = loader.loader.apply( loader, arguments );\n\n            // Make sure the loader is retained for future calls to this function.\n            this.loading._widget = loader;\n\n            return returnValue;\n        }\n    });\n\n    $.addDependents = function( elem, newDependents ) {\n        var $elem = $( elem ),\n            dependents = $elem.jqmData( \"dependents\" ) || $();\n\n        $elem.jqmData( \"dependents\", $( dependents ).add( newDependents ) );\n    };\n\n    // plugins\n    $.fn.extend({\n        removeWithDependents: function() {\n            $.removeWithDependents( this );\n        },\n\n        // Enhance child elements\n        enhanceWithin: function() {\n            var index,\n                widgetElements = {},\n                keepNative = $.mobile.page.prototype.keepNativeSelector(),\n                that = this;\n\n            // Add no js class to elements\n            if ( $.mobile.nojs ) {\n                $.mobile.nojs( this );\n            }\n\n            // Bind links for ajax nav\n            if ( $.mobile.links ) {\n                $.mobile.links( this );\n            }\n\n            // Degrade inputs for styleing\n            if ( $.mobile.degradeInputsWithin ) {\n                $.mobile.degradeInputsWithin( this );\n            }\n\n            // Run buttonmarkup\n            if ( $.fn.buttonMarkup ) {\n                this.find( $.fn.buttonMarkup.initSelector ).not( keepNative )\n                .jqmEnhanceable().buttonMarkup();\n            }\n\n            // Add classes for fieldContain\n            if ( $.fn.fieldcontain ) {\n                this.find( \":jqmData(role='fieldcontain')\" ).not( keepNative )\n                .jqmEnhanceable().fieldcontain();\n            }\n\n            // Enhance widgets\n            $.each( $.mobile.widgets, function( name, constructor ) {\n\n                // If initSelector not false find elements\n                if ( constructor.initSelector ) {\n\n                    // Filter elements that should not be enhanced based on parents\n                    var elements = $.mobile.enhanceable( that.find( constructor.initSelector ) );\n\n                    // If any matching elements remain filter ones with keepNativeSelector\n                    if ( elements.length > 0 ) {\n\n                        // $.mobile.page.prototype.keepNativeSelector is deprecated this is just for backcompat\n                        // Switch to $.mobile.keepNative in 1.5 which is just a value not a function\n                        elements = elements.not( keepNative );\n                    }\n\n                    // Enhance whatever is left\n                    if ( elements.length > 0 ) {\n                        widgetElements[ constructor.prototype.widgetName ] = elements;\n                    }\n                }\n            });\n\n            for ( index in widgetElements ) {\n                widgetElements[ index ][ index ]();\n            }\n\n            return this;\n        },\n\n        addDependents: function( newDependents ) {\n            $.addDependents( this, newDependents );\n        },\n\n        // note that this helper doesn't attempt to handle the callback\n        // or setting of an html element's text, its only purpose is\n        // to return the html encoded version of the text in all cases. (thus the name)\n        getEncodedText: function() {\n            return $( \"<a>\" ).text( this.text() ).html();\n        },\n\n        // fluent helper function for the mobile namespaced equivalent\n        jqmEnhanceable: function() {\n            return $.mobile.enhanceable( this );\n        },\n\n        jqmHijackable: function() {\n            return $.mobile.hijackable( this );\n        }\n    });\n\n    $.removeWithDependents = function( nativeElement ) {\n        var element = $( nativeElement );\n\n        ( element.jqmData( \"dependents\" ) || $() ).remove();\n        element.remove();\n    };\n    $.addDependents = function( nativeElement, newDependents ) {\n        var element = $( nativeElement ),\n            dependents = element.jqmData( \"dependents\" ) || $();\n\n        element.jqmData( \"dependents\", $( dependents ).add( newDependents ) );\n    };\n\n    $.find.matches = function( expr, set ) {\n        return $.find( expr, null, null, set );\n    };\n\n    $.find.matchesSelector = function( node, expr ) {\n        return $.find( expr, null, null, [ node ] ).length > 0;\n    };\n\n})( jQuery, this );\n\n(function( $, window, undefined ) {\n    $.extend( $.mobile, {\n\n        // Version of the jQuery Mobile Framework\n        version: \"1.4.5\",\n\n        // Deprecated and no longer used in 1.4 remove in 1.5\n        // Define the url parameter used for referencing widget-generated sub-pages.\n        // Translates to example.html&ui-page=subpageIdentifier\n        // hash segment before &ui-page= is used to make Ajax request\n        subPageUrlKey: \"ui-page\",\n\n        hideUrlBar: true,\n\n        // Keepnative Selector\n        keepNative: \":jqmData(role='none'), :jqmData(role='nojs')\",\n\n        // Deprecated in 1.4 remove in 1.5\n        // Class assigned to page currently in view, and during transitions\n        activePageClass: \"ui-page-active\",\n\n        // Deprecated in 1.4 remove in 1.5\n        // Class used for \"active\" button state, from CSS framework\n        activeBtnClass: \"ui-btn-active\",\n\n        // Deprecated in 1.4 remove in 1.5\n        // Class used for \"focus\" form element state, from CSS framework\n        focusClass: \"ui-focus\",\n\n        // Automatically handle clicks and form submissions through Ajax, when same-domain\n        ajaxEnabled: true,\n\n        // Automatically load and show pages based on location.hash\n        hashListeningEnabled: true,\n\n        // disable to prevent jquery from bothering with links\n        linkBindingEnabled: true,\n\n        // Set default page transition - 'none' for no transitions\n        defaultPageTransition: \"fade\",\n\n        // Set maximum window width for transitions to apply - 'false' for no limit\n        maxTransitionWidth: false,\n\n        // Minimum scroll distance that will be remembered when returning to a page\n        // Deprecated remove in 1.5\n        minScrollBack: 0,\n\n        // Set default dialog transition - 'none' for no transitions\n        defaultDialogTransition: \"pop\",\n\n        // Error response message - appears when an Ajax page request fails\n        pageLoadErrorMessage: \"Error Loading Page\",\n\n        // For error messages, which theme does the box use?\n        pageLoadErrorMessageTheme: \"a\",\n\n        // replace calls to window.history.back with phonegaps navigation helper\n        // where it is provided on the window object\n        phonegapNavigationEnabled: false,\n\n        //automatically initialize the DOM when it's ready\n        autoInitializePage: true,\n\n        pushStateEnabled: true,\n\n        // allows users to opt in to ignoring content by marking a parent element as\n        // data-ignored\n        ignoreContentEnabled: false,\n\n        buttonMarkup: {\n            hoverDelay: 200\n        },\n\n        // disable the alteration of the dynamic base tag or links in the case\n        // that a dynamic base tag isn't supported\n        dynamicBaseEnabled: true,\n\n        // default the property to remove dependency on assignment in init module\n        pageContainer: $(),\n\n        //enable cross-domain page support\n        allowCrossDomainPages: false,\n\n        dialogHashKey: \"&ui-state=dialog\"\n    });\n})( jQuery, this );\n\n/*!\n * jQuery UI Widget c0ab71056b936627e8a7821f03c044aec6280a40\n * http://jqueryui.com\n *\n * Copyright 2013 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/jQuery.widget/\n */\n(function( $, undefined ) {\n\nvar uuid = 0,\n    slice = Array.prototype.slice,\n    _cleanData = $.cleanData;\n$.cleanData = function( elems ) {\n    for ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {\n        try {\n            $( elem ).triggerHandler( \"remove\" );\n        // http://bugs.jquery.com/ticket/8235\n        } catch( e ) {}\n    }\n    _cleanData( elems );\n};\n\n$.widget = function( name, base, prototype ) {\n    var fullName, existingConstructor, constructor, basePrototype,\n        // proxiedPrototype allows the provided prototype to remain unmodified\n        // so that it can be used as a mixin for multiple widgets (#8876)\n        proxiedPrototype = {},\n        namespace = name.split( \".\" )[ 0 ];\n\n    name = name.split( \".\" )[ 1 ];\n    fullName = namespace + \"-\" + name;\n\n    if ( !prototype ) {\n        prototype = base;\n        base = $.Widget;\n    }\n\n    // create selector for plugin\n    $.expr[ \":\" ][ fullName.toLowerCase() ] = function( elem ) {\n        return !!$.data( elem, fullName );\n    };\n\n    $[ namespace ] = $[ namespace ] || {};\n    existingConstructor = $[ namespace ][ name ];\n    constructor = $[ namespace ][ name ] = function( options, element ) {\n        // allow instantiation without \"new\" keyword\n        if ( !this._createWidget ) {\n            return new constructor( options, element );\n        }\n\n        // allow instantiation without initializing for simple inheritance\n        // must use \"new\" keyword (the code above always passes args)\n        if ( arguments.length ) {\n            this._createWidget( options, element );\n        }\n    };\n    // extend with the existing constructor to carry over any static properties\n    $.extend( constructor, existingConstructor, {\n        version: prototype.version,\n        // copy the object used to create the prototype in case we need to\n        // redefine the widget later\n        _proto: $.extend( {}, prototype ),\n        // track widgets that inherit from this widget in case this widget is\n        // redefined after a widget inherits from it\n        _childConstructors: []\n    });\n\n    basePrototype = new base();\n    // we need to make the options hash a property directly on the new instance\n    // otherwise we'll modify the options hash on the prototype that we're\n    // inheriting from\n    basePrototype.options = $.widget.extend( {}, basePrototype.options );\n    $.each( prototype, function( prop, value ) {\n        if ( !$.isFunction( value ) ) {\n            proxiedPrototype[ prop ] = value;\n            return;\n        }\n        proxiedPrototype[ prop ] = (function() {\n            var _super = function() {\n                    return base.prototype[ prop ].apply( this, arguments );\n                },\n                _superApply = function( args ) {\n                    return base.prototype[ prop ].apply( this, args );\n                };\n            return function() {\n                var __super = this._super,\n                    __superApply = this._superApply,\n                    returnValue;\n\n                this._super = _super;\n                this._superApply = _superApply;\n\n                returnValue = value.apply( this, arguments );\n\n                this._super = __super;\n                this._superApply = __superApply;\n\n                return returnValue;\n            };\n        })();\n    });\n    constructor.prototype = $.widget.extend( basePrototype, {\n        // TODO: remove support for widgetEventPrefix\n        // always use the name + a colon as the prefix, e.g., draggable:start\n        // don't prefix for widgets that aren't DOM-based\n        widgetEventPrefix: existingConstructor ? (basePrototype.widgetEventPrefix || name) : name\n    }, proxiedPrototype, {\n        constructor: constructor,\n        namespace: namespace,\n        widgetName: name,\n        widgetFullName: fullName\n    });\n\n    // If this widget is being redefined then we need to find all widgets that\n    // are inheriting from it and redefine all of them so that they inherit from\n    // the new version of this widget. We're essentially trying to replace one\n    // level in the prototype chain.\n    if ( existingConstructor ) {\n        $.each( existingConstructor._childConstructors, function( i, child ) {\n            var childPrototype = child.prototype;\n\n            // redefine the child widget using the same prototype that was\n            // originally used, but inherit from the new version of the base\n            $.widget( childPrototype.namespace + \".\" + childPrototype.widgetName, constructor, child._proto );\n        });\n        // remove the list of existing child constructors from the old constructor\n        // so the old child constructors can be garbage collected\n        delete existingConstructor._childConstructors;\n    } else {\n        base._childConstructors.push( constructor );\n    }\n\n    $.widget.bridge( name, constructor );\n\n    return constructor;\n};\n\n$.widget.extend = function( target ) {\n    var input = slice.call( arguments, 1 ),\n        inputIndex = 0,\n        inputLength = input.length,\n        key,\n        value;\n    for ( ; inputIndex < inputLength; inputIndex++ ) {\n        for ( key in input[ inputIndex ] ) {\n            value = input[ inputIndex ][ key ];\n            if ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {\n                // Clone objects\n                if ( $.isPlainObject( value ) ) {\n                    target[ key ] = $.isPlainObject( target[ key ] ) ?\n                        $.widget.extend( {}, target[ key ], value ) :\n                        // Don't extend strings, arrays, etc. with objects\n                        $.widget.extend( {}, value );\n                // Copy everything else by reference\n                } else {\n                    target[ key ] = value;\n                }\n            }\n        }\n    }\n    return target;\n};\n\n$.widget.bridge = function( name, object ) {\n    var fullName = object.prototype.widgetFullName || name;\n    $.fn[ name ] = function( options ) {\n        var isMethodCall = typeof options === \"string\",\n            args = slice.call( arguments, 1 ),\n            returnValue = this;\n\n        // allow multiple hashes to be passed on init\n        options = !isMethodCall && args.length ?\n            $.widget.extend.apply( null, [ options ].concat(args) ) :\n            options;\n\n        if ( isMethodCall ) {\n            this.each(function() {\n                var methodValue,\n                    instance = $.data( this, fullName );\n                if ( options === \"instance\" ) {\n                    returnValue = instance;\n                    return false;\n                }\n                if ( !instance ) {\n                    return $.error( \"cannot call methods on \" + name + \" prior to initialization; \" +\n                        \"attempted to call method '\" + options + \"'\" );\n                }\n                if ( !$.isFunction( instance[options] ) || options.charAt( 0 ) === \"_\" ) {\n                    return $.error( \"no such method '\" + options + \"' for \" + name + \" widget instance\" );\n                }\n                methodValue = instance[ options ].apply( instance, args );\n                if ( methodValue !== instance && methodValue !== undefined ) {\n                    returnValue = methodValue && methodValue.jquery ?\n                        returnValue.pushStack( methodValue.get() ) :\n                        methodValue;\n                    return false;\n                }\n            });\n        } else {\n            this.each(function() {\n                var instance = $.data( this, fullName );\n                if ( instance ) {\n                    instance.option( options || {} )._init();\n                } else {\n                    $.data( this, fullName, new object( options, this ) );\n                }\n            });\n        }\n\n        return returnValue;\n    };\n};\n\n$.Widget = function( /* options, element */ ) {};\n$.Widget._childConstructors = [];\n\n$.Widget.prototype = {\n    widgetName: \"widget\",\n    widgetEventPrefix: \"\",\n    defaultElement: \"<div>\",\n    options: {\n        disabled: false,\n\n        // callbacks\n        create: null\n    },\n    _createWidget: function( options, element ) {\n        element = $( element || this.defaultElement || this )[ 0 ];\n        this.element = $( element );\n        this.uuid = uuid++;\n        this.eventNamespace = \".\" + this.widgetName + this.uuid;\n        this.options = $.widget.extend( {},\n            this.options,\n            this._getCreateOptions(),\n            options );\n\n        this.bindings = $();\n        this.hoverable = $();\n        this.focusable = $();\n\n        if ( element !== this ) {\n            $.data( element, this.widgetFullName, this );\n            this._on( true, this.element, {\n                remove: function( event ) {\n                    if ( event.target === element ) {\n                        this.destroy();\n                    }\n                }\n            });\n            this.document = $( element.style ?\n                // element within the document\n                element.ownerDocument :\n                // element is window or document\n                element.document || element );\n            this.window = $( this.document[0].defaultView || this.document[0].parentWindow );\n        }\n\n        this._create();\n        this._trigger( \"create\", null, this._getCreateEventData() );\n        this._init();\n    },\n    _getCreateOptions: $.noop,\n    _getCreateEventData: $.noop,\n    _create: $.noop,\n    _init: $.noop,\n\n    destroy: function() {\n        this._destroy();\n        // we can probably remove the unbind calls in 2.0\n        // all event bindings should go through this._on()\n        this.element\n            .unbind( this.eventNamespace )\n            .removeData( this.widgetFullName )\n            // support: jquery <1.6.3\n            // http://bugs.jquery.com/ticket/9413\n            .removeData( $.camelCase( this.widgetFullName ) );\n        this.widget()\n            .unbind( this.eventNamespace )\n            .removeAttr( \"aria-disabled\" )\n            .removeClass(\n                this.widgetFullName + \"-disabled \" +\n                \"ui-state-disabled\" );\n\n        // clean up events and states\n        this.bindings.unbind( this.eventNamespace );\n        this.hoverable.removeClass( \"ui-state-hover\" );\n        this.focusable.removeClass( \"ui-state-focus\" );\n    },\n    _destroy: $.noop,\n\n    widget: function() {\n        return this.element;\n    },\n\n    option: function( key, value ) {\n        var options = key,\n            parts,\n            curOption,\n            i;\n\n        if ( arguments.length === 0 ) {\n            // don't return a reference to the internal hash\n            return $.widget.extend( {}, this.options );\n        }\n\n        if ( typeof key === \"string\" ) {\n            // handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n            options = {};\n            parts = key.split( \".\" );\n            key = parts.shift();\n            if ( parts.length ) {\n                curOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );\n                for ( i = 0; i < parts.length - 1; i++ ) {\n                    curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n                    curOption = curOption[ parts[ i ] ];\n                }\n                key = parts.pop();\n                if ( value === undefined ) {\n                    return curOption[ key ] === undefined ? null : curOption[ key ];\n                }\n                curOption[ key ] = value;\n            } else {\n                if ( value === undefined ) {\n                    return this.options[ key ] === undefined ? null : this.options[ key ];\n                }\n                options[ key ] = value;\n            }\n        }\n\n        this._setOptions( options );\n\n        return this;\n    },\n    _setOptions: function( options ) {\n        var key;\n\n        for ( key in options ) {\n            this._setOption( key, options[ key ] );\n        }\n\n        return this;\n    },\n    _setOption: function( key, value ) {\n        this.options[ key ] = value;\n\n        if ( key === \"disabled\" ) {\n            this.widget()\n                .toggleClass( this.widgetFullName + \"-disabled\", !!value );\n            this.hoverable.removeClass( \"ui-state-hover\" );\n            this.focusable.removeClass( \"ui-state-focus\" );\n        }\n\n        return this;\n    },\n\n    enable: function() {\n        return this._setOptions({ disabled: false });\n    },\n    disable: function() {\n        return this._setOptions({ disabled: true });\n    },\n\n    _on: function( suppressDisabledCheck, element, handlers ) {\n        var delegateElement,\n            instance = this;\n\n        // no suppressDisabledCheck flag, shuffle arguments\n        if ( typeof suppressDisabledCheck !== \"boolean\" ) {\n            handlers = element;\n            element = suppressDisabledCheck;\n            suppressDisabledCheck = false;\n        }\n\n        // no element argument, shuffle and use this.element\n        if ( !handlers ) {\n            handlers = element;\n            element = this.element;\n            delegateElement = this.widget();\n        } else {\n            // accept selectors, DOM elements\n            element = delegateElement = $( element );\n            this.bindings = this.bindings.add( element );\n        }\n\n        $.each( handlers, function( event, handler ) {\n            function handlerProxy() {\n                // allow widgets to customize the disabled handling\n                // - disabled as an array instead of boolean\n                // - disabled class as method for disabling individual parts\n                if ( !suppressDisabledCheck &&\n                        ( instance.options.disabled === true ||\n                            $( this ).hasClass( \"ui-state-disabled\" ) ) ) {\n                    return;\n                }\n                return ( typeof handler === \"string\" ? instance[ handler ] : handler )\n                    .apply( instance, arguments );\n            }\n\n            // copy the guid so direct unbinding works\n            if ( typeof handler !== \"string\" ) {\n                handlerProxy.guid = handler.guid =\n                    handler.guid || handlerProxy.guid || $.guid++;\n            }\n\n            var match = event.match( /^(\\w+)\\s*(.*)$/ ),\n                eventName = match[1] + instance.eventNamespace,\n                selector = match[2];\n            if ( selector ) {\n                delegateElement.delegate( selector, eventName, handlerProxy );\n            } else {\n                element.bind( eventName, handlerProxy );\n            }\n        });\n    },\n\n    _off: function( element, eventName ) {\n        eventName = (eventName || \"\").split( \" \" ).join( this.eventNamespace + \" \" ) + this.eventNamespace;\n        element.unbind( eventName ).undelegate( eventName );\n    },\n\n    _delay: function( handler, delay ) {\n        function handlerProxy() {\n            return ( typeof handler === \"string\" ? instance[ handler ] : handler )\n                .apply( instance, arguments );\n        }\n        var instance = this;\n        return setTimeout( handlerProxy, delay || 0 );\n    },\n\n    _hoverable: function( element ) {\n        this.hoverable = this.hoverable.add( element );\n        this._on( element, {\n            mouseenter: function( event ) {\n                $( event.currentTarget ).addClass( \"ui-state-hover\" );\n            },\n            mouseleave: function( event ) {\n                $( event.currentTarget ).removeClass( \"ui-state-hover\" );\n            }\n        });\n    },\n\n    _focusable: function( element ) {\n        this.focusable = this.focusable.add( element );\n        this._on( element, {\n            focusin: function( event ) {\n                $( event.currentTarget ).addClass( \"ui-state-focus\" );\n            },\n            focusout: function( event ) {\n                $( event.currentTarget ).removeClass( \"ui-state-focus\" );\n            }\n        });\n    },\n\n    _trigger: function( type, event, data ) {\n        var prop, orig,\n            callback = this.options[ type ];\n\n        data = data || {};\n        event = $.Event( event );\n        event.type = ( type === this.widgetEventPrefix ?\n            type :\n            this.widgetEventPrefix + type ).toLowerCase();\n        // the original event may come from any element\n        // so we need to reset the target on the new event\n        event.target = this.element[ 0 ];\n\n        // copy original event properties over to the new event\n        orig = event.originalEvent;\n        if ( orig ) {\n            for ( prop in orig ) {\n                if ( !( prop in event ) ) {\n                    event[ prop ] = orig[ prop ];\n                }\n            }\n        }\n\n        this.element.trigger( event, data );\n        return !( $.isFunction( callback ) &&\n            callback.apply( this.element[0], [ event ].concat( data ) ) === false ||\n            event.isDefaultPrevented() );\n    }\n};\n\n$.each( { show: \"fadeIn\", hide: \"fadeOut\" }, function( method, defaultEffect ) {\n    $.Widget.prototype[ \"_\" + method ] = function( element, options, callback ) {\n        if ( typeof options === \"string\" ) {\n            options = { effect: options };\n        }\n        var hasOptions,\n            effectName = !options ?\n                method :\n                options === true || typeof options === \"number\" ?\n                    defaultEffect :\n                    options.effect || defaultEffect;\n        options = options || {};\n        if ( typeof options === \"number\" ) {\n            options = { duration: options };\n        }\n        hasOptions = !$.isEmptyObject( options );\n        options.complete = callback;\n        if ( options.delay ) {\n            element.delay( options.delay );\n        }\n        if ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {\n            element[ method ]( options );\n        } else if ( effectName !== method && element[ effectName ] ) {\n            element[ effectName ]( options.duration, options.easing, callback );\n        } else {\n            element.queue(function( next ) {\n                $( this )[ method ]();\n                if ( callback ) {\n                    callback.call( element[ 0 ] );\n                }\n                next();\n            });\n        }\n    };\n});\n\n})( jQuery );\n\n(function( $, window, undefined ) {\n    var nsNormalizeDict = {},\n        oldFind = $.find,\n        rbrace = /(?:\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\])$/,\n        jqmDataRE = /:jqmData\\(([^)]*)\\)/g;\n\n    $.extend( $.mobile, {\n\n        // Namespace used framework-wide for data-attrs. Default is no namespace\n\n        ns: \"\",\n\n        // Retrieve an attribute from an element and perform some massaging of the value\n\n        getAttribute: function( element, key ) {\n            var data;\n\n            element = element.jquery ? element[0] : element;\n\n            if ( element && element.getAttribute ) {\n                data = element.getAttribute( \"data-\" + $.mobile.ns + key );\n            }\n\n            // Copied from core's src/data.js:dataAttr()\n            // Convert from a string to a proper data type\n            try {\n                data = data === \"true\" ? true :\n                    data === \"false\" ? false :\n                    data === \"null\" ? null :\n                    // Only convert to a number if it doesn't change the string\n                    +data + \"\" === data ? +data :\n                    rbrace.test( data ) ? JSON.parse( data ) :\n                    data;\n            } catch( err ) {}\n\n            return data;\n        },\n\n        // Expose our cache for testing purposes.\n        nsNormalizeDict: nsNormalizeDict,\n\n        // Take a data attribute property, prepend the namespace\n        // and then camel case the attribute string. Add the result\n        // to our nsNormalizeDict so we don't have to do this again.\n        nsNormalize: function( prop ) {\n            return nsNormalizeDict[ prop ] ||\n                ( nsNormalizeDict[ prop ] = $.camelCase( $.mobile.ns + prop ) );\n        },\n\n        // Find the closest javascript page element to gather settings data jsperf test\n        // http://jsperf.com/single-complex-selector-vs-many-complex-selectors/edit\n        // possibly naive, but it shows that the parsing overhead for *just* the page selector vs\n        // the page and dialog selector is negligable. This could probably be speed up by\n        // doing a similar parent node traversal to the one found in the inherited theme code above\n        closestPageData: function( $target ) {\n            return $target\n                .closest( \":jqmData(role='page'), :jqmData(role='dialog')\" )\n                .data( \"mobile-page\" );\n        }\n\n    });\n\n    // Mobile version of data and removeData and hasData methods\n    // ensures all data is set and retrieved using jQuery Mobile's data namespace\n    $.fn.jqmData = function( prop, value ) {\n        var result;\n        if ( typeof prop !== \"undefined\" ) {\n            if ( prop ) {\n                prop = $.mobile.nsNormalize( prop );\n            }\n\n            // undefined is permitted as an explicit input for the second param\n            // in this case it returns the value and does not set it to undefined\n            if ( arguments.length < 2 || value === undefined ) {\n                result = this.data( prop );\n            } else {\n                result = this.data( prop, value );\n            }\n        }\n        return result;\n    };\n\n    $.jqmData = function( elem, prop, value ) {\n        var result;\n        if ( typeof prop !== \"undefined\" ) {\n            result = $.data( elem, prop ? $.mobile.nsNormalize( prop ) : prop, value );\n        }\n        return result;\n    };\n\n    $.fn.jqmRemoveData = function( prop ) {\n        return this.removeData( $.mobile.nsNormalize( prop ) );\n    };\n\n    $.jqmRemoveData = function( elem, prop ) {\n        return $.removeData( elem, $.mobile.nsNormalize( prop ) );\n    };\n\n    $.find = function( selector, context, ret, extra ) {\n        if ( selector.indexOf( \":jqmData\" ) > -1 ) {\n            selector = selector.replace( jqmDataRE, \"[data-\" + ( $.mobile.ns || \"\" ) + \"$1]\" );\n        }\n\n        return oldFind.call( this, selector, context, ret, extra );\n    };\n\n    $.extend( $.find, oldFind );\n\n})( jQuery, this );\n\n(function( $, undefined ) {\n\nvar rcapitals = /[A-Z]/g,\n    replaceFunction = function( c ) {\n        return \"-\" + c.toLowerCase();\n    };\n\n$.extend( $.Widget.prototype, {\n    _getCreateOptions: function() {\n        var option, value,\n            elem = this.element[ 0 ],\n            options = {};\n\n        //\n        if ( !$.mobile.getAttribute( elem, \"defaults\" ) ) {\n            for ( option in this.options ) {\n                value = $.mobile.getAttribute( elem, option.replace( rcapitals, replaceFunction ) );\n\n                if ( value != null ) {\n                    options[ option ] = value;\n                }\n            }\n        }\n\n        return options;\n    }\n});\n\n//TODO: Remove in 1.5 for backcompat only\n$.mobile.widget = $.Widget;\n\n})( jQuery );\n\n\n(function( $ ) {\n    // TODO move loader class down into the widget settings\n    var loaderClass = \"ui-loader\", $html = $( \"html\" );\n\n    $.widget( \"mobile.loader\", {\n        // NOTE if the global config settings are defined they will override these\n        //      options\n        options: {\n            // the theme for the loading message\n            theme: \"a\",\n\n            // whether the text in the loading message is shown\n            textVisible: false,\n\n            // custom html for the inner content of the loading message\n            html: \"\",\n\n            // the text to be displayed when the popup is shown\n            text: \"loading\"\n        },\n\n        defaultHtml: \"<div class='\" + loaderClass + \"'>\" +\n            \"<span class='ui-icon-loading'></span>\" +\n            \"<h1></h1>\" +\n            \"</div>\",\n\n        // For non-fixed supportin browsers. Position at y center (if scrollTop supported), above the activeBtn (if defined), or just 100px from top\n        fakeFixLoader: function() {\n            var activeBtn = $( \".\" + $.mobile.activeBtnClass ).first();\n\n            this.element\n                .css({\n                    top: $.support.scrollTop && this.window.scrollTop() + this.window.height() / 2 ||\n                        activeBtn.length && activeBtn.offset().top || 100\n                });\n        },\n\n        // check position of loader to see if it appears to be \"fixed\" to center\n        // if not, use abs positioning\n        checkLoaderPosition: function() {\n            var offset = this.element.offset(),\n                scrollTop = this.window.scrollTop(),\n                screenHeight = $.mobile.getScreenHeight();\n\n            if ( offset.top < scrollTop || ( offset.top - scrollTop ) > screenHeight ) {\n                this.element.addClass( \"ui-loader-fakefix\" );\n                this.fakeFixLoader();\n                this.window\n                    .unbind( \"scroll\", this.checkLoaderPosition )\n                    .bind( \"scroll\", $.proxy( this.fakeFixLoader, this ) );\n            }\n        },\n\n        resetHtml: function() {\n            this.element.html( $( this.defaultHtml ).html() );\n        },\n\n        // Turn on/off page loading message. Theme doubles as an object argument\n        // with the following shape: { theme: '', text: '', html: '', textVisible: '' }\n        // NOTE that the $.mobile.loading* settings and params past the first are deprecated\n        // TODO sweet jesus we need to break some of this out\n        show: function( theme, msgText, textonly ) {\n            var textVisible, message, loadSettings;\n\n            this.resetHtml();\n\n            // use the prototype options so that people can set them globally at\n            // mobile init. Consistency, it's what's for dinner\n            if ( $.type( theme ) === \"object\" ) {\n                loadSettings = $.extend( {}, this.options, theme );\n\n                theme = loadSettings.theme;\n            } else {\n                loadSettings = this.options;\n\n                // here we prefer the theme value passed as a string argument, then\n                // we prefer the global option because we can't use undefined default\n                // prototype options, then the prototype option\n                theme = theme || loadSettings.theme;\n            }\n\n            // set the message text, prefer the param, then the settings object\n            // then loading message\n            message = msgText || ( loadSettings.text === false ? \"\" : loadSettings.text );\n\n            // prepare the dom\n            $html.addClass( \"ui-loading\" );\n\n            textVisible = loadSettings.textVisible;\n\n            // add the proper css given the options (theme, text, etc)\n            // Force text visibility if the second argument was supplied, or\n            // if the text was explicitly set in the object args\n            this.element.attr(\"class\", loaderClass +\n                \" ui-corner-all ui-body-\" + theme +\n                \" ui-loader-\" + ( textVisible || msgText || theme.text ? \"verbose\" : \"default\" ) +\n                ( loadSettings.textonly || textonly ? \" ui-loader-textonly\" : \"\" ) );\n\n            // TODO verify that jquery.fn.html is ok to use in both cases here\n            //      this might be overly defensive in preventing unknowing xss\n            // if the html attribute is defined on the loading settings, use that\n            // otherwise use the fallbacks from above\n            if ( loadSettings.html ) {\n                this.element.html( loadSettings.html );\n            } else {\n                this.element.find( \"h1\" ).text( message );\n            }\n\n            // If the pagecontainer widget has been defined we may use the :mobile-pagecontainer\n            // and attach to the element on which the pagecontainer widget has been defined. If not,\n            // we attach to the body.\n            this.element.appendTo( $.mobile.pagecontainer ?\n                $( \":mobile-pagecontainer\" ) : $( \"body\" ) );\n\n            // check that the loader is visible\n            this.checkLoaderPosition();\n\n            // on scroll check the loader position\n            this.window.bind( \"scroll\", $.proxy( this.checkLoaderPosition, this ) );\n        },\n\n        hide: function() {\n            $html.removeClass( \"ui-loading\" );\n\n            if ( this.options.text ) {\n                this.element.removeClass( \"ui-loader-fakefix\" );\n            }\n\n            this.window.unbind( \"scroll\", this.fakeFixLoader );\n            this.window.unbind( \"scroll\", this.checkLoaderPosition );\n        }\n    });\n\n})(jQuery, this);\n\n\n/*!\n * jQuery hashchange event - v1.3 - 7/21/2010\n * http://benalman.com/projects/jquery-hashchange-plugin/\n * \n * Copyright (c) 2010 \"Cowboy\" Ben Alman\n * Dual licensed under the MIT and GPL licenses.\n * http://benalman.com/about/license/\n */\n\n// Script: jQuery hashchange event\n//\n// *Version: 1.3, Last updated: 7/21/2010*\n// \n// Project Home - http://benalman.com/projects/jquery-hashchange-plugin/\n// GitHub       - http://github.com/cowboy/jquery-hashchange/\n// Source       - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.js\n// (Minified)   - http://github.com/cowboy/jquery-hashchange/raw/master/jquery.ba-hashchange.min.js (0.8kb gzipped)\n// \n// About: License\n// \n// Copyright (c) 2010 \"Cowboy\" Ben Alman,\n// Dual licensed under the MIT and GPL licenses.\n// http://benalman.com/about/license/\n// \n// About: Examples\n// \n// These working examples, complete with fully commented code, illustrate a few\n// ways in which this plugin can be used.\n// \n// hashchange event - http://benalman.com/code/projects/jquery-hashchange/examples/hashchange/\n// document.domain - http://benalman.com/code/projects/jquery-hashchange/examples/document_domain/\n// \n// About: Support and Testing\n// \n// Information about what version or versions of jQuery this plugin has been\n// tested with, what browsers it has been tested in, and where the unit tests\n// reside (so you can test it yourself).\n// \n// jQuery Versions - 1.2.6, 1.3.2, 1.4.1, 1.4.2\n// Browsers Tested - Internet Explorer 6-8, Firefox 2-4, Chrome 5-6, Safari 3.2-5,\n//                   Opera 9.6-10.60, iPhone 3.1, Android 1.6-2.2, BlackBerry 4.6-5.\n// Unit Tests      - http://benalman.com/code/projects/jquery-hashchange/unit/\n// \n// About: Known issues\n// \n// While this jQuery hashchange event implementation is quite stable and\n// robust, there are a few unfortunate browser bugs surrounding expected\n// hashchange event-based behaviors, independent of any JavaScript\n// window.onhashchange abstraction. See the following examples for more\n// information:\n// \n// Chrome: Back Button - http://benalman.com/code/projects/jquery-hashchange/examples/bug-chrome-back-button/\n// Firefox: Remote XMLHttpRequest - http://benalman.com/code/projects/jquery-hashchange/examples/bug-firefox-remote-xhr/\n// WebKit: Back Button in an Iframe - http://benalman.com/code/projects/jquery-hashchange/examples/bug-webkit-hash-iframe/\n// Safari: Back Button from a different domain - http://benalman.com/code/projects/jquery-hashchange/examples/bug-safari-back-from-diff-domain/\n// \n// Also note that should a browser natively support the window.onhashchange \n// event, but not report that it does, the fallback polling loop will be used.\n// \n// About: Release History\n// \n// 1.3   - (7/21/2010) Reorganized IE6/7 Iframe code to make it more\n//         \"removable\" for mobile-only development. Added IE6/7 document.title\n//         support. Attempted to make Iframe as hidden as possible by using\n//         techniques from http://www.paciellogroup.com/blog/?p=604. Added \n//         support for the \"shortcut\" format $(window).hashchange( fn ) and\n//         $(window).hashchange() like jQuery provides for built-in events.\n//         Renamed jQuery.hashchangeDelay to <jQuery.fn.hashchange.delay> and\n//         lowered its default value to 50. Added <jQuery.fn.hashchange.domain>\n//         and <jQuery.fn.hashchange.src> properties plus document-domain.html\n//         file to address access denied issues when setting document.domain in\n//         IE6/7.\n// 1.2   - (2/11/2010) Fixed a bug where coming back to a page using this plugin\n//         from a page on another domain would cause an error in Safari 4. Also,\n//         IE6/7 Iframe is now inserted after the body (this actually works),\n//         which prevents the page from scrolling when the event is first bound.\n//         Event can also now be bound before DOM ready, but it won't be usable\n//         before then in IE6/7.\n// 1.1   - (1/21/2010) Incorporated document.documentMode test to fix IE8 bug\n//         where browser version is incorrectly reported as 8.0, despite\n//         inclusion of the X-UA-Compatible IE=EmulateIE7 meta tag.\n// 1.0   - (1/9/2010) Initial Release. Broke out the jQuery BBQ event.special\n//         window.onhashchange functionality into a separate plugin for users\n//         who want just the basic event & back button support, without all the\n//         extra awesomeness that BBQ provides. This plugin will be included as\n//         part of jQuery BBQ, but also be available separately.\n\n(function($,window,undefined){\n  '$:nomunge'; // Used by YUI compressor.\n  \n  // Reused string.\n  var str_hashchange = 'hashchange',\n    \n    // Method / object references.\n    doc = document,\n    fake_onhashchange,\n    special = $.event.special,\n    \n    // Does the browser support window.onhashchange? Note that IE8 running in\n    // IE7 compatibility mode reports true for 'onhashchange' in window, even\n    // though the event isn't supported, so also test document.documentMode.\n    doc_mode = doc.documentMode,\n    supports_onhashchange = 'on' + str_hashchange in window && ( doc_mode === undefined || doc_mode > 7 );\n  \n  // Get location.hash (or what you'd expect location.hash to be) sans any\n  // leading #. Thanks for making this necessary, Firefox!\n  function get_fragment( url ) {\n    url = url || location.href;\n    return '#' + url.replace( /^[^#]*#?(.*)$/, '$1' );\n  };\n  \n  // Method: jQuery.fn.hashchange\n  // \n  // Bind a handler to the window.onhashchange event or trigger all bound\n  // window.onhashchange event handlers. This behavior is consistent with\n  // jQuery's built-in event handlers.\n  // \n  // Usage:\n  // \n  // > jQuery(window).hashchange( [ handler ] );\n  // \n  // Arguments:\n  // \n  //  handler - (Function) Optional handler to be bound to the hashchange\n  //    event. This is a \"shortcut\" for the more verbose form:\n  //    jQuery(window).bind( 'hashchange', handler ). If handler is omitted,\n  //    all bound window.onhashchange event handlers will be triggered. This\n  //    is a shortcut for the more verbose\n  //    jQuery(window).trigger( 'hashchange' ). These forms are described in\n  //    the <hashchange event> section.\n  // \n  // Returns:\n  // \n  //  (jQuery) The initial jQuery collection of elements.\n  \n  // Allow the \"shortcut\" format $(elem).hashchange( fn ) for binding and\n  // $(elem).hashchange() for triggering, like jQuery does for built-in events.\n  $.fn[ str_hashchange ] = function( fn ) {\n    return fn ? this.bind( str_hashchange, fn ) : this.trigger( str_hashchange );\n  };\n  \n  // Property: jQuery.fn.hashchange.delay\n  // \n  // The numeric interval (in milliseconds) at which the <hashchange event>\n  // polling loop executes. Defaults to 50.\n  \n  // Property: jQuery.fn.hashchange.domain\n  // \n  // If you're setting document.domain in your JavaScript, and you want hash\n  // history to work in IE6/7, not only must this property be set, but you must\n  // also set document.domain BEFORE jQuery is loaded into the page. This\n  // property is only applicable if you are supporting IE6/7 (or IE8 operating\n  // in \"IE7 compatibility\" mode).\n  // \n  // In addition, the <jQuery.fn.hashchange.src> property must be set to the\n  // path of the included \"document-domain.html\" file, which can be renamed or\n  // modified if necessary (note that the document.domain specified must be the\n  // same in both your main JavaScript as well as in this file).\n  // \n  // Usage:\n  // \n  // jQuery.fn.hashchange.domain = document.domain;\n  \n  // Property: jQuery.fn.hashchange.src\n  // \n  // If, for some reason, you need to specify an Iframe src file (for example,\n  // when setting document.domain as in <jQuery.fn.hashchange.domain>), you can\n  // do so using this property. Note that when using this property, history\n  // won't be recorded in IE6/7 until the Iframe src file loads. This property\n  // is only applicable if you are supporting IE6/7 (or IE8 operating in \"IE7\n  // compatibility\" mode).\n  // \n  // Usage:\n  // \n  // jQuery.fn.hashchange.src = 'path/to/file.html';\n  \n  $.fn[ str_hashchange ].delay = 50;\n  /*\n  $.fn[ str_hashchange ].domain = null;\n  $.fn[ str_hashchange ].src = null;\n  */\n  \n  // Event: hashchange event\n  // \n  // Fired when location.hash changes. In browsers that support it, the native\n  // HTML5 window.onhashchange event is used, otherwise a polling loop is\n  // initialized, running every <jQuery.fn.hashchange.delay> milliseconds to\n  // see if the hash has changed. In IE6/7 (and IE8 operating in \"IE7\n  // compatibility\" mode), a hidden Iframe is created to allow the back button\n  // and hash-based history to work.\n  // \n  // Usage as described in <jQuery.fn.hashchange>:\n  // \n  // > // Bind an event handler.\n  // > jQuery(window).hashchange( function(e) {\n  // >   var hash = location.hash;\n  // >   ...\n  // > });\n  // > \n  // > // Manually trigger the event handler.\n  // > jQuery(window).hashchange();\n  // \n  // A more verbose usage that allows for event namespacing:\n  // \n  // > // Bind an event handler.\n  // > jQuery(window).bind( 'hashchange', function(e) {\n  // >   var hash = location.hash;\n  // >   ...\n  // > });\n  // > \n  // > // Manually trigger the event handler.\n  // > jQuery(window).trigger( 'hashchange' );\n  // \n  // Additional Notes:\n  // \n  // * The polling loop and Iframe are not created until at least one handler\n  //   is actually bound to the 'hashchange' event.\n  // * If you need the bound handler(s) to execute immediately, in cases where\n  //   a location.hash exists on page load, via bookmark or page refresh for\n  //   example, use jQuery(window).hashchange() or the more verbose \n  //   jQuery(window).trigger( 'hashchange' ).\n  // * The event can be bound before DOM ready, but since it won't be usable\n  //   before then in IE6/7 (due to the necessary Iframe), recommended usage is\n  //   to bind it inside a DOM ready handler.\n  \n  // Override existing $.event.special.hashchange methods (allowing this plugin\n  // to be defined after jQuery BBQ in BBQ's source code).\n  special[ str_hashchange ] = $.extend( special[ str_hashchange ], {\n    \n    // Called only when the first 'hashchange' event is bound to window.\n    setup: function() {\n      // If window.onhashchange is supported natively, there's nothing to do..\n      if ( supports_onhashchange ) { return false; }\n      \n      // Otherwise, we need to create our own. And we don't want to call this\n      // until the user binds to the event, just in case they never do, since it\n      // will create a polling loop and possibly even a hidden Iframe.\n      $( fake_onhashchange.start );\n    },\n    \n    // Called only when the last 'hashchange' event is unbound from window.\n    teardown: function() {\n      // If window.onhashchange is supported natively, there's nothing to do..\n      if ( supports_onhashchange ) { return false; }\n      \n      // Otherwise, we need to stop ours (if possible).\n      $( fake_onhashchange.stop );\n    }\n    \n  });\n  \n  // fake_onhashchange does all the work of triggering the window.onhashchange\n  // event for browsers that don't natively support it, including creating a\n  // polling loop to watch for hash changes and in IE 6/7 creating a hidden\n  // Iframe to enable back and forward.\n  fake_onhashchange = (function(){\n    var self = {},\n      timeout_id,\n      \n      // Remember the initial hash so it doesn't get triggered immediately.\n      last_hash = get_fragment(),\n      \n      fn_retval = function(val){ return val; },\n      history_set = fn_retval,\n      history_get = fn_retval;\n    \n    // Start the polling loop.\n    self.start = function() {\n      timeout_id || poll();\n    };\n    \n    // Stop the polling loop.\n    self.stop = function() {\n      timeout_id && clearTimeout( timeout_id );\n      timeout_id = undefined;\n    };\n    \n    // This polling loop checks every $.fn.hashchange.delay milliseconds to see\n    // if location.hash has changed, and triggers the 'hashchange' event on\n    // window when necessary.\n    function poll() {\n      var hash = get_fragment(),\n        history_hash = history_get( last_hash );\n      \n      if ( hash !== last_hash ) {\n        history_set( last_hash = hash, history_hash );\n        \n        $(window).trigger( str_hashchange );\n        \n      } else if ( history_hash !== last_hash ) {\n        location.href = location.href.replace( /#.*/, '' ) + history_hash;\n      }\n      \n      timeout_id = setTimeout( poll, $.fn[ str_hashchange ].delay );\n    };\n    \n    // vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\n    // vvvvvvvvvvvvvvvvvvv REMOVE IF NOT SUPPORTING IE6/7/8 vvvvvvvvvvvvvvvvvvv\n    // vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\n    window.attachEvent && !window.addEventListener && !supports_onhashchange && (function(){\n      // Not only do IE6/7 need the \"magical\" Iframe treatment, but so does IE8\n      // when running in \"IE7 compatibility\" mode.\n      \n      var iframe,\n        iframe_src;\n      \n      // When the event is bound and polling starts in IE 6/7, create a hidden\n      // Iframe for history handling.\n      self.start = function(){\n        if ( !iframe ) {\n          iframe_src = $.fn[ str_hashchange ].src;\n          iframe_src = iframe_src && iframe_src + get_fragment();\n          \n          // Create hidden Iframe. Attempt to make Iframe as hidden as possible\n          // by using techniques from http://www.paciellogroup.com/blog/?p=604.\n          iframe = $('<iframe tabindex=\"-1\" title=\"empty\"/>').hide()\n            \n            // When Iframe has completely loaded, initialize the history and\n            // start polling.\n            .one( 'load', function(){\n              iframe_src || history_set( get_fragment() );\n              poll();\n            })\n            \n            // Load Iframe src if specified, otherwise nothing.\n            .attr( 'src', iframe_src || 'javascript:0' )\n            \n            // Append Iframe after the end of the body to prevent unnecessary\n            // initial page scrolling (yes, this works).\n            .insertAfter( 'body' )[0].contentWindow;\n          \n          // Whenever `document.title` changes, update the Iframe's title to\n          // prettify the back/next history menu entries. Since IE sometimes\n          // errors with \"Unspecified error\" the very first time this is set\n          // (yes, very useful) wrap this with a try/catch block.\n          doc.onpropertychange = function(){\n            try {\n              if ( event.propertyName === 'title' ) {\n                iframe.document.title = doc.title;\n              }\n            } catch(e) {}\n          };\n          \n        }\n      };\n      \n      // Override the \"stop\" method since an IE6/7 Iframe was created. Even\n      // if there are no longer any bound event handlers, the polling loop\n      // is still necessary for back/next to work at all!\n      self.stop = fn_retval;\n      \n      // Get history by looking at the hidden Iframe's location.hash.\n      history_get = function() {\n        return get_fragment( iframe.location.href );\n      };\n      \n      // Set a new history item by opening and then closing the Iframe\n      // document, *then* setting its location.hash. If document.domain has\n      // been set, update that as well.\n      history_set = function( hash, history_hash ) {\n        var iframe_doc = iframe.document,\n          domain = $.fn[ str_hashchange ].domain;\n        \n        if ( hash !== history_hash ) {\n          // Update Iframe with any initial `document.title` that might be set.\n          iframe_doc.title = doc.title;\n          \n          // Opening the Iframe's document after it has been closed is what\n          // actually adds a history entry.\n          iframe_doc.open();\n          \n          // Set document.domain for the Iframe document as well, if necessary.\n          domain && iframe_doc.write( '\\x3cscript>document.domain=\"' + domain + '\"\\x3c/script>' );\n          \n          iframe_doc.close();\n          \n          // Update the Iframe's hash, for great justice.\n          iframe.location.hash = hash;\n        }\n      };\n      \n    })();\n    // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    // ^^^^^^^^^^^^^^^^^^^ REMOVE IF NOT SUPPORTING IE6/7/8 ^^^^^^^^^^^^^^^^^^^\n    // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    \n    return self;\n  })();\n  \n})(jQuery,this);\n\n\n(function( $, undefined ) {\n\n    /*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */\n    window.matchMedia = window.matchMedia || (function( doc, undefined ) {\n\n        var bool,\n            docElem = doc.documentElement,\n            refNode = docElem.firstElementChild || docElem.firstChild,\n            // fakeBody required for <FF4 when executed in <head>\n            fakeBody = doc.createElement( \"body\" ),\n            div = doc.createElement( \"div\" );\n\n        div.id = \"mq-test-1\";\n        div.style.cssText = \"position:absolute;top:-100em\";\n        fakeBody.style.background = \"none\";\n        fakeBody.appendChild(div);\n\n        return function(q){\n\n            div.innerHTML = \"&shy;<style media=\\\"\" + q + \"\\\"> #mq-test-1 { width: 42px; }</style>\";\n\n            docElem.insertBefore( fakeBody, refNode );\n            bool = div.offsetWidth === 42;\n            docElem.removeChild( fakeBody );\n\n            return {\n                matches: bool,\n                media: q\n            };\n\n        };\n\n    }( document ));\n\n    // $.mobile.media uses matchMedia to return a boolean.\n    $.mobile.media = function( q ) {\n        return window.matchMedia( q ).matches;\n    };\n\n})(jQuery);\n\n    (function( $, undefined ) {\n        var support = {\n            touch: \"ontouchend\" in document\n        };\n\n        $.mobile.support = $.mobile.support || {};\n        $.extend( $.support, support );\n        $.extend( $.mobile.support, support );\n    }( jQuery ));\n\n    (function( $, undefined ) {\n        $.extend( $.support, {\n            orientation: \"orientation\" in window && \"onorientationchange\" in window\n        });\n    }( jQuery ));\n\n(function( $, undefined ) {\n\n// thx Modernizr\nfunction propExists( prop ) {\n    var uc_prop = prop.charAt( 0 ).toUpperCase() + prop.substr( 1 ),\n        props = ( prop + \" \" + vendors.join( uc_prop + \" \" ) + uc_prop ).split( \" \" ),\n        v;\n\n    for ( v in props ) {\n        if ( fbCSS[ props[ v ] ] !== undefined ) {\n            return true;\n        }\n    }\n}\n\nvar fakeBody = $( \"<body>\" ).prependTo( \"html\" ),\n    fbCSS = fakeBody[ 0 ].style,\n    vendors = [ \"Webkit\", \"Moz\", \"O\" ],\n    webos = \"palmGetResource\" in window, //only used to rule out scrollTop\n    operamini = window.operamini && ({}).toString.call( window.operamini ) === \"[object OperaMini]\",\n    bb = window.blackberry && !propExists( \"-webkit-transform\" ), //only used to rule out box shadow, as it's filled opaque on BB 5 and lower\n    nokiaLTE7_3;\n\n// inline SVG support test\nfunction inlineSVG() {\n    // Thanks Modernizr & Erik Dahlstrom\n    var w = window,\n        svg = !!w.document.createElementNS && !!w.document.createElementNS( \"http://www.w3.org/2000/svg\", \"svg\" ).createSVGRect && !( w.opera && navigator.userAgent.indexOf( \"Chrome\" ) === -1 ),\n        support = function( data ) {\n            if ( !( data && svg ) ) {\n                $( \"html\" ).addClass( \"ui-nosvg\" );\n            }\n        },\n        img = new w.Image();\n\n    img.onerror = function() {\n        support( false );\n    };\n    img.onload = function() {\n        support( img.width === 1 && img.height === 1 );\n    };\n    img.src = \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\";\n}\n\nfunction transform3dTest() {\n    var mqProp = \"transform-3d\",\n        // Because the `translate3d` test below throws false positives in Android:\n        ret = $.mobile.media( \"(-\" + vendors.join( \"-\" + mqProp + \"),(-\" ) + \"-\" + mqProp + \"),(\" + mqProp + \")\" ),\n        el, transforms, t;\n\n    if ( ret ) {\n        return !!ret;\n    }\n\n    el = document.createElement( \"div\" );\n    transforms = {\n        // We’re omitting Opera for the time being; MS uses unprefixed.\n        \"MozTransform\": \"-moz-transform\",\n        \"transform\": \"transform\"\n    };\n\n    fakeBody.append( el );\n\n    for ( t in transforms ) {\n        if ( el.style[ t ] !== undefined ) {\n            el.style[ t ] = \"translate3d( 100px, 1px, 1px )\";\n            ret = window.getComputedStyle( el ).getPropertyValue( transforms[ t ] );\n        }\n    }\n    return ( !!ret && ret !== \"none\" );\n}\n\n// Test for dynamic-updating base tag support ( allows us to avoid href,src attr rewriting )\nfunction baseTagTest() {\n    var fauxBase = location.protocol + \"//\" + location.host + location.pathname + \"ui-dir/\",\n        base = $( \"head base\" ),\n        fauxEle = null,\n        href = \"\",\n        link, rebase;\n\n    if ( !base.length ) {\n        base = fauxEle = $( \"<base>\", { \"href\": fauxBase }).appendTo( \"head\" );\n    } else {\n        href = base.attr( \"href\" );\n    }\n\n    link = $( \"<a href='testurl' />\" ).prependTo( fakeBody );\n    rebase = link[ 0 ].href;\n    base[ 0 ].href = href || location.pathname;\n\n    if ( fauxEle ) {\n        fauxEle.remove();\n    }\n    return rebase.indexOf( fauxBase ) === 0;\n}\n\n// Thanks Modernizr\nfunction cssPointerEventsTest() {\n    var element = document.createElement( \"x\" ),\n        documentElement = document.documentElement,\n        getComputedStyle = window.getComputedStyle,\n        supports;\n\n    if ( !( \"pointerEvents\" in element.style ) ) {\n        return false;\n    }\n\n    element.style.pointerEvents = \"auto\";\n    element.style.pointerEvents = \"x\";\n    documentElement.appendChild( element );\n    supports = getComputedStyle &&\n    getComputedStyle( element, \"\" ).pointerEvents === \"auto\";\n    documentElement.removeChild( element );\n    return !!supports;\n}\n\nfunction boundingRect() {\n    var div = document.createElement( \"div\" );\n    return typeof div.getBoundingClientRect !== \"undefined\";\n}\n\n// non-UA-based IE version check by James Padolsey, modified by jdalton - from http://gist.github.com/527683\n// allows for inclusion of IE 6+, including Windows Mobile 7\n$.extend( $.mobile, { browser: {} } );\n$.mobile.browser.oldIE = (function() {\n    var v = 3,\n        div = document.createElement( \"div\" ),\n        a = div.all || [];\n\n    do {\n        div.innerHTML = \"<!--[if gt IE \" + ( ++v ) + \"]><br><![endif]-->\";\n    } while( a[0] );\n\n    return v > 4 ? v : !v;\n})();\n\nfunction fixedPosition() {\n    var w = window,\n        ua = navigator.userAgent,\n        platform = navigator.platform,\n        // Rendering engine is Webkit, and capture major version\n        wkmatch = ua.match( /AppleWebKit\\/([0-9]+)/ ),\n        wkversion = !!wkmatch && wkmatch[ 1 ],\n        ffmatch = ua.match( /Fennec\\/([0-9]+)/ ),\n        ffversion = !!ffmatch && ffmatch[ 1 ],\n        operammobilematch = ua.match( /Opera Mobi\\/([0-9]+)/ ),\n        omversion = !!operammobilematch && operammobilematch[ 1 ];\n\n    if (\n        // iOS 4.3 and older : Platform is iPhone/Pad/Touch and Webkit version is less than 534 (ios5)\n        ( ( platform.indexOf( \"iPhone\" ) > -1 || platform.indexOf( \"iPad\" ) > -1  || platform.indexOf( \"iPod\" ) > -1 ) && wkversion && wkversion < 534 ) ||\n        // Opera Mini\n        ( w.operamini && ({}).toString.call( w.operamini ) === \"[object OperaMini]\" ) ||\n        ( operammobilematch && omversion < 7458 )    ||\n        //Android lte 2.1: Platform is Android and Webkit version is less than 533 (Android 2.2)\n        ( ua.indexOf( \"Android\" ) > -1 && wkversion && wkversion < 533 ) ||\n        // Firefox Mobile before 6.0 -\n        ( ffversion && ffversion < 6 ) ||\n        // WebOS less than 3\n        ( \"palmGetResource\" in window && wkversion && wkversion < 534 )    ||\n        // MeeGo\n        ( ua.indexOf( \"MeeGo\" ) > -1 && ua.indexOf( \"NokiaBrowser/8.5.0\" ) > -1 ) ) {\n        return false;\n    }\n\n    return true;\n}\n\n$.extend( $.support, {\n    // Note, Chrome for iOS has an extremely quirky implementation of popstate.\n    // We've chosen to take the shortest path to a bug fix here for issue #5426\n    // See the following link for information about the regex chosen\n    // https://developers.google.com/chrome/mobile/docs/user-agent#chrome_for_ios_user-agent\n    pushState: \"pushState\" in history &&\n        \"replaceState\" in history &&\n        // When running inside a FF iframe, calling replaceState causes an error\n        !( window.navigator.userAgent.indexOf( \"Firefox\" ) >= 0 && window.top !== window ) &&\n        ( window.navigator.userAgent.search(/CriOS/) === -1 ),\n\n    mediaquery: $.mobile.media( \"only all\" ),\n    cssPseudoElement: !!propExists( \"content\" ),\n    touchOverflow: !!propExists( \"overflowScrolling\" ),\n    cssTransform3d: transform3dTest(),\n    boxShadow: !!propExists( \"boxShadow\" ) && !bb,\n    fixedPosition: fixedPosition(),\n    scrollTop: (\"pageXOffset\" in window ||\n        \"scrollTop\" in document.documentElement ||\n        \"scrollTop\" in fakeBody[ 0 ]) && !webos && !operamini,\n\n    dynamicBaseTag: baseTagTest(),\n    cssPointerEvents: cssPointerEventsTest(),\n    boundingRect: boundingRect(),\n    inlineSVG: inlineSVG\n});\n\nfakeBody.remove();\n\n// $.mobile.ajaxBlacklist is used to override ajaxEnabled on platforms that have known conflicts with hash history updates (BB5, Symbian)\n// or that generally work better browsing in regular http for full page refreshes (Opera Mini)\n// Note: This detection below is used as a last resort.\n// We recommend only using these detection methods when all other more reliable/forward-looking approaches are not possible\nnokiaLTE7_3 = (function() {\n\n    var ua = window.navigator.userAgent;\n\n    //The following is an attempt to match Nokia browsers that are running Symbian/s60, with webkit, version 7.3 or older\n    return ua.indexOf( \"Nokia\" ) > -1 &&\n            ( ua.indexOf( \"Symbian/3\" ) > -1 || ua.indexOf( \"Series60/5\" ) > -1 ) &&\n            ua.indexOf( \"AppleWebKit\" ) > -1 &&\n            ua.match( /(BrowserNG|NokiaBrowser)\\/7\\.[0-3]/ );\n})();\n\n// Support conditions that must be met in order to proceed\n// default enhanced qualifications are media query support OR IE 7+\n\n$.mobile.gradeA = function() {\n    return ( ( $.support.mediaquery && $.support.cssPseudoElement ) || $.mobile.browser.oldIE && $.mobile.browser.oldIE >= 8 ) && ( $.support.boundingRect || $.fn.jquery.match(/1\\.[0-7+]\\.[0-9+]?/) !== null );\n};\n\n$.mobile.ajaxBlacklist =\n            // BlackBerry browsers, pre-webkit\n            window.blackberry && !window.WebKitPoint ||\n            // Opera Mini\n            operamini ||\n            // Symbian webkits pre 7.3\n            nokiaLTE7_3;\n\n// Lastly, this workaround is the only way we've found so far to get pre 7.3 Symbian webkit devices\n// to render the stylesheets when they're referenced before this script, as we'd recommend doing.\n// This simply reappends the CSS in place, which for some reason makes it apply\nif ( nokiaLTE7_3 ) {\n    $(function() {\n        $( \"head link[rel='stylesheet']\" ).attr( \"rel\", \"alternate stylesheet\" ).attr( \"rel\", \"stylesheet\" );\n    });\n}\n\n// For ruling out shadows via css\nif ( !$.support.boxShadow ) {\n    $( \"html\" ).addClass( \"ui-noboxshadow\" );\n}\n\n})( jQuery );\n\n\n(function( $, undefined ) {\n    var $win = $.mobile.window, self,\n        dummyFnToInitNavigate = function() {\n        };\n\n    $.event.special.beforenavigate = {\n        setup: function() {\n            $win.on( \"navigate\", dummyFnToInitNavigate );\n        },\n\n        teardown: function() {\n            $win.off( \"navigate\", dummyFnToInitNavigate );\n        }\n    };\n\n    $.event.special.navigate = self = {\n        bound: false,\n\n        pushStateEnabled: true,\n\n        originalEventName: undefined,\n\n        // If pushstate support is present and push state support is defined to\n        // be true on the mobile namespace.\n        isPushStateEnabled: function() {\n            return $.support.pushState &&\n                $.mobile.pushStateEnabled === true &&\n                this.isHashChangeEnabled();\n        },\n\n        // !! assumes mobile namespace is present\n        isHashChangeEnabled: function() {\n            return $.mobile.hashListeningEnabled === true;\n        },\n\n        // TODO a lot of duplication between popstate and hashchange\n        popstate: function( event ) {\n            var newEvent = new $.Event( \"navigate\" ),\n                beforeNavigate = new $.Event( \"beforenavigate\" ),\n                state = event.originalEvent.state || {};\n\n            beforeNavigate.originalEvent = event;\n            $win.trigger( beforeNavigate );\n\n            if ( beforeNavigate.isDefaultPrevented() ) {\n                return;\n            }\n\n            if ( event.historyState ) {\n                $.extend(state, event.historyState);\n            }\n\n            // Make sure the original event is tracked for the end\n            // user to inspect incase they want to do something special\n            newEvent.originalEvent = event;\n\n            // NOTE we let the current stack unwind because any assignment to\n            //      location.hash will stop the world and run this event handler. By\n            //      doing this we create a similar behavior to hashchange on hash\n            //      assignment\n            setTimeout(function() {\n                $win.trigger( newEvent, {\n                    state: state\n                });\n            }, 0);\n        },\n\n        hashchange: function( event /*, data */ ) {\n            var newEvent = new $.Event( \"navigate\" ),\n                beforeNavigate = new $.Event( \"beforenavigate\" );\n\n            beforeNavigate.originalEvent = event;\n            $win.trigger( beforeNavigate );\n\n            if ( beforeNavigate.isDefaultPrevented() ) {\n                return;\n            }\n\n            // Make sure the original event is tracked for the end\n            // user to inspect incase they want to do something special\n            newEvent.originalEvent = event;\n\n            // Trigger the hashchange with state provided by the user\n            // that altered the hash\n            $win.trigger( newEvent, {\n                // Users that want to fully normalize the two events\n                // will need to do history management down the stack and\n                // add the state to the event before this binding is fired\n                // TODO consider allowing for the explicit addition of callbacks\n                //      to be fired before this value is set to avoid event timing issues\n                state: event.hashchangeState || {}\n            });\n        },\n\n        // TODO We really only want to set this up once\n        //      but I'm not clear if there's a beter way to achieve\n        //      this with the jQuery special event structure\n        setup: function( /* data, namespaces */ ) {\n            if ( self.bound ) {\n                return;\n            }\n\n            self.bound = true;\n\n            if ( self.isPushStateEnabled() ) {\n                self.originalEventName = \"popstate\";\n                $win.bind( \"popstate.navigate\", self.popstate );\n            } else if ( self.isHashChangeEnabled() ) {\n                self.originalEventName = \"hashchange\";\n                $win.bind( \"hashchange.navigate\", self.hashchange );\n            }\n        }\n    };\n})( jQuery );\n\n\n\n(function( $, undefined ) {\n        var path, $base, dialogHashKey = \"&ui-state=dialog\";\n\n        $.mobile.path = path = {\n            uiStateKey: \"&ui-state\",\n\n            // This scary looking regular expression parses an absolute URL or its relative\n            // variants (protocol, site, document, query, and hash), into the various\n            // components (protocol, host, path, query, fragment, etc that make up the\n            // URL as well as some other commonly used sub-parts. When used with RegExp.exec()\n            // or String.match, it parses the URL into a results array that looks like this:\n            //\n            //     [0]: http://jblas:password@mycompany.com:8080/mail/inbox?msg=1234&type=unread#msg-content\n            //     [1]: http://jblas:password@mycompany.com:8080/mail/inbox?msg=1234&type=unread\n            //     [2]: http://jblas:password@mycompany.com:8080/mail/inbox\n            //     [3]: http://jblas:password@mycompany.com:8080\n            //     [4]: http:\n            //     [5]: //\n            //     [6]: jblas:password@mycompany.com:8080\n            //     [7]: jblas:password\n            //     [8]: jblas\n            //     [9]: password\n            //    [10]: mycompany.com:8080\n            //    [11]: mycompany.com\n            //    [12]: 8080\n            //    [13]: /mail/inbox\n            //    [14]: /mail/\n            //    [15]: inbox\n            //    [16]: ?msg=1234&type=unread\n            //    [17]: #msg-content\n            //\n            urlParseRE: /^\\s*(((([^:\\/#\\?]+:)?(?:(\\/\\/)((?:(([^:@\\/#\\?]+)(?:\\:([^:@\\/#\\?]+))?)@)?(([^:\\/#\\?\\]\\[]+|\\[[^\\/\\]@#?]+\\])(?:\\:([0-9]+))?))?)?)?((\\/?(?:[^\\/\\?#]+\\/+)*)([^\\?#]*)))?(\\?[^#]+)?)(#.*)?/,\n\n            // Abstraction to address xss (Issue #4787) by removing the authority in\n            // browsers that auto-decode it. All references to location.href should be\n            // replaced with a call to this method so that it can be dealt with properly here\n            getLocation: function( url ) {\n                var parsedUrl = this.parseUrl( url || location.href ),\n                    uri = url ? parsedUrl : location,\n\n                    // Make sure to parse the url or the location object for the hash because using\n                    // location.hash is autodecoded in firefox, the rest of the url should be from\n                    // the object (location unless we're testing) to avoid the inclusion of the\n                    // authority\n                    hash = parsedUrl.hash;\n\n                // mimic the browser with an empty string when the hash is empty\n                hash = hash === \"#\" ? \"\" : hash;\n\n                return uri.protocol +\n                    parsedUrl.doubleSlash +\n                    uri.host +\n\n                    // The pathname must start with a slash if there's a protocol, because you\n                    // can't have a protocol followed by a relative path. Also, it's impossible to\n                    // calculate absolute URLs from relative ones if the absolute one doesn't have\n                    // a leading \"/\".\n                    ( ( uri.protocol !== \"\" && uri.pathname.substring( 0, 1 ) !== \"/\" ) ?\n                        \"/\" : \"\" ) +\n                    uri.pathname +\n                    uri.search +\n                    hash;\n            },\n\n            //return the original document url\n            getDocumentUrl: function( asParsedObject ) {\n                return asParsedObject ? $.extend( {}, path.documentUrl ) : path.documentUrl.href;\n            },\n\n            parseLocation: function() {\n                return this.parseUrl( this.getLocation() );\n            },\n\n            //Parse a URL into a structure that allows easy access to\n            //all of the URL components by name.\n            parseUrl: function( url ) {\n                // If we're passed an object, we'll assume that it is\n                // a parsed url object and just return it back to the caller.\n                if ( $.type( url ) === \"object\" ) {\n                    return url;\n                }\n\n                var matches = path.urlParseRE.exec( url || \"\" ) || [];\n\n                    // Create an object that allows the caller to access the sub-matches\n                    // by name. Note that IE returns an empty string instead of undefined,\n                    // like all other browsers do, so we normalize everything so its consistent\n                    // no matter what browser we're running on.\n                    return {\n                        href:         matches[  0 ] || \"\",\n                        hrefNoHash:   matches[  1 ] || \"\",\n                        hrefNoSearch: matches[  2 ] || \"\",\n                        domain:       matches[  3 ] || \"\",\n                        protocol:     matches[  4 ] || \"\",\n                        doubleSlash:  matches[  5 ] || \"\",\n                        authority:    matches[  6 ] || \"\",\n                        username:     matches[  8 ] || \"\",\n                        password:     matches[  9 ] || \"\",\n                        host:         matches[ 10 ] || \"\",\n                        hostname:     matches[ 11 ] || \"\",\n                        port:         matches[ 12 ] || \"\",\n                        pathname:     matches[ 13 ] || \"\",\n                        directory:    matches[ 14 ] || \"\",\n                        filename:     matches[ 15 ] || \"\",\n                        search:       matches[ 16 ] || \"\",\n                        hash:         matches[ 17 ] || \"\"\n                    };\n            },\n\n            //Turn relPath into an asbolute path. absPath is\n            //an optional absolute path which describes what\n            //relPath is relative to.\n            makePathAbsolute: function( relPath, absPath ) {\n                var absStack,\n                    relStack,\n                    i, d;\n\n                if ( relPath && relPath.charAt( 0 ) === \"/\" ) {\n                    return relPath;\n                }\n\n                relPath = relPath || \"\";\n                absPath = absPath ? absPath.replace( /^\\/|(\\/[^\\/]*|[^\\/]+)$/g, \"\" ) : \"\";\n\n                absStack = absPath ? absPath.split( \"/\" ) : [];\n                relStack = relPath.split( \"/\" );\n\n                for ( i = 0; i < relStack.length; i++ ) {\n                    d = relStack[ i ];\n                    switch ( d ) {\n                        case \".\":\n                            break;\n                        case \"..\":\n                            if ( absStack.length ) {\n                                absStack.pop();\n                            }\n                            break;\n                        default:\n                            absStack.push( d );\n                            break;\n                    }\n                }\n                return \"/\" + absStack.join( \"/\" );\n            },\n\n            //Returns true if both urls have the same domain.\n            isSameDomain: function( absUrl1, absUrl2 ) {\n                return path.parseUrl( absUrl1 ).domain.toLowerCase() ===\n                    path.parseUrl( absUrl2 ).domain.toLowerCase();\n            },\n\n            //Returns true for any relative variant.\n            isRelativeUrl: function( url ) {\n                // All relative Url variants have one thing in common, no protocol.\n                return path.parseUrl( url ).protocol === \"\";\n            },\n\n            //Returns true for an absolute url.\n            isAbsoluteUrl: function( url ) {\n                return path.parseUrl( url ).protocol !== \"\";\n            },\n\n            //Turn the specified realtive URL into an absolute one. This function\n            //can handle all relative variants (protocol, site, document, query, fragment).\n            makeUrlAbsolute: function( relUrl, absUrl ) {\n                if ( !path.isRelativeUrl( relUrl ) ) {\n                    return relUrl;\n                }\n\n                if ( absUrl === undefined ) {\n                    absUrl = this.documentBase;\n                }\n\n                var relObj = path.parseUrl( relUrl ),\n                    absObj = path.parseUrl( absUrl ),\n                    protocol = relObj.protocol || absObj.protocol,\n                    doubleSlash = relObj.protocol ? relObj.doubleSlash : ( relObj.doubleSlash || absObj.doubleSlash ),\n                    authority = relObj.authority || absObj.authority,\n                    hasPath = relObj.pathname !== \"\",\n                    pathname = path.makePathAbsolute( relObj.pathname || absObj.filename, absObj.pathname ),\n                    search = relObj.search || ( !hasPath && absObj.search ) || \"\",\n                    hash = relObj.hash;\n\n                return protocol + doubleSlash + authority + pathname + search + hash;\n            },\n\n            //Add search (aka query) params to the specified url.\n            addSearchParams: function( url, params ) {\n                var u = path.parseUrl( url ),\n                    p = ( typeof params === \"object\" ) ? $.param( params ) : params,\n                    s = u.search || \"?\";\n                return u.hrefNoSearch + s + ( s.charAt( s.length - 1 ) !== \"?\" ? \"&\" : \"\" ) + p + ( u.hash || \"\" );\n            },\n\n            convertUrlToDataUrl: function( absUrl ) {\n                var result = absUrl,\n                    u = path.parseUrl( absUrl );\n\n                if ( path.isEmbeddedPage( u ) ) {\n                    // For embedded pages, remove the dialog hash key as in getFilePath(),\n                    // and remove otherwise the Data Url won't match the id of the embedded Page.\n                    result = u.hash\n                        .split( dialogHashKey )[0]\n                        .replace( /^#/, \"\" )\n                        .replace( /\\?.*$/, \"\" );\n                } else if ( path.isSameDomain( u, this.documentBase ) ) {\n                    result = u.hrefNoHash.replace( this.documentBase.domain, \"\" ).split( dialogHashKey )[0];\n                }\n\n                return window.decodeURIComponent( result );\n            },\n\n            //get path from current hash, or from a file path\n            get: function( newPath ) {\n                if ( newPath === undefined ) {\n                    newPath = path.parseLocation().hash;\n                }\n                return path.stripHash( newPath ).replace( /[^\\/]*\\.[^\\/*]+$/, \"\" );\n            },\n\n            //set location hash to path\n            set: function( path ) {\n                location.hash = path;\n            },\n\n            //test if a given url (string) is a path\n            //NOTE might be exceptionally naive\n            isPath: function( url ) {\n                return ( /\\// ).test( url );\n            },\n\n            //return a url path with the window's location protocol/hostname/pathname removed\n            clean: function( url ) {\n                return url.replace( this.documentBase.domain, \"\" );\n            },\n\n            //just return the url without an initial #\n            stripHash: function( url ) {\n                return url.replace( /^#/, \"\" );\n            },\n\n            stripQueryParams: function( url ) {\n                return url.replace( /\\?.*$/, \"\" );\n            },\n\n            //remove the preceding hash, any query params, and dialog notations\n            cleanHash: function( hash ) {\n                return path.stripHash( hash.replace( /\\?.*$/, \"\" ).replace( dialogHashKey, \"\" ) );\n            },\n\n            isHashValid: function( hash ) {\n                return ( /^#[^#]+$/ ).test( hash );\n            },\n\n            //check whether a url is referencing the same domain, or an external domain or different protocol\n            //could be mailto, etc\n            isExternal: function( url ) {\n                var u = path.parseUrl( url );\n\n                return !!( u.protocol &&\n                    ( u.domain.toLowerCase() !== this.documentUrl.domain.toLowerCase() ) );\n            },\n\n            hasProtocol: function( url ) {\n                return ( /^(:?\\w+:)/ ).test( url );\n            },\n\n            isEmbeddedPage: function( url ) {\n                var u = path.parseUrl( url );\n\n                //if the path is absolute, then we need to compare the url against\n                //both the this.documentUrl and the documentBase. The main reason for this\n                //is that links embedded within external documents will refer to the\n                //application document, whereas links embedded within the application\n                //document will be resolved against the document base.\n                if ( u.protocol !== \"\" ) {\n                    return ( !this.isPath(u.hash) && u.hash && ( u.hrefNoHash === this.documentUrl.hrefNoHash || ( this.documentBaseDiffers && u.hrefNoHash === this.documentBase.hrefNoHash ) ) );\n                }\n                return ( /^#/ ).test( u.href );\n            },\n\n            squash: function( url, resolutionUrl ) {\n                var href, cleanedUrl, search, stateIndex, docUrl,\n                    isPath = this.isPath( url ),\n                    uri = this.parseUrl( url ),\n                    preservedHash = uri.hash,\n                    uiState = \"\";\n\n                // produce a url against which we can resolve the provided path\n                if ( !resolutionUrl ) {\n                    if ( isPath ) {\n                        resolutionUrl = path.getLocation();\n                    } else {\n                        docUrl = path.getDocumentUrl( true );\n                        if ( path.isPath( docUrl.hash ) ) {\n                            resolutionUrl = path.squash( docUrl.href );\n                        } else {\n                            resolutionUrl = docUrl.href;\n                        }\n                    }\n                }\n\n                // If the url is anything but a simple string, remove any preceding hash\n                // eg #foo/bar -> foo/bar\n                //    #foo -> #foo\n                cleanedUrl = isPath ? path.stripHash( url ) : url;\n\n                // If the url is a full url with a hash check if the parsed hash is a path\n                // if it is, strip the #, and use it otherwise continue without change\n                cleanedUrl = path.isPath( uri.hash ) ? path.stripHash( uri.hash ) : cleanedUrl;\n\n                // Split the UI State keys off the href\n                stateIndex = cleanedUrl.indexOf( this.uiStateKey );\n\n                // store the ui state keys for use\n                if ( stateIndex > -1 ) {\n                    uiState = cleanedUrl.slice( stateIndex );\n                    cleanedUrl = cleanedUrl.slice( 0, stateIndex );\n                }\n\n                // make the cleanedUrl absolute relative to the resolution url\n                href = path.makeUrlAbsolute( cleanedUrl, resolutionUrl );\n\n                // grab the search from the resolved url since parsing from\n                // the passed url may not yield the correct result\n                search = this.parseUrl( href ).search;\n\n                // TODO all this crap is terrible, clean it up\n                if ( isPath ) {\n                    // reject the hash if it's a path or it's just a dialog key\n                    if ( path.isPath( preservedHash ) || preservedHash.replace(\"#\", \"\").indexOf( this.uiStateKey ) === 0) {\n                        preservedHash = \"\";\n                    }\n\n                    // Append the UI State keys where it exists and it's been removed\n                    // from the url\n                    if ( uiState && preservedHash.indexOf( this.uiStateKey ) === -1) {\n                        preservedHash += uiState;\n                    }\n\n                    // make sure that pound is on the front of the hash\n                    if ( preservedHash.indexOf( \"#\" ) === -1 && preservedHash !== \"\" ) {\n                        preservedHash = \"#\" + preservedHash;\n                    }\n\n                    // reconstruct each of the pieces with the new search string and hash\n                    href = path.parseUrl( href );\n                    href = href.protocol + href.doubleSlash + href.host + href.pathname + search +\n                        preservedHash;\n                } else {\n                    href += href.indexOf( \"#\" ) > -1 ? uiState : \"#\" + uiState;\n                }\n\n                return href;\n            },\n\n            isPreservableHash: function( hash ) {\n                return hash.replace( \"#\", \"\" ).indexOf( this.uiStateKey ) === 0;\n            },\n\n            // Escape weird characters in the hash if it is to be used as a selector\n            hashToSelector: function( hash ) {\n                var hasHash = ( hash.substring( 0, 1 ) === \"#\" );\n                if ( hasHash ) {\n                    hash = hash.substring( 1 );\n                }\n                return ( hasHash ? \"#\" : \"\" ) + hash.replace( /([!\"#$%&'()*+,./:;<=>?@[\\]^`{|}~])/g, \"\\\\$1\" );\n            },\n\n            // return the substring of a filepath before the dialogHashKey, for making a server\n            // request\n            getFilePath: function( path ) {\n                return path && path.split( dialogHashKey )[0];\n            },\n\n            // check if the specified url refers to the first page in the main\n            // application document.\n            isFirstPageUrl: function( url ) {\n                // We only deal with absolute paths.\n                var u = path.parseUrl( path.makeUrlAbsolute( url, this.documentBase ) ),\n\n                    // Does the url have the same path as the document?\n                    samePath = u.hrefNoHash === this.documentUrl.hrefNoHash ||\n                        ( this.documentBaseDiffers &&\n                            u.hrefNoHash === this.documentBase.hrefNoHash ),\n\n                    // Get the first page element.\n                    fp = $.mobile.firstPage,\n\n                    // Get the id of the first page element if it has one.\n                    fpId = fp && fp[0] ? fp[0].id : undefined;\n\n                // The url refers to the first page if the path matches the document and\n                // it either has no hash value, or the hash is exactly equal to the id\n                // of the first page element.\n                return samePath &&\n                    ( !u.hash ||\n                        u.hash === \"#\" ||\n                        ( fpId && u.hash.replace( /^#/, \"\" ) === fpId ) );\n            },\n\n            // Some embedded browsers, like the web view in Phone Gap, allow\n            // cross-domain XHR requests if the document doing the request was loaded\n            // via the file:// protocol. This is usually to allow the application to\n            // \"phone home\" and fetch app specific data. We normally let the browser\n            // handle external/cross-domain urls, but if the allowCrossDomainPages\n            // option is true, we will allow cross-domain http/https requests to go\n            // through our page loading logic.\n            isPermittedCrossDomainRequest: function( docUrl, reqUrl ) {\n                return $.mobile.allowCrossDomainPages &&\n                    (docUrl.protocol === \"file:\" || docUrl.protocol === \"content:\") &&\n                    reqUrl.search( /^https?:/ ) !== -1;\n            }\n        };\n\n        path.documentUrl = path.parseLocation();\n\n        $base = $( \"head\" ).find( \"base\" );\n\n        path.documentBase = $base.length ?\n            path.parseUrl( path.makeUrlAbsolute( $base.attr( \"href\" ), path.documentUrl.href ) ) :\n            path.documentUrl;\n\n        path.documentBaseDiffers = (path.documentUrl.hrefNoHash !== path.documentBase.hrefNoHash);\n\n        //return the original document base url\n        path.getDocumentBase = function( asParsedObject ) {\n            return asParsedObject ? $.extend( {}, path.documentBase ) : path.documentBase.href;\n        };\n\n        // DEPRECATED as of 1.4.0 - remove in 1.5.0\n        $.extend( $.mobile, {\n\n            //return the original document url\n            getDocumentUrl: path.getDocumentUrl,\n\n            //return the original document base url\n            getDocumentBase: path.getDocumentBase\n        });\n})( jQuery );\n\n\n\n(function( $, undefined ) {\n    $.mobile.History = function( stack, index ) {\n        this.stack = stack || [];\n        this.activeIndex = index || 0;\n    };\n\n    $.extend($.mobile.History.prototype, {\n        getActive: function() {\n            return this.stack[ this.activeIndex ];\n        },\n\n        getLast: function() {\n            return this.stack[ this.previousIndex ];\n        },\n\n        getNext: function() {\n            return this.stack[ this.activeIndex + 1 ];\n        },\n\n        getPrev: function() {\n            return this.stack[ this.activeIndex - 1 ];\n        },\n\n        // addNew is used whenever a new page is added\n        add: function( url, data ) {\n            data = data || {};\n\n            //if there's forward history, wipe it\n            if ( this.getNext() ) {\n                this.clearForward();\n            }\n\n            // if the hash is included in the data make sure the shape\n            // is consistent for comparison\n            if ( data.hash && data.hash.indexOf( \"#\" ) === -1) {\n                data.hash = \"#\" + data.hash;\n            }\n\n            data.url = url;\n            this.stack.push( data );\n            this.activeIndex = this.stack.length - 1;\n        },\n\n        //wipe urls ahead of active index\n        clearForward: function() {\n            this.stack = this.stack.slice( 0, this.activeIndex + 1 );\n        },\n\n        find: function( url, stack, earlyReturn ) {\n            stack = stack || this.stack;\n\n            var entry, i, length = stack.length, index;\n\n            for ( i = 0; i < length; i++ ) {\n                entry = stack[i];\n\n                if ( decodeURIComponent(url) === decodeURIComponent(entry.url) ||\n                    decodeURIComponent(url) === decodeURIComponent(entry.hash) ) {\n                    index = i;\n\n                    if ( earlyReturn ) {\n                        return index;\n                    }\n                }\n            }\n\n            return index;\n        },\n\n        closest: function( url ) {\n            var closest, a = this.activeIndex;\n\n            // First, take the slice of the history stack before the current index and search\n            // for a url match. If one is found, we'll avoid avoid looking through forward history\n            // NOTE the preference for backward history movement is driven by the fact that\n            //      most mobile browsers only have a dedicated back button, and users rarely use\n            //      the forward button in desktop browser anyhow\n            closest = this.find( url, this.stack.slice(0, a) );\n\n            // If nothing was found in backward history check forward. The `true`\n            // value passed as the third parameter causes the find method to break\n            // on the first match in the forward history slice. The starting index\n            // of the slice must then be added to the result to get the element index\n            // in the original history stack :( :(\n            //\n            // TODO this is hyper confusing and should be cleaned up (ugh so bad)\n            if ( closest === undefined ) {\n                closest = this.find( url, this.stack.slice(a), true );\n                closest = closest === undefined ? closest : closest + a;\n            }\n\n            return closest;\n        },\n\n        direct: function( opts ) {\n            var newActiveIndex = this.closest( opts.url ), a = this.activeIndex;\n\n            // save new page index, null check to prevent falsey 0 result\n            // record the previous index for reference\n            if ( newActiveIndex !== undefined ) {\n                this.activeIndex = newActiveIndex;\n                this.previousIndex = a;\n            }\n\n            // invoke callbacks where appropriate\n            //\n            // TODO this is also convoluted and confusing\n            if ( newActiveIndex < a ) {\n                ( opts.present || opts.back || $.noop )( this.getActive(), \"back\" );\n            } else if ( newActiveIndex > a ) {\n                ( opts.present || opts.forward || $.noop )( this.getActive(), \"forward\" );\n            } else if ( newActiveIndex === undefined && opts.missing ) {\n                opts.missing( this.getActive() );\n            }\n        }\n    });\n})( jQuery );\n\n\n\n(function( $, undefined ) {\n    var path = $.mobile.path,\n        initialHref = location.href;\n\n    $.mobile.Navigator = function( history ) {\n        this.history = history;\n        this.ignoreInitialHashChange = true;\n\n        $.mobile.window.bind({\n            \"popstate.history\": $.proxy( this.popstate, this ),\n            \"hashchange.history\": $.proxy( this.hashchange, this )\n        });\n    };\n\n    $.extend($.mobile.Navigator.prototype, {\n        squash: function( url, data ) {\n            var state, href, hash = path.isPath(url) ? path.stripHash(url) : url;\n\n            href = path.squash( url );\n\n            // make sure to provide this information when it isn't explicitly set in the\n            // data object that was passed to the squash method\n            state = $.extend({\n                hash: hash,\n                url: href\n            }, data);\n\n            // replace the current url with the new href and store the state\n            // Note that in some cases we might be replacing an url with the\n            // same url. We do this anyways because we need to make sure that\n            // all of our history entries have a state object associated with\n            // them. This allows us to work around the case where $.mobile.back()\n            // is called to transition from an external page to an embedded page.\n            // In that particular case, a hashchange event is *NOT* generated by the browser.\n            // Ensuring each history entry has a state object means that onPopState()\n            // will always trigger our hashchange callback even when a hashchange event\n            // is not fired.\n            window.history.replaceState( state, state.title || document.title, href );\n\n            return state;\n        },\n\n        hash: function( url, href ) {\n            var parsed, loc, hash, resolved;\n\n            // Grab the hash for recording. If the passed url is a path\n            // we used the parsed version of the squashed url to reconstruct,\n            // otherwise we assume it's a hash and store it directly\n            parsed = path.parseUrl( url );\n            loc = path.parseLocation();\n\n            if ( loc.pathname + loc.search === parsed.pathname + parsed.search ) {\n                // If the pathname and search of the passed url is identical to the current loc\n                // then we must use the hash. Otherwise there will be no event\n                // eg, url = \"/foo/bar?baz#bang\", location.href = \"http://example.com/foo/bar?baz\"\n                hash = parsed.hash ? parsed.hash : parsed.pathname + parsed.search;\n            } else if ( path.isPath(url) ) {\n                resolved = path.parseUrl( href );\n                // If the passed url is a path, make it domain relative and remove any trailing hash\n                hash = resolved.pathname + resolved.search + (path.isPreservableHash( resolved.hash )? resolved.hash.replace( \"#\", \"\" ) : \"\");\n            } else {\n                hash = url;\n            }\n\n            return hash;\n        },\n\n        // TODO reconsider name\n        go: function( url, data, noEvents ) {\n            var state, href, hash, popstateEvent,\n                isPopStateEvent = $.event.special.navigate.isPushStateEnabled();\n\n            // Get the url as it would look squashed on to the current resolution url\n            href = path.squash( url );\n\n            // sort out what the hash sould be from the url\n            hash = this.hash( url, href );\n\n            // Here we prevent the next hash change or popstate event from doing any\n            // history management. In the case of hashchange we don't swallow it\n            // if there will be no hashchange fired (since that won't reset the value)\n            // and will swallow the following hashchange\n            if ( noEvents && hash !== path.stripHash(path.parseLocation().hash) ) {\n                this.preventNextHashChange = noEvents;\n            }\n\n            // IMPORTANT in the case where popstate is supported the event will be triggered\n            //      directly, stopping further execution - ie, interupting the flow of this\n            //      method call to fire bindings at this expression. Below the navigate method\n            //      there is a binding to catch this event and stop its propagation.\n            //\n            //      We then trigger a new popstate event on the window with a null state\n            //      so that the navigate events can conclude their work properly\n            //\n            // if the url is a path we want to preserve the query params that are available on\n            // the current url.\n            this.preventHashAssignPopState = true;\n            window.location.hash = hash;\n\n            // If popstate is enabled and the browser triggers `popstate` events when the hash\n            // is set (this often happens immediately in browsers like Chrome), then the\n            // this flag will be set to false already. If it's a browser that does not trigger\n            // a `popstate` on hash assignement or `replaceState` then we need avoid the branch\n            // that swallows the event created by the popstate generated by the hash assignment\n            // At the time of this writing this happens with Opera 12 and some version of IE\n            this.preventHashAssignPopState = false;\n\n            state = $.extend({\n                url: href,\n                hash: hash,\n                title: document.title\n            }, data);\n\n            if ( isPopStateEvent ) {\n                popstateEvent = new $.Event( \"popstate\" );\n                popstateEvent.originalEvent = {\n                    type: \"popstate\",\n                    state: null\n                };\n\n                this.squash( url, state );\n\n                // Trigger a new faux popstate event to replace the one that we\n                // caught that was triggered by the hash setting above.\n                if ( !noEvents ) {\n                    this.ignorePopState = true;\n                    $.mobile.window.trigger( popstateEvent );\n                }\n            }\n\n            // record the history entry so that the information can be included\n            // in hashchange event driven navigate events in a similar fashion to\n            // the state that's provided by popstate\n            this.history.add( state.url, state );\n        },\n\n        // This binding is intended to catch the popstate events that are fired\n        // when execution of the `$.navigate` method stops at window.location.hash = url;\n        // and completely prevent them from propagating. The popstate event will then be\n        // retriggered after execution resumes\n        //\n        // TODO grab the original event here and use it for the synthetic event in the\n        //      second half of the navigate execution that will follow this binding\n        popstate: function( event ) {\n            var hash, state;\n\n            // Partly to support our test suite which manually alters the support\n            // value to test hashchange. Partly to prevent all around weirdness\n            if ( !$.event.special.navigate.isPushStateEnabled() ) {\n                return;\n            }\n\n            // If this is the popstate triggered by the actual alteration of the hash\n            // prevent it completely. History is tracked manually\n            if ( this.preventHashAssignPopState ) {\n                this.preventHashAssignPopState = false;\n                event.stopImmediatePropagation();\n                return;\n            }\n\n            // if this is the popstate triggered after the `replaceState` call in the go\n            // method, then simply ignore it. The history entry has already been captured\n            if ( this.ignorePopState ) {\n                this.ignorePopState = false;\n                return;\n            }\n\n            // If there is no state, and the history stack length is one were\n            // probably getting the page load popstate fired by browsers like chrome\n            // avoid it and set the one time flag to false.\n            // TODO: Do we really need all these conditions? Comparing location hrefs\n            // should be sufficient.\n            if ( !event.originalEvent.state &&\n                this.history.stack.length === 1 &&\n                this.ignoreInitialHashChange ) {\n                this.ignoreInitialHashChange = false;\n\n                if ( location.href === initialHref ) {\n                    event.preventDefault();\n                    return;\n                }\n            }\n\n            // account for direct manipulation of the hash. That is, we will receive a popstate\n            // when the hash is changed by assignment, and it won't have a state associated. We\n            // then need to squash the hash. See below for handling of hash assignment that\n            // matches an existing history entry\n            // TODO it might be better to only add to the history stack\n            //      when the hash is adjacent to the active history entry\n            hash = path.parseLocation().hash;\n            if ( !event.originalEvent.state && hash ) {\n                // squash the hash that's been assigned on the URL with replaceState\n                // also grab the resulting state object for storage\n                state = this.squash( hash );\n\n                // record the new hash as an additional history entry\n                // to match the browser's treatment of hash assignment\n                this.history.add( state.url, state );\n\n                // pass the newly created state information\n                // along with the event\n                event.historyState = state;\n\n                // do not alter history, we've added a new history entry\n                // so we know where we are\n                return;\n            }\n\n            // If all else fails this is a popstate that comes from the back or forward buttons\n            // make sure to set the state of our history stack properly, and record the directionality\n            this.history.direct({\n                url: (event.originalEvent.state || {}).url || hash,\n\n                // When the url is either forward or backward in history include the entry\n                // as data on the event object for merging as data in the navigate event\n                present: function( historyEntry, direction ) {\n                    // make sure to create a new object to pass down as the navigate event data\n                    event.historyState = $.extend({}, historyEntry);\n                    event.historyState.direction = direction;\n                }\n            });\n        },\n\n        // NOTE must bind before `navigate` special event hashchange binding otherwise the\n        //      navigation data won't be attached to the hashchange event in time for those\n        //      bindings to attach it to the `navigate` special event\n        // TODO add a check here that `hashchange.navigate` is bound already otherwise it's\n        //      broken (exception?)\n        hashchange: function( event ) {\n            var history, hash;\n\n            // If hashchange listening is explicitly disabled or pushstate is supported\n            // avoid making use of the hashchange handler.\n            if (!$.event.special.navigate.isHashChangeEnabled() ||\n                $.event.special.navigate.isPushStateEnabled() ) {\n                return;\n            }\n\n            // On occasion explicitly want to prevent the next hash from propogating because we only\n            // with to alter the url to represent the new state do so here\n            if ( this.preventNextHashChange ) {\n                this.preventNextHashChange = false;\n                event.stopImmediatePropagation();\n                return;\n            }\n\n            history = this.history;\n            hash = path.parseLocation().hash;\n\n            // If this is a hashchange caused by the back or forward button\n            // make sure to set the state of our history stack properly\n            this.history.direct({\n                url: hash,\n\n                // When the url is either forward or backward in history include the entry\n                // as data on the event object for merging as data in the navigate event\n                present: function( historyEntry, direction ) {\n                    // make sure to create a new object to pass down as the navigate event data\n                    event.hashchangeState = $.extend({}, historyEntry);\n                    event.hashchangeState.direction = direction;\n                },\n\n                // When we don't find a hash in our history clearly we're aiming to go there\n                // record the entry as new for future traversal\n                //\n                // NOTE it's not entirely clear that this is the right thing to do given that we\n                //      can't know the users intention. It might be better to explicitly _not_\n                //      support location.hash assignment in preference to $.navigate calls\n                // TODO first arg to add should be the href, but it causes issues in identifying\n                //      embeded pages\n                missing: function() {\n                    history.add( hash, {\n                        hash: hash,\n                        title: document.title\n                    });\n                }\n            });\n        }\n    });\n})( jQuery );\n\n\n\n(function( $, undefined ) {\n    // TODO consider queueing navigation activity until previous activities have completed\n    //      so that end users don't have to think about it. Punting for now\n    // TODO !! move the event bindings into callbacks on the navigate event\n    $.mobile.navigate = function( url, data, noEvents ) {\n        $.mobile.navigate.navigator.go( url, data, noEvents );\n    };\n\n    // expose the history on the navigate method in anticipation of full integration with\n    // existing navigation functionalty that is tightly coupled to the history information\n    $.mobile.navigate.history = new $.mobile.History();\n\n    // instantiate an instance of the navigator for use within the $.navigate method\n    $.mobile.navigate.navigator = new $.mobile.Navigator( $.mobile.navigate.history );\n\n    var loc = $.mobile.path.parseLocation();\n    $.mobile.navigate.history.add( loc.href, {hash: loc.hash} );\n})( jQuery );\n\n\n(function( $, undefined ) {\n    var props = {\n            \"animation\": {},\n            \"transition\": {}\n        },\n        testElement = document.createElement( \"a\" ),\n        vendorPrefixes = [ \"\", \"webkit-\", \"moz-\", \"o-\" ];\n\n    $.each( [ \"animation\", \"transition\" ], function( i, test ) {\n\n        // Get correct name for test\n        var testName = ( i === 0 ) ? test + \"-\" + \"name\" : test;\n\n        $.each( vendorPrefixes, function( j, prefix ) {\n            if ( testElement.style[ $.camelCase( prefix + testName ) ] !== undefined ) {\n                 props[ test ][ \"prefix\" ] = prefix;\n                return false;\n            }\n        });\n\n        // Set event and duration names for later use\n        props[ test ][ \"duration\" ] =\n            $.camelCase( props[ test ][ \"prefix\" ] + test + \"-\" + \"duration\" );\n        props[ test ][ \"event\" ] =\n            $.camelCase( props[ test ][ \"prefix\" ] + test + \"-\" + \"end\" );\n\n        // All lower case if not a vendor prop\n        if ( props[ test ][ \"prefix\" ] === \"\" ) {\n            props[ test ][ \"event\" ] = props[ test ][ \"event\" ].toLowerCase();\n        }\n    });\n\n    // If a valid prefix was found then the it is supported by the browser\n    $.support.cssTransitions = ( props[ \"transition\" ][ \"prefix\" ] !== undefined );\n    $.support.cssAnimations = ( props[ \"animation\" ][ \"prefix\" ] !== undefined );\n\n    // Remove the testElement\n    $( testElement ).remove();\n\n    // Animation complete callback\n    $.fn.animationComplete = function( callback, type, fallbackTime ) {\n        var timer, duration,\n            that = this,\n            eventBinding = function() {\n\n                // Clear the timer so we don't call callback twice\n                clearTimeout( timer );\n                callback.apply( this, arguments );\n            },\n            animationType = ( !type || type === \"animation\" ) ? \"animation\" : \"transition\";\n\n        // Make sure selected type is supported by browser\n        if ( ( $.support.cssTransitions && animationType === \"transition\" ) ||\n            ( $.support.cssAnimations && animationType === \"animation\" ) ) {\n\n            // If a fallback time was not passed set one\n            if ( fallbackTime === undefined ) {\n\n                // Make sure the was not bound to document before checking .css\n                if ( $( this ).context !== document ) {\n\n                    // Parse the durration since its in second multiple by 1000 for milliseconds\n                    // Multiply by 3 to make sure we give the animation plenty of time.\n                    duration = parseFloat(\n                        $( this ).css( props[ animationType ].duration )\n                    ) * 3000;\n                }\n\n                // If we could not read a duration use the default\n                if ( duration === 0 || duration === undefined || isNaN( duration ) ) {\n                    duration = $.fn.animationComplete.defaultDuration;\n                }\n            }\n\n            // Sets up the fallback if event never comes\n            timer = setTimeout( function() {\n                $( that ).off( props[ animationType ].event, eventBinding );\n                callback.apply( that );\n            }, duration );\n\n            // Bind the event\n            return $( this ).one( props[ animationType ].event, eventBinding );\n        } else {\n\n            // CSS animation / transitions not supported\n            // Defer execution for consistency between webkit/non webkit\n            setTimeout( $.proxy( callback, this ), 0 );\n            return $( this );\n        }\n    };\n\n    // Allow default callback to be configured on mobileInit\n    $.fn.animationComplete.defaultDuration = 1000;\n})( jQuery );\n\n// This plugin is an experiment for abstracting away the touch and mouse\n// events so that developers don't have to worry about which method of input\n// the device their document is loaded on supports.\n//\n// The idea here is to allow the developer to register listeners for the\n// basic mouse events, such as mousedown, mousemove, mouseup, and click,\n// and the plugin will take care of registering the correct listeners\n// behind the scenes to invoke the listener at the fastest possible time\n// for that device, while still retaining the order of event firing in\n// the traditional mouse environment, should multiple handlers be registered\n// on the same element for different events.\n//\n// The current version exposes the following virtual events to jQuery bind methods:\n// \"vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel\"\n\n(function( $, window, document, undefined ) {\n\nvar dataPropertyName = \"virtualMouseBindings\",\n    touchTargetPropertyName = \"virtualTouchID\",\n    virtualEventNames = \"vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel\".split( \" \" ),\n    touchEventProps = \"clientX clientY pageX pageY screenX screenY\".split( \" \" ),\n    mouseHookProps = $.event.mouseHooks ? $.event.mouseHooks.props : [],\n    mouseEventProps = $.event.props.concat( mouseHookProps ),\n    activeDocHandlers = {},\n    resetTimerID = 0,\n    startX = 0,\n    startY = 0,\n    didScroll = false,\n    clickBlockList = [],\n    blockMouseTriggers = false,\n    blockTouchTriggers = false,\n    eventCaptureSupported = \"addEventListener\" in document,\n    $document = $( document ),\n    nextTouchID = 1,\n    lastTouchID = 0, threshold,\n    i;\n\n$.vmouse = {\n    moveDistanceThreshold: 10,\n    clickDistanceThreshold: 10,\n    resetTimerDuration: 1500\n};\n\nfunction getNativeEvent( event ) {\n\n    while ( event && typeof event.originalEvent !== \"undefined\" ) {\n        event = event.originalEvent;\n    }\n    return event;\n}\n\nfunction createVirtualEvent( event, eventType ) {\n\n    var t = event.type,\n        oe, props, ne, prop, ct, touch, i, j, len;\n\n    event = $.Event( event );\n    event.type = eventType;\n\n    oe = event.originalEvent;\n    props = $.event.props;\n\n    // addresses separation of $.event.props in to $.event.mouseHook.props and Issue 3280\n    // https://github.com/jquery/jquery-mobile/issues/3280\n    if ( t.search( /^(mouse|click)/ ) > -1 ) {\n        props = mouseEventProps;\n    }\n\n    // copy original event properties over to the new event\n    // this would happen if we could call $.event.fix instead of $.Event\n    // but we don't have a way to force an event to be fixed multiple times\n    if ( oe ) {\n        for ( i = props.length, prop; i; ) {\n            prop = props[ --i ];\n            event[ prop ] = oe[ prop ];\n        }\n    }\n\n    // make sure that if the mouse and click virtual events are generated\n    // without a .which one is defined\n    if ( t.search(/mouse(down|up)|click/) > -1 && !event.which ) {\n        event.which = 1;\n    }\n\n    if ( t.search(/^touch/) !== -1 ) {\n        ne = getNativeEvent( oe );\n        t = ne.touches;\n        ct = ne.changedTouches;\n        touch = ( t && t.length ) ? t[0] : ( ( ct && ct.length ) ? ct[ 0 ] : undefined );\n\n        if ( touch ) {\n            for ( j = 0, len = touchEventProps.length; j < len; j++) {\n                prop = touchEventProps[ j ];\n                event[ prop ] = touch[ prop ];\n            }\n        }\n    }\n\n    return event;\n}\n\nfunction getVirtualBindingFlags( element ) {\n\n    var flags = {},\n        b, k;\n\n    while ( element ) {\n\n        b = $.data( element, dataPropertyName );\n\n        for (  k in b ) {\n            if ( b[ k ] ) {\n                flags[ k ] = flags.hasVirtualBinding = true;\n            }\n        }\n        element = element.parentNode;\n    }\n    return flags;\n}\n\nfunction getClosestElementWithVirtualBinding( element, eventType ) {\n    var b;\n    while ( element ) {\n\n        b = $.data( element, dataPropertyName );\n\n        if ( b && ( !eventType || b[ eventType ] ) ) {\n            return element;\n        }\n        element = element.parentNode;\n    }\n    return null;\n}\n\nfunction enableTouchBindings() {\n    blockTouchTriggers = false;\n}\n\nfunction disableTouchBindings() {\n    blockTouchTriggers = true;\n}\n\nfunction enableMouseBindings() {\n    lastTouchID = 0;\n    clickBlockList.length = 0;\n    blockMouseTriggers = false;\n\n    // When mouse bindings are enabled, our\n    // touch bindings are disabled.\n    disableTouchBindings();\n}\n\nfunction disableMouseBindings() {\n    // When mouse bindings are disabled, our\n    // touch bindings are enabled.\n    enableTouchBindings();\n}\n\nfunction startResetTimer() {\n    clearResetTimer();\n    resetTimerID = setTimeout( function() {\n        resetTimerID = 0;\n        enableMouseBindings();\n    }, $.vmouse.resetTimerDuration );\n}\n\nfunction clearResetTimer() {\n    if ( resetTimerID ) {\n        clearTimeout( resetTimerID );\n        resetTimerID = 0;\n    }\n}\n\nfunction triggerVirtualEvent( eventType, event, flags ) {\n    var ve;\n\n    if ( ( flags && flags[ eventType ] ) ||\n                ( !flags && getClosestElementWithVirtualBinding( event.target, eventType ) ) ) {\n\n        ve = createVirtualEvent( event, eventType );\n\n        $( event.target).trigger( ve );\n    }\n\n    return ve;\n}\n\nfunction mouseEventCallback( event ) {\n    var touchID = $.data( event.target, touchTargetPropertyName ),\n        ve;\n\n    if ( !blockMouseTriggers && ( !lastTouchID || lastTouchID !== touchID ) ) {\n        ve = triggerVirtualEvent( \"v\" + event.type, event );\n        if ( ve ) {\n            if ( ve.isDefaultPrevented() ) {\n                event.preventDefault();\n            }\n            if ( ve.isPropagationStopped() ) {\n                event.stopPropagation();\n            }\n            if ( ve.isImmediatePropagationStopped() ) {\n                event.stopImmediatePropagation();\n            }\n        }\n    }\n}\n\nfunction handleTouchStart( event ) {\n\n    var touches = getNativeEvent( event ).touches,\n        target, flags, t;\n\n    if ( touches && touches.length === 1 ) {\n\n        target = event.target;\n        flags = getVirtualBindingFlags( target );\n\n        if ( flags.hasVirtualBinding ) {\n\n            lastTouchID = nextTouchID++;\n            $.data( target, touchTargetPropertyName, lastTouchID );\n\n            clearResetTimer();\n\n            disableMouseBindings();\n            didScroll = false;\n\n            t = getNativeEvent( event ).touches[ 0 ];\n            startX = t.pageX;\n            startY = t.pageY;\n\n            triggerVirtualEvent( \"vmouseover\", event, flags );\n            triggerVirtualEvent( \"vmousedown\", event, flags );\n        }\n    }\n}\n\nfunction handleScroll( event ) {\n    if ( blockTouchTriggers ) {\n        return;\n    }\n\n    if ( !didScroll ) {\n        triggerVirtualEvent( \"vmousecancel\", event, getVirtualBindingFlags( event.target ) );\n    }\n\n    didScroll = true;\n    startResetTimer();\n}\n\nfunction handleTouchMove( event ) {\n    if ( blockTouchTriggers ) {\n        return;\n    }\n\n    var t = getNativeEvent( event ).touches[ 0 ],\n        didCancel = didScroll,\n        moveThreshold = $.vmouse.moveDistanceThreshold,\n        flags = getVirtualBindingFlags( event.target );\n\n        didScroll = didScroll ||\n            ( Math.abs( t.pageX - startX ) > moveThreshold ||\n                Math.abs( t.pageY - startY ) > moveThreshold );\n\n    if ( didScroll && !didCancel ) {\n        triggerVirtualEvent( \"vmousecancel\", event, flags );\n    }\n\n    triggerVirtualEvent( \"vmousemove\", event, flags );\n    startResetTimer();\n}\n\nfunction handleTouchEnd( event ) {\n    if ( blockTouchTriggers ) {\n        return;\n    }\n\n    disableTouchBindings();\n\n    var flags = getVirtualBindingFlags( event.target ),\n        ve, t;\n    triggerVirtualEvent( \"vmouseup\", event, flags );\n\n    if ( !didScroll ) {\n        ve = triggerVirtualEvent( \"vclick\", event, flags );\n        if ( ve && ve.isDefaultPrevented() ) {\n            // The target of the mouse events that follow the touchend\n            // event don't necessarily match the target used during the\n            // touch. This means we need to rely on coordinates for blocking\n            // any click that is generated.\n            t = getNativeEvent( event ).changedTouches[ 0 ];\n            clickBlockList.push({\n                touchID: lastTouchID,\n                x: t.clientX,\n                y: t.clientY\n            });\n\n            // Prevent any mouse events that follow from triggering\n            // virtual event notifications.\n            blockMouseTriggers = true;\n        }\n    }\n    triggerVirtualEvent( \"vmouseout\", event, flags);\n    didScroll = false;\n\n    startResetTimer();\n}\n\nfunction hasVirtualBindings( ele ) {\n    var bindings = $.data( ele, dataPropertyName ),\n        k;\n\n    if ( bindings ) {\n        for ( k in bindings ) {\n            if ( bindings[ k ] ) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nfunction dummyMouseHandler() {}\n\nfunction getSpecialEventObject( eventType ) {\n    var realType = eventType.substr( 1 );\n\n    return {\n        setup: function(/* data, namespace */) {\n            // If this is the first virtual mouse binding for this element,\n            // add a bindings object to its data.\n\n            if ( !hasVirtualBindings( this ) ) {\n                $.data( this, dataPropertyName, {} );\n            }\n\n            // If setup is called, we know it is the first binding for this\n            // eventType, so initialize the count for the eventType to zero.\n            var bindings = $.data( this, dataPropertyName );\n            bindings[ eventType ] = true;\n\n            // If this is the first virtual mouse event for this type,\n            // register a global handler on the document.\n\n            activeDocHandlers[ eventType ] = ( activeDocHandlers[ eventType ] || 0 ) + 1;\n\n            if ( activeDocHandlers[ eventType ] === 1 ) {\n                $document.bind( realType, mouseEventCallback );\n            }\n\n            // Some browsers, like Opera Mini, won't dispatch mouse/click events\n            // for elements unless they actually have handlers registered on them.\n            // To get around this, we register dummy handlers on the elements.\n\n            $( this ).bind( realType, dummyMouseHandler );\n\n            // For now, if event capture is not supported, we rely on mouse handlers.\n            if ( eventCaptureSupported ) {\n                // If this is the first virtual mouse binding for the document,\n                // register our touchstart handler on the document.\n\n                activeDocHandlers[ \"touchstart\" ] = ( activeDocHandlers[ \"touchstart\" ] || 0) + 1;\n\n                if ( activeDocHandlers[ \"touchstart\" ] === 1 ) {\n                    $document.bind( \"touchstart\", handleTouchStart )\n                        .bind( \"touchend\", handleTouchEnd )\n\n                        // On touch platforms, touching the screen and then dragging your finger\n                        // causes the window content to scroll after some distance threshold is\n                        // exceeded. On these platforms, a scroll prevents a click event from being\n                        // dispatched, and on some platforms, even the touchend is suppressed. To\n                        // mimic the suppression of the click event, we need to watch for a scroll\n                        // event. Unfortunately, some platforms like iOS don't dispatch scroll\n                        // events until *AFTER* the user lifts their finger (touchend). This means\n                        // we need to watch both scroll and touchmove events to figure out whether\n                        // or not a scroll happenens before the touchend event is fired.\n\n                        .bind( \"touchmove\", handleTouchMove )\n                        .bind( \"scroll\", handleScroll );\n                }\n            }\n        },\n\n        teardown: function(/* data, namespace */) {\n            // If this is the last virtual binding for this eventType,\n            // remove its global handler from the document.\n\n            --activeDocHandlers[ eventType ];\n\n            if ( !activeDocHandlers[ eventType ] ) {\n                $document.unbind( realType, mouseEventCallback );\n            }\n\n            if ( eventCaptureSupported ) {\n                // If this is the last virtual mouse binding in existence,\n                // remove our document touchstart listener.\n\n                --activeDocHandlers[ \"touchstart\" ];\n\n                if ( !activeDocHandlers[ \"touchstart\" ] ) {\n                    $document.unbind( \"touchstart\", handleTouchStart )\n                        .unbind( \"touchmove\", handleTouchMove )\n                        .unbind( \"touchend\", handleTouchEnd )\n                        .unbind( \"scroll\", handleScroll );\n                }\n            }\n\n            var $this = $( this ),\n                bindings = $.data( this, dataPropertyName );\n\n            // teardown may be called when an element was\n            // removed from the DOM. If this is the case,\n            // jQuery core may have already stripped the element\n            // of any data bindings so we need to check it before\n            // using it.\n            if ( bindings ) {\n                bindings[ eventType ] = false;\n            }\n\n            // Unregister the dummy event handler.\n\n            $this.unbind( realType, dummyMouseHandler );\n\n            // If this is the last virtual mouse binding on the\n            // element, remove the binding data from the element.\n\n            if ( !hasVirtualBindings( this ) ) {\n                $this.removeData( dataPropertyName );\n            }\n        }\n    };\n}\n\n// Expose our custom events to the jQuery bind/unbind mechanism.\n\nfor ( i = 0; i < virtualEventNames.length; i++ ) {\n    $.event.special[ virtualEventNames[ i ] ] = getSpecialEventObject( virtualEventNames[ i ] );\n}\n\n// Add a capture click handler to block clicks.\n// Note that we require event capture support for this so if the device\n// doesn't support it, we punt for now and rely solely on mouse events.\nif ( eventCaptureSupported ) {\n    document.addEventListener( \"click\", function( e ) {\n        var cnt = clickBlockList.length,\n            target = e.target,\n            x, y, ele, i, o, touchID;\n\n        if ( cnt ) {\n            x = e.clientX;\n            y = e.clientY;\n            threshold = $.vmouse.clickDistanceThreshold;\n\n            // The idea here is to run through the clickBlockList to see if\n            // the current click event is in the proximity of one of our\n            // vclick events that had preventDefault() called on it. If we find\n            // one, then we block the click.\n            //\n            // Why do we have to rely on proximity?\n            //\n            // Because the target of the touch event that triggered the vclick\n            // can be different from the target of the click event synthesized\n            // by the browser. The target of a mouse/click event that is synthesized\n            // from a touch event seems to be implementation specific. For example,\n            // some browsers will fire mouse/click events for a link that is near\n            // a touch event, even though the target of the touchstart/touchend event\n            // says the user touched outside the link. Also, it seems that with most\n            // browsers, the target of the mouse/click event is not calculated until the\n            // time it is dispatched, so if you replace an element that you touched\n            // with another element, the target of the mouse/click will be the new\n            // element underneath that point.\n            //\n            // Aside from proximity, we also check to see if the target and any\n            // of its ancestors were the ones that blocked a click. This is necessary\n            // because of the strange mouse/click target calculation done in the\n            // Android 2.1 browser, where if you click on an element, and there is a\n            // mouse/click handler on one of its ancestors, the target will be the\n            // innermost child of the touched element, even if that child is no where\n            // near the point of touch.\n\n            ele = target;\n\n            while ( ele ) {\n                for ( i = 0; i < cnt; i++ ) {\n                    o = clickBlockList[ i ];\n                    touchID = 0;\n\n                    if ( ( ele === target && Math.abs( o.x - x ) < threshold && Math.abs( o.y - y ) < threshold ) ||\n                                $.data( ele, touchTargetPropertyName ) === o.touchID ) {\n                        // XXX: We may want to consider removing matches from the block list\n                        //      instead of waiting for the reset timer to fire.\n                        e.preventDefault();\n                        e.stopPropagation();\n                        return;\n                    }\n                }\n                ele = ele.parentNode;\n            }\n        }\n    }, true);\n}\n})( jQuery, window, document );\n\n\n(function( $, window, undefined ) {\n    var $document = $( document ),\n        supportTouch = $.mobile.support.touch,\n        scrollEvent = \"touchmove scroll\",\n        touchStartEvent = supportTouch ? \"touchstart\" : \"mousedown\",\n        touchStopEvent = supportTouch ? \"touchend\" : \"mouseup\",\n        touchMoveEvent = supportTouch ? \"touchmove\" : \"mousemove\";\n\n    // setup new event shortcuts\n    $.each( ( \"touchstart touchmove touchend \" +\n        \"tap taphold \" +\n        \"swipe swipeleft swiperight \" +\n        \"scrollstart scrollstop\" ).split( \" \" ), function( i, name ) {\n\n        $.fn[ name ] = function( fn ) {\n            return fn ? this.bind( name, fn ) : this.trigger( name );\n        };\n\n        // jQuery < 1.8\n        if ( $.attrFn ) {\n            $.attrFn[ name ] = true;\n        }\n    });\n\n    function triggerCustomEvent( obj, eventType, event, bubble ) {\n        var originalType = event.type;\n        event.type = eventType;\n        if ( bubble ) {\n            $.event.trigger( event, undefined, obj );\n        } else {\n            $.event.dispatch.call( obj, event );\n        }\n        event.type = originalType;\n    }\n\n    // also handles scrollstop\n    $.event.special.scrollstart = {\n\n        enabled: true,\n        setup: function() {\n\n            var thisObject = this,\n                $this = $( thisObject ),\n                scrolling,\n                timer;\n\n            function trigger( event, state ) {\n                scrolling = state;\n                triggerCustomEvent( thisObject, scrolling ? \"scrollstart\" : \"scrollstop\", event );\n            }\n\n            // iPhone triggers scroll after a small delay; use touchmove instead\n            $this.bind( scrollEvent, function( event ) {\n\n                if ( !$.event.special.scrollstart.enabled ) {\n                    return;\n                }\n\n                if ( !scrolling ) {\n                    trigger( event, true );\n                }\n\n                clearTimeout( timer );\n                timer = setTimeout( function() {\n                    trigger( event, false );\n                }, 50 );\n            });\n        },\n        teardown: function() {\n            $( this ).unbind( scrollEvent );\n        }\n    };\n\n    // also handles taphold\n    $.event.special.tap = {\n        tapholdThreshold: 750,\n        emitTapOnTaphold: true,\n        setup: function() {\n            var thisObject = this,\n                $this = $( thisObject ),\n                isTaphold = false;\n\n            $this.bind( \"vmousedown\", function( event ) {\n                isTaphold = false;\n                if ( event.which && event.which !== 1 ) {\n                    return false;\n                }\n\n                var origTarget = event.target,\n                    timer;\n\n                function clearTapTimer() {\n                    clearTimeout( timer );\n                }\n\n                function clearTapHandlers() {\n                    clearTapTimer();\n\n                    $this.unbind( \"vclick\", clickHandler )\n                        .unbind( \"vmouseup\", clearTapTimer );\n                    $document.unbind( \"vmousecancel\", clearTapHandlers );\n                }\n\n                function clickHandler( event ) {\n                    clearTapHandlers();\n\n                    // ONLY trigger a 'tap' event if the start target is\n                    // the same as the stop target.\n                    if ( !isTaphold && origTarget === event.target ) {\n                        triggerCustomEvent( thisObject, \"tap\", event );\n                    } else if ( isTaphold ) {\n                        event.preventDefault();\n                    }\n                }\n\n                $this.bind( \"vmouseup\", clearTapTimer )\n                    .bind( \"vclick\", clickHandler );\n                $document.bind( \"vmousecancel\", clearTapHandlers );\n\n                timer = setTimeout( function() {\n                    if ( !$.event.special.tap.emitTapOnTaphold ) {\n                        isTaphold = true;\n                    }\n                    triggerCustomEvent( thisObject, \"taphold\", $.Event( \"taphold\", { target: origTarget } ) );\n                }, $.event.special.tap.tapholdThreshold );\n            });\n        },\n        teardown: function() {\n            $( this ).unbind( \"vmousedown\" ).unbind( \"vclick\" ).unbind( \"vmouseup\" );\n            $document.unbind( \"vmousecancel\" );\n        }\n    };\n\n    // Also handles swipeleft, swiperight\n    $.event.special.swipe = {\n\n        // More than this horizontal displacement, and we will suppress scrolling.\n        scrollSupressionThreshold: 30,\n\n        // More time than this, and it isn't a swipe.\n        durationThreshold: 1000,\n\n        // Swipe horizontal displacement must be more than this.\n        horizontalDistanceThreshold: 30,\n\n        // Swipe vertical displacement must be less than this.\n        verticalDistanceThreshold: 30,\n\n        getLocation: function ( event ) {\n            var winPageX = window.pageXOffset,\n                winPageY = window.pageYOffset,\n                x = event.clientX,\n                y = event.clientY;\n\n            if ( event.pageY === 0 && Math.floor( y ) > Math.floor( event.pageY ) ||\n                event.pageX === 0 && Math.floor( x ) > Math.floor( event.pageX ) ) {\n\n                // iOS4 clientX/clientY have the value that should have been\n                // in pageX/pageY. While pageX/page/ have the value 0\n                x = x - winPageX;\n                y = y - winPageY;\n            } else if ( y < ( event.pageY - winPageY) || x < ( event.pageX - winPageX ) ) {\n\n                // Some Android browsers have totally bogus values for clientX/Y\n                // when scrolling/zooming a page. Detectable since clientX/clientY\n                // should never be smaller than pageX/pageY minus page scroll\n                x = event.pageX - winPageX;\n                y = event.pageY - winPageY;\n            }\n\n            return {\n                x: x,\n                y: y\n            };\n        },\n\n        start: function( event ) {\n            var data = event.originalEvent.touches ?\n                    event.originalEvent.touches[ 0 ] : event,\n                location = $.event.special.swipe.getLocation( data );\n            return {\n                        time: ( new Date() ).getTime(),\n                        coords: [ location.x, location.y ],\n                        origin: $( event.target )\n                    };\n        },\n\n        stop: function( event ) {\n            var data = event.originalEvent.touches ?\n                    event.originalEvent.touches[ 0 ] : event,\n                location = $.event.special.swipe.getLocation( data );\n            return {\n                        time: ( new Date() ).getTime(),\n                        coords: [ location.x, location.y ]\n                    };\n        },\n\n        handleSwipe: function( start, stop, thisObject, origTarget ) {\n            if ( stop.time - start.time < $.event.special.swipe.durationThreshold &&\n                Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&\n                Math.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {\n                var direction = start.coords[0] > stop.coords[ 0 ] ? \"swipeleft\" : \"swiperight\";\n\n                triggerCustomEvent( thisObject, \"swipe\", $.Event( \"swipe\", { target: origTarget, swipestart: start, swipestop: stop }), true );\n                triggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ), true );\n                return true;\n            }\n            return false;\n\n        },\n\n        // This serves as a flag to ensure that at most one swipe event event is\n        // in work at any given time\n        eventInProgress: false,\n\n        setup: function() {\n            var events,\n                thisObject = this,\n                $this = $( thisObject ),\n                context = {};\n\n            // Retrieve the events data for this element and add the swipe context\n            events = $.data( this, \"mobile-events\" );\n            if ( !events ) {\n                events = { length: 0 };\n                $.data( this, \"mobile-events\", events );\n            }\n            events.length++;\n            events.swipe = context;\n\n            context.start = function( event ) {\n\n                // Bail if we're already working on a swipe event\n                if ( $.event.special.swipe.eventInProgress ) {\n                    return;\n                }\n                $.event.special.swipe.eventInProgress = true;\n\n                var stop,\n                    start = $.event.special.swipe.start( event ),\n                    origTarget = event.target,\n                    emitted = false;\n\n                context.move = function( event ) {\n                    if ( !start || event.isDefaultPrevented() ) {\n                        return;\n                    }\n\n                    stop = $.event.special.swipe.stop( event );\n                    if ( !emitted ) {\n                        emitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );\n                        if ( emitted ) {\n\n                            // Reset the context to make way for the next swipe event\n                            $.event.special.swipe.eventInProgress = false;\n                        }\n                    }\n                    // prevent scrolling\n                    if ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {\n                        event.preventDefault();\n                    }\n                };\n\n                context.stop = function() {\n                        emitted = true;\n\n                        // Reset the context to make way for the next swipe event\n                        $.event.special.swipe.eventInProgress = false;\n                        $document.off( touchMoveEvent, context.move );\n                        context.move = null;\n                };\n\n                $document.on( touchMoveEvent, context.move )\n                    .one( touchStopEvent, context.stop );\n            };\n            $this.on( touchStartEvent, context.start );\n        },\n\n        teardown: function() {\n            var events, context;\n\n            events = $.data( this, \"mobile-events\" );\n            if ( events ) {\n                context = events.swipe;\n                delete events.swipe;\n                events.length--;\n                if ( events.length === 0 ) {\n                    $.removeData( this, \"mobile-events\" );\n                }\n            }\n\n            if ( context ) {\n                if ( context.start ) {\n                    $( this ).off( touchStartEvent, context.start );\n                }\n                if ( context.move ) {\n                    $document.off( touchMoveEvent, context.move );\n                }\n                if ( context.stop ) {\n                    $document.off( touchStopEvent, context.stop );\n                }\n            }\n        }\n    };\n    $.each({\n        scrollstop: \"scrollstart\",\n        taphold: \"tap\",\n        swipeleft: \"swipe.left\",\n        swiperight: \"swipe.right\"\n    }, function( event, sourceEvent ) {\n\n        $.event.special[ event ] = {\n            setup: function() {\n                $( this ).bind( sourceEvent, $.noop );\n            },\n            teardown: function() {\n                $( this ).unbind( sourceEvent );\n            }\n        };\n    });\n\n})( jQuery, this );\n\n\n    // throttled resize event\n    (function( $ ) {\n        $.event.special.throttledresize = {\n            setup: function() {\n                $( this ).bind( \"resize\", handler );\n            },\n            teardown: function() {\n                $( this ).unbind( \"resize\", handler );\n            }\n        };\n\n        var throttle = 250,\n            handler = function() {\n                curr = ( new Date() ).getTime();\n                diff = curr - lastCall;\n\n                if ( diff >= throttle ) {\n\n                    lastCall = curr;\n                    $( this ).trigger( \"throttledresize\" );\n\n                } else {\n\n                    if ( heldCall ) {\n                        clearTimeout( heldCall );\n                    }\n\n                    // Promise a held call will still execute\n                    heldCall = setTimeout( handler, throttle - diff );\n                }\n            },\n            lastCall = 0,\n            heldCall,\n            curr,\n            diff;\n    })( jQuery );\n\n\n(function( $, window ) {\n    var win = $( window ),\n        event_name = \"orientationchange\",\n        get_orientation,\n        last_orientation,\n        initial_orientation_is_landscape,\n        initial_orientation_is_default,\n        portrait_map = { \"0\": true, \"180\": true },\n        ww, wh, landscape_threshold;\n\n    // It seems that some device/browser vendors use window.orientation values 0 and 180 to\n    // denote the \"default\" orientation. For iOS devices, and most other smart-phones tested,\n    // the default orientation is always \"portrait\", but in some Android and RIM based tablets,\n    // the default orientation is \"landscape\". The following code attempts to use the window\n    // dimensions to figure out what the current orientation is, and then makes adjustments\n    // to the to the portrait_map if necessary, so that we can properly decode the\n    // window.orientation value whenever get_orientation() is called.\n    //\n    // Note that we used to use a media query to figure out what the orientation the browser\n    // thinks it is in:\n    //\n    //     initial_orientation_is_landscape = $.mobile.media(\"all and (orientation: landscape)\");\n    //\n    // but there was an iPhone/iPod Touch bug beginning with iOS 4.2, up through iOS 5.1,\n    // where the browser *ALWAYS* applied the landscape media query. This bug does not\n    // happen on iPad.\n\n    if ( $.support.orientation ) {\n\n        // Check the window width and height to figure out what the current orientation\n        // of the device is at this moment. Note that we've initialized the portrait map\n        // values to 0 and 180, *AND* we purposely check for landscape so that if we guess\n        // wrong, , we default to the assumption that portrait is the default orientation.\n        // We use a threshold check below because on some platforms like iOS, the iPhone\n        // form-factor can report a larger width than height if the user turns on the\n        // developer console. The actual threshold value is somewhat arbitrary, we just\n        // need to make sure it is large enough to exclude the developer console case.\n\n        ww = window.innerWidth || win.width();\n        wh = window.innerHeight || win.height();\n        landscape_threshold = 50;\n\n        initial_orientation_is_landscape = ww > wh && ( ww - wh ) > landscape_threshold;\n\n        // Now check to see if the current window.orientation is 0 or 180.\n        initial_orientation_is_default = portrait_map[ window.orientation ];\n\n        // If the initial orientation is landscape, but window.orientation reports 0 or 180, *OR*\n        // if the initial orientation is portrait, but window.orientation reports 90 or -90, we\n        // need to flip our portrait_map values because landscape is the default orientation for\n        // this device/browser.\n        if ( ( initial_orientation_is_landscape && initial_orientation_is_default ) || ( !initial_orientation_is_landscape && !initial_orientation_is_default ) ) {\n            portrait_map = { \"-90\": true, \"90\": true };\n        }\n    }\n\n    $.event.special.orientationchange = $.extend( {}, $.event.special.orientationchange, {\n        setup: function() {\n            // If the event is supported natively, return false so that jQuery\n            // will bind to the event using DOM methods.\n            if ( $.support.orientation && !$.event.special.orientationchange.disabled ) {\n                return false;\n            }\n\n            // Get the current orientation to avoid initial double-triggering.\n            last_orientation = get_orientation();\n\n            // Because the orientationchange event doesn't exist, simulate the\n            // event by testing window dimensions on resize.\n            win.bind( \"throttledresize\", handler );\n        },\n        teardown: function() {\n            // If the event is not supported natively, return false so that\n            // jQuery will unbind the event using DOM methods.\n            if ( $.support.orientation && !$.event.special.orientationchange.disabled ) {\n                return false;\n            }\n\n            // Because the orientationchange event doesn't exist, unbind the\n            // resize event handler.\n            win.unbind( \"throttledresize\", handler );\n        },\n        add: function( handleObj ) {\n            // Save a reference to the bound event handler.\n            var old_handler = handleObj.handler;\n\n            handleObj.handler = function( event ) {\n                // Modify event object, adding the .orientation property.\n                event.orientation = get_orientation();\n\n                // Call the originally-bound event handler and return its result.\n                return old_handler.apply( this, arguments );\n            };\n        }\n    });\n\n    // If the event is not supported natively, this handler will be bound to\n    // the window resize event to simulate the orientationchange event.\n    function handler() {\n        // Get the current orientation.\n        var orientation = get_orientation();\n\n        if ( orientation !== last_orientation ) {\n            // The orientation has changed, so trigger the orientationchange event.\n            last_orientation = orientation;\n            win.trigger( event_name );\n        }\n    }\n\n    // Get the current page orientation. This method is exposed publicly, should it\n    // be needed, as jQuery.event.special.orientationchange.orientation()\n    $.event.special.orientationchange.orientation = get_orientation = function() {\n        var isPortrait = true, elem = document.documentElement;\n\n        // prefer window orientation to the calculation based on screensize as\n        // the actual screen resize takes place before or after the orientation change event\n        // has been fired depending on implementation (eg android 2.3 is before, iphone after).\n        // More testing is required to determine if a more reliable method of determining the new screensize\n        // is possible when orientationchange is fired. (eg, use media queries + element + opacity)\n        if ( $.support.orientation ) {\n            // if the window orientation registers as 0 or 180 degrees report\n            // portrait, otherwise landscape\n            isPortrait = portrait_map[ window.orientation ];\n        } else {\n            isPortrait = elem && elem.clientWidth / elem.clientHeight < 1.1;\n        }\n\n        return isPortrait ? \"portrait\" : \"landscape\";\n    };\n\n    $.fn[ event_name ] = function( fn ) {\n        return fn ? this.bind( event_name, fn ) : this.trigger( event_name );\n    };\n\n    // jQuery < 1.8\n    if ( $.attrFn ) {\n        $.attrFn[ event_name ] = true;\n    }\n\n}( jQuery, this ));\n\n\n\n\n(function( $, undefined ) {\n\n    // existing base tag?\n    var baseElement = $( \"head\" ).children( \"base\" ),\n\n    // base element management, defined depending on dynamic base tag support\n    // TODO move to external widget\n    base = {\n\n        // define base element, for use in routing asset urls that are referenced\n        // in Ajax-requested markup\n        element: ( baseElement.length ? baseElement :\n            $( \"<base>\", { href: $.mobile.path.documentBase.hrefNoHash } ).prependTo( $( \"head\" ) ) ),\n\n        linkSelector: \"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]\",\n\n        // set the generated BASE element's href to a new page's base path\n        set: function( href ) {\n\n            // we should do nothing if the user wants to manage their url base\n            // manually\n            if ( !$.mobile.dynamicBaseEnabled ) {\n                return;\n            }\n\n            // we should use the base tag if we can manipulate it dynamically\n            if ( $.support.dynamicBaseTag ) {\n                base.element.attr( \"href\",\n                    $.mobile.path.makeUrlAbsolute( href, $.mobile.path.documentBase ) );\n            }\n        },\n\n        rewrite: function( href, page ) {\n            var newPath = $.mobile.path.get( href );\n\n            page.find( base.linkSelector ).each(function( i, link ) {\n                var thisAttr = $( link ).is( \"[href]\" ) ? \"href\" :\n                    $( link ).is( \"[src]\" ) ? \"src\" : \"action\",\n                theLocation = $.mobile.path.parseLocation(),\n                thisUrl = $( link ).attr( thisAttr );\n\n                // XXX_jblas: We need to fix this so that it removes the document\n                //            base URL, and then prepends with the new page URL.\n                // if full path exists and is same, chop it - helps IE out\n                thisUrl = thisUrl.replace( theLocation.protocol + theLocation.doubleSlash +\n                    theLocation.host + theLocation.pathname, \"\" );\n\n                if ( !/^(\\w+:|#|\\/)/.test( thisUrl ) ) {\n                    $( link ).attr( thisAttr, newPath + thisUrl );\n                }\n            });\n        },\n\n        // set the generated BASE element's href to a new page's base path\n        reset: function(/* href */) {\n            base.element.attr( \"href\", $.mobile.path.documentBase.hrefNoSearch );\n        }\n    };\n\n    $.mobile.base = base;\n\n})( jQuery );\n\n\n(function( $, undefined ) {\n$.mobile.widgets = {};\n\nvar originalWidget = $.widget,\n\n    // Record the original, non-mobileinit-modified version of $.mobile.keepNative\n    // so we can later determine whether someone has modified $.mobile.keepNative\n    keepNativeFactoryDefault = $.mobile.keepNative;\n\n$.widget = (function( orig ) {\n    return function() {\n        var constructor = orig.apply( this, arguments ),\n            name = constructor.prototype.widgetName;\n\n        constructor.initSelector = ( ( constructor.prototype.initSelector !== undefined ) ?\n            constructor.prototype.initSelector : \":jqmData(role='\" + name + \"')\" );\n\n        $.mobile.widgets[ name ] = constructor;\n\n        return constructor;\n    };\n})( $.widget );\n\n// Make sure $.widget still has bridge and extend methods\n$.extend( $.widget, originalWidget );\n\n// For backcompat remove in 1.5\n$.mobile.document.on( \"create\", function( event ) {\n    $( event.target ).enhanceWithin();\n});\n\n$.widget( \"mobile.page\", {\n    options: {\n        theme: \"a\",\n        domCache: false,\n\n        // Deprecated in 1.4 remove in 1.5\n        keepNativeDefault: $.mobile.keepNative,\n\n        // Deprecated in 1.4 remove in 1.5\n        contentTheme: null,\n        enhanced: false\n    },\n\n    // DEPRECATED for > 1.4\n    // TODO remove at 1.5\n    _createWidget: function() {\n        $.Widget.prototype._createWidget.apply( this, arguments );\n        this._trigger( \"init\" );\n    },\n\n    _create: function() {\n        // If false is returned by the callbacks do not create the page\n        if ( this._trigger( \"beforecreate\" ) === false ) {\n            return false;\n        }\n\n        if ( !this.options.enhanced ) {\n            this._enhance();\n        }\n\n        this._on( this.element, {\n            pagebeforehide: \"removeContainerBackground\",\n            pagebeforeshow: \"_handlePageBeforeShow\"\n        });\n\n        this.element.enhanceWithin();\n        // Dialog widget is deprecated in 1.4 remove this in 1.5\n        if ( $.mobile.getAttribute( this.element[0], \"role\" ) === \"dialog\" && $.mobile.dialog ) {\n            this.element.dialog();\n        }\n    },\n\n    _enhance: function () {\n        var attrPrefix = \"data-\" + $.mobile.ns,\n            self = this;\n\n        if ( this.options.role ) {\n            this.element.attr( \"data-\" + $.mobile.ns + \"role\", this.options.role );\n        }\n\n        this.element\n            .attr( \"tabindex\", \"0\" )\n            .addClass( \"ui-page ui-page-theme-\" + this.options.theme );\n\n        // Manipulation of content os Deprecated as of 1.4 remove in 1.5\n        this.element.find( \"[\" + attrPrefix + \"role='content']\" ).each( function() {\n            var $this = $( this ),\n                theme = this.getAttribute( attrPrefix + \"theme\" ) || undefined;\n                self.options.contentTheme = theme || self.options.contentTheme || ( self.options.dialog && self.options.theme ) || ( self.element.jqmData(\"role\") === \"dialog\" &&  self.options.theme );\n                $this.addClass( \"ui-content\" );\n                if ( self.options.contentTheme ) {\n                    $this.addClass( \"ui-body-\" + ( self.options.contentTheme ) );\n                }\n                // Add ARIA role\n                $this.attr( \"role\", \"main\" ).addClass( \"ui-content\" );\n        });\n    },\n\n    bindRemove: function( callback ) {\n        var page = this.element;\n\n        // when dom caching is not enabled or the page is embedded bind to remove the page on hide\n        if ( !page.data( \"mobile-page\" ).options.domCache &&\n            page.is( \":jqmData(external-page='true')\" ) ) {\n\n            // TODO use _on - that is, sort out why it doesn't work in this case\n            page.bind( \"pagehide.remove\", callback || function( e, data ) {\n\n                //check if this is a same page transition and if so don't remove the page\n                if( !data.samePage ){\n                    var $this = $( this ),\n                        prEvent = new $.Event( \"pageremove\" );\n\n                    $this.trigger( prEvent );\n\n                    if ( !prEvent.isDefaultPrevented() ) {\n                        $this.removeWithDependents();\n                    }\n                }\n            });\n        }\n    },\n\n    _setOptions: function( o ) {\n        if ( o.theme !== undefined ) {\n            this.element.removeClass( \"ui-page-theme-\" + this.options.theme ).addClass( \"ui-page-theme-\" + o.theme );\n        }\n\n        if ( o.contentTheme !== undefined ) {\n            this.element.find( \"[data-\" + $.mobile.ns + \"='content']\" ).removeClass( \"ui-body-\" + this.options.contentTheme )\n                .addClass( \"ui-body-\" + o.contentTheme );\n        }\n    },\n\n    _handlePageBeforeShow: function(/* e */) {\n        this.setContainerBackground();\n    },\n    // Deprecated in 1.4 remove in 1.5\n    removeContainerBackground: function() {\n        this.element.closest( \":mobile-pagecontainer\" ).pagecontainer({ \"theme\": \"none\" });\n    },\n    // Deprecated in 1.4 remove in 1.5\n    // set the page container background to the page theme\n    setContainerBackground: function( theme ) {\n        this.element.parent().pagecontainer( { \"theme\": theme || this.options.theme } );\n    },\n    // Deprecated in 1.4 remove in 1.5\n    keepNativeSelector: function() {\n        var options = this.options,\n            keepNative = $.trim( options.keepNative || \"\" ),\n            globalValue = $.trim( $.mobile.keepNative ),\n            optionValue = $.trim( options.keepNativeDefault ),\n\n            // Check if $.mobile.keepNative has changed from the factory default\n            newDefault = ( keepNativeFactoryDefault === globalValue ?\n                \"\" : globalValue ),\n\n            // If $.mobile.keepNative has not changed, use options.keepNativeDefault\n            oldDefault = ( newDefault === \"\" ? optionValue : \"\" );\n\n        // Concatenate keepNative selectors from all sources where the value has\n        // changed or, if nothing has changed, return the default\n        return ( ( keepNative ? [ keepNative ] : [] )\n            .concat( newDefault ? [ newDefault ] : [] )\n            .concat( oldDefault ? [ oldDefault ] : [] )\n            .join( \", \" ) );\n    }\n});\n})( jQuery );\n\n(function( $, undefined ) {\n\n    $.widget( \"mobile.pagecontainer\", {\n        options: {\n            theme: \"a\"\n        },\n\n        initSelector: false,\n\n        _create: function() {\n            this._trigger( \"beforecreate\" );\n            this.setLastScrollEnabled = true;\n\n            this._on( this.window, {\n                // disable an scroll setting when a hashchange has been fired,\n                // this only works because the recording of the scroll position\n                // is delayed for 100ms after the browser might have changed the\n                // position because of the hashchange\n                navigate: \"_disableRecordScroll\",\n\n                // bind to scrollstop for the first page, \"pagechange\" won't be\n                // fired in that case\n                scrollstop: \"_delayedRecordScroll\"\n            });\n\n            // TODO consider moving the navigation handler OUT of widget into\n            //      some other object as glue between the navigate event and the\n            //      content widget load and change methods\n            this._on( this.window, { navigate: \"_filterNavigateEvents\" });\n\n            // TODO move from page* events to content* events\n            this._on({ pagechange: \"_afterContentChange\" });\n\n            // handle initial hashchange from chrome :(\n            this.window.one( \"navigate\", $.proxy(function() {\n                this.setLastScrollEnabled = true;\n            }, this));\n        },\n\n        _setOptions: function( options ) {\n            if ( options.theme !== undefined && options.theme !== \"none\" ) {\n                this.element.removeClass( \"ui-overlay-\" + this.options.theme )\n                    .addClass( \"ui-overlay-\" + options.theme );\n            } else if ( options.theme !== undefined ) {\n                this.element.removeClass( \"ui-overlay-\" + this.options.theme );\n            }\n\n            this._super( options );\n        },\n\n        _disableRecordScroll: function() {\n            this.setLastScrollEnabled = false;\n        },\n\n        _enableRecordScroll: function() {\n            this.setLastScrollEnabled = true;\n        },\n\n        // TODO consider the name here, since it's purpose specific\n        _afterContentChange: function() {\n            // once the page has changed, re-enable the scroll recording\n            this.setLastScrollEnabled = true;\n\n            // remove any binding that previously existed on the get scroll\n            // which may or may not be different than the scroll element\n            // determined for this page previously\n            this._off( this.window, \"scrollstop\" );\n\n            // determine and bind to the current scoll element which may be the\n            // window or in the case of touch overflow the element touch overflow\n            this._on( this.window, { scrollstop: \"_delayedRecordScroll\" });\n        },\n\n        _recordScroll: function() {\n            // this barrier prevents setting the scroll value based on\n            // the browser scrolling the window based on a hashchange\n            if ( !this.setLastScrollEnabled ) {\n                return;\n            }\n\n            var active = this._getActiveHistory(),\n                currentScroll, minScroll, defaultScroll;\n\n            if ( active ) {\n                currentScroll = this._getScroll();\n                minScroll = this._getMinScroll();\n                defaultScroll = this._getDefaultScroll();\n\n                // Set active page's lastScroll prop. If the location we're\n                // scrolling to is less than minScrollBack, let it go.\n                active.lastScroll = currentScroll < minScroll ? defaultScroll : currentScroll;\n            }\n        },\n\n        _delayedRecordScroll: function() {\n            setTimeout( $.proxy(this, \"_recordScroll\"), 100 );\n        },\n\n        _getScroll: function() {\n            return this.window.scrollTop();\n        },\n\n        _getMinScroll: function() {\n            return $.mobile.minScrollBack;\n        },\n\n        _getDefaultScroll: function() {\n            return $.mobile.defaultHomeScroll;\n        },\n\n        _filterNavigateEvents: function( e, data ) {\n            var url;\n\n            if ( e.originalEvent && e.originalEvent.isDefaultPrevented() ) {\n                return;\n            }\n\n            url = e.originalEvent.type.indexOf( \"hashchange\" ) > -1 ? data.state.hash : data.state.url;\n\n            if ( !url ) {\n                url = this._getHash();\n            }\n\n            if ( !url || url === \"#\" || url.indexOf( \"#\" + $.mobile.path.uiStateKey ) === 0 ) {\n                url = location.href;\n            }\n\n            this._handleNavigate( url, data.state );\n        },\n\n        _getHash: function() {\n            return $.mobile.path.parseLocation().hash;\n        },\n\n        // TODO active page should be managed by the container (ie, it should be a property)\n        getActivePage: function() {\n            return this.activePage;\n        },\n\n        // TODO the first page should be a property set during _create using the logic\n        //      that currently resides in init\n        _getInitialContent: function() {\n            return $.mobile.firstPage;\n        },\n\n        // TODO each content container should have a history object\n        _getHistory: function() {\n            return $.mobile.navigate.history;\n        },\n\n        _getActiveHistory: function() {\n            return this._getHistory().getActive();\n        },\n\n        // TODO the document base should be determined at creation\n        _getDocumentBase: function() {\n            return $.mobile.path.documentBase;\n        },\n\n        back: function() {\n            this.go( -1 );\n        },\n\n        forward: function() {\n            this.go( 1 );\n        },\n\n        go: function( steps ) {\n\n            //if hashlistening is enabled use native history method\n            if ( $.mobile.hashListeningEnabled ) {\n                window.history.go( steps );\n            } else {\n\n                //we are not listening to the hash so handle history internally\n                var activeIndex = $.mobile.navigate.history.activeIndex,\n                    index = activeIndex + parseInt( steps, 10 ),\n                    url = $.mobile.navigate.history.stack[ index ].url,\n                    direction = ( steps >= 1 )? \"forward\" : \"back\";\n\n                //update the history object\n                $.mobile.navigate.history.activeIndex = index;\n                $.mobile.navigate.history.previousIndex = activeIndex;\n\n                //change to the new page\n                this.change( url, { direction: direction, changeHash: false, fromHashChange: true } );\n            }\n        },\n\n        // TODO rename _handleDestination\n        _handleDestination: function( to ) {\n            var history;\n\n            // clean the hash for comparison if it's a url\n            if ( $.type(to) === \"string\" ) {\n                to = $.mobile.path.stripHash( to );\n            }\n\n            if ( to ) {\n                history = this._getHistory();\n\n                // At this point, 'to' can be one of 3 things, a cached page\n                // element from a history stack entry, an id, or site-relative /\n                // absolute URL. If 'to' is an id, we need to resolve it against\n                // the documentBase, not the location.href, since the hashchange\n                // could've been the result of a forward/backward navigation\n                // that crosses from an external page/dialog to an internal\n                // page/dialog.\n                //\n                // TODO move check to history object or path object?\n                to = !$.mobile.path.isPath( to ) ? ( $.mobile.path.makeUrlAbsolute( \"#\" + to, this._getDocumentBase() ) ) : to;\n            }\n            return to || this._getInitialContent();\n        },\n\n        _transitionFromHistory: function( direction, defaultTransition ) {\n            var history = this._getHistory(),\n                entry = ( direction === \"back\" ? history.getLast() : history.getActive() );\n\n            return ( entry && entry.transition ) || defaultTransition;\n        },\n\n        _handleDialog: function( changePageOptions, data ) {\n            var to, active, activeContent = this.getActivePage();\n\n            // If current active page is not a dialog skip the dialog and continue\n            // in the same direction\n            // Note: The dialog widget is deprecated as of 1.4.0 and will be removed in 1.5.0.\n            // Thus, as of 1.5.0 activeContent.data( \"mobile-dialog\" ) will always evaluate to\n            // falsy, so the second condition in the if-statement below can be removed altogether.\n            if ( activeContent && !activeContent.data( \"mobile-dialog\" ) ) {\n                // determine if we're heading forward or backward and continue\n                // accordingly past the current dialog\n                if ( data.direction === \"back\" ) {\n                    this.back();\n                } else {\n                    this.forward();\n                }\n\n                // prevent changePage call\n                return false;\n            } else {\n                // if the current active page is a dialog and we're navigating\n                // to a dialog use the dialog objected saved in the stack\n                to = data.pageUrl;\n                active = this._getActiveHistory();\n\n                // make sure to set the role, transition and reversal\n                // as most of this is lost by the domCache cleaning\n                $.extend( changePageOptions, {\n                    role: active.role,\n                    transition: this._transitionFromHistory(\n                        data.direction,\n                        changePageOptions.transition ),\n                    reverse: data.direction === \"back\"\n                });\n            }\n\n            return to;\n        },\n\n        _handleNavigate: function( url, data ) {\n            //find first page via hash\n            // TODO stripping the hash twice with handleUrl\n            var to = $.mobile.path.stripHash( url ), history = this._getHistory(),\n\n                // transition is false if it's the first page, undefined\n                // otherwise (and may be overridden by default)\n                transition = history.stack.length === 0 ? \"none\" :\n                    this._transitionFromHistory( data.direction ),\n\n                // default options for the changPage calls made after examining\n                // the current state of the page and the hash, NOTE that the\n                // transition is derived from the previous history entry\n                changePageOptions = {\n                    changeHash: false,\n                    fromHashChange: true,\n                    reverse: data.direction === \"back\"\n                };\n\n            $.extend( changePageOptions, data, {\n                transition: transition\n            });\n\n            // TODO move to _handleDestination ?\n            // If this isn't the first page, if the current url is a dialog hash\n            // key, and the initial destination isn't equal to the current target\n            // page, use the special dialog handling\n            if ( history.activeIndex > 0 &&\n                to.indexOf( $.mobile.dialogHashKey ) > -1 ) {\n\n                to = this._handleDialog( changePageOptions, data );\n\n                if ( to === false ) {\n                    return;\n                }\n            }\n\n            this._changeContent( this._handleDestination( to ), changePageOptions );\n        },\n\n        _changeContent: function( to, opts ) {\n            $.mobile.changePage( to, opts );\n        },\n\n        _getBase: function() {\n            return $.mobile.base;\n        },\n\n        _getNs: function() {\n            return $.mobile.ns;\n        },\n\n        _enhance: function( content, role ) {\n            // TODO consider supporting a custom callback, and passing in\n            // the settings which includes the role\n            return content.page({ role: role });\n        },\n\n        _include: function( page, settings ) {\n            // append to page and enhance\n            page.appendTo( this.element );\n\n            // use the page widget to enhance\n            this._enhance( page, settings.role );\n\n            // remove page on hide\n            page.page( \"bindRemove\" );\n        },\n\n        _find: function( absUrl ) {\n            // TODO consider supporting a custom callback\n            var fileUrl = this._createFileUrl( absUrl ),\n                dataUrl = this._createDataUrl( absUrl ),\n                page, initialContent = this._getInitialContent();\n\n            // Check to see if the page already exists in the DOM.\n            // NOTE do _not_ use the :jqmData pseudo selector because parenthesis\n            //      are a valid url char and it breaks on the first occurence\n            page = this.element\n                .children( \"[data-\" + this._getNs() +\n                    \"url='\" + $.mobile.path.hashToSelector( dataUrl ) + \"']\" );\n\n            // If we failed to find the page, check to see if the url is a\n            // reference to an embedded page. If so, it may have been dynamically\n            // injected by a developer, in which case it would be lacking a\n            // data-url attribute and in need of enhancement.\n            if ( page.length === 0 && dataUrl && !$.mobile.path.isPath( dataUrl ) ) {\n                page = this.element.children( $.mobile.path.hashToSelector(\"#\" + dataUrl) )\n                    .attr( \"data-\" + this._getNs() + \"url\", dataUrl )\n                    .jqmData( \"url\", dataUrl );\n            }\n\n            // If we failed to find a page in the DOM, check the URL to see if it\n            // refers to the first page in the application. Also check to make sure\n            // our cached-first-page is actually in the DOM. Some user deployed\n            // apps are pruning the first page from the DOM for various reasons.\n            // We check for this case here because we don't want a first-page with\n            // an id falling through to the non-existent embedded page error case.\n            if ( page.length === 0 &&\n                $.mobile.path.isFirstPageUrl( fileUrl ) &&\n                initialContent &&\n                initialContent.parent().length ) {\n                page = $( initialContent );\n            }\n\n            return page;\n        },\n\n        _getLoader: function() {\n            return $.mobile.loading();\n        },\n\n        _showLoading: function( delay, theme, msg, textonly ) {\n            // This configurable timeout allows cached pages a brief\n            // delay to load without showing a message\n            if ( this._loadMsg ) {\n                return;\n            }\n\n            this._loadMsg = setTimeout($.proxy(function() {\n                this._getLoader().loader( \"show\", theme, msg, textonly );\n                this._loadMsg = 0;\n            }, this), delay );\n        },\n\n        _hideLoading: function() {\n            // Stop message show timer\n            clearTimeout( this._loadMsg );\n            this._loadMsg = 0;\n\n            // Hide loading message\n            this._getLoader().loader( \"hide\" );\n        },\n\n        _showError: function() {\n            // make sure to remove the current loading message\n            this._hideLoading();\n\n            // show the error message\n            this._showLoading( 0, $.mobile.pageLoadErrorMessageTheme, $.mobile.pageLoadErrorMessage, true );\n\n            // hide the error message after a delay\n            // TODO configuration\n            setTimeout( $.proxy(this, \"_hideLoading\"), 1500 );\n        },\n\n        _parse: function( html, fileUrl ) {\n            // TODO consider allowing customization of this method. It's very JQM specific\n            var page, all = $( \"<div></div>\" );\n\n            //workaround to allow scripts to execute when included in page divs\n            all.get( 0 ).innerHTML = html;\n\n            page = all.find( \":jqmData(role='page'), :jqmData(role='dialog')\" ).first();\n\n            //if page elem couldn't be found, create one and insert the body element's contents\n            if ( !page.length ) {\n                page = $( \"<div data-\" + this._getNs() + \"role='page'>\" +\n                    ( html.split( /<\\/?body[^>]*>/gmi )[1] || \"\" ) +\n                    \"</div>\" );\n            }\n\n            // TODO tagging a page with external to make sure that embedded pages aren't\n            // removed by the various page handling code is bad. Having page handling code\n            // in many places is bad. Solutions post 1.0\n            page.attr( \"data-\" + this._getNs() + \"url\", this._createDataUrl( fileUrl ) )\n                .attr( \"data-\" + this._getNs() + \"external-page\", true );\n\n            return page;\n        },\n\n        _setLoadedTitle: function( page, html ) {\n            //page title regexp\n            var newPageTitle = html.match( /<title[^>]*>([^<]*)/ ) && RegExp.$1;\n\n            if ( newPageTitle && !page.jqmData(\"title\") ) {\n                newPageTitle = $( \"<div>\" + newPageTitle + \"</div>\" ).text();\n                page.jqmData( \"title\", newPageTitle );\n            }\n        },\n\n        _isRewritableBaseTag: function() {\n            return $.mobile.dynamicBaseEnabled && !$.support.dynamicBaseTag;\n        },\n\n        _createDataUrl: function( absoluteUrl ) {\n            return $.mobile.path.convertUrlToDataUrl( absoluteUrl );\n        },\n\n        _createFileUrl: function( absoluteUrl ) {\n            return $.mobile.path.getFilePath( absoluteUrl );\n        },\n\n        _triggerWithDeprecated: function( name, data, page ) {\n            var deprecatedEvent = $.Event( \"page\" + name ),\n                newEvent = $.Event( this.widgetName + name );\n\n            // DEPRECATED\n            // trigger the old deprecated event on the page if it's provided\n            ( page || this.element ).trigger( deprecatedEvent, data );\n\n            // use the widget trigger method for the new content* event\n            this._trigger( name, newEvent, data );\n\n            return {\n                deprecatedEvent: deprecatedEvent,\n                event: newEvent\n            };\n        },\n\n        // TODO it would be nice to split this up more but everything appears to be \"one off\"\n        //      or require ordering such that other bits are sprinkled in between parts that\n        //      could be abstracted out as a group\n        _loadSuccess: function( absUrl, triggerData, settings, deferred ) {\n            var fileUrl = this._createFileUrl( absUrl );\n\n            return $.proxy(function( html, textStatus, xhr ) {\n                //pre-parse html to check for a data-url,\n                //use it as the new fileUrl, base path, etc\n                var content,\n\n                    // TODO handle dialogs again\n                    pageElemRegex = new RegExp( \"(<[^>]+\\\\bdata-\" + this._getNs() + \"role=[\\\"']?page[\\\"']?[^>]*>)\" ),\n\n                    dataUrlRegex = new RegExp( \"\\\\bdata-\" + this._getNs() + \"url=[\\\"']?([^\\\"'>]*)[\\\"']?\" );\n\n                // data-url must be provided for the base tag so resource requests\n                // can be directed to the correct url. loading into a temprorary\n                // element makes these requests immediately\n                if ( pageElemRegex.test( html ) &&\n                    RegExp.$1 &&\n                    dataUrlRegex.test( RegExp.$1 ) &&\n                    RegExp.$1 ) {\n                    fileUrl = $.mobile.path.getFilePath( $(\"<div>\" + RegExp.$1 + \"</div>\").text() );\n\n                    // We specify that, if a data-url attribute is given on the page div, its value\n                    // must be given non-URL-encoded. However, in this part of the code, fileUrl is\n                    // assumed to be URL-encoded, so we URL-encode the retrieved value here\n                    fileUrl = this.window[ 0 ].encodeURIComponent( fileUrl );\n                }\n\n                //dont update the base tag if we are prefetching\n                if ( settings.prefetch === undefined ) {\n                    this._getBase().set( fileUrl );\n                }\n\n                content = this._parse( html, fileUrl );\n\n                this._setLoadedTitle( content, html );\n\n                // Add the content reference and xhr to our triggerData.\n                triggerData.xhr = xhr;\n                triggerData.textStatus = textStatus;\n\n                // DEPRECATED\n                triggerData.page = content;\n\n                triggerData.content = content;\n\n                triggerData.toPage = content;\n\n                // If the default behavior is prevented, stop here!\n                // Note that it is the responsibility of the listener/handler\n                // that called preventDefault(), to resolve/reject the\n                // deferred object within the triggerData.\n                if ( this._triggerWithDeprecated( \"load\", triggerData ).event.isDefaultPrevented() ) {\n                    return;\n                }\n\n                // rewrite src and href attrs to use a base url if the base tag won't work\n                if ( this._isRewritableBaseTag() && content ) {\n                    this._getBase().rewrite( fileUrl, content );\n                }\n\n                this._include( content, settings );\n\n                // Remove loading message.\n                if ( settings.showLoadMsg ) {\n                    this._hideLoading();\n                }\n\n                deferred.resolve( absUrl, settings, content );\n            }, this);\n        },\n\n        _loadDefaults: {\n            type: \"get\",\n            data: undefined,\n\n            // DEPRECATED\n            reloadPage: false,\n\n            reload: false,\n\n            // By default we rely on the role defined by the @data-role attribute.\n            role: undefined,\n\n            showLoadMsg: false,\n\n            // This delay allows loads that pull from browser cache to\n            // occur without showing the loading message.\n            loadMsgDelay: 50\n        },\n\n        load: function( url, options ) {\n            // This function uses deferred notifications to let callers\n            // know when the content is done loading, or if an error has occurred.\n            var deferred = ( options && options.deferred ) || $.Deferred(),\n\n                // Examining the option \"reloadPage\" passed by the user is deprecated as of 1.4.0\n                // and will be removed in 1.5.0.\n                // Copy option \"reloadPage\" to \"reload\", but only if option \"reload\" is not present\n                reloadOptionExtension =\n                    ( ( options && options.reload === undefined &&\n                        options.reloadPage !== undefined ) ?\n                            { reload: options.reloadPage } : {} ),\n\n                // The default load options with overrides specified by the caller.\n                settings = $.extend( {}, this._loadDefaults, options, reloadOptionExtension ),\n\n                // The DOM element for the content after it has been loaded.\n                content = null,\n\n                // The absolute version of the URL passed into the function. This\n                // version of the URL may contain dialog/subcontent params in it.\n                absUrl = $.mobile.path.makeUrlAbsolute( url, this._findBaseWithDefault() ),\n                fileUrl, dataUrl, pblEvent, triggerData;\n\n            // If the caller provided data, and we're using \"get\" request,\n            // append the data to the URL.\n            if ( settings.data && settings.type === \"get\" ) {\n                absUrl = $.mobile.path.addSearchParams( absUrl, settings.data );\n                settings.data = undefined;\n            }\n\n            // If the caller is using a \"post\" request, reload must be true\n            if ( settings.data && settings.type === \"post\" ) {\n                settings.reload = true;\n            }\n\n            // The absolute version of the URL minus any dialog/subcontent params.\n            // In otherwords the real URL of the content to be loaded.\n            fileUrl = this._createFileUrl( absUrl );\n\n            // The version of the Url actually stored in the data-url attribute of\n            // the content. For embedded content, it is just the id of the page. For\n            // content within the same domain as the document base, it is the site\n            // relative path. For cross-domain content (Phone Gap only) the entire\n            // absolute Url is used to load the content.\n            dataUrl = this._createDataUrl( absUrl );\n\n            content = this._find( absUrl );\n\n            // If it isn't a reference to the first content and refers to missing\n            // embedded content reject the deferred and return\n            if ( content.length === 0 &&\n                $.mobile.path.isEmbeddedPage(fileUrl) &&\n                !$.mobile.path.isFirstPageUrl(fileUrl) ) {\n                deferred.reject( absUrl, settings );\n                return deferred.promise();\n            }\n\n            // Reset base to the default document base\n            // TODO figure out why we doe this\n            this._getBase().reset();\n\n            // If the content we are interested in is already in the DOM,\n            // and the caller did not indicate that we should force a\n            // reload of the file, we are done. Resolve the deferrred so that\n            // users can bind to .done on the promise\n            if ( content.length && !settings.reload ) {\n                this._enhance( content, settings.role );\n                deferred.resolve( absUrl, settings, content );\n\n                //if we are reloading the content make sure we update\n                // the base if its not a prefetch\n                if ( !settings.prefetch ) {\n                    this._getBase().set(url);\n                }\n\n                return deferred.promise();\n            }\n\n            triggerData = {\n                url: url,\n                absUrl: absUrl,\n                toPage: url,\n                prevPage: options ? options.fromPage : undefined,\n                dataUrl: dataUrl,\n                deferred: deferred,\n                options: settings\n            };\n\n            // Let listeners know we're about to load content.\n            pblEvent = this._triggerWithDeprecated( \"beforeload\", triggerData );\n\n            // If the default behavior is prevented, stop here!\n            if ( pblEvent.deprecatedEvent.isDefaultPrevented() ||\n                pblEvent.event.isDefaultPrevented() ) {\n                return deferred.promise();\n            }\n\n            if ( settings.showLoadMsg ) {\n                this._showLoading( settings.loadMsgDelay );\n            }\n\n            // Reset base to the default document base.\n            // only reset if we are not prefetching\n            if ( settings.prefetch === undefined ) {\n                this._getBase().reset();\n            }\n\n            if ( !( $.mobile.allowCrossDomainPages ||\n                $.mobile.path.isSameDomain($.mobile.path.documentUrl, absUrl ) ) ) {\n                deferred.reject( absUrl, settings );\n                return deferred.promise();\n            }\n\n            // Load the new content.\n            $.ajax({\n                url: fileUrl,\n                type: settings.type,\n                data: settings.data,\n                contentType: settings.contentType,\n                dataType: \"html\",\n                success: this._loadSuccess( absUrl, triggerData, settings, deferred ),\n                error: this._loadError( absUrl, triggerData, settings, deferred )\n            });\n\n            return deferred.promise();\n        },\n\n        _loadError: function( absUrl, triggerData, settings, deferred ) {\n            return $.proxy(function( xhr, textStatus, errorThrown ) {\n                //set base back to current path\n                this._getBase().set( $.mobile.path.get() );\n\n                // Add error info to our triggerData.\n                triggerData.xhr = xhr;\n                triggerData.textStatus = textStatus;\n                triggerData.errorThrown = errorThrown;\n\n                // Let listeners know the page load failed.\n                var plfEvent = this._triggerWithDeprecated( \"loadfailed\", triggerData );\n\n                // If the default behavior is prevented, stop here!\n                // Note that it is the responsibility of the listener/handler\n                // that called preventDefault(), to resolve/reject the\n                // deferred object within the triggerData.\n                if ( plfEvent.deprecatedEvent.isDefaultPrevented() ||\n                    plfEvent.event.isDefaultPrevented() ) {\n                    return;\n                }\n\n                // Remove loading message.\n                if ( settings.showLoadMsg ) {\n                    this._showError();\n                }\n\n                deferred.reject( absUrl, settings );\n            }, this);\n        },\n\n        _getTransitionHandler: function( transition ) {\n            transition = $.mobile._maybeDegradeTransition( transition );\n\n            //find the transition handler for the specified transition. If there\n            //isn't one in our transitionHandlers dictionary, use the default one.\n            //call the handler immediately to kick-off the transition.\n            return $.mobile.transitionHandlers[ transition ] || $.mobile.defaultTransitionHandler;\n        },\n\n        // TODO move into transition handlers?\n        _triggerCssTransitionEvents: function( to, from, prefix ) {\n            var samePage = false;\n\n            prefix = prefix || \"\";\n\n            // TODO decide if these events should in fact be triggered on the container\n            if ( from ) {\n\n                //Check if this is a same page transition and tell the handler in page\n                if( to[0] === from[0] ){\n                    samePage = true;\n                }\n\n                //trigger before show/hide events\n                // TODO deprecate nextPage in favor of next\n                this._triggerWithDeprecated( prefix + \"hide\", {\n\n                    // Deprecated in 1.4 remove in 1.5\n                    nextPage: to,\n                    toPage: to,\n                    prevPage: from,\n                    samePage: samePage\n                }, from );\n            }\n\n            // TODO deprecate prevPage in favor of previous\n            this._triggerWithDeprecated( prefix + \"show\", {\n                prevPage: from || $( \"\" ),\n                toPage: to\n            }, to );\n        },\n\n        // TODO make private once change has been defined in the widget\n        _cssTransition: function( to, from, options ) {\n            var transition = options.transition,\n                reverse = options.reverse,\n                deferred = options.deferred,\n                TransitionHandler,\n                promise;\n\n            this._triggerCssTransitionEvents( to, from, \"before\" );\n\n            // TODO put this in a binding to events *outside* the widget\n            this._hideLoading();\n\n            TransitionHandler = this._getTransitionHandler( transition );\n\n            promise = ( new TransitionHandler( transition, reverse, to, from ) ).transition();\n\n            promise.done( $.proxy( function() {\n                this._triggerCssTransitionEvents( to, from );\n            }, this ));\n\n            // TODO temporary accomodation of argument deferred\n            promise.done(function() {\n                deferred.resolve.apply( deferred, arguments );\n            });\n        },\n\n        _releaseTransitionLock: function() {\n            //release transition lock so navigation is free again\n            isPageTransitioning = false;\n            if ( pageTransitionQueue.length > 0 ) {\n                $.mobile.changePage.apply( null, pageTransitionQueue.pop() );\n            }\n        },\n\n        _removeActiveLinkClass: function( force ) {\n            //clear out the active button state\n            $.mobile.removeActiveLinkClass( force );\n        },\n\n        _loadUrl: function( to, triggerData, settings ) {\n            // preserve the original target as the dataUrl value will be\n            // simplified eg, removing ui-state, and removing query params\n            // from the hash this is so that users who want to use query\n            // params have access to them in the event bindings for the page\n            // life cycle See issue #5085\n            settings.target = to;\n            settings.deferred = $.Deferred();\n\n            this.load( to, settings );\n\n            settings.deferred.done($.proxy(function( url, options, content ) {\n                isPageTransitioning = false;\n\n                // store the original absolute url so that it can be provided\n                // to events in the triggerData of the subsequent changePage call\n                options.absUrl = triggerData.absUrl;\n\n                this.transition( content, triggerData, options );\n            }, this));\n\n            settings.deferred.fail($.proxy(function(/* url, options */) {\n                this._removeActiveLinkClass( true );\n                this._releaseTransitionLock();\n                this._triggerWithDeprecated( \"changefailed\", triggerData );\n            }, this));\n        },\n\n        _triggerPageBeforeChange: function( to, triggerData, settings ) {\n            var returnEvents;\n\n            triggerData.prevPage = this.activePage;\n            $.extend( triggerData, {\n                toPage: to,\n                options: settings\n            });\n\n            // NOTE: preserve the original target as the dataUrl value will be\n            // simplified eg, removing ui-state, and removing query params from\n            // the hash this is so that users who want to use query params have\n            // access to them in the event bindings for the page life cycle\n            // See issue #5085\n            if ( $.type(to) === \"string\" ) {\n                // if the toPage is a string simply convert it\n                triggerData.absUrl = $.mobile.path.makeUrlAbsolute( to, this._findBaseWithDefault() );\n            } else {\n                // if the toPage is a jQuery object grab the absolute url stored\n                // in the loadPage callback where it exists\n                triggerData.absUrl = settings.absUrl;\n            }\n\n            // Let listeners know we're about to change the current page.\n            returnEvents = this._triggerWithDeprecated( \"beforechange\", triggerData );\n\n            // If the default behavior is prevented, stop here!\n            if ( returnEvents.event.isDefaultPrevented() ||\n                returnEvents.deprecatedEvent.isDefaultPrevented() ) {\n                return false;\n            }\n\n            return true;\n        },\n\n        change: function( to, options ) {\n            // If we are in the midst of a transition, queue the current request.\n            // We'll call changePage() once we're done with the current transition\n            // to service the request.\n            if ( isPageTransitioning ) {\n                pageTransitionQueue.unshift( arguments );\n                return;\n            }\n\n            var settings = $.extend( {}, $.mobile.changePage.defaults, options ),\n                triggerData = {};\n\n            // Make sure we have a fromPage.\n            settings.fromPage = settings.fromPage || this.activePage;\n\n            // if the page beforechange default is prevented return early\n            if ( !this._triggerPageBeforeChange(to, triggerData, settings) ) {\n                return;\n            }\n\n            // We allow \"pagebeforechange\" observers to modify the to in\n            // the trigger data to allow for redirects. Make sure our to is\n            // updated. We also need to re-evaluate whether it is a string,\n            // because an object can also be replaced by a string\n            to = triggerData.toPage;\n\n            // If the caller passed us a url, call loadPage()\n            // to make sure it is loaded into the DOM. We'll listen\n            // to the promise object it returns so we know when\n            // it is done loading or if an error ocurred.\n            if ( $.type(to) === \"string\" ) {\n                // Set the isPageTransitioning flag to prevent any requests from\n                // entering this method while we are in the midst of loading a page\n                // or transitioning.\n                isPageTransitioning = true;\n\n                this._loadUrl( to, triggerData, settings );\n            } else {\n                this.transition( to, triggerData, settings );\n            }\n        },\n\n        transition: function( toPage, triggerData, settings ) {\n            var fromPage, url, pageUrl, fileUrl,\n                active, activeIsInitialPage,\n                historyDir, pageTitle, isDialog,\n                alreadyThere, newPageTitle,\n                params,    cssTransitionDeferred,\n                beforeTransition;\n\n            // If we are in the midst of a transition, queue the current request.\n            // We'll call changePage() once we're done with the current transition\n            // to service the request.\n            if ( isPageTransitioning ) {\n                // make sure to only queue the to and settings values so the arguments\n                // work with a call to the change method\n                pageTransitionQueue.unshift( [toPage, settings] );\n                return;\n            }\n\n            // DEPRECATED - this call only, in favor of the before transition\n            // if the page beforechange default is prevented return early\n            if ( !this._triggerPageBeforeChange(toPage, triggerData, settings) ) {\n                return;\n            }\n\n            triggerData.prevPage = settings.fromPage;\n            // if the (content|page)beforetransition default is prevented return early\n            // Note, we have to check for both the deprecated and new events\n            beforeTransition = this._triggerWithDeprecated( \"beforetransition\", triggerData );\n            if (beforeTransition.deprecatedEvent.isDefaultPrevented() ||\n                beforeTransition.event.isDefaultPrevented() ) {\n                return;\n            }\n\n            // Set the isPageTransitioning flag to prevent any requests from\n            // entering this method while we are in the midst of loading a page\n            // or transitioning.\n            isPageTransitioning = true;\n\n            // If we are going to the first-page of the application, we need to make\n            // sure settings.dataUrl is set to the application document url. This allows\n            // us to avoid generating a document url with an id hash in the case where the\n            // first-page of the document has an id attribute specified.\n            if ( toPage[ 0 ] === $.mobile.firstPage[ 0 ] && !settings.dataUrl ) {\n                settings.dataUrl = $.mobile.path.documentUrl.hrefNoHash;\n            }\n\n            // The caller passed us a real page DOM element. Update our\n            // internal state and then trigger a transition to the page.\n            fromPage = settings.fromPage;\n            url = ( settings.dataUrl && $.mobile.path.convertUrlToDataUrl(settings.dataUrl) ) ||\n                toPage.jqmData( \"url\" );\n\n            // The pageUrl var is usually the same as url, except when url is obscured\n            // as a dialog url. pageUrl always contains the file path\n            pageUrl = url;\n            fileUrl = $.mobile.path.getFilePath( url );\n            active = $.mobile.navigate.history.getActive();\n            activeIsInitialPage = $.mobile.navigate.history.activeIndex === 0;\n            historyDir = 0;\n            pageTitle = document.title;\n            isDialog = ( settings.role === \"dialog\" ||\n                toPage.jqmData( \"role\" ) === \"dialog\" ) &&\n                toPage.jqmData( \"dialog\" ) !== true;\n\n            // By default, we prevent changePage requests when the fromPage and toPage\n            // are the same element, but folks that generate content\n            // manually/dynamically and reuse pages want to be able to transition to\n            // the same page. To allow this, they will need to change the default\n            // value of allowSamePageTransition to true, *OR*, pass it in as an\n            // option when they manually call changePage(). It should be noted that\n            // our default transition animations assume that the formPage and toPage\n            // are different elements, so they may behave unexpectedly. It is up to\n            // the developer that turns on the allowSamePageTransitiona option to\n            // either turn off transition animations, or make sure that an appropriate\n            // animation transition is used.\n            if ( fromPage && fromPage[0] === toPage[0] &&\n                !settings.allowSamePageTransition ) {\n\n                isPageTransitioning = false;\n                this._triggerWithDeprecated( \"transition\", triggerData );\n                this._triggerWithDeprecated( \"change\", triggerData );\n\n                // Even if there is no page change to be done, we should keep the\n                // urlHistory in sync with the hash changes\n                if ( settings.fromHashChange ) {\n                    $.mobile.navigate.history.direct({ url: url });\n                }\n\n                return;\n            }\n\n            // We need to make sure the page we are given has already been enhanced.\n            toPage.page({ role: settings.role });\n\n            // If the changePage request was sent from a hashChange event, check to\n            // see if the page is already within the urlHistory stack. If so, we'll\n            // assume the user hit the forward/back button and will try to match the\n            // transition accordingly.\n            if ( settings.fromHashChange ) {\n                historyDir = settings.direction === \"back\" ? -1 : 1;\n            }\n\n            // Kill the keyboard.\n            // XXX_jblas: We need to stop crawling the entire document to kill focus.\n            //            Instead, we should be tracking focus with a delegate()\n            //            handler so we already have the element in hand at this\n            //            point.\n            // Wrap this in a try/catch block since IE9 throw \"Unspecified error\" if\n            // document.activeElement is undefined when we are in an IFrame.\n            try {\n                if ( document.activeElement &&\n                    document.activeElement.nodeName.toLowerCase() !== \"body\" ) {\n\n                    $( document.activeElement ).blur();\n                } else {\n                    $( \"input:focus, textarea:focus, select:focus\" ).blur();\n                }\n            } catch( e ) {}\n\n            // Record whether we are at a place in history where a dialog used to be -\n            // if so, do not add a new history entry and do not change the hash either\n            alreadyThere = false;\n\n            // If we're displaying the page as a dialog, we don't want the url\n            // for the dialog content to be used in the hash. Instead, we want\n            // to append the dialogHashKey to the url of the current page.\n            if ( isDialog && active ) {\n                // on the initial page load active.url is undefined and in that case\n                // should be an empty string. Moving the undefined -> empty string back\n                // into urlHistory.addNew seemed imprudent given undefined better\n                // represents the url state\n\n                // If we are at a place in history that once belonged to a dialog, reuse\n                // this state without adding to urlHistory and without modifying the\n                // hash. However, if a dialog is already displayed at this point, and\n                // we're about to display another dialog, then we must add another hash\n                // and history entry on top so that one may navigate back to the\n                // original dialog\n                if ( active.url &&\n                    active.url.indexOf( $.mobile.dialogHashKey ) > -1 &&\n                    this.activePage &&\n                    !this.activePage.hasClass( \"ui-dialog\" ) &&\n                    $.mobile.navigate.history.activeIndex > 0 ) {\n\n                    settings.changeHash = false;\n                    alreadyThere = true;\n                }\n\n                // Normally, we tack on a dialog hash key, but if this is the location\n                // of a stale dialog, we reuse the URL from the entry\n                url = ( active.url || \"\" );\n\n                // account for absolute urls instead of just relative urls use as hashes\n                if ( !alreadyThere && url.indexOf(\"#\") > -1 ) {\n                    url += $.mobile.dialogHashKey;\n                } else {\n                    url += \"#\" + $.mobile.dialogHashKey;\n                }\n            }\n\n            // if title element wasn't found, try the page div data attr too\n            // If this is a deep-link or a reload ( active === undefined ) then just\n            // use pageTitle\n            newPageTitle = ( !active ) ? pageTitle : toPage.jqmData( \"title\" ) ||\n                toPage.children( \":jqmData(role='header')\" ).find( \".ui-title\" ).text();\n            if ( !!newPageTitle && pageTitle === document.title ) {\n                pageTitle = newPageTitle;\n            }\n            if ( !toPage.jqmData( \"title\" ) ) {\n                toPage.jqmData( \"title\", pageTitle );\n            }\n\n            // Make sure we have a transition defined.\n            settings.transition = settings.transition ||\n                ( ( historyDir && !activeIsInitialPage ) ? active.transition : undefined ) ||\n                ( isDialog ? $.mobile.defaultDialogTransition : $.mobile.defaultPageTransition );\n\n            //add page to history stack if it's not back or forward\n            if ( !historyDir && alreadyThere ) {\n                $.mobile.navigate.history.getActive().pageUrl = pageUrl;\n            }\n\n            // Set the location hash.\n            if ( url && !settings.fromHashChange ) {\n\n                // rebuilding the hash here since we loose it earlier on\n                // TODO preserve the originally passed in path\n                if ( !$.mobile.path.isPath( url ) && url.indexOf( \"#\" ) < 0 ) {\n                    url = \"#\" + url;\n                }\n\n                // TODO the property names here are just silly\n                params = {\n                    transition: settings.transition,\n                    title: pageTitle,\n                    pageUrl: pageUrl,\n                    role: settings.role\n                };\n\n                if ( settings.changeHash !== false && $.mobile.hashListeningEnabled ) {\n                    $.mobile.navigate( this.window[ 0 ].encodeURI( url ), params, true);\n                } else if ( toPage[ 0 ] !== $.mobile.firstPage[ 0 ] ) {\n                    $.mobile.navigate.history.add( url, params );\n                }\n            }\n\n            //set page title\n            document.title = pageTitle;\n\n            //set \"toPage\" as activePage deprecated in 1.4 remove in 1.5\n            $.mobile.activePage = toPage;\n\n            //new way to handle activePage\n            this.activePage = toPage;\n\n            // If we're navigating back in the URL history, set reverse accordingly.\n            settings.reverse = settings.reverse || historyDir < 0;\n\n            cssTransitionDeferred = $.Deferred();\n\n            this._cssTransition(toPage, fromPage, {\n                transition: settings.transition,\n                reverse: settings.reverse,\n                deferred: cssTransitionDeferred\n            });\n\n            cssTransitionDeferred.done($.proxy(function( name, reverse, $to, $from, alreadyFocused ) {\n                $.mobile.removeActiveLinkClass();\n\n                //if there's a duplicateCachedPage, remove it from the DOM now that it's hidden\n                if ( settings.duplicateCachedPage ) {\n                    settings.duplicateCachedPage.remove();\n                }\n\n                // despite visibility: hidden addresses issue #2965\n                // https://github.com/jquery/jquery-mobile/issues/2965\n                if ( !alreadyFocused ) {\n                    $.mobile.focusPage( toPage );\n                }\n\n                this._releaseTransitionLock();\n                this._triggerWithDeprecated( \"transition\", triggerData );\n                this._triggerWithDeprecated( \"change\", triggerData );\n            }, this));\n        },\n\n        // determine the current base url\n        _findBaseWithDefault: function() {\n            var closestBase = ( this.activePage &&\n            $.mobile.getClosestBaseUrl( this.activePage ) );\n        return closestBase || $.mobile.path.documentBase.hrefNoHash;\n        }\n    });\n\n    // The following handlers should be bound after mobileinit has been triggered\n    // the following deferred is resolved in the init file\n    $.mobile.navreadyDeferred = $.Deferred();\n\n    //these variables make all page containers use the same queue and only navigate one at a time\n    // queue to hold simultanious page transitions\n    var pageTransitionQueue = [],\n\n        // indicates whether or not page is in process of transitioning\n        isPageTransitioning = false;\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n        // resolved on domready\n    var domreadyDeferred = $.Deferred(),\n\n        // resolved and nulled on window.load()\n        loadDeferred = $.Deferred(),\n\n        // function that resolves the above deferred\n        pageIsFullyLoaded = function() {\n\n            // Resolve and null the deferred\n            loadDeferred.resolve();\n            loadDeferred = null;\n        },\n\n        documentUrl = $.mobile.path.documentUrl,\n\n        // used to track last vclicked element to make sure its value is added to form data\n        $lastVClicked = null;\n\n    /* Event Bindings - hashchange, submit, and click */\n    function findClosestLink( ele )    {\n        while ( ele ) {\n            // Look for the closest element with a nodeName of \"a\".\n            // Note that we are checking if we have a valid nodeName\n            // before attempting to access it. This is because the\n            // node we get called with could have originated from within\n            // an embedded SVG document where some symbol instance elements\n            // don't have nodeName defined on them, or strings are of type\n            // SVGAnimatedString.\n            if ( ( typeof ele.nodeName === \"string\" ) && ele.nodeName.toLowerCase() === \"a\" ) {\n                break;\n            }\n            ele = ele.parentNode;\n        }\n        return ele;\n    }\n\n    $.mobile.loadPage = function( url, opts ) {\n        var container;\n\n        opts = opts || {};\n        container = ( opts.pageContainer || $.mobile.pageContainer );\n\n        // create the deferred that will be supplied to loadPage callers\n        // and resolved by the content widget's load method\n        opts.deferred = $.Deferred();\n\n        // Preferring to allow exceptions for uninitialized opts.pageContainer\n        // widgets so we know if we need to force init here for users\n        container.pagecontainer( \"load\", url, opts );\n\n        // provide the deferred\n        return opts.deferred.promise();\n    };\n\n    //define vars for interal use\n\n    /* internal utility functions */\n\n    // NOTE Issue #4950 Android phonegap doesn't navigate back properly\n    //      when a full page refresh has taken place. It appears that hashchange\n    //      and replacestate history alterations work fine but we need to support\n    //      both forms of history traversal in our code that uses backward history\n    //      movement\n    $.mobile.back = function() {\n        var nav = window.navigator;\n\n        // if the setting is on and the navigator object is\n        // available use the phonegap navigation capability\n        if ( this.phonegapNavigationEnabled &&\n            nav &&\n            nav.app &&\n            nav.app.backHistory ) {\n            nav.app.backHistory();\n        } else {\n            $.mobile.pageContainer.pagecontainer( \"back\" );\n        }\n    };\n\n    // Direct focus to the page title, or otherwise first focusable element\n    $.mobile.focusPage = function ( page ) {\n        var autofocus = page.find( \"[autofocus]\" ),\n            pageTitle = page.find( \".ui-title:eq(0)\" );\n\n        if ( autofocus.length ) {\n            autofocus.focus();\n            return;\n        }\n\n        if ( pageTitle.length ) {\n            pageTitle.focus();\n        } else{\n            page.focus();\n        }\n    };\n\n    // No-op implementation of transition degradation\n    $.mobile._maybeDegradeTransition = $.mobile._maybeDegradeTransition || function( transition ) {\n        return transition;\n    };\n\n    // Exposed $.mobile methods\n\n    $.mobile.changePage = function( to, options ) {\n        $.mobile.pageContainer.pagecontainer( \"change\", to, options );\n    };\n\n    $.mobile.changePage.defaults = {\n        transition: undefined,\n        reverse: false,\n        changeHash: true,\n        fromHashChange: false,\n        role: undefined, // By default we rely on the role defined by the @data-role attribute.\n        duplicateCachedPage: undefined,\n        pageContainer: undefined,\n        showLoadMsg: true, //loading message shows by default when pages are being fetched during changePage\n        dataUrl: undefined,\n        fromPage: undefined,\n        allowSamePageTransition: false\n    };\n\n    $.mobile._registerInternalEvents = function() {\n        var getAjaxFormData = function( $form, calculateOnly ) {\n            var url, ret = true, formData, vclickedName, method;\n            if ( !$.mobile.ajaxEnabled ||\n                    // test that the form is, itself, ajax false\n                    $form.is( \":jqmData(ajax='false')\" ) ||\n                    // test that $.mobile.ignoreContentEnabled is set and\n                    // the form or one of it's parents is ajax=false\n                    !$form.jqmHijackable().length ||\n                    $form.attr( \"target\" ) ) {\n                return false;\n            }\n\n            url = ( $lastVClicked && $lastVClicked.attr( \"formaction\" ) ) ||\n                $form.attr( \"action\" );\n            method = ( $form.attr( \"method\" ) || \"get\" ).toLowerCase();\n\n            // If no action is specified, browsers default to using the\n            // URL of the document containing the form. Since we dynamically\n            // pull in pages from external documents, the form should submit\n            // to the URL for the source document of the page containing\n            // the form.\n            if ( !url ) {\n                // Get the @data-url for the page containing the form.\n                url = $.mobile.getClosestBaseUrl( $form );\n\n                // NOTE: If the method is \"get\", we need to strip off the query string\n                // because it will get replaced with the new form data. See issue #5710.\n                if ( method === \"get\" ) {\n                    url = $.mobile.path.parseUrl( url ).hrefNoSearch;\n                }\n\n                if ( url === $.mobile.path.documentBase.hrefNoHash ) {\n                    // The url we got back matches the document base,\n                    // which means the page must be an internal/embedded page,\n                    // so default to using the actual document url as a browser\n                    // would.\n                    url = documentUrl.hrefNoSearch;\n                }\n            }\n\n            url = $.mobile.path.makeUrlAbsolute(  url, $.mobile.getClosestBaseUrl( $form ) );\n\n            if ( ( $.mobile.path.isExternal( url ) && !$.mobile.path.isPermittedCrossDomainRequest( documentUrl, url ) ) ) {\n                return false;\n            }\n\n            if ( !calculateOnly ) {\n                formData = $form.serializeArray();\n\n                if ( $lastVClicked && $lastVClicked[ 0 ].form === $form[ 0 ] ) {\n                    vclickedName = $lastVClicked.attr( \"name\" );\n                    if ( vclickedName ) {\n                        // Make sure the last clicked element is included in the form\n                        $.each( formData, function( key, value ) {\n                            if ( value.name === vclickedName ) {\n                                // Unset vclickedName - we've found it in the serialized data already\n                                vclickedName = \"\";\n                                return false;\n                            }\n                        });\n                        if ( vclickedName ) {\n                            formData.push( { name: vclickedName, value: $lastVClicked.attr( \"value\" ) } );\n                        }\n                    }\n                }\n\n                ret = {\n                    url: url,\n                    options: {\n                        type:        method,\n                        data:        $.param( formData ),\n                        transition:    $form.jqmData( \"transition\" ),\n                        reverse:    $form.jqmData( \"direction\" ) === \"reverse\",\n                        reloadPage:    true\n                    }\n                };\n            }\n\n            return ret;\n        };\n\n        //bind to form submit events, handle with Ajax\n        $.mobile.document.delegate( \"form\", \"submit\", function( event ) {\n            var formData;\n\n            if ( !event.isDefaultPrevented() ) {\n                formData = getAjaxFormData( $( this ) );\n                if ( formData ) {\n                    $.mobile.changePage( formData.url, formData.options );\n                    event.preventDefault();\n                }\n            }\n        });\n\n        //add active state on vclick\n        $.mobile.document.bind( \"vclick\", function( event ) {\n            var $btn, btnEls, target = event.target, needClosest = false;\n            // if this isn't a left click we don't care. Its important to note\n            // that when the virtual event is generated it will create the which attr\n            if ( event.which > 1 || !$.mobile.linkBindingEnabled ) {\n                return;\n            }\n\n            // Record that this element was clicked, in case we need it for correct\n            // form submission during the \"submit\" handler above\n            $lastVClicked = $( target );\n\n            // Try to find a target element to which the active class will be applied\n            if ( $.data( target, \"mobile-button\" ) ) {\n                // If the form will not be submitted via AJAX, do not add active class\n                if ( !getAjaxFormData( $( target ).closest( \"form\" ), true ) ) {\n                    return;\n                }\n                // We will apply the active state to this button widget - the parent\n                // of the input that was clicked will have the associated data\n                if ( target.parentNode ) {\n                    target = target.parentNode;\n                }\n            } else {\n                target = findClosestLink( target );\n                if ( !( target && $.mobile.path.parseUrl( target.getAttribute( \"href\" ) || \"#\" ).hash !== \"#\" ) ) {\n                    return;\n                }\n\n                // TODO teach $.mobile.hijackable to operate on raw dom elements so the\n                // link wrapping can be avoided\n                if ( !$( target ).jqmHijackable().length ) {\n                    return;\n                }\n            }\n\n            // Avoid calling .closest by using the data set during .buttonMarkup()\n            // List items have the button data in the parent of the element clicked\n            if ( !!~target.className.indexOf( \"ui-link-inherit\" ) ) {\n                if ( target.parentNode ) {\n                    btnEls = $.data( target.parentNode, \"buttonElements\" );\n                }\n            // Otherwise, look for the data on the target itself\n            } else {\n                btnEls = $.data( target, \"buttonElements\" );\n            }\n            // If found, grab the button's outer element\n            if ( btnEls ) {\n                target = btnEls.outer;\n            } else {\n                needClosest = true;\n            }\n\n            $btn = $( target );\n            // If the outer element wasn't found by the our heuristics, use .closest()\n            if ( needClosest ) {\n                $btn = $btn.closest( \".ui-btn\" );\n            }\n\n            if ( $btn.length > 0 &&\n                !( $btn.hasClass( \"ui-state-disabled\" ||\n\n                    // DEPRECATED as of 1.4.0 - remove after 1.4.0 release\n                    // only ui-state-disabled should be present thereafter\n                    $btn.hasClass( \"ui-disabled\" ) ) ) ) {\n                $.mobile.removeActiveLinkClass( true );\n                $.mobile.activeClickedLink = $btn;\n                $.mobile.activeClickedLink.addClass( $.mobile.activeBtnClass );\n            }\n        });\n\n        // click routing - direct to HTTP or Ajax, accordingly\n        $.mobile.document.bind( \"click\", function( event ) {\n            if ( !$.mobile.linkBindingEnabled || event.isDefaultPrevented() ) {\n                return;\n            }\n\n            var link = findClosestLink( event.target ),\n                $link = $( link ),\n\n                //remove active link class if external (then it won't be there if you come back)\n                httpCleanup = function() {\n                    window.setTimeout(function() { $.mobile.removeActiveLinkClass( true ); }, 200 );\n                },\n                baseUrl, href,\n                useDefaultUrlHandling, isExternal,\n                transition, reverse, role;\n\n            // If a button was clicked, clean up the active class added by vclick above\n            if ( $.mobile.activeClickedLink &&\n                $.mobile.activeClickedLink[ 0 ] === event.target.parentNode ) {\n                httpCleanup();\n            }\n\n            // If there is no link associated with the click or its not a left\n            // click we want to ignore the click\n            // TODO teach $.mobile.hijackable to operate on raw dom elements so the link wrapping\n            // can be avoided\n            if ( !link || event.which > 1 || !$link.jqmHijackable().length ) {\n                return;\n            }\n\n            //if there's a data-rel=back attr, go back in history\n            if ( $link.is( \":jqmData(rel='back')\" ) ) {\n                $.mobile.back();\n                return false;\n            }\n\n            baseUrl = $.mobile.getClosestBaseUrl( $link );\n\n            //get href, if defined, otherwise default to empty hash\n            href = $.mobile.path.makeUrlAbsolute( $link.attr( \"href\" ) || \"#\", baseUrl );\n\n            //if ajax is disabled, exit early\n            if ( !$.mobile.ajaxEnabled && !$.mobile.path.isEmbeddedPage( href ) ) {\n                httpCleanup();\n                //use default click handling\n                return;\n            }\n\n            // XXX_jblas: Ideally links to application pages should be specified as\n            //            an url to the application document with a hash that is either\n            //            the site relative path or id to the page. But some of the\n            //            internal code that dynamically generates sub-pages for nested\n            //            lists and select dialogs, just write a hash in the link they\n            //            create. This means the actual URL path is based on whatever\n            //            the current value of the base tag is at the time this code\n            //            is called.\n            if ( href.search( \"#\" ) !== -1 &&\n                !( $.mobile.path.isExternal( href ) && $.mobile.path.isAbsoluteUrl( href ) ) ) {\n\n                href = href.replace( /[^#]*#/, \"\" );\n                if ( !href ) {\n                    //link was an empty hash meant purely\n                    //for interaction, so we ignore it.\n                    event.preventDefault();\n                    return;\n                } else if ( $.mobile.path.isPath( href ) ) {\n                    //we have apath so make it the href we want to load.\n                    href = $.mobile.path.makeUrlAbsolute( href, baseUrl );\n                } else {\n                    //we have a simple id so use the documentUrl as its base.\n                    href = $.mobile.path.makeUrlAbsolute( \"#\" + href, documentUrl.hrefNoHash );\n                }\n            }\n\n            // Should we handle this link, or let the browser deal with it?\n            useDefaultUrlHandling = $link.is( \"[rel='external']\" ) || $link.is( \":jqmData(ajax='false')\" ) || $link.is( \"[target]\" );\n\n            // Some embedded browsers, like the web view in Phone Gap, allow cross-domain XHR\n            // requests if the document doing the request was loaded via the file:// protocol.\n            // This is usually to allow the application to \"phone home\" and fetch app specific\n            // data. We normally let the browser handle external/cross-domain urls, but if the\n            // allowCrossDomainPages option is true, we will allow cross-domain http/https\n            // requests to go through our page loading logic.\n\n            //check for protocol or rel and its not an embedded page\n            //TODO overlap in logic from isExternal, rel=external check should be\n            //     moved into more comprehensive isExternalLink\n            isExternal = useDefaultUrlHandling || ( $.mobile.path.isExternal( href ) && !$.mobile.path.isPermittedCrossDomainRequest( documentUrl, href ) );\n\n            if ( isExternal ) {\n                httpCleanup();\n                //use default click handling\n                return;\n            }\n\n            //use ajax\n            transition = $link.jqmData( \"transition\" );\n            reverse = $link.jqmData( \"direction\" ) === \"reverse\" ||\n                        // deprecated - remove by 1.0\n                        $link.jqmData( \"back\" );\n\n            //this may need to be more specific as we use data-rel more\n            role = $link.attr( \"data-\" + $.mobile.ns + \"rel\" ) || undefined;\n\n            $.mobile.changePage( href, { transition: transition, reverse: reverse, role: role, link: $link } );\n            event.preventDefault();\n        });\n\n        //prefetch pages when anchors with data-prefetch are encountered\n        $.mobile.document.delegate( \".ui-page\", \"pageshow.prefetch\", function() {\n            var urls = [];\n            $( this ).find( \"a:jqmData(prefetch)\" ).each(function() {\n                var $link = $( this ),\n                    url = $link.attr( \"href\" );\n\n                if ( url && $.inArray( url, urls ) === -1 ) {\n                    urls.push( url );\n\n                    $.mobile.loadPage( url, { role: $link.attr( \"data-\" + $.mobile.ns + \"rel\" ),prefetch: true } );\n                }\n            });\n        });\n\n        // TODO ensure that the navigate binding in the content widget happens at the right time\n        $.mobile.pageContainer.pagecontainer();\n\n        //set page min-heights to be device specific\n        $.mobile.document.bind( \"pageshow\", function() {\n\n            // We need to wait for window.load to make sure that styles have already been rendered,\n            // otherwise heights of external toolbars will have the wrong value\n            if ( loadDeferred ) {\n                loadDeferred.done( $.mobile.resetActivePageHeight );\n            } else {\n                $.mobile.resetActivePageHeight();\n            }\n        });\n        $.mobile.window.bind( \"throttledresize\", $.mobile.resetActivePageHeight );\n\n    };//navreadyDeferred done callback\n\n    $( function() { domreadyDeferred.resolve(); } );\n\n    // Account for the possibility that the load event has already fired\n    if ( document.readyState === \"complete\" ) {\n        pageIsFullyLoaded();\n    } else {\n        $.mobile.window.load( pageIsFullyLoaded );\n    }\n\n    $.when( domreadyDeferred, $.mobile.navreadyDeferred ).done( function() { $.mobile._registerInternalEvents(); } );\n})( jQuery );\n\n\n(function( $, window, undefined ) {\n\n    // TODO remove direct references to $.mobile and properties, we should\n    //      favor injection with params to the constructor\n    $.mobile.Transition = function() {\n        this.init.apply( this, arguments );\n    };\n\n    $.extend($.mobile.Transition.prototype, {\n        toPreClass: \" ui-page-pre-in\",\n\n        init: function( name, reverse, $to, $from ) {\n            $.extend(this, {\n                name: name,\n                reverse: reverse,\n                $to: $to,\n                $from: $from,\n                deferred: new $.Deferred()\n            });\n        },\n\n        cleanFrom: function() {\n            this.$from\n                .removeClass( $.mobile.activePageClass + \" out in reverse \" + this.name )\n                .height( \"\" );\n        },\n\n        // NOTE overridden by child object prototypes, noop'd here as defaults\n        beforeDoneIn: function() {},\n        beforeDoneOut: function() {},\n        beforeStartOut: function() {},\n\n        doneIn: function() {\n            this.beforeDoneIn();\n\n            this.$to.removeClass( \"out in reverse \" + this.name ).height( \"\" );\n\n            this.toggleViewportClass();\n\n            // In some browsers (iOS5), 3D transitions block the ability to scroll to the desired location during transition\n            // This ensures we jump to that spot after the fact, if we aren't there already.\n            if ( $.mobile.window.scrollTop() !== this.toScroll ) {\n                this.scrollPage();\n            }\n            if ( !this.sequential ) {\n                this.$to.addClass( $.mobile.activePageClass );\n            }\n            this.deferred.resolve( this.name, this.reverse, this.$to, this.$from, true );\n        },\n\n        doneOut: function( screenHeight, reverseClass, none, preventFocus ) {\n            this.beforeDoneOut();\n            this.startIn( screenHeight, reverseClass, none, preventFocus );\n        },\n\n        hideIn: function( callback ) {\n            // Prevent flickering in phonegap container: see comments at #4024 regarding iOS\n            this.$to.css( \"z-index\", -10 );\n            callback.call( this );\n            this.$to.css( \"z-index\", \"\" );\n        },\n\n        scrollPage: function() {\n            // By using scrollTo instead of silentScroll, we can keep things better in order\n            // Just to be precautios, disable scrollstart listening like silentScroll would\n            $.event.special.scrollstart.enabled = false;\n            //if we are hiding the url bar or the page was previously scrolled scroll to hide or return to position\n            if ( $.mobile.hideUrlBar || this.toScroll !== $.mobile.defaultHomeScroll ) {\n                window.scrollTo( 0, this.toScroll );\n            }\n\n            // reenable scrollstart listening like silentScroll would\n            setTimeout( function() {\n                $.event.special.scrollstart.enabled = true;\n            }, 150 );\n        },\n\n        startIn: function( screenHeight, reverseClass, none, preventFocus ) {\n            this.hideIn(function() {\n                this.$to.addClass( $.mobile.activePageClass + this.toPreClass );\n\n                // Send focus to page as it is now display: block\n                if ( !preventFocus ) {\n                    $.mobile.focusPage( this.$to );\n                }\n\n                // Set to page height\n                this.$to.height( screenHeight + this.toScroll );\n\n                if ( !none ) {\n                    this.scrollPage();\n                }\n            });\n\n            this.$to\n                .removeClass( this.toPreClass )\n                .addClass( this.name + \" in \" + reverseClass );\n\n            if ( !none ) {\n                this.$to.animationComplete( $.proxy(function() {\n                    this.doneIn();\n                }, this ));\n            } else {\n                this.doneIn();\n            }\n\n        },\n\n        startOut: function( screenHeight, reverseClass, none ) {\n            this.beforeStartOut( screenHeight, reverseClass, none );\n\n            // Set the from page's height and start it transitioning out\n            // Note: setting an explicit height helps eliminate tiling in the transitions\n            this.$from\n                .height( screenHeight + $.mobile.window.scrollTop() )\n                .addClass( this.name + \" out\" + reverseClass );\n        },\n\n        toggleViewportClass: function() {\n            $.mobile.pageContainer.toggleClass( \"ui-mobile-viewport-transitioning viewport-\" + this.name );\n        },\n\n        transition: function() {\n            // NOTE many of these could be calculated/recorded in the constructor, it's my\n            //      opinion that binding them as late as possible has value with regards to\n            //      better transitions with fewer bugs. Ie, it's not guaranteed that the\n            //      object will be created and transition will be run immediately after as\n            //      it is today. So we wait until transition is invoked to gather the following\n            var none,\n                reverseClass = this.reverse ? \" reverse\" : \"\",\n                screenHeight = $.mobile.getScreenHeight(),\n                maxTransitionOverride = $.mobile.maxTransitionWidth !== false &&\n                    $.mobile.window.width() > $.mobile.maxTransitionWidth;\n\n            this.toScroll = $.mobile.navigate.history.getActive().lastScroll || $.mobile.defaultHomeScroll;\n\n            none = !$.support.cssTransitions || !$.support.cssAnimations ||\n                maxTransitionOverride || !this.name || this.name === \"none\" ||\n                Math.max( $.mobile.window.scrollTop(), this.toScroll ) >\n                    $.mobile.getMaxScrollForTransition();\n\n            this.toggleViewportClass();\n\n            if ( this.$from && !none ) {\n                this.startOut( screenHeight, reverseClass, none );\n            } else {\n                this.doneOut( screenHeight, reverseClass, none, true );\n            }\n\n            return this.deferred.promise();\n        }\n    });\n})( jQuery, this );\n\n\n(function( $ ) {\n\n    $.mobile.SerialTransition = function() {\n        this.init.apply(this, arguments);\n    };\n\n    $.extend($.mobile.SerialTransition.prototype, $.mobile.Transition.prototype, {\n        sequential: true,\n\n        beforeDoneOut: function() {\n            if ( this.$from ) {\n                this.cleanFrom();\n            }\n        },\n\n        beforeStartOut: function( screenHeight, reverseClass, none ) {\n            this.$from.animationComplete($.proxy(function() {\n                this.doneOut( screenHeight, reverseClass, none );\n            }, this ));\n        }\n    });\n\n})( jQuery );\n\n\n(function( $ ) {\n\n    $.mobile.ConcurrentTransition = function() {\n        this.init.apply(this, arguments);\n    };\n\n    $.extend($.mobile.ConcurrentTransition.prototype, $.mobile.Transition.prototype, {\n        sequential: false,\n\n        beforeDoneIn: function() {\n            if ( this.$from ) {\n                this.cleanFrom();\n            }\n        },\n\n        beforeStartOut: function( screenHeight, reverseClass, none ) {\n            this.doneOut( screenHeight, reverseClass, none );\n        }\n    });\n\n})( jQuery );\n\n\n(function( $ ) {\n\n    // generate the handlers from the above\n    var defaultGetMaxScrollForTransition = function() {\n        return $.mobile.getScreenHeight() * 3;\n    };\n\n    //transition handler dictionary for 3rd party transitions\n    $.mobile.transitionHandlers = {\n        \"sequential\": $.mobile.SerialTransition,\n        \"simultaneous\": $.mobile.ConcurrentTransition\n    };\n\n    // Make our transition handler the public default.\n    $.mobile.defaultTransitionHandler = $.mobile.transitionHandlers.sequential;\n\n    $.mobile.transitionFallbacks = {};\n\n    // If transition is defined, check if css 3D transforms are supported, and if not, if a fallback is specified\n    $.mobile._maybeDegradeTransition = function( transition ) {\n        if ( transition && !$.support.cssTransform3d && $.mobile.transitionFallbacks[ transition ] ) {\n            transition = $.mobile.transitionFallbacks[ transition ];\n        }\n\n        return transition;\n    };\n\n    // Set the getMaxScrollForTransition to default if no implementation was set by user\n    $.mobile.getMaxScrollForTransition = $.mobile.getMaxScrollForTransition || defaultGetMaxScrollForTransition;\n\n})( jQuery );\n\n/*\n* fallback transition for flip in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n$.mobile.transitionFallbacks.flip = \"fade\";\n\n})( jQuery, this );\n\n/*\n* fallback transition for flow in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n$.mobile.transitionFallbacks.flow = \"fade\";\n\n})( jQuery, this );\n\n/*\n* fallback transition for pop in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n$.mobile.transitionFallbacks.pop = \"fade\";\n\n})( jQuery, this );\n\n/*\n* fallback transition for slide in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n// Use the simultaneous transitions handler for slide transitions\n$.mobile.transitionHandlers.slide = $.mobile.transitionHandlers.simultaneous;\n\n// Set the slide transitions's fallback to \"fade\"\n$.mobile.transitionFallbacks.slide = \"fade\";\n\n})( jQuery, this );\n\n/*\n* fallback transition for slidedown in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n$.mobile.transitionFallbacks.slidedown = \"fade\";\n\n})( jQuery, this );\n\n/*\n* fallback transition for slidefade in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n// Set the slide transitions's fallback to \"fade\"\n$.mobile.transitionFallbacks.slidefade = \"fade\";\n\n})( jQuery, this );\n\n/*\n* fallback transition for slideup in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n$.mobile.transitionFallbacks.slideup = \"fade\";\n\n})( jQuery, this );\n\n/*\n* fallback transition for turn in non-3D supporting browsers (which tend to handle complex transitions poorly in general\n*/\n\n(function( $, window, undefined ) {\n\n$.mobile.transitionFallbacks.turn = \"fade\";\n\n})( jQuery, this );\n\n\n(function( $, undefined ) {\n\n$.mobile.degradeInputs = {\n    color: false,\n    date: false,\n    datetime: false,\n    \"datetime-local\": false,\n    email: false,\n    month: false,\n    number: false,\n    range: \"number\",\n    search: \"text\",\n    tel: false,\n    time: false,\n    url: false,\n    week: false\n};\n// Backcompat remove in 1.5\n$.mobile.page.prototype.options.degradeInputs = $.mobile.degradeInputs;\n\n// Auto self-init widgets\n$.mobile.degradeInputsWithin = function( target ) {\n\n    target = $( target );\n\n    // Degrade inputs to avoid poorly implemented native functionality\n    target.find( \"input\" ).not( $.mobile.page.prototype.keepNativeSelector() ).each(function() {\n        var element = $( this ),\n            type = this.getAttribute( \"type\" ),\n            optType = $.mobile.degradeInputs[ type ] || \"text\",\n            html, hasType, findstr, repstr;\n\n        if ( $.mobile.degradeInputs[ type ] ) {\n            html = $( \"<div>\" ).html( element.clone() ).html();\n            // In IE browsers, the type sometimes doesn't exist in the cloned markup, so we replace the closing tag instead\n            hasType = html.indexOf( \" type=\" ) > -1;\n            findstr = hasType ? /\\s+type=[\"']?\\w+['\"]?/ : /\\/?>/;\n            repstr = \" type=\\\"\" + optType + \"\\\" data-\" + $.mobile.ns + \"type=\\\"\" + type + \"\\\"\" + ( hasType ? \"\" : \">\" );\n\n            element.replaceWith( html.replace( findstr, repstr ) );\n        }\n    });\n\n};\n\n})( jQuery );\n\n(function( $, window, undefined ) {\n\n$.widget( \"mobile.page\", $.mobile.page, {\n    options: {\n\n        // Accepts left, right and none\n        closeBtn: \"left\",\n        closeBtnText: \"Close\",\n        overlayTheme: \"a\",\n        corners: true,\n        dialog: false\n    },\n\n    _create: function() {\n        this._super();\n        if ( this.options.dialog ) {\n\n            $.extend( this, {\n                _inner: this.element.children(),\n                _headerCloseButton: null\n            });\n\n            if ( !this.options.enhanced ) {\n                this._setCloseBtn( this.options.closeBtn );\n            }\n        }\n    },\n\n    _enhance: function() {\n        this._super();\n\n        // Class the markup for dialog styling and wrap interior\n        if ( this.options.dialog ) {\n            this.element.addClass( \"ui-dialog\" )\n                .wrapInner( $( \"<div/>\", {\n\n                    // ARIA role\n                    \"role\" : \"dialog\",\n                    \"class\" : \"ui-dialog-contain ui-overlay-shadow\" +\n                        ( this.options.corners ? \" ui-corner-all\" : \"\" )\n                }));\n        }\n    },\n\n    _setOptions: function( options ) {\n        var closeButtonLocation, closeButtonText,\n            currentOpts = this.options;\n\n        if ( options.corners !== undefined ) {\n            this._inner.toggleClass( \"ui-corner-all\", !!options.corners );\n        }\n\n        if ( options.overlayTheme !== undefined ) {\n            if ( $.mobile.activePage[ 0 ] === this.element[ 0 ] ) {\n                currentOpts.overlayTheme = options.overlayTheme;\n                this._handlePageBeforeShow();\n            }\n        }\n\n        if ( options.closeBtnText !== undefined ) {\n            closeButtonLocation = currentOpts.closeBtn;\n            closeButtonText = options.closeBtnText;\n        }\n\n        if ( options.closeBtn !== undefined ) {\n            closeButtonLocation = options.closeBtn;\n        }\n\n        if ( closeButtonLocation ) {\n            this._setCloseBtn( closeButtonLocation, closeButtonText );\n        }\n\n        this._super( options );\n    },\n\n    _handlePageBeforeShow: function () {\n        if ( this.options.overlayTheme && this.options.dialog ) {\n            this.removeContainerBackground();\n            this.setContainerBackground( this.options.overlayTheme );\n        } else {\n            this._super();\n        }\n    },\n\n    _setCloseBtn: function( location, text ) {\n        var dst,\n            btn = this._headerCloseButton;\n\n        // Sanitize value\n        location = \"left\" === location ? \"left\" : \"right\" === location ? \"right\" : \"none\";\n\n        if ( \"none\" === location ) {\n            if ( btn ) {\n                btn.remove();\n                btn = null;\n            }\n        } else if ( btn ) {\n            btn.removeClass( \"ui-btn-left ui-btn-right\" ).addClass( \"ui-btn-\" + location );\n            if ( text ) {\n                btn.text( text );\n            }\n        } else {\n            dst = this._inner.find( \":jqmData(role='header')\" ).first();\n            btn = $( \"<a></a>\", {\n                    \"href\": \"#\",\n                    \"class\": \"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-\" + location\n                })\n                .attr( \"data-\" + $.mobile.ns + \"rel\", \"back\" )\n                .text( text || this.options.closeBtnText || \"\" )\n                .prependTo( dst );\n        }\n\n        this._headerCloseButton = btn;\n    }\n});\n\n})( jQuery, this );\n\n(function( $, window, undefined ) {\n\n$.widget( \"mobile.dialog\", {\n    options: {\n\n        // Accepts left, right and none\n        closeBtn: \"left\",\n        closeBtnText: \"Close\",\n        overlayTheme: \"a\",\n        corners: true\n    },\n\n    // Override the theme set by the page plugin on pageshow\n    _handlePageBeforeShow: function() {\n        this._isCloseable = true;\n        if ( this.options.overlayTheme ) {\n            this.element\n                .page( \"removeContainerBackground\" )\n                .page( \"setContainerBackground\", this.options.overlayTheme );\n        }\n    },\n\n    _handlePageBeforeHide: function() {\n        this._isCloseable = false;\n    },\n\n    // click and submit events:\n    // - clicks and submits should use the closing transition that the dialog\n    //   opened with unless a data-transition is specified on the link/form\n    // - if the click was on the close button, or the link has a data-rel=\"back\"\n    //   it'll go back in history naturally\n    _handleVClickSubmit: function( event ) {\n        var attrs,\n            $target = $( event.target ).closest( event.type === \"vclick\" ? \"a\" : \"form\" );\n\n        if ( $target.length && !$target.jqmData( \"transition\" ) ) {\n            attrs = {};\n            attrs[ \"data-\" + $.mobile.ns + \"transition\" ] =\n                ( $.mobile.navigate.history.getActive() || {} )[ \"transition\" ] ||\n                $.mobile.defaultDialogTransition;\n            attrs[ \"data-\" + $.mobile.ns + \"direction\" ] = \"reverse\";\n            $target.attr( attrs );\n        }\n    },\n\n    _create: function() {\n        var elem = this.element,\n            opts = this.options;\n\n        // Class the markup for dialog styling and wrap interior\n        elem.addClass( \"ui-dialog\" )\n            .wrapInner( $( \"<div/>\", {\n\n                // ARIA role\n                \"role\" : \"dialog\",\n                \"class\" : \"ui-dialog-contain ui-overlay-shadow\" +\n                    ( !!opts.corners ? \" ui-corner-all\" : \"\" )\n            }));\n\n        $.extend( this, {\n            _isCloseable: false,\n            _inner: elem.children(),\n            _headerCloseButton: null\n        });\n\n        this._on( elem, {\n            vclick: \"_handleVClickSubmit\",\n            submit: \"_handleVClickSubmit\",\n            pagebeforeshow: \"_handlePageBeforeShow\",\n            pagebeforehide: \"_handlePageBeforeHide\"\n        });\n\n        this._setCloseBtn( opts.closeBtn );\n    },\n\n    _setOptions: function( options ) {\n        var closeButtonLocation, closeButtonText,\n            currentOpts = this.options;\n\n        if ( options.corners !== undefined ) {\n            this._inner.toggleClass( \"ui-corner-all\", !!options.corners );\n        }\n\n        if ( options.overlayTheme !== undefined ) {\n            if ( $.mobile.activePage[ 0 ] === this.element[ 0 ] ) {\n                currentOpts.overlayTheme = options.overlayTheme;\n                this._handlePageBeforeShow();\n            }\n        }\n\n        if ( options.closeBtnText !== undefined ) {\n            closeButtonLocation = currentOpts.closeBtn;\n            closeButtonText = options.closeBtnText;\n        }\n\n        if ( options.closeBtn !== undefined ) {\n            closeButtonLocation = options.closeBtn;\n        }\n\n        if ( closeButtonLocation ) {\n            this._setCloseBtn( closeButtonLocation, closeButtonText );\n        }\n\n        this._super( options );\n    },\n\n    _setCloseBtn: function( location, text ) {\n        var dst,\n            btn = this._headerCloseButton;\n\n        // Sanitize value\n        location = \"left\" === location ? \"left\" : \"right\" === location ? \"right\" : \"none\";\n\n        if ( \"none\" === location ) {\n            if ( btn ) {\n                btn.remove();\n                btn = null;\n            }\n        } else if ( btn ) {\n            btn.removeClass( \"ui-btn-left ui-btn-right\" ).addClass( \"ui-btn-\" + location );\n            if ( text ) {\n                btn.text( text );\n            }\n        } else {\n            dst = this._inner.find( \":jqmData(role='header')\" ).first();\n            btn = $( \"<a></a>\", {\n                    \"role\": \"button\",\n                    \"href\": \"#\",\n                    \"class\": \"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-\" + location\n                })\n                .text( text || this.options.closeBtnText || \"\" )\n                .prependTo( dst );\n            this._on( btn, { click: \"close\" } );\n        }\n\n        this._headerCloseButton = btn;\n    },\n\n    // Close method goes back in history\n    close: function() {\n        var hist = $.mobile.navigate.history;\n\n        if ( this._isCloseable ) {\n            this._isCloseable = false;\n            // If the hash listening is enabled and there is at least one preceding history\n            // entry it's ok to go back. Initial pages with the dialog hash state are an example\n            // where the stack check is necessary\n            if ( $.mobile.hashListeningEnabled && hist.activeIndex > 0 ) {\n                $.mobile.back();\n            } else {\n                $.mobile.pageContainer.pagecontainer( \"back\" );\n            }\n        }\n    }\n});\n\n})( jQuery, this );\n\n(function( $, undefined ) {\n\nvar rInitialLetter = /([A-Z])/g,\n\n    // Construct iconpos class from iconpos value\n    iconposClass = function( iconpos ) {\n        return ( \"ui-btn-icon-\" + ( iconpos === null ? \"left\" : iconpos ) );\n    };\n\n$.widget( \"mobile.collapsible\", {\n    options: {\n        enhanced: false,\n        expandCueText: null,\n        collapseCueText: null,\n        collapsed: true,\n        heading: \"h1,h2,h3,h4,h5,h6,legend\",\n        collapsedIcon: null,\n        expandedIcon: null,\n        iconpos: null,\n        theme: null,\n        contentTheme: null,\n        inset: null,\n        corners: null,\n        mini: null\n    },\n\n    _create: function() {\n        var elem = this.element,\n            ui = {\n                accordion: elem\n                    .closest( \":jqmData(role='collapsible-set'),\" +\n                        \":jqmData(role='collapsibleset')\" +\n                        ( $.mobile.collapsibleset ? \", :mobile-collapsibleset\" :\n                            \"\" ) )\n                    .addClass( \"ui-collapsible-set\" )\n            };\n\n        this._ui = ui;\n        this._renderedOptions = this._getOptions( this.options );\n\n        if ( this.options.enhanced ) {\n            ui.heading = this.element.children( \".ui-collapsible-heading\" );\n            ui.content = ui.heading.next();\n            ui.anchor = ui.heading.children();\n            ui.status = ui.anchor.children( \".ui-collapsible-heading-status\" );\n        } else {\n            this._enhance( elem, ui );\n        }\n\n        this._on( ui.heading, {\n            \"tap\": function() {\n                ui.heading.find( \"a\" ).first().addClass( $.mobile.activeBtnClass );\n            },\n\n            \"click\": function( event ) {\n                this._handleExpandCollapse( !ui.heading.hasClass( \"ui-collapsible-heading-collapsed\" ) );\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n    },\n\n    // Adjust the keys inside options for inherited values\n    _getOptions: function( options ) {\n        var key,\n            accordion = this._ui.accordion,\n            accordionWidget = this._ui.accordionWidget;\n\n        // Copy options\n        options = $.extend( {}, options );\n\n        if ( accordion.length && !accordionWidget ) {\n            this._ui.accordionWidget =\n            accordionWidget = accordion.data( \"mobile-collapsibleset\" );\n        }\n\n        for ( key in options ) {\n\n            // Retrieve the option value first from the options object passed in and, if\n            // null, from the parent accordion or, if that's null too, or if there's no\n            // parent accordion, then from the defaults.\n            options[ key ] =\n                ( options[ key ] != null ) ? options[ key ] :\n                ( accordionWidget ) ? accordionWidget.options[ key ] :\n                accordion.length ? $.mobile.getAttribute( accordion[ 0 ],\n                    key.replace( rInitialLetter, \"-$1\" ).toLowerCase() ):\n                null;\n\n            if ( null == options[ key ] ) {\n                options[ key ] = $.mobile.collapsible.defaults[ key ];\n            }\n        }\n\n        return options;\n    },\n\n    _themeClassFromOption: function( prefix, value ) {\n        return ( value ? ( value === \"none\" ? \"\" : prefix + value ) : \"\" );\n    },\n\n    _enhance: function( elem, ui ) {\n        var iconclass,\n            opts = this._renderedOptions,\n            contentThemeClass = this._themeClassFromOption( \"ui-body-\", opts.contentTheme );\n\n        elem.addClass( \"ui-collapsible \" +\n            ( opts.inset ? \"ui-collapsible-inset \" : \"\" ) +\n            ( opts.inset && opts.corners ? \"ui-corner-all \" : \"\" ) +\n            ( contentThemeClass ? \"ui-collapsible-themed-content \" : \"\" ) );\n        ui.originalHeading = elem.children( this.options.heading ).first(),\n        ui.content = elem\n            .wrapInner( \"<div \" +\n                \"class='ui-collapsible-content \" +\n                contentThemeClass + \"'></div>\" )\n            .children( \".ui-collapsible-content\" ),\n        ui.heading = ui.originalHeading;\n\n        // Replace collapsibleHeading if it's a legend\n        if ( ui.heading.is( \"legend\" ) ) {\n            ui.heading = $( \"<div role='heading'>\"+ ui.heading.html() +\"</div>\" );\n            ui.placeholder = $( \"<div><!-- placeholder for legend --></div>\" ).insertBefore( ui.originalHeading );\n            ui.originalHeading.remove();\n        }\n\n        iconclass = ( opts.collapsed ? ( opts.collapsedIcon ? \"ui-icon-\" + opts.collapsedIcon : \"\" ):\n            ( opts.expandedIcon ? \"ui-icon-\" + opts.expandedIcon : \"\" ) );\n\n        ui.status = $( \"<span class='ui-collapsible-heading-status'></span>\" );\n        ui.anchor = ui.heading\n            .detach()\n            //modify markup & attributes\n            .addClass( \"ui-collapsible-heading\" )\n            .append( ui.status )\n            .wrapInner( \"<a href='#' class='ui-collapsible-heading-toggle'></a>\" )\n            .find( \"a\" )\n                .first()\n                .addClass( \"ui-btn \" +\n                    ( iconclass ? iconclass + \" \" : \"\" ) +\n                    ( iconclass ? iconposClass( opts.iconpos ) +\n                        \" \" : \"\" ) +\n                    this._themeClassFromOption( \"ui-btn-\", opts.theme ) + \" \" +\n                    ( opts.mini ? \"ui-mini \" : \"\" ) );\n\n        //drop heading in before content\n        ui.heading.insertBefore( ui.content );\n\n        this._handleExpandCollapse( this.options.collapsed );\n\n        return ui;\n    },\n\n    refresh: function() {\n        this._applyOptions( this.options );\n        this._renderedOptions = this._getOptions( this.options );\n    },\n\n    _applyOptions: function( options ) {\n        var isCollapsed, newTheme, oldTheme, hasCorners, hasIcon,\n            elem = this.element,\n            currentOpts = this._renderedOptions,\n            ui = this._ui,\n            anchor = ui.anchor,\n            status = ui.status,\n            opts = this._getOptions( options );\n\n        // First and foremost we need to make sure the collapsible is in the proper\n        // state, in case somebody decided to change the collapsed option at the\n        // same time as another option\n        if ( options.collapsed !== undefined ) {\n            this._handleExpandCollapse( options.collapsed );\n        }\n\n        isCollapsed = elem.hasClass( \"ui-collapsible-collapsed\" );\n\n        // We only need to apply the cue text for the current state right away.\n        // The cue text for the alternate state will be stored in the options\n        // and applied the next time the collapsible's state is toggled\n        if ( isCollapsed ) {\n            if ( opts.expandCueText !== undefined ) {\n                status.text( opts.expandCueText );\n            }\n        } else {\n            if ( opts.collapseCueText !== undefined ) {\n                status.text( opts.collapseCueText );\n            }\n        }\n\n        // Update icon\n\n        // Is it supposed to have an icon?\n        hasIcon =\n\n            // If the collapsedIcon is being set, consult that\n            ( opts.collapsedIcon !== undefined ? opts.collapsedIcon !== false :\n\n                // Otherwise consult the existing option value\n                currentOpts.collapsedIcon !== false );\n\n\n        // If any icon-related options have changed, make sure the new icon\n        // state is reflected by first removing all icon-related classes\n        // reflecting the current state and then adding all icon-related\n        // classes for the new state\n        if ( !( opts.iconpos === undefined &&\n            opts.collapsedIcon === undefined &&\n            opts.expandedIcon === undefined ) ) {\n\n            // Remove all current icon-related classes\n            anchor.removeClass( [ iconposClass( currentOpts.iconpos ) ]\n                .concat( ( currentOpts.expandedIcon ?\n                    [ \"ui-icon-\" + currentOpts.expandedIcon ] : [] ) )\n                .concat( ( currentOpts.collapsedIcon ?\n                    [ \"ui-icon-\" + currentOpts.collapsedIcon ] : [] ) )\n                .join( \" \" ) );\n\n            // Add new classes if an icon is supposed to be present\n            if ( hasIcon ) {\n                anchor.addClass(\n                    [ iconposClass( opts.iconpos !== undefined ?\n                        opts.iconpos : currentOpts.iconpos ) ]\n                        .concat( isCollapsed ?\n                            [ \"ui-icon-\" + ( opts.collapsedIcon !== undefined ?\n                                opts.collapsedIcon :\n                                currentOpts.collapsedIcon ) ] :\n                            [ \"ui-icon-\" + ( opts.expandedIcon !== undefined ?\n                                opts.expandedIcon :\n                                currentOpts.expandedIcon ) ] )\n                        .join( \" \" ) );\n            }\n        }\n\n        if ( opts.theme !== undefined ) {\n            oldTheme = this._themeClassFromOption( \"ui-btn-\", currentOpts.theme );\n            newTheme = this._themeClassFromOption( \"ui-btn-\", opts.theme );\n            anchor.removeClass( oldTheme ).addClass( newTheme );\n        }\n\n        if ( opts.contentTheme !== undefined ) {\n            oldTheme = this._themeClassFromOption( \"ui-body-\",\n                currentOpts.contentTheme );\n            newTheme = this._themeClassFromOption( \"ui-body-\",\n                opts.contentTheme );\n            ui.content.removeClass( oldTheme ).addClass( newTheme );\n        }\n\n        if ( opts.inset !== undefined ) {\n            elem.toggleClass( \"ui-collapsible-inset\", opts.inset );\n            hasCorners = !!( opts.inset && ( opts.corners || currentOpts.corners ) );\n        }\n\n        if ( opts.corners !== undefined ) {\n            hasCorners = !!( opts.corners && ( opts.inset || currentOpts.inset ) );\n        }\n\n        if ( hasCorners !== undefined ) {\n            elem.toggleClass( \"ui-corner-all\", hasCorners );\n        }\n\n        if ( opts.mini !== undefined ) {\n            anchor.toggleClass( \"ui-mini\", opts.mini );\n        }\n    },\n\n    _setOptions: function( options ) {\n        this._applyOptions( options );\n        this._super( options );\n        this._renderedOptions = this._getOptions( this.options );\n    },\n\n    _handleExpandCollapse: function( isCollapse ) {\n        var opts = this._renderedOptions,\n            ui = this._ui;\n\n        ui.status.text( isCollapse ? opts.expandCueText : opts.collapseCueText );\n        ui.heading\n            .toggleClass( \"ui-collapsible-heading-collapsed\", isCollapse )\n            .find( \"a\" ).first()\n            .toggleClass( \"ui-icon-\" + opts.expandedIcon, !isCollapse )\n\n            // logic or cause same icon for expanded/collapsed state would remove the ui-icon-class\n            .toggleClass( \"ui-icon-\" + opts.collapsedIcon, ( isCollapse || opts.expandedIcon === opts.collapsedIcon ) )\n            .removeClass( $.mobile.activeBtnClass );\n\n        this.element.toggleClass( \"ui-collapsible-collapsed\", isCollapse );\n        ui.content\n            .toggleClass( \"ui-collapsible-content-collapsed\", isCollapse )\n            .attr( \"aria-hidden\", isCollapse )\n            .trigger( \"updatelayout\" );\n        this.options.collapsed = isCollapse;\n        this._trigger( isCollapse ? \"collapse\" : \"expand\" );\n    },\n\n    expand: function() {\n        this._handleExpandCollapse( false );\n    },\n\n    collapse: function() {\n        this._handleExpandCollapse( true );\n    },\n\n    _destroy: function() {\n        var ui = this._ui,\n            opts = this.options;\n\n        if ( opts.enhanced ) {\n            return;\n        }\n\n        if ( ui.placeholder ) {\n            ui.originalHeading.insertBefore( ui.placeholder );\n            ui.placeholder.remove();\n            ui.heading.remove();\n        } else {\n            ui.status.remove();\n            ui.heading\n                .removeClass( \"ui-collapsible-heading ui-collapsible-heading-collapsed\" )\n                .children()\n                    .contents()\n                        .unwrap();\n        }\n\n        ui.anchor.contents().unwrap();\n        ui.content.contents().unwrap();\n        this.element\n            .removeClass( \"ui-collapsible ui-collapsible-collapsed \" +\n                \"ui-collapsible-themed-content ui-collapsible-inset ui-corner-all\" );\n    }\n});\n\n// Defaults to be used by all instances of collapsible if per-instance values\n// are unset or if nothing is specified by way of inheritance from an accordion.\n// Note that this hash does not contain options \"collapsed\" or \"heading\",\n// because those are not inheritable.\n$.mobile.collapsible.defaults = {\n    expandCueText: \" click to expand contents\",\n    collapseCueText: \" click to collapse contents\",\n    collapsedIcon: \"plus\",\n    contentTheme: \"inherit\",\n    expandedIcon: \"minus\",\n    iconpos: \"left\",\n    inset: true,\n    corners: true,\n    theme: \"inherit\",\n    mini: false\n};\n\n})( jQuery );\n\n(function( $, undefined ) {\n\nvar uiScreenHiddenRegex = /\\bui-screen-hidden\\b/;\nfunction noHiddenClass( elements ) {\n    var index,\n        length = elements.length,\n        result = [];\n\n    for ( index = 0; index < length; index++ ) {\n        if ( !elements[ index ].className.match( uiScreenHiddenRegex ) ) {\n            result.push( elements[ index ] );\n        }\n    }\n\n    return $( result );\n}\n\n$.mobile.behaviors.addFirstLastClasses = {\n    _getVisibles: function( $els, create ) {\n        var visibles;\n\n        if ( create ) {\n            visibles = noHiddenClass( $els );\n        } else {\n            visibles = $els.filter( \":visible\" );\n            if ( visibles.length === 0 ) {\n                visibles = noHiddenClass( $els );\n            }\n        }\n\n        return visibles;\n    },\n\n    _addFirstLastClasses: function( $els, $visibles, create ) {\n        $els.removeClass( \"ui-first-child ui-last-child\" );\n        $visibles.eq( 0 ).addClass( \"ui-first-child\" ).end().last().addClass( \"ui-last-child\" );\n        if ( !create ) {\n            this.element.trigger( \"updatelayout\" );\n        }\n    },\n\n    _removeFirstLastClasses: function( $els ) {\n        $els.removeClass( \"ui-first-child ui-last-child\" );\n    }\n};\n\n})( jQuery );\n\n(function( $, undefined ) {\n\nvar childCollapsiblesSelector = \":mobile-collapsible, \" + $.mobile.collapsible.initSelector;\n\n$.widget( \"mobile.collapsibleset\", $.extend( {\n\n    // The initSelector is deprecated as of 1.4.0. In 1.5.0 we will use\n    // :jqmData(role='collapsibleset') which will allow us to get rid of the line\n    // below altogether, because the autoinit will generate such an initSelector\n    initSelector: \":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')\",\n\n    options: $.extend( {\n        enhanced: false\n    }, $.mobile.collapsible.defaults ),\n\n    _handleCollapsibleExpand: function( event ) {\n        var closestCollapsible = $( event.target ).closest( \".ui-collapsible\" );\n\n        if ( closestCollapsible.parent().is( \":mobile-collapsibleset, :jqmData(role='collapsible-set')\" ) ) {\n            closestCollapsible\n                .siblings( \".ui-collapsible:not(.ui-collapsible-collapsed)\" )\n                .collapsible( \"collapse\" );\n        }\n    },\n\n    _create: function() {\n        var elem = this.element,\n            opts = this.options;\n\n        $.extend( this, {\n            _classes: \"\"\n        });\n\n        if ( !opts.enhanced ) {\n            elem.addClass( \"ui-collapsible-set \" +\n                this._themeClassFromOption( \"ui-group-theme-\", opts.theme ) + \" \" +\n                ( opts.corners && opts.inset ? \"ui-corner-all \" : \"\" ) );\n            this.element.find( $.mobile.collapsible.initSelector ).collapsible();\n        }\n\n        this._on( elem, { collapsibleexpand: \"_handleCollapsibleExpand\" } );\n    },\n\n    _themeClassFromOption: function( prefix, value ) {\n        return ( value ? ( value === \"none\" ? \"\" : prefix + value ) : \"\" );\n    },\n\n    _init: function() {\n        this._refresh( true );\n\n        // Because the corners are handled by the collapsible itself and the default state is collapsed\n        // That was causing https://github.com/jquery/jquery-mobile/issues/4116\n        this.element\n            .children( childCollapsiblesSelector )\n            .filter( \":jqmData(collapsed='false')\" )\n            .collapsible( \"expand\" );\n    },\n\n    _setOptions: function( options ) {\n        var ret, hasCorners,\n            elem = this.element,\n            themeClass = this._themeClassFromOption( \"ui-group-theme-\", options.theme );\n\n        if ( themeClass ) {\n            elem\n                .removeClass( this._themeClassFromOption( \"ui-group-theme-\", this.options.theme ) )\n                .addClass( themeClass );\n        }\n\n        if ( options.inset !== undefined ) {\n            hasCorners = !!( options.inset && ( options.corners || this.options.corners ) );\n        }\n\n        if ( options.corners !== undefined ) {\n            hasCorners = !!( options.corners && ( options.inset || this.options.inset ) );\n        }\n\n        if ( hasCorners !== undefined ) {\n            elem.toggleClass( \"ui-corner-all\", hasCorners );\n        }\n\n        ret = this._super( options );\n        this.element.children( \":mobile-collapsible\" ).collapsible( \"refresh\" );\n        return ret;\n    },\n\n    _destroy: function() {\n        var el = this.element;\n\n        this._removeFirstLastClasses( el.children( childCollapsiblesSelector ) );\n        el\n            .removeClass( \"ui-collapsible-set ui-corner-all \" +\n                this._themeClassFromOption( \"ui-group-theme-\", this.options.theme ) )\n            .children( \":mobile-collapsible\" )\n            .collapsible( \"destroy\" );\n    },\n\n    _refresh: function( create ) {\n        var collapsiblesInSet = this.element.children( childCollapsiblesSelector );\n\n        this.element.find( $.mobile.collapsible.initSelector ).not( \".ui-collapsible\" ).collapsible();\n\n        this._addFirstLastClasses( collapsiblesInSet, this._getVisibles( collapsiblesInSet, create ), create );\n    },\n\n    refresh: function() {\n        this._refresh( false );\n    }\n}, $.mobile.behaviors.addFirstLastClasses ) );\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n// Deprecated in 1.4\n$.fn.fieldcontain = function(/* options */) {\n    return this.addClass( \"ui-field-contain\" );\n};\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.fn.grid = function( options ) {\n    return this.each(function() {\n\n        var $this = $( this ),\n            o = $.extend({\n                grid: null\n            }, options ),\n            $kids = $this.children(),\n            gridCols = { solo:1, a:2, b:3, c:4, d:5 },\n            grid = o.grid,\n            iterator,\n            letter;\n\n            if ( !grid ) {\n                if ( $kids.length <= 5 ) {\n                    for ( letter in gridCols ) {\n                        if ( gridCols[ letter ] === $kids.length ) {\n                            grid = letter;\n                        }\n                    }\n                } else {\n                    grid = \"a\";\n                    $this.addClass( \"ui-grid-duo\" );\n                }\n            }\n            iterator = gridCols[grid];\n\n        $this.addClass( \"ui-grid-\" + grid );\n\n        $kids.filter( \":nth-child(\" + iterator + \"n+1)\" ).addClass( \"ui-block-a\" );\n\n        if ( iterator > 1 ) {\n            $kids.filter( \":nth-child(\" + iterator + \"n+2)\" ).addClass( \"ui-block-b\" );\n        }\n        if ( iterator > 2 ) {\n            $kids.filter( \":nth-child(\" + iterator + \"n+3)\" ).addClass( \"ui-block-c\" );\n        }\n        if ( iterator > 3 ) {\n            $kids.filter( \":nth-child(\" + iterator + \"n+4)\" ).addClass( \"ui-block-d\" );\n        }\n        if ( iterator > 4 ) {\n            $kids.filter( \":nth-child(\" + iterator + \"n+5)\" ).addClass( \"ui-block-e\" );\n        }\n    });\n};\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.navbar\", {\n    options: {\n        iconpos: \"top\",\n        grid: null\n    },\n\n    _create: function() {\n\n        var $navbar = this.element,\n            $navbtns = $navbar.find( \"a, button\" ),\n            iconpos = $navbtns.filter( \":jqmData(icon)\" ).length ? this.options.iconpos : undefined;\n\n        $navbar.addClass( \"ui-navbar\" )\n            .attr( \"role\", \"navigation\" )\n            .find( \"ul\" )\n            .jqmEnhanceable()\n            .grid({ grid: this.options.grid });\n\n        $navbtns\n            .each( function() {\n                var icon = $.mobile.getAttribute( this, \"icon\" ),\n                    theme = $.mobile.getAttribute( this, \"theme\" ),\n                    classes = \"ui-btn\";\n\n                if ( theme ) {\n                    classes += \" ui-btn-\" + theme;\n                }\n                if ( icon ) {\n                    classes += \" ui-icon-\" + icon + \" ui-btn-icon-\" + iconpos;\n                }\n                $( this ).addClass( classes );\n            });\n\n        $navbar.delegate( \"a\", \"vclick\", function( /* event */ ) {\n            var activeBtn = $( this );\n\n            if ( !( activeBtn.hasClass( \"ui-state-disabled\" ) ||\n\n                // DEPRECATED as of 1.4.0 - remove after 1.4.0 release\n                // only ui-state-disabled should be present thereafter\n                activeBtn.hasClass( \"ui-disabled\" ) ||\n                activeBtn.hasClass( $.mobile.activeBtnClass ) ) ) {\n\n                $navbtns.removeClass( $.mobile.activeBtnClass );\n                activeBtn.addClass( $.mobile.activeBtnClass );\n\n                // The code below is a workaround to fix #1181\n                $( document ).one( \"pagehide\", function() {\n                    activeBtn.removeClass( $.mobile.activeBtnClass );\n                });\n            }\n        });\n\n        // Buttons in the navbar with ui-state-persist class should regain their active state before page show\n        $navbar.closest( \".ui-page\" ).bind( \"pagebeforeshow\", function() {\n            $navbtns.filter( \".ui-state-persist\" ).addClass( $.mobile.activeBtnClass );\n        });\n    }\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\nvar getAttr = $.mobile.getAttribute;\n\n$.widget( \"mobile.listview\", $.extend( {\n\n    options: {\n        theme: null,\n        countTheme: null, /* Deprecated in 1.4 */\n        dividerTheme: null,\n        icon: \"carat-r\",\n        splitIcon: \"carat-r\",\n        splitTheme: null,\n        corners: true,\n        shadow: true,\n        inset: false\n    },\n\n    _create: function() {\n        var t = this,\n            listviewClasses = \"\";\n\n        listviewClasses += t.options.inset ? \" ui-listview-inset\" : \"\";\n\n        if ( !!t.options.inset ) {\n            listviewClasses += t.options.corners ? \" ui-corner-all\" : \"\";\n            listviewClasses += t.options.shadow ? \" ui-shadow\" : \"\";\n        }\n\n        // create listview markup\n        t.element.addClass( \" ui-listview\" + listviewClasses );\n\n        t.refresh( true );\n    },\n\n    // TODO: Remove in 1.5\n    _findFirstElementByTagName: function( ele, nextProp, lcName, ucName ) {\n        var dict = {};\n        dict[ lcName ] = dict[ ucName ] = true;\n        while ( ele ) {\n            if ( dict[ ele.nodeName ] ) {\n                return ele;\n            }\n            ele = ele[ nextProp ];\n        }\n        return null;\n    },\n    // TODO: Remove in 1.5\n    _addThumbClasses: function( containers ) {\n        var i, img, len = containers.length;\n        for ( i = 0; i < len; i++ ) {\n            img = $( this._findFirstElementByTagName( containers[ i ].firstChild, \"nextSibling\", \"img\", \"IMG\" ) );\n            if ( img.length ) {\n                $( this._findFirstElementByTagName( img[ 0 ].parentNode, \"parentNode\", \"li\", \"LI\" ) ).addClass( img.hasClass( \"ui-li-icon\" ) ? \"ui-li-has-icon\" : \"ui-li-has-thumb\" );\n            }\n        }\n    },\n\n    _getChildrenByTagName: function( ele, lcName, ucName ) {\n        var results = [],\n            dict = {};\n        dict[ lcName ] = dict[ ucName ] = true;\n        ele = ele.firstChild;\n        while ( ele ) {\n            if ( dict[ ele.nodeName ] ) {\n                results.push( ele );\n            }\n            ele = ele.nextSibling;\n        }\n        return $( results );\n    },\n\n    _beforeListviewRefresh: $.noop,\n    _afterListviewRefresh: $.noop,\n\n    refresh: function( create ) {\n        var buttonClass, pos, numli, item, itemClass, itemTheme, itemIcon, icon, a,\n            isDivider, startCount, newStartCount, value, last, splittheme, splitThemeClass, spliticon,\n            altButtonClass, dividerTheme, li,\n            o = this.options,\n            $list = this.element,\n            ol = !!$.nodeName( $list[ 0 ], \"ol\" ),\n            start = $list.attr( \"start\" ),\n            itemClassDict = {},\n            countBubbles = $list.find( \".ui-li-count\" ),\n            countTheme = getAttr( $list[ 0 ], \"counttheme\" ) || this.options.countTheme,\n            countThemeClass = countTheme ? \"ui-body-\" + countTheme : \"ui-body-inherit\";\n\n        if ( o.theme ) {\n            $list.addClass( \"ui-group-theme-\" + o.theme );\n        }\n\n        // Check if a start attribute has been set while taking a value of 0 into account\n        if ( ol && ( start || start === 0 ) ) {\n            startCount = parseInt( start, 10 ) - 1;\n            $list.css( \"counter-reset\", \"listnumbering \" + startCount );\n        }\n\n        this._beforeListviewRefresh();\n\n        li = this._getChildrenByTagName( $list[ 0 ], \"li\", \"LI\" );\n\n        for ( pos = 0, numli = li.length; pos < numli; pos++ ) {\n            item = li.eq( pos );\n            itemClass = \"\";\n\n            if ( create || item[ 0 ].className.search( /\\bui-li-static\\b|\\bui-li-divider\\b/ ) < 0 ) {\n                a = this._getChildrenByTagName( item[ 0 ], \"a\", \"A\" );\n                isDivider = ( getAttr( item[ 0 ], \"role\" ) === \"list-divider\" );\n                value = item.attr( \"value\" );\n                itemTheme = getAttr( item[ 0 ], \"theme\" );\n\n                if ( a.length && a[ 0 ].className.search( /\\bui-btn\\b/ ) < 0 && !isDivider ) {\n                    itemIcon = getAttr( item[ 0 ], \"icon\" );\n                    icon = ( itemIcon === false ) ? false : ( itemIcon || o.icon );\n\n                    // TODO: Remove in 1.5 together with links.js (links.js / .ui-link deprecated in 1.4)\n                    a.removeClass( \"ui-link\" );\n\n                    buttonClass = \"ui-btn\";\n\n                    if ( itemTheme ) {\n                        buttonClass += \" ui-btn-\" + itemTheme;\n                    }\n\n                    if ( a.length > 1 ) {\n                        itemClass = \"ui-li-has-alt\";\n\n                        last = a.last();\n                        splittheme = getAttr( last[ 0 ], \"theme\" ) || o.splitTheme || getAttr( item[ 0 ], \"theme\", true );\n                        splitThemeClass = splittheme ? \" ui-btn-\" + splittheme : \"\";\n                        spliticon = getAttr( last[ 0 ], \"icon\" ) || getAttr( item[ 0 ], \"icon\" ) || o.splitIcon;\n                        altButtonClass = \"ui-btn ui-btn-icon-notext ui-icon-\" + spliticon + splitThemeClass;\n\n                        last\n                            .attr( \"title\", $.trim( last.getEncodedText() ) )\n                            .addClass( altButtonClass )\n                            .empty();\n\n                        // Reduce to the first anchor, because only the first gets the buttonClass\n                        a = a.first();\n                    } else if ( icon ) {\n                        buttonClass += \" ui-btn-icon-right ui-icon-\" + icon;\n                    }\n\n                    // Apply buttonClass to the (first) anchor\n                    a.addClass( buttonClass );\n                } else if ( isDivider ) {\n                    dividerTheme = ( getAttr( item[ 0 ], \"theme\" ) || o.dividerTheme || o.theme );\n\n                    itemClass = \"ui-li-divider ui-bar-\" + ( dividerTheme ? dividerTheme : \"inherit\" );\n\n                    item.attr( \"role\", \"heading\" );\n                } else if ( a.length <= 0 ) {\n                    itemClass = \"ui-li-static ui-body-\" + ( itemTheme ? itemTheme : \"inherit\" );\n                }\n                if ( ol && value ) {\n                    newStartCount = parseInt( value , 10 ) - 1;\n\n                    item.css( \"counter-reset\", \"listnumbering \" + newStartCount );\n                }\n            }\n\n            // Instead of setting item class directly on the list item\n            // at this point in time, push the item into a dictionary\n            // that tells us what class to set on it so we can do this after this\n            // processing loop is finished.\n\n            if ( !itemClassDict[ itemClass ] ) {\n                itemClassDict[ itemClass ] = [];\n            }\n\n            itemClassDict[ itemClass ].push( item[ 0 ] );\n        }\n\n        // Set the appropriate listview item classes on each list item.\n        // The main reason we didn't do this\n        // in the for-loop above is because we can eliminate per-item function overhead\n        // by calling addClass() and children() once or twice afterwards. This\n        // can give us a significant boost on platforms like WP7.5.\n\n        for ( itemClass in itemClassDict ) {\n            $( itemClassDict[ itemClass ] ).addClass( itemClass );\n        }\n\n        countBubbles.each( function() {\n            $( this ).closest( \"li\" ).addClass( \"ui-li-has-count\" );\n        });\n        if ( countThemeClass ) {\n            countBubbles.not( \"[class*='ui-body-']\" ).addClass( countThemeClass );\n        }\n\n        // Deprecated in 1.4. From 1.5 you have to add class ui-li-has-thumb or ui-li-has-icon to the LI.\n        this._addThumbClasses( li );\n        this._addThumbClasses( li.find( \".ui-btn\" ) );\n\n        this._afterListviewRefresh();\n\n        this._addFirstLastClasses( li, this._getVisibles( li, create ), create );\n    }\n}, $.mobile.behaviors.addFirstLastClasses ) );\n\n})( jQuery );\n\n(function( $, undefined ) {\n\nfunction defaultAutodividersSelector( elt ) {\n    // look for the text in the given element\n    var text = $.trim( elt.text() ) || null;\n\n    if ( !text ) {\n        return null;\n    }\n\n    // create the text for the divider (first uppercased letter)\n    text = text.slice( 0, 1 ).toUpperCase();\n\n    return text;\n}\n\n$.widget( \"mobile.listview\", $.mobile.listview, {\n    options: {\n        autodividers: false,\n        autodividersSelector: defaultAutodividersSelector\n    },\n\n    _beforeListviewRefresh: function() {\n        if ( this.options.autodividers ) {\n            this._replaceDividers();\n            this._superApply( arguments );\n        }\n    },\n\n    _replaceDividers: function() {\n        var i, lis, li, dividerText,\n            lastDividerText = null,\n            list = this.element,\n            divider;\n\n        list.children( \"li:jqmData(role='list-divider')\" ).remove();\n\n        lis = list.children( \"li\" );\n\n        for ( i = 0; i < lis.length ; i++ ) {\n            li = lis[ i ];\n            dividerText = this.options.autodividersSelector( $( li ) );\n\n            if ( dividerText && lastDividerText !== dividerText ) {\n                divider = document.createElement( \"li\" );\n                divider.appendChild( document.createTextNode( dividerText ) );\n                divider.setAttribute( \"data-\" + $.mobile.ns + \"role\", \"list-divider\" );\n                li.parentNode.insertBefore( divider, li );\n            }\n\n            lastDividerText = dividerText;\n        }\n    }\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\nvar rdivider = /(^|\\s)ui-li-divider($|\\s)/,\n    rhidden = /(^|\\s)ui-screen-hidden($|\\s)/;\n\n$.widget( \"mobile.listview\", $.mobile.listview, {\n    options: {\n        hideDividers: false\n    },\n\n    _afterListviewRefresh: function() {\n        var items, idx, item, hideDivider = true;\n\n        this._superApply( arguments );\n\n        if ( this.options.hideDividers ) {\n            items = this._getChildrenByTagName( this.element[ 0 ], \"li\", \"LI\" );\n            for ( idx = items.length - 1 ; idx > -1 ; idx-- ) {\n                item = items[ idx ];\n                if ( item.className.match( rdivider ) ) {\n                    if ( hideDivider ) {\n                        item.className = item.className + \" ui-screen-hidden\";\n                    }\n                    hideDivider = true;\n                } else {\n                    if ( !item.className.match( rhidden ) ) {\n                        hideDivider = false;\n                    }\n                }\n            }\n        }\n    }\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.mobile.nojs = function( target ) {\n    $( \":jqmData(role='nojs')\", target ).addClass( \"ui-nojs\" );\n};\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.mobile.behaviors.formReset = {\n    _handleFormReset: function() {\n        this._on( this.element.closest( \"form\" ), {\n            reset: function() {\n                this._delay( \"_reset\" );\n            }\n        });\n    }\n};\n\n})( jQuery );\n\n/*\n* \"checkboxradio\" plugin\n*/\n\n(function( $, undefined ) {\n\nvar escapeId = $.mobile.path.hashToSelector;\n\n$.widget( \"mobile.checkboxradio\", $.extend( {\n\n    initSelector: \"input:not( :jqmData(role='flipswitch' ) )[type='checkbox'],input[type='radio']:not( :jqmData(role='flipswitch' ))\",\n\n    options: {\n        theme: \"inherit\",\n        mini: false,\n        wrapperClass: null,\n        enhanced: false,\n        iconpos: \"left\"\n\n    },\n    _create: function() {\n        var input = this.element,\n            o = this.options,\n            inheritAttr = function( input, dataAttr ) {\n                return input.jqmData( dataAttr ) ||\n                    input.closest( \"form, fieldset\" ).jqmData( dataAttr );\n            },\n            label = this.options.enhanced ?\n                {\n                    element: this.element.siblings( \"label\" ),\n                    isParent: false\n                } :\n                this._findLabel(),\n            inputtype = input[0].type,\n            checkedClass = \"ui-\" + inputtype + \"-on\",\n            uncheckedClass = \"ui-\" + inputtype + \"-off\";\n\n        if ( inputtype !== \"checkbox\" && inputtype !== \"radio\" ) {\n            return;\n        }\n\n        if ( this.element[0].disabled ) {\n            this.options.disabled = true;\n        }\n\n        o.iconpos = inheritAttr( input, \"iconpos\" ) ||\n            label.element.attr( \"data-\" + $.mobile.ns + \"iconpos\" ) || o.iconpos,\n\n        // Establish options\n        o.mini = inheritAttr( input, \"mini\" ) || o.mini;\n\n        // Expose for other methods\n        $.extend( this, {\n            input: input,\n            label: label.element,\n            labelIsParent: label.isParent,\n            inputtype: inputtype,\n            checkedClass: checkedClass,\n            uncheckedClass: uncheckedClass\n        });\n\n        if ( !this.options.enhanced ) {\n            this._enhance();\n        }\n\n        this._on( label.element, {\n            vmouseover: \"_handleLabelVMouseOver\",\n            vclick: \"_handleLabelVClick\"\n        });\n\n        this._on( input, {\n            vmousedown: \"_cacheVals\",\n            vclick: \"_handleInputVClick\",\n            focus: \"_handleInputFocus\",\n            blur: \"_handleInputBlur\"\n        });\n\n        this._handleFormReset();\n        this.refresh();\n    },\n\n    _findLabel: function() {\n        var parentLabel, label, isParent,\n            input = this.element,\n            labelsList = input[ 0 ].labels;\n\n        if( labelsList && labelsList.length > 0 ) {\n            label = $( labelsList[ 0 ] );\n            isParent = $.contains( label[ 0 ], input[ 0 ] );\n        } else {\n            parentLabel = input.closest( \"label\" );\n            isParent = ( parentLabel.length > 0 );\n\n            // NOTE: Windows Phone could not find the label through a selector\n            // filter works though.\n            label = isParent ? parentLabel :\n                $( this.document[ 0 ].getElementsByTagName( \"label\" ) )\n                    .filter( \"[for='\" + escapeId( input[ 0 ].id ) + \"']\" )\n                    .first();\n        }\n\n        return {\n            element: label,\n            isParent: isParent\n        };\n    },\n\n    _enhance: function() {\n        this.label.addClass( \"ui-btn ui-corner-all\");\n\n        if ( this.labelIsParent ) {\n            this.input.add( this.label ).wrapAll( this._wrapper() );\n        } else {\n            //this.element.replaceWith( this.input.add( this.label ).wrapAll( this._wrapper() ) );\n            this.element.wrap( this._wrapper() );\n            this.element.parent().prepend( this.label );\n        }\n\n        // Wrap the input + label in a div\n\n        this._setOptions({\n            \"theme\": this.options.theme,\n            \"iconpos\": this.options.iconpos,\n            \"mini\": this.options.mini\n        });\n\n    },\n\n    _wrapper: function() {\n        return $( \"<div class='\"  +\n            ( this.options.wrapperClass ? this.options.wrapperClass : \"\" ) +\n            \" ui-\" + this.inputtype +\n            ( this.options.disabled ? \" ui-state-disabled\" : \"\" ) + \"' ></div>\" );\n    },\n\n    _handleInputFocus: function() {\n        this.label.addClass( $.mobile.focusClass );\n    },\n\n    _handleInputBlur: function() {\n        this.label.removeClass( $.mobile.focusClass );\n    },\n\n    _handleInputVClick: function() {\n        // Adds checked attribute to checked input when keyboard is used\n        this.element.prop( \"checked\", this.element.is( \":checked\" ) );\n        this._getInputSet().not( this.element ).prop( \"checked\", false );\n        this._updateAll( true );\n    },\n\n    _handleLabelVMouseOver: function( event ) {\n        if ( this.label.parent().hasClass( \"ui-state-disabled\" ) ) {\n            event.stopPropagation();\n        }\n    },\n\n    _handleLabelVClick: function( event ) {\n        var input = this.element;\n\n        if ( input.is( \":disabled\" ) ) {\n            event.preventDefault();\n            return;\n        }\n\n        this._cacheVals();\n\n        input.prop( \"checked\", this.inputtype === \"radio\" && true || !input.prop( \"checked\" ) );\n\n        // trigger click handler's bound directly to the input as a substitute for\n        // how label clicks behave normally in the browsers\n        // TODO: it would be nice to let the browser's handle the clicks and pass them\n        //       through to the associate input. we can swallow that click at the parent\n        //       wrapper element level\n        input.triggerHandler( \"click\" );\n\n        // Input set for common radio buttons will contain all the radio\n        // buttons, but will not for checkboxes. clearing the checked status\n        // of other radios ensures the active button state is applied properly\n        this._getInputSet().not( input ).prop( \"checked\", false );\n\n        this._updateAll();\n        return false;\n    },\n\n    _cacheVals: function() {\n        this._getInputSet().each( function() {\n            $( this ).attr(\"data-\" + $.mobile.ns + \"cacheVal\", this.checked );\n        });\n    },\n\n    // Returns those radio buttons that are supposed to be in the same group as\n    // this radio button. In the case of a checkbox or a radio lacking a name\n    // attribute, it returns this.element.\n    _getInputSet: function() {\n        var selector, formId,\n            radio = this.element[ 0 ],\n            name = radio.name,\n            form = radio.form,\n            doc = this.element.parents().last().get( 0 ),\n\n            // A radio is always a member of its own group\n            radios = this.element;\n\n        // Only start running selectors if this is an attached radio button with a name\n        if ( name && this.inputtype === \"radio\" && doc ) {\n            selector = \"input[type='radio'][name='\" + escapeId( name ) + \"']\";\n\n            // If we're inside a form\n            if ( form ) {\n                formId = form.getAttribute( \"id\" );\n\n                // If the form has an ID, collect radios scattered throught the document which\n                // nevertheless are part of the form by way of the value of their form attribute\n                if ( formId ) {\n                    radios = $( selector + \"[form='\" + escapeId( formId ) + \"']\", doc );\n                }\n\n                // Also add to those the radios in the form itself\n                radios = $( form ).find( selector ).filter( function() {\n\n                    // Some radios inside the form may belong to some other form by virtue of\n                    // having a form attribute defined on them, so we must filter them out here\n                    return ( this.form === form );\n                }).add( radios );\n\n            // If we're outside a form\n            } else {\n\n                // Collect all those radios which are also outside of a form and match our name\n                radios = $( selector, doc ).filter( function() {\n                    return !this.form;\n                });\n            }\n        }\n        return radios;\n    },\n\n    _updateAll: function( changeTriggered ) {\n        var self = this;\n\n        this._getInputSet().each( function() {\n            var $this = $( this );\n\n            if ( ( this.checked || self.inputtype === \"checkbox\" ) && !changeTriggered ) {\n                $this.trigger( \"change\" );\n            }\n        })\n        .checkboxradio( \"refresh\" );\n    },\n\n    _reset: function() {\n        this.refresh();\n    },\n\n    // Is the widget supposed to display an icon?\n    _hasIcon: function() {\n        var controlgroup, controlgroupWidget,\n            controlgroupConstructor = $.mobile.controlgroup;\n\n        // If the controlgroup widget is defined ...\n        if ( controlgroupConstructor ) {\n            controlgroup = this.element.closest(\n                \":mobile-controlgroup,\" +\n                controlgroupConstructor.prototype.initSelector );\n\n            // ... and the checkbox is in a controlgroup ...\n            if ( controlgroup.length > 0 ) {\n\n                // ... look for a controlgroup widget instance, and ...\n                controlgroupWidget = $.data( controlgroup[ 0 ], \"mobile-controlgroup\" );\n\n                // ... if found, decide based on the option value, ...\n                return ( ( controlgroupWidget ? controlgroupWidget.options.type :\n\n                    // ... otherwise decide based on the \"type\" data attribute.\n                    controlgroup.attr( \"data-\" + $.mobile.ns + \"type\" ) ) !== \"horizontal\" );\n            }\n        }\n\n        // Normally, the widget displays an icon.\n        return true;\n    },\n\n    refresh: function() {\n        var isChecked = this.element[ 0 ].checked,\n            active = $.mobile.activeBtnClass,\n            iconposClass = \"ui-btn-icon-\" + this.options.iconpos,\n            addClasses = [],\n            removeClasses = [];\n\n        if ( this._hasIcon() ) {\n            removeClasses.push( active );\n            addClasses.push( iconposClass );\n        } else {\n            removeClasses.push( iconposClass );\n            ( isChecked ? addClasses : removeClasses ).push( active );\n        }\n\n        if ( isChecked ) {\n            addClasses.push( this.checkedClass );\n            removeClasses.push( this.uncheckedClass );\n        } else {\n            addClasses.push( this.uncheckedClass );\n            removeClasses.push( this.checkedClass );\n        }\n\n        this.widget().toggleClass( \"ui-state-disabled\", this.element.prop( \"disabled\" ) );\n\n        this.label\n            .addClass( addClasses.join( \" \" ) )\n            .removeClass( removeClasses.join( \" \" ) );\n    },\n\n    widget: function() {\n        return this.label.parent();\n    },\n\n    _setOptions: function( options ) {\n        var label = this.label,\n            currentOptions = this.options,\n            outer = this.widget(),\n            hasIcon = this._hasIcon();\n\n        if ( options.disabled !== undefined ) {\n            this.input.prop( \"disabled\", !!options.disabled );\n            outer.toggleClass( \"ui-state-disabled\", !!options.disabled );\n        }\n        if ( options.mini !== undefined ) {\n            outer.toggleClass( \"ui-mini\", !!options.mini );\n        }\n        if ( options.theme !== undefined ) {\n            label\n                .removeClass( \"ui-btn-\" + currentOptions.theme )\n                .addClass( \"ui-btn-\" + options.theme );\n        }\n        if ( options.wrapperClass !== undefined ) {\n            outer\n                .removeClass( currentOptions.wrapperClass )\n                .addClass( options.wrapperClass );\n        }\n        if ( options.iconpos !== undefined && hasIcon ) {\n            label.removeClass( \"ui-btn-icon-\" + currentOptions.iconpos ).addClass( \"ui-btn-icon-\" + options.iconpos );\n        } else if ( !hasIcon ) {\n            label.removeClass( \"ui-btn-icon-\" + currentOptions.iconpos );\n        }\n        this._super( options );\n    }\n\n}, $.mobile.behaviors.formReset ) );\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.button\", {\n\n    initSelector: \"input[type='button'], input[type='submit'], input[type='reset']\",\n\n    options: {\n        theme: null,\n        icon: null,\n        iconpos: \"left\",\n        iconshadow: false, /* TODO: Deprecated in 1.4, remove in 1.5. */\n        corners: true,\n        shadow: true,\n        inline: null,\n        mini: null,\n        wrapperClass: null,\n        enhanced: false\n    },\n\n    _create: function() {\n\n        if ( this.element.is( \":disabled\" ) ) {\n            this.options.disabled = true;\n        }\n\n        if ( !this.options.enhanced ) {\n            this._enhance();\n        }\n\n        $.extend( this, {\n            wrapper: this.element.parent()\n        });\n\n        this._on( {\n            focus: function() {\n                this.widget().addClass( $.mobile.focusClass );\n            },\n\n            blur: function() {\n                this.widget().removeClass( $.mobile.focusClass );\n            }\n        });\n\n        this.refresh( true );\n    },\n\n    _enhance: function() {\n        this.element.wrap( this._button() );\n    },\n\n    _button: function() {\n        var options = this.options,\n            iconClasses = this._getIconClasses( this.options );\n\n        return $(\"<div class='ui-btn ui-input-btn\" +\n            ( options.wrapperClass ? \" \" + options.wrapperClass : \"\" ) +\n            ( options.theme ? \" ui-btn-\" + options.theme : \"\" ) +\n            ( options.corners ? \" ui-corner-all\" : \"\" ) +\n            ( options.shadow ? \" ui-shadow\" : \"\" ) +\n            ( options.inline ? \" ui-btn-inline\" : \"\" ) +\n            ( options.mini ? \" ui-mini\" : \"\" ) +\n            ( options.disabled ? \" ui-state-disabled\" : \"\" ) +\n            ( iconClasses ? ( \" \" + iconClasses ) : \"\" ) +\n            \"' >\" + this.element.val() + \"</div>\" );\n    },\n\n    widget: function() {\n        return this.wrapper;\n    },\n\n    _destroy: function() {\n            this.element.insertBefore( this.wrapper );\n            this.wrapper.remove();\n    },\n\n    _getIconClasses: function( options ) {\n        return ( options.icon ? ( \"ui-icon-\" + options.icon +\n            ( options.iconshadow ? \" ui-shadow-icon\" : \"\" ) + /* TODO: Deprecated in 1.4, remove in 1.5. */\n            \" ui-btn-icon-\" + options.iconpos ) : \"\" );\n    },\n\n    _setOptions: function( options ) {\n        var outer = this.widget();\n\n        if ( options.theme !== undefined ) {\n            outer\n                .removeClass( this.options.theme )\n                .addClass( \"ui-btn-\" + options.theme );\n        }\n        if ( options.corners !== undefined ) {\n            outer.toggleClass( \"ui-corner-all\", options.corners );\n        }\n        if ( options.shadow !== undefined ) {\n            outer.toggleClass( \"ui-shadow\", options.shadow );\n        }\n        if ( options.inline !== undefined ) {\n            outer.toggleClass( \"ui-btn-inline\", options.inline );\n        }\n        if ( options.mini !== undefined ) {\n            outer.toggleClass( \"ui-mini\", options.mini );\n        }\n        if ( options.disabled !== undefined ) {\n            this.element.prop( \"disabled\", options.disabled );\n            outer.toggleClass( \"ui-state-disabled\", options.disabled );\n        }\n\n        if ( options.icon !== undefined ||\n                options.iconshadow !== undefined || /* TODO: Deprecated in 1.4, remove in 1.5. */\n                options.iconpos !== undefined ) {\n            outer\n                .removeClass( this._getIconClasses( this.options ) )\n                .addClass( this._getIconClasses(\n                    $.extend( {}, this.options, options ) ) );\n        }\n\n        this._super( options );\n    },\n\n    refresh: function( create ) {\n        var originalElement,\n            isDisabled = this.element.prop( \"disabled\" );\n\n        if ( this.options.icon && this.options.iconpos === \"notext\" && this.element.attr( \"title\" ) ) {\n            this.element.attr( \"title\", this.element.val() );\n        }\n        if ( !create ) {\n            originalElement = this.element.detach();\n            $( this.wrapper ).text( this.element.val() ).append( originalElement );\n        }\n        if ( this.options.disabled !== isDisabled ) {\n            this._setOptions({ disabled: isDisabled });\n        }\n    }\n});\n\n})( jQuery );\n\n(function( $ ) {\n    var    meta = $( \"meta[name=viewport]\" ),\n        initialContent = meta.attr( \"content\" ),\n        disabledZoom = initialContent + \",maximum-scale=1, user-scalable=no\",\n        enabledZoom = initialContent + \",maximum-scale=10, user-scalable=yes\",\n        disabledInitially = /(user-scalable[\\s]*=[\\s]*no)|(maximum-scale[\\s]*=[\\s]*1)[$,\\s]/.test( initialContent );\n\n    $.mobile.zoom = $.extend( {}, {\n        enabled: !disabledInitially,\n        locked: false,\n        disable: function( lock ) {\n            if ( !disabledInitially && !$.mobile.zoom.locked ) {\n                meta.attr( \"content\", disabledZoom );\n                $.mobile.zoom.enabled = false;\n                $.mobile.zoom.locked = lock || false;\n            }\n        },\n        enable: function( unlock ) {\n            if ( !disabledInitially && ( !$.mobile.zoom.locked || unlock === true ) ) {\n                meta.attr( \"content\", enabledZoom );\n                $.mobile.zoom.enabled = true;\n                $.mobile.zoom.locked = false;\n            }\n        },\n        restore: function() {\n            if ( !disabledInitially ) {\n                meta.attr( \"content\", initialContent );\n                $.mobile.zoom.enabled = true;\n            }\n        }\n    });\n\n}( jQuery ));\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.textinput\", {\n    initSelector: \"input[type='text'],\" +\n        \"input[type='search'],\" +\n        \":jqmData(type='search'),\" +\n        \"input[type='number'],\" +\n        \":jqmData(type='number'),\" +\n        \"input[type='password'],\" +\n        \"input[type='email'],\" +\n        \"input[type='url'],\" +\n        \"input[type='tel'],\" +\n        \"textarea,\" +\n        \"input[type='time'],\" +\n        \"input[type='date'],\" +\n        \"input[type='month'],\" +\n        \"input[type='week'],\" +\n        \"input[type='datetime'],\" +\n        \"input[type='datetime-local'],\" +\n        \"input[type='color'],\" +\n        \"input:not([type]),\" +\n        \"input[type='file']\",\n\n    options: {\n        theme: null,\n        corners: true,\n        mini: false,\n        // This option defaults to true on iOS devices.\n        preventFocusZoom: /iPhone|iPad|iPod/.test( navigator.platform ) && navigator.userAgent.indexOf( \"AppleWebKit\" ) > -1,\n        wrapperClass: \"\",\n        enhanced: false\n    },\n\n    _create: function() {\n\n        var options = this.options,\n            isSearch = this.element.is( \"[type='search'], :jqmData(type='search')\" ),\n            isTextarea = this.element[ 0 ].tagName === \"TEXTAREA\",\n            isRange = this.element.is( \"[data-\" + ( $.mobile.ns || \"\" ) + \"type='range']\" ),\n            inputNeedsWrap = ( (this.element.is( \"input\" ) ||\n                this.element.is( \"[data-\" + ( $.mobile.ns || \"\" ) + \"type='search']\" ) ) &&\n                    !isRange );\n\n        if ( this.element.prop( \"disabled\" ) ) {\n            options.disabled = true;\n        }\n\n        $.extend( this, {\n            classes: this._classesFromOptions(),\n            isSearch: isSearch,\n            isTextarea: isTextarea,\n            isRange: isRange,\n            inputNeedsWrap: inputNeedsWrap\n        });\n\n        this._autoCorrect();\n\n        if ( !options.enhanced ) {\n            this._enhance();\n        }\n\n        this._on( {\n            \"focus\": \"_handleFocus\",\n            \"blur\": \"_handleBlur\"\n        });\n\n    },\n\n    refresh: function() {\n        this.setOptions({\n            \"disabled\" : this.element.is( \":disabled\" )\n        });\n    },\n\n    _enhance: function() {\n        var elementClasses = [];\n\n        if ( this.isTextarea ) {\n            elementClasses.push( \"ui-input-text\" );\n        }\n\n        if ( this.isTextarea || this.isRange ) {\n            elementClasses.push( \"ui-shadow-inset\" );\n        }\n\n        //\"search\" and \"text\" input widgets\n        if ( this.inputNeedsWrap ) {\n            this.element.wrap( this._wrap() );\n        } else {\n            elementClasses = elementClasses.concat( this.classes );\n        }\n\n        this.element.addClass( elementClasses.join( \" \" ) );\n    },\n\n    widget: function() {\n        return ( this.inputNeedsWrap ) ? this.element.parent() : this.element;\n    },\n\n    _classesFromOptions: function() {\n        var options = this.options,\n            classes = [];\n\n        classes.push( \"ui-body-\" + ( ( options.theme === null ) ? \"inherit\" : options.theme ) );\n        if ( options.corners ) {\n            classes.push( \"ui-corner-all\" );\n        }\n        if ( options.mini ) {\n            classes.push( \"ui-mini\" );\n        }\n        if ( options.disabled ) {\n            classes.push( \"ui-state-disabled\" );\n        }\n        if ( options.wrapperClass ) {\n            classes.push( options.wrapperClass );\n        }\n\n        return classes;\n    },\n\n    _wrap: function() {\n        return $( \"<div class='\" +\n            ( this.isSearch ? \"ui-input-search \" : \"ui-input-text \" ) +\n            this.classes.join( \" \" ) + \" \" +\n            \"ui-shadow-inset'></div>\" );\n    },\n\n    _autoCorrect: function() {\n        // XXX: Temporary workaround for issue 785 (Apple bug 8910589).\n        //      Turn off autocorrect and autocomplete on non-iOS 5 devices\n        //      since the popup they use can't be dismissed by the user. Note\n        //      that we test for the presence of the feature by looking for\n        //      the autocorrect property on the input element. We currently\n        //      have no test for iOS 5 or newer so we're temporarily using\n        //      the touchOverflow support flag for jQM 1.0. Yes, I feel dirty.\n        //      - jblas\n        if ( typeof this.element[0].autocorrect !== \"undefined\" &&\n            !$.support.touchOverflow ) {\n\n            // Set the attribute instead of the property just in case there\n            // is code that attempts to make modifications via HTML.\n            this.element[0].setAttribute( \"autocorrect\", \"off\" );\n            this.element[0].setAttribute( \"autocomplete\", \"off\" );\n        }\n    },\n\n    _handleBlur: function() {\n        this.widget().removeClass( $.mobile.focusClass );\n        if ( this.options.preventFocusZoom ) {\n            $.mobile.zoom.enable( true );\n        }\n    },\n\n    _handleFocus: function() {\n        // In many situations, iOS will zoom into the input upon tap, this\n        // prevents that from happening\n        if ( this.options.preventFocusZoom ) {\n            $.mobile.zoom.disable( true );\n        }\n        this.widget().addClass( $.mobile.focusClass );\n    },\n\n    _setOptions: function ( options ) {\n        var outer = this.widget();\n\n        this._super( options );\n\n        if ( !( options.disabled === undefined &&\n            options.mini === undefined &&\n            options.corners === undefined &&\n            options.theme === undefined &&\n            options.wrapperClass === undefined ) ) {\n\n            outer.removeClass( this.classes.join( \" \" ) );\n            this.classes = this._classesFromOptions();\n            outer.addClass( this.classes.join( \" \" ) );\n        }\n\n        if ( options.disabled !== undefined ) {\n            this.element.prop( \"disabled\", !!options.disabled );\n        }\n    },\n\n    _destroy: function() {\n        if ( this.options.enhanced ) {\n            return;\n        }\n        if ( this.inputNeedsWrap ) {\n            this.element.unwrap();\n        }\n        this.element.removeClass( \"ui-input-text \" + this.classes.join( \" \" ) );\n    }\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.slider\", $.extend( {\n    initSelector: \"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')\",\n\n    widgetEventPrefix: \"slide\",\n\n    options: {\n        theme: null,\n        trackTheme: null,\n        corners: true,\n        mini: false,\n        highlight: false\n    },\n\n    _create: function() {\n\n        // TODO: Each of these should have comments explain what they're for\n        var self = this,\n            control = this.element,\n            trackTheme = this.options.trackTheme || $.mobile.getAttribute( control[ 0 ], \"theme\" ),\n            trackThemeClass = trackTheme ? \" ui-bar-\" + trackTheme : \" ui-bar-inherit\",\n            cornerClass = ( this.options.corners || control.jqmData( \"corners\" ) ) ? \" ui-corner-all\" : \"\",\n            miniClass = ( this.options.mini || control.jqmData( \"mini\" ) ) ? \" ui-mini\" : \"\",\n            cType = control[ 0 ].nodeName.toLowerCase(),\n            isToggleSwitch = ( cType === \"select\" ),\n            isRangeslider = control.parent().is( \":jqmData(role='rangeslider')\" ),\n            selectClass = ( isToggleSwitch ) ? \"ui-slider-switch\" : \"\",\n            controlID = control.attr( \"id\" ),\n            $label = $( \"[for='\" + controlID + \"']\" ),\n            labelID = $label.attr( \"id\" ) || controlID + \"-label\",\n            min = !isToggleSwitch ? parseFloat( control.attr( \"min\" ) ) : 0,\n            max =  !isToggleSwitch ? parseFloat( control.attr( \"max\" ) ) : control.find( \"option\" ).length-1,\n            step = window.parseFloat( control.attr( \"step\" ) || 1 ),\n            domHandle = document.createElement( \"a\" ),\n            handle = $( domHandle ),\n            domSlider = document.createElement( \"div\" ),\n            slider = $( domSlider ),\n            valuebg = this.options.highlight && !isToggleSwitch ? (function() {\n                var bg = document.createElement( \"div\" );\n                bg.className = \"ui-slider-bg \" + $.mobile.activeBtnClass;\n                return $( bg ).prependTo( slider );\n            })() : false,\n            options,\n            wrapper,\n            j, length,\n            i, optionsCount, origTabIndex,\n            side, activeClass, sliderImg;\n\n        $label.attr( \"id\", labelID );\n        this.isToggleSwitch = isToggleSwitch;\n\n        domHandle.setAttribute( \"href\", \"#\" );\n        domSlider.setAttribute( \"role\", \"application\" );\n        domSlider.className = [ this.isToggleSwitch ? \"ui-slider ui-slider-track ui-shadow-inset \" : \"ui-slider-track ui-shadow-inset \", selectClass, trackThemeClass, cornerClass, miniClass ].join( \"\" );\n        domHandle.className = \"ui-slider-handle\";\n        domSlider.appendChild( domHandle );\n\n        handle.attr({\n            \"role\": \"slider\",\n            \"aria-valuemin\": min,\n            \"aria-valuemax\": max,\n            \"aria-valuenow\": this._value(),\n            \"aria-valuetext\": this._value(),\n            \"title\": this._value(),\n            \"aria-labelledby\": labelID\n        });\n\n        $.extend( this, {\n            slider: slider,\n            handle: handle,\n            control: control,\n            type: cType,\n            step: step,\n            max: max,\n            min: min,\n            valuebg: valuebg,\n            isRangeslider: isRangeslider,\n            dragging: false,\n            beforeStart: null,\n            userModified: false,\n            mouseMoved: false\n        });\n\n        if ( isToggleSwitch ) {\n            // TODO: restore original tabindex (if any) in a destroy method\n            origTabIndex = control.attr( \"tabindex\" );\n            if ( origTabIndex ) {\n                handle.attr( \"tabindex\", origTabIndex );\n            }\n            control.attr( \"tabindex\", \"-1\" ).focus(function() {\n                $( this ).blur();\n                handle.focus();\n            });\n\n            wrapper = document.createElement( \"div\" );\n            wrapper.className = \"ui-slider-inneroffset\";\n\n            for ( j = 0, length = domSlider.childNodes.length; j < length; j++ ) {\n                wrapper.appendChild( domSlider.childNodes[j] );\n            }\n\n            domSlider.appendChild( wrapper );\n\n            // slider.wrapInner( \"<div class='ui-slider-inneroffset'></div>\" );\n\n            // make the handle move with a smooth transition\n            handle.addClass( \"ui-slider-handle-snapping\" );\n\n            options = control.find( \"option\" );\n\n            for ( i = 0, optionsCount = options.length; i < optionsCount; i++ ) {\n                side = !i ? \"b\" : \"a\";\n                activeClass = !i ? \"\" : \" \" + $.mobile.activeBtnClass;\n                sliderImg = document.createElement( \"span\" );\n\n                sliderImg.className = [ \"ui-slider-label ui-slider-label-\", side, activeClass ].join( \"\" );\n                sliderImg.setAttribute( \"role\", \"img\" );\n                sliderImg.appendChild( document.createTextNode( options[i].innerHTML ) );\n                $( sliderImg ).prependTo( slider );\n            }\n\n            self._labels = $( \".ui-slider-label\", slider );\n\n        }\n\n        // monitor the input for updated values\n        control.addClass( isToggleSwitch ? \"ui-slider-switch\" : \"ui-slider-input\" );\n\n        this._on( control, {\n            \"change\": \"_controlChange\",\n            \"keyup\": \"_controlKeyup\",\n            \"blur\": \"_controlBlur\",\n            \"vmouseup\": \"_controlVMouseUp\"\n        });\n\n        slider.bind( \"vmousedown\", $.proxy( this._sliderVMouseDown, this ) )\n            .bind( \"vclick\", false );\n\n        // We have to instantiate a new function object for the unbind to work properly\n        // since the method itself is defined in the prototype (causing it to unbind everything)\n        this._on( document, { \"vmousemove\": \"_preventDocumentDrag\" });\n        this._on( slider.add( document ), { \"vmouseup\": \"_sliderVMouseUp\" });\n\n        slider.insertAfter( control );\n\n        // wrap in a div for styling purposes\n        if ( !isToggleSwitch && !isRangeslider ) {\n            wrapper = this.options.mini ? \"<div class='ui-slider ui-mini'>\" : \"<div class='ui-slider'>\";\n\n            control.add( slider ).wrapAll( wrapper );\n        }\n\n        // bind the handle event callbacks and set the context to the widget instance\n        this._on( this.handle, {\n            \"vmousedown\": \"_handleVMouseDown\",\n            \"keydown\": \"_handleKeydown\",\n            \"keyup\": \"_handleKeyup\"\n        });\n\n        this.handle.bind( \"vclick\", false );\n\n        this._handleFormReset();\n\n        this.refresh( undefined, undefined, true );\n    },\n\n    _setOptions: function( options ) {\n        if ( options.theme !== undefined ) {\n            this._setTheme( options.theme );\n        }\n\n        if ( options.trackTheme !== undefined ) {\n            this._setTrackTheme( options.trackTheme );\n        }\n\n        if ( options.corners !== undefined ) {\n            this._setCorners( options.corners );\n        }\n\n        if ( options.mini !== undefined ) {\n            this._setMini( options.mini );\n        }\n\n        if ( options.highlight !== undefined ) {\n            this._setHighlight( options.highlight );\n        }\n\n        if ( options.disabled !== undefined ) {\n            this._setDisabled( options.disabled );\n        }\n        this._super( options );\n    },\n\n    _controlChange: function( event ) {\n        // if the user dragged the handle, the \"change\" event was triggered from inside refresh(); don't call refresh() again\n        if ( this._trigger( \"controlchange\", event ) === false ) {\n            return false;\n        }\n        if ( !this.mouseMoved ) {\n            this.refresh( this._value(), true );\n        }\n    },\n\n    _controlKeyup: function(/* event */) { // necessary?\n        this.refresh( this._value(), true, true );\n    },\n\n    _controlBlur: function(/* event */) {\n        this.refresh( this._value(), true );\n    },\n\n    // it appears the clicking the up and down buttons in chrome on\n    // range/number inputs doesn't trigger a change until the field is\n    // blurred. Here we check thif the value has changed and refresh\n    _controlVMouseUp: function(/* event */) {\n        this._checkedRefresh();\n    },\n\n    // NOTE force focus on handle\n    _handleVMouseDown: function(/* event */) {\n        this.handle.focus();\n    },\n\n    _handleKeydown: function( event ) {\n        var index = this._value();\n        if ( this.options.disabled ) {\n            return;\n        }\n\n        // In all cases prevent the default and mark the handle as active\n        switch ( event.keyCode ) {\n            case $.mobile.keyCode.HOME:\n            case $.mobile.keyCode.END:\n            case $.mobile.keyCode.PAGE_UP:\n            case $.mobile.keyCode.PAGE_DOWN:\n            case $.mobile.keyCode.UP:\n            case $.mobile.keyCode.RIGHT:\n            case $.mobile.keyCode.DOWN:\n            case $.mobile.keyCode.LEFT:\n                event.preventDefault();\n\n                if ( !this._keySliding ) {\n                    this._keySliding = true;\n                    this.handle.addClass( \"ui-state-active\" ); /* TODO: We don't use this class for styling. Do we need to add it? */\n                }\n\n                break;\n        }\n\n        // move the slider according to the keypress\n        switch ( event.keyCode ) {\n            case $.mobile.keyCode.HOME:\n                this.refresh( this.min );\n                break;\n            case $.mobile.keyCode.END:\n                this.refresh( this.max );\n                break;\n            case $.mobile.keyCode.PAGE_UP:\n            case $.mobile.keyCode.UP:\n            case $.mobile.keyCode.RIGHT:\n                this.refresh( index + this.step );\n                break;\n            case $.mobile.keyCode.PAGE_DOWN:\n            case $.mobile.keyCode.DOWN:\n            case $.mobile.keyCode.LEFT:\n                this.refresh( index - this.step );\n                break;\n        }\n    }, // remove active mark\n\n    _handleKeyup: function(/* event */) {\n        if ( this._keySliding ) {\n            this._keySliding = false;\n            this.handle.removeClass( \"ui-state-active\" ); /* See comment above. */\n        }\n    },\n\n    _sliderVMouseDown: function( event ) {\n        // NOTE: we don't do this in refresh because we still want to\n        //       support programmatic alteration of disabled inputs\n        if ( this.options.disabled || !( event.which === 1 || event.which === 0 || event.which === undefined ) ) {\n            return false;\n        }\n        if ( this._trigger( \"beforestart\", event ) === false ) {\n            return false;\n        }\n        this.dragging = true;\n        this.userModified = false;\n        this.mouseMoved = false;\n\n        if ( this.isToggleSwitch ) {\n            this.beforeStart = this.element[0].selectedIndex;\n        }\n\n        this.refresh( event );\n        this._trigger( \"start\" );\n        return false;\n    },\n\n    _sliderVMouseUp: function() {\n        if ( this.dragging ) {\n            this.dragging = false;\n\n            if ( this.isToggleSwitch ) {\n                // make the handle move with a smooth transition\n                this.handle.addClass( \"ui-slider-handle-snapping\" );\n\n                if ( this.mouseMoved ) {\n                    // this is a drag, change the value only if user dragged enough\n                    if ( this.userModified ) {\n                        this.refresh( this.beforeStart === 0 ? 1 : 0 );\n                    } else {\n                        this.refresh( this.beforeStart );\n                    }\n                } else {\n                    // this is just a click, change the value\n                    this.refresh( this.beforeStart === 0 ? 1 : 0 );\n                }\n            }\n\n            this.mouseMoved = false;\n            this._trigger( \"stop\" );\n            return false;\n        }\n    },\n\n    _preventDocumentDrag: function( event ) {\n            // NOTE: we don't do this in refresh because we still want to\n            //       support programmatic alteration of disabled inputs\n            if ( this._trigger( \"drag\", event ) === false) {\n                return false;\n            }\n            if ( this.dragging && !this.options.disabled ) {\n\n                // this.mouseMoved must be updated before refresh() because it will be used in the control \"change\" event\n                this.mouseMoved = true;\n\n                if ( this.isToggleSwitch ) {\n                    // make the handle move in sync with the mouse\n                    this.handle.removeClass( \"ui-slider-handle-snapping\" );\n                }\n\n                this.refresh( event );\n\n                // only after refresh() you can calculate this.userModified\n                this.userModified = this.beforeStart !== this.element[0].selectedIndex;\n                return false;\n            }\n        },\n\n    _checkedRefresh: function() {\n        if ( this.value !== this._value() ) {\n            this.refresh( this._value() );\n        }\n    },\n\n    _value: function() {\n        return  this.isToggleSwitch ? this.element[0].selectedIndex : parseFloat( this.element.val() ) ;\n    },\n\n    _reset: function() {\n        this.refresh( undefined, false, true );\n    },\n\n    refresh: function( val, isfromControl, preventInputUpdate ) {\n        // NOTE: we don't return here because we want to support programmatic\n        //       alteration of the input value, which should still update the slider\n\n        var self = this,\n            parentTheme = $.mobile.getAttribute( this.element[ 0 ], \"theme\" ),\n            theme = this.options.theme || parentTheme,\n            themeClass =  theme ? \" ui-btn-\" + theme : \"\",\n            trackTheme = this.options.trackTheme || parentTheme,\n            trackThemeClass = trackTheme ? \" ui-bar-\" + trackTheme : \" ui-bar-inherit\",\n            cornerClass = this.options.corners ? \" ui-corner-all\" : \"\",\n            miniClass = this.options.mini ? \" ui-mini\" : \"\",\n            left, width, data, tol,\n            pxStep, percent,\n            control, isInput, optionElements, min, max, step,\n            newval, valModStep, alignValue, percentPerStep,\n            handlePercent, aPercent, bPercent,\n            valueChanged;\n\n        self.slider[0].className = [ this.isToggleSwitch ? \"ui-slider ui-slider-switch ui-slider-track ui-shadow-inset\" : \"ui-slider-track ui-shadow-inset\", trackThemeClass, cornerClass, miniClass ].join( \"\" );\n        if ( this.options.disabled || this.element.prop( \"disabled\" ) ) {\n            this.disable();\n        }\n\n        // set the stored value for comparison later\n        this.value = this._value();\n        if ( this.options.highlight && !this.isToggleSwitch && this.slider.find( \".ui-slider-bg\" ).length === 0 ) {\n            this.valuebg = (function() {\n                var bg = document.createElement( \"div\" );\n                bg.className = \"ui-slider-bg \" + $.mobile.activeBtnClass;\n                return $( bg ).prependTo( self.slider );\n            })();\n        }\n        this.handle.addClass( \"ui-btn\" + themeClass + \" ui-shadow\" );\n\n        control = this.element;\n        isInput = !this.isToggleSwitch;\n        optionElements = isInput ? [] : control.find( \"option\" );\n        min =  isInput ? parseFloat( control.attr( \"min\" ) ) : 0;\n        max = isInput ? parseFloat( control.attr( \"max\" ) ) : optionElements.length - 1;\n        step = ( isInput && parseFloat( control.attr( \"step\" ) ) > 0 ) ? parseFloat( control.attr( \"step\" ) ) : 1;\n\n        if ( typeof val === \"object\" ) {\n            data = val;\n            // a slight tolerance helped get to the ends of the slider\n            tol = 8;\n\n            left = this.slider.offset().left;\n            width = this.slider.width();\n            pxStep = width/((max-min)/step);\n            if ( !this.dragging ||\n                    data.pageX < left - tol ||\n                    data.pageX > left + width + tol ) {\n                return;\n            }\n            if ( pxStep > 1 ) {\n                percent = ( ( data.pageX - left ) / width ) * 100;\n            } else {\n                percent = Math.round( ( ( data.pageX - left ) / width ) * 100 );\n            }\n        } else {\n            if ( val == null ) {\n                val = isInput ? parseFloat( control.val() || 0 ) : control[0].selectedIndex;\n            }\n            percent = ( parseFloat( val ) - min ) / ( max - min ) * 100;\n        }\n\n        if ( isNaN( percent ) ) {\n            return;\n        }\n\n        newval = ( percent / 100 ) * ( max - min ) + min;\n\n        //from jQuery UI slider, the following source will round to the nearest step\n        valModStep = ( newval - min ) % step;\n        alignValue = newval - valModStep;\n\n        if ( Math.abs( valModStep ) * 2 >= step ) {\n            alignValue += ( valModStep > 0 ) ? step : ( -step );\n        }\n\n        percentPerStep = 100/((max-min)/step);\n        // Since JavaScript has problems with large floats, round\n        // the final value to 5 digits after the decimal point (see jQueryUI: #4124)\n        newval = parseFloat( alignValue.toFixed(5) );\n\n        if ( typeof pxStep === \"undefined\" ) {\n            pxStep = width / ( (max-min) / step );\n        }\n        if ( pxStep > 1 && isInput ) {\n            percent = ( newval - min ) * percentPerStep * ( 1 / step );\n        }\n        if ( percent < 0 ) {\n            percent = 0;\n        }\n\n        if ( percent > 100 ) {\n            percent = 100;\n        }\n\n        if ( newval < min ) {\n            newval = min;\n        }\n\n        if ( newval > max ) {\n            newval = max;\n        }\n\n        this.handle.css( \"left\", percent + \"%\" );\n\n        this.handle[0].setAttribute( \"aria-valuenow\", isInput ? newval : optionElements.eq( newval ).attr( \"value\" ) );\n\n        this.handle[0].setAttribute( \"aria-valuetext\", isInput ? newval : optionElements.eq( newval ).getEncodedText() );\n\n        this.handle[0].setAttribute( \"title\", isInput ? newval : optionElements.eq( newval ).getEncodedText() );\n\n        if ( this.valuebg ) {\n            this.valuebg.css( \"width\", percent + \"%\" );\n        }\n\n        // drag the label widths\n        if ( this._labels ) {\n            handlePercent = this.handle.width() / this.slider.width() * 100;\n            aPercent = percent && handlePercent + ( 100 - handlePercent ) * percent / 100;\n            bPercent = percent === 100 ? 0 : Math.min( handlePercent + 100 - aPercent, 100 );\n\n            this._labels.each(function() {\n                var ab = $( this ).hasClass( \"ui-slider-label-a\" );\n                $( this ).width( ( ab ? aPercent : bPercent  ) + \"%\" );\n            });\n        }\n\n        if ( !preventInputUpdate ) {\n            valueChanged = false;\n\n            // update control\"s value\n            if ( isInput ) {\n                valueChanged = parseFloat( control.val() ) !== newval;\n                control.val( newval );\n            } else {\n                valueChanged = control[ 0 ].selectedIndex !== newval;\n                control[ 0 ].selectedIndex = newval;\n            }\n            if ( this._trigger( \"beforechange\", val ) === false) {\n                    return false;\n            }\n            if ( !isfromControl && valueChanged ) {\n                control.trigger( \"change\" );\n            }\n        }\n    },\n\n    _setHighlight: function( value ) {\n        value = !!value;\n        if ( value ) {\n            this.options.highlight = !!value;\n            this.refresh();\n        } else if ( this.valuebg ) {\n            this.valuebg.remove();\n            this.valuebg = false;\n        }\n    },\n\n    _setTheme: function( value ) {\n        this.handle\n            .removeClass( \"ui-btn-\" + this.options.theme )\n            .addClass( \"ui-btn-\" + value );\n\n        var currentTheme = this.options.theme ? this.options.theme : \"inherit\",\n            newTheme = value ? value : \"inherit\";\n\n        this.control\n            .removeClass( \"ui-body-\" + currentTheme )\n            .addClass( \"ui-body-\" + newTheme );\n    },\n\n    _setTrackTheme: function( value ) {\n        var currentTrackTheme = this.options.trackTheme ? this.options.trackTheme : \"inherit\",\n            newTrackTheme = value ? value : \"inherit\";\n\n        this.slider\n            .removeClass( \"ui-body-\" + currentTrackTheme )\n            .addClass( \"ui-body-\" + newTrackTheme );\n    },\n\n    _setMini: function( value ) {\n        value = !!value;\n        if ( !this.isToggleSwitch && !this.isRangeslider ) {\n            this.slider.parent().toggleClass( \"ui-mini\", value );\n            this.element.toggleClass( \"ui-mini\", value );\n        }\n        this.slider.toggleClass( \"ui-mini\", value );\n    },\n\n    _setCorners: function( value ) {\n        this.slider.toggleClass( \"ui-corner-all\", value );\n\n        if ( !this.isToggleSwitch ) {\n            this.control.toggleClass( \"ui-corner-all\", value );\n        }\n    },\n\n    _setDisabled: function( value ) {\n        value = !!value;\n        this.element.prop( \"disabled\", value );\n        this.slider\n            .toggleClass( \"ui-state-disabled\", value )\n            .attr( \"aria-disabled\", value );\n\n        this.element.toggleClass( \"ui-state-disabled\", value );\n    }\n\n}, $.mobile.behaviors.formReset ) );\n\n})( jQuery );\n\n(function( $, undefined ) {\n\nvar popup;\n\nfunction getPopup() {\n    if ( !popup ) {\n        popup = $( \"<div></div>\", {\n            \"class\": \"ui-slider-popup ui-shadow ui-corner-all\"\n        });\n    }\n    return popup.clone();\n}\n\n$.widget( \"mobile.slider\", $.mobile.slider, {\n    options: {\n        popupEnabled: false,\n        showValue: false\n    },\n\n    _create: function() {\n        this._super();\n\n        $.extend( this, {\n            _currentValue: null,\n            _popup: null,\n            _popupVisible: false\n        });\n\n        this._setOption( \"popupEnabled\", this.options.popupEnabled );\n\n        this._on( this.handle, { \"vmousedown\" : \"_showPopup\" } );\n        this._on( this.slider.add( this.document ), { \"vmouseup\" : \"_hidePopup\" } );\n        this._refresh();\n    },\n\n    // position the popup centered 5px above the handle\n    _positionPopup: function() {\n        var dstOffset = this.handle.offset();\n\n        this._popup.offset( {\n            left: dstOffset.left + ( this.handle.width() - this._popup.width() ) / 2,\n            top: dstOffset.top - this._popup.outerHeight() - 5\n        });\n    },\n\n    _setOption: function( key, value ) {\n        this._super( key, value );\n\n        if ( key === \"showValue\" ) {\n            this.handle.html( value && !this.options.mini ? this._value() : \"\" );\n        } else if ( key === \"popupEnabled\" ) {\n            if ( value && !this._popup ) {\n                this._popup = getPopup()\n                    .addClass( \"ui-body-\" + ( this.options.theme || \"a\" ) )\n                    .hide()\n                    .insertBefore( this.element );\n            }\n        }\n    },\n\n    // show value on the handle and in popup\n    refresh: function() {\n        this._super.apply( this, arguments );\n        this._refresh();\n    },\n\n    _refresh: function() {\n        var o = this.options, newValue;\n\n        if ( o.popupEnabled ) {\n            // remove the title attribute from the handle (which is\n            // responsible for the annoying tooltip); NB we have\n            // to do it here as the jqm slider sets it every time\n            // the slider's value changes :(\n            this.handle.removeAttr( \"title\" );\n        }\n\n        newValue = this._value();\n        if ( newValue === this._currentValue ) {\n            return;\n        }\n        this._currentValue = newValue;\n\n        if ( o.popupEnabled && this._popup ) {\n            this._positionPopup();\n            this._popup.html( newValue );\n        }\n\n        if ( o.showValue && !this.options.mini ) {\n            this.handle.html( newValue );\n        }\n    },\n\n    _showPopup: function() {\n        if ( this.options.popupEnabled && !this._popupVisible ) {\n            this.handle.html( \"\" );\n            this._popup.show();\n            this._positionPopup();\n            this._popupVisible = true;\n        }\n    },\n\n    _hidePopup: function() {\n        var o = this.options;\n\n        if ( o.popupEnabled && this._popupVisible ) {\n            if ( o.showValue && !o.mini ) {\n                this.handle.html( this._value() );\n            }\n            this._popup.hide();\n            this._popupVisible = false;\n        }\n    }\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.flipswitch\", $.extend({\n\n    options: {\n        onText: \"On\",\n        offText: \"Off\",\n        theme: null,\n        enhanced: false,\n        wrapperClass: null,\n        corners: true,\n        mini: false\n    },\n\n    _create: function() {\n            if ( !this.options.enhanced ) {\n                this._enhance();\n            } else {\n                $.extend( this, {\n                    flipswitch: this.element.parent(),\n                    on: this.element.find( \".ui-flipswitch-on\" ).eq( 0 ),\n                    off: this.element.find( \".ui-flipswitch-off\" ).eq(0),\n                    type: this.element.get( 0 ).tagName\n                });\n            }\n\n            this._handleFormReset();\n\n            // Transfer tabindex to \"on\" element and make input unfocusable\n            this._originalTabIndex = this.element.attr( \"tabindex\" );\n            if ( this._originalTabIndex != null ) {\n                this.on.attr( \"tabindex\", this._originalTabIndex );\n            }\n            this.element.attr( \"tabindex\", \"-1\" );\n            this._on({\n                \"focus\" : \"_handleInputFocus\"\n            });\n\n            if ( this.element.is( \":disabled\" ) ) {\n                this._setOptions({\n                    \"disabled\": true\n                });\n            }\n\n            this._on( this.flipswitch, {\n                \"click\": \"_toggle\",\n                \"swipeleft\": \"_left\",\n                \"swiperight\": \"_right\"\n            });\n\n            this._on( this.on, {\n                \"keydown\": \"_keydown\"\n            });\n\n            this._on( {\n                \"change\": \"refresh\"\n            });\n    },\n\n    _handleInputFocus: function() {\n        this.on.focus();\n    },\n\n    widget: function() {\n        return this.flipswitch;\n    },\n\n    _left: function() {\n        this.flipswitch.removeClass( \"ui-flipswitch-active\" );\n        if ( this.type === \"SELECT\" ) {\n            this.element.get( 0 ).selectedIndex = 0;\n        } else {\n            this.element.prop( \"checked\", false );\n        }\n        this.element.trigger( \"change\" );\n    },\n\n    _right: function() {\n        this.flipswitch.addClass( \"ui-flipswitch-active\" );\n        if ( this.type === \"SELECT\" ) {\n            this.element.get( 0 ).selectedIndex = 1;\n        } else {\n            this.element.prop( \"checked\", true );\n        }\n        this.element.trigger( \"change\" );\n    },\n\n    _enhance: function() {\n        var flipswitch = $( \"<div>\" ),\n            options = this.options,\n            element = this.element,\n            theme = options.theme ? options.theme : \"inherit\",\n\n            // The \"on\" button is an anchor so it's focusable\n            on = $( \"<a></a>\", {\n                \"href\": \"#\"\n            }),\n            off = $( \"<span></span>\" ),\n            type = element.get( 0 ).tagName,\n            onText = ( type === \"INPUT\" ) ?\n                options.onText : element.find( \"option\" ).eq( 1 ).text(),\n            offText = ( type === \"INPUT\" ) ?\n                options.offText : element.find( \"option\" ).eq( 0 ).text();\n\n            on\n                .addClass( \"ui-flipswitch-on ui-btn ui-shadow ui-btn-inherit\" )\n                .text( onText );\n            off\n                .addClass( \"ui-flipswitch-off\" )\n                .text( offText );\n\n            flipswitch\n                .addClass( \"ui-flipswitch ui-shadow-inset \" +\n                    \"ui-bar-\" + theme + \" \" +\n                    ( options.wrapperClass ? options.wrapperClass : \"\" ) + \" \" +\n                    ( ( element.is( \":checked\" ) ||\n                        element\n                            .find( \"option\" )\n                            .eq( 1 )\n                            .is( \":selected\" ) ) ? \"ui-flipswitch-active\" : \"\" ) +\n                    ( element.is(\":disabled\") ? \" ui-state-disabled\": \"\") +\n                    ( options.corners ? \" ui-corner-all\": \"\" ) +\n                    ( options.mini ? \" ui-mini\": \"\" ) )\n                .append( on, off );\n\n            element\n                .addClass( \"ui-flipswitch-input\" )\n                .after( flipswitch )\n                .appendTo( flipswitch );\n\n        $.extend( this, {\n            flipswitch: flipswitch,\n            on: on,\n            off: off,\n            type: type\n        });\n    },\n\n    _reset: function() {\n        this.refresh();\n    },\n\n    refresh: function() {\n        var direction,\n            existingDirection = this.flipswitch.hasClass( \"ui-flipswitch-active\" ) ? \"_right\" : \"_left\";\n\n        if ( this.type === \"SELECT\" ) {\n            direction = ( this.element.get( 0 ).selectedIndex > 0 ) ? \"_right\": \"_left\";\n        } else {\n            direction = this.element.prop( \"checked\" ) ? \"_right\": \"_left\";\n        }\n\n        if ( direction !== existingDirection ) {\n            this[ direction ]();\n        }\n    },\n\n    _toggle: function() {\n        var direction = this.flipswitch.hasClass( \"ui-flipswitch-active\" ) ? \"_left\" : \"_right\";\n\n        this[ direction ]();\n    },\n\n    _keydown: function( e ) {\n        if ( e.which === $.mobile.keyCode.LEFT ) {\n            this._left();\n        } else if ( e.which === $.mobile.keyCode.RIGHT ) {\n            this._right();\n        } else if ( e.which === $.mobile.keyCode.SPACE ) {\n            this._toggle();\n            e.preventDefault();\n        }\n    },\n\n    _setOptions: function( options ) {\n        if ( options.theme !== undefined ) {\n            var currentTheme = options.theme ? options.theme : \"inherit\",\n                newTheme = options.theme ? options.theme : \"inherit\";\n\n            this.widget()\n                .removeClass( \"ui-bar-\" + currentTheme )\n                .addClass( \"ui-bar-\" + newTheme );\n        }\n        if ( options.onText !== undefined ) {\n            this.on.text( options.onText );\n        }\n        if ( options.offText !== undefined ) {\n            this.off.text( options.offText );\n        }\n        if ( options.disabled !== undefined ) {\n            this.widget().toggleClass( \"ui-state-disabled\", options.disabled );\n        }\n        if ( options.mini !== undefined ) {\n            this.widget().toggleClass( \"ui-mini\", options.mini );\n        }\n        if ( options.corners !== undefined ) {\n            this.widget().toggleClass( \"ui-corner-all\", options.corners );\n        }\n\n        this._super( options );\n    },\n\n    _destroy: function() {\n        if ( this.options.enhanced ) {\n            return;\n        }\n        if ( this._originalTabIndex != null ) {\n            this.element.attr( \"tabindex\", this._originalTabIndex );\n        } else {\n            this.element.removeAttr( \"tabindex\" );\n        }\n        this.on.remove();\n        this.off.remove();\n        this.element.unwrap();\n        this.flipswitch.remove();\n        this.removeClass( \"ui-flipswitch-input\" );\n    }\n\n}, $.mobile.behaviors.formReset ) );\n\n})( jQuery );\n\n(function( $, undefined ) {\n    $.widget( \"mobile.rangeslider\", $.extend( {\n\n        options: {\n            theme: null,\n            trackTheme: null,\n            corners: true,\n            mini: false,\n            highlight: true\n        },\n\n        _create: function() {\n            var $el = this.element,\n            elClass = this.options.mini ? \"ui-rangeslider ui-mini\" : \"ui-rangeslider\",\n            _inputFirst = $el.find( \"input\" ).first(),\n            _inputLast = $el.find( \"input\" ).last(),\n            _label = $el.find( \"label\" ).first(),\n            _sliderWidgetFirst = $.data( _inputFirst.get( 0 ), \"mobile-slider\" ) ||\n                $.data( _inputFirst.slider().get( 0 ), \"mobile-slider\" ),\n            _sliderWidgetLast = $.data( _inputLast.get(0), \"mobile-slider\" ) ||\n                $.data( _inputLast.slider().get( 0 ), \"mobile-slider\" ),\n            _sliderFirst = _sliderWidgetFirst.slider,\n            _sliderLast = _sliderWidgetLast.slider,\n            firstHandle = _sliderWidgetFirst.handle,\n            _sliders = $( \"<div class='ui-rangeslider-sliders' />\" ).appendTo( $el );\n\n            _inputFirst.addClass( \"ui-rangeslider-first\" );\n            _inputLast.addClass( \"ui-rangeslider-last\" );\n            $el.addClass( elClass );\n\n            _sliderFirst.appendTo( _sliders );\n            _sliderLast.appendTo( _sliders );\n            _label.insertBefore( $el );\n            firstHandle.prependTo( _sliderLast );\n\n            $.extend( this, {\n                _inputFirst: _inputFirst,\n                _inputLast: _inputLast,\n                _sliderFirst: _sliderFirst,\n                _sliderLast: _sliderLast,\n                _label: _label,\n                _targetVal: null,\n                _sliderTarget: false,\n                _sliders: _sliders,\n                _proxy: false\n            });\n\n            this.refresh();\n            this._on( this.element.find( \"input.ui-slider-input\" ), {\n                \"slidebeforestart\": \"_slidebeforestart\",\n                \"slidestop\": \"_slidestop\",\n                \"slidedrag\": \"_slidedrag\",\n                \"slidebeforechange\": \"_change\",\n                \"blur\": \"_change\",\n                \"keyup\": \"_change\"\n            });\n            this._on({\n                \"mousedown\":\"_change\"\n            });\n            this._on( this.element.closest( \"form\" ), {\n                \"reset\":\"_handleReset\"\n            });\n            this._on( firstHandle, {\n                \"vmousedown\": \"_dragFirstHandle\"\n            });\n        },\n        _handleReset: function() {\n            var self = this;\n            //we must wait for the stack to unwind before updateing other wise sliders will not have updated yet\n            setTimeout( function() {\n                self._updateHighlight();\n            },0);\n        },\n\n        _dragFirstHandle: function( event ) {\n            //if the first handle is dragged send the event to the first slider\n            $.data( this._inputFirst.get(0), \"mobile-slider\" ).dragging = true;\n            $.data( this._inputFirst.get(0), \"mobile-slider\" ).refresh( event );\n            $.data( this._inputFirst.get(0), \"mobile-slider\" )._trigger( \"start\" );\n            return false;\n        },\n\n        _slidedrag: function( event ) {\n            var first = $( event.target ).is( this._inputFirst ),\n                otherSlider = ( first ) ? this._inputLast : this._inputFirst;\n\n            this._sliderTarget = false;\n            //if the drag was initiated on an extreme and the other handle is focused send the events to\n            //the closest handle\n            if ( ( this._proxy === \"first\" && first ) || ( this._proxy === \"last\" && !first ) ) {\n                $.data( otherSlider.get(0), \"mobile-slider\" ).dragging = true;\n                $.data( otherSlider.get(0), \"mobile-slider\" ).refresh( event );\n                return false;\n            }\n        },\n\n        _slidestop: function( event ) {\n            var first = $( event.target ).is( this._inputFirst );\n\n            this._proxy = false;\n            //this stops dragging of the handle and brings the active track to the front\n            //this makes clicks on the track go the the last handle used\n            this.element.find( \"input\" ).trigger( \"vmouseup\" );\n            this._sliderFirst.css( \"z-index\", first ? 1 : \"\" );\n        },\n\n        _slidebeforestart: function( event ) {\n            this._sliderTarget = false;\n            //if the track is the target remember this and the original value\n            if ( $( event.originalEvent.target ).hasClass( \"ui-slider-track\" ) ) {\n                this._sliderTarget = true;\n                this._targetVal = $( event.target ).val();\n            }\n        },\n\n        _setOptions: function( options ) {\n            if ( options.theme !== undefined ) {\n                this._setTheme( options.theme );\n            }\n\n            if ( options.trackTheme !== undefined ) {\n                this._setTrackTheme( options.trackTheme );\n            }\n\n            if ( options.mini !== undefined ) {\n                this._setMini( options.mini );\n            }\n\n            if ( options.highlight !== undefined ) {\n                this._setHighlight( options.highlight );\n            }\n\n            if ( options.disabled !== undefined ) {\n                this._setDisabled( options.disabled );\n            }\n\n            this._super( options );\n            this.refresh();\n        },\n\n        refresh: function() {\n            var $el = this.element,\n                o = this.options;\n\n            if ( this._inputFirst.is( \":disabled\" ) || this._inputLast.is( \":disabled\" ) ) {\n                this.options.disabled = true;\n            }\n\n            $el.find( \"input\" ).slider({\n                theme: o.theme,\n                trackTheme: o.trackTheme,\n                disabled: o.disabled,\n                corners: o.corners,\n                mini: o.mini,\n                highlight: o.highlight\n            }).slider( \"refresh\" );\n            this._updateHighlight();\n        },\n\n        _change: function( event ) {\n            if ( event.type === \"keyup\" ) {\n                this._updateHighlight();\n                return false;\n            }\n\n            var self = this,\n                min = parseFloat( this._inputFirst.val(), 10 ),\n                max = parseFloat( this._inputLast.val(), 10 ),\n                first = $( event.target ).hasClass( \"ui-rangeslider-first\" ),\n                thisSlider = first ? this._inputFirst : this._inputLast,\n                otherSlider = first ? this._inputLast : this._inputFirst;\n\n            if ( ( this._inputFirst.val() > this._inputLast.val() && event.type === \"mousedown\" && !$(event.target).hasClass(\"ui-slider-handle\")) ) {\n                thisSlider.blur();\n            } else if ( event.type === \"mousedown\" ) {\n                return;\n            }\n            if ( min > max && !this._sliderTarget ) {\n                //this prevents min from being greater then max\n                thisSlider.val( first ? max: min ).slider( \"refresh\" );\n                this._trigger( \"normalize\" );\n            } else if ( min > max ) {\n                //this makes it so clicks on the target on either extreme go to the closest handle\n                thisSlider.val( this._targetVal ).slider( \"refresh\" );\n\n                //You must wait for the stack to unwind so first slider is updated before updating second\n                setTimeout( function() {\n                    otherSlider.val( first ? min: max ).slider( \"refresh\" );\n                    $.data( otherSlider.get(0), \"mobile-slider\" ).handle.focus();\n                    self._sliderFirst.css( \"z-index\", first ? \"\" : 1 );\n                    self._trigger( \"normalize\" );\n                }, 0 );\n                this._proxy = ( first ) ? \"first\" : \"last\";\n            }\n            //fixes issue where when both _sliders are at min they cannot be adjusted\n            if ( min === max ) {\n                $.data( thisSlider.get(0), \"mobile-slider\" ).handle.css( \"z-index\", 1 );\n                $.data( otherSlider.get(0), \"mobile-slider\" ).handle.css( \"z-index\", 0 );\n            } else {\n                $.data( otherSlider.get(0), \"mobile-slider\" ).handle.css( \"z-index\", \"\" );\n                $.data( thisSlider.get(0), \"mobile-slider\" ).handle.css( \"z-index\", \"\" );\n            }\n\n            this._updateHighlight();\n\n            if ( min >= max ) {\n                return false;\n            }\n        },\n\n        _updateHighlight: function() {\n            var min = parseInt( $.data( this._inputFirst.get(0), \"mobile-slider\" ).handle.get(0).style.left, 10 ),\n                max = parseInt( $.data( this._inputLast.get(0), \"mobile-slider\" ).handle.get(0).style.left, 10 ),\n                width = (max - min);\n\n            this.element.find( \".ui-slider-bg\" ).css({\n                \"margin-left\": min + \"%\",\n                \"width\": width + \"%\"\n            });\n        },\n\n        _setTheme: function( value ) {\n            this._inputFirst.slider( \"option\", \"theme\", value );\n            this._inputLast.slider( \"option\", \"theme\", value );\n        },\n\n        _setTrackTheme: function( value ) {\n            this._inputFirst.slider( \"option\", \"trackTheme\", value );\n            this._inputLast.slider( \"option\", \"trackTheme\", value );\n        },\n\n        _setMini: function( value ) {\n            this._inputFirst.slider( \"option\", \"mini\", value );\n            this._inputLast.slider( \"option\", \"mini\", value );\n            this.element.toggleClass( \"ui-mini\", !!value );\n        },\n\n        _setHighlight: function( value ) {\n            this._inputFirst.slider( \"option\", \"highlight\", value );\n            this._inputLast.slider( \"option\", \"highlight\", value );\n        },\n\n        _setDisabled: function( value ) {\n            this._inputFirst.prop( \"disabled\", value );\n            this._inputLast.prop( \"disabled\", value );\n        },\n\n        _destroy: function() {\n            this._label.prependTo( this.element );\n            this.element.removeClass( \"ui-rangeslider ui-mini\" );\n            this._inputFirst.after( this._sliderFirst );\n            this._inputLast.after( this._sliderLast );\n            this._sliders.remove();\n            this.element.find( \"input\" ).removeClass( \"ui-rangeslider-first ui-rangeslider-last\" ).slider( \"destroy\" );\n        }\n\n    }, $.mobile.behaviors.formReset ) );\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n    $.widget( \"mobile.textinput\", $.mobile.textinput, {\n        options: {\n            clearBtn: false,\n            clearBtnText: \"Clear text\"\n        },\n\n        _create: function() {\n            this._super();\n\n            if ( this.isSearch ) {\n                this.options.clearBtn = true;\n            }\n\n            if ( !!this.options.clearBtn && this.inputNeedsWrap ) {\n                this._addClearBtn();\n            }\n        },\n\n        clearButton: function() {\n            return $( \"<a href='#' tabindex='-1' aria-hidden='true' \" +\n                \"class='ui-input-clear ui-btn ui-icon-delete ui-btn-icon-notext ui-corner-all'>\" +\n                \"</a>\" )\n                    .attr( \"title\", this.options.clearBtnText )\n                    .text( this.options.clearBtnText );\n        },\n\n        _clearBtnClick: function( event ) {\n            this.element.val( \"\" )\n                    .focus()\n                    .trigger( \"change\" );\n\n            this._clearBtn.addClass( \"ui-input-clear-hidden\" );\n            event.preventDefault();\n        },\n\n        _addClearBtn: function() {\n\n            if ( !this.options.enhanced ) {\n                this._enhanceClear();\n            }\n\n            $.extend( this, {\n                _clearBtn: this.widget().find(\"a.ui-input-clear\")\n            });\n\n            this._bindClearEvents();\n\n            this._toggleClear();\n\n        },\n\n        _enhanceClear: function() {\n\n            this.clearButton().appendTo( this.widget() );\n            this.widget().addClass( \"ui-input-has-clear\" );\n\n        },\n\n        _bindClearEvents: function() {\n\n            this._on( this._clearBtn, {\n                \"click\": \"_clearBtnClick\"\n            });\n\n            this._on({\n                \"keyup\": \"_toggleClear\",\n                \"change\": \"_toggleClear\",\n                \"input\": \"_toggleClear\",\n                \"focus\": \"_toggleClear\",\n                \"blur\": \"_toggleClear\",\n                \"cut\": \"_toggleClear\",\n                \"paste\": \"_toggleClear\"\n\n            });\n\n        },\n\n        _unbindClear: function() {\n            this._off( this._clearBtn, \"click\");\n            this._off( this.element, \"keyup change input focus blur cut paste\" );\n        },\n\n        _setOptions: function( options ) {\n            this._super( options );\n\n            if ( options.clearBtn !== undefined &&\n                !this.element.is( \"textarea, :jqmData(type='range')\" ) ) {\n                if ( options.clearBtn ) {\n                    this._addClearBtn();\n                } else {\n                    this._destroyClear();\n                }\n            }\n\n            if ( options.clearBtnText !== undefined && this._clearBtn !== undefined ) {\n                this._clearBtn.text( options.clearBtnText )\n                    .attr(\"title\", options.clearBtnText);\n            }\n        },\n\n        _toggleClear: function() {\n            this._delay( \"_toggleClearClass\", 0 );\n        },\n\n        _toggleClearClass: function() {\n            this._clearBtn.toggleClass( \"ui-input-clear-hidden\", !this.element.val() );\n        },\n\n        _destroyClear: function() {\n            this.widget().removeClass( \"ui-input-has-clear\" );\n            this._unbindClear();\n            this._clearBtn.remove();\n        },\n\n        _destroy: function() {\n            this._super();\n            if ( this.options.clearBtn ) {\n                this._destroyClear();\n            }\n        }\n\n    });\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n    $.widget( \"mobile.textinput\", $.mobile.textinput, {\n        options: {\n            autogrow:true,\n            keyupTimeoutBuffer: 100\n        },\n\n        _create: function() {\n            this._super();\n\n            if ( this.options.autogrow && this.isTextarea ) {\n                this._autogrow();\n            }\n        },\n\n        _autogrow: function() {\n            this.element.addClass( \"ui-textinput-autogrow\" );\n\n            this._on({\n                \"keyup\": \"_timeout\",\n                \"change\": \"_timeout\",\n                \"input\": \"_timeout\",\n                \"paste\": \"_timeout\"\n            });\n\n            // Attach to the various you-have-become-visible notifications that the\n            // various framework elements emit.\n            // TODO: Remove all but the updatelayout handler once #6426 is fixed.\n            this._on( true, this.document, {\n\n                // TODO: Move to non-deprecated event\n                \"pageshow\": \"_handleShow\",\n                \"popupbeforeposition\": \"_handleShow\",\n                \"updatelayout\": \"_handleShow\",\n                \"panelopen\": \"_handleShow\"\n            });\n        },\n\n        // Synchronously fix the widget height if this widget's parents are such\n        // that they show/hide content at runtime. We still need to check whether\n        // the widget is actually visible in case it is contained inside multiple\n        // such containers. For example: panel contains collapsible contains\n        // autogrow textinput. The panel may emit \"panelopen\" indicating that its\n        // content has become visible, but the collapsible is still collapsed, so\n        // the autogrow textarea is still not visible.\n        _handleShow: function( event ) {\n            if ( $.contains( event.target, this.element[ 0 ] ) &&\n                this.element.is( \":visible\" ) ) {\n\n                if ( event.type !== \"popupbeforeposition\" ) {\n                    this.element\n                        .addClass( \"ui-textinput-autogrow-resize\" )\n                        .animationComplete(\n                            $.proxy( function() {\n                                this.element.removeClass( \"ui-textinput-autogrow-resize\" );\n                            }, this ),\n                        \"transition\" );\n                }\n                this._prepareHeightUpdate();\n            }\n        },\n\n        _unbindAutogrow: function() {\n            this.element.removeClass( \"ui-textinput-autogrow\" );\n            this._off( this.element, \"keyup change input paste\" );\n            this._off( this.document,\n                \"pageshow popupbeforeposition updatelayout panelopen\" );\n        },\n\n        keyupTimeout: null,\n\n        _prepareHeightUpdate: function( delay ) {\n            if ( this.keyupTimeout ) {\n                clearTimeout( this.keyupTimeout );\n            }\n            if ( delay === undefined ) {\n                this._updateHeight();\n            } else {\n                this.keyupTimeout = this._delay( \"_updateHeight\", delay );\n            }\n        },\n\n        _timeout: function() {\n            this._prepareHeightUpdate( this.options.keyupTimeoutBuffer );\n        },\n\n        _updateHeight: function() {\n            var paddingTop, paddingBottom, paddingHeight, scrollHeight, clientHeight,\n                borderTop, borderBottom, borderHeight, height,\n                scrollTop = this.window.scrollTop();\n            this.keyupTimeout = 0;\n\n            // IE8 textareas have the onpage property - others do not\n            if ( !( \"onpage\" in this.element[ 0 ] ) ) {\n                this.element.css({\n                    \"height\": 0,\n                    \"min-height\": 0,\n                    \"max-height\": 0\n                });\n            }\n\n            scrollHeight = this.element[ 0 ].scrollHeight;\n            clientHeight = this.element[ 0 ].clientHeight;\n            borderTop = parseFloat( this.element.css( \"border-top-width\" ) );\n            borderBottom = parseFloat( this.element.css( \"border-bottom-width\" ) );\n            borderHeight = borderTop + borderBottom;\n            height = scrollHeight + borderHeight + 15;\n\n            // Issue 6179: Padding is not included in scrollHeight and\n            // clientHeight by Firefox if no scrollbar is visible. Because\n            // textareas use the border-box box-sizing model, padding should be\n            // included in the new (assigned) height. Because the height is set\n            // to 0, clientHeight == 0 in Firefox. Therefore, we can use this to\n            // check if padding must be added.\n            if ( clientHeight === 0 ) {\n                paddingTop = parseFloat( this.element.css( \"padding-top\" ) );\n                paddingBottom = parseFloat( this.element.css( \"padding-bottom\" ) );\n                paddingHeight = paddingTop + paddingBottom;\n\n                height += paddingHeight;\n            }\n\n            this.element.css({\n                \"height\": height,\n                \"min-height\": \"\",\n                \"max-height\": \"\"\n            });\n\n            this.window.scrollTop( scrollTop );\n        },\n\n        refresh: function() {\n            if ( this.options.autogrow && this.isTextarea ) {\n                this._updateHeight();\n            }\n        },\n\n        _setOptions: function( options ) {\n\n            this._super( options );\n\n            if ( options.autogrow !== undefined && this.isTextarea ) {\n                if ( options.autogrow ) {\n                    this._autogrow();\n                } else {\n                    this._unbindAutogrow();\n                }\n            }\n        }\n\n    });\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.selectmenu\", $.extend( {\n    initSelector: \"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )\",\n\n    options: {\n        theme: null,\n        icon: \"carat-d\",\n        iconpos: \"right\",\n        inline: false,\n        corners: true,\n        shadow: true,\n        iconshadow: false, /* TODO: Deprecated in 1.4, remove in 1.5. */\n        overlayTheme: null,\n        dividerTheme: null,\n        hidePlaceholderMenuItems: true,\n        closeText: \"Close\",\n        nativeMenu: true,\n        // This option defaults to true on iOS devices.\n        preventFocusZoom: /iPhone|iPad|iPod/.test( navigator.platform ) && navigator.userAgent.indexOf( \"AppleWebKit\" ) > -1,\n        mini: false\n    },\n\n    _button: function() {\n        return $( \"<div/>\" );\n    },\n\n    _setDisabled: function( value ) {\n        this.element.attr( \"disabled\", value );\n        this.button.attr( \"aria-disabled\", value );\n        return this._setOption( \"disabled\", value );\n    },\n\n    _focusButton : function() {\n        var self = this;\n\n        setTimeout( function() {\n            self.button.focus();\n        }, 40);\n    },\n\n    _selectOptions: function() {\n        return this.select.find( \"option\" );\n    },\n\n    // setup items that are generally necessary for select menu extension\n    _preExtension: function() {\n        var inline = this.options.inline || this.element.jqmData( \"inline\" ),\n            mini = this.options.mini || this.element.jqmData( \"mini\" ),\n            classes = \"\";\n        // TODO: Post 1.1--once we have time to test thoroughly--any classes manually applied to the original element should be carried over to the enhanced element, with an `-enhanced` suffix. See https://github.com/jquery/jquery-mobile/issues/3577\n        /* if ( $el[0].className.length ) {\n            classes = $el[0].className;\n        } */\n        if ( !!~this.element[0].className.indexOf( \"ui-btn-left\" ) ) {\n            classes = \" ui-btn-left\";\n        }\n\n        if (  !!~this.element[0].className.indexOf( \"ui-btn-right\" ) ) {\n            classes = \" ui-btn-right\";\n        }\n\n        if ( inline ) {\n            classes += \" ui-btn-inline\";\n        }\n        if ( mini ) {\n            classes += \" ui-mini\";\n        }\n\n        this.select = this.element.removeClass( \"ui-btn-left ui-btn-right\" ).wrap( \"<div class='ui-select\" + classes + \"'>\" );\n        this.selectId  = this.select.attr( \"id\" ) || ( \"select-\" + this.uuid );\n        this.buttonId = this.selectId + \"-button\";\n        this.label = $( \"label[for='\"+ this.selectId +\"']\" );\n        this.isMultiple = this.select[ 0 ].multiple;\n    },\n\n    _destroy: function() {\n        var wrapper = this.element.parents( \".ui-select\" );\n        if ( wrapper.length > 0 ) {\n            if ( wrapper.is( \".ui-btn-left, .ui-btn-right\" ) ) {\n                this.element.addClass( wrapper.hasClass( \"ui-btn-left\" ) ? \"ui-btn-left\" : \"ui-btn-right\" );\n            }\n            this.element.insertAfter( wrapper );\n            wrapper.remove();\n        }\n    },\n\n    _create: function() {\n        this._preExtension();\n\n        this.button = this._button();\n\n        var self = this,\n\n            options = this.options,\n\n            iconpos = options.icon ? ( options.iconpos || this.select.jqmData( \"iconpos\" ) ) : false,\n\n            button = this.button\n                .insertBefore( this.select )\n                .attr( \"id\", this.buttonId )\n                .addClass( \"ui-btn\" +\n                    ( options.icon ? ( \" ui-icon-\" + options.icon + \" ui-btn-icon-\" + iconpos +\n                    ( options.iconshadow ? \" ui-shadow-icon\" : \"\" ) ) :    \"\" ) + /* TODO: Remove in 1.5. */\n                    ( options.theme ? \" ui-btn-\" + options.theme : \"\" ) +\n                    ( options.corners ? \" ui-corner-all\" : \"\" ) +\n                    ( options.shadow ? \" ui-shadow\" : \"\" ) );\n\n        this.setButtonText();\n\n        // Opera does not properly support opacity on select elements\n        // In Mini, it hides the element, but not its text\n        // On the desktop,it seems to do the opposite\n        // for these reasons, using the nativeMenu option results in a full native select in Opera\n        if ( options.nativeMenu && window.opera && window.opera.version ) {\n            button.addClass( \"ui-select-nativeonly\" );\n        }\n\n        // Add counter for multi selects\n        if ( this.isMultiple ) {\n            this.buttonCount = $( \"<span>\" )\n                .addClass( \"ui-li-count ui-body-inherit\" )\n                .hide()\n                .appendTo( button.addClass( \"ui-li-has-count\" ) );\n        }\n\n        // Disable if specified\n        if ( options.disabled || this.element.attr( \"disabled\" )) {\n            this.disable();\n        }\n\n        // Events on native select\n        this.select.change(function() {\n            self.refresh();\n\n            if ( !!options.nativeMenu ) {\n                self._delay( function() {\n                    self.select.blur();\n                });\n            }\n        });\n\n        this._handleFormReset();\n\n        this._on( this.button, {\n            keydown: \"_handleKeydown\"\n        });\n\n        this.build();\n    },\n\n    build: function() {\n        var self = this;\n\n        this.select\n            .appendTo( self.button )\n            .bind( \"vmousedown\", function() {\n                // Add active class to button\n                self.button.addClass( $.mobile.activeBtnClass );\n            })\n            .bind( \"focus\", function() {\n                self.button.addClass( $.mobile.focusClass );\n            })\n            .bind( \"blur\", function() {\n                self.button.removeClass( $.mobile.focusClass );\n            })\n            .bind( \"focus vmouseover\", function() {\n                self.button.trigger( \"vmouseover\" );\n            })\n            .bind( \"vmousemove\", function() {\n                // Remove active class on scroll/touchmove\n                self.button.removeClass( $.mobile.activeBtnClass );\n            })\n            .bind( \"change blur vmouseout\", function() {\n                self.button.trigger( \"vmouseout\" )\n                    .removeClass( $.mobile.activeBtnClass );\n            });\n\n        // In many situations, iOS will zoom into the select upon tap, this prevents that from happening\n        self.button.bind( \"vmousedown\", function() {\n            if ( self.options.preventFocusZoom ) {\n                    $.mobile.zoom.disable( true );\n            }\n        });\n        self.label.bind( \"click focus\", function() {\n            if ( self.options.preventFocusZoom ) {\n                    $.mobile.zoom.disable( true );\n            }\n        });\n        self.select.bind( \"focus\", function() {\n            if ( self.options.preventFocusZoom ) {\n                    $.mobile.zoom.disable( true );\n            }\n        });\n        self.button.bind( \"mouseup\", function() {\n            if ( self.options.preventFocusZoom ) {\n                setTimeout(function() {\n                    $.mobile.zoom.enable( true );\n                }, 0 );\n            }\n        });\n        self.select.bind( \"blur\", function() {\n            if ( self.options.preventFocusZoom ) {\n                $.mobile.zoom.enable( true );\n            }\n        });\n\n    },\n\n    selected: function() {\n        return this._selectOptions().filter( \":selected\" );\n    },\n\n    selectedIndices: function() {\n        var self = this;\n\n        return this.selected().map(function() {\n            return self._selectOptions().index( this );\n        }).get();\n    },\n\n    setButtonText: function() {\n        var self = this,\n            selected = this.selected(),\n            text = this.placeholder,\n            span = $( document.createElement( \"span\" ) );\n\n        this.button.children( \"span\" ).not( \".ui-li-count\" ).remove().end().end().prepend( (function() {\n            if ( selected.length ) {\n                text = selected.map(function() {\n                    return $( this ).text();\n                }).get().join( \", \" );\n            } else {\n                text = self.placeholder;\n            }\n\n            if ( text ) {\n                span.text( text );\n            } else {\n\n                // Set the contents to &nbsp; which we write as &#160; to be XHTML compliant - see gh-6699\n                span.html( \"&#160;\" );\n            }\n\n            // TODO possibly aggregate multiple select option classes\n            return span\n                .addClass( self.select.attr( \"class\" ) )\n                .addClass( selected.attr( \"class\" ) )\n                .removeClass( \"ui-screen-hidden\" );\n        })());\n    },\n\n    setButtonCount: function() {\n        var selected = this.selected();\n\n        // multiple count inside button\n        if ( this.isMultiple ) {\n            this.buttonCount[ selected.length > 1 ? \"show\" : \"hide\" ]().text( selected.length );\n        }\n    },\n\n    _handleKeydown: function( /* event */ ) {\n        this._delay( \"_refreshButton\" );\n    },\n\n    _reset: function() {\n        this.refresh();\n    },\n\n    _refreshButton: function() {\n        this.setButtonText();\n        this.setButtonCount();\n    },\n\n    refresh: function() {\n        this._refreshButton();\n    },\n\n    // open and close preserved in native selects\n    // to simplify users code when looping over selects\n    open: $.noop,\n    close: $.noop,\n\n    disable: function() {\n        this._setDisabled( true );\n        this.button.addClass( \"ui-state-disabled\" );\n    },\n\n    enable: function() {\n        this._setDisabled( false );\n        this.button.removeClass( \"ui-state-disabled\" );\n    }\n}, $.mobile.behaviors.formReset ) );\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.mobile.links = function( target ) {\n\n    //links within content areas, tests included with page\n    $( target )\n        .find( \"a\" )\n        .jqmEnhanceable()\n        .filter( \":jqmData(rel='popup')[href][href!='']\" )\n        .each( function() {\n            // Accessibility info for popups\n            var element = this,\n                idref = element.getAttribute( \"href\" ).substring( 1 );\n\n            if ( idref ) {\n                element.setAttribute( \"aria-haspopup\", true );\n                element.setAttribute( \"aria-owns\", idref );\n                element.setAttribute( \"aria-expanded\", false );\n            }\n        })\n        .end()\n        .not( \".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')\" )\n        .addClass( \"ui-link\" );\n\n};\n\n})( jQuery );\n\n\n(function( $, undefined ) {\n\nfunction fitSegmentInsideSegment( windowSize, segmentSize, offset, desired ) {\n    var returnValue = desired;\n\n    if ( windowSize < segmentSize ) {\n        // Center segment if it's bigger than the window\n        returnValue = offset + ( windowSize - segmentSize ) / 2;\n    } else {\n        // Otherwise center it at the desired coordinate while keeping it completely inside the window\n        returnValue = Math.min( Math.max( offset, desired - segmentSize / 2 ), offset + windowSize - segmentSize );\n    }\n\n    return returnValue;\n}\n\nfunction getWindowCoordinates( theWindow ) {\n    return {\n        x: theWindow.scrollLeft(),\n        y: theWindow.scrollTop(),\n        cx: ( theWindow[ 0 ].innerWidth || theWindow.width() ),\n        cy: ( theWindow[ 0 ].innerHeight || theWindow.height() )\n    };\n}\n\n$.widget( \"mobile.popup\", {\n    options: {\n        wrapperClass: null,\n        theme: null,\n        overlayTheme: null,\n        shadow: true,\n        corners: true,\n        transition: \"none\",\n        positionTo: \"origin\",\n        tolerance: null,\n        closeLinkSelector: \"a:jqmData(rel='back')\",\n        closeLinkEvents: \"click.popup\",\n        navigateEvents: \"navigate.popup\",\n        closeEvents: \"navigate.popup pagebeforechange.popup\",\n        dismissible: true,\n        enhanced: false,\n\n        // NOTE Windows Phone 7 has a scroll position caching issue that\n        //      requires us to disable popup history management by default\n        //      https://github.com/jquery/jquery-mobile/issues/4784\n        //\n        // NOTE this option is modified in _create!\n        history: !$.mobile.browser.oldIE\n    },\n\n    // When the user depresses the mouse/finger on an element inside the popup while the popup is\n    // open, we ignore resize events for a short while. This prevents #6961.\n    _handleDocumentVmousedown: function( theEvent ) {\n        if ( this._isOpen && $.contains( this._ui.container[ 0 ], theEvent.target ) ) {\n            this._ignoreResizeEvents();\n        }\n    },\n\n    _create: function() {\n        var theElement = this.element,\n            myId = theElement.attr( \"id\" ),\n            currentOptions = this.options;\n\n        // We need to adjust the history option to be false if there's no AJAX nav.\n        // We can't do it in the option declarations because those are run before\n        // it is determined whether there shall be AJAX nav.\n        currentOptions.history = currentOptions.history && $.mobile.ajaxEnabled && $.mobile.hashListeningEnabled;\n\n        this._on( this.document, {\n            \"vmousedown\": \"_handleDocumentVmousedown\"\n        });\n\n        // Define instance variables\n        $.extend( this, {\n            _scrollTop: 0,\n            _page: theElement.closest( \".ui-page\" ),\n            _ui: null,\n            _fallbackTransition: \"\",\n            _currentTransition: false,\n            _prerequisites: null,\n            _isOpen: false,\n            _tolerance: null,\n            _resizeData: null,\n            _ignoreResizeTo: 0,\n            _orientationchangeInProgress: false\n        });\n\n        if ( this._page.length === 0 ) {\n            this._page = $( \"body\" );\n        }\n\n        if ( currentOptions.enhanced ) {\n            this._ui = {\n                container: theElement.parent(),\n                screen: theElement.parent().prev(),\n                placeholder: $( this.document[ 0 ].getElementById( myId + \"-placeholder\" ) )\n            };\n        } else {\n            this._ui = this._enhance( theElement, myId );\n            this._applyTransition( currentOptions.transition );\n        }\n        this\n            ._setTolerance( currentOptions.tolerance )\n            ._ui.focusElement = this._ui.container;\n\n        // Event handlers\n        this._on( this._ui.screen, { \"vclick\": \"_eatEventAndClose\" } );\n        this._on( this.window, {\n            orientationchange: $.proxy( this, \"_handleWindowOrientationchange\" ),\n            resize: $.proxy( this, \"_handleWindowResize\" ),\n            keyup: $.proxy( this, \"_handleWindowKeyUp\" )\n        });\n        this._on( this.document, { \"focusin\": \"_handleDocumentFocusIn\" } );\n    },\n\n    _enhance: function( theElement, myId ) {\n        var currentOptions = this.options,\n            wrapperClass = currentOptions.wrapperClass,\n            ui = {\n                screen: $( \"<div class='ui-screen-hidden ui-popup-screen \" +\n                this._themeClassFromOption( \"ui-overlay-\", currentOptions.overlayTheme ) + \"'></div>\" ),\n                placeholder: $( \"<div style='display: none;'><!-- placeholder --></div>\" ),\n                container: $( \"<div class='ui-popup-container ui-popup-hidden ui-popup-truncate\" +\n                    ( wrapperClass ? ( \" \" + wrapperClass ) : \"\" ) + \"'></div>\" )\n            },\n            fragment = this.document[ 0 ].createDocumentFragment();\n\n        fragment.appendChild( ui.screen[ 0 ] );\n        fragment.appendChild( ui.container[ 0 ] );\n\n        if ( myId ) {\n            ui.screen.attr( \"id\", myId + \"-screen\" );\n            ui.container.attr( \"id\", myId + \"-popup\" );\n            ui.placeholder\n                .attr( \"id\", myId + \"-placeholder\" )\n                .html( \"<!-- placeholder for \" + myId + \" -->\" );\n        }\n\n        // Apply the proto\n        this._page[ 0 ].appendChild( fragment );\n        // Leave a placeholder where the element used to be\n        ui.placeholder.insertAfter( theElement );\n        theElement\n            .detach()\n            .addClass( \"ui-popup \" +\n                this._themeClassFromOption( \"ui-body-\", currentOptions.theme ) + \" \" +\n                ( currentOptions.shadow ? \"ui-overlay-shadow \" : \"\" ) +\n                ( currentOptions.corners ? \"ui-corner-all \" : \"\" ) )\n            .appendTo( ui.container );\n\n        return ui;\n    },\n\n    _eatEventAndClose: function( theEvent ) {\n        theEvent.preventDefault();\n        theEvent.stopImmediatePropagation();\n        if ( this.options.dismissible ) {\n            this.close();\n        }\n        return false;\n    },\n\n    // Make sure the screen covers the entire document - CSS is sometimes not\n    // enough to accomplish this.\n    _resizeScreen: function() {\n        var screen = this._ui.screen,\n            popupHeight = this._ui.container.outerHeight( true ),\n            screenHeight = screen.removeAttr( \"style\" ).height(),\n\n            // Subtracting 1 here is necessary for an obscure Andrdoid 4.0 bug where\n            // the browser hangs if the screen covers the entire document :/\n            documentHeight = this.document.height() - 1;\n\n        if ( screenHeight < documentHeight ) {\n            screen.height( documentHeight );\n        } else if ( popupHeight > screenHeight ) {\n            screen.height( popupHeight );\n        }\n    },\n\n    _handleWindowKeyUp: function( theEvent ) {\n        if ( this._isOpen && theEvent.keyCode === $.mobile.keyCode.ESCAPE ) {\n            return this._eatEventAndClose( theEvent );\n        }\n    },\n\n    _expectResizeEvent: function() {\n        var windowCoordinates = getWindowCoordinates( this.window );\n\n        if ( this._resizeData ) {\n            if ( windowCoordinates.x === this._resizeData.windowCoordinates.x &&\n                windowCoordinates.y === this._resizeData.windowCoordinates.y &&\n                windowCoordinates.cx === this._resizeData.windowCoordinates.cx &&\n                windowCoordinates.cy === this._resizeData.windowCoordinates.cy ) {\n                // timeout not refreshed\n                return false;\n            } else {\n                // clear existing timeout - it will be refreshed below\n                clearTimeout( this._resizeData.timeoutId );\n            }\n        }\n\n        this._resizeData = {\n            timeoutId: this._delay( \"_resizeTimeout\", 200 ),\n            windowCoordinates: windowCoordinates\n        };\n\n        return true;\n    },\n\n    _resizeTimeout: function() {\n        if ( this._isOpen ) {\n            if ( !this._expectResizeEvent() ) {\n                if ( this._ui.container.hasClass( \"ui-popup-hidden\" ) ) {\n                    // effectively rapid-open the popup while leaving the screen intact\n                    this._ui.container.removeClass( \"ui-popup-hidden ui-popup-truncate\" );\n                    this.reposition( { positionTo: \"window\" } );\n                    this._ignoreResizeEvents();\n                }\n\n                this._resizeScreen();\n                this._resizeData = null;\n                this._orientationchangeInProgress = false;\n            }\n        } else {\n            this._resizeData = null;\n            this._orientationchangeInProgress = false;\n        }\n    },\n\n    _stopIgnoringResizeEvents: function() {\n        this._ignoreResizeTo = 0;\n    },\n\n    _ignoreResizeEvents: function() {\n        if ( this._ignoreResizeTo ) {\n            clearTimeout( this._ignoreResizeTo );\n        }\n        this._ignoreResizeTo = this._delay( \"_stopIgnoringResizeEvents\", 1000 );\n    },\n\n    _handleWindowResize: function(/* theEvent */) {\n        if ( this._isOpen && this._ignoreResizeTo === 0 ) {\n            if ( ( this._expectResizeEvent() || this._orientationchangeInProgress ) &&\n                !this._ui.container.hasClass( \"ui-popup-hidden\" ) ) {\n                // effectively rapid-close the popup while leaving the screen intact\n                this._ui.container\n                    .addClass( \"ui-popup-hidden ui-popup-truncate\" )\n                    .removeAttr( \"style\" );\n            }\n        }\n    },\n\n    _handleWindowOrientationchange: function(/* theEvent */) {\n        if ( !this._orientationchangeInProgress && this._isOpen && this._ignoreResizeTo === 0 ) {\n            this._expectResizeEvent();\n            this._orientationchangeInProgress = true;\n        }\n    },\n\n    // When the popup is open, attempting to focus on an element that is not a\n    // child of the popup will redirect focus to the popup\n    _handleDocumentFocusIn: function( theEvent ) {\n        var target,\n            targetElement = theEvent.target,\n            ui = this._ui;\n\n        if ( !this._isOpen ) {\n            return;\n        }\n\n        if ( targetElement !== ui.container[ 0 ] ) {\n            target = $( targetElement );\n            if ( !$.contains( ui.container[ 0 ], targetElement ) ) {\n                $( this.document[ 0 ].activeElement ).one( \"focus\", $.proxy( function() {\n                    this._safelyBlur( targetElement );\n                }, this ) );\n                ui.focusElement.focus();\n                theEvent.preventDefault();\n                theEvent.stopImmediatePropagation();\n                return false;\n            } else if ( ui.focusElement[ 0 ] === ui.container[ 0 ] ) {\n                ui.focusElement = target;\n            }\n        }\n\n        this._ignoreResizeEvents();\n    },\n\n    _themeClassFromOption: function( prefix, value ) {\n        return ( value ? ( value === \"none\" ? \"\" : ( prefix + value ) ) : ( prefix + \"inherit\" ) );\n    },\n\n    _applyTransition: function( value ) {\n        if ( value ) {\n            this._ui.container.removeClass( this._fallbackTransition );\n            if ( value !== \"none\" ) {\n                this._fallbackTransition = $.mobile._maybeDegradeTransition( value );\n                if ( this._fallbackTransition === \"none\" ) {\n                    this._fallbackTransition = \"\";\n                }\n                this._ui.container.addClass( this._fallbackTransition );\n            }\n        }\n\n        return this;\n    },\n\n    _setOptions: function( newOptions ) {\n        var currentOptions = this.options,\n            theElement = this.element,\n            screen = this._ui.screen;\n\n        if ( newOptions.wrapperClass !== undefined ) {\n            this._ui.container\n                .removeClass( currentOptions.wrapperClass )\n                .addClass( newOptions.wrapperClass );\n        }\n\n        if ( newOptions.theme !== undefined ) {\n            theElement\n                .removeClass( this._themeClassFromOption( \"ui-body-\", currentOptions.theme ) )\n                .addClass( this._themeClassFromOption( \"ui-body-\", newOptions.theme ) );\n        }\n\n        if ( newOptions.overlayTheme !== undefined ) {\n            screen\n                .removeClass( this._themeClassFromOption( \"ui-overlay-\", currentOptions.overlayTheme ) )\n                .addClass( this._themeClassFromOption( \"ui-overlay-\", newOptions.overlayTheme ) );\n\n            if ( this._isOpen ) {\n                screen.addClass( \"in\" );\n            }\n        }\n\n        if ( newOptions.shadow !== undefined ) {\n            theElement.toggleClass( \"ui-overlay-shadow\", newOptions.shadow );\n        }\n\n        if ( newOptions.corners !== undefined ) {\n            theElement.toggleClass( \"ui-corner-all\", newOptions.corners );\n        }\n\n        if ( newOptions.transition !== undefined ) {\n            if ( !this._currentTransition ) {\n                this._applyTransition( newOptions.transition );\n            }\n        }\n\n        if ( newOptions.tolerance !== undefined ) {\n            this._setTolerance( newOptions.tolerance );\n        }\n\n        if ( newOptions.disabled !== undefined ) {\n            if ( newOptions.disabled ) {\n                this.close();\n            }\n        }\n\n        return this._super( newOptions );\n    },\n\n    _setTolerance: function( value ) {\n        var tol = { t: 30, r: 15, b: 30, l: 15 },\n            ar;\n\n        if ( value !== undefined ) {\n            ar = String( value ).split( \",\" );\n\n            $.each( ar, function( idx, val ) { ar[ idx ] = parseInt( val, 10 ); } );\n\n            switch( ar.length ) {\n                // All values are to be the same\n                case 1:\n                    if ( !isNaN( ar[ 0 ] ) ) {\n                        tol.t = tol.r = tol.b = tol.l = ar[ 0 ];\n                    }\n                    break;\n\n                // The first value denotes top/bottom tolerance, and the second value denotes left/right tolerance\n                case 2:\n                    if ( !isNaN( ar[ 0 ] ) ) {\n                        tol.t = tol.b = ar[ 0 ];\n                    }\n                    if ( !isNaN( ar[ 1 ] ) ) {\n                        tol.l = tol.r = ar[ 1 ];\n                    }\n                    break;\n\n                // The array contains values in the order top, right, bottom, left\n                case 4:\n                    if ( !isNaN( ar[ 0 ] ) ) {\n                        tol.t = ar[ 0 ];\n                    }\n                    if ( !isNaN( ar[ 1 ] ) ) {\n                        tol.r = ar[ 1 ];\n                    }\n                    if ( !isNaN( ar[ 2 ] ) ) {\n                        tol.b = ar[ 2 ];\n                    }\n                    if ( !isNaN( ar[ 3 ] ) ) {\n                        tol.l = ar[ 3 ];\n                    }\n                    break;\n\n                default:\n                    break;\n            }\n        }\n\n        this._tolerance = tol;\n        return this;\n    },\n\n    _clampPopupWidth: function( infoOnly ) {\n        var menuSize,\n            windowCoordinates = getWindowCoordinates( this.window ),\n            // rectangle within which the popup must fit\n            rectangle = {\n                x: this._tolerance.l,\n                y: windowCoordinates.y + this._tolerance.t,\n                cx: windowCoordinates.cx - this._tolerance.l - this._tolerance.r,\n                cy: windowCoordinates.cy - this._tolerance.t - this._tolerance.b\n            };\n\n        if ( !infoOnly ) {\n            // Clamp the width of the menu before grabbing its size\n            this._ui.container.css( \"max-width\", rectangle.cx );\n        }\n\n        menuSize = {\n            cx: this._ui.container.outerWidth( true ),\n            cy: this._ui.container.outerHeight( true )\n        };\n\n        return { rc: rectangle, menuSize: menuSize };\n    },\n\n    _calculateFinalLocation: function( desired, clampInfo ) {\n        var returnValue,\n            rectangle = clampInfo.rc,\n            menuSize = clampInfo.menuSize;\n\n        // Center the menu over the desired coordinates, while not going outside\n        // the window tolerances. This will center wrt. the window if the popup is\n        // too large.\n        returnValue = {\n            left: fitSegmentInsideSegment( rectangle.cx, menuSize.cx, rectangle.x, desired.x ),\n            top: fitSegmentInsideSegment( rectangle.cy, menuSize.cy, rectangle.y, desired.y )\n        };\n\n        // Make sure the top of the menu is visible\n        returnValue.top = Math.max( 0, returnValue.top );\n\n        // If the height of the menu is smaller than the height of the document\n        // align the bottom with the bottom of the document\n\n        returnValue.top -= Math.min( returnValue.top,\n            Math.max( 0, returnValue.top + menuSize.cy - this.document.height() ) );\n\n        return returnValue;\n    },\n\n    // Try and center the overlay over the given coordinates\n    _placementCoords: function( desired ) {\n        return this._calculateFinalLocation( desired, this._clampPopupWidth() );\n    },\n\n    _createPrerequisites: function( screenPrerequisite, containerPrerequisite, whenDone ) {\n        var prerequisites,\n            self = this;\n\n        // It is important to maintain both the local variable prerequisites and\n        // self._prerequisites. The local variable remains in the closure of the\n        // functions which call the callbacks passed in. The comparison between the\n        // local variable and self._prerequisites is necessary, because once a\n        // function has been passed to .animationComplete() it will be called next\n        // time an animation completes, even if that's not the animation whose end\n        // the function was supposed to catch (for example, if an abort happens\n        // during the opening animation, the .animationComplete handler is not\n        // called for that animation anymore, but the handler remains attached, so\n        // it is called the next time the popup is opened - making it stale.\n        // Comparing the local variable prerequisites to the widget-level variable\n        // self._prerequisites ensures that callbacks triggered by a stale\n        // .animationComplete will be ignored.\n\n        prerequisites = {\n            screen: $.Deferred(),\n            container: $.Deferred()\n        };\n\n        prerequisites.screen.then( function() {\n            if ( prerequisites === self._prerequisites ) {\n                screenPrerequisite();\n            }\n        });\n\n        prerequisites.container.then( function() {\n            if ( prerequisites === self._prerequisites ) {\n                containerPrerequisite();\n            }\n        });\n\n        $.when( prerequisites.screen, prerequisites.container ).done( function() {\n            if ( prerequisites === self._prerequisites ) {\n                self._prerequisites = null;\n                whenDone();\n            }\n        });\n\n        self._prerequisites = prerequisites;\n    },\n\n    _animate: function( args ) {\n        // NOTE before removing the default animation of the screen\n        //      this had an animate callback that would resolve the deferred\n        //      now the deferred is resolved immediately\n        // TODO remove the dependency on the screen deferred\n        this._ui.screen\n            .removeClass( args.classToRemove )\n            .addClass( args.screenClassToAdd );\n\n        args.prerequisites.screen.resolve();\n\n        if ( args.transition && args.transition !== \"none\" ) {\n            if ( args.applyTransition ) {\n                this._applyTransition( args.transition );\n            }\n            if ( this._fallbackTransition ) {\n                this._ui.container\n                    .addClass( args.containerClassToAdd )\n                    .removeClass( args.classToRemove )\n                    .animationComplete( $.proxy( args.prerequisites.container, \"resolve\" ) );\n                return;\n            }\n        }\n        this._ui.container.removeClass( args.classToRemove );\n        args.prerequisites.container.resolve();\n    },\n\n    // The desired coordinates passed in will be returned untouched if no reference element can be identified via\n    // desiredPosition.positionTo. Nevertheless, this function ensures that its return value always contains valid\n    // x and y coordinates by specifying the center middle of the window if the coordinates are absent.\n    // options: { x: coordinate, y: coordinate, positionTo: string: \"origin\", \"window\", or jQuery selector\n    _desiredCoords: function( openOptions ) {\n        var offset,\n            dst = null,\n            windowCoordinates = getWindowCoordinates( this.window ),\n            x = openOptions.x,\n            y = openOptions.y,\n            pTo = openOptions.positionTo;\n\n        // Establish which element will serve as the reference\n        if ( pTo && pTo !== \"origin\" ) {\n            if ( pTo === \"window\" ) {\n                x = windowCoordinates.cx / 2 + windowCoordinates.x;\n                y = windowCoordinates.cy / 2 + windowCoordinates.y;\n            } else {\n                try {\n                    dst = $( pTo );\n                } catch( err ) {\n                    dst = null;\n                }\n                if ( dst ) {\n                    dst.filter( \":visible\" );\n                    if ( dst.length === 0 ) {\n                        dst = null;\n                    }\n                }\n            }\n        }\n\n        // If an element was found, center over it\n        if ( dst ) {\n            offset = dst.offset();\n            x = offset.left + dst.outerWidth() / 2;\n            y = offset.top + dst.outerHeight() / 2;\n        }\n\n        // Make sure x and y are valid numbers - center over the window\n        if ( $.type( x ) !== \"number\" || isNaN( x ) ) {\n            x = windowCoordinates.cx / 2 + windowCoordinates.x;\n        }\n        if ( $.type( y ) !== \"number\" || isNaN( y ) ) {\n            y = windowCoordinates.cy / 2 + windowCoordinates.y;\n        }\n\n        return { x: x, y: y };\n    },\n\n    _reposition: function( openOptions ) {\n        // We only care about position-related parameters for repositioning\n        openOptions = {\n            x: openOptions.x,\n            y: openOptions.y,\n            positionTo: openOptions.positionTo\n        };\n        this._trigger( \"beforeposition\", undefined, openOptions );\n        this._ui.container.offset( this._placementCoords( this._desiredCoords( openOptions ) ) );\n    },\n\n    reposition: function( openOptions ) {\n        if ( this._isOpen ) {\n            this._reposition( openOptions );\n        }\n    },\n\n    _safelyBlur: function( currentElement ){\n        if ( currentElement !== this.window[ 0 ] &&\n            currentElement.nodeName.toLowerCase() !== \"body\" ) {\n                $( currentElement ).blur();\n        }\n    },\n\n    _openPrerequisitesComplete: function() {\n        var id = this.element.attr( \"id\" ),\n            firstFocus = this._ui.container.find( \":focusable\" ).first();\n\n        this._ui.container.addClass( \"ui-popup-active\" );\n        this._isOpen = true;\n        this._resizeScreen();\n\n        // Check to see if currElement is not a child of the container.  If it's not, blur\n        if ( !$.contains( this._ui.container[ 0 ], this.document[ 0 ].activeElement ) ) {\n            this._safelyBlur( this.document[ 0 ].activeElement );\n        }\n        if ( firstFocus.length > 0 ) {\n            this._ui.focusElement = firstFocus;\n        }\n        this._ignoreResizeEvents();\n        if ( id ) {\n            this.document.find( \"[aria-haspopup='true'][aria-owns='\" +  id + \"']\" ).attr( \"aria-expanded\", true );\n        }\n        this._trigger( \"afteropen\" );\n    },\n\n    _open: function( options ) {\n        var openOptions = $.extend( {}, this.options, options ),\n            // TODO move blacklist to private method\n            androidBlacklist = ( function() {\n                var ua = navigator.userAgent,\n                    // Rendering engine is Webkit, and capture major version\n                    wkmatch = ua.match( /AppleWebKit\\/([0-9\\.]+)/ ),\n                    wkversion = !!wkmatch && wkmatch[ 1 ],\n                    androidmatch = ua.match( /Android (\\d+(?:\\.\\d+))/ ),\n                    andversion = !!androidmatch && androidmatch[ 1 ],\n                    chromematch = ua.indexOf( \"Chrome\" ) > -1;\n\n                // Platform is Android, WebKit version is greater than 534.13 ( Android 3.2.1 ) and not Chrome.\n                if ( androidmatch !== null && andversion === \"4.0\" && wkversion && wkversion > 534.13 && !chromematch ) {\n                    return true;\n                }\n                return false;\n            }());\n\n        // Count down to triggering \"popupafteropen\" - we have two prerequisites:\n        // 1. The popup window animation completes (container())\n        // 2. The screen opacity animation completes (screen())\n        this._createPrerequisites(\n            $.noop,\n            $.noop,\n            $.proxy( this, \"_openPrerequisitesComplete\" ) );\n\n        this._currentTransition = openOptions.transition;\n        this._applyTransition( openOptions.transition );\n\n        this._ui.screen.removeClass( \"ui-screen-hidden\" );\n        this._ui.container.removeClass( \"ui-popup-truncate\" );\n\n        // Give applications a chance to modify the contents of the container before it appears\n        this._reposition( openOptions );\n\n        this._ui.container.removeClass( \"ui-popup-hidden\" );\n\n        if ( this.options.overlayTheme && androidBlacklist ) {\n            /* TODO: The native browser on Android 4.0.X (\"Ice Cream Sandwich\") suffers from an issue where the popup overlay appears to be z-indexed above the popup itself when certain other styles exist on the same page -- namely, any element set to `position: fixed` and certain types of input. These issues are reminiscent of previously uncovered bugs in older versions of Android's native browser: https://github.com/scottjehl/Device-Bugs/issues/3\n            This fix closes the following bugs ( I use \"closes\" with reluctance, and stress that this issue should be revisited as soon as possible ):\n            https://github.com/jquery/jquery-mobile/issues/4816\n            https://github.com/jquery/jquery-mobile/issues/4844\n            https://github.com/jquery/jquery-mobile/issues/4874\n            */\n\n            // TODO sort out why this._page isn't working\n            this.element.closest( \".ui-page\" ).addClass( \"ui-popup-open\" );\n        }\n        this._animate({\n            additionalCondition: true,\n            transition: openOptions.transition,\n            classToRemove: \"\",\n            screenClassToAdd: \"in\",\n            containerClassToAdd: \"in\",\n            applyTransition: false,\n            prerequisites: this._prerequisites\n        });\n    },\n\n    _closePrerequisiteScreen: function() {\n        this._ui.screen\n            .removeClass( \"out\" )\n            .addClass( \"ui-screen-hidden\" );\n    },\n\n    _closePrerequisiteContainer: function() {\n        this._ui.container\n            .removeClass( \"reverse out\" )\n            .addClass( \"ui-popup-hidden ui-popup-truncate\" )\n            .removeAttr( \"style\" );\n    },\n\n    _closePrerequisitesDone: function() {\n        var container = this._ui.container,\n            id = this.element.attr( \"id\" );\n\n        // remove the global mutex for popups\n        $.mobile.popup.active = undefined;\n\n        // Blur elements inside the container, including the container\n        $( \":focus\", container[ 0 ] ).add( container[ 0 ] ).blur();\n\n        if ( id ) {\n            this.document.find( \"[aria-haspopup='true'][aria-owns='\" +  id + \"']\" ).attr( \"aria-expanded\", false );\n        }\n\n        // alert users that the popup is closed\n        this._trigger( \"afterclose\" );\n    },\n\n    _close: function( immediate ) {\n        this._ui.container.removeClass( \"ui-popup-active\" );\n        this._page.removeClass( \"ui-popup-open\" );\n\n        this._isOpen = false;\n\n        // Count down to triggering \"popupafterclose\" - we have two prerequisites:\n        // 1. The popup window reverse animation completes (container())\n        // 2. The screen opacity animation completes (screen())\n        this._createPrerequisites(\n            $.proxy( this, \"_closePrerequisiteScreen\" ),\n            $.proxy( this, \"_closePrerequisiteContainer\" ),\n            $.proxy( this, \"_closePrerequisitesDone\" ) );\n\n        this._animate( {\n            additionalCondition: this._ui.screen.hasClass( \"in\" ),\n            transition: ( immediate ? \"none\" : ( this._currentTransition ) ),\n            classToRemove: \"in\",\n            screenClassToAdd: \"out\",\n            containerClassToAdd: \"reverse out\",\n            applyTransition: true,\n            prerequisites: this._prerequisites\n        });\n    },\n\n    _unenhance: function() {\n        if ( this.options.enhanced ) {\n            return;\n        }\n\n        // Put the element back to where the placeholder was and remove the \"ui-popup\" class\n        this._setOptions( { theme: $.mobile.popup.prototype.options.theme } );\n        this.element\n            // Cannot directly insertAfter() - we need to detach() first, because\n            // insertAfter() will do nothing if the payload div was not attached\n            // to the DOM at the time the widget was created, and so the payload\n            // will remain inside the container even after we call insertAfter().\n            // If that happens and we remove the container a few lines below, we\n            // will cause an infinite recursion - #5244\n            .detach()\n            .insertAfter( this._ui.placeholder )\n            .removeClass( \"ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit\" );\n        this._ui.screen.remove();\n        this._ui.container.remove();\n        this._ui.placeholder.remove();\n    },\n\n    _destroy: function() {\n        if ( $.mobile.popup.active === this ) {\n            this.element.one( \"popupafterclose\", $.proxy( this, \"_unenhance\" ) );\n            this.close();\n        } else {\n            this._unenhance();\n        }\n\n        return this;\n    },\n\n    _closePopup: function( theEvent, data ) {\n        var parsedDst, toUrl,\n            currentOptions = this.options,\n            immediate = false;\n\n        if ( ( theEvent && theEvent.isDefaultPrevented() ) || $.mobile.popup.active !== this ) {\n            return;\n        }\n\n        // restore location on screen\n        window.scrollTo( 0, this._scrollTop );\n\n        if ( theEvent && theEvent.type === \"pagebeforechange\" && data ) {\n            // Determine whether we need to rapid-close the popup, or whether we can\n            // take the time to run the closing transition\n            if ( typeof data.toPage === \"string\" ) {\n                parsedDst = data.toPage;\n            } else {\n                parsedDst = data.toPage.jqmData( \"url\" );\n            }\n            parsedDst = $.mobile.path.parseUrl( parsedDst );\n            toUrl = parsedDst.pathname + parsedDst.search + parsedDst.hash;\n\n            if ( this._myUrl !== $.mobile.path.makeUrlAbsolute( toUrl ) ) {\n                // Going to a different page - close immediately\n                immediate = true;\n            } else {\n                theEvent.preventDefault();\n            }\n        }\n\n        // remove nav bindings\n        this.window.off( currentOptions.closeEvents );\n        // unbind click handlers added when history is disabled\n        this.element.undelegate( currentOptions.closeLinkSelector, currentOptions.closeLinkEvents );\n\n        this._close( immediate );\n    },\n\n    // any navigation event after a popup is opened should close the popup\n    // NOTE the pagebeforechange is bound to catch navigation events that don't\n    //      alter the url (eg, dialogs from popups)\n    _bindContainerClose: function() {\n        this.window\n            .on( this.options.closeEvents, $.proxy( this, \"_closePopup\" ) );\n    },\n\n    widget: function() {\n        return this._ui.container;\n    },\n\n    // TODO no clear deliniation of what should be here and\n    // what should be in _open. Seems to be \"visual\" vs \"history\" for now\n    open: function( options ) {\n        var url, hashkey, activePage, currentIsDialog, hasHash, urlHistory,\n            self = this,\n            currentOptions = this.options;\n\n        // make sure open is idempotent\n        if ( $.mobile.popup.active || currentOptions.disabled ) {\n            return this;\n        }\n\n        // set the global popup mutex\n        $.mobile.popup.active = this;\n        this._scrollTop = this.window.scrollTop();\n\n        // if history alteration is disabled close on navigate events\n        // and leave the url as is\n        if ( !( currentOptions.history ) ) {\n            self._open( options );\n            self._bindContainerClose();\n\n            // When histoy is disabled we have to grab the data-rel\n            // back link clicks so we can close the popup instead of\n            // relying on history to do it for us\n            self.element\n                .delegate( currentOptions.closeLinkSelector, currentOptions.closeLinkEvents, function( theEvent ) {\n                    self.close();\n                    theEvent.preventDefault();\n                });\n\n            return this;\n        }\n\n        // cache some values for min/readability\n        urlHistory = $.mobile.navigate.history;\n        hashkey = $.mobile.dialogHashKey;\n        activePage = $.mobile.activePage;\n        currentIsDialog = ( activePage ? activePage.hasClass( \"ui-dialog\" ) : false );\n        this._myUrl = url = urlHistory.getActive().url;\n        hasHash = ( url.indexOf( hashkey ) > -1 ) && !currentIsDialog && ( urlHistory.activeIndex > 0 );\n\n        if ( hasHash ) {\n            self._open( options );\n            self._bindContainerClose();\n            return this;\n        }\n\n        // if the current url has no dialog hash key proceed as normal\n        // otherwise, if the page is a dialog simply tack on the hash key\n        if ( url.indexOf( hashkey ) === -1 && !currentIsDialog ) {\n            url = url + (url.indexOf( \"#\" ) > -1 ? hashkey : \"#\" + hashkey);\n        } else {\n            url = $.mobile.path.parseLocation().hash + hashkey;\n        }\n\n        // swallow the the initial navigation event, and bind for the next\n        this.window.one( \"beforenavigate\", function( theEvent ) {\n            theEvent.preventDefault();\n            self._open( options );\n            self._bindContainerClose();\n        });\n\n        this.urlAltered = true;\n        $.mobile.navigate( url, { role: \"dialog\" } );\n\n        return this;\n    },\n\n    close: function() {\n        // make sure close is idempotent\n        if ( $.mobile.popup.active !== this ) {\n            return this;\n        }\n\n        this._scrollTop = this.window.scrollTop();\n\n        if ( this.options.history && this.urlAltered ) {\n            $.mobile.back();\n            this.urlAltered = false;\n        } else {\n            // simulate the nav bindings having fired\n            this._closePopup();\n        }\n\n        return this;\n    }\n});\n\n// TODO this can be moved inside the widget\n$.mobile.popup.handleLink = function( $link ) {\n    var offset,\n        path = $.mobile.path,\n\n        // NOTE make sure to get only the hash from the href because ie7 (wp7)\n        //      returns the absolute href in this case ruining the element selection\n        popup = $( path.hashToSelector( path.parseUrl( $link.attr( \"href\" ) ).hash ) ).first();\n\n    if ( popup.length > 0 && popup.data( \"mobile-popup\" ) ) {\n        offset = $link.offset();\n        popup.popup( \"open\", {\n            x: offset.left + $link.outerWidth() / 2,\n            y: offset.top + $link.outerHeight() / 2,\n            transition: $link.jqmData( \"transition\" ),\n            positionTo: $link.jqmData( \"position-to\" )\n        });\n    }\n\n    //remove after delay\n    setTimeout( function() {\n        $link.removeClass( $.mobile.activeBtnClass );\n    }, 300 );\n};\n\n// TODO move inside _create\n$.mobile.document.on( \"pagebeforechange\", function( theEvent, data ) {\n    if ( data.options.role === \"popup\" ) {\n        $.mobile.popup.handleLink( data.options.link );\n        theEvent.preventDefault();\n    }\n});\n\n})( jQuery );\n\n/*\n* custom \"selectmenu\" plugin\n*/\n\n(function( $, undefined ) {\n\nvar unfocusableItemSelector = \".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')\",\n    goToAdjacentItem = function( item, target, direction ) {\n        var adjacent = item[ direction + \"All\" ]()\n            .not( unfocusableItemSelector )\n            .first();\n\n        // if there's a previous option, focus it\n        if ( adjacent.length ) {\n            target\n                .blur()\n                .attr( \"tabindex\", \"-1\" );\n\n            adjacent.find( \"a\" ).first().focus();\n        }\n    };\n\n$.widget( \"mobile.selectmenu\", $.mobile.selectmenu, {\n    _create: function() {\n        var o = this.options;\n\n        // Custom selects cannot exist inside popups, so revert the \"nativeMenu\"\n        // option to true if a parent is a popup\n        o.nativeMenu = o.nativeMenu || ( this.element.parents( \":jqmData(role='popup'),:mobile-popup\" ).length > 0 );\n\n        return this._super();\n    },\n\n    _handleSelectFocus: function() {\n        this.element.blur();\n        this.button.focus();\n    },\n\n    _handleKeydown: function( event ) {\n        this._super( event );\n        this._handleButtonVclickKeydown( event );\n    },\n\n    _handleButtonVclickKeydown: function( event ) {\n        if ( this.options.disabled || this.isOpen || this.options.nativeMenu ) {\n            return;\n        }\n\n        if (event.type === \"vclick\" ||\n                event.keyCode && (event.keyCode === $.mobile.keyCode.ENTER || event.keyCode === $.mobile.keyCode.SPACE)) {\n\n            this._decideFormat();\n            if ( this.menuType === \"overlay\" ) {\n                this.button.attr( \"href\", \"#\" + this.popupId ).attr( \"data-\" + ( $.mobile.ns || \"\" ) + \"rel\", \"popup\" );\n            } else {\n                this.button.attr( \"href\", \"#\" + this.dialogId ).attr( \"data-\" + ( $.mobile.ns || \"\" ) + \"rel\", \"dialog\" );\n            }\n            this.isOpen = true;\n            // Do not prevent default, so the navigation may have a chance to actually open the chosen format\n        }\n    },\n\n    _handleListFocus: function( e ) {\n        var params = ( e.type === \"focusin\" ) ?\n            { tabindex: \"0\", event: \"vmouseover\" }:\n            { tabindex: \"-1\", event: \"vmouseout\" };\n\n        $( e.target )\n            .attr( \"tabindex\", params.tabindex )\n            .trigger( params.event );\n    },\n\n    _handleListKeydown: function( event ) {\n        var target = $( event.target ),\n            li = target.closest( \"li\" );\n\n        // switch logic based on which key was pressed\n        switch ( event.keyCode ) {\n            // up or left arrow keys\n        case 38:\n            goToAdjacentItem( li, target, \"prev\" );\n            return false;\n            // down or right arrow keys\n        case 40:\n            goToAdjacentItem( li, target, \"next\" );\n            return false;\n            // If enter or space is pressed, trigger click\n        case 13:\n        case 32:\n            target.trigger( \"click\" );\n            return false;\n        }\n    },\n\n    _handleMenuPageHide: function() {\n\n        // After the dialog's done, we may want to trigger change if the value has actually changed\n        this._delayedTrigger();\n\n        // TODO centralize page removal binding / handling in the page plugin.\n        // Suggestion from @jblas to do refcounting\n        //\n        // TODO extremely confusing dependency on the open method where the pagehide.remove\n        // bindings are stripped to prevent the parent page from disappearing. The way\n        // we're keeping pages in the DOM right now sucks\n        //\n        // rebind the page remove that was unbound in the open function\n        // to allow for the parent page removal from actions other than the use\n        // of a dialog sized custom select\n        //\n        // doing this here provides for the back button on the custom select dialog\n        this.thisPage.page( \"bindRemove\" );\n    },\n\n    _handleHeaderCloseClick: function() {\n        if ( this.menuType === \"overlay\" ) {\n            this.close();\n            return false;\n        }\n    },\n\n    _handleListItemClick: function( event ) {\n        var listItem = $( event.target ).closest( \"li\" ),\n\n            // Index of option tag to be selected\n            oldIndex = this.select[ 0 ].selectedIndex,\n            newIndex = $.mobile.getAttribute( listItem, \"option-index\" ),\n            option = this._selectOptions().eq( newIndex )[ 0 ];\n\n        // Toggle selected status on the tag for multi selects\n        option.selected = this.isMultiple ? !option.selected : true;\n\n        // Toggle checkbox class for multiple selects\n        if ( this.isMultiple ) {\n            listItem.find( \"a\" )\n                .toggleClass( \"ui-checkbox-on\", option.selected )\n                .toggleClass( \"ui-checkbox-off\", !option.selected );\n        }\n\n        // If it's not a multiple select, trigger change after it has finished closing\n        if ( !this.isMultiple && oldIndex !== newIndex ) {\n            this._triggerChange = true;\n        }\n\n        // Trigger change if it's a multiple select\n        // Hide custom select for single selects only - otherwise focus clicked item\n        // We need to grab the clicked item the hard way, because the list may have been rebuilt\n        if ( this.isMultiple ) {\n            this.select.trigger( \"change\" );\n            this.list.find( \"li:not(.ui-li-divider)\" ).eq( newIndex )\n                .find( \"a\" ).first().focus();\n        }\n        else {\n            this.close();\n        }\n\n        event.preventDefault();\n    },\n\n    build: function() {\n        var selectId, popupId, dialogId, label, thisPage, isMultiple, menuId,\n            themeAttr, overlayTheme, overlayThemeAttr, dividerThemeAttr,\n            menuPage, listbox, list, header, headerTitle, menuPageContent,\n            menuPageClose, headerClose,\n            o = this.options;\n\n        if ( o.nativeMenu ) {\n            return this._super();\n        }\n\n        selectId = this.selectId;\n        popupId = selectId + \"-listbox\";\n        dialogId = selectId + \"-dialog\";\n        label = this.label;\n        thisPage = this.element.closest( \".ui-page\" );\n        isMultiple = this.element[ 0 ].multiple;\n        menuId = selectId + \"-menu\";\n        themeAttr = o.theme ? ( \" data-\" + $.mobile.ns + \"theme='\" + o.theme + \"'\" ) : \"\";\n        overlayTheme = o.overlayTheme || o.theme || null;\n        overlayThemeAttr = overlayTheme ? ( \" data-\" + $.mobile.ns +\n            \"overlay-theme='\" + overlayTheme + \"'\" ) : \"\";\n        dividerThemeAttr = ( o.dividerTheme && isMultiple ) ? ( \" data-\" + $.mobile.ns + \"divider-theme='\" + o.dividerTheme + \"'\" ) : \"\";\n        menuPage = $( \"<div data-\" + $.mobile.ns + \"role='dialog' class='ui-selectmenu' id='\" + dialogId + \"'\" + themeAttr + overlayThemeAttr + \">\" +\n            \"<div data-\" + $.mobile.ns + \"role='header'>\" +\n            \"<div class='ui-title'></div>\"+\n            \"</div>\"+\n            \"<div data-\" + $.mobile.ns + \"role='content'></div>\"+\n            \"</div>\" );\n        listbox = $( \"<div\" + themeAttr + overlayThemeAttr + \" id='\" + popupId +\n                \"' class='ui-selectmenu'></div>\" )\n            .insertAfter( this.select )\n            .popup();\n        list = $( \"<ul class='ui-selectmenu-list' id='\" + menuId + \"' role='listbox' aria-labelledby='\" + this.buttonId + \"'\" + themeAttr + dividerThemeAttr + \"></ul>\" ).appendTo( listbox );\n        header = $( \"<div class='ui-header ui-bar-\" + ( o.theme ? o.theme : \"inherit\" ) + \"'></div>\" ).prependTo( listbox );\n        headerTitle = $( \"<h1 class='ui-title'></h1>\" ).appendTo( header );\n\n        if ( this.isMultiple ) {\n            headerClose = $( \"<a>\", {\n                \"role\": \"button\",\n                \"text\": o.closeText,\n                \"href\": \"#\",\n                \"class\": \"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete\"\n            }).appendTo( header );\n        }\n\n        $.extend( this, {\n            selectId: selectId,\n            menuId: menuId,\n            popupId: popupId,\n            dialogId: dialogId,\n            thisPage: thisPage,\n            menuPage: menuPage,\n            label: label,\n            isMultiple: isMultiple,\n            theme: o.theme,\n            listbox: listbox,\n            list: list,\n            header: header,\n            headerTitle: headerTitle,\n            headerClose: headerClose,\n            menuPageContent: menuPageContent,\n            menuPageClose: menuPageClose,\n            placeholder: \"\"\n        });\n\n        // Create list from select, update state\n        this.refresh();\n\n        if ( this._origTabIndex === undefined ) {\n            // Map undefined to false, because this._origTabIndex === undefined\n            // indicates that we have not yet checked whether the select has\n            // originally had a tabindex attribute, whereas false indicates that\n            // we have checked the select for such an attribute, and have found\n            // none present.\n            this._origTabIndex = ( this.select[ 0 ].getAttribute( \"tabindex\" ) === null ) ? false : this.select.attr( \"tabindex\" );\n        }\n        this.select.attr( \"tabindex\", \"-1\" );\n        this._on( this.select, { focus : \"_handleSelectFocus\" } );\n\n        // Button events\n        this._on( this.button, {\n            vclick: \"_handleButtonVclickKeydown\"\n        });\n\n        // Events for list items\n        this.list.attr( \"role\", \"listbox\" );\n        this._on( this.list, {\n            \"focusin\": \"_handleListFocus\",\n            \"focusout\": \"_handleListFocus\",\n            \"keydown\": \"_handleListKeydown\",\n            \"click li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)\": \"_handleListItemClick\"\n        });\n\n        // button refocus ensures proper height calculation\n        // by removing the inline style and ensuring page inclusion\n        this._on( this.menuPage, { pagehide: \"_handleMenuPageHide\" } );\n\n        // Events on the popup\n        this._on( this.listbox, { popupafterclose: \"_popupClosed\" } );\n\n        // Close button on small overlays\n        if ( this.isMultiple ) {\n            this._on( this.headerClose, { click: \"_handleHeaderCloseClick\" } );\n        }\n\n        return this;\n    },\n\n    _popupClosed: function() {\n        this.close();\n        this._delayedTrigger();\n    },\n\n    _delayedTrigger: function() {\n        if ( this._triggerChange ) {\n            this.element.trigger( \"change\" );\n        }\n        this._triggerChange = false;\n    },\n\n    _isRebuildRequired: function() {\n        var list = this.list.find( \"li\" ),\n            options = this._selectOptions().not( \".ui-screen-hidden\" );\n\n        // TODO exceedingly naive method to determine difference\n        // ignores value changes etc in favor of a forcedRebuild\n        // from the user in the refresh method\n        return options.text() !== list.text();\n    },\n\n    selected: function() {\n        return this._selectOptions().filter( \":selected:not( :jqmData(placeholder='true') )\" );\n    },\n\n    refresh: function( force ) {\n        var self, indices;\n\n        if ( this.options.nativeMenu ) {\n            return this._super( force );\n        }\n\n        self = this;\n        if ( force || this._isRebuildRequired() ) {\n            self._buildList();\n        }\n\n        indices = this.selectedIndices();\n\n        self.setButtonText();\n        self.setButtonCount();\n\n        self.list.find( \"li:not(.ui-li-divider)\" )\n            .find( \"a\" ).removeClass( $.mobile.activeBtnClass ).end()\n            .attr( \"aria-selected\", false )\n            .each(function( i ) {\n                var item = $( this );\n                if ( $.inArray( i, indices ) > -1 ) {\n\n                    // Aria selected attr\n                    item.attr( \"aria-selected\", true );\n\n                    // Multiple selects: add the \"on\" checkbox state to the icon\n                    if ( self.isMultiple ) {\n                        item.find( \"a\" ).removeClass( \"ui-checkbox-off\" ).addClass( \"ui-checkbox-on\" );\n                    } else {\n                        if ( item.hasClass( \"ui-screen-hidden\" ) ) {\n                            item.next().find( \"a\" ).addClass( $.mobile.activeBtnClass );\n                        } else {\n                            item.find( \"a\" ).addClass( $.mobile.activeBtnClass );\n                        }\n                    }\n                } else if ( self.isMultiple ) {\n                    item.find( \"a\" ).removeClass( \"ui-checkbox-on\" ).addClass( \"ui-checkbox-off\" );\n                }\n            });\n    },\n\n    close: function() {\n        if ( this.options.disabled || !this.isOpen ) {\n            return;\n        }\n\n        var self = this;\n\n        if ( self.menuType === \"page\" ) {\n            self.menuPage.dialog( \"close\" );\n            self.list.appendTo( self.listbox );\n        } else {\n            self.listbox.popup( \"close\" );\n        }\n\n        self._focusButton();\n        // allow the dialog to be closed again\n        self.isOpen = false;\n    },\n\n    open: function() {\n        this.button.click();\n    },\n\n    _focusMenuItem: function() {\n        var selector = this.list.find( \"a.\" + $.mobile.activeBtnClass );\n        if ( selector.length === 0 ) {\n            selector = this.list.find( \"li:not(\" + unfocusableItemSelector + \") a.ui-btn\" );\n        }\n        selector.first().focus();\n    },\n\n    _decideFormat: function() {\n        var self = this,\n            $window = this.window,\n            selfListParent = self.list.parent(),\n            menuHeight = selfListParent.outerHeight(),\n            scrollTop = $window.scrollTop(),\n            btnOffset = self.button.offset().top,\n            screenHeight = $window.height();\n\n        if ( menuHeight > screenHeight - 80 || !$.support.scrollTop ) {\n\n            self.menuPage.appendTo( $.mobile.pageContainer ).page();\n            self.menuPageContent = self.menuPage.find( \".ui-content\" );\n            self.menuPageClose = self.menuPage.find( \".ui-header a\" );\n\n            // prevent the parent page from being removed from the DOM,\n            // otherwise the results of selecting a list item in the dialog\n            // fall into a black hole\n            self.thisPage.unbind( \"pagehide.remove\" );\n\n            //for WebOS/Opera Mini (set lastscroll using button offset)\n            if ( scrollTop === 0 && btnOffset > screenHeight ) {\n                self.thisPage.one( \"pagehide\", function() {\n                    $( this ).jqmData( \"lastScroll\", btnOffset );\n                });\n            }\n\n            self.menuPage.one( {\n                pageshow: $.proxy( this, \"_focusMenuItem\" ),\n                pagehide: $.proxy( this, \"close\" )\n            });\n\n            self.menuType = \"page\";\n            self.menuPageContent.append( self.list );\n            self.menuPage\n                .find( \"div .ui-title\" )\n                    .text( self.label.getEncodedText() || self.placeholder );\n        } else {\n            self.menuType = \"overlay\";\n\n            self.listbox.one( { popupafteropen: $.proxy( this, \"_focusMenuItem\" ) } );\n        }\n    },\n\n    _buildList: function() {\n        var self = this,\n            o = this.options,\n            placeholder = this.placeholder,\n            needPlaceholder = true,\n            dataIcon = \"false\",\n            $options, numOptions, select,\n            dataPrefix = \"data-\" + $.mobile.ns,\n            dataIndexAttr = dataPrefix + \"option-index\",\n            dataIconAttr = dataPrefix + \"icon\",\n            dataRoleAttr = dataPrefix + \"role\",\n            dataPlaceholderAttr = dataPrefix + \"placeholder\",\n            fragment = document.createDocumentFragment(),\n            isPlaceholderItem = false,\n            optGroup,\n            i,\n            option, $option, parent, text, anchor, classes,\n            optLabel, divider, item;\n\n        self.list.empty().filter( \".ui-listview\" ).listview( \"destroy\" );\n        $options = this._selectOptions();\n        numOptions = $options.length;\n        select = this.select[ 0 ];\n\n        for ( i = 0; i < numOptions;i++, isPlaceholderItem = false) {\n            option = $options[i];\n            $option = $( option );\n\n            // Do not create options based on ui-screen-hidden select options\n            if ( $option.hasClass( \"ui-screen-hidden\" ) ) {\n                continue;\n            }\n\n            parent = option.parentNode;\n            classes = [];\n\n            // Although using .text() here raises the risk that, when we later paste this into the\n            // list item we end up pasting possibly malicious things like <script> tags, that risk\n            // only arises if we do something like $( \"<li><a href='#'>\" + text + \"</a></li>\" ). We\n            // don't do that. We do document.createTextNode( text ) instead, which guarantees that\n            // whatever we paste in will end up as text, with characters like <, > and & escaped.\n            text = $option.text();\n            anchor = document.createElement( \"a\" );\n            anchor.setAttribute( \"href\", \"#\" );\n            anchor.appendChild( document.createTextNode( text ) );\n\n            // Are we inside an optgroup?\n            if ( parent !== select && parent.nodeName.toLowerCase() === \"optgroup\" ) {\n                optLabel = parent.getAttribute( \"label\" );\n                if ( optLabel !== optGroup ) {\n                    divider = document.createElement( \"li\" );\n                    divider.setAttribute( dataRoleAttr, \"list-divider\" );\n                    divider.setAttribute( \"role\", \"option\" );\n                    divider.setAttribute( \"tabindex\", \"-1\" );\n                    divider.appendChild( document.createTextNode( optLabel ) );\n                    fragment.appendChild( divider );\n                    optGroup = optLabel;\n                }\n            }\n\n            if ( needPlaceholder && ( !option.getAttribute( \"value\" ) || text.length === 0 || $option.jqmData( \"placeholder\" ) ) ) {\n                needPlaceholder = false;\n                isPlaceholderItem = true;\n\n                // If we have identified a placeholder, record the fact that it was\n                // us who have added the placeholder to the option and mark it\n                // retroactively in the select as well\n                if ( null === option.getAttribute( dataPlaceholderAttr ) ) {\n                    this._removePlaceholderAttr = true;\n                }\n                option.setAttribute( dataPlaceholderAttr, true );\n                if ( o.hidePlaceholderMenuItems ) {\n                    classes.push( \"ui-screen-hidden\" );\n                }\n                if ( placeholder !== text ) {\n                    placeholder = self.placeholder = text;\n                }\n            }\n\n            item = document.createElement( \"li\" );\n            if ( option.disabled ) {\n                classes.push( \"ui-state-disabled\" );\n                item.setAttribute( \"aria-disabled\", true );\n            }\n            item.setAttribute( dataIndexAttr, i );\n            item.setAttribute( dataIconAttr, dataIcon );\n            if ( isPlaceholderItem ) {\n                item.setAttribute( dataPlaceholderAttr, true );\n            }\n            item.className = classes.join( \" \" );\n            item.setAttribute( \"role\", \"option\" );\n            anchor.setAttribute( \"tabindex\", \"-1\" );\n            if ( this.isMultiple ) {\n                $( anchor ).addClass( \"ui-btn ui-checkbox-off ui-btn-icon-right\" );\n            }\n\n            item.appendChild( anchor );\n            fragment.appendChild( item );\n        }\n\n        self.list[0].appendChild( fragment );\n\n        // Hide header if it's not a multiselect and there's no placeholder\n        if ( !this.isMultiple && !placeholder.length ) {\n            this.header.addClass( \"ui-screen-hidden\" );\n        } else {\n            this.headerTitle.text( this.placeholder );\n        }\n\n        // Now populated, create listview\n        self.list.listview();\n    },\n\n    _button: function() {\n        return this.options.nativeMenu ?\n            this._super() :\n            $( \"<a>\", {\n                \"href\": \"#\",\n                \"role\": \"button\",\n                // TODO value is undefined at creation\n                \"id\": this.buttonId,\n                \"aria-haspopup\": \"true\",\n\n                // TODO value is undefined at creation\n                \"aria-owns\": this.menuId\n            });\n    },\n\n    _destroy: function() {\n\n        if ( !this.options.nativeMenu ) {\n            this.close();\n\n            // Restore the tabindex attribute to its original value\n            if ( this._origTabIndex !== undefined ) {\n                if ( this._origTabIndex !== false ) {\n                    this.select.attr( \"tabindex\", this._origTabIndex );\n                } else {\n                    this.select.removeAttr( \"tabindex\" );\n                }\n            }\n\n            // Remove the placeholder attribute if we were the ones to add it\n            if ( this._removePlaceholderAttr ) {\n                this._selectOptions().removeAttr( \"data-\" + $.mobile.ns + \"placeholder\" );\n            }\n\n            // Remove the popup\n            this.listbox.remove();\n\n            // Remove the dialog\n            this.menuPage.remove();\n        }\n\n        // Chain up\n        this._super();\n    }\n});\n\n})( jQuery );\n\n\n// buttonMarkup is deprecated as of 1.4.0 and will be removed in 1.5.0.\n\n(function( $, undefined ) {\n\n// General policy: Do not access data-* attributes except during enhancement.\n// In all other cases we determine the state of the button exclusively from its\n// className. That's why optionsToClasses expects a full complement of options,\n// and the jQuery plugin completes the set of options from the default values.\n\n// Map classes to buttonMarkup boolean options - used in classNameToOptions()\nvar reverseBoolOptionMap = {\n        \"ui-shadow\" : \"shadow\",\n        \"ui-corner-all\" : \"corners\",\n        \"ui-btn-inline\" : \"inline\",\n        \"ui-shadow-icon\" : \"iconshadow\", /* TODO: Remove in 1.5 */\n        \"ui-mini\" : \"mini\"\n    },\n    getAttrFixed = function() {\n        var ret = $.mobile.getAttribute.apply( this, arguments );\n\n        return ( ret == null ? undefined : ret );\n    },\n    capitalLettersRE = /[A-Z]/g;\n\n// optionsToClasses:\n// @options: A complete set of options to convert to class names.\n// @existingClasses: extra classes to add to the result\n//\n// Converts @options to buttonMarkup classes and returns the result as an array\n// that can be converted to an element's className with .join( \" \" ). All\n// possible options must be set inside @options. Use $.fn.buttonMarkup.defaults\n// to get a complete set and use $.extend to override your choice of options\n// from that set.\nfunction optionsToClasses( options, existingClasses ) {\n    var classes = existingClasses ? existingClasses : [];\n\n    // Add classes to the array - first ui-btn\n    classes.push( \"ui-btn\" );\n\n    // If there is a theme\n    if ( options.theme ) {\n        classes.push( \"ui-btn-\" + options.theme );\n    }\n\n    // If there's an icon, add the icon-related classes\n    if ( options.icon ) {\n        classes = classes.concat([\n            \"ui-icon-\" + options.icon,\n            \"ui-btn-icon-\" + options.iconpos\n        ]);\n        if ( options.iconshadow ) {\n            classes.push( \"ui-shadow-icon\" ); /* TODO: Remove in 1.5 */\n        }\n    }\n\n    // Add the appropriate class for each boolean option\n    if ( options.inline ) {\n        classes.push( \"ui-btn-inline\" );\n    }\n    if ( options.shadow ) {\n        classes.push( \"ui-shadow\" );\n    }\n    if ( options.corners ) {\n        classes.push( \"ui-corner-all\" );\n    }\n    if ( options.mini ) {\n        classes.push( \"ui-mini\" );\n    }\n\n    // Create a string from the array and return it\n    return classes;\n}\n\n// classNameToOptions:\n// @classes: A string containing a .className-style space-separated class list\n//\n// Loops over @classes and calculates an options object based on the\n// buttonMarkup-related classes it finds. It records unrecognized classes in an\n// array.\n//\n// Returns: An object containing the following items:\n//\n// \"options\": buttonMarkup options found to be present because of the\n// presence/absence of corresponding classes\n//\n// \"unknownClasses\": a string containing all the non-buttonMarkup-related\n// classes found in @classes\n//\n// \"alreadyEnhanced\": A boolean indicating whether the ui-btn class was among\n// those found to be present\nfunction classNameToOptions( classes ) {\n    var idx, map, unknownClass,\n        alreadyEnhanced = false,\n        noIcon = true,\n        o = {\n            icon: \"\",\n            inline: false,\n            shadow: false,\n            corners: false,\n            iconshadow: false,\n            mini: false\n        },\n        unknownClasses = [];\n\n    classes = classes.split( \" \" );\n\n    // Loop over the classes\n    for ( idx = 0 ; idx < classes.length ; idx++ ) {\n\n        // Assume it's an unrecognized class\n        unknownClass = true;\n\n        // Recognize boolean options from the presence of classes\n        map = reverseBoolOptionMap[ classes[ idx ] ];\n        if ( map !== undefined ) {\n            unknownClass = false;\n            o[ map ] = true;\n\n        // Recognize the presence of an icon and establish the icon position\n        } else if ( classes[ idx ].indexOf( \"ui-btn-icon-\" ) === 0 ) {\n            unknownClass = false;\n            noIcon = false;\n            o.iconpos = classes[ idx ].substring( 12 );\n\n        // Establish which icon is present\n        } else if ( classes[ idx ].indexOf( \"ui-icon-\" ) === 0 ) {\n            unknownClass = false;\n            o.icon = classes[ idx ].substring( 8 );\n\n        // Establish the theme - this recognizes one-letter theme swatch names\n        } else if ( classes[ idx ].indexOf( \"ui-btn-\" ) === 0 && classes[ idx ].length === 8 ) {\n            unknownClass = false;\n            o.theme = classes[ idx ].substring( 7 );\n\n        // Recognize that this element has already been buttonMarkup-enhanced\n        } else if ( classes[ idx ] === \"ui-btn\" ) {\n            unknownClass = false;\n            alreadyEnhanced = true;\n        }\n\n        // If this class has not been recognized, add it to the list\n        if ( unknownClass ) {\n            unknownClasses.push( classes[ idx ] );\n        }\n    }\n\n    // If a \"ui-btn-icon-*\" icon position class is absent there cannot be an icon\n    if ( noIcon ) {\n        o.icon = \"\";\n    }\n\n    return {\n        options: o,\n        unknownClasses: unknownClasses,\n        alreadyEnhanced: alreadyEnhanced\n    };\n}\n\nfunction camelCase2Hyphenated( c ) {\n    return \"-\" + c.toLowerCase();\n}\n\n// $.fn.buttonMarkup:\n// DOM: gets/sets .className\n//\n// @options: options to apply to the elements in the jQuery object\n// @overwriteClasses: boolean indicating whether to honour existing classes\n//\n// Calculates the classes to apply to the elements in the jQuery object based on\n// the options passed in. If @overwriteClasses is true, it sets the className\n// property of each element in the jQuery object to the buttonMarkup classes\n// it calculates based on the options passed in.\n//\n// If you wish to preserve any classes that are already present on the elements\n// inside the jQuery object, including buttonMarkup-related classes that were\n// added by a previous call to $.fn.buttonMarkup() or during page enhancement\n// then you should omit @overwriteClasses or set it to false.\n$.fn.buttonMarkup = function( options, overwriteClasses ) {\n    var idx, data, el, retrievedOptions, optionKey,\n        defaults = $.fn.buttonMarkup.defaults;\n\n    for ( idx = 0 ; idx < this.length ; idx++ ) {\n        el = this[ idx ];\n        data = overwriteClasses ?\n\n            // Assume this element is not enhanced and ignore its classes\n            { alreadyEnhanced: false, unknownClasses: [] } :\n\n            // Otherwise analyze existing classes to establish existing options and\n            // classes\n            classNameToOptions( el.className );\n\n        retrievedOptions = $.extend( {},\n\n            // If the element already has the class ui-btn, then we assume that\n            // it has passed through buttonMarkup before - otherwise, the options\n            // returned by classNameToOptions do not correctly reflect the state of\n            // the element\n            ( data.alreadyEnhanced ? data.options : {} ),\n\n            // Finally, apply the options passed in\n            options );\n\n        // If this is the first call on this element, retrieve remaining options\n        // from the data-attributes\n        if ( !data.alreadyEnhanced ) {\n            for ( optionKey in defaults ) {\n                if ( retrievedOptions[ optionKey ] === undefined ) {\n                    retrievedOptions[ optionKey ] = getAttrFixed( el,\n                        optionKey.replace( capitalLettersRE, camelCase2Hyphenated )\n                    );\n                }\n            }\n        }\n\n        el.className = optionsToClasses(\n\n            // Merge all the options and apply them as classes\n            $.extend( {},\n\n                // The defaults form the basis\n                defaults,\n\n                // Add the computed options\n                retrievedOptions\n            ),\n\n            // ... and re-apply any unrecognized classes that were found\n            data.unknownClasses ).join( \" \" );\n        if ( el.tagName.toLowerCase() !== \"button\" ) {\n            el.setAttribute( \"role\", \"button\" );\n        }\n    }\n\n    return this;\n};\n\n// buttonMarkup defaults. This must be a complete set, i.e., a value must be\n// given here for all recognized options\n$.fn.buttonMarkup.defaults = {\n    icon: \"\",\n    iconpos: \"left\",\n    theme: null,\n    inline: false,\n    shadow: true,\n    corners: true,\n    iconshadow: false, /* TODO: Remove in 1.5. Option deprecated in 1.4. */\n    mini: false\n};\n\n$.extend( $.fn.buttonMarkup, {\n    initSelector: \"a:jqmData(role='button'), .ui-bar > a, .ui-bar > :jqmData(role='controlgroup') > a, button:not(:jqmData(role='navbar') button)\"\n});\n\n})( jQuery );\n\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.controlgroup\", $.extend( {\n    options: {\n        enhanced: false,\n        theme: null,\n        shadow: false,\n        corners: true,\n        excludeInvisible: true,\n        type: \"vertical\",\n        mini: false\n    },\n\n    _create: function() {\n        var elem = this.element,\n            opts = this.options,\n            keepNative = $.mobile.page.prototype.keepNativeSelector();\n\n        // Run buttonmarkup\n        if ( $.fn.buttonMarkup ) {\n            this.element\n                .find( $.fn.buttonMarkup.initSelector )\n                .not( keepNative )\n                .buttonMarkup();\n        }\n        // Enhance child widgets\n        $.each( this._childWidgets, $.proxy( function( number, widgetName ) {\n            if ( $.mobile[ widgetName ] ) {\n                this.element\n                    .find( $.mobile[ widgetName ].initSelector )\n                    .not( keepNative )[ widgetName ]();\n            }\n        }, this ));\n\n        $.extend( this, {\n            _ui: null,\n            _initialRefresh: true\n        });\n\n        if ( opts.enhanced ) {\n            this._ui = {\n                groupLegend: elem.children( \".ui-controlgroup-label\" ).children(),\n                childWrapper: elem.children( \".ui-controlgroup-controls\" )\n            };\n        } else {\n            this._ui = this._enhance();\n        }\n\n    },\n\n    _childWidgets: [ \"checkboxradio\", \"selectmenu\", \"button\" ],\n\n    _themeClassFromOption: function( value ) {\n        return ( value ? ( value === \"none\" ? \"\" : \"ui-group-theme-\" + value ) : \"\" );\n    },\n\n    _enhance: function() {\n        var elem = this.element,\n            opts = this.options,\n            ui = {\n                groupLegend: elem.children( \"legend\" ),\n                childWrapper: elem\n                    .addClass( \"ui-controlgroup \" +\n                        \"ui-controlgroup-\" +\n                            ( opts.type === \"horizontal\" ? \"horizontal\" : \"vertical\" ) + \" \" +\n                        this._themeClassFromOption( opts.theme ) + \" \" +\n                        ( opts.corners ? \"ui-corner-all \" : \"\" ) +\n                        ( opts.mini ? \"ui-mini \" : \"\" ) )\n                    .wrapInner( \"<div \" +\n                        \"class='ui-controlgroup-controls \" +\n                            ( opts.shadow === true ? \"ui-shadow\" : \"\" ) + \"'></div>\" )\n                    .children()\n            };\n\n        if ( ui.groupLegend.length > 0 ) {\n            $( \"<div role='heading' class='ui-controlgroup-label'></div>\" )\n                .append( ui.groupLegend )\n                .prependTo( elem );\n        }\n\n        return ui;\n    },\n\n    _init: function() {\n        this.refresh();\n    },\n\n    _setOptions: function( options ) {\n        var callRefresh, returnValue,\n            elem = this.element;\n\n        // Must have one of horizontal or vertical\n        if ( options.type !== undefined ) {\n            elem\n                .removeClass( \"ui-controlgroup-horizontal ui-controlgroup-vertical\" )\n                .addClass( \"ui-controlgroup-\" + ( options.type === \"horizontal\" ? \"horizontal\" : \"vertical\" ) );\n            callRefresh = true;\n        }\n\n        if ( options.theme !== undefined ) {\n            elem\n                .removeClass( this._themeClassFromOption( this.options.theme ) )\n                .addClass( this._themeClassFromOption( options.theme ) );\n        }\n\n        if ( options.corners !== undefined ) {\n            elem.toggleClass( \"ui-corner-all\", options.corners );\n        }\n\n        if ( options.mini !== undefined ) {\n            elem.toggleClass( \"ui-mini\", options.mini );\n        }\n\n        if ( options.shadow !== undefined ) {\n            this._ui.childWrapper.toggleClass( \"ui-shadow\", options.shadow );\n        }\n\n        if ( options.excludeInvisible !== undefined ) {\n            this.options.excludeInvisible = options.excludeInvisible;\n            callRefresh = true;\n        }\n\n        returnValue = this._super( options );\n\n        if ( callRefresh ) {\n            this.refresh();\n        }\n\n        return returnValue;\n    },\n\n    container: function() {\n        return this._ui.childWrapper;\n    },\n\n    refresh: function() {\n        var $el = this.container(),\n            els = $el.find( \".ui-btn\" ).not( \".ui-slider-handle\" ),\n            create = this._initialRefresh;\n        if ( $.mobile.checkboxradio ) {\n            $el.find( \":mobile-checkboxradio\" ).checkboxradio( \"refresh\" );\n        }\n        this._addFirstLastClasses( els,\n            this.options.excludeInvisible ? this._getVisibles( els, create ) : els,\n            create );\n        this._initialRefresh = false;\n    },\n\n    // Caveat: If the legend is not the first child of the controlgroup at enhance\n    // time, it will be after _destroy().\n    _destroy: function() {\n        var ui, buttons,\n            opts = this.options;\n\n        if ( opts.enhanced ) {\n            return this;\n        }\n\n        ui = this._ui;\n        buttons = this.element\n            .removeClass( \"ui-controlgroup \" +\n                \"ui-controlgroup-horizontal ui-controlgroup-vertical ui-corner-all ui-mini \" +\n                this._themeClassFromOption( opts.theme ) )\n            .find( \".ui-btn\" )\n            .not( \".ui-slider-handle\" );\n\n        this._removeFirstLastClasses( buttons );\n\n        ui.groupLegend.unwrap();\n        ui.childWrapper.children().unwrap();\n    }\n}, $.mobile.behaviors.addFirstLastClasses ) );\n\n})(jQuery);\n\n(function( $, undefined ) {\n\n    $.widget( \"mobile.toolbar\", {\n        initSelector: \":jqmData(role='footer'), :jqmData(role='header')\",\n\n        options: {\n            theme: null,\n            addBackBtn: false,\n            backBtnTheme: null,\n            backBtnText: \"Back\"\n        },\n\n        _create: function() {\n            var leftbtn, rightbtn,\n                role =  this.element.is( \":jqmData(role='header')\" ) ? \"header\" : \"footer\",\n                page = this.element.closest( \".ui-page\" );\n            if ( page.length === 0 ) {\n                page = false;\n                this._on( this.document, {\n                    \"pageshow\": \"refresh\"\n                });\n            }\n            $.extend( this, {\n                role: role,\n                page: page,\n                leftbtn: leftbtn,\n                rightbtn: rightbtn\n            });\n            this.element.attr( \"role\", role === \"header\" ? \"banner\" : \"contentinfo\" ).addClass( \"ui-\" + role );\n            this.refresh();\n            this._setOptions( this.options );\n        },\n        _setOptions: function( o ) {\n            if ( o.addBackBtn !== undefined ) {\n                this._updateBackButton();\n            }\n            if ( o.backBtnTheme != null ) {\n                this.element\n                    .find( \".ui-toolbar-back-btn\" )\n                    .addClass( \"ui-btn ui-btn-\" + o.backBtnTheme );\n            }\n            if ( o.backBtnText !== undefined ) {\n                this.element.find( \".ui-toolbar-back-btn .ui-btn-text\" ).text( o.backBtnText );\n            }\n            if ( o.theme !== undefined ) {\n                var currentTheme = this.options.theme ? this.options.theme : \"inherit\",\n                    newTheme = o.theme ? o.theme : \"inherit\";\n\n                this.element.removeClass( \"ui-bar-\" + currentTheme ).addClass( \"ui-bar-\" + newTheme );\n            }\n\n            this._super( o );\n        },\n        refresh: function() {\n            if ( this.role === \"header\" ) {\n                this._addHeaderButtonClasses();\n            }\n            if ( !this.page ) {\n                this._setRelative();\n                if ( this.role === \"footer\" ) {\n                    this.element.appendTo( \"body\" );\n                } else if ( this.role === \"header\" ) {\n                    this._updateBackButton();\n                }\n            }\n            this._addHeadingClasses();\n            this._btnMarkup();\n        },\n\n        //we only want this to run on non fixed toolbars so make it easy to override\n        _setRelative: function() {\n            $( \"[data-\"+ $.mobile.ns + \"role='page']\" ).css({ \"position\": \"relative\" });\n        },\n\n        // Deprecated in 1.4. As from 1.5 button classes have to be present in the markup.\n        _btnMarkup: function() {\n            this.element\n                .children( \"a\" )\n                .filter( \":not([data-\" + $.mobile.ns + \"role='none'])\" )\n                .attr( \"data-\" + $.mobile.ns + \"role\", \"button\" );\n            this.element.trigger( \"create\" );\n        },\n        // Deprecated in 1.4. As from 1.5 ui-btn-left/right classes have to be present in the markup.\n        _addHeaderButtonClasses: function() {\n            var headerAnchors = this.element.children( \"a, button\" );\n\n            // Do not mistake a back button for a left toolbar button\n            this.leftbtn = headerAnchors.hasClass( \"ui-btn-left\" ) &&\n                !headerAnchors.hasClass( \"ui-toolbar-back-btn\" );\n\n            this.rightbtn = headerAnchors.hasClass( \"ui-btn-right\" );\n\n            // Filter out right buttons and back buttons\n            this.leftbtn = this.leftbtn ||\n                headerAnchors.eq( 0 )\n                    .not( \".ui-btn-right,.ui-toolbar-back-btn\" )\n                    .addClass( \"ui-btn-left\" )\n                    .length;\n\n            this.rightbtn = this.rightbtn || headerAnchors.eq( 1 ).addClass( \"ui-btn-right\" ).length;\n        },\n        _updateBackButton: function() {\n            var backButton,\n                options = this.options,\n                theme = options.backBtnTheme || options.theme;\n\n            // Retrieve the back button or create a new, empty one\n            backButton = this._backButton = ( this._backButton || {} );\n\n            // We add a back button only if the option to do so is on\n            if ( this.options.addBackBtn &&\n\n                    // This must also be a header toolbar\n                    this.role === \"header\" &&\n\n                    // There must be multiple pages in the DOM\n                    $( \".ui-page\" ).length > 1 &&\n                    ( this.page ?\n\n                        // If the toolbar is internal the page's URL must differ from the hash\n                        ( this.page[ 0 ].getAttribute( \"data-\" + $.mobile.ns + \"url\" ) !==\n                            $.mobile.path.stripHash( location.hash ) ) :\n\n                        // Otherwise, if the toolbar is external there must be at least one\n                        // history item to which one can go back\n                        ( $.mobile.navigate && $.mobile.navigate.history &&\n                            $.mobile.navigate.history.activeIndex > 0 ) ) &&\n\n                    // The toolbar does not have a left button\n                    !this.leftbtn ) {\n\n                // Skip back button creation if one is already present\n                if ( !backButton.attached ) {\n                    this.backButton = backButton.element = ( backButton.element ||\n                        $( \"<a role='button' href='javascript:void(0);' \" +\n                            \"class='ui-btn ui-corner-all ui-shadow ui-btn-left \" +\n                                ( theme ? \"ui-btn-\" + theme + \" \" : \"\" ) +\n                                \"ui-toolbar-back-btn ui-icon-carat-l ui-btn-icon-left' \" +\n                            \"data-\" + $.mobile.ns + \"rel='back'>\" + options.backBtnText +\n                            \"</a>\" ) )\n                            .prependTo( this.element );\n                    backButton.attached = true;\n                }\n\n            // If we are not adding a back button, then remove the one present, if any\n            } else if ( backButton.element ) {\n                backButton.element.detach();\n                backButton.attached = false;\n            }\n        },\n        _addHeadingClasses: function() {\n            this.element.children( \"h1, h2, h3, h4, h5, h6\" )\n                .addClass( \"ui-title\" )\n                // Regardless of h element number in src, it becomes h1 for the enhanced page\n                .attr({\n                    \"role\": \"heading\",\n                    \"aria-level\": \"1\"\n                });\n        },\n        _destroy: function() {\n            var currentTheme;\n\n            this.element.children( \"h1, h2, h3, h4, h5, h6\" )\n                .removeClass( \"ui-title\" )\n                .removeAttr( \"role\" )\n                .removeAttr( \"aria-level\" );\n\n            if ( this.role === \"header\" ) {\n                this.element.children( \"a, button\" )\n                    .removeClass( \"ui-btn-left ui-btn-right ui-btn ui-shadow ui-corner-all\" );\n                if ( this.backButton) {\n                    this.backButton.remove();\n                }\n            }\n\n            currentTheme = this.options.theme ? this.options.theme : \"inherit\";\n            this.element.removeClass( \"ui-bar-\" + currentTheme );\n\n            this.element.removeClass( \"ui-\" + this.role ).removeAttr( \"role\" );\n        }\n    });\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n    $.widget( \"mobile.toolbar\", $.mobile.toolbar, {\n        options: {\n            position:null,\n            visibleOnPageShow: true,\n            disablePageZoom: true,\n            transition: \"slide\", //can be none, fade, slide (slide maps to slideup or slidedown)\n            fullscreen: false,\n            tapToggle: true,\n            tapToggleBlacklist: \"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-flipswitch, .ui-popup, .ui-panel, .ui-panel-dismiss-open\",\n            hideDuringFocus: \"input, textarea, select\",\n            updatePagePadding: true,\n            trackPersistentToolbars: true,\n\n            // Browser detection! Weeee, here we go...\n            // Unfortunately, position:fixed is costly, not to mention probably impossible, to feature-detect accurately.\n            // Some tests exist, but they currently return false results in critical devices and browsers, which could lead to a broken experience.\n            // Testing fixed positioning is also pretty obtrusive to page load, requiring injected elements and scrolling the window\n            // The following function serves to rule out some popular browsers with known fixed-positioning issues\n            // This is a plugin option like any other, so feel free to improve or overwrite it\n            supportBlacklist: function() {\n                return !$.support.fixedPosition;\n            }\n        },\n\n        _create: function() {\n            this._super();\n            this.pagecontainer = $( \":mobile-pagecontainer\" );\n            if ( this.options.position === \"fixed\" && !this.options.supportBlacklist() ) {\n                this._makeFixed();\n            }\n        },\n\n        _makeFixed: function() {\n            this.element.addClass( \"ui-\"+ this.role +\"-fixed\" );\n            this.updatePagePadding();\n            this._addTransitionClass();\n            this._bindPageEvents();\n            this._bindToggleHandlers();\n        },\n\n        _setOptions: function( o ) {\n            if ( o.position === \"fixed\" && this.options.position !== \"fixed\" ) {\n                this._makeFixed();\n            }\n            if ( this.options.position === \"fixed\" && !this.options.supportBlacklist() ) {\n                var $page = ( !!this.page )? this.page: ( $(\".ui-page-active\").length > 0 )? $(\".ui-page-active\"): $(\".ui-page\").eq(0);\n\n                if ( o.fullscreen !== undefined) {\n                    if ( o.fullscreen ) {\n                        this.element.addClass( \"ui-\"+ this.role +\"-fullscreen\" );\n                        $page.addClass( \"ui-page-\" + this.role + \"-fullscreen\" );\n                    }\n                    // If not fullscreen, add class to page to set top or bottom padding\n                    else {\n                        this.element.removeClass( \"ui-\"+ this.role +\"-fullscreen\" );\n                        $page.removeClass( \"ui-page-\" + this.role + \"-fullscreen\" ).addClass( \"ui-page-\" + this.role+ \"-fixed\" );\n                    }\n                }\n            }\n            this._super(o);\n        },\n\n        _addTransitionClass: function() {\n            var tclass = this.options.transition;\n\n            if ( tclass && tclass !== \"none\" ) {\n                // use appropriate slide for header or footer\n                if ( tclass === \"slide\" ) {\n                    tclass = this.element.hasClass( \"ui-header\" ) ? \"slidedown\" : \"slideup\";\n                }\n\n                this.element.addClass( tclass );\n            }\n        },\n\n        _bindPageEvents: function() {\n            var page = ( !!this.page )? this.element.closest( \".ui-page\" ): this.document;\n            //page event bindings\n            // Fixed toolbars require page zoom to be disabled, otherwise usability issues crop up\n            // This method is meant to disable zoom while a fixed-positioned toolbar page is visible\n            this._on( page , {\n                \"pagebeforeshow\": \"_handlePageBeforeShow\",\n                \"webkitAnimationStart\":\"_handleAnimationStart\",\n                \"animationstart\":\"_handleAnimationStart\",\n                \"updatelayout\": \"_handleAnimationStart\",\n                \"pageshow\": \"_handlePageShow\",\n                \"pagebeforehide\": \"_handlePageBeforeHide\"\n            });\n        },\n\n        _handlePageBeforeShow: function( ) {\n            var o = this.options;\n            if ( o.disablePageZoom ) {\n                $.mobile.zoom.disable( true );\n            }\n            if ( !o.visibleOnPageShow ) {\n                this.hide( true );\n            }\n        },\n\n        _handleAnimationStart: function() {\n            if ( this.options.updatePagePadding ) {\n                this.updatePagePadding( ( !!this.page )? this.page: \".ui-page-active\" );\n            }\n        },\n\n        _handlePageShow: function() {\n            this.updatePagePadding( ( !!this.page )? this.page: \".ui-page-active\" );\n            if ( this.options.updatePagePadding ) {\n                this._on( this.window, { \"throttledresize\": \"updatePagePadding\" } );\n            }\n        },\n\n        _handlePageBeforeHide: function( e, ui ) {\n            var o = this.options,\n                thisFooter, thisHeader, nextFooter, nextHeader;\n\n            if ( o.disablePageZoom ) {\n                $.mobile.zoom.enable( true );\n            }\n            if ( o.updatePagePadding ) {\n                this._off( this.window, \"throttledresize\" );\n            }\n\n            if ( o.trackPersistentToolbars ) {\n                thisFooter = $( \".ui-footer-fixed:jqmData(id)\", this.page );\n                thisHeader = $( \".ui-header-fixed:jqmData(id)\", this.page );\n                nextFooter = thisFooter.length && ui.nextPage && $( \".ui-footer-fixed:jqmData(id='\" + thisFooter.jqmData( \"id\" ) + \"')\", ui.nextPage ) || $();\n                nextHeader = thisHeader.length && ui.nextPage && $( \".ui-header-fixed:jqmData(id='\" + thisHeader.jqmData( \"id\" ) + \"')\", ui.nextPage ) || $();\n\n                if ( nextFooter.length || nextHeader.length ) {\n\n                    nextFooter.add( nextHeader ).appendTo( $.mobile.pageContainer );\n\n                    ui.nextPage.one( \"pageshow\", function() {\n                        nextHeader.prependTo( this );\n                        nextFooter.appendTo( this );\n                    });\n                }\n            }\n        },\n\n        _visible: true,\n\n        // This will set the content element's top or bottom padding equal to the toolbar's height\n        updatePagePadding: function( tbPage ) {\n            var $el = this.element,\n                header = ( this.role ===\"header\" ),\n                pos = parseFloat( $el.css( header ? \"top\" : \"bottom\" ) );\n\n            // This behavior only applies to \"fixed\", not \"fullscreen\"\n            if ( this.options.fullscreen ) { return; }\n            // tbPage argument can be a Page object or an event, if coming from throttled resize.\n            tbPage = ( tbPage && tbPage.type === undefined && tbPage ) || this.page || $el.closest( \".ui-page\" );\n            tbPage = ( !!this.page )? this.page: \".ui-page-active\";\n            $( tbPage ).css( \"padding-\" + ( header ? \"top\" : \"bottom\" ), $el.outerHeight() + pos );\n        },\n\n        _useTransition: function( notransition ) {\n            var $win = this.window,\n                $el = this.element,\n                scroll = $win.scrollTop(),\n                elHeight = $el.height(),\n                pHeight = ( !!this.page )? $el.closest( \".ui-page\" ).height():$(\".ui-page-active\").height(),\n                viewportHeight = $.mobile.getScreenHeight();\n\n            return !notransition &&\n                ( this.options.transition && this.options.transition !== \"none\" &&\n                (\n                    ( this.role === \"header\" && !this.options.fullscreen && scroll > elHeight ) ||\n                    ( this.role === \"footer\" && !this.options.fullscreen && scroll + viewportHeight < pHeight - elHeight )\n                ) || this.options.fullscreen\n                );\n        },\n\n        show: function( notransition ) {\n            var hideClass = \"ui-fixed-hidden\",\n                $el = this.element;\n\n            if ( this._useTransition( notransition ) ) {\n                $el\n                    .removeClass( \"out \" + hideClass )\n                    .addClass( \"in\" )\n                    .animationComplete(function () {\n                        $el.removeClass( \"in\" );\n                    });\n            }\n            else {\n                $el.removeClass( hideClass );\n            }\n            this._visible = true;\n        },\n\n        hide: function( notransition ) {\n            var hideClass = \"ui-fixed-hidden\",\n                $el = this.element,\n                // if it's a slide transition, our new transitions need the reverse class as well to slide outward\n                outclass = \"out\" + ( this.options.transition === \"slide\" ? \" reverse\" : \"\" );\n\n            if ( this._useTransition( notransition ) ) {\n                $el\n                    .addClass( outclass )\n                    .removeClass( \"in\" )\n                    .animationComplete(function() {\n                        $el.addClass( hideClass ).removeClass( outclass );\n                    });\n            }\n            else {\n                $el.addClass( hideClass ).removeClass( outclass );\n            }\n            this._visible = false;\n        },\n\n        toggle: function() {\n            this[ this._visible ? \"hide\" : \"show\" ]();\n        },\n\n        _bindToggleHandlers: function() {\n            var self = this,\n                o = self.options,\n                delayShow, delayHide,\n                isVisible = true,\n                page = ( !!this.page )? this.page: $(\".ui-page\");\n\n            // tap toggle\n            page\n                .bind( \"vclick\", function( e ) {\n                    if ( o.tapToggle && !$( e.target ).closest( o.tapToggleBlacklist ).length ) {\n                        self.toggle();\n                    }\n                })\n                .bind( \"focusin focusout\", function( e ) {\n                    //this hides the toolbars on a keyboard pop to give more screen room and prevent ios bug which\n                    //positions fixed toolbars in the middle of the screen on pop if the input is near the top or\n                    //bottom of the screen addresses issues #4410 Footer navbar moves up when clicking on a textbox in an Android environment\n                    //and issue #4113 Header and footer change their position after keyboard popup - iOS\n                    //and issue #4410 Footer navbar moves up when clicking on a textbox in an Android environment\n                    if ( screen.width < 1025 && $( e.target ).is( o.hideDuringFocus ) && !$( e.target ).closest( \".ui-header-fixed, .ui-footer-fixed\" ).length ) {\n                        //Fix for issue #4724 Moving through form in Mobile Safari with \"Next\" and \"Previous\" system\n                        //controls causes fixed position, tap-toggle false Header to reveal itself\n                        // isVisible instead of self._visible because the focusin and focusout events fire twice at the same time\n                        // Also use a delay for hiding the toolbars because on Android native browser focusin is direclty followed\n                        // by a focusout when a native selects opens and the other way around when it closes.\n                        if ( e.type === \"focusout\" && !isVisible ) {\n                            isVisible = true;\n                            //wait for the stack to unwind and see if we have jumped to another input\n                            clearTimeout( delayHide );\n                            delayShow = setTimeout( function() {\n                                self.show();\n                            }, 0 );\n                        } else if ( e.type === \"focusin\" && !!isVisible ) {\n                            //if we have jumped to another input clear the time out to cancel the show.\n                            clearTimeout( delayShow );\n                            isVisible = false;\n                            delayHide = setTimeout( function() {\n                                self.hide();\n                            }, 0 );\n                        }\n                    }\n                });\n        },\n\n        _setRelative: function() {\n            if( this.options.position !== \"fixed\" ){\n                $( \"[data-\"+ $.mobile.ns + \"role='page']\" ).css({ \"position\": \"relative\" });\n            }\n        },\n\n        _destroy: function() {\n            var pageClasses, toolbarClasses, hasFixed, header, hasFullscreen,\n                page = this.pagecontainer.pagecontainer( \"getActivePage\" );\n\n            this._super();\n            if ( this.options.position === \"fixed\" ) {\n                hasFixed = $(  \"body>.ui-\" + this.role + \"-fixed\" )\n                            .add( page.find( \".ui-\" + this.options.role + \"-fixed\" ) )\n                            .not( this.element ).length > 0;\n                hasFullscreen = $(  \"body>.ui-\" + this.role + \"-fixed\" )\n                            .add( page.find( \".ui-\" + this.options.role + \"-fullscreen\" ) )\n                            .not( this.element ).length > 0;\n                toolbarClasses =  \"ui-header-fixed ui-footer-fixed ui-header-fullscreen in out\" +\n                    \" ui-footer-fullscreen fade slidedown slideup ui-fixed-hidden\";\n                this.element.removeClass( toolbarClasses );\n                if ( !hasFullscreen ) {\n                    pageClasses = \"ui-page-\" + this.role + \"-fullscreen\";\n                }\n                if ( !hasFixed ) {\n                    header = this.role === \"header\";\n                    pageClasses += \" ui-page-\" + this.role + \"-fixed\";\n                    page.css( \"padding-\" + ( header ? \"top\" : \"bottom\" ), \"\" );\n                }\n                page.removeClass( pageClasses );\n            }\n        }\n\n    });\n})( jQuery );\n\n(function( $, undefined ) {\n    $.widget( \"mobile.toolbar\", $.mobile.toolbar, {\n\n        _makeFixed: function() {\n            this._super();\n            this._workarounds();\n        },\n\n        //check the browser and version and run needed workarounds\n        _workarounds: function() {\n            var ua = navigator.userAgent,\n            platform = navigator.platform,\n            // Rendering engine is Webkit, and capture major version\n            wkmatch = ua.match( /AppleWebKit\\/([0-9]+)/ ),\n            wkversion = !!wkmatch && wkmatch[ 1 ],\n            os = null,\n            self = this;\n            //set the os we are working in if it dosent match one with workarounds return\n            if ( platform.indexOf( \"iPhone\" ) > -1 || platform.indexOf( \"iPad\" ) > -1  || platform.indexOf( \"iPod\" ) > -1 ) {\n                os = \"ios\";\n            } else if ( ua.indexOf( \"Android\" ) > -1 ) {\n                os = \"android\";\n            } else {\n                return;\n            }\n            //check os version if it dosent match one with workarounds return\n            if ( os === \"ios\" ) {\n                //iOS  workarounds\n                self._bindScrollWorkaround();\n            } else if ( os === \"android\" && wkversion && wkversion < 534 ) {\n                //Android 2.3 run all Android 2.3 workaround\n                self._bindScrollWorkaround();\n                self._bindListThumbWorkaround();\n            } else {\n                return;\n            }\n        },\n\n        //Utility class for checking header and footer positions relative to viewport\n        _viewportOffset: function() {\n            var $el = this.element,\n                header = $el.hasClass( \"ui-header\" ),\n                offset = Math.abs( $el.offset().top - this.window.scrollTop() );\n            if ( !header ) {\n                offset = Math.round( offset - this.window.height() + $el.outerHeight() ) - 60;\n            }\n            return offset;\n        },\n\n        //bind events for _triggerRedraw() function\n        _bindScrollWorkaround: function() {\n            var self = this;\n            //bind to scrollstop and check if the toolbars are correctly positioned\n            this._on( this.window, { scrollstop: function() {\n                var viewportOffset = self._viewportOffset();\n                //check if the header is visible and if its in the right place\n                if ( viewportOffset > 2 && self._visible ) {\n                    self._triggerRedraw();\n                }\n            }});\n        },\n\n        //this addresses issue #4250 Persistent footer instability in v1.1 with long select lists in Android 2.3.3\n        //and issue #3748 Android 2.x: Page transitions broken when fixed toolbars used\n        //the absolutely positioned thumbnail in a list view causes problems with fixed position buttons above in a nav bar\n        //setting the li's to -webkit-transform:translate3d(0,0,0); solves this problem to avoide potential issues in other\n        //platforms we scope this with the class ui-android-2x-fix\n        _bindListThumbWorkaround: function() {\n            this.element.closest( \".ui-page\" ).addClass( \"ui-android-2x-fixed\" );\n        },\n        //this addresses issues #4337 Fixed header problem after scrolling content on iOS and Android\n        //and device bugs project issue #1 Form elements can lose click hit area in position: fixed containers.\n        //this also addresses not on fixed toolbars page in docs\n        //adding 1px of padding to the bottom then removing it causes a \"redraw\"\n        //which positions the toolbars correctly (they will always be visually correct)\n        _triggerRedraw: function() {\n            var paddingBottom = parseFloat( $( \".ui-page-active\" ).css( \"padding-bottom\" ) );\n            //trigger page redraw to fix incorrectly positioned fixed elements\n            $( \".ui-page-active\" ).css( \"padding-bottom\", ( paddingBottom + 1 ) + \"px\" );\n            //if the padding is reset with out a timeout the reposition will not occure.\n            //this is independant of JQM the browser seems to need the time to react.\n            setTimeout( function() {\n                $( \".ui-page-active\" ).css( \"padding-bottom\", paddingBottom + \"px\" );\n            }, 0 );\n        },\n\n        destroy: function() {\n            this._super();\n            //Remove the class we added to the page previously in android 2.x\n            this.element.closest( \".ui-page-active\" ).removeClass( \"ui-android-2x-fix\" );\n        }\n    });\n\n})( jQuery );\n\n\n( function( $, undefined ) {\n\nvar ieHack = ( $.mobile.browser.oldIE && $.mobile.browser.oldIE <= 8 ),\n    uiTemplate = $(\n        \"<div class='ui-popup-arrow-guide'></div>\" +\n        \"<div class='ui-popup-arrow-container\" + ( ieHack ? \" ie\" : \"\" ) + \"'>\" +\n            \"<div class='ui-popup-arrow'></div>\" +\n        \"</div>\"\n    );\n\nfunction getArrow() {\n    var clone = uiTemplate.clone(),\n        gd = clone.eq( 0 ),\n        ct = clone.eq( 1 ),\n        ar = ct.children();\n\n    return { arEls: ct.add( gd ), gd: gd, ct: ct, ar: ar };\n}\n\n$.widget( \"mobile.popup\", $.mobile.popup, {\n    options: {\n\n        arrow: \"\"\n    },\n\n    _create: function() {\n        var ar,\n            ret = this._super();\n\n        if ( this.options.arrow ) {\n            this._ui.arrow = ar = this._addArrow();\n        }\n\n        return ret;\n    },\n\n    _addArrow: function() {\n        var theme,\n            opts = this.options,\n            ar = getArrow();\n\n        theme = this._themeClassFromOption( \"ui-body-\", opts.theme );\n        ar.ar.addClass( theme + ( opts.shadow ? \" ui-overlay-shadow\" : \"\" ) );\n        ar.arEls.hide().appendTo( this.element );\n\n        return ar;\n    },\n\n    _unenhance: function() {\n        var ar = this._ui.arrow;\n\n        if ( ar ) {\n            ar.arEls.remove();\n        }\n\n        return this._super();\n    },\n\n    // Pretend to show an arrow described by @p and @dir and calculate the\n    // distance from the desired point. If a best-distance is passed in, return\n    // the minimum of the one passed in and the one calculated.\n    _tryAnArrow: function( p, dir, desired, s, best ) {\n        var result, r, diff, desiredForArrow = {}, tip = {};\n\n        // If the arrow has no wiggle room along the edge of the popup, it cannot\n        // be displayed along the requested edge without it sticking out.\n        if ( s.arFull[ p.dimKey ] > s.guideDims[ p.dimKey ] ) {\n            return best;\n        }\n\n        desiredForArrow[ p.fst ] = desired[ p.fst ] +\n            ( s.arHalf[ p.oDimKey ] + s.menuHalf[ p.oDimKey ] ) * p.offsetFactor -\n            s.contentBox[ p.fst ] + ( s.clampInfo.menuSize[ p.oDimKey ] - s.contentBox[ p.oDimKey ] ) * p.arrowOffsetFactor;\n        desiredForArrow[ p.snd ] = desired[ p.snd ];\n\n        result = s.result || this._calculateFinalLocation( desiredForArrow, s.clampInfo );\n        r = { x: result.left, y: result.top };\n\n        tip[ p.fst ] = r[ p.fst ] + s.contentBox[ p.fst ] + p.tipOffset;\n        tip[ p.snd ] = Math.max( result[ p.prop ] + s.guideOffset[ p.prop ] + s.arHalf[ p.dimKey ],\n            Math.min( result[ p.prop ] + s.guideOffset[ p.prop ] + s.guideDims[ p.dimKey ] - s.arHalf[ p.dimKey ],\n                desired[ p.snd ] ) );\n\n        diff = Math.abs( desired.x - tip.x ) + Math.abs( desired.y - tip.y );\n        if ( !best || diff < best.diff ) {\n            // Convert tip offset to coordinates inside the popup\n            tip[ p.snd ] -= s.arHalf[ p.dimKey ] + result[ p.prop ] + s.contentBox[ p.snd ];\n            best = { dir: dir, diff: diff, result: result, posProp: p.prop, posVal: tip[ p.snd ] };\n        }\n\n        return best;\n    },\n\n    _getPlacementState: function( clamp ) {\n        var offset, gdOffset,\n            ar = this._ui.arrow,\n            state = {\n                clampInfo: this._clampPopupWidth( !clamp ),\n                arFull: { cx: ar.ct.width(), cy: ar.ct.height() },\n                guideDims: { cx: ar.gd.width(), cy: ar.gd.height() },\n                guideOffset: ar.gd.offset()\n            };\n\n        offset = this.element.offset();\n\n        ar.gd.css( { left: 0, top: 0, right: 0, bottom: 0 } );\n        gdOffset = ar.gd.offset();\n        state.contentBox = {\n            x: gdOffset.left - offset.left,\n            y: gdOffset.top - offset.top,\n            cx: ar.gd.width(),\n            cy: ar.gd.height()\n        };\n        ar.gd.removeAttr( \"style\" );\n\n        // The arrow box moves between guideOffset and guideOffset + guideDims - arFull\n        state.guideOffset = { left: state.guideOffset.left - offset.left, top: state.guideOffset.top - offset.top };\n        state.arHalf = { cx: state.arFull.cx / 2, cy: state.arFull.cy / 2 };\n        state.menuHalf = { cx: state.clampInfo.menuSize.cx / 2, cy: state.clampInfo.menuSize.cy / 2 };\n\n        return state;\n    },\n\n    _placementCoords: function( desired ) {\n        var state, best, params, elOffset, bgRef,\n            optionValue = this.options.arrow,\n            ar = this._ui.arrow;\n\n        if ( !ar ) {\n            return this._super( desired );\n        }\n\n        ar.arEls.show();\n\n        bgRef = {};\n        state = this._getPlacementState( true );\n        params = {\n            \"l\": { fst: \"x\", snd: \"y\", prop: \"top\", dimKey: \"cy\", oDimKey: \"cx\", offsetFactor: 1, tipOffset:  -state.arHalf.cx, arrowOffsetFactor: 0 },\n            \"r\": { fst: \"x\", snd: \"y\", prop: \"top\", dimKey: \"cy\", oDimKey: \"cx\", offsetFactor: -1, tipOffset: state.arHalf.cx + state.contentBox.cx, arrowOffsetFactor: 1 },\n            \"b\": { fst: \"y\", snd: \"x\", prop: \"left\", dimKey: \"cx\", oDimKey: \"cy\", offsetFactor: -1, tipOffset: state.arHalf.cy + state.contentBox.cy, arrowOffsetFactor: 1 },\n            \"t\": { fst: \"y\", snd: \"x\", prop: \"left\", dimKey: \"cx\", oDimKey: \"cy\", offsetFactor: 1, tipOffset: -state.arHalf.cy, arrowOffsetFactor: 0 }\n        };\n\n        // Try each side specified in the options to see on which one the arrow\n        // should be placed such that the distance between the tip of the arrow and\n        // the desired coordinates is the shortest.\n        $.each( ( optionValue === true ? \"l,t,r,b\" : optionValue ).split( \",\" ),\n            $.proxy( function( key, value ) {\n                best = this._tryAnArrow( params[ value ], value, desired, state, best );\n            }, this ) );\n\n        // Could not place the arrow along any of the edges - behave as if showing\n        // the arrow was turned off.\n        if ( !best ) {\n            ar.arEls.hide();\n            return this._super( desired );\n        }\n\n        // Move the arrow into place\n        ar.ct\n            .removeClass( \"ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b\" )\n            .addClass( \"ui-popup-arrow-\" + best.dir )\n            .removeAttr( \"style\" ).css( best.posProp, best.posVal )\n            .show();\n\n        // Do not move/size the background div on IE, because we use the arrow div for background as well.\n        if ( !ieHack ) {\n            elOffset = this.element.offset();\n            bgRef[ params[ best.dir ].fst ] = ar.ct.offset();\n            bgRef[ params[ best.dir ].snd ] = {\n                left: elOffset.left + state.contentBox.x,\n                top: elOffset.top + state.contentBox.y\n            };\n        }\n\n        return best.result;\n    },\n\n    _setOptions: function( opts ) {\n        var newTheme,\n            oldTheme = this.options.theme,\n            ar = this._ui.arrow,\n            ret = this._super( opts );\n\n        if ( opts.arrow !== undefined ) {\n            if ( !ar && opts.arrow ) {\n                this._ui.arrow = this._addArrow();\n\n                // Important to return here so we don't set the same options all over\n                // again below.\n                return;\n            } else if ( ar && !opts.arrow ) {\n                ar.arEls.remove();\n                this._ui.arrow = null;\n            }\n        }\n\n        // Reassign with potentially new arrow\n        ar = this._ui.arrow;\n\n        if ( ar ) {\n            if ( opts.theme !== undefined ) {\n                oldTheme = this._themeClassFromOption( \"ui-body-\", oldTheme );\n                newTheme = this._themeClassFromOption( \"ui-body-\", opts.theme );\n                ar.ar.removeClass( oldTheme ).addClass( newTheme );\n            }\n\n            if ( opts.shadow !== undefined ) {\n                ar.ar.toggleClass( \"ui-overlay-shadow\", opts.shadow );\n            }\n        }\n\n        return ret;\n    },\n\n    _destroy: function() {\n        var ar = this._ui.arrow;\n\n        if ( ar ) {\n            ar.arEls.remove();\n        }\n\n        return this._super();\n    }\n});\n\n})( jQuery );\n\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.panel\", {\n    options: {\n        classes: {\n            panel: \"ui-panel\",\n            panelOpen: \"ui-panel-open\",\n            panelClosed: \"ui-panel-closed\",\n            panelFixed: \"ui-panel-fixed\",\n            panelInner: \"ui-panel-inner\",\n            modal: \"ui-panel-dismiss\",\n            modalOpen: \"ui-panel-dismiss-open\",\n            pageContainer: \"ui-panel-page-container\",\n            pageWrapper: \"ui-panel-wrapper\",\n            pageFixedToolbar: \"ui-panel-fixed-toolbar\",\n            pageContentPrefix: \"ui-panel-page-content\", /* Used for wrapper and fixed toolbars position, display and open classes. */\n            animate: \"ui-panel-animate\"\n        },\n        animate: true,\n        theme: null,\n        position: \"left\",\n        dismissible: true,\n        display: \"reveal\", //accepts reveal, push, overlay\n        swipeClose: true,\n        positionFixed: false\n    },\n\n    _closeLink: null,\n    _parentPage: null,\n    _page: null,\n    _modal: null,\n    _panelInner: null,\n    _wrapper: null,\n    _fixedToolbars: null,\n\n    _create: function() {\n        var el = this.element,\n            parentPage = el.closest( \".ui-page, :jqmData(role='page')\" );\n\n        // expose some private props to other methods\n        $.extend( this, {\n            _closeLink: el.find( \":jqmData(rel='close')\" ),\n            _parentPage: ( parentPage.length > 0 ) ? parentPage : false,\n            _openedPage: null,\n            _page: this._getPage,\n            _panelInner: this._getPanelInner(),\n            _fixedToolbars: this._getFixedToolbars\n        });\n        if ( this.options.display !== \"overlay\" ){\n            this._getWrapper();\n        }\n        this._addPanelClasses();\n\n        // if animating, add the class to do so\n        if ( $.support.cssTransform3d && !!this.options.animate ) {\n            this.element.addClass( this.options.classes.animate );\n        }\n\n        this._bindUpdateLayout();\n        this._bindCloseEvents();\n        this._bindLinkListeners();\n        this._bindPageEvents();\n\n        if ( !!this.options.dismissible ) {\n            this._createModal();\n        }\n\n        this._bindSwipeEvents();\n    },\n\n    _getPanelInner: function() {\n        var panelInner = this.element.find( \".\" + this.options.classes.panelInner );\n\n        if ( panelInner.length === 0 ) {\n            panelInner = this.element.children().wrapAll( \"<div class='\" + this.options.classes.panelInner + \"' />\" ).parent();\n        }\n\n        return panelInner;\n    },\n\n    _createModal: function() {\n        var self = this,\n            target = self._parentPage ? self._parentPage.parent() : self.element.parent();\n\n        self._modal = $( \"<div class='\" + self.options.classes.modal + \"'></div>\" )\n            .on( \"mousedown\", function() {\n                self.close();\n            })\n            .appendTo( target );\n    },\n\n    _getPage: function() {\n        var page = this._openedPage || this._parentPage || $( \".\" + $.mobile.activePageClass );\n\n        return page;\n    },\n\n    _getWrapper: function() {\n        var wrapper = this._page().find( \".\" + this.options.classes.pageWrapper );\n        if ( wrapper.length === 0 ) {\n            wrapper = this._page().children( \".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)\" )\n                .wrapAll( \"<div class='\" + this.options.classes.pageWrapper + \"'></div>\" )\n                .parent();\n        }\n\n        this._wrapper = wrapper;\n    },\n\n    _getFixedToolbars: function() {\n        var extFixedToolbars = $( \"body\" ).children( \".ui-header-fixed, .ui-footer-fixed\" ),\n            intFixedToolbars = this._page().find( \".ui-header-fixed, .ui-footer-fixed\" ),\n            fixedToolbars = extFixedToolbars.add( intFixedToolbars ).addClass( this.options.classes.pageFixedToolbar );\n\n        return fixedToolbars;\n    },\n\n    _getPosDisplayClasses: function( prefix ) {\n        return prefix + \"-position-\" + this.options.position + \" \" + prefix + \"-display-\" + this.options.display;\n    },\n\n    _getPanelClasses: function() {\n        var panelClasses = this.options.classes.panel +\n            \" \" + this._getPosDisplayClasses( this.options.classes.panel ) +\n            \" \" + this.options.classes.panelClosed +\n            \" \" + \"ui-body-\" + ( this.options.theme ? this.options.theme : \"inherit\" );\n\n        if ( !!this.options.positionFixed ) {\n            panelClasses += \" \" + this.options.classes.panelFixed;\n        }\n\n        return panelClasses;\n    },\n\n    _addPanelClasses: function() {\n        this.element.addClass( this._getPanelClasses() );\n    },\n\n    _handleCloseClick: function( event ) {\n        if ( !event.isDefaultPrevented() ) {\n            this.close();\n        }\n    },\n\n    _bindCloseEvents: function() {\n        this._on( this._closeLink, {\n            \"click\": \"_handleCloseClick\"\n        });\n\n        this._on({\n            \"click a:jqmData(ajax='false')\": \"_handleCloseClick\"\n        });\n    },\n\n    _positionPanel: function( scrollToTop ) {\n        var self = this,\n            panelInnerHeight = self._panelInner.outerHeight(),\n            expand = panelInnerHeight > $.mobile.getScreenHeight();\n\n        if ( expand || !self.options.positionFixed ) {\n            if ( expand ) {\n                self._unfixPanel();\n                $.mobile.resetActivePageHeight( panelInnerHeight );\n            }\n            if ( scrollToTop ) {\n                this.window[ 0 ].scrollTo( 0, $.mobile.defaultHomeScroll );\n            }\n        } else {\n            self._fixPanel();\n        }\n    },\n\n    _bindFixListener: function() {\n        this._on( $( window ), { \"throttledresize\": \"_positionPanel\" });\n    },\n\n    _unbindFixListener: function() {\n        this._off( $( window ), \"throttledresize\" );\n    },\n\n    _unfixPanel: function() {\n        if ( !!this.options.positionFixed && $.support.fixedPosition ) {\n            this.element.removeClass( this.options.classes.panelFixed );\n        }\n    },\n\n    _fixPanel: function() {\n        if ( !!this.options.positionFixed && $.support.fixedPosition ) {\n            this.element.addClass( this.options.classes.panelFixed );\n        }\n    },\n\n    _bindUpdateLayout: function() {\n        var self = this;\n\n        self.element.on( \"updatelayout\", function(/* e */) {\n            if ( self._open ) {\n                self._positionPanel();\n            }\n        });\n    },\n\n    _bindLinkListeners: function() {\n        this._on( \"body\", {\n            \"click a\": \"_handleClick\"\n        });\n\n    },\n\n    _handleClick: function( e ) {\n        var link,\n            panelId = this.element.attr( \"id\" );\n\n        if ( e.currentTarget.href.split( \"#\" )[ 1 ] === panelId && panelId !== undefined ) {\n\n            e.preventDefault();\n            link = $( e.target );\n            if ( link.hasClass( \"ui-btn\" ) ) {\n                link.addClass( $.mobile.activeBtnClass );\n                this.element.one( \"panelopen panelclose\", function() {\n                    link.removeClass( $.mobile.activeBtnClass );\n                });\n            }\n            this.toggle();\n        }\n    },\n\n    _bindSwipeEvents: function() {\n        var self = this,\n            area = self._modal ? self.element.add( self._modal ) : self.element;\n\n        // on swipe, close the panel\n        if ( !!self.options.swipeClose ) {\n            if ( self.options.position === \"left\" ) {\n                area.on( \"swipeleft.panel\", function(/* e */) {\n                    self.close();\n                });\n            } else {\n                area.on( \"swiperight.panel\", function(/* e */) {\n                    self.close();\n                });\n            }\n        }\n    },\n\n    _bindPageEvents: function() {\n        var self = this;\n\n        this.document\n            // Close the panel if another panel on the page opens\n            .on( \"panelbeforeopen\", function( e ) {\n                if ( self._open && e.target !== self.element[ 0 ] ) {\n                    self.close();\n                }\n            })\n            // On escape, close? might need to have a target check too...\n            .on( \"keyup.panel\", function( e ) {\n                if ( e.keyCode === 27 && self._open ) {\n                    self.close();\n                }\n            });\n        if ( !this._parentPage && this.options.display !== \"overlay\" ) {\n            this._on( this.document, {\n                \"pageshow\": function() {\n                    this._openedPage = null;\n                    this._getWrapper();\n                }\n            });\n        }\n        // Clean up open panels after page hide\n        if ( self._parentPage ) {\n            this.document.on( \"pagehide\", \":jqmData(role='page')\", function() {\n                if ( self._open ) {\n                    self.close( true );\n                }\n            });\n        } else {\n            this.document.on( \"pagebeforehide\", function() {\n                if ( self._open ) {\n                    self.close( true );\n                }\n            });\n        }\n    },\n\n    // state storage of open or closed\n    _open: false,\n    _pageContentOpenClasses: null,\n    _modalOpenClasses: null,\n\n    open: function( immediate ) {\n        if ( !this._open ) {\n            var self = this,\n                o = self.options,\n\n                _openPanel = function() {\n                    self._off( self.document , \"panelclose\" );\n                    self._page().jqmData( \"panel\", \"open\" );\n\n                    if ( $.support.cssTransform3d && !!o.animate && o.display !== \"overlay\" ) {\n                        self._wrapper.addClass( o.classes.animate );\n                        self._fixedToolbars().addClass( o.classes.animate );\n                    }\n\n                    if ( !immediate && $.support.cssTransform3d && !!o.animate ) {\n                        ( self._wrapper || self.element )\n                            .animationComplete( complete, \"transition\" );\n                    } else {\n                        setTimeout( complete, 0 );\n                    }\n\n                    if ( o.theme && o.display !== \"overlay\" ) {\n                        self._page().parent()\n                            .addClass( o.classes.pageContainer + \"-themed \" + o.classes.pageContainer + \"-\" + o.theme );\n                    }\n\n                    self.element\n                        .removeClass( o.classes.panelClosed )\n                        .addClass( o.classes.panelOpen );\n\n                    self._positionPanel( true );\n\n                    self._pageContentOpenClasses = self._getPosDisplayClasses( o.classes.pageContentPrefix );\n\n                    if ( o.display !== \"overlay\" ) {\n                        self._page().parent().addClass( o.classes.pageContainer );\n                        self._wrapper.addClass( self._pageContentOpenClasses );\n                        self._fixedToolbars().addClass( self._pageContentOpenClasses );\n                    }\n\n                    self._modalOpenClasses = self._getPosDisplayClasses( o.classes.modal ) + \" \" + o.classes.modalOpen;\n                    if ( self._modal ) {\n                        self._modal\n                            .addClass( self._modalOpenClasses )\n                            .height( Math.max( self._modal.height(), self.document.height() ) );\n                    }\n                },\n                complete = function() {\n\n                    // Bail if the panel was closed before the opening animation has completed\n                    if ( !self._open ) {\n                        return;\n                    }\n\n                    if ( o.display !== \"overlay\" ) {\n                        self._wrapper.addClass( o.classes.pageContentPrefix + \"-open\" );\n                        self._fixedToolbars().addClass( o.classes.pageContentPrefix + \"-open\" );\n                    }\n\n                    self._bindFixListener();\n\n                    self._trigger( \"open\" );\n\n                    self._openedPage = self._page();\n                };\n\n            self._trigger( \"beforeopen\" );\n\n            if ( self._page().jqmData( \"panel\" ) === \"open\" ) {\n                self._on( self.document, {\n                    \"panelclose\": _openPanel\n                });\n            } else {\n                _openPanel();\n            }\n\n            self._open = true;\n        }\n    },\n\n    close: function( immediate ) {\n        if ( this._open ) {\n            var self = this,\n                o = this.options,\n\n                _closePanel = function() {\n\n                    self.element.removeClass( o.classes.panelOpen );\n\n                    if ( o.display !== \"overlay\" ) {\n                        self._wrapper.removeClass( self._pageContentOpenClasses );\n                        self._fixedToolbars().removeClass( self._pageContentOpenClasses );\n                    }\n\n                    if ( !immediate && $.support.cssTransform3d && !!o.animate ) {\n                        ( self._wrapper || self.element )\n                            .animationComplete( complete, \"transition\" );\n                    } else {\n                        setTimeout( complete, 0 );\n                    }\n\n                    if ( self._modal ) {\n                        self._modal\n                            .removeClass( self._modalOpenClasses )\n                            .height( \"\" );\n                    }\n                },\n                complete = function() {\n                    if ( o.theme && o.display !== \"overlay\" ) {\n                        self._page().parent().removeClass( o.classes.pageContainer + \"-themed \" + o.classes.pageContainer + \"-\" + o.theme );\n                    }\n\n                    self.element.addClass( o.classes.panelClosed );\n\n                    if ( o.display !== \"overlay\" ) {\n                        self._page().parent().removeClass( o.classes.pageContainer );\n                        self._wrapper.removeClass( o.classes.pageContentPrefix + \"-open\" );\n                        self._fixedToolbars().removeClass( o.classes.pageContentPrefix + \"-open\" );\n                    }\n\n                    if ( $.support.cssTransform3d && !!o.animate && o.display !== \"overlay\" ) {\n                        self._wrapper.removeClass( o.classes.animate );\n                        self._fixedToolbars().removeClass( o.classes.animate );\n                    }\n\n                    self._fixPanel();\n                    self._unbindFixListener();\n                    $.mobile.resetActivePageHeight();\n\n                    self._page().jqmRemoveData( \"panel\" );\n\n                    self._trigger( \"close\" );\n\n                    self._openedPage = null;\n                };\n\n            self._trigger( \"beforeclose\" );\n\n            _closePanel();\n\n            self._open = false;\n        }\n    },\n\n    toggle: function() {\n        this[ this._open ? \"close\" : \"open\" ]();\n    },\n\n    _destroy: function() {\n        var otherPanels,\n        o = this.options,\n        multiplePanels = ( $( \"body > :mobile-panel\" ).length + $.mobile.activePage.find( \":mobile-panel\" ).length ) > 1;\n\n        if ( o.display !== \"overlay\" ) {\n\n            //  remove the wrapper if not in use by another panel\n            otherPanels = $( \"body > :mobile-panel\" ).add( $.mobile.activePage.find( \":mobile-panel\" ) );\n            if ( otherPanels.not( \".ui-panel-display-overlay\" ).not( this.element ).length === 0 ) {\n                this._wrapper.children().unwrap();\n            }\n\n            if ( this._open ) {\n\n                this._fixedToolbars().removeClass( o.classes.pageContentPrefix + \"-open\" );\n\n                if ( $.support.cssTransform3d && !!o.animate ) {\n                    this._fixedToolbars().removeClass( o.classes.animate );\n                }\n\n                this._page().parent().removeClass( o.classes.pageContainer );\n\n                if ( o.theme ) {\n                    this._page().parent().removeClass( o.classes.pageContainer + \"-themed \" + o.classes.pageContainer + \"-\" + o.theme );\n                }\n            }\n        }\n\n        if ( !multiplePanels ) {\n\n            this.document.off( \"panelopen panelclose\" );\n\n        }\n\n        if ( this._open ) {\n            this._page().jqmRemoveData( \"panel\" );\n        }\n\n        this._panelInner.children().unwrap();\n\n        this.element\n            .removeClass( [ this._getPanelClasses(), o.classes.panelOpen, o.classes.animate ].join( \" \" ) )\n            .off( \"swipeleft.panel swiperight.panel\" )\n            .off( \"panelbeforeopen\" )\n            .off( \"panelhide\" )\n            .off( \"keyup.panel\" )\n            .off( \"updatelayout\" );\n\n        if ( this._modal ) {\n            this._modal.remove();\n        }\n    }\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.table\", {\n    options: {\n        classes: {\n            table: \"ui-table\"\n        },\n        enhanced: false\n    },\n\n    _create: function() {\n        if ( !this.options.enhanced ) {\n            this.element.addClass( this.options.classes.table );\n        }\n\n        // extend here, assign on refresh > _setHeaders\n        $.extend( this, {\n\n            // Expose headers and allHeaders properties on the widget\n            // headers references the THs within the first TR in the table\n            headers: undefined,\n\n            // allHeaders references headers, plus all THs in the thead, which may\n            // include several rows, or not\n            allHeaders: undefined\n        });\n\n        this._refresh( true );\n    },\n\n    _setHeaders: function() {\n        var trs = this.element.find( \"thead tr\" );\n\n        this.headers = this.element.find( \"tr:eq(0)\" ).children();\n        this.allHeaders = this.headers.add( trs.children() );\n    },\n\n    refresh: function() {\n        this._refresh();\n    },\n\n    rebuild: $.noop,\n\n    _refresh: function( /* create */ ) {\n        var table = this.element,\n            trs = table.find( \"thead tr\" );\n\n        // updating headers on refresh (fixes #5880)\n        this._setHeaders();\n\n        // Iterate over the trs\n        trs.each( function() {\n            var columnCount = 0;\n\n            // Iterate over the children of the tr\n            $( this ).children().each( function() {\n                var span = parseInt( this.getAttribute( \"colspan\" ), 10 ),\n                    selector = \":nth-child(\" + ( columnCount + 1 ) + \")\",\n                    j;\n\n                this.setAttribute( \"data-\" + $.mobile.ns + \"colstart\", columnCount + 1 );\n\n                if ( span ) {\n                    for( j = 0; j < span - 1; j++ ) {\n                        columnCount++;\n                        selector += \", :nth-child(\" + ( columnCount + 1 ) + \")\";\n                    }\n                }\n\n                // Store \"cells\" data on header as a reference to all cells in the\n                // same column as this TH\n                $( this ).jqmData( \"cells\", table.find( \"tr\" ).not( trs.eq( 0 ) ).not( this ).children( selector ) );\n\n                columnCount++;\n            });\n        });\n    }\n});\n\n})( jQuery );\n\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.table\", $.mobile.table, {\n    options: {\n        mode: \"columntoggle\",\n        columnBtnTheme: null,\n        columnPopupTheme: null,\n        columnBtnText: \"Columns...\",\n        classes: $.extend( $.mobile.table.prototype.options.classes, {\n            popup: \"ui-table-columntoggle-popup\",\n            columnBtn: \"ui-table-columntoggle-btn\",\n            priorityPrefix: \"ui-table-priority-\",\n            columnToggleTable: \"ui-table-columntoggle\"\n        })\n    },\n\n    _create: function() {\n        this._super();\n\n        if ( this.options.mode !== \"columntoggle\" ) {\n            return;\n        }\n\n        $.extend( this, {\n            _menu: null\n        });\n\n        if ( this.options.enhanced ) {\n            this._menu = $( this.document[ 0 ].getElementById( this._id() + \"-popup\" ) ).children().first();\n            this._addToggles( this._menu, true );\n        } else {\n            this._menu = this._enhanceColToggle();\n            this.element.addClass( this.options.classes.columnToggleTable );\n        }\n\n        this._setupEvents();\n\n        this._setToggleState();\n    },\n\n    _id: function() {\n        return ( this.element.attr( \"id\" ) || ( this.widgetName + this.uuid ) );\n    },\n\n    _setupEvents: function() {\n        //NOTE: inputs are bound in bindToggles,\n        // so it can be called on refresh, too\n\n        // update column toggles on resize\n        this._on( this.window, {\n            throttledresize: \"_setToggleState\"\n        });\n        this._on( this._menu, {\n            \"change input\": \"_menuInputChange\"\n        });\n    },\n\n    _addToggles: function( menu, keep ) {\n        var inputs,\n            checkboxIndex = 0,\n            opts = this.options,\n            container = menu.controlgroup( \"container\" );\n\n        // allow update of menu on refresh (fixes #5880)\n        if ( keep ) {\n            inputs = menu.find( \"input\" );\n        } else {\n            container.empty();\n        }\n\n        // create the hide/show toggles\n        this.headers.not( \"td\" ).each( function() {\n            var input, cells,\n                header = $( this ),\n                priority = $.mobile.getAttribute( this, \"priority\" );\n\n            if ( priority ) {\n                cells = header.add( header.jqmData( \"cells\" ) );\n                cells.addClass( opts.classes.priorityPrefix + priority );\n\n                // Make sure the (new?) checkbox is associated with its header via .jqmData() and\n                // that, vice versa, the header is also associated with the checkbox\n                input = ( keep ? inputs.eq( checkboxIndex++ ) :\n                    $(\"<label><input type='checkbox' checked />\" +\n                        ( header.children( \"abbr\" ).first().attr( \"title\" ) ||\n                            header.text() ) +\n                        \"</label>\" )\n                        .appendTo( container )\n                        .children( 0 )\n                        .checkboxradio( {\n                            theme: opts.columnPopupTheme\n                        }) )\n\n                        // Associate the header with the checkbox\n                        .jqmData( \"header\", header )\n                        .jqmData( \"cells\", cells );\n\n                // Associate the checkbox with the header\n                header.jqmData( \"input\", input );\n            }\n        });\n\n        // set bindings here\n        if ( !keep ) {\n            menu.controlgroup( \"refresh\" );\n        }\n    },\n\n    _menuInputChange: function( evt ) {\n        var input = $( evt.target ),\n            checked = input[ 0 ].checked;\n\n        input.jqmData( \"cells\" )\n            .toggleClass( \"ui-table-cell-hidden\", !checked )\n            .toggleClass( \"ui-table-cell-visible\", checked );\n    },\n\n    _unlockCells: function( cells ) {\n        // allow hide/show via CSS only = remove all toggle-locks\n        cells.removeClass( \"ui-table-cell-hidden ui-table-cell-visible\");\n    },\n\n    _enhanceColToggle: function() {\n        var id , menuButton, popup, menu,\n            table = this.element,\n            opts = this.options,\n            ns = $.mobile.ns,\n            fragment = this.document[ 0 ].createDocumentFragment();\n\n        id = this._id() + \"-popup\";\n        menuButton = $( \"<a href='#\" + id + \"' \" +\n            \"class='\" + opts.classes.columnBtn + \" ui-btn \" +\n            \"ui-btn-\" + ( opts.columnBtnTheme || \"a\" ) +\n            \" ui-corner-all ui-shadow ui-mini' \" +\n            \"data-\" + ns + \"rel='popup'>\" + opts.columnBtnText + \"</a>\" );\n        popup = $( \"<div class='\" + opts.classes.popup + \"' id='\" + id + \"'></div>\" );\n        menu = $( \"<fieldset></fieldset>\" ).controlgroup();\n\n        // set extension here, send \"false\" to trigger build/rebuild\n        this._addToggles( menu, false );\n\n        menu.appendTo( popup );\n\n        fragment.appendChild( popup[ 0 ] );\n        fragment.appendChild( menuButton[ 0 ] );\n        table.before( fragment );\n\n        popup.popup();\n\n        return menu;\n    },\n\n    rebuild: function() {\n        this._super();\n\n        if ( this.options.mode === \"columntoggle\" ) {\n            // NOTE: rebuild passes \"false\", while refresh passes \"undefined\"\n            // both refresh the table, but inside addToggles, !false will be true,\n            // so a rebuild call can be indentified\n            this._refresh( false );\n        }\n    },\n\n    _refresh: function( create ) {\n        var headers, hiddenColumns, index;\n\n        // Calling _super() here updates this.headers\n        this._super( create );\n\n        if ( !create && this.options.mode === \"columntoggle\" ) {\n            headers = this.headers;\n            hiddenColumns = [];\n\n            // Find the index of the column header associated with each old checkbox among the\n            // post-refresh headers and, if the header is still there, make sure the corresponding\n            // column will be hidden if the pre-refresh checkbox indicates that the column is\n            // hidden by recording its index in the array of hidden columns.\n            this._menu.find( \"input\" ).each( function() {\n                var input = $( this ),\n                    header = input.jqmData( \"header\" ),\n                    index = headers.index( header[ 0 ] );\n\n                if ( index > -1 && !input.prop( \"checked\" ) ) {\n\n                    // The column header associated with /this/ checkbox is still present in the\n                    // post-refresh table and the checkbox is not checked, so the column associated\n                    // with this column header is currently hidden. Let's record that.\n                    hiddenColumns.push( index );\n                }\n            });\n\n            // columns not being replaced must be cleared from input toggle-locks\n            this._unlockCells( this.element.find( \".ui-table-cell-hidden, \" +\n                \".ui-table-cell-visible\" ) );\n\n            // update columntoggles and cells\n            this._addToggles( this._menu, create );\n\n            // At this point all columns are visible, so uncheck the checkboxes that correspond to\n            // those columns we've found to be hidden\n            for ( index = hiddenColumns.length - 1 ; index > -1 ; index-- ) {\n                headers.eq( hiddenColumns[ index ] ).jqmData( \"input\" )\n                    .prop( \"checked\", false )\n                    .checkboxradio( \"refresh\" )\n                    .trigger( \"change\" );\n            }\n        }\n    },\n\n    _setToggleState: function() {\n        this._menu.find( \"input\" ).each( function() {\n            var checkbox = $( this );\n\n            this.checked = checkbox.jqmData( \"cells\" ).eq( 0 ).css( \"display\" ) === \"table-cell\";\n            checkbox.checkboxradio( \"refresh\" );\n        });\n    },\n\n    _destroy: function() {\n        this._super();\n    }\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n$.widget( \"mobile.table\", $.mobile.table, {\n    options: {\n        mode: \"reflow\",\n        classes: $.extend( $.mobile.table.prototype.options.classes, {\n            reflowTable: \"ui-table-reflow\",\n            cellLabels: \"ui-table-cell-label\"\n        })\n    },\n\n    _create: function() {\n        this._super();\n\n        // If it's not reflow mode, return here.\n        if ( this.options.mode !== \"reflow\" ) {\n            return;\n        }\n\n        if ( !this.options.enhanced ) {\n            this.element.addClass( this.options.classes.reflowTable );\n\n            this._updateReflow();\n        }\n    },\n\n    rebuild: function() {\n        this._super();\n\n        if ( this.options.mode === \"reflow\" ) {\n            this._refresh( false );\n        }\n    },\n\n    _refresh: function( create ) {\n        this._super( create );\n        if ( !create && this.options.mode === \"reflow\" ) {\n            this._updateReflow( );\n        }\n    },\n\n    _updateReflow: function() {\n        var table = this,\n            opts = this.options;\n\n        // get headers in reverse order so that top-level headers are appended last\n        $( table.allHeaders.get().reverse() ).each( function() {\n            var cells = $( this ).jqmData( \"cells\" ),\n                colstart = $.mobile.getAttribute( this, \"colstart\" ),\n                hierarchyClass = cells.not( this ).filter( \"thead th\" ).length && \" ui-table-cell-label-top\",\n                contents = $( this ).clone().contents(),\n                iteration, filter;\n\n                if ( contents.length > 0  ) {\n\n                    if ( hierarchyClass ) {\n                        iteration = parseInt( this.getAttribute( \"colspan\" ), 10 );\n                        filter = \"\";\n\n                        if ( iteration ) {\n                            filter = \"td:nth-child(\"+ iteration +\"n + \" + ( colstart ) +\")\";\n                        }\n\n                        table._addLabels( cells.filter( filter ),\n                            opts.classes.cellLabels + hierarchyClass, contents );\n                    } else {\n                        table._addLabels( cells, opts.classes.cellLabels, contents );\n                    }\n\n                }\n        });\n    },\n\n    _addLabels: function( cells, label, contents ) {\n        if ( contents.length === 1 && contents[ 0 ].nodeName.toLowerCase() === \"abbr\" ) {\n            contents = contents.eq( 0 ).attr( \"title\" );\n        }\n        // .not fixes #6006\n        cells\n            .not( \":has(b.\" + label + \")\" )\n                .prepend( $( \"<b class='\" + label + \"'></b>\" ).append( contents ) );\n    }\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n// TODO rename filterCallback/deprecate and default to the item itself as the first argument\nvar defaultFilterCallback = function( index, searchValue ) {\n    return ( ( \"\" + ( $.mobile.getAttribute( this, \"filtertext\" ) || $( this ).text() ) )\n        .toLowerCase().indexOf( searchValue ) === -1 );\n};\n\n$.widget( \"mobile.filterable\", {\n\n    initSelector: \":jqmData(filter='true')\",\n\n    options: {\n        filterReveal: false,\n        filterCallback: defaultFilterCallback,\n        enhanced: false,\n        input: null,\n        children: \"> li, > option, > optgroup option, > tbody tr, > .ui-controlgroup-controls > .ui-btn, > .ui-controlgroup-controls > .ui-checkbox, > .ui-controlgroup-controls > .ui-radio\"\n    },\n\n    _create: function() {\n        var opts = this.options;\n\n        $.extend( this, {\n            _search: null,\n            _timer: 0\n        });\n\n        this._setInput( opts.input );\n        if ( !opts.enhanced ) {\n            this._filterItems( ( ( this._search && this._search.val() ) || \"\" ).toLowerCase() );\n        }\n    },\n\n    _onKeyUp: function() {\n        var val, lastval,\n            search = this._search;\n\n        if ( search ) {\n            val = search.val().toLowerCase(),\n            lastval = $.mobile.getAttribute( search[ 0 ], \"lastval\" ) + \"\";\n\n            if ( lastval && lastval === val ) {\n                // Execute the handler only once per value change\n                return;\n            }\n\n            if ( this._timer ) {\n                window.clearTimeout( this._timer );\n                this._timer = 0;\n            }\n\n            this._timer = this._delay( function() {\n                if ( this._trigger( \"beforefilter\", null, { input: search } ) === false ) {\n                    return false;\n                }\n\n                // Change val as lastval for next execution\n                search[ 0 ].setAttribute( \"data-\" + $.mobile.ns + \"lastval\", val );\n\n                this._filterItems( val );\n                this._timer = 0;\n            }, 250 );\n        }\n    },\n\n    _getFilterableItems: function() {\n        var elem = this.element,\n            children = this.options.children,\n            items = !children ? { length: 0 }:\n                $.isFunction( children ) ? children():\n                children.nodeName ? $( children ):\n                children.jquery ? children:\n                this.element.find( children );\n\n        if ( items.length === 0 ) {\n            items = elem.children();\n        }\n\n        return items;\n    },\n\n    _filterItems: function( val ) {\n        var idx, callback, length, dst,\n            show = [],\n            hide = [],\n            opts = this.options,\n            filterItems = this._getFilterableItems();\n\n        if ( val != null ) {\n            callback = opts.filterCallback || defaultFilterCallback;\n            length = filterItems.length;\n\n            // Partition the items into those to be hidden and those to be shown\n            for ( idx = 0 ; idx < length ; idx++ ) {\n                dst = ( callback.call( filterItems[ idx ], idx, val ) ) ? hide : show;\n                dst.push( filterItems[ idx ] );\n            }\n        }\n\n        // If nothing is hidden, then the decision whether to hide or show the items\n        // is based on the \"filterReveal\" option.\n        if ( hide.length === 0 ) {\n            filterItems[ ( opts.filterReveal && val.length === 0 ) ?\n                \"addClass\" : \"removeClass\" ]( \"ui-screen-hidden\" );\n        } else {\n            $( hide ).addClass( \"ui-screen-hidden\" );\n            $( show ).removeClass( \"ui-screen-hidden\" );\n        }\n\n        this._refreshChildWidget();\n\n        this._trigger( \"filter\", null, {\n            items: filterItems\n        });\n    },\n\n    // The Default implementation of _refreshChildWidget attempts to call\n    // refresh on collapsibleset, controlgroup, selectmenu, or listview\n    _refreshChildWidget: function() {\n        var widget, idx,\n            recognizedWidgets = [ \"collapsibleset\", \"selectmenu\", \"controlgroup\", \"listview\" ];\n\n        for ( idx = recognizedWidgets.length - 1 ; idx > -1 ; idx-- ) {\n            widget = recognizedWidgets[ idx ];\n            if ( $.mobile[ widget ] ) {\n                widget = this.element.data( \"mobile-\" + widget );\n                if ( widget && $.isFunction( widget.refresh ) ) {\n                    widget.refresh();\n                }\n            }\n        }\n    },\n\n    // TODO: When the input is not internal, do not even store it in this._search\n    _setInput: function ( selector ) {\n        var search = this._search;\n\n        // Stop a pending filter operation\n        if ( this._timer ) {\n            window.clearTimeout( this._timer );\n            this._timer = 0;\n        }\n\n        if ( search ) {\n            this._off( search, \"keyup change input\" );\n            search = null;\n        }\n\n        if ( selector ) {\n            search = selector.jquery ? selector:\n                selector.nodeName ? $( selector ):\n                this.document.find( selector );\n\n            this._on( search, {\n                keydown: \"_onKeyDown\",\n                keypress: \"_onKeyPress\",\n                keyup: \"_onKeyUp\",\n                change: \"_onKeyUp\",\n                input: \"_onKeyUp\"\n            });\n        }\n\n        this._search = search;\n    },\n\n    // Prevent form submission\n    _onKeyDown: function( event ) {\n        if ( event.keyCode === $.ui.keyCode.ENTER ) {\n            event.preventDefault();\n            this._preventKeyPress = true;\n        }\n    },\n\n    _onKeyPress: function( event ) {\n        if ( this._preventKeyPress ) {\n            event.preventDefault();\n            this._preventKeyPress = false;\n        }\n    },\n\n    _setOptions: function( options ) {\n        var refilter = !( ( options.filterReveal === undefined ) &&\n                ( options.filterCallback === undefined ) &&\n                ( options.children === undefined ) );\n\n        this._super( options );\n\n        if ( options.input !== undefined ) {\n            this._setInput( options.input );\n            refilter = true;\n        }\n\n        if ( refilter ) {\n            this.refresh();\n        }\n    },\n\n    _destroy: function() {\n        var opts = this.options,\n            items = this._getFilterableItems();\n\n        if ( opts.enhanced ) {\n            items.toggleClass( \"ui-screen-hidden\", opts.filterReveal );\n        } else {\n            items.removeClass( \"ui-screen-hidden\" );\n        }\n    },\n\n    refresh: function() {\n        if ( this._timer ) {\n            window.clearTimeout( this._timer );\n            this._timer = 0;\n        }\n        this._filterItems( ( ( this._search && this._search.val() ) || \"\" ).toLowerCase() );\n    }\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n// Create a function that will replace the _setOptions function of a widget,\n// and will pass the options on to the input of the filterable.\nvar replaceSetOptions = function( self, orig ) {\n        return function( options ) {\n            orig.call( this, options );\n            self._syncTextInputOptions( options );\n        };\n    },\n    rDividerListItem = /(^|\\s)ui-li-divider(\\s|$)/,\n    origDefaultFilterCallback = $.mobile.filterable.prototype.options.filterCallback;\n\n// Override the default filter callback with one that does not hide list dividers\n$.mobile.filterable.prototype.options.filterCallback = function( index, searchValue ) {\n    return !this.className.match( rDividerListItem ) &&\n        origDefaultFilterCallback.call( this, index, searchValue );\n};\n\n$.widget( \"mobile.filterable\", $.mobile.filterable, {\n    options: {\n        filterPlaceholder: \"Filter items...\",\n        filterTheme: null\n    },\n\n    _create: function() {\n        var idx, widgetName,\n            elem = this.element,\n            recognizedWidgets = [ \"collapsibleset\", \"selectmenu\", \"controlgroup\", \"listview\" ],\n            createHandlers = {};\n\n        this._super();\n\n        $.extend( this, {\n            _widget: null\n        });\n\n        for ( idx = recognizedWidgets.length - 1 ; idx > -1 ; idx-- ) {\n            widgetName = recognizedWidgets[ idx ];\n            if ( $.mobile[ widgetName ] ) {\n                if ( this._setWidget( elem.data( \"mobile-\" + widgetName ) ) ) {\n                    break;\n                } else {\n                    createHandlers[ widgetName + \"create\" ] = \"_handleCreate\";\n                }\n            }\n        }\n\n        if ( !this._widget ) {\n            this._on( elem, createHandlers );\n        }\n    },\n\n    _handleCreate: function( evt ) {\n        this._setWidget( this.element.data( \"mobile-\" + evt.type.substring( 0, evt.type.length - 6 ) ) );\n    },\n\n    _trigger: function( type, event, data ) {\n        if ( this._widget && this._widget.widgetFullName === \"mobile-listview\" &&\n            type === \"beforefilter\" ) {\n\n            // Also trigger listviewbeforefilter if this widget is also a listview\n            this._widget._trigger( \"beforefilter\", event, data );\n        }\n\n        // Passing back the response enables calling preventDefault()\n        return this._super( type, event, data );\n    },\n\n    _setWidget: function( widget ) {\n        if ( !this._widget && widget ) {\n            this._widget = widget;\n            this._widget._setOptions = replaceSetOptions( this, this._widget._setOptions );\n        }\n\n        if ( !!this._widget ) {\n            this._syncTextInputOptions( this._widget.options );\n            if ( this._widget.widgetName === \"listview\" ) {\n                this._widget.options.hideDividers = true;\n                this._widget.element.listview( \"refresh\" );\n            }\n        }\n\n        return !!this._widget;\n    },\n\n    _isSearchInternal: function() {\n        return ( this._search && this._search.jqmData( \"ui-filterable-\" + this.uuid + \"-internal\" ) );\n    },\n\n    _setInput: function( selector ) {\n        var opts = this.options,\n            updatePlaceholder = true,\n            textinputOpts = {};\n\n        if ( !selector ) {\n            if ( this._isSearchInternal() ) {\n\n                // Ignore the call to set a new input if the selector goes to falsy and\n                // the current textinput is already of the internally generated variety.\n                return;\n            } else {\n\n                // Generating a new textinput widget. No need to set the placeholder\n                // further down the function.\n                updatePlaceholder = false;\n                selector = $( \"<input \" +\n                    \"data-\" + $.mobile.ns + \"type='search' \" +\n                    \"placeholder='\" + opts.filterPlaceholder + \"'></input>\" )\n                    .jqmData( \"ui-filterable-\" + this.uuid + \"-internal\", true );\n                $( \"<form class='ui-filterable'></form>\" )\n                    .append( selector )\n                    .submit( function( evt ) {\n                        evt.preventDefault();\n                        selector.blur();\n                    })\n                    .insertBefore( this.element );\n                if ( $.mobile.textinput ) {\n                    if ( this.options.filterTheme != null ) {\n                        textinputOpts[ \"theme\" ] = opts.filterTheme;\n                    }\n\n                    selector.textinput( textinputOpts );\n                }\n            }\n        }\n\n        this._super( selector );\n\n        if ( this._isSearchInternal() && updatePlaceholder ) {\n            this._search.attr( \"placeholder\", this.options.filterPlaceholder );\n        }\n    },\n\n    _setOptions: function( options ) {\n        var ret = this._super( options );\n\n        // Need to set the filterPlaceholder after having established the search input\n        if ( options.filterPlaceholder !== undefined ) {\n            if ( this._isSearchInternal() ) {\n                this._search.attr( \"placeholder\", options.filterPlaceholder );\n            }\n        }\n\n        if ( options.filterTheme !== undefined && this._search && $.mobile.textinput ) {\n            this._search.textinput( \"option\", \"theme\", options.filterTheme );\n        }\n\n        return ret;\n    },\n\n    // The listview implementation accompanying this filterable backcompat layer will call\n    // filterable.refresh() after it's done refreshing the listview to make sure the filterable\n    // filters out any new items added. However, when the listview refresh has been initiated by\n    // the filterable itself, then such filtering has already taken place, and calling the\n    // filterable's refresh() method will cause an infinite recursion. We stop this by setting a\n    // flag that will cause the filterable's refresh() method to short-circuit.\n    _refreshChildWidget: function() {\n        this._refreshingChildWidget = true;\n        this._superApply( arguments );\n        this._refreshingChildWidget = false;\n    },\n\n    refresh: function() {\n        if ( !this._refreshingChildWidget ) {\n            this._superApply( arguments );\n        }\n    },\n\n    _destroy: function() {\n        if ( this._isSearchInternal() ) {\n            this._search.remove();\n        }\n        this._super();\n    },\n\n    _syncTextInputOptions: function( options ) {\n        var idx,\n            textinputOptions = {};\n\n        // We only sync options if the filterable's textinput is of the internally\n        // generated variety, rather than one specified by the user.\n        if ( this._isSearchInternal() && $.mobile.textinput ) {\n\n            // Apply only the options understood by textinput\n            for ( idx in $.mobile.textinput.prototype.options ) {\n                if ( options[ idx ] !== undefined ) {\n                    if ( idx === \"theme\" && this.options.filterTheme != null ) {\n                        textinputOptions[ idx ] = this.options.filterTheme;\n                    } else {\n                        textinputOptions[ idx ] = options[ idx ];\n                    }\n                }\n            }\n            this._search.textinput( \"option\", textinputOptions );\n        }\n    }\n});\n\n// Instantiate a filterable on a listview that has the data-filter=\"true\" attribute\n// This is not necessary for static content, because the auto-enhance takes care of instantiating\n// the filterable upon encountering data-filter=\"true\". However, because of 1.3.x it is expected\n// that a listview with data-filter=\"true\" will be filterable even if you just instantiate a\n// listview on it. The extension below ensures that this continues to happen in 1.4.x.\n$.widget( \"mobile.listview\", $.mobile.listview, {\n    options: {\n        filter: false\n    },\n    _create: function() {\n        if ( this.options.filter === true &&\n                !this.element.data( \"mobile-filterable\" ) ) {\n            this.element.filterable();\n        }\n        return this._super();\n    },\n\n    refresh: function() {\n        var filterable;\n\n        this._superApply( arguments );\n\n        if ( this.options.filter === true ) {\n            filterable = this.element.data( \"mobile-filterable\" );\n\n            if ( filterable ) {\n                filterable.refresh();\n            }\n        }\n    }\n});\n\n})( jQuery );\n\n/*!\n * jQuery UI Tabs fadf2b312a05040436451c64bbfaf4814bc62c56\n * http://jqueryui.com\n *\n * Copyright 2013 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/tabs/\n *\n * Depends:\n *    jquery.ui.core.js\n *    jquery.ui.widget.js\n */\n(function( $, undefined ) {\n\nvar tabId = 0,\n    rhash = /#.*$/;\n\nfunction getNextTabId() {\n    return ++tabId;\n}\n\nfunction isLocal( anchor ) {\n    return anchor.hash.length > 1 &&\n        decodeURIComponent( anchor.href.replace( rhash, \"\" ) ) ===\n            decodeURIComponent( location.href.replace( rhash, \"\" ) );\n}\n\n$.widget( \"ui.tabs\", {\n    version: \"fadf2b312a05040436451c64bbfaf4814bc62c56\",\n    delay: 300,\n    options: {\n        active: null,\n        collapsible: false,\n        event: \"click\",\n        heightStyle: \"content\",\n        hide: null,\n        show: null,\n\n        // callbacks\n        activate: null,\n        beforeActivate: null,\n        beforeLoad: null,\n        load: null\n    },\n\n    _create: function() {\n        var that = this,\n            options = this.options;\n\n        this.running = false;\n\n        this.element\n            .addClass( \"ui-tabs ui-widget ui-widget-content ui-corner-all\" )\n            .toggleClass( \"ui-tabs-collapsible\", options.collapsible )\n            // Prevent users from focusing disabled tabs via click\n            .delegate( \".ui-tabs-nav > li\", \"mousedown\" + this.eventNamespace, function( event ) {\n                if ( $( this ).is( \".ui-state-disabled\" ) ) {\n                    event.preventDefault();\n                }\n            })\n            // support: IE <9\n            // Preventing the default action in mousedown doesn't prevent IE\n            // from focusing the element, so if the anchor gets focused, blur.\n            // We don't have to worry about focusing the previously focused\n            // element since clicking on a non-focusable element should focus\n            // the body anyway.\n            .delegate( \".ui-tabs-anchor\", \"focus\" + this.eventNamespace, function() {\n                if ( $( this ).closest( \"li\" ).is( \".ui-state-disabled\" ) ) {\n                    this.blur();\n                }\n            });\n\n        this._processTabs();\n        options.active = this._initialActive();\n\n        // Take disabling tabs via class attribute from HTML\n        // into account and update option properly.\n        if ( $.isArray( options.disabled ) ) {\n            options.disabled = $.unique( options.disabled.concat(\n                $.map( this.tabs.filter( \".ui-state-disabled\" ), function( li ) {\n                    return that.tabs.index( li );\n                })\n            ) ).sort();\n        }\n\n        // check for length avoids error when initializing empty list\n        if ( this.options.active !== false && this.anchors.length ) {\n            this.active = this._findActive( options.active );\n        } else {\n            this.active = $();\n        }\n\n        this._refresh();\n\n        if ( this.active.length ) {\n            this.load( options.active );\n        }\n    },\n\n    _initialActive: function() {\n        var active = this.options.active,\n            collapsible = this.options.collapsible,\n            locationHash = location.hash.substring( 1 );\n\n        if ( active === null ) {\n            // check the fragment identifier in the URL\n            if ( locationHash ) {\n                this.tabs.each(function( i, tab ) {\n                    if ( $( tab ).attr( \"aria-controls\" ) === locationHash ) {\n                        active = i;\n                        return false;\n                    }\n                });\n            }\n\n            // check for a tab marked active via a class\n            if ( active === null ) {\n                active = this.tabs.index( this.tabs.filter( \".ui-tabs-active\" ) );\n            }\n\n            // no active tab, set to false\n            if ( active === null || active === -1 ) {\n                active = this.tabs.length ? 0 : false;\n            }\n        }\n\n        // handle numbers: negative, out of range\n        if ( active !== false ) {\n            active = this.tabs.index( this.tabs.eq( active ) );\n            if ( active === -1 ) {\n                active = collapsible ? false : 0;\n            }\n        }\n\n        // don't allow collapsible: false and active: false\n        if ( !collapsible && active === false && this.anchors.length ) {\n            active = 0;\n        }\n\n        return active;\n    },\n\n    _getCreateEventData: function() {\n        return {\n            tab: this.active,\n            panel: !this.active.length ? $() : this._getPanelForTab( this.active )\n        };\n    },\n\n    _tabKeydown: function( event ) {\n        var focusedTab = $( this.document[0].activeElement ).closest( \"li\" ),\n            selectedIndex = this.tabs.index( focusedTab ),\n            goingForward = true;\n\n        if ( this._handlePageNav( event ) ) {\n            return;\n        }\n\n        switch ( event.keyCode ) {\n            case $.ui.keyCode.RIGHT:\n            case $.ui.keyCode.DOWN:\n                selectedIndex++;\n                break;\n            case $.ui.keyCode.UP:\n            case $.ui.keyCode.LEFT:\n                goingForward = false;\n                selectedIndex--;\n                break;\n            case $.ui.keyCode.END:\n                selectedIndex = this.anchors.length - 1;\n                break;\n            case $.ui.keyCode.HOME:\n                selectedIndex = 0;\n                break;\n            case $.ui.keyCode.SPACE:\n                // Activate only, no collapsing\n                event.preventDefault();\n                clearTimeout( this.activating );\n                this._activate( selectedIndex );\n                return;\n            case $.ui.keyCode.ENTER:\n                // Toggle (cancel delayed activation, allow collapsing)\n                event.preventDefault();\n                clearTimeout( this.activating );\n                // Determine if we should collapse or activate\n                this._activate( selectedIndex === this.options.active ? false : selectedIndex );\n                return;\n            default:\n                return;\n        }\n\n        // Focus the appropriate tab, based on which key was pressed\n        event.preventDefault();\n        clearTimeout( this.activating );\n        selectedIndex = this._focusNextTab( selectedIndex, goingForward );\n\n        // Navigating with control key will prevent automatic activation\n        if ( !event.ctrlKey ) {\n            // Update aria-selected immediately so that AT think the tab is already selected.\n            // Otherwise AT may confuse the user by stating that they need to activate the tab,\n            // but the tab will already be activated by the time the announcement finishes.\n            focusedTab.attr( \"aria-selected\", \"false\" );\n            this.tabs.eq( selectedIndex ).attr( \"aria-selected\", \"true\" );\n\n            this.activating = this._delay(function() {\n                this.option( \"active\", selectedIndex );\n            }, this.delay );\n        }\n    },\n\n    _panelKeydown: function( event ) {\n        if ( this._handlePageNav( event ) ) {\n            return;\n        }\n\n        // Ctrl+up moves focus to the current tab\n        if ( event.ctrlKey && event.keyCode === $.ui.keyCode.UP ) {\n            event.preventDefault();\n            this.active.focus();\n        }\n    },\n\n    // Alt+page up/down moves focus to the previous/next tab (and activates)\n    _handlePageNav: function( event ) {\n        if ( event.altKey && event.keyCode === $.ui.keyCode.PAGE_UP ) {\n            this._activate( this._focusNextTab( this.options.active - 1, false ) );\n            return true;\n        }\n        if ( event.altKey && event.keyCode === $.ui.keyCode.PAGE_DOWN ) {\n            this._activate( this._focusNextTab( this.options.active + 1, true ) );\n            return true;\n        }\n    },\n\n    _findNextTab: function( index, goingForward ) {\n        var lastTabIndex = this.tabs.length - 1;\n\n        function constrain() {\n            if ( index > lastTabIndex ) {\n                index = 0;\n            }\n            if ( index < 0 ) {\n                index = lastTabIndex;\n            }\n            return index;\n        }\n\n        while ( $.inArray( constrain(), this.options.disabled ) !== -1 ) {\n            index = goingForward ? index + 1 : index - 1;\n        }\n\n        return index;\n    },\n\n    _focusNextTab: function( index, goingForward ) {\n        index = this._findNextTab( index, goingForward );\n        this.tabs.eq( index ).focus();\n        return index;\n    },\n\n    _setOption: function( key, value ) {\n        if ( key === \"active\" ) {\n            // _activate() will handle invalid values and update this.options\n            this._activate( value );\n            return;\n        }\n\n        if ( key === \"disabled\" ) {\n            // don't use the widget factory's disabled handling\n            this._setupDisabled( value );\n            return;\n        }\n\n        this._super( key, value);\n\n        if ( key === \"collapsible\" ) {\n            this.element.toggleClass( \"ui-tabs-collapsible\", value );\n            // Setting collapsible: false while collapsed; open first panel\n            if ( !value && this.options.active === false ) {\n                this._activate( 0 );\n            }\n        }\n\n        if ( key === \"event\" ) {\n            this._setupEvents( value );\n        }\n\n        if ( key === \"heightStyle\" ) {\n            this._setupHeightStyle( value );\n        }\n    },\n\n    _tabId: function( tab ) {\n        return tab.attr( \"aria-controls\" ) || \"ui-tabs-\" + getNextTabId();\n    },\n\n    _sanitizeSelector: function( hash ) {\n        return hash ? hash.replace( /[!\"$%&'()*+,.\\/:;<=>?@\\[\\]\\^`{|}~]/g, \"\\\\$&\" ) : \"\";\n    },\n\n    refresh: function() {\n        var options = this.options,\n            lis = this.tablist.children( \":has(a[href])\" );\n\n        // get disabled tabs from class attribute from HTML\n        // this will get converted to a boolean if needed in _refresh()\n        options.disabled = $.map( lis.filter( \".ui-state-disabled\" ), function( tab ) {\n            return lis.index( tab );\n        });\n\n        this._processTabs();\n\n        // was collapsed or no tabs\n        if ( options.active === false || !this.anchors.length ) {\n            options.active = false;\n            this.active = $();\n        // was active, but active tab is gone\n        } else if ( this.active.length && !$.contains( this.tablist[ 0 ], this.active[ 0 ] ) ) {\n            // all remaining tabs are disabled\n            if ( this.tabs.length === options.disabled.length ) {\n                options.active = false;\n                this.active = $();\n            // activate previous tab\n            } else {\n                this._activate( this._findNextTab( Math.max( 0, options.active - 1 ), false ) );\n            }\n        // was active, active tab still exists\n        } else {\n            // make sure active index is correct\n            options.active = this.tabs.index( this.active );\n        }\n\n        this._refresh();\n    },\n\n    _refresh: function() {\n        this._setupDisabled( this.options.disabled );\n        this._setupEvents( this.options.event );\n        this._setupHeightStyle( this.options.heightStyle );\n\n        this.tabs.not( this.active ).attr({\n            \"aria-selected\": \"false\",\n            tabIndex: -1\n        });\n        this.panels.not( this._getPanelForTab( this.active ) )\n            .hide()\n            .attr({\n                \"aria-expanded\": \"false\",\n                \"aria-hidden\": \"true\"\n            });\n\n        // Make sure one tab is in the tab order\n        if ( !this.active.length ) {\n            this.tabs.eq( 0 ).attr( \"tabIndex\", 0 );\n        } else {\n            this.active\n                .addClass( \"ui-tabs-active ui-state-active\" )\n                .attr({\n                    \"aria-selected\": \"true\",\n                    tabIndex: 0\n                });\n            this._getPanelForTab( this.active )\n                .show()\n                .attr({\n                    \"aria-expanded\": \"true\",\n                    \"aria-hidden\": \"false\"\n                });\n        }\n    },\n\n    _processTabs: function() {\n        var that = this;\n\n        this.tablist = this._getList()\n            .addClass( \"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\" )\n            .attr( \"role\", \"tablist\" );\n\n        this.tabs = this.tablist.find( \"> li:has(a[href])\" )\n            .addClass( \"ui-state-default ui-corner-top\" )\n            .attr({\n                role: \"tab\",\n                tabIndex: -1\n            });\n\n        this.anchors = this.tabs.map(function() {\n                return $( \"a\", this )[ 0 ];\n            })\n            .addClass( \"ui-tabs-anchor\" )\n            .attr({\n                role: \"presentation\",\n                tabIndex: -1\n            });\n\n        this.panels = $();\n\n        this.anchors.each(function( i, anchor ) {\n            var selector, panel, panelId,\n                anchorId = $( anchor ).uniqueId().attr( \"id\" ),\n                tab = $( anchor ).closest( \"li\" ),\n                originalAriaControls = tab.attr( \"aria-controls\" );\n\n            // inline tab\n            if ( isLocal( anchor ) ) {\n                selector = anchor.hash;\n                panel = that.element.find( that._sanitizeSelector( selector ) );\n            // remote tab\n            } else {\n                panelId = that._tabId( tab );\n                selector = \"#\" + panelId;\n                panel = that.element.find( selector );\n                if ( !panel.length ) {\n                    panel = that._createPanel( panelId );\n                    panel.insertAfter( that.panels[ i - 1 ] || that.tablist );\n                }\n                panel.attr( \"aria-live\", \"polite\" );\n            }\n\n            if ( panel.length) {\n                that.panels = that.panels.add( panel );\n            }\n            if ( originalAriaControls ) {\n                tab.data( \"ui-tabs-aria-controls\", originalAriaControls );\n            }\n            tab.attr({\n                \"aria-controls\": selector.substring( 1 ),\n                \"aria-labelledby\": anchorId\n            });\n            panel.attr( \"aria-labelledby\", anchorId );\n        });\n\n        this.panels\n            .addClass( \"ui-tabs-panel ui-widget-content ui-corner-bottom\" )\n            .attr( \"role\", \"tabpanel\" );\n    },\n\n    // allow overriding how to find the list for rare usage scenarios (#7715)\n    _getList: function() {\n        return this.element.find( \"ol,ul\" ).eq( 0 );\n    },\n\n    _createPanel: function( id ) {\n        return $( \"<div>\" )\n            .attr( \"id\", id )\n            .addClass( \"ui-tabs-panel ui-widget-content ui-corner-bottom\" )\n            .data( \"ui-tabs-destroy\", true );\n    },\n\n    _setupDisabled: function( disabled ) {\n        if ( $.isArray( disabled ) ) {\n            if ( !disabled.length ) {\n                disabled = false;\n            } else if ( disabled.length === this.anchors.length ) {\n                disabled = true;\n            }\n        }\n\n        // disable tabs\n        for ( var i = 0, li; ( li = this.tabs[ i ] ); i++ ) {\n            if ( disabled === true || $.inArray( i, disabled ) !== -1 ) {\n                $( li )\n                    .addClass( \"ui-state-disabled\" )\n                    .attr( \"aria-disabled\", \"true\" );\n            } else {\n                $( li )\n                    .removeClass( \"ui-state-disabled\" )\n                    .removeAttr( \"aria-disabled\" );\n            }\n        }\n\n        this.options.disabled = disabled;\n    },\n\n    _setupEvents: function( event ) {\n        var events = {\n            click: function( event ) {\n                event.preventDefault();\n            }\n        };\n        if ( event ) {\n            $.each( event.split(\" \"), function( index, eventName ) {\n                events[ eventName ] = \"_eventHandler\";\n            });\n        }\n\n        this._off( this.anchors.add( this.tabs ).add( this.panels ) );\n        this._on( this.anchors, events );\n        this._on( this.tabs, { keydown: \"_tabKeydown\" } );\n        this._on( this.panels, { keydown: \"_panelKeydown\" } );\n\n        this._focusable( this.tabs );\n        this._hoverable( this.tabs );\n    },\n\n    _setupHeightStyle: function( heightStyle ) {\n        var maxHeight,\n            parent = this.element.parent();\n\n        if ( heightStyle === \"fill\" ) {\n            maxHeight = parent.height();\n            maxHeight -= this.element.outerHeight() - this.element.height();\n\n            this.element.siblings( \":visible\" ).each(function() {\n                var elem = $( this ),\n                    position = elem.css( \"position\" );\n\n                if ( position === \"absolute\" || position === \"fixed\" ) {\n                    return;\n                }\n                maxHeight -= elem.outerHeight( true );\n            });\n\n            this.element.children().not( this.panels ).each(function() {\n                maxHeight -= $( this ).outerHeight( true );\n            });\n\n            this.panels.each(function() {\n                $( this ).height( Math.max( 0, maxHeight -\n                    $( this ).innerHeight() + $( this ).height() ) );\n            })\n            .css( \"overflow\", \"auto\" );\n        } else if ( heightStyle === \"auto\" ) {\n            maxHeight = 0;\n            this.panels.each(function() {\n                maxHeight = Math.max( maxHeight, $( this ).height( \"\" ).height() );\n            }).height( maxHeight );\n        }\n    },\n\n    _eventHandler: function( event ) {\n        var options = this.options,\n            active = this.active,\n            anchor = $( event.currentTarget ),\n            tab = anchor.closest( \"li\" ),\n            clickedIsActive = tab[ 0 ] === active[ 0 ],\n            collapsing = clickedIsActive && options.collapsible,\n            toShow = collapsing ? $() : this._getPanelForTab( tab ),\n            toHide = !active.length ? $() : this._getPanelForTab( active ),\n            eventData = {\n                oldTab: active,\n                oldPanel: toHide,\n                newTab: collapsing ? $() : tab,\n                newPanel: toShow\n            };\n\n        event.preventDefault();\n\n        if ( tab.hasClass( \"ui-state-disabled\" ) ||\n                // tab is already loading\n                tab.hasClass( \"ui-tabs-loading\" ) ||\n                // can't switch durning an animation\n                this.running ||\n                // click on active header, but not collapsible\n                ( clickedIsActive && !options.collapsible ) ||\n                // allow canceling activation\n                ( this._trigger( \"beforeActivate\", event, eventData ) === false ) ) {\n            return;\n        }\n\n        options.active = collapsing ? false : this.tabs.index( tab );\n\n        this.active = clickedIsActive ? $() : tab;\n        if ( this.xhr ) {\n            this.xhr.abort();\n        }\n\n        if ( !toHide.length && !toShow.length ) {\n            $.error( \"jQuery UI Tabs: Mismatching fragment identifier.\" );\n        }\n\n        if ( toShow.length ) {\n            this.load( this.tabs.index( tab ), event );\n        }\n        this._toggle( event, eventData );\n    },\n\n    // handles show/hide for selecting tabs\n    _toggle: function( event, eventData ) {\n        var that = this,\n            toShow = eventData.newPanel,\n            toHide = eventData.oldPanel;\n\n        this.running = true;\n\n        function complete() {\n            that.running = false;\n            that._trigger( \"activate\", event, eventData );\n        }\n\n        function show() {\n            eventData.newTab.closest( \"li\" ).addClass( \"ui-tabs-active ui-state-active\" );\n\n            if ( toShow.length && that.options.show ) {\n                that._show( toShow, that.options.show, complete );\n            } else {\n                toShow.show();\n                complete();\n            }\n        }\n\n        // start out by hiding, then showing, then completing\n        if ( toHide.length && this.options.hide ) {\n            this._hide( toHide, this.options.hide, function() {\n                eventData.oldTab.closest( \"li\" ).removeClass( \"ui-tabs-active ui-state-active\" );\n                show();\n            });\n        } else {\n            eventData.oldTab.closest( \"li\" ).removeClass( \"ui-tabs-active ui-state-active\" );\n            toHide.hide();\n            show();\n        }\n\n        toHide.attr({\n            \"aria-expanded\": \"false\",\n            \"aria-hidden\": \"true\"\n        });\n        eventData.oldTab.attr( \"aria-selected\", \"false\" );\n        // If we're switching tabs, remove the old tab from the tab order.\n        // If we're opening from collapsed state, remove the previous tab from the tab order.\n        // If we're collapsing, then keep the collapsing tab in the tab order.\n        if ( toShow.length && toHide.length ) {\n            eventData.oldTab.attr( \"tabIndex\", -1 );\n        } else if ( toShow.length ) {\n            this.tabs.filter(function() {\n                return $( this ).attr( \"tabIndex\" ) === 0;\n            })\n            .attr( \"tabIndex\", -1 );\n        }\n\n        toShow.attr({\n            \"aria-expanded\": \"true\",\n            \"aria-hidden\": \"false\"\n        });\n        eventData.newTab.attr({\n            \"aria-selected\": \"true\",\n            tabIndex: 0\n        });\n    },\n\n    _activate: function( index ) {\n        var anchor,\n            active = this._findActive( index );\n\n        // trying to activate the already active panel\n        if ( active[ 0 ] === this.active[ 0 ] ) {\n            return;\n        }\n\n        // trying to collapse, simulate a click on the current active header\n        if ( !active.length ) {\n            active = this.active;\n        }\n\n        anchor = active.find( \".ui-tabs-anchor\" )[ 0 ];\n        this._eventHandler({\n            target: anchor,\n            currentTarget: anchor,\n            preventDefault: $.noop\n        });\n    },\n\n    _findActive: function( index ) {\n        return index === false ? $() : this.tabs.eq( index );\n    },\n\n    _getIndex: function( index ) {\n        // meta-function to give users option to provide a href string instead of a numerical index.\n        if ( typeof index === \"string\" ) {\n            index = this.anchors.index( this.anchors.filter( \"[href$='\" + index + \"']\" ) );\n        }\n\n        return index;\n    },\n\n    _destroy: function() {\n        if ( this.xhr ) {\n            this.xhr.abort();\n        }\n\n        this.element.removeClass( \"ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible\" );\n\n        this.tablist\n            .removeClass( \"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\" )\n            .removeAttr( \"role\" );\n\n        this.anchors\n            .removeClass( \"ui-tabs-anchor\" )\n            .removeAttr( \"role\" )\n            .removeAttr( \"tabIndex\" )\n            .removeUniqueId();\n\n        this.tabs.add( this.panels ).each(function() {\n            if ( $.data( this, \"ui-tabs-destroy\" ) ) {\n                $( this ).remove();\n            } else {\n                $( this )\n                    .removeClass( \"ui-state-default ui-state-active ui-state-disabled \" +\n                        \"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel\" )\n                    .removeAttr( \"tabIndex\" )\n                    .removeAttr( \"aria-live\" )\n                    .removeAttr( \"aria-busy\" )\n                    .removeAttr( \"aria-selected\" )\n                    .removeAttr( \"aria-labelledby\" )\n                    .removeAttr( \"aria-hidden\" )\n                    .removeAttr( \"aria-expanded\" )\n                    .removeAttr( \"role\" );\n            }\n        });\n\n        this.tabs.each(function() {\n            var li = $( this ),\n                prev = li.data( \"ui-tabs-aria-controls\" );\n            if ( prev ) {\n                li\n                    .attr( \"aria-controls\", prev )\n                    .removeData( \"ui-tabs-aria-controls\" );\n            } else {\n                li.removeAttr( \"aria-controls\" );\n            }\n        });\n\n        this.panels.show();\n\n        if ( this.options.heightStyle !== \"content\" ) {\n            this.panels.css( \"height\", \"\" );\n        }\n    },\n\n    enable: function( index ) {\n        var disabled = this.options.disabled;\n        if ( disabled === false ) {\n            return;\n        }\n\n        if ( index === undefined ) {\n            disabled = false;\n        } else {\n            index = this._getIndex( index );\n            if ( $.isArray( disabled ) ) {\n                disabled = $.map( disabled, function( num ) {\n                    return num !== index ? num : null;\n                });\n            } else {\n                disabled = $.map( this.tabs, function( li, num ) {\n                    return num !== index ? num : null;\n                });\n            }\n        }\n        this._setupDisabled( disabled );\n    },\n\n    disable: function( index ) {\n        var disabled = this.options.disabled;\n        if ( disabled === true ) {\n            return;\n        }\n\n        if ( index === undefined ) {\n            disabled = true;\n        } else {\n            index = this._getIndex( index );\n            if ( $.inArray( index, disabled ) !== -1 ) {\n                return;\n            }\n            if ( $.isArray( disabled ) ) {\n                disabled = $.merge( [ index ], disabled ).sort();\n            } else {\n                disabled = [ index ];\n            }\n        }\n        this._setupDisabled( disabled );\n    },\n\n    load: function( index, event ) {\n        index = this._getIndex( index );\n        var that = this,\n            tab = this.tabs.eq( index ),\n            anchor = tab.find( \".ui-tabs-anchor\" ),\n            panel = this._getPanelForTab( tab ),\n            eventData = {\n                tab: tab,\n                panel: panel\n            };\n\n        // not remote\n        if ( isLocal( anchor[ 0 ] ) ) {\n            return;\n        }\n\n        this.xhr = $.ajax( this._ajaxSettings( anchor, event, eventData ) );\n\n        // support: jQuery <1.8\n        // jQuery <1.8 returns false if the request is canceled in beforeSend,\n        // but as of 1.8, $.ajax() always returns a jqXHR object.\n        if ( this.xhr && this.xhr.statusText !== \"canceled\" ) {\n            tab.addClass( \"ui-tabs-loading\" );\n            panel.attr( \"aria-busy\", \"true\" );\n\n            this.xhr\n                .success(function( response ) {\n                    // support: jQuery <1.8\n                    // http://bugs.jquery.com/ticket/11778\n                    setTimeout(function() {\n                        panel.html( response );\n                        that._trigger( \"load\", event, eventData );\n                    }, 1 );\n                })\n                .complete(function( jqXHR, status ) {\n                    // support: jQuery <1.8\n                    // http://bugs.jquery.com/ticket/11778\n                    setTimeout(function() {\n                        if ( status === \"abort\" ) {\n                            that.panels.stop( false, true );\n                        }\n\n                        tab.removeClass( \"ui-tabs-loading\" );\n                        panel.removeAttr( \"aria-busy\" );\n\n                        if ( jqXHR === that.xhr ) {\n                            delete that.xhr;\n                        }\n                    }, 1 );\n                });\n        }\n    },\n\n    _ajaxSettings: function( anchor, event, eventData ) {\n        var that = this;\n        return {\n            url: anchor.attr( \"href\" ),\n            beforeSend: function( jqXHR, settings ) {\n                return that._trigger( \"beforeLoad\", event,\n                    $.extend( { jqXHR : jqXHR, ajaxSettings: settings }, eventData ) );\n            }\n        };\n    },\n\n    _getPanelForTab: function( tab ) {\n        var id = $( tab ).attr( \"aria-controls\" );\n        return this.element.find( this._sanitizeSelector( \"#\" + id ) );\n    }\n});\n\n})( jQuery );\n\n(function( $, undefined ) {\n\n})( jQuery );\n\n(function( $, window ) {\n\n    $.mobile.iosorientationfixEnabled = true;\n\n    // This fix addresses an iOS bug, so return early if the UA claims it's something else.\n    var ua = navigator.userAgent,\n        zoom,\n        evt, x, y, z, aig;\n    if ( !( /iPhone|iPad|iPod/.test( navigator.platform ) && /OS [1-5]_[0-9_]* like Mac OS X/i.test( ua ) && ua.indexOf( \"AppleWebKit\" ) > -1 ) ) {\n        $.mobile.iosorientationfixEnabled = false;\n        return;\n    }\n\n    zoom = $.mobile.zoom;\n\n    function checkTilt( e ) {\n        evt = e.originalEvent;\n        aig = evt.accelerationIncludingGravity;\n\n        x = Math.abs( aig.x );\n        y = Math.abs( aig.y );\n        z = Math.abs( aig.z );\n\n        // If portrait orientation and in one of the danger zones\n        if ( !window.orientation && ( x > 7 || ( ( z > 6 && y < 8 || z < 8 && y > 6 ) && x > 5 ) ) ) {\n                if ( zoom.enabled ) {\n                    zoom.disable();\n                }\n        }    else if ( !zoom.enabled ) {\n                zoom.enable();\n        }\n    }\n\n    $.mobile.document.on( \"mobileinit\", function() {\n        if ( $.mobile.iosorientationfixEnabled ) {\n            $.mobile.window\n                .bind( \"orientationchange.iosorientationfix\", zoom.enable )\n                .bind( \"devicemotion.iosorientationfix\", checkTilt );\n        }\n    });\n\n}( jQuery, this ));\n\n(function( $, window, undefined ) {\n    var    $html = $( \"html\" ),\n        $window = $.mobile.window;\n\n    //remove initial build class (only present on first pageshow)\n    function hideRenderingClass() {\n        $html.removeClass( \"ui-mobile-rendering\" );\n    }\n\n    // trigger mobileinit event - useful hook for configuring $.mobile settings before they're used\n    $( window.document ).trigger( \"mobileinit\" );\n\n    // support conditions\n    // if device support condition(s) aren't met, leave things as they are -> a basic, usable experience,\n    // otherwise, proceed with the enhancements\n    if ( !$.mobile.gradeA() ) {\n        return;\n    }\n\n    // override ajaxEnabled on platforms that have known conflicts with hash history updates\n    // or generally work better browsing in regular http for full page refreshes (BB5, Opera Mini)\n    if ( $.mobile.ajaxBlacklist ) {\n        $.mobile.ajaxEnabled = false;\n    }\n\n    // Add mobile, initial load \"rendering\" classes to docEl\n    $html.addClass( \"ui-mobile ui-mobile-rendering\" );\n\n    // This is a fallback. If anything goes wrong (JS errors, etc), or events don't fire,\n    // this ensures the rendering class is removed after 5 seconds, so content is visible and accessible\n    setTimeout( hideRenderingClass, 5000 );\n\n    $.extend( $.mobile, {\n        // find and enhance the pages in the dom and transition to the first page.\n        initializePage: function() {\n            // find present pages\n            var path = $.mobile.path,\n                $pages = $( \":jqmData(role='page'), :jqmData(role='dialog')\" ),\n                hash = path.stripHash( path.stripQueryParams(path.parseLocation().hash) ),\n                theLocation = $.mobile.path.parseLocation(),\n                hashPage = hash ? document.getElementById( hash ) : undefined;\n\n            // if no pages are found, create one with body's inner html\n            if ( !$pages.length ) {\n                $pages = $( \"body\" ).wrapInner( \"<div data-\" + $.mobile.ns + \"role='page'></div>\" ).children( 0 );\n            }\n\n            // add dialogs, set data-url attrs\n            $pages.each(function() {\n                var $this = $( this );\n\n                // unless the data url is already set set it to the pathname\n                if ( !$this[ 0 ].getAttribute( \"data-\" + $.mobile.ns + \"url\" ) ) {\n                    $this.attr( \"data-\" + $.mobile.ns + \"url\", $this.attr( \"id\" ) ||\n                        path.convertUrlToDataUrl( theLocation.pathname + theLocation.search ) );\n                }\n            });\n\n            // define first page in dom case one backs out to the directory root (not always the first page visited, but defined as fallback)\n            $.mobile.firstPage = $pages.first();\n\n            // define page container\n            $.mobile.pageContainer = $.mobile.firstPage\n                .parent()\n                .addClass( \"ui-mobile-viewport\" )\n                .pagecontainer();\n\n            // initialize navigation events now, after mobileinit has occurred and the page container\n            // has been created but before the rest of the library is alerted to that fact\n            $.mobile.navreadyDeferred.resolve();\n\n            // alert listeners that the pagecontainer has been determined for binding\n            // to events triggered on it\n            $window.trigger( \"pagecontainercreate\" );\n\n            // cue page loading message\n            $.mobile.loading( \"show\" );\n\n            //remove initial build class (only present on first pageshow)\n            hideRenderingClass();\n\n            // if hashchange listening is disabled, there's no hash deeplink,\n            // the hash is not valid (contains more than one # or does not start with #)\n            // or there is no page with that hash, change to the first page in the DOM\n            // Remember, however, that the hash can also be a path!\n            if ( ! ( $.mobile.hashListeningEnabled &&\n                $.mobile.path.isHashValid( location.hash ) &&\n                ( $( hashPage ).is( \":jqmData(role='page')\" ) ||\n                    $.mobile.path.isPath( hash ) ||\n                    hash === $.mobile.dialogHashKey ) ) ) {\n\n                // make sure to set initial popstate state if it exists\n                // so that navigation back to the initial page works properly\n                if ( $.event.special.navigate.isPushStateEnabled() ) {\n                    $.mobile.navigate.navigator.squash( path.parseLocation().href );\n                }\n\n                $.mobile.changePage( $.mobile.firstPage, {\n                    transition: \"none\",\n                    reverse: true,\n                    changeHash: false,\n                    fromHashChange: true\n                });\n            } else {\n                // trigger hashchange or navigate to squash and record the correct\n                // history entry for an initial hash path\n                if ( !$.event.special.navigate.isPushStateEnabled() ) {\n                    $window.trigger( \"hashchange\", [true] );\n                } else {\n                    // TODO figure out how to simplify this interaction with the initial history entry\n                    // at the bottom js/navigate/navigate.js\n                    $.mobile.navigate.history.stack = [];\n                    $.mobile.navigate( $.mobile.path.isPath( location.hash ) ? location.hash : location.href );\n                }\n            }\n        }\n    });\n\n    $(function() {\n        //Run inlineSVG support test\n        $.support.inlineSVG();\n\n        // check which scrollTop value should be used by scrolling to 1 immediately at domready\n        // then check what the scroll top is. Android will report 0... others 1\n        // note that this initial scroll won't hide the address bar. It's just for the check.\n\n        // hide iOS browser chrome on load if hideUrlBar is true this is to try and do it as soon as possible\n        if ( $.mobile.hideUrlBar ) {\n            window.scrollTo( 0, 1 );\n        }\n\n        // if defaultHomeScroll hasn't been set yet, see if scrollTop is 1\n        // it should be 1 in most browsers, but android treats 1 as 0 (for hiding addr bar)\n        // so if it's 1, use 0 from now on\n        $.mobile.defaultHomeScroll = ( !$.support.scrollTop || $.mobile.window.scrollTop() === 1 ) ? 0 : 1;\n\n        //dom-ready inits\n        if ( $.mobile.autoInitializePage ) {\n            $.mobile.initializePage();\n        }\n\n        // window load event\n        // hide iOS browser chrome on load if hideUrlBar is true this is as fall back incase we were too early before\n        if ( $.mobile.hideUrlBar ) {\n            $window.load( $.mobile.silentScroll );\n        }\n\n        if ( !$.support.cssPointerEvents ) {\n            // IE and Opera don't support CSS pointer-events: none that we use to disable link-based buttons\n            // by adding the 'ui-disabled' class to them. Using a JavaScript workaround for those browser.\n            // https://github.com/jquery/jquery-mobile/issues/3558\n\n            // DEPRECATED as of 1.4.0 - remove ui-disabled after 1.4.0 release\n            // only ui-state-disabled should be present thereafter\n            $.mobile.document.delegate( \".ui-state-disabled,.ui-disabled\", \"vclick\",\n                function( e ) {\n                    e.preventDefault();\n                    e.stopImmediatePropagation();\n                }\n            );\n        }\n    });\n}( jQuery, this ));\n\n\n}));\n\n}.call(window));\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n(function (root, factory) { if (true) { !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(2), __webpack_require__(3)], __WEBPACK_AMD_DEFINE_RESULT__ = function () { return factory(root.CDP || (root.CDP = {})); }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n                __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); } else { factory(root.CDP || (root.CDP = {})); } }(this, function (CDP) { CDP.Framework = CDP.Framework || {};\n/// <reference types=\"backbone\" />\nvar CDP;\n(function (CDP) {\n    var Framework;\n    (function (Framework) {\n        Framework.Model = Backbone.Model;\n        Framework.Collection = Backbone.Collection;\n        Framework.View = Backbone.View;\n        Framework.Events = Backbone.Events;\n    })(Framework = CDP.Framework || (CDP.Framework = {}));\n})(CDP || (CDP = {}));\n/* tslint:disable:max-line-length */\nvar CDP;\n(function (CDP) {\n    var Framework;\n    (function (Framework) {\n        /**\n         * platform 判定オブジェクト\n         * [参考] https://w3g.jp/blog/tools/js_browser_sniffing\n         */\n        Framework.Platform = (function () {\n            var ua = navigator.userAgent.toLowerCase();\n            var majorVersion = function (browser) {\n                var version = ua.match(new RegExp(\"(\" + browser + \")( |/)([0-9]+)\"));\n                if (!version || version.length < 4) {\n                    return 0;\n                }\n                return parseInt(version[3], 10);\n            };\n            return {\n                ltIE6: typeof window.addEventListener === \"undefined\" && typeof document.documentElement.style.maxHeight === \"undefined\",\n                ltIE7: typeof window.addEventListener === \"undefined\" && typeof document.querySelectorAll === \"undefined\",\n                ltIE8: typeof window.addEventListener === \"undefined\" && typeof document.getElementsByClassName === \"undefined\",\n                ltIE9: document.uniqueID && typeof window.matchMedia === \"undefined\",\n                gtIE10: document.uniqueID && window.matchMedia,\n                Trident: document.uniqueID,\n                Gecko: \"MozAppearance\" in document.documentElement.style,\n                Presto: CDP.global.opera,\n                Blink: CDP.global.chrome,\n                Webkit: typeof CDP.global.chrome === \"undefined\" && \"WebkitAppearance\" in document.documentElement.style,\n                Touch: typeof CDP.global.ontouchstart !== \"undefined\",\n                Mobile: (typeof CDP.global.orientation !== \"undefined\") || (ua.indexOf(\"Windows Phone\") !== -1),\n                ltAd4_4: typeof CDP.global.orientation !== \"undefined\" && (typeof CDP.global.EventSource === \"undefined\" || 30 > majorVersion(\"chrome\")),\n                Pointer: CDP.global.navigator.pointerEnabled,\n                MSPoniter: CDP.global.navigator.msPointerEnabled,\n                Android: (ua.indexOf(\"android\") !== -1),\n                iOS: (ua.indexOf(\"iphone\") !== -1 || ua.indexOf(\"ipad\") !== -1 || ua.indexOf(\"ipod\") !== -1),\n            };\n        })();\n    })(Framework = CDP.Framework || (CDP.Framework = {}));\n})(CDP || (CDP = {}));\n/* tslint:disable:typedef */\nvar CDP;\n(function (CDP) {\n    var Framework;\n    (function (Framework) {\n        /**\n         * vclick patch\n         */\n        var _vclickPatch = function () {\n            var jquery_on = $.fn.on, jquery_off = $.fn.off;\n            var custom_on = function (types, selector, data, fn, /*INTERNAL*/ one) {\n                if (typeof types === \"string\") {\n                    types = types.replace(/vclick/g, \"click\");\n                }\n                return _.bind(jquery_on, this)(types, selector, data, fn, one);\n            };\n            var custom_off = function (types, selector, fn) {\n                if (typeof types === \"string\") {\n                    types = types.replace(/vclick/g, \"click\");\n                }\n                return _.bind(jquery_off, this)(types, selector, fn);\n            };\n            // replace functions.\n            $.fn.on = custom_on;\n            $.fn.off = custom_off;\n        };\n        //___________________________________________________________________________________________________________________//\n        /**\n         * @class Patch\n         * @brief patch class for jqm framework.\n         *       [review] vclick のパッチを当てることがわかるとよい\n         */\n        var Patch = (function () {\n            function Patch() {\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // public static methods\n            /**\n             * \\~english\n             * Apply patch.\n             *\n             * \\~japanese\n             * パッチの適用\n             */\n            Patch.apply = function () {\n                if (!Patch.isSupportedVclick()) {\n                    _vclickPatch();\n                    Patch.s_vclickEvent = \"click\";\n                }\n            };\n            /**\n             * \\~english\n             * if \"vclick\" event is unsupported, returns false. ex: Android 4.4 (Kitkat)\n             *\n             * \\~japanese\n             * \"vclick\" event が非サポートである platform (KitKat) は false を返す。\n             * jQM の version up により、解決される場合は無効かする。\n             */\n            Patch.isSupportedVclick = function () {\n                // for Android 4.4+ (Kitkat ～)\n                if (Framework.Platform.Android && !Framework.Platform.ltAd4_4) {\n                    return false;\n                }\n                return true;\n            };\n            Patch.s_vclickEvent = \"vclick\";\n            return Patch;\n        }());\n        Framework.Patch = Patch;\n    })(Framework = CDP.Framework || (CDP.Framework = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var Framework;\n    (function (Framework) {\n        /**\n         * @enum Orientation\n         */\n        var Orientation;\n        (function (Orientation) {\n            Orientation[Orientation[\"PORTRAIT\"] = 0] = \"PORTRAIT\";\n            Orientation[Orientation[\"LANDSCAPE\"] = 1] = \"LANDSCAPE\";\n        })(Orientation = Framework.Orientation || (Framework.Orientation = {}));\n        /**\n         * \\~english\n         * Get Orientation enum code\n         *\n         * @return {Number} Orientation Code.\n         *\n         * \\~japanese\n         * Orientation の取得\n         *\n         * @return {Number} Orientation Code.\n         */\n        function getOrientation() {\n            var $window = $(window);\n            return ($window.width() < $window.height()) ? Orientation.PORTRAIT : Orientation.LANDSCAPE;\n        }\n        Framework.getOrientation = getOrientation;\n    })(Framework = CDP.Framework || (CDP.Framework = {}));\n})(CDP || (CDP = {}));\n\n/* tslint:disable:max-line-length forin no-bitwise */\nvar CDP;\n(function (CDP) {\n    var Promise = CDP.Promise;\n    /**\n     * \\~english\n     * The function returned Promise waits until PhoneGap is ready.\n     * [Note] emulate when PC enviroment.\n     *\n     * \\~japanese\n     * PhoneGap が有効になるまで待機\n     * PC 環境ではエミュレートされる。\n     */\n    function waitForDeviceReady() {\n        return new Promise(function (resolve) {\n            if (!CDP.Framework.Platform.Mobile) {\n                setTimeout(function () {\n                    resolve();\n                }, 100);\n            }\n            else {\n                if (null == CDP.global.cordova || null == CDP.global.cordova.exec) {\n                    $(document).one(\"deviceready\", function () {\n                        resolve();\n                    });\n                }\n                else {\n                    resolve();\n                }\n            }\n        });\n    }\n    CDP.waitForDeviceReady = waitForDeviceReady;\n    var _defaultBackButtonHandler = null;\n    /**\n     * \\~english\n     * Setup H/W Back key handler.\n     *\n     * @param  {Function} handler function.\n     * @return {Function} old handler function.\n     *\n     * \\~japanese\n     *\n     * @param  {Function} handler 指定.\n     * @return {Function} 以前の handler.\n     */\n    function setBackButtonHandler(handler) {\n        var oldHandler = _defaultBackButtonHandler;\n        _defaultBackButtonHandler = handler;\n        return oldHandler;\n    }\n    CDP.setBackButtonHandler = setBackButtonHandler;\n    // back key handler implement.\n    (function () {\n        waitForDeviceReady()\n            .then(function () {\n            $(document).on(\"backbutton\", function (event) {\n                if (_defaultBackButtonHandler) {\n                    _defaultBackButtonHandler(event);\n                }\n            });\n        });\n    })();\n    //___________________________________________________________________________________________________________________//\n    var Framework;\n    (function (Framework) {\n        var TAG = \"[CDP.Framework] \";\n        var _dfInitialize = $.Deferred();\n        /**\n         * \\~english\n         * Initialization function of Framework.\n         *\n         * \\~japanese\n         * Framework の初期化関数\n         *\n         * @param options {FrameworkOptions} [in] options object.\n         */\n        function initialize(options) {\n            if (\"pending\" !== _dfInitialize.state()) {\n                return _dfInitialize.promise();\n            }\n            var config = getConfig(options);\n            // CDP 環境の初期化\n            // 現状は、console オブジェクトの保証と jQuery の WinRT 対応。\n            CDP.initialize({\n                success: function () {\n                    // Framework 用の Patch 適用\n                    if (config.applyPatch) {\n                        Framework.Patch.apply();\n                    }\n                    // jQuery の共通設定\n                    config.applyJQueryConfig();\n                    // jQuery Mobile の初期化\n                    $(document).on(\"mobileinit\", function () {\n                        // config の反映\n                        config.applyJQueryMobileConfig();\n                        // cdp.i18n の初期化\n                        CDP.initializeI18N(config.i18n)\n                            .always(function (info) {\n                            // i18next の初期化時のエラーは無視する. info が array の場合、エラー情報が格納されている.\n                            $(document)\n                                .one(\"pagebeforechange\", function (event, data) {\n                                data.options.showLoadMsg = false;\n                            })\n                                .on(\"pagebeforecreate\", function (event) {\n                                // i18nextライブラリによるhtml fragmentの翻訳処理\n                                $(event.target).localize();\n                            });\n                            // Router の初期化\n                            if (Framework.Router.initialize({ anchorVclick: config.anchorVclick, })) {\n                                _dfInitialize.resolve();\n                            }\n                            else {\n                                console.error(TAG + \"error. CDP.Framework.Router.initialize() failed.\");\n                                _dfInitialize.reject();\n                                _dfInitialize = $.Deferred();\n                            }\n                        });\n                    });\n                    {\n                        // jquery 3+\n                        var jqueryMajor = ~~$.fn.jquery.split(\".\")[0];\n                        if (3 <= jqueryMajor) {\n                            if (4 <= jqueryMajor) {\n                                console.warn(TAG + \"jquery-migrate for 3.0.0+ in use.\");\n                            }\n                            new Promise(function(resolve) { resolve(); }).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(4)]; (function () {\n                                new Promise(function(resolve) { resolve(); }).then(function() {[__webpack_require__(0)];}).catch(__webpack_require__.oe);\n                            }.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}).catch(__webpack_require__.oe);\n                        }\n                        else {\n                            new Promise(function(resolve) { resolve(); }).then(function() {[__webpack_require__(0)];}).catch(__webpack_require__.oe);\n                        }\n                    }\n                },\n                fail: function (error) {\n                    console.error(TAG + \"error. CDP.initialize() failed.\");\n                    _dfInitialize.reject();\n                    _dfInitialize = $.Deferred();\n                },\n            });\n            return _dfInitialize.promise();\n        }\n        Framework.initialize = initialize;\n        /**\n         * \\~english\n         * Check for initialization status.\n         *\n         * @return {Boolean} true: initialized / false: uninitialized\n         *\n         * \\~japanese\n         * 初期化済みか判定\n         *\n         * @return {Boolean} true: 初期化済み / false: 未初期化\n         */\n        function isInitialized() {\n            return \"resolved\" === _dfInitialize.state();\n        }\n        Framework.isInitialized = isInitialized;\n        /**\n         * \\~english\n         * Wait for initialization status.\n         *\n         * @return {IPromiseBase<void>}\n         *\n         * \\~japanese\n         * 初期化待ち\n         *\n         * @return {IPromiseBase<void>}\n         */\n        function waitForInitialize() {\n            return _dfInitialize.promise();\n        }\n        Framework.waitForInitialize = waitForInitialize;\n        var _orientationListenerHolder = {};\n        /**\n         * \\~english\n         * Register IOrientationChangedListener to framework.\n         *\n         * @param key      {String}                      [in] ID key\n         * @param listener {IOrientationChangedListener} [in] IOrientationChangedListener instance\n         *\n         * \\~japanese\n         * IOrientationChangedListener を Framework に登録\n         *\n         * @param key      {String}                      [in] ID key\n         * @param listener {IOrientationChangedListener} [in] IOrientationChangedListener instance\n         */\n        function registerOrientationChangedListener(key, listener) {\n            _orientationListenerHolder[key] = listener;\n        }\n        Framework.registerOrientationChangedListener = registerOrientationChangedListener;\n        /**\n         * \\~english\n         * Unregister IOrientationChangedListener from framework.\n         *\n         * @param key {String} [in] ID key\n         *\n         * \\~japanese\n         * IOrientationChangedListener を Framework から登録解除\n         *\n         * @param key {String} [in] ID key\n         */\n        function unregisterOrientationChangedListener(key) {\n            delete _orientationListenerHolder[key];\n        }\n        Framework.unregisterOrientationChangedListener = unregisterOrientationChangedListener;\n        var _activePage = null;\n        /**\n         * \\~english\n         * Setup event handlers when after router initialized.\n         *\n         * @private\n         *\n         * \\~japanese\n         * イベントハンドラの設定. Router 初期化後に Framework がコールする.\n         *\n         * @private\n         */\n        function setupEventHandlers() {\n            (function () {\n                var oldBackButtonHandler = CDP.setBackButtonHandler(null);\n                var baseBackButtonHandler = function (event) {\n                    if (_activePage && _activePage.onHardwareBackButton(event)) {\n                        // クライアント側でハンドリング済みと指定された場合、既定の処理を行わない\n                        return;\n                    }\n                    else {\n                        oldBackButtonHandler(event);\n                    }\n                };\n                CDP.setBackButtonHandler(baseBackButtonHandler);\n            })();\n            (function () {\n                var oldRouteChangeHandler = CDP.Framework.setBeforeRouteChangeHandler(null);\n                var baseRouteChangeHandler = function () {\n                    if (_activePage) {\n                        return _activePage.onBeforeRouteChange();\n                    }\n                    else {\n                        return oldRouteChangeHandler();\n                    }\n                };\n                CDP.Framework.setBeforeRouteChangeHandler(baseRouteChangeHandler);\n            })();\n        }\n        Framework.setupEventHandlers = setupEventHandlers;\n        var _lastOrientation = null;\n        /**\n         * \\~english\n         * Setup active IPage instance.\n         *\n         * @private\n         * @param page {IPage} [in] IPage instance.\n         *\n         * \\~japanese\n         * active Page の設定. Framework がコールする.\n         *\n         * @private\n         * @param page {IPage} [in] IPage instance.\n         */\n        function setActivePage(page) {\n            _activePage = page;\n            if (_activePage) {\n                _lastOrientation = Framework.getOrientation();\n            }\n        }\n        Framework.setActivePage = setActivePage;\n        /**\n         * \\~english\n         * Reterns framework default click event string.\n         *\n         * @private\n         *\n         * \\~japanese\n         * Framework が既定に使用するクリックイベント文字列を取得\n         *\n         * @private\n         * @return {String} \"vclick\" / \"click\"\n         */\n        function getDefaultClickEvent() {\n            return Framework.Patch.s_vclickEvent;\n        }\n        Framework.getDefaultClickEvent = getDefaultClickEvent;\n        var _pageConstructors = [];\n        var _pageInstances = [];\n        /**\n         * Page の登録\n         * constructor を指定する. 引数がある場合は、bind を行うこと\n         *\n         * @param {constructor} ctor [in] コンストラクタを指定\n         */\n        function registerPages(ctor) {\n            _pageConstructors.push(ctor);\n        }\n        Framework.registerPages = registerPages;\n        /**\n         * 予約されたコンストラクタからPage インスタンスを生成\n         */\n        function constructPages() {\n            _pageConstructors.forEach(function (ctor) {\n                _pageInstances.push(new ctor());\n            });\n            _pageConstructors = [];\n        }\n        Framework.constructPages = constructPages;\n        /**\n         * Page インスタンスの参照を破棄\n         */\n        function disposePages() {\n            _pageInstances = [];\n        }\n        Framework.disposePages = disposePages;\n        /**\n         * \\~english\n         * Get Config object.\n         *\n         * @private\n         * @return {FrameworkOptions} Config object.\n         *\n         * \\~japanese\n         * Config object の取得\n         *\n         * @private\n         * @return {FrameworkOptions} Config object.\n         */\n        function getConfig(options) {\n            var defConfig = {\n                // for fail safe, default settings.\n                jquery: {\n                    ajaxSetup: { cache: false },\n                    migrateMute: true,\n                },\n                jquerymobile: {\n                    allowCrossDomainPages: true,\n                    defaultPageTransition: \"none\",\n                    hashListeningEnabled: false,\n                    pushStateEnabled: false,\n                },\n                i18n: {\n                    fallbackResources: {},\n                    options: {},\n                },\n                applyPatch: true,\n                anchorVclick: true,\n                applyJQueryConfig: function () {\n                    var _this = this;\n                    $.ajaxSetup(this.jquery.ajaxSetup);\n                    Object.keys(this.jquery).forEach(function (key) {\n                        if (\"ajaxSetup\" !== key) {\n                            $[key] = _this.jquery[key];\n                        }\n                    });\n                },\n                applyJQueryMobileConfig: function () {\n                    var _this = this;\n                    $.mobile.loader.prototype.options.text = undefined;\n                    Object.keys(this.jquerymobile).forEach(function (key) {\n                        $.mobile[key] = _this.jquerymobile[key];\n                    });\n                },\n            };\n            return $.extend({}, defConfig, CDP.Config, options);\n        }\n        ///////////////////////////////////////////////////////////////////////\n        // closure methods\n        // resize handler\n        $(window).on(\"resize\", function (event) {\n            var newOrientation = Framework.getOrientation();\n            if (_lastOrientation !== newOrientation) {\n                for (var key in _orientationListenerHolder) {\n                    _orientationListenerHolder[key].onOrientationChanged(newOrientation);\n                }\n                if (_activePage) {\n                    _activePage.onOrientationChanged(newOrientation);\n                }\n                _lastOrientation = newOrientation;\n            }\n        });\n    })(Framework = CDP.Framework || (CDP.Framework = {}));\n})(CDP || (CDP = {}));\n\n/* tslint:disable:max-line-length no-string-literal */\nvar CDP;\n(function (CDP) {\n    var Framework;\n    (function (Framework) {\n        var Promise = CDP.Promise;\n        ///////////////////////////////////////////////////////////////////////\n        // closure methods\n        /**\n         * \\~english\n         * Convert path to URL.\n         * If the path starts from \"/\", the function translate the path as child folder of \"web root\".\n         * Otherwise, it interprets as relative path from current page.\n         * [Note] This behavior go along with jQM, NOT with require.toUrl().\n         *\n         * @param path {String} [in] path string\n         *\n         * \\~japanese\n         * path を URL に変換\n         * \"/\" から始まるものは web root から、それ以外は現在のページから絶対パスURLに変換する。\n         * jQM の挙動にあわせており、require.toUrl() と異なるので注意。\n         *\n         * @param path {String} [in] パスを指定。\n         */\n        function toUrl(path) {\n            if (null != path[0] && \"/\" === path[0]) {\n                return CDP.webRoot + path.slice(1);\n            }\n            else {\n                return $.mobile.path.makeUrlAbsolute(path, getCurrentDocumentUrl());\n            }\n        }\n        Framework.toUrl = toUrl;\n        /**\n         * \\~english\n         * Get current document url.\n         *\n         * @private\n         *\n         * \\~japanese\n         * 現在表示しているドキュメントの URL を取得\n         *\n         * @private\n         */\n        function getCurrentDocumentUrl() {\n            var $activePage = $(\"body\").pagecontainer(\"getActivePage\");\n            if (null == $activePage) {\n                return $.mobile.path.documentBase.hrefNoHash;\n            }\n            var base = $.mobile.path.documentBase.hrefNoHash;\n            var url = $.mobile.activePage.closest(\".ui-page\").jqmData(\"url\");\n            if (!url || !$.mobile.path.isPath(url)) {\n                url = base;\n            }\n            return $.mobile.path.makeUrlAbsolute(url, base);\n        }\n        /**\n         * \\~english\n         * Default \"before route change\" handler.\n         *\n         * @private\n         *\n         * \\~japanese\n         * 既定の \"before route change\" ハンドラ\n         *\n         * @private\n         */\n        var _beforeRouteChange = function () {\n            return Promise.resolve();\n        };\n        // default \"before route change\" hanndler\n        var _defaultBeforeRouteChange = _beforeRouteChange;\n        /**\n         * \\~english\n         * Setup \"before route change\" handler.\n         *\n         * @param  {Function} handler function.\n         * @return {Function} old handler function.\n         *\n         * \\~japanese\n         * \"before route change\" ハンドラ設定\n         *\n         * @param  {Function} handler 指定.\n         * @return {Function} 以前の handler.\n         */\n        function setBeforeRouteChangeHandler(handler) {\n            if (null == handler) {\n                return _beforeRouteChange;\n            }\n            else {\n                var oldHandler = _beforeRouteChange;\n                _beforeRouteChange = handler;\n                return oldHandler;\n            }\n        }\n        Framework.setBeforeRouteChangeHandler = setBeforeRouteChangeHandler;\n        //___________________________________________________________________________________________________________________//\n        /**\n         * \\~english\n         * @class Router\n         * @brief Router class for adjusting jQueryMobile functions and Backbone.Router functions.\n         *        Even if Backbone.Router does not start routing, natigate() method works good with jQM framework.\n         *\n         * \\~japanese\n         * @class Router\n         * @brief jQueryMobile と Backbone.Router を調停する Router クラス\n         *        ルーティングを開始していない場合にも、navigate() は jQM フレームワークを使用して機能する。\n         */\n        var Router = (function () {\n            function Router() {\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // public static methods\n            /**\n             * \\~english\n             * for initialize Router. this function is called in framework.\n             *\n             * @return {Boolean} true: succeeded / false: failed.\n             *\n             * \\~japanese\n             * 初期化\n             * この関数はフレームワーク内部で使用される。\n             *\n             * @param  options {Object} [in] オプション\n             * @return {Boolean} 成否\n             */\n            Router.initialize = function (options) {\n                var $body = $(\"body\");\n                if (!!Router.s_router) {\n                    console.warn(\"logic error. initialize call twice.\");\n                    return false;\n                }\n                Router.s_initOptions = $.extend({}, Router.s_defaultInitOptions, options);\n                // Backbone.Router が、route を解決できなかった場合にも通知を捕捉するためのコールバックを設定\n                Router.s_loadUrl = _.bind(Backbone.history.loadUrl, Backbone.history);\n                Backbone.history.loadUrl = Router.customLoadUrl;\n                Router.s_router = new Backbone.Router();\n                Router.s_router.on(\"route\", Router.onRouteSucceeded);\n                // Backbone.Router を使用している場合、$.mobile.back() の挙動をブラウザの[戻る]に統一\n                if (!$.mobile.hashListeningEnabled) {\n                    Router.s_back = _.bind($.mobile.back, $.mobile);\n                    $.mobile.back = Router.customJqmBack;\n                }\n                // changePage をサポート\n                if (null == $.mobile.changePage) {\n                    $.mobile.changePage = function (to, opt) {\n                        $body.pagecontainer(\"change\", to, opt);\n                    };\n                }\n                Router.bindEvents();\n                // Framework のイベントハンドラを更新\n                Framework.setupEventHandlers();\n                return true;\n            };\n            /**\n             * \\~english\n             * Register to Router.\n             *\n             * @param route    {String}   [in] route string, it can be regular expression.\n             * @param page     {String}   [in] page template path.\n             * @param top      {Boolean}  [in] set \"true\" if application's top view. (optional)\n             * @param callback {Function} [in] callback for custom page transition. If you don't want to trigger jQM.changePage(), return true by this callback. (optional)\n             * @return {Router} Router instance.\n             *\n             * \\~japanese\n             * 登録\n             *\n             * @param route    {String}   [in] ルーティング文字列 / 正規表現\n             * @param page     {String}   [in] page template path. イベント名にも使用される\n             * @param top      {Boolean}  [in] Top ページの場合は true を指定 (任意)\n             * @param callback {Function} [in] 遷移を自身で管理する場合に指定し、戻り値を true に設定すると changePage をコールしない (任意)\n             * @return {Router} インスタンス。ただし method chain をしたい場合は、any cast が必要。\n             */\n            Router.register = function (route, page, top, callback) {\n                if (top === void 0) { top = false; }\n                // Backbone.Router への登録は history の停止が必要\n                var restart = Router.stop();\n                var name = route + page;\n                var context = {\n                    route: route,\n                    regexp: Router.s_router._routeToRegExp(route),\n                    page: page,\n                    top: top,\n                    callback: callback || function () { return false; }\n                };\n                if (Router.pushContext(name, context)) {\n                    Router.s_router.route(route, name, function () { });\n                }\n                if (restart) {\n                    // 再開時は再読み込みしない。\n                    Router.start({ silent: true });\n                }\n                return Router;\n            };\n            /**\n             * \\~english\n             * Start listening hash change.\n             * It should be called after register().\n             *\n             * @param options {Object} [in] options object for Backbone.History.\n             *\n             * \\~japanese\n             * 履歴監視の開始\n             * 登録完了後に呼び出す。\n             *\n             * @param options {Object} [in] Backbone.History にわたるオプション\n             */\n            Router.start = function (options) {\n                if (null != options && false !== options.pageConstruct) {\n                    Framework.constructPages();\n                }\n                if ($.mobile.hashListeningEnabled) {\n                    console.log(\"setting error. confict: $.mobile.hashListeningEnabled = true, cannot start.\");\n                    return false;\n                }\n                return Backbone.history.start(options);\n            };\n            /**\n             * \\~english\n             * Stop listening hash change.\n             *\n             * @return {Boolean} previous status.\n             *\n             * \\~japanese\n             * 履歴監視の終了\n             *\n             * @return {Boolean} 以前の開始状態を返却\n             */\n            Router.stop = function () {\n                var prevState = Backbone.History.started;\n                Backbone.history.stop();\n                return prevState;\n            };\n            /**\n             * \\~english\n             * Check routing status.\n             *\n             * @return {Boolean} true: routing / false: not routing\n             *\n             * \\~japanese\n             * ルーティングを開始しているか判定\n             *\n             * @return {Boolean} true: 有効 / false: 無効\n             */\n            Router.isRouting = function () {\n                return Backbone.History.started;\n            };\n            /**\n             * \\~english\n             * URL navigation.\n             *\n             * @param url        {String}          [in] set a navigate URL. (relative path / absolute path / fragment)\n             * @param transition {String}          [in] set a transition string (optional)\n             * @param reverse    {Boolean}         [in] set a direction string for transition. true:reverse / false:nomal (optional)\n             * @param options    {NavigateOptions} [in] set a options object for Backbone.Router.navigate(). (optional)\n             *\n             * \\~japanese\n             * URL遷移\n             *\n             * @param url        {String}          [in] 遷移 URL を指定 (相対パス/絶対パス/フラグメント)\n             * @param transition {String}          [in] transition に使用する effect を指定 (任意)\n             * @param reverse    {Boolean}         [in] transition に使用する direction を指定 true:reverse/false:通常 (任意)\n             * @param options    {NavigateOptions} [in] Backbone.Router.navigate() に渡されるオプション (任意)\n             */\n            Router.navigate = function (url, transition, reverse, options) {\n                if (!!Router.s_lastNavigateInfo.inNavigation) {\n                    // すでに Navigation 中であれば抑止\n                    console.log(\"Router.navigate() called in navigation proc.\");\n                    return;\n                }\n                else if (Router.initFirstPageIfNeeded(url)) {\n                    return;\n                }\n                var navOptions = $.extend({}, Router.s_defaultNavigateOptions, options);\n                // ページ遷移開始通知. Sub Flow にてすでにコールされている場合は既定の何もしないコールバックを使用する.\n                var notifyBeforeRouteChange = Router.s_lastNavigateInfo.calledBeforeRouteChange ? _defaultBeforeRouteChange : _beforeRouteChange;\n                Router.s_lastNavigateInfo = {\n                    url: url,\n                    transition: transition,\n                    reverse: reverse,\n                    backDestination: navOptions.backDestination,\n                    noHashChange: navOptions.noHashChange,\n                    intent: navOptions.intent || {},\n                    positiveNavigate: true,\n                    calledBeforeRouteChange: true,\n                    inNavigation: true,\n                };\n                // ページ遷移開始通知\n                notifyBeforeRouteChange()\n                    .fail(function () {\n                    // beforeRouteChange() が失敗した場合、致命的な不具合となるため、error 記録のみにして先に進む。\n                    console.error(\"before route change call, failed.\");\n                })\n                    .always(function () {\n                    if (Router.isRouting() && !Router.s_lastNavigateInfo.noHashChange) {\n                        if (navOptions.subFlow) {\n                            switch (navOptions.subFlow.operation) {\n                                case \"begin\":\n                                    Router.startSubFlow(navOptions.subFlow);\n                                    break;\n                                case \"end\":\n                                    Router.finishSubFlow(navOptions);\n                                    return; // navigation は呼ばない\n                                default:\n                                    console.warn(\"unknown subFlow.operation. operation: \" + navOptions.subFlow.operation);\n                                    break;\n                            }\n                        }\n                        Router.s_router.navigate(url, navOptions);\n                    }\n                    else {\n                        if (navOptions.subFlow) {\n                            console.warn(\"subFlow only supported under routing and hash change condition.\");\n                        }\n                        var fragment_1 = Backbone.history.getFragment(url);\n                        var context = void 0;\n                        if (Router.s_lastNavigateInfo.noHashChange) {\n                            // noHashChange が指定されたとき\n                            context = _.find(Router.s_rootContexts, function (ctx) {\n                                return ctx.regexp.test(fragment_1);\n                            });\n                        }\n                        else {\n                            // Backbone.Router が有効でないとき\n                            context = _.findWhere(Router.s_rootContexts, { route: fragment_1 });\n                        }\n                        if (context) {\n                            url = context.page;\n                        }\n                        Router.changePage(url);\n                    }\n                });\n            };\n            /**\n             * \\~english\n             * Navigate from Top Page.\n             * If SubFlow set up, the param is cleared.\n             *\n             * @param to         {String|PageStack|PageStack[]} [in] set a navigate URL or PageStackOptions object or array.\n             * @param transition {String}                       [in] set a transition string (optional)\n             * @param reverse    {Boolean}                      [in] set a direction string for transition. true:reverse / false:nomal (optional)\n             * @param options    {NavigateOptions}              [in] set a options object for Backbone.Router.navigate(). (optional)\n             *\n             * \\~japanese\n             * トップページからの画面遷移\n             * SubFlow が指定されていた場合はクリアされる\n             *\n             * @param to         {String|PageStack|PageStack[]} [in] 遷移 URL / PageStackOptions オブジェクト/配列\n             * @param transition {String}                       [in] transition に使用する effect を指定 (任意)\n             * @param reverse    {Boolean}                      [in] transition に使用する direction を指定 true:reverse/false:通常 (任意)\n             * @param options    {NavigateOptions}              [in] Backbone.Router.navigate() に渡されるオプション (任意)\n             */\n            Router.navigateFromTop = function (to, transition, reverse, options) {\n                var stack = Router.getJqmHistory().stack;\n                var currentPage = stack[Router.getJqmHistory().activeIndex];\n                var _transition = transition || currentPage.transition;\n                var _reverse = (null != reverse) ? reverse : true;\n                var destStacks = (function () {\n                    if (!to) {\n                        return null;\n                    }\n                    else if (\"string\" === typeof to) {\n                        return [{ route: to }];\n                    }\n                    else if (to instanceof Array) {\n                        return to;\n                    }\n                    else {\n                        return [to];\n                    }\n                })();\n                // 指定された SubFlow を削除\n                stack.forEach(function (value) {\n                    delete value[Router.SUBFLOW_PARAM];\n                });\n                // 初期ページに SubFlow パラメータを指定\n                stack[0][Router.SUBFLOW_PARAM] = {\n                    operation: \"begin\",\n                    destBase: stack[0].hash,\n                    destStacks: destStacks,\n                    additionalDistance: 0,\n                };\n                Router.navigate(null, _transition, _reverse, $.extend({}, options, {\n                    subFlow: {\n                        operation: \"end\",\n                    }\n                }));\n            };\n            /**\n             * \\~english\n             * Back to previous history.\n             * It's same as browser back button's behaviour.\n             * [Note] If set the jQM: data-rel=\"back\", work as well.\n             *\n             * \\~japanese\n             * 履歴を戻る\n             * ブラウザの戻るボタンと同じ挙動。\n             * jQM: data-rel=\"back\" を指定しても同じであることに注意。\n             */\n            Router.back = function () {\n                if (!!Router.s_lastNavigateInfo.inNavigation) {\n                    // すでに Navigation 中であれば抑止\n                    console.log(\"Router.back() called in navigation proc.\");\n                    return;\n                }\n                else if (Router.isTopPage()) {\n                    // Top ページに指定されていれば終了\n                    var app = navigator.app || {};\n                    if (!!app.exitApp) {\n                        app.exitApp(); // note: never exit on iOS\n                        return;\n                    }\n                }\n                Router.s_lastNavigateInfo = {\n                    inNavigation: true,\n                    calledBeforeRouteChange: true,\n                };\n                // ページ遷移開始通知\n                _beforeRouteChange()\n                    .then(function () {\n                    $.mobile.back();\n                })\n                    .fail(function () {\n                    console.error(\"before route change call, failed.\");\n                    Router.s_lastNavigateInfo = {};\n                });\n            };\n            /**\n             * \\~english\n             * Store Intent object.\n             *\n             * \\~japanese\n             * Intent を格納\n             */\n            Router.pushIntent = function (intent) {\n                Router.s_lastIntent = $.extend(true, Router.s_lastIntent, intent);\n            };\n            /**\n             * \\~english\n             * Get Intent object.\n             *\n             * \\~japanese\n             * Intent を取得\n             */\n            Router.popIntent = function () {\n                var intent = Router.s_lastIntent;\n                Router.s_lastIntent = {};\n                return intent;\n            };\n            /**\n             * \\~english\n             * Get query parameters.\n             *\n             * \\~japanese\n             * query parameter に指定された引数の取得\n             * ページ遷移中にのみアクセス可能 (pagebeforecreate ～ pagechange)\n             */\n            Router.getQueryParameters = function () {\n                if (Router.s_lastNavigateInfo.intent && Router.s_lastNavigateInfo.intent.params) {\n                    return Router.s_lastNavigateInfo.intent.params[\"queryParams\"];\n                }\n                else {\n                    return null;\n                }\n            };\n            /**\n             * \\~english\n             * Begin sub flow transaction.\n             *\n             * @param url        {String}          [in] set a navigate URL. (relative path / absolute path / fragment)\n             * @param options    {NavigateOptions} [in] set a options object for Backbone.Router.navigate(). (optional)\n             * @param transition {String}          [in] set a transition string (optional)\n             * @param reverse    {Boolean}         [in] set a direction string for transition. true:reverse / false:nomal (optional)\n             *\n             * \\~japanese\n             * sub flow トランザクションの開始.\n             * navigate() の 糖衣構文\n             *\n             * @param url        {String}          [in] 遷移 URL を指定 (相対パス/絶対パス/フラグメント)\n             * @param options    {NavigateOptions} [in] Backbone.Router.navigate() に渡されるオプション (任意)\n             * @param transition {String}          [in] transition に使用する effect を指定 (任意)\n             * @param reverse    {Boolean}         [in] transition に使用する direction を指定 true:reverse/false:通常 (任意)\n             */\n            Router.beginSubFlow = function (url, options, transition, reverse) {\n                var opt = $.extend({}, options);\n                opt.subFlow = opt.subFlow || { operation: \"begin\" };\n                if (\"begin\" !== opt.subFlow.operation) {\n                    console.error(\"logic error. invalid subflow operation. [operation: \" + opt.subFlow.operation + \"]\");\n                    return;\n                }\n                Router.navigate(url, transition, reverse, opt);\n            };\n            /**\n             * \\~english\n             * Commit sub flow transaction.\n             *\n             * @param transition {String}  [in] set a transition string (optional)\n             * @param reverse    {Boolean} [in] set a direction string for transition. true:reverse / false:nomal (optional)\n             *\n             * \\~japanese\n             * sub flow トランザクションの終了.\n             * navigate() の 糖衣構文\n             *\n             * @param transition {String}  [in] transition に使用する effect を指定 (任意)\n             * @param reverse    {Boolean} [in] transition に使用する direction を指定 true:reverse/false:通常 (任意)\n             */\n            Router.commitSubFlow = function (transition, reverse) {\n                Router.navigate(null, transition, reverse, {\n                    subFlow: {\n                        operation: \"end\",\n                    }\n                });\n            };\n            /**\n             * \\~english\n             * Cancel sub flow transaction.\n             *\n             * @param transition {String}  [in] set a transition string (optional)\n             * @param reverse    {Boolean} [in] set a direction string for transition. true:reverse[default] / false:nomal (optional)\n             *\n             * \\~japanese\n             * sub flow トランザクションのキャンセル.\n             * navigate() の 糖衣構文\n             *\n             * @param transition {String}  [in] transition に使用する effect を指定 (任意)\n             * @param reverse    {Boolean} [in] transition に使用する direction を指定 true:reverse[既定]/false:通常 (任意)\n             */\n            Router.cancelSubFlow = function (transition, reverse) {\n                // 起点のページに戻る\n                var baseInfo = Router.detectSubFlowBaseInfo();\n                baseInfo.subFlowParam.additionalDistance = 0;\n                Router.navigate(null, transition, (null != reverse) ? reverse : true, {\n                    subFlow: {\n                        operation: \"end\",\n                        destStacks: null,\n                    }\n                });\n            };\n            /**\n             * \\~english\n             * Check in sub flow.\n             *\n             * \\~japanese\n             * sub flow 内であるか判定\n             */\n            Router.isInSubFlow = function () {\n                var stack = Router.getJqmHistory().stack;\n                var has = _.some(stack, function (value) {\n                    return !!value[Router.SUBFLOW_PARAM];\n                });\n                return has;\n            };\n            /**\n             * \\~english\n             * Check from hash changed navigation.\n             *\n             * \\~japanese\n             * Hash 変更によって Navigate が起こったか判定\n             * \"pagechange\" が発生するまでに判定可能\n             */\n            Router.fromHashChanged = function () {\n                // positiveNavigate = false は含めない\n                return Router.s_lastNavigateInfo.inNavigation && (null == Router.s_lastNavigateInfo.positiveNavigate);\n            };\n            Router.registerPageStack = function (pageStack, withNavigate, options) {\n                var newStacks = [];\n                var failed = false;\n                pageStack = (pageStack instanceof Array) ? pageStack : [pageStack];\n                withNavigate = (null == withNavigate) ? false : withNavigate;\n                (function () {\n                    var makeStack = function (info) {\n                        var url;\n                        var fragment = Backbone.history.getFragment(info.route);\n                        var context = _.find(Router.s_rootContexts, function (ctx) {\n                            return ctx.regexp.test(fragment);\n                        });\n                        if (!context) {\n                            console.warn(\"route is not registered. route: \" + info.route);\n                            return null;\n                        }\n                        else {\n                            url = Router.pathToJqmDataUrl(context.page);\n                        }\n                        var stack = {\n                            route: info.route,\n                            pageUrl: url,\n                            title: info.title,\n                            transition: info.transition,\n                            url: url,\n                        };\n                        return stack;\n                    };\n                    for (var i = 0, n = pageStack.length; i < n; i++) {\n                        var stack = makeStack(pageStack[i]);\n                        if (!stack) {\n                            failed = true;\n                            break;\n                        }\n                        else {\n                            newStacks.push(stack);\n                        }\n                    }\n                })();\n                if (failed) {\n                    return false;\n                }\n                (function () {\n                    // Router の停止\n                    var restart = Router.stop();\n                    var silentLength = newStacks.length - 1;\n                    var finalIndex = newStacks.length - 1;\n                    Router.getJqmHistory().clearForward();\n                    for (var i = 0, n = silentLength; i < n; i++) {\n                        location.hash = newStacks[i].route;\n                        Router.getJqmHistory().stack.push(newStacks[i]);\n                        Router.getJqmHistory().activeIndex = Router.getJqmHistory().stack.length - 1;\n                    }\n                    // final stack with navigate\n                    if (withNavigate) {\n                        var transition = (function () {\n                            if (null != Router.s_lastNavigateInfo.transition) {\n                                return Router.s_lastNavigateInfo.transition;\n                            }\n                            else {\n                                return newStacks[finalIndex].transition;\n                            }\n                        })();\n                        var reverse = (function () {\n                            if (null != Router.s_lastNavigateInfo.reverse) {\n                                return Router.s_lastNavigateInfo.reverse;\n                            }\n                            else {\n                                return false;\n                            }\n                        })();\n                        restart = false;\n                        Router.start({ silent: true });\n                        Router.navigate(newStacks[finalIndex].route, transition, reverse, options);\n                    }\n                    else {\n                        location.hash = newStacks[finalIndex].route;\n                        Router.getJqmHistory().stack.push(newStacks[finalIndex]);\n                        Router.getJqmHistory().activeIndex = Router.getJqmHistory().stack.length - 1;\n                    }\n                    // Router の再開\n                    if (restart) {\n                        Router.start({ silent: true });\n                    }\n                })();\n                return true;\n            };\n            /**\n             * \\~english\n             * Get jQM's history object\n             *\n             * \\~japanese\n             * jQM の History オブジェクトの取得\n             *\n             */\n            Router.getJqmHistory = function () {\n                return $.mobile.navigate.history;\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // private static methods\n            /**\n             * \\~english\n             * Override: Backbone.History.loadUrl().\n             *\n             * @private\n             *\n             * \\~japanese\n             * Backbone.History.loadUrl() のオーバーライド\n             *\n             * @private\n             */\n            Router.customLoadUrl = function (fragment) {\n                var handled = Router.s_loadUrl(fragment);\n                if (!handled) {\n                    Router.onRouteFailed(fragment);\n                }\n                return handled;\n            };\n            /**\n             * \\~english\n             * Override: $.mobile.back().\n             *\n             * fail safe processing.\n             *  If using Backbone's Router,\n             *  this class unuses history object of jQuery Mobile 1.4,\n             *  and standardize as browser back button's behaviour. (jQM 1.3 comparable)\n             *\n             * @private\n             *\n             * \\~japanese\n             * $.mobile.back() のオーバーライド\n             *\n             * [TBD] fail safe 処理\n             *  Backbone の Router を使用している場合、\n             *  jQuery Mobile 1.4 以降の内部の History 管理は使用せずに\n             *  1.3 相当のブラウザの[戻る]の挙動に統一する。\n             *\n             * @private\n             */\n            Router.customJqmBack = function () {\n                if (Router.isRouting()) {\n                    history.back();\n                }\n                else {\n                    // jQM 既定処理\n                    Router.s_back();\n                }\n            };\n            /**\n             * \\~english\n             * Bind events.\n             *\n             * @private\n             *\n             * \\~japanese\n             * イベントバインド\n             *\n             * @private\n             */\n            Router.bindEvents = function () {\n                $(document)\n                    .one(\"pagechange\", function () {\n                    if (Router.s_initOptions.anchorVclick) {\n                        // anchor vclick\n                        $(document).on(\"vclick\", \"[href]\", function (event) {\n                            Router.onAnchorVclicked(event);\n                        });\n                    }\n                })\n                    .on(\"pagebeforeshow\", function (event) {\n                    // \"data-back-dst\" を page に設定\n                    if (null != Router.s_lastNavigateInfo.backDestination) {\n                        var active = Router.getJqmHistory().getActive();\n                        active[Router.BACK_DESTINATION_URL] = Router.s_lastNavigateInfo.backDestination;\n                    }\n                })\n                    .on(\"pageshow\", function (event) {\n                    var active = Router.getJqmHistory().getActive();\n                    if (active[Router.SUBFLOW_PARAM]) {\n                        delete active[Router.SUBFLOW_PARAM];\n                    }\n                })\n                    .on(\"pagechange pagecontainerloadfailed\", function (event) {\n                    Router.s_lastNavigateInfo = {};\n                });\n                // back key assign\n                CDP.setBackButtonHandler(Router.back);\n            };\n            /**\n             * \\~english\n             * Store the RootContext.\n             *\n             * @private\n             * @param name    {String}       [in] name of route\n             * @param context {RouteContext} [in] context object\n             * @return true: succeeded / false: already registered\n             *\n             * \\~japanese\n             * RootContext の格納\n             *\n             * @private\n             * @param name    {String}       [in] route 名\n             * @param context {RouteContext} [in] context オブジェクト\n             * @return true: 登録成功 / false: すでに登録されている\n             */\n            Router.pushContext = function (name, context) {\n                if (!!Router.s_rootContexts[name]) {\n                    console.log(\"logic error. route is already registered. name: \" + name);\n                    return false;\n                }\n                Router.s_rootContexts[name] = context;\n                return true;\n            };\n            /**\n             * \\~english\n             * Check if $.mobile.initializePage() is called or not, and call it if needed.\n             *\n             * @private\n             * @param url {String}  [in] set a navigate URL. (relative path / absolute path / fragment)\n             *\n             * \\~japanese\n             * $.mobile.initializePage() が呼ばれているか確認し、必要なら初期化する。\n             *\n             * @private\n             * @param url {String} [in] 遷移 URL を指定 (相対パス/絶対パス/フラグメント)\n             */\n            Router.initFirstPageIfNeeded = function (url) {\n                if (!$.mobile.autoInitializePage) {\n                    $(document).one(\"pagebeforechange\", function (event, data) {\n                        data.toPage = Framework.toUrl(url);\n                    });\n                    $.mobile.initializePage();\n                    $.mobile.autoInitializePage = true;\n                    return true;\n                }\n                return false;\n            };\n            /**\n             * \\~english\n             * Check for current page is top.\n             *\n             * @private\n             * @return true: top page / false: not top page\n             *\n             * \\~japanese\n             * 現在のページが top に指定されているか判定\n             *\n             * @private\n             * @return true: top 指定 / false: top ではない\n             */\n            Router.isTopPage = function () {\n                var fragment = Backbone.history.getFragment($.mobile.path.parseUrl(location.href).hash);\n                var context = _.find(Router.s_rootContexts, function (ctx) {\n                    return ctx.regexp.test(fragment);\n                });\n                return (null == context) ? false : context.top;\n            };\n            /**\n             * \\~english\n             * Called when anchor received \"vclick\" event.\n             *\n             * @private\n             * @return true: need default processing / false: need custom processing\n             *\n             * \\~japanese\n             * anchor が vclick されたときにコールされる\n             *\n             * @private\n             * @return true: default 処理 / false: カスタム処理\n             */\n            Router.onAnchorVclicked = function (event) {\n                if (Router.isJustBeforeVclicked()) {\n                    event.preventDefault();\n                    return false;\n                }\n                return Router.followAnchor(event);\n            };\n            /**\n             * \\~english\n             * Anchor processing.\n             *\n             * @private\n             *\n             * \\~japanese\n             * anchor 処理\n             *\n             * @private\n             */\n            Router.followAnchor = function (event) {\n                var $target = $(event.currentTarget);\n                var url = $target.jqmData(\"href\") || $target.attr(\"href\");\n                var transition = $target.jqmData(\"transition\");\n                var direction = $target.jqmData(\"direction\");\n                var backDst = $target.attr(Router.DATA_BACK_DESTINATION);\n                var noHashChange = $target.attr(Router.DATA_NO_HASH_CHANGE) ?\n                    $target.attr(Router.DATA_NO_HASH_CHANGE) === \"true\" : false;\n                var noHrefHandle = $target.attr(Router.DATA_NO_VCLICK_HANDLE) ?\n                    $target.attr(Router.DATA_NO_VCLICK_HANDLE) === \"true\" : false;\n                /*\n                 * - 明示的にハンドルしない指定がある場合\n                 * - jQM のフラグメントの場合\n                 * 既定の処理を行う\n                 */\n                if (noHrefHandle || Router.needDefaultOperation(url)) {\n                    return true;\n                }\n                // custom behavier\n                event.preventDefault();\n                if (Router.isBackButtonClicked(event)) {\n                    Router.back();\n                }\n                else {\n                    Router.navigate(url, transition, !!direction, { noHashChange: noHashChange, backDestination: backDst });\n                }\n                return false;\n            };\n            /**\n             * \\~english\n             * Check default processing needed.\n             *\n             * @private\n             * @param  url {String} [in] url string\n             * @return true: need default processing / false: need not\n             *\n             * \\~japanese\n             * 既定の処理を行わせるか判定\n             *\n             * @private\n             * @param  url {String} [in] url 文字列\n             * @return true: 既定の処理が必要 / false: 不要\n             */\n            Router.needDefaultOperation = function (url) {\n                if (!url || (\"#\" === url)) {\n                    return true;\n                }\n                else if (\"#\" === url[0]) {\n                    return !Router.canResolveRoute(url);\n                }\n                else {\n                    return false;\n                }\n            };\n            /**\n             * \\~english\n             * Check status of Backbone.Router if they can resolve route.\n             *\n             * @private\n             * @param  url {String} [in] url 文字列\n             * @return true: can resolve / false: can not\n             *\n             * \\~japanese\n             * Backbone.Router が route を解決可能か判定\n             *\n             * @private\n             * @param  url {String} [in] url 文字列\n             * @return true: 解決可能 / false: 解決不可\n             */\n            Router.canResolveRoute = function (url) {\n                var fragment = Backbone.history.getFragment(url);\n                return _.any(Backbone.history.handlers, function (handler) {\n                    if (handler.route.test(fragment)) {\n                        return true;\n                    }\n                });\n            };\n            /**\n             * \\~english\n             * Check \"vclick\" fired at the last minute.\n             *\n             * @private\n             *\n             * \\~japanese\n             * 直前に vclick が呼ばれたか判定\n             *\n             * @private\n             */\n            Router.isJustBeforeVclicked = function () {\n                var isBefore = (Date.now() - Router.s_lastClickedTime) < Router.DELAY_TIME * 2;\n                Router.s_lastClickedTime = Date.now();\n                return isBefore;\n            };\n            /**\n             * \\~english\n             * Check back button clicked.\n             *\n             * @private\n             *\n             * \\~japanese\n             * Back Button がクリックされたか判定\n             *\n             * @private\n             */\n            Router.isBackButtonClicked = function (event) {\n                if ($(event.currentTarget).jqmData(\"rel\") === \"back\") {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            };\n            /**\n             * \\~english\n             * It called on succeed routing triggered by changing hash.\n             *\n             * @private\n             * @param name {String} [in] name of route\n             * @param args {Array}  [in] array of paramter\n             *\n             * \\~japanese\n             * ハッシュ値が変更され、ルーティングが成功したときにコールされる\n             *\n             * @private\n             * @param name {String} [in] route 名。page の値が渡る。\n             * @param args {Array}  [in] パラメータ配列。\n             */\n            Router.onRouteSucceeded = function (name) {\n                var args = [];\n                for (var _i = 1; _i < arguments.length; _i++) {\n                    args[_i - 1] = arguments[_i];\n                }\n                var context = Router.s_rootContexts[name];\n                if (!!context) {\n                    var intent = { params: { queryParams: args } };\n                    Router.s_lastNavigateInfo.inNavigation = true;\n                    if (null != Router.s_lastNavigateInfo.intent) {\n                        intent.params = $.extend({}, intent.params, Router.s_lastNavigateInfo.intent.params || {});\n                    }\n                    Router.s_lastNavigateInfo.intent = $.extend({}, Router.s_lastNavigateInfo.intent, intent);\n                    var handled = context.callback(args);\n                    if (!handled) {\n                        Router.changePage(context.page);\n                    }\n                }\n            };\n            /**\n             * \\~english\n             * It called on failed routing triggered by changing hash.\n             *\n             * @private\n             * @param name {String} [in] name of route\n             * @param args {Array}  [in] array of paramter\n             *\n             * \\~japanese\n             * ハッシュ値が変更され、ルーティングが失敗したときにコールされる\n             *\n             * @private\n             * @param name {String} [in] route 名。page の値が渡る。\n             * @param args {Array}  [in] パラメータ配列。\n             */\n            Router.onRouteFailed = function (fragment) {\n                Router.s_lastNavigateInfo.inNavigation = true;\n                if (null == fragment) {\n                    fragment = Backbone.history.getFragment();\n                }\n                // route が解決できなかったものを管理下に\n                if (Router.s_lastNavigateInfo.positiveNavigate) {\n                    var context = Router.s_rootContexts[fragment];\n                    if (null == context) {\n                        context = {\n                            route: fragment,\n                            regexp: Router.s_router._routeToRegExp(fragment),\n                            page: Router.s_lastNavigateInfo.url,\n                            top: false,\n                            callback: null,\n                        };\n                        Router.pushContext(fragment, context);\n                    }\n                }\n                // fragment から path を解決\n                var path = fragment;\n                if (null != Router.s_rootContexts[fragment]) {\n                    path = Router.s_rootContexts[fragment].page;\n                }\n                Router.changePage(path);\n            };\n            /**\n             * \\~english\n             * This function just calls jQuery Mobile's navigation method.\n             *\n             * @private\n             * @param path {String} [in] to page path\n             *\n             * \\~japanese\n             * jQuery Mobile によるページ遷移指定\n             *\n             * @private\n             * @param path {String} [in] 遷移先パスを指定\n             */\n            Router.changePage = function (path) {\n                var notifyBeforeRouteChange;\n                // data-rel=\"back\", ブラウザボタン, H/W Back Key が押下されたとき\n                if (!Router.s_lastNavigateInfo.positiveNavigate) {\n                    if (Router.s_lastNavigateInfo.inAdditionalBack) {\n                        Router.s_lastNavigateInfo.inAdditionalBack = false;\n                    }\n                    else {\n                        Router.decideDirection(path);\n                        // 指定先に戻るか判定\n                        var additional = Router.detectAdditionalBackDistance();\n                        if (0 < additional) {\n                            // 2回目以降の hash change には反応させない.\n                            Router.s_lastNavigateInfo.inAdditionalBack = true;\n                            Router.getJqmHistory().activeIndex -= additional;\n                            history.go(-additional);\n                            return;\n                        }\n                    }\n                    // 遷移先が subflow 開始点である場合、param を削除\n                    var subFlowInfo = Router.detectSubFlowBaseInfo();\n                    if (subFlowInfo.isCurrent) {\n                        delete subFlowInfo.stack[Router.SUBFLOW_PARAM];\n                    }\n                }\n                else {\n                    // 能動的遷移の場合 previousIndex を更新\n                    Router.getJqmHistory().previousIndex = Router.getJqmHistory().activeIndex;\n                }\n                // ページ遷移開始通知. すでにコールされている場合は既定の何もしないコールバックを使用する.\n                notifyBeforeRouteChange = Router.s_lastNavigateInfo.calledBeforeRouteChange ? _defaultBeforeRouteChange : _beforeRouteChange;\n                notifyBeforeRouteChange()\n                    .then(function () {\n                    // 付加情報\n                    if (Router.s_lastNavigateInfo.intent) {\n                        Router.pushIntent(Router.s_lastNavigateInfo.intent);\n                    }\n                    Router.treatUrlHistory();\n                    $.mobile.changePage(Framework.toUrl(path), {\n                        showLoadMsg: false,\n                        allowSamePageTransition: true,\n                        transition: Router.s_lastNavigateInfo.transition || \"none\",\n                        reverse: Router.s_lastNavigateInfo.reverse,\n                        fromHashChange: !Router.s_lastNavigateInfo.positiveNavigate,\n                        changeHash: !Router.s_lastNavigateInfo.noHashChange,\n                    });\n                })\n                    .fail(function () {\n                    console.error(\"before route change call, failed.\");\n                    Router.s_lastNavigateInfo = {};\n                });\n            };\n            /**\n             * \\~english\n             * Decide direction parameter.\n             * It's as same as jQM internal implement. (imperfection)\n             *\n             * @private\n             * @param path {String} [in] to page path\n             *\n             * \\~japanese\n             * direction の判定\n             * jQM の内部実装と等価 (不完全)\n             *\n             * @private\n             * @param path {String} [in] 遷移先パスを指定\n             */\n            Router.decideDirection = function (path) {\n                var url = $.mobile.path.convertUrlToDataUrl(Framework.toUrl(path));\n                if (null == Router.s_lastNavigateInfo.transition) {\n                    Router.s_lastNavigateInfo.transition = Router.getJqmHistory().getActive().transition;\n                }\n                Router.getJqmHistory().direct({\n                    url: url,\n                    present: function (newPage, direction) {\n                        switch (direction) {\n                            case \"back\":\n                                if (null == Router.s_lastNavigateInfo.reverse) {\n                                    Router.s_lastNavigateInfo.reverse = true;\n                                }\n                                break;\n                            case \"forward\":\n                                if (null == Router.s_lastNavigateInfo.transition) {\n                                    Router.s_lastNavigateInfo.transition = newPage.transition;\n                                }\n                                break;\n                            default:\n                                console.log(\"unknown direction: \" + direction);\n                                break;\n                        }\n                    },\n                    missing: function () {\n                        // 初期ページ URL は判定できない。正常系。\n                        if (1 === Router.getJqmHistory().activeIndex) {\n                            Router.getJqmHistory().previousIndex = 1;\n                            Router.getJqmHistory().activeIndex = 0;\n                            if (null == Router.s_lastNavigateInfo.reverse) {\n                                Router.s_lastNavigateInfo.reverse = true;\n                            }\n                        }\n                        else if (0 !== Router.getJqmHistory().activeIndex) {\n                            console.log(\"unknown direction.\");\n                        }\n                    }\n                });\n            };\n            /**\n             * \\~english\n             * Return additional back distance count when back destination set.\n             * (const function)\n             *\n             * @private\n             * @return {Number} count of additiona back distance.\n             *\n             * \\~japanese\n             * 戻り先が指定されているとき、追加の Back 数を返します。\n             * (この関数は Router の状態を変更しません。)\n             *\n             * @private\n             * @return {String} 追加で Back に必要な距離.\n             */\n            Router.detectAdditionalBackDistance = function () {\n                var stack = Router.getJqmHistory().stack;\n                var historyActiveIndex = Router.getJqmHistory().activeIndex; // decideDirection() の Router.getJqmHistory().direct() によって、history の activeIndex はすでに変わっている\n                var previousIndex = Router.getJqmHistory().previousIndex; // [戻る]が押下された場合に値が入る\n                var i, backDst, distance, fragment, context, jqmDataUrl;\n                // check \"operation\". [戻る]および clearForward() されていない状況をチェック\n                if (!Router.s_lastNavigateInfo.reverse || null == previousIndex || !stack[previousIndex]) {\n                    return 0;\n                }\n                // \"backDst exists\". [戻り先]が指定されているかチェック\n                backDst = stack[previousIndex][Router.BACK_DESTINATION_URL];\n                if ((null == backDst)) {\n                    return 0;\n                }\n                fragment = Backbone.history.getFragment(backDst);\n                // 初期ページ\n                if (\"\" === fragment) {\n                    return historyActiveIndex;\n                }\n                // rootContext から path を逆引き\n                context = _.find(Router.s_rootContexts, function (ctx) {\n                    return ctx.regexp.test(fragment);\n                });\n                if (null == context) {\n                    console.warn(\"back destination is not registered. back-dst: \" + backDst);\n                    return 0;\n                }\n                // dataUrl を元に jQM History を検索\n                jqmDataUrl = Router.pathToJqmDataUrl(context.page);\n                for (i = historyActiveIndex, distance = 0; 0 <= i; i--, distance++) {\n                    if (jqmDataUrl === stack[i].pageUrl) {\n                        break;\n                    }\n                }\n                if (i < 0) {\n                    console.warn(\"back destination does not exist in history. back-dst: \" + backDst);\n                    return 0;\n                }\n                return distance;\n            };\n            /**\n             * \\~english\n             * Start sub flow\n             * Attach SubFlowParam to jqm history stack object.\n             *\n             * @param subFlowParam {SubFlowParam} [in] Sub Flow parameter\n             *\n             * \\~japanese\n             * Sub Flow の開始\n             * SubFlowParam を jqm history stack にアタッチ\n             *\n             * @param subFlowParam {SubFlowParam} [in] Sub Flow パラメータ\n             */\n            Router.startSubFlow = function (subFlowParam) {\n                var active = Router.getJqmHistory().getActive();\n                var param = subFlowParam;\n                if (subFlowParam.destBase) {\n                    var distance = 0;\n                    var fragment_2 = Backbone.history.getFragment(subFlowParam.destBase);\n                    var context = _.find(Router.s_rootContexts, function (ctx) {\n                        return ctx.regexp.test(fragment_2);\n                    });\n                    if (null == context) {\n                        console.warn(\"base destination is not registered. destBase: \" + subFlowParam.destBase);\n                        return;\n                    }\n                    // dataUrl を元に jQM History を検索\n                    var jqmDataUrl = Router.pathToJqmDataUrl(context.page);\n                    var stack = Router.getJqmHistory().stack;\n                    for (var i = Router.getJqmHistory().activeIndex; 0 <= i; i--, distance++) {\n                        if (jqmDataUrl === stack[i].pageUrl) {\n                            param.additionalDistance = distance;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    param.destBase = location.hash;\n                    param.additionalDistance = 0;\n                }\n                active[Router.SUBFLOW_PARAM] = param;\n            };\n            /**\n             * \\~english\n             * End sub flow\n             * navigate and delete SubFlowParam from jqm history stack object.\n             *\n             * @param navOptions {NavigateOptions} [in] Sub Flow parameter\n             *\n             * \\~japanese\n             * Sub Flow の終了\n             * 遷移と SubFlowParam を jqm history stack から削除\n             *\n             * @param navOptions {NavigateOptions} [in] Sub Flow パラメータ\n             */\n            Router.finishSubFlow = function (options) {\n                var navOptions = $.extend(true, {}, options);\n                var baseInfo = Router.detectSubFlowBaseInfo();\n                // \"end\" 時に更新されたものを上書き\n                var param = $.extend({}, baseInfo.subFlowParam, navOptions.subFlow);\n                var distance = baseInfo.distance;\n                var stack = baseInfo.stack;\n                var retry = 0;\n                var NAVIGATE_INTERVAL = 100;\n                var MAX_RETRY_COUNT = 10;\n                // hash 変更が完了した後に navigate を実行\n                var _navigate = function () {\n                    if (MAX_RETRY_COUNT <= retry) {\n                        console.error(\"reached navigate max retry count.\");\n                        Router.s_lastNavigateInfo = {};\n                    }\n                    else if (param.destBase !== location.hash) {\n                        retry++;\n                        setTimeout(_navigate, NAVIGATE_INTERVAL);\n                    }\n                    else {\n                        Router.s_lastNavigateInfo.inNavigation = false;\n                        Router.registerPageStack(param.destStacks, true, navOptions);\n                    }\n                };\n                if (stack) {\n                    delete stack[Router.SUBFLOW_PARAM];\n                    Router.getJqmHistory().activeIndex -= distance;\n                    Router.getJqmHistory().clearForward();\n                    if (param.destStacks) {\n                        Router.stop();\n                        // iOS 環境において index.html より history.go(0) が発生するとリロードが発生する.\n                        // その後画面遷移を控えるため, 履歴を戻る必要があるときにのみ限定する.\n                        if (0 !== distance) {\n                            history.go(-distance);\n                        }\n                        delete navOptions.subFlow; // subFlow プロパティの破棄\n                        setTimeout(_navigate, 0);\n                    }\n                    else {\n                        Router.s_lastNavigateInfo.positiveNavigate = false;\n                        history.go(-distance);\n                    }\n                }\n                else {\n                    console.warn(\"subFlow begin status does not exist in history.\");\n                    Router.s_lastNavigateInfo = {};\n                }\n            };\n            /**\n             * \\~english\n             * Return destination Sub Flow information.\n             * (const function)\n             *\n             * @private\n             * @return {Object} sub flow info.\n             *\n             * \\~japanese\n             * Sub Flow 情報を返却\n             * (この関数は Router の状態を変更しません。)\n             *\n             * @private\n             * @return {Object} Sub Flow 情報.\n             */\n            Router.detectSubFlowBaseInfo = function () {\n                var stack = Router.getJqmHistory().stack;\n                var historyActiveIndex = Router.getJqmHistory().activeIndex;\n                var i, distance;\n                var param = {};\n                var target;\n                for (i = historyActiveIndex, distance = 0; 0 <= i; i--, distance++) {\n                    if (stack[i][Router.SUBFLOW_PARAM]) {\n                        target = stack[i];\n                        param = stack[i][Router.SUBFLOW_PARAM];\n                        break;\n                    }\n                }\n                if (null == param.additionalDistance) {\n                    param.additionalDistance = 0;\n                }\n                return {\n                    stack: target,\n                    subFlowParam: param,\n                    distance: distance + param.additionalDistance,\n                    isCurrent: (function () {\n                        if (target && 0 === distance) {\n                            return true;\n                        }\n                        else {\n                            return false;\n                        }\n                    })(),\n                };\n            };\n            /**\n             * \\~english\n             * Convert path to jQM dataUrl.\n             *\n             * @private\n             * @return {String} jQM data url.\n             *\n             * \\~japanese\n             * パスを jQM dataUrl に変換\n             *\n             * @private\n             * @return {String} jQM data url.\n             */\n            Router.pathToJqmDataUrl = function (path) {\n                var url = Framework.toUrl(path);\n                var dataUrl = $.mobile.path.convertUrlToDataUrl(url);\n                return dataUrl;\n            };\n            /**\n             * \\~english\n             * Update jQM urlHistory by window.history object.\n             * To be natural browsing history behavior, application needs to update jQM urlHistory\n             * when clicking back or next button of browser. (imperfection for decideDirection())\n             *\n             * @private\n             *\n             * \\~japanese\n             * ブラウザの履歴に基づき jQM urlHistory を更新\n             * [戻る]/[進む]が押下された後、ページ遷移されるとき、jQM urlHistory を更新する。(decideDirection() により不完全)\n             *\n             * @private\n             */\n            Router.treatUrlHistory = function () {\n                if (Router.s_lastNavigateInfo.positiveNavigate || history.length < Router.getJqmHistory().stack.length) {\n                    Router.getJqmHistory().clearForward();\n                }\n            };\n            Router.s_initOptions = {};\n            Router.s_router = null;\n            Router.s_rootContexts = {};\n            Router.s_lastNavigateInfo = {};\n            Router.s_lastClickedTime = null;\n            Router.s_lastIntent = {};\n            Router.s_loadUrl = null;\n            Router.s_back = null;\n            Router.DELAY_TIME = 200; // TBD: 暫定値\n            Router.DATA_BACK_DESTINATION = \"data-back-dst\";\n            Router.DATA_NO_HASH_CHANGE = \"data-no-hash-change\";\n            Router.DATA_NO_VCLICK_HANDLE = \"data-no-vclick-handle\";\n            Router.BACK_DESTINATION_URL = \"backDstUrl\";\n            Router.SUBFLOW_PARAM = \"subFlowParam\";\n            Router.s_defaultInitOptions = {\n                anchorVclick: true,\n            };\n            Router.s_defaultNavigateOptions = {\n                trigger: true,\n                replace: false,\n                intent: null,\n            };\n            return Router;\n        }());\n        Framework.Router = Router;\n    })(Framework = CDP.Framework || (CDP.Framework = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var Framework;\n    (function (Framework) {\n        var Promise = CDP.Promise;\n        /**\n         * \\~english\n         * @class Page\n         * @brief Base class of all page unit.\n         *\n         * \\~japanese\n         * @class Page\n         * @brief すべてのページの基本となる既定クラス\n         */\n        var Page = (function () {\n            //////////////////////////////////////////\n            // public methods\n            /**\n             * \\~english\n             * constructor\n             *\n             * @param _url    {String}               [in] page's URL\n             * @param _id     {String}               [in] page's ID\n             * @param options {PageConstructOptions} [in] options\n             *\n             * \\~japanese\n             * constructor\n             *\n             * @param _url    {String}               [in] ページ URL\n             * @param _id     {String}               [in] ページ ID\n             * @param options {PageConstructOptions} [in] オプション\n             */\n            function Page(_url, _id, options) {\n                this._url = _url;\n                this._id = _id;\n                this.setup(options);\n            }\n            Object.defineProperty(Page.prototype, \"active\", {\n                //////////////////////////////////////////\n                // public accessor\n                get: function () { return !!this._$page && this._$page.hasClass(\"ui-page-active\"); },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(Page.prototype, \"url\", {\n                get: function () { return this._url; },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(Page.prototype, \"id\", {\n                get: function () { return this._id; },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(Page.prototype, \"$page\", {\n                get: function () { return this._$page; },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(Page.prototype, \"$header\", {\n                get: function () { return this._$header; },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(Page.prototype, \"$footer\", {\n                get: function () { return this._$footer; },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(Page.prototype, \"intent\", {\n                get: function () { return this._intent; },\n                set: function (newIntent) { this._intent = newIntent; this._intent._update = true; },\n                enumerable: true,\n                configurable: true\n            });\n            //////////////////////////////////////////\n            // public Event Handler\n            //! Orientation の変更を受信\n            Page.prototype.onOrientationChanged = function (newOrientation) {\n                if (this._owner) {\n                    this._owner.onOrientationChanged(newOrientation);\n                }\n            };\n            //! H/W Back Button ハンドラ\n            Page.prototype.onHardwareBackButton = function (event) {\n                if (this._owner) {\n                    return this._owner.onHardwareBackButton(event);\n                }\n                else {\n                    return false;\n                }\n            };\n            //! Router \"before route change\" ハンドラ\n            Page.prototype.onBeforeRouteChange = function () {\n                if (this._owner) {\n                    return this._owner.onBeforeRouteChange();\n                }\n                else {\n                    return Promise.resolve();\n                }\n            };\n            //! 汎用コマンドを受信\n            Page.prototype.onCommand = function (event, kind) {\n                if (this._owner) {\n                    return this._owner.onCommand(event, kind);\n                }\n                else {\n                    return false;\n                }\n            };\n            //! 最初の OnPageInit() のときにのみコールされる\n            Page.prototype.onInitialize = function (event) {\n                if (this._owner) {\n                    this._owner.onInitialize(event);\n                }\n            };\n            //! jQM event: \"pagebeforecreate\" に対応\n            Page.prototype.onPageBeforeCreate = function (event) {\n                if (this._owner) {\n                    this._owner.onPageBeforeCreate(event);\n                }\n            };\n            //! jQM event: \"pagecreate\" (旧:\"pageinit\") に対応\n            Page.prototype.onPageInit = function (event) {\n                if (this._owner) {\n                    this._owner.onPageInit(event);\n                }\n            };\n            //! jQM event: \"pagebeforeshow\" に対応\n            Page.prototype.onPageBeforeShow = function (event, data) {\n                if (this._owner) {\n                    this._owner.onPageBeforeShow(event, data);\n                }\n            };\n            //! jQM event: \"pagecontainershow\" (旧:\"pageshow\") に対応\n            Page.prototype.onPageShow = function (event, data) {\n                if (this._owner) {\n                    this._owner.onPageShow(event, data);\n                }\n            };\n            //! jQM event: \"pagebeforehide\" に対応\n            Page.prototype.onPageBeforeHide = function (event, data) {\n                if (this._owner) {\n                    this._owner.onPageBeforeHide(event, data);\n                }\n            };\n            //! jQM event: \"pagecontainerhide\" (旧:\"pagehide\") に対応\n            Page.prototype.onPageHide = function (event, data) {\n                if (this._owner) {\n                    this._owner.onPageHide(event, data);\n                }\n            };\n            //! jQM event: \"pageremove\" に対応\n            Page.prototype.onPageRemove = function (event) {\n                if (this._owner) {\n                    this._owner.onPageRemove(event);\n                }\n            };\n            //////////////////////////////////////////\n            // private methods\n            //! mixin 用疑似コンストラクタ\n            Page.prototype.setup = function (options) {\n                var _this = this;\n                // mixin destination 用の再初期化\n                this._initialized = false;\n                this._intent = null;\n                // イベントバインド\n                var selector = \"#\" + this._id;\n                $(document)\n                    .off(\"pagebeforecreate\", selector)\n                    .on(\"pagebeforecreate\", selector, function (event) {\n                    _this._$page = $(selector).first();\n                    _this._$header = _this._$page.children(\":jqmData(role=header)\").first();\n                    _this._$footer = _this._$page.children(\":jqmData(role=footer)\").first();\n                    _this._$page\n                        .on(\"pagecreate\", function (ev) {\n                        _this.pageInit(ev);\n                    })\n                        .on(\"pagebeforeshow\", function (ev, data) {\n                        _this.pageBeforeShow(ev, data);\n                    })\n                        .on(\"pageshow\", function (ev, data) {\n                        _this.pageShow(ev, data);\n                    })\n                        .on(\"pagebeforehide\", function (ev, data) {\n                        _this.pageBeforeHide(ev, data);\n                    })\n                        .on(\"pagehide\", function (ev, data) {\n                        _this.pageHide(ev, data);\n                    })\n                        .on(\"pageremove\", function (ev) {\n                        _this.pageRemove(ev);\n                    });\n                    _this.pageBeforeCreate(event);\n                });\n                options = options || {};\n                // owner 設定\n                this._owner = options.owner;\n                // intent 設定\n                this._keepIntent = options.keepIntent;\n                // Router へ登録\n                if (null == options.route) {\n                    options.route = this._id;\n                }\n                Framework.Router.register(options.route, this._url, options.top, options.callback);\n            };\n            //! PageTransitionDirection の判定\n            Page.prototype.getDirection = function () {\n                var activeIndex = Framework.Router.getJqmHistory().activeIndex;\n                var prevIndex = Framework.Router.getJqmHistory().previousIndex;\n                if (null == activeIndex || null == prevIndex) {\n                    return \"unknown\";\n                }\n                else if (prevIndex === activeIndex) {\n                    return \"same\";\n                }\n                else if (activeIndex < prevIndex) {\n                    return \"back\";\n                }\n                else {\n                    return \"forward\";\n                }\n            };\n            Page.prototype.pageBeforeCreate = function (event) {\n                this.onPageBeforeCreate(event);\n            };\n            Page.prototype.pageInit = function (event) {\n                if (!this._initialized) {\n                    this.onInitialize(event);\n                    this._initialized = true;\n                }\n                this.onPageInit(event);\n            };\n            Page.prototype.pageBeforeShow = function (event, data) {\n                Framework.setActivePage(this);\n                this._intent = Framework.Router.popIntent();\n                this.onPageBeforeShow(event, $.extend(data, { direction: this.getDirection() }));\n            };\n            Page.prototype.pageShow = function (event, data) {\n                this.onPageShow(event, $.extend(data, { direction: this.getDirection() }));\n            };\n            Page.prototype.pageBeforeHide = function (event, data) {\n                this.onPageBeforeHide(event, $.extend(data, { direction: this.getDirection() }));\n                if (null != this._intent && (this._keepIntent || this._intent._update)) {\n                    delete this._intent._update;\n                    Framework.Router.pushIntent(this._intent);\n                }\n                else if (Framework.Router.fromHashChanged() && Framework.Router.isInSubFlow()) {\n                    Framework.Router.pushIntent(this._intent);\n                }\n                this._intent = null;\n                Framework.setActivePage(null);\n            };\n            Page.prototype.pageHide = function (event, data) {\n                this.onPageHide(event, $.extend(data, { direction: this.getDirection() }));\n            };\n            Page.prototype.pageRemove = function (event) {\n                this.onPageRemove(event);\n                this._$page.off();\n                this._$page = null;\n                this._$header.off();\n                this._$header = null;\n                this._$footer.off();\n                this._$footer = null;\n            };\n            return Page;\n        }());\n        Framework.Page = Page;\n        ///////////////////////////////////////////////////////////////////////\n        // closure methods\n        /*\n         * jQM1.4 にて、duplicate とされている \"pageshow\", \"pagehide\" はまだ据え置き。\n         * http://jquerymobile.com/upgrade-guide/1.4/#navigation\n         *\n         * 特定ページに対して、イベントを取得できないため。\n         * Forum でも議論中なので、決着がついてから対応を考慮する。\n         * https://github.com/jquery/jquery-mobile/issues/6865\n         *\n         * [参考] よくわかるイベントチートシート\n         *  - 本家(1.4+) http://jqmtricks.wordpress.com/2014/03/26/jquery-mobile-page-events/\n         *  - 有志(~1.3) http://dev.screw-axis.com/doc/jquery_mobile/resources/cheatsheet/\n         *\n         * 以下は不完全な対応予定コード\n         *\n         * 特に振る舞いが変わるのは、\"pagehide\" で、検討されている仕様では\n         * DOM を特定できないため、onPageHide() をインスタンスに伝えることができない。\n         *\n         * 仕様が変わらない場合は\n         * onPageBeforeHide() の中で post して onPageHide() を発行する予定(過去互換保証)\n         *\n         * 2015/03/25 追記:\n         * 仕様は確定. jQM1.6 より削除される予定\n         *  jQM1.4 相当の参考実装 plugin があり、この実装相当の機能を cdp.framework.jqm で抱える予定\n         *  https://github.com/arschmitz/jquery-mobile-onpage\n         *\n         * 公式見解\n         * https://github.com/jquery/jquery-mobile/issues/7283#issuecomment-40746622\n         */\n        /*\n            // bind \"pagecontainershow\", and \"pagecontainerhide\".\n            (() => {\n                let $body: any = $(\"body\");\n                $(document)\n                    .on(\"pagecontainershow\", (event: JQuery.Event, data: ShowEventData) => {\n                        if (0 < data.prevPage.length) {\n                            // \"pagecontainershow\" は \"pagecontainerhide\" よりも遅いので、やはり DOM にはアクセスできない\n                            let $prevpage = $(\"#\" + data.prevPage[0].id);\n                            $prevpage.trigger(\"_pagehide\", data);\n                        }\n                        // 以下の対応で、\"pagecontainershow\" は \"pageshow\" 同等の振る舞いにすることが可能\n                        let pageId = $body.pagecontainer(\"getActivePage\").prop(\"id\");\n                        let $page = $(\"#\" + pageId);\n                        $page.trigger(\"_pageshow\", data);\n                    })\n                    .on(\"pagecontainerhide\", (event: JQuery.Event, data: HideEventData) => {\n                        // \"pagecontainerhide\" を受けたときは既に DOM から消えているため、page は特定できない。\n                        //let pageId = $body.pagecontainer('getActivePage').prop(\"id\");\n                        //let $page = $(\"#\" + pageId);\n                        //$page.trigger(\"_pagehide\", data);\n                    })\n                    .on(\"pagecontainertransition\", (event: JQuery.Event, data: any) => {\n                        // \"pagecontainertransition\" には toPage にしかアクセスはできない\n                    })\n                ;\n            })();\n        */\n    })(Framework = CDP.Framework || (CDP.Framework = {}));\n})(CDP || (CDP = {}));\n\nreturn CDP.Framework; }));\n\n}.call(window));\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n/*!\n * jQuery Migrate - v3.0.1-hotfix - 2017-01-11\n * Copyright jQuery Foundation and other contributors\n */\n; (function (factory) {\n    if (true) {\n        // AMD. Register as an anonymous module.\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(5)], __WEBPACK_AMD_DEFINE_RESULT__ = function ($) {\n            return factory($, window);\n        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n                __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof module === \"object\" && module.exports) {\n        // Node/CommonJS\n        // eslint-disable-next-line no-undef\n        module.exports = factory(require(\"jquery\"), window);\n    } else {\n        // Browser globals\n        factory(jQuery, window);\n    }\n})(function (jQuery, window) {\n    \"use strict\";\n\n    jQuery.migrateVersion = \"3.0.1-hotfix\"; // with hotfix\n\n    /* exported migrateWarn, migrateWarnFunc, migrateWarnProp */\n\n    (function () {\n\n        // Support: IE9 only\n        // IE9 only creates console object when dev tools are first opened\n        // Also, avoid Function#bind here to simplify PhantomJS usage\n        var log = window.console && window.console.log &&\n            function () {\n                window.console.log.apply(window.console, arguments);\n            },\n            rbadVersions = /^[12]\\./;\n\n        if (!log) {\n            return;\n        }\n\n        // Need jQuery 3.0.0+ and no older Migrate loaded\n        if (!jQuery || rbadVersions.test(jQuery.fn.jquery)) {\n            log(\"JQMIGRATE: jQuery 3.0.0+ REQUIRED\");\n        }\n        if (jQuery.migrateWarnings) {\n            log(\"JQMIGRATE: Migrate plugin loaded multiple times\");\n        }\n\n        // Show a message on the console so devs know we're active\n        if (!jQuery.migrateMute) {\n            log(\"JQMIGRATE: Migrate is installed\" +\n                (jQuery.migrateMute ? \"\" : \" with logging active\") +\n                \", version \" + jQuery.migrateVersion);\n        }\n    })();\n\n    var warnedAbout = {};\n\n    // List of warnings already given; public read only\n    jQuery.migrateWarnings = [];\n\n    // Set to false to disable traces that appear with warnings\n    if (jQuery.migrateTrace === undefined) {\n        jQuery.migrateTrace = true;\n    }\n\n    // Forget any warnings we've already given; public\n    jQuery.migrateReset = function () {\n        warnedAbout = {};\n        jQuery.migrateWarnings.length = 0;\n    };\n\n    function migrateWarn(msg) {\n        var console = window.console;\n        if (!warnedAbout[msg]) {\n            warnedAbout[msg] = true;\n            jQuery.migrateWarnings.push(msg);\n            if (console && console.warn && !jQuery.migrateMute) {\n                console.warn(\"JQMIGRATE: \" + msg);\n                if (jQuery.migrateTrace && console.trace) {\n                    console.trace();\n                }\n            }\n        }\n    }\n\n    function migrateWarnProp(obj, prop, value, msg) {\n        Object.defineProperty(obj, prop, {\n            configurable: true,\n            enumerable: true,\n            get: function () {\n                migrateWarn(msg);\n                return value;\n            },\n            set: function (newValue) {\n                migrateWarn(msg);\n                value = newValue;\n            }\n        });\n    }\n\n    function migrateWarnFunc(obj, prop, newFunc, msg) {\n        obj[prop] = function () {\n            migrateWarn(msg);\n            return newFunc.apply(this, arguments);\n        };\n    }\n\n    if (window.document.compatMode === \"BackCompat\") {\n        // JQuery has never supported or tested Quirks Mode\n        migrateWarn(\"jQuery is not compatible with Quirks Mode\");\n    }\n\n\n    var oldInit = jQuery.fn.init,\n        oldIsNumeric = jQuery.isNumeric,\n        oldFind = jQuery.find,\n        rattrHashTest = /\\[(\\s*[-\\w]+\\s*)([~|^$*]?=)\\s*([-\\w#]*?#[-\\w#]*)\\s*\\]/,\n        rattrHashGlob = /\\[(\\s*[-\\w]+\\s*)([~|^$*]?=)\\s*([-\\w#]*?#[-\\w#]*)\\s*\\]/g;\n\n    jQuery.fn.init = function (arg1) {\n        var args = Array.prototype.slice.call(arguments);\n\n        if (typeof arg1 === \"string\" && arg1 === \"#\") {\n            // JQuery( \"#\" ) is a bogus ID selector, but it returned an empty set before jQuery 3.0\n            migrateWarn(\"jQuery( '#' ) is not a valid selector\");\n            args[0] = [];\n        }\n\n        return oldInit.apply(this, args);\n    };\n    jQuery.fn.init.prototype = jQuery.fn;\n\n    jQuery.find = function (selector) {\n        var args = Array.prototype.slice.call(arguments);\n\n        // Support: PhantomJS 1.x\n        // String#match fails to match when used with a //g RegExp, only on some strings\n        if (typeof selector === \"string\" && rattrHashTest.test(selector)) {\n            // The nonstandard and undocumented unquoted-hash was removed in jQuery 1.12.0\n            // First see if qS thinks it's a valid selector, if so avoid a false positive\n            try {\n                window.document.querySelector(selector);\n            } catch (err1) {\n                // Didn't *look* valid to qSA, warn and try quoting what we think is the value\n                selector = selector.replace(rattrHashGlob, function (_, attr, op, value) {\n                    return \"[\" + attr + op + \"\\\"\" + value + \"\\\"]\";\n                });\n\n                // If the regexp *may* have created an invalid selector, don't update it\n                // Note that there may be false alarms if selector uses jQuery extensions\n                try {\n                    window.document.querySelector(selector);\n                    migrateWarn(\"Attribute selector with '#' must be quoted: \" + args[0]);\n                    args[0] = selector;\n                } catch (err2) {\n                    migrateWarn(\"Attribute selector with '#' was not fixed: \" + args[0]);\n                }\n            }\n        }\n\n        return oldFind.apply(this, args);\n    };\n\n    // Copy properties attached to original jQuery.find method (e.g. .attr, .isXML)\n    var findProp;\n    for (findProp in oldFind) {\n        if (Object.prototype.hasOwnProperty.call(oldFind, findProp)) {\n            jQuery.find[findProp] = oldFind[findProp];\n        }\n    }\n\n    // The number of elements contained in the matched element set\n    jQuery.fn.size = function () {\n        migrateWarn(\"jQuery.fn.size() is deprecated and removed; use the .length property\");\n        return this.length;\n    };\n\n    jQuery.parseJSON = function () {\n        migrateWarn(\"jQuery.parseJSON is deprecated; use JSON.parse\");\n        return JSON.parse.apply(null, arguments);\n    };\n\n    jQuery.isNumeric = function (val) {\n        // The jQuery 2.2.3 implementation of isNumeric\n        function isNumeric2(obj) {\n            var realStringObj = obj && obj.toString();\n            return !jQuery.isArray(obj) && (realStringObj - parseFloat(realStringObj) + 1) >= 0;\n        }\n\n        var newValue = oldIsNumeric(val),\n            oldValue = isNumeric2(val);\n\n        if (newValue !== oldValue) {\n            migrateWarn(\"jQuery.isNumeric() should not be called on constructed objects\");\n        }\n\n        return oldValue;\n    };\n\n    migrateWarnFunc(jQuery, \"unique\", jQuery.uniqueSort,\n        \"jQuery.unique is deprecated; use jQuery.uniqueSort\");\n\n    // Now jQuery.expr.pseudos is the standard incantation\n    migrateWarnProp(jQuery.expr, \"filters\", jQuery.expr.pseudos,\n        \"jQuery.expr.filters is deprecated; use jQuery.expr.pseudos\");\n    migrateWarnProp(jQuery.expr, \":\", jQuery.expr.pseudos,\n        \"jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos\");\n\n\n    var oldAjax = jQuery.ajax;\n\n    jQuery.ajax = function () {\n        var jQXHR = oldAjax.apply(this, arguments);\n\n        // Be sure we got a jQXHR (e.g., not sync)\n        if (jQXHR.promise) {\n            migrateWarnFunc(jQXHR, \"success\", jQXHR.done,\n                \"jQXHR.success is deprecated and removed\");\n            migrateWarnFunc(jQXHR, \"error\", jQXHR.fail,\n                \"jQXHR.error is deprecated and removed\");\n            migrateWarnFunc(jQXHR, \"complete\", jQXHR.always,\n                \"jQXHR.complete is deprecated and removed\");\n        }\n\n        return jQXHR;\n    };\n\n\n    var oldRemoveAttr = jQuery.fn.removeAttr,\n        oldToggleClass = jQuery.fn.toggleClass,\n        rmatchNonSpace = /\\S+/g;\n\n    jQuery.fn.removeAttr = function (name) {\n        var self = this;\n\n        jQuery.each(name.match(rmatchNonSpace), function (i, attr) {\n            if (jQuery.expr.match.bool.test(attr)) {\n                migrateWarn(\"jQuery.fn.removeAttr no longer sets boolean properties: \" + attr);\n                self.prop(attr, false);\n            }\n        });\n\n        return oldRemoveAttr.apply(this, arguments);\n    };\n\n    jQuery.fn.toggleClass = function (state) {\n        // Only deprecating no-args or single boolean arg\n        if (state !== undefined && typeof state !== \"boolean\") {\n            return oldToggleClass.apply(this, arguments);\n        }\n\n        migrateWarn(\"jQuery.fn.toggleClass( boolean ) is deprecated\");\n\n        // Toggle entire class name of each element\n        return this.each(function () {\n            var className = this.getAttribute && this.getAttribute(\"class\") || \"\";\n\n            if (className) {\n                jQuery.data(this, \"__className__\", className);\n            }\n\n            // If the element has a class name or if we're passed `false`,\n            // then remove the whole classname (if there was one, the above saved it).\n            // Otherwise bring back whatever was previously saved (if anything),\n            // falling back to the empty string if nothing was stored.\n            if (this.setAttribute) {\n                this.setAttribute(\"class\",\n                    className || state === false ?\n                    \"\" :\n                    jQuery.data(this, \"__className__\") || \"\"\n                );\n            }\n        });\n    };\n\n\n    var internalSwapCall = false;\n\n    // If this version of jQuery has .swap(), don't false-alarm on internal uses\n    if (jQuery.swap) {\n        jQuery.each([\"height\", \"width\", \"reliableMarginRight\"], function (_, name) {\n            var oldHook = jQuery.cssHooks[name] && jQuery.cssHooks[name].get;\n\n            if (oldHook) {\n                jQuery.cssHooks[name].get = function () {\n                    var ret;\n\n                    internalSwapCall = true;\n                    ret = oldHook.apply(this, arguments);\n                    internalSwapCall = false;\n                    return ret;\n                };\n            }\n        });\n    }\n\n    jQuery.swap = function (elem, options, callback, args) {\n        var ret, name,\n            old = {};\n\n        if (!internalSwapCall) {\n            migrateWarn(\"jQuery.swap() is undocumented and deprecated\");\n        }\n\n        // Remember the old values, and insert the new ones\n        for (name in options) {\n            old[name] = elem.style[name];\n            elem.style[name] = options[name];\n        }\n\n        ret = callback.apply(elem, args || []);\n\n        // Revert the old values\n        for (name in options) {\n            elem.style[name] = old[name];\n        }\n\n        return ret;\n    };\n\n    var oldData = jQuery.data;\n\n    jQuery.data = function (elem, name, value) {\n        var curData;\n\n        // Name can be an object, and each entry in the object is meant to be set as data\n        if (name && typeof name === \"object\" && arguments.length === 2) {\n            curData = jQuery.hasData(elem) && oldData.call(this, elem);\n            var sameKeys = {};\n            for (var key in name) {\n                if (key !== jQuery.camelCase(key)) {\n                    migrateWarn(\"jQuery.data() always sets/gets camelCased names: \" + key);\n                    curData[key] = name[key];\n                } else {\n                    sameKeys[key] = name[key];\n                }\n            }\n\n            oldData.call(this, elem, sameKeys);\n\n            return name;\n        }\n\n        // If the name is transformed, look for the un-transformed name in the data object\n        if (name && typeof name === \"string\" && name !== jQuery.camelCase(name)) {\n            curData = jQuery.hasData(elem) && oldData.call(this, elem);\n            if (curData && name in curData) {\n                migrateWarn(\"jQuery.data() always sets/gets camelCased names: \" + name);\n                if (arguments.length > 2) {\n                    curData[name] = value;\n                }\n                return curData[name];\n            }\n        }\n\n        return oldData.apply(this, arguments);\n    };\n\n    var oldTweenRun = jQuery.Tween.prototype.run;\n\n    jQuery.Tween.prototype.run = function () {\n        if (jQuery.easing[this.easing].length > 1) {\n            migrateWarn(\n                \"easing function \" +\n                \"\\\"jQuery.easing.\" + this.easing.toString() +\n                \"\\\" should use only first argument\"\n            );\n\n            var oldEasing = jQuery.easing[this.easing];\n            jQuery.easing[this.easing] = function (percent) {\n                return oldEasing.call(jQuery.easing, percent, percent, 0, 1, 1);\n            }.bind(this);\n        }\n\n        oldTweenRun.apply(this, arguments);\n    };\n\n    jQuery.fx.interval = jQuery.fx.interval || 13;\n\n    // Support: IE9, Android <=4.4\n    // Avoid false positives on browsers that lack rAF\n    if (window.requestAnimationFrame) {\n        migrateWarnProp(jQuery.fx, \"interval\", jQuery.fx.interval,\n            \"jQuery.fx.interval is deprecated\");\n    }\n\n    var oldLoad = jQuery.fn.load,\n        oldEventAdd = jQuery.event.add,\n        originalFix = jQuery.event.fix;\n\n    jQuery.event.props = [];\n    jQuery.event.fixHooks = {};\n\n    migrateWarnProp(jQuery.event.props, \"concat\", jQuery.event.props.concat,\n        \"jQuery.event.props.concat() is deprecated and removed\");\n\n    jQuery.event.fix = function (originalEvent) {\n        var event,\n            type = originalEvent.type,\n            fixHook = this.fixHooks[type],\n            props = jQuery.event.props;\n\n        if (props.length) {\n            migrateWarn(\"jQuery.event.props are deprecated and removed: \" + props.join());\n            while (props.length) {\n                jQuery.event.addProp(props.pop());\n            }\n        }\n\n        if (fixHook && !fixHook._migrated_) {\n            fixHook._migrated_ = true;\n            migrateWarn(\"jQuery.event.fixHooks are deprecated and removed: \" + type);\n            if ((props = fixHook.props) && props.length) {\n                while (props.length) {\n                    jQuery.event.addProp(props.pop());\n                }\n            }\n        }\n\n        event = originalFix.call(this, originalEvent);\n\n        return fixHook && fixHook.filter ? fixHook.filter(event, originalEvent) : event;\n    };\n\n    jQuery.event.add = function (elem, types) {\n        // This misses the multiple-types case but that seems awfully rare\n        if (elem === window && types === \"load\" && window.document.readyState === \"complete\") {\n            migrateWarn(\"jQuery(window).on('load'...) called after load event occurred\");\n        }\n        return oldEventAdd.apply(this, arguments);\n    };\n\n    jQuery.each([\"load\", \"unload\", \"error\"], function (_, name) {\n\n        jQuery.fn[name] = function () {\n            var args = Array.prototype.slice.call(arguments, 0);\n\n            // If this is an ajax load() the first arg should be the string URL;\n            // technically this could also be the \"Anything\" arg of the event .load()\n            // which just goes to show why this dumb signature has been deprecated!\n            // jQuery custom builds that exclude the Ajax module justifiably die here.\n            if (name === \"load\" && typeof args[0] === \"string\") {\n                return oldLoad.apply(this, args);\n            }\n\n            migrateWarn(\"jQuery.fn.\" + name + \"() is deprecated\");\n\n            args.splice(0, 0, name);\n            if (arguments.length) {\n                return this.on.apply(this, args);\n            }\n\n            // Use .triggerHandler here because:\n            // - load and unload events don't need to bubble, only applied to window or image\n            // - error event should not bubble to window, although it does pre-1.7\n            // See http://bugs.jquery.com/ticket/11820\n            this.triggerHandler.apply(this, args);\n            return this;\n        };\n\n    });\n\n    // Trigger \"ready\" event only once, on document ready\n    jQuery(function () {\n        jQuery(window.document).triggerHandler(\"ready\");\n    });\n\n    jQuery.event.special.ready = {\n        setup: function () {\n            if (this === window.document) {\n                migrateWarn(\"'ready' event is deprecated\");\n            }\n        }\n    };\n\n    jQuery.fn.extend({\n        bind: function (types, data, fn) {\n            migrateWarn(\"jQuery.fn.bind() is deprecated\");\n            return this.on(types, null, data, fn);\n        },\n        unbind: function (types, fn) {\n            migrateWarn(\"jQuery.fn.unbind() is deprecated\");\n            return this.off(types, null, fn);\n        },\n        delegate: function (selector, types, data, fn) {\n            migrateWarn(\"jQuery.fn.delegate() is deprecated\");\n            return this.on(types, selector, data, fn);\n        },\n        undelegate: function (selector, types, fn) {\n            migrateWarn(\"jQuery.fn.undelegate() is deprecated\");\n            return arguments.length === 1 ?\n                this.off(selector, \"**\") :\n                this.off(types, selector || \"**\", fn);\n        }\n    });\n\n\n    var oldOffset = jQuery.fn.offset;\n\n    jQuery.fn.offset = function () {\n        var docElem,\n            elem = this[0],\n            origin = { top: 0, left: 0 };\n\n        if (!elem || !elem.nodeType) {\n            migrateWarn(\"jQuery.fn.offset() requires a valid DOM element\");\n            return origin;\n        }\n\n        docElem = (elem.ownerDocument || window.document).documentElement;\n        if (!jQuery.contains(docElem, elem)) {\n            migrateWarn(\"jQuery.fn.offset() requires an element connected to a document\");\n            return origin;\n        }\n\n        return oldOffset.apply(this, arguments);\n    };\n\n\n    var oldParam = jQuery.param;\n\n    jQuery.param = function (data, traditional) {\n        var ajaxTraditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\n\n        if (traditional === undefined && ajaxTraditional) {\n            migrateWarn(\"jQuery.param() no longer uses jQuery.ajaxSettings.traditional\");\n            traditional = ajaxTraditional;\n        }\n\n        return oldParam.call(this, data, traditional);\n    };\n\n    var oldSelf = jQuery.fn.andSelf || jQuery.fn.addBack;\n\n    jQuery.fn.andSelf = function () {\n        migrateWarn(\"jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()\");\n        return oldSelf.apply(this, arguments);\n    };\n\n\n    var oldDeferred = jQuery.Deferred,\n        tuples = [\n            // Action, add listener, callbacks, .then handlers, final state\n            [\"resolve\", \"done\", jQuery.Callbacks(\"once memory\"),\n                jQuery.Callbacks(\"once memory\"), \"resolved\"],\n            [\"reject\", \"fail\", jQuery.Callbacks(\"once memory\"),\n                jQuery.Callbacks(\"once memory\"), \"rejected\"],\n            [\"notify\", \"progress\", jQuery.Callbacks(\"memory\"),\n                jQuery.Callbacks(\"memory\")]\n        ];\n\n    jQuery.Deferred = function (func) {\n        var deferred = oldDeferred(),\n            promise = deferred.promise();\n\n        deferred.pipe = promise.pipe = function ( /* fnDone, fnFail, fnProgress */) {\n            var fns = arguments;\n\n            migrateWarn(\"deferred.pipe() is deprecated\");\n\n            return jQuery.Deferred(function (newDefer) {\n                jQuery.each(tuples, function (i, tuple) {\n                    var fn = jQuery.isFunction(fns[i]) && fns[i];\n\n                    // Deferred.done(function() { bind to newDefer or newDefer.resolve })\n                    // deferred.fail(function() { bind to newDefer or newDefer.reject })\n                    // deferred.progress(function() { bind to newDefer or newDefer.notify })\n                    deferred[tuple[1]](function () {\n                        var returned = fn && fn.apply(this, arguments);\n                        if (returned && jQuery.isFunction(returned.promise)) {\n                            returned.promise()\n                                .done(newDefer.resolve)\n                                .fail(newDefer.reject)\n                                .progress(newDefer.notify);\n                        } else {\n                            newDefer[tuple[0] + \"With\"](\n                                this === promise ? newDefer.promise() : this,\n                                fn ? [returned] : arguments\n                            );\n                        }\n                    });\n                });\n                fns = null;\n            }).promise();\n\n        };\n\n        if (func) {\n            func.call(deferred, deferred);\n        }\n\n        return deferred;\n    };\n\n\n    return jQuery;\n});\n\n}.call(window));\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ })\n/******/ ]);\n});\n/*!\n * cdp.tools.js 2.0.0\n *\n * Date: 2017-07-04T08:58:57.985Z\n */\n(function (root, factory) { if (typeof define === \"function\" && define.amd) { define(\"cdp.tools\",[\"jquery\", \"underscore\"], function ($, _) { return factory(root.CDP || (root.CDP = {}), $, _); }); } else if (typeof exports === \"object\") { module.exports = factory(root.CDP || (root.CDP = {}), require(\"jquery\"), require(\"underscore\")); } else { factory(root.CDP || (root.CDP = {}), root.jQuery || root.$, root._); } }(((this || 0).self || global), function (CDP, $, _) { CDP.Tools = CDP.Tools || {};\n/**\n * @file  Utils.\n * @brief Tools 専用のユーティリティ\n */\nvar CDP;\n(function (CDP) {\n    var Tools;\n    (function (Tools) {\n        // cdp.tools は cdp.core に依存しないため、独自にglobal を提供する\n        Tools.global = CDP.global || Function(\"return this\")();\n    })(Tools = CDP.Tools || (CDP.Tools = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var Tools;\n    (function (Tools) {\n        var TAG = \"[CDP.Tools.Blob] \";\n        var Blob;\n        (function (Blob) {\n            /**\n             * Get BlobBuilder\n             *\n             * @return {any} BlobBuilder\n             */\n            function getBlobBuilder() {\n                return Tools.global.BlobBuilder || Tools.global.WebKitBlobBuilder || Tools.global.MozBlobBuilder || Tools.global.MSBlobBuilder;\n            }\n            /**\n             * ArrayBuffer to Blob\n             *\n             * @param buf {ArrayBuffer} [in] ArrayBuffer data\n             * @param mimeType {string} [in] MimeType of data\n             * @return {Blob} Blob data\n             */\n            function arrayBufferToBlob(buf, mimeType) {\n                var blob = null;\n                var blobBuilderObject = getBlobBuilder();\n                if (blobBuilderObject != null) {\n                    var blobBuilder = new blobBuilderObject();\n                    blobBuilder.append(buf);\n                    blob = blobBuilder.getBlob(mimeType);\n                }\n                else {\n                    // Android 4.4 KitKat Chromium WebView\n                    blob = new Tools.global.Blob([buf], { type: mimeType });\n                }\n                return blob;\n            }\n            Blob.arrayBufferToBlob = arrayBufferToBlob;\n            /**\n             * Base64 string to Blob\n             *\n             * @param base64 {string} [in] Base64 string data\n             * @param mimeType {string} [in] MimeType of data\n             * @return {Blob} Blob data\n             */\n            function base64ToBlob(base64, mimeType) {\n                var blob = null;\n                var blobBuilderObject = getBlobBuilder();\n                if (blobBuilderObject != null) {\n                    var blobBuilder = new blobBuilderObject();\n                    blobBuilder.append(base64ToArrayBuffer(base64));\n                    blob = blobBuilder.getBlob(mimeType);\n                }\n                else {\n                    // Android 4.4 KitKat Chromium WebView\n                    blob = new Tools.global.Blob([base64ToArrayBuffer(base64)], { type: mimeType });\n                }\n                return blob;\n            }\n            Blob.base64ToBlob = base64ToBlob;\n            /**\n             * Base64 string to ArrayBuffer\n             *\n             * @param base64 {string} [in] Base64 string data\n             * @return {ArrayBuffer} ArrayBuffer data\n             */\n            function base64ToArrayBuffer(base64) {\n                var bytes = window.atob(base64);\n                var arrayBuffer = new ArrayBuffer(bytes.length);\n                var data = new Uint8Array(arrayBuffer);\n                for (var i = 0, len = bytes.length; i < len; ++i) {\n                    data[i] = bytes.charCodeAt(i);\n                }\n                return arrayBuffer;\n            }\n            Blob.base64ToArrayBuffer = base64ToArrayBuffer;\n            /**\n             * Base64 string to Uint8Array\n             *\n             * @param base64 {string} [in] Base64 string data\n             * @return {Uint8Array} Uint8Array data\n             */\n            function base64ToUint8Array(encoded) {\n                var bytes = window.atob(encoded);\n                var data = new Uint8Array(bytes.length);\n                for (var i = 0, len = bytes.length; i < len; ++i) {\n                    data[i] = bytes.charCodeAt(i);\n                }\n                return data;\n            }\n            Blob.base64ToUint8Array = base64ToUint8Array;\n            /**\n             * ArrayBuffer to base64 string\n             *\n             * @param arrayBuffer {ArrayBuffer} [in] ArrayBuffer data\n             * @return {string} base64 data\n             */\n            function arrayBufferToBase64(arrayBuffer) {\n                var bytes = new Uint8Array(arrayBuffer);\n                return uint8ArrayToBase64(bytes);\n            }\n            Blob.arrayBufferToBase64 = arrayBufferToBase64;\n            /**\n             * Uint8Array to base64 string\n             *\n             * @param bytes {Uint8Array} [in] Uint8Array data\n             * @return {string} base64 data\n             */\n            function uint8ArrayToBase64(bytes) {\n                var data = \"\";\n                for (var i = 0, len = bytes.byteLength; i < len; ++i) {\n                    data += String.fromCharCode(bytes[i]);\n                }\n                return window.btoa(data);\n            }\n            Blob.uint8ArrayToBase64 = uint8ArrayToBase64;\n            /**\n             * URL Object\n             *\n             * @return {any} URL Object\n             */\n            Blob.URL = (function () {\n                return Tools.global.URL || Tools.global.webkitURL;\n            })();\n        })(Blob = Tools.Blob || (Tools.Blob = {}));\n    })(Tools = CDP.Tools || (CDP.Tools = {}));\n})(CDP || (CDP = {}));\n/**\n * @file  BinaryTransport.ts\n * @brief jQuery ajax transport for making binary data type requests.\n *\n *        original: https://github.com/henrya/js-jquery/blob/master/BinaryTransport/jquery.binarytransport.js\n *        author:   Henry Algus <henryalgus@gmail.com>\n */\nvar CDP;\n(function (CDP) {\n    var Tools;\n    (function (Tools) {\n        // Support file protocol. (as same as official way)\n        var xhrSuccessStatus = {\n            0: 200,\n            1223: 204\n        };\n        $.ajaxTransport(\"+binary\", function (options, originalOptions, jqXHR) {\n            if (Tools.global.FormData &&\n                ((options.dataType && (options.dataType === \"binary\")) ||\n                    (options.data && ((Tools.global.ArrayBuffer && options.data instanceof ArrayBuffer) ||\n                        (Tools.global.Blob && options.data instanceof Tools.global.Blob))))) {\n                var abortCallback_1;\n                return {\n                    send: function (headers, callback) {\n                        // setup all variables\n                        var xhr = new XMLHttpRequest();\n                        var url = options.url;\n                        var type = options.type;\n                        var async = options.async || true;\n                        // blob or arraybuffer. Default is blob\n                        var dataType = options.responseType || \"blob\";\n                        var data = options.data || null;\n                        var username = options.username || null;\n                        var password = options.password || null;\n                        var _callback = callback || (function () { });\n                        // succeeded handler\n                        xhr.addEventListener(\"load\", function () {\n                            var _data = {};\n                            _data[options.dataType] = xhr.response;\n                            _callback(xhrSuccessStatus[xhr.status] || xhr.status, xhr.statusText, _data, xhr.getAllResponseHeaders());\n                        });\n                        // error handler\n                        xhr.addEventListener(\"error\", function () {\n                            var _data = {};\n                            _data[options.dataType] = xhr.response;\n                            // make callback and send data\n                            _callback(xhr.status, xhr.statusText, _data, xhr.getAllResponseHeaders());\n                        });\n                        // abort handler\n                        xhr.addEventListener(\"abort\", function () {\n                            var _data = {};\n                            _data[options.dataType] = xhr.response;\n                            // make callback and send data\n                            _callback(xhr.status, xhr.statusText, _data, xhr.getAllResponseHeaders());\n                        });\n                        // abort callback\n                        abortCallback_1 = function () {\n                            xhr.abort();\n                        };\n                        xhr.open(type, url, async, username, password);\n                        // setup custom headers\n                        for (var i in headers) {\n                            if (headers.hasOwnProperty(i)) {\n                                xhr.setRequestHeader(i, headers[i]);\n                            }\n                        }\n                        xhr.responseType = dataType;\n                        xhr.send(data);\n                    },\n                    abort: function () {\n                        if (abortCallback_1) {\n                            abortCallback_1();\n                        }\n                    }\n                };\n            }\n        });\n    })(Tools = CDP.Tools || (CDP.Tools = {}));\n})(CDP || (CDP = {}));\n/* tslint:disable:max-line-length */\nvar CDP;\n(function (CDP) {\n    var Tools;\n    (function (Tools) {\n        var TAG = \"[CDP.Tools.DateTime] \";\n        /**\n         * @class DateTime\n         * @brief 時刻操作のユーティリティクラス\n         */\n        var DateTime = (function () {\n            function DateTime() {\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // public static method\n            /**\n             * 基点となる日付から、n日後、n日前を算出\n             *\n             * @param base    {Date}   [in] 基準日\n             * @param addDays {Number} [in] 加算日. マイナス指定でn日前も設定可能\n             * @return {Date} 日付オブジェクト\n             */\n            DateTime.computeDate = function (base, addDays) {\n                var dt = new Date(base.getTime());\n                var baseSec = dt.getTime();\n                var addSec = addDays * 86400000; //日数 * 1日のミリ秒数\n                var targetSec = baseSec + addSec;\n                dt.setTime(targetSec);\n                return dt;\n            };\n            /**\n             * Convert string to date object\n             *\n             * @param {String} date string ex) YYYY-MM-DDTHH:mm:SS.SSS\n             * @return {Object} date object\n             */\n            DateTime.convertISOStringToDate = function (dateString) {\n                var dateTime = dateString.split(\"T\"), dateArray = dateTime[0].split(\"-\");\n                var timeArray, secArray, dateObject;\n                if (dateTime[1]) {\n                    timeArray = dateTime[1].split(\":\");\n                    secArray = timeArray[2].split(\".\");\n                }\n                if (timeArray) {\n                    dateObject = new Date(dateArray[0], dateArray[1] - 1, dateArray[2], timeArray[0], timeArray[1], secArray[0], secArray[1]);\n                }\n                else {\n                    if (dateArray[2]) {\n                        dateObject = new Date(dateArray[0], dateArray[1] - 1, dateArray[2]);\n                    }\n                    else if (dateArray[1]) {\n                        dateObject = new Date(dateArray[0], dateArray[1] - 1);\n                    }\n                    else {\n                        dateObject = new Date(dateArray[0]);\n                    }\n                }\n                return dateObject;\n            };\n            /**\n             *  Convert a date object into a string in PMOAPI recorded_date format(the ISO 8601 Extended Format)\n             *\n             * @param date   {Date}   [in] date object\n             * @param target {String} [in] {year | month | date | hour | min | sec | msec }\n             * @return {String}\n             */\n            DateTime.convertDateToISOString = function (date, target) {\n                if (target === void 0) { target = \"msec\"; }\n                var isoDateString;\n                switch (target) {\n                    case \"year\":\n                    case \"month\":\n                    case \"date\":\n                    case \"hour\":\n                    case \"min\":\n                    case \"sec\":\n                    case \"msec\":\n                        break;\n                    default:\n                        console.warn(TAG + \"unknown target: \" + target);\n                        target = \"msec\";\n                }\n                isoDateString = date.getFullYear();\n                if (\"year\" === target) {\n                    return isoDateString;\n                }\n                isoDateString += (\"-\" + DateTime.numberToDoubleDigitsString(date.getMonth() + 1));\n                if (\"month\" === target) {\n                    return isoDateString;\n                }\n                isoDateString += (\"-\" + DateTime.numberToDoubleDigitsString(date.getDate()));\n                if (\"date\" === target) {\n                    return isoDateString;\n                }\n                isoDateString += (\"T\" + DateTime.numberToDoubleDigitsString(date.getHours()));\n                if (\"hour\" === target) {\n                    return isoDateString;\n                }\n                isoDateString += (\":\" + DateTime.numberToDoubleDigitsString(date.getMinutes()));\n                if (\"min\" === target) {\n                    return isoDateString;\n                }\n                isoDateString += (\":\" + DateTime.numberToDoubleDigitsString(date.getSeconds()));\n                if (\"sec\" === target) {\n                    return isoDateString;\n                }\n                isoDateString += (\".\" + String((date.getMilliseconds() / 1000).toFixed(3)).slice(2, 5));\n                return isoDateString;\n            };\n            /**\n             * Convert file system compatible string to date object\n             *\n             * @param {String} date string ex) yyyy_MM_ddTHH_mm_ss_SSS\n             * @return {Object} date object\n             */\n            DateTime.convertFileSystemStringToDate = function (dateString) {\n                var dateTime = dateString.split(\"T\"), dateArray = dateTime[0].split(\"_\");\n                var timeArray, dateObject;\n                if (dateTime[1]) {\n                    timeArray = dateTime[1].split(\"_\");\n                }\n                if (timeArray) {\n                    dateObject = new Date(dateArray[0], dateArray[1] - 1, dateArray[2], timeArray[0], timeArray[1], timeArray[2], timeArray[3]);\n                }\n                else {\n                    if (dateArray[2]) {\n                        dateObject = new Date(dateArray[0], dateArray[1] - 1, dateArray[2]);\n                    }\n                    else if (dateArray[1]) {\n                        dateObject = new Date(dateArray[0], dateArray[1] - 1);\n                    }\n                    else {\n                        dateObject = new Date(dateArray[0]);\n                    }\n                }\n                return dateObject;\n            };\n            /**\n             *  Convert a date object into a string in file system compatible format(yyyy_MM_ddTHH_mm_ss_SSS)\n             *\n             * @param date   {Date}   [in] date object\n             * @param target {String} [in] {year | month | date | hour | min | sec | msec }\n             * @return {String}\n             */\n            DateTime.convertDateToFileSystemString = function (date, target) {\n                if (target === void 0) { target = \"msec\"; }\n                var fileSystemString;\n                switch (target) {\n                    case \"year\":\n                    case \"month\":\n                    case \"date\":\n                    case \"hour\":\n                    case \"min\":\n                    case \"sec\":\n                    case \"msec\":\n                        break;\n                    default:\n                        console.warn(TAG + \"unknown target: \" + target);\n                        target = \"msec\";\n                }\n                fileSystemString = date.getFullYear();\n                if (\"year\" === target) {\n                    return fileSystemString;\n                }\n                fileSystemString += (\"_\" + DateTime.numberToDoubleDigitsString(date.getMonth() + 1));\n                if (\"month\" === target) {\n                    return fileSystemString;\n                }\n                fileSystemString += (\"_\" + DateTime.numberToDoubleDigitsString(date.getDate()));\n                if (\"date\" === target) {\n                    return fileSystemString;\n                }\n                fileSystemString += (\"T\" + DateTime.numberToDoubleDigitsString(date.getHours()));\n                if (\"hour\" === target) {\n                    return fileSystemString;\n                }\n                fileSystemString += (\"_\" + DateTime.numberToDoubleDigitsString(date.getMinutes()));\n                if (\"min\" === target) {\n                    return fileSystemString;\n                }\n                fileSystemString += (\"_\" + DateTime.numberToDoubleDigitsString(date.getSeconds()));\n                if (\"sec\" === target) {\n                    return fileSystemString;\n                }\n                fileSystemString += (\"_\" + String((date.getMilliseconds() / 1000).toFixed(3)).slice(2, 5));\n                return fileSystemString;\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // private static method\n            /**\n             * Convert num to string(double digits)\n             *\n             * @param  {Number} number (0 <number < 100)\n             * @return {String} double digits string\n             */\n            DateTime.numberToDoubleDigitsString = function (num) {\n                if (num < 0 || num > 100) {\n                    return null;\n                }\n                if (num < 10) {\n                    return \"0\" + num;\n                }\n                return \"\" + num;\n            };\n            return DateTime;\n        }());\n        Tools.DateTime = DateTime;\n    })(Tools = CDP.Tools || (CDP.Tools = {}));\n})(CDP || (CDP = {}));\n/// <reference types=\"jquery\" />\nvar CDP;\n(function (CDP) {\n    var Tools;\n    (function (Tools) {\n        var TAG = \"[CDP.Tools.Functions] \";\n        /**\n         * Math.abs よりも高速な abs\n         */\n        function abs(x) {\n            return x >= 0 ? x : -x;\n        }\n        Tools.abs = abs;\n        /**\n         * Math.max よりも高速な max\n         */\n        function max(lhs, rhs) {\n            return lhs >= rhs ? lhs : rhs;\n        }\n        Tools.max = max;\n        /**\n         * Math.min よりも高速な min\n         */\n        function min(lhs, rhs) {\n            return lhs <= rhs ? lhs : rhs;\n        }\n        Tools.min = min;\n        /**\n         * 数値を 0 詰めして文字列を生成\n         */\n        function toZeroPadding(no, limit) {\n            var signed = \"\";\n            no = Number(no);\n            if (isNaN(no) || isNaN(limit) || limit <= 0) {\n                return null;\n            }\n            if (no < 0) {\n                no = Tools.abs(no);\n                signed = \"-\";\n            }\n            return signed + (Array(limit).join(\"0\") + no).slice(-limit);\n        }\n        Tools.toZeroPadding = toZeroPadding;\n        /**\n         * 多重継承のための実行時継承関数\n         *\n         * Sub Class 候補オブジェクトに対して Super Class 候補オブジェクトを直前の Super Class として挿入する。\n         * prototype のみコピーする。\n         * インスタンスメンバをコピーしたい場合、Super Class が疑似コンストラクタを提供する必要がある。\n         * 詳細は cdp.tools.Functions.spec.ts を参照。\n         *\n         * @param subClass   {constructor} [in] オブジェクトの constructor を指定\n         * @param superClass {constructor} [in] オブジェクトの constructor を指定\n         */\n        function inherit(subClass, superClass) {\n            var _prototype = subClass.prototype;\n            function _inherit() {\n                this.constructor = subClass;\n            }\n            _inherit.prototype = superClass.prototype;\n            subClass.prototype = new _inherit();\n            $.extend(subClass.prototype, _prototype);\n        }\n        Tools.inherit = inherit;\n        /**\n         * mixin 関数\n         *\n         * TypeScript Official Site に載っている mixin 関数\n         * http://www.typescriptlang.org/Handbook#mixins\n         * 既に定義されているオブジェクトから、新規にオブジェクトを合成する。\n         *\n         * @param derived {constructor}    [in] 合成されるオブジェクトの constructor を指定\n         * @param bases   {constructor...} [in] 合成元オブジェクトの constructor を指定 (可変引数)\n         */\n        function mixin(derived) {\n            var bases = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                bases[_i - 1] = arguments[_i];\n            }\n            bases.forEach(function (base) {\n                Object.getOwnPropertyNames(base.prototype).forEach(function (name) {\n                    derived.prototype[name] = base.prototype[name];\n                });\n            });\n        }\n        Tools.mixin = mixin;\n        /**\n         * \\~english\n         * Helper function to correctly set up the prototype chain, for subclasses.\n         * The function behavior is same as extend() function of Backbone.js.\n         *\n         * @param protoProps  {Object} [in] set prototype properties as object.\n         * @param staticProps {Object} [in] set static properties as object.\n         * @return {Object} subclass constructor.\n         *\n         * \\~japanese\n         * クラス継承のためのヘルパー関数\n         * Backbone.js extend() 関数と同等\n         *\n         * @param protoProps  {Object} [in] prototype properties をオブジェクトで指定\n         * @param staticProps {Object} [in] static properties をオブジェクトで指定\n         * @return {Object} サブクラスのコンストラクタ\n         */\n        function extend(protoProps, staticProps) {\n            var parent = this;\n            var child;\n            if (protoProps && protoProps.hasOwnProperty(\"constructor\")) {\n                child = protoProps.constructor;\n            }\n            else {\n                child = function () {\n                    return parent.apply(this, arguments);\n                };\n            }\n            $.extend(child, parent, staticProps);\n            var Surrogate = function () {\n                this.constructor = child;\n            };\n            Surrogate.prototype = parent.prototype;\n            child.prototype = new Surrogate;\n            if (protoProps) {\n                $.extend(child.prototype, protoProps);\n            }\n            child.__super__ = parent.prototype;\n            return child;\n        }\n        Tools.extend = extend;\n        /**\n         * DPI 取得\n         */\n        function getDevicePixcelRatio() {\n            var mediaQuery;\n            var is_firefox = navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\n            if (null != window.devicePixelRatio && !is_firefox) {\n                return window.devicePixelRatio;\n            }\n            else if (window.matchMedia) {\n                mediaQuery =\n                    \"(-webkit-min-device-pixel-ratio: 1.5),\\\n                    (min--moz-device-pixel-ratio: 1.5),\\\n                    (-o-min-device-pixel-ratio: 3/2),\\\n                    (min-resolution: 1.5dppx)\";\n                if (window.matchMedia(mediaQuery).matches) {\n                    return 1.5;\n                }\n                mediaQuery =\n                    \"(-webkit-min-device-pixel-ratio: 2),\\\n                    (min--moz-device-pixel-ratio: 2),\\\n                    (-o-min-device-pixel-ratio: 2/1),\\\n                    (min-resolution: 2dppx)\";\n                if (window.matchMedia(mediaQuery).matches) {\n                    return 2;\n                }\n                mediaQuery =\n                    \"(-webkit-min-device-pixel-ratio: 0.75),\\\n                    (min--moz-device-pixel-ratio: 0.75),\\\n                    (-o-min-device-pixel-ratio: 3/4),\\\n                    (min-resolution: 0.75dppx)\";\n                if (window.matchMedia(mediaQuery).matches) {\n                    return 0.7;\n                }\n            }\n            else {\n                return 1;\n            }\n        }\n        Tools.getDevicePixcelRatio = getDevicePixcelRatio;\n    })(Tools = CDP.Tools || (CDP.Tools = {}));\n})(CDP || (CDP = {}));\n/// <reference types=\"jquery\" />\n/// <reference types=\"underscore\" />\nvar CDP;\n(function (CDP) {\n    var Tools;\n    (function (Tools) {\n        var TAG = \"[CDP.Tools.Template] \";\n        //___________________________________________________________________________________________________________________//\n        /**\n         * @class Template\n         * @brief template script を管理するユーティリティクラス\n         */\n        var Template = (function () {\n            function Template() {\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // 公開メソッド\n            /**\n             * 指定した id, class 名, Tag 名をキーにテンプレートの JQuery Element を取得する。\n             *\n             * @param {String}  key     [in] id, class, tag を表す文字列\n             * @param {String}  [src]   [in] 外部 html を指定する場合は url を設定\n             * @param {Boolean} [cache] [in] src html をキャッシュする場合は true. src が指定されているときのみ有効\n             * @return template が格納されている JQuery Element\n             */\n            Template.getTemplateElement = function (key, src, cache) {\n                if (src === void 0) { src = null; }\n                if (cache === void 0) { cache = true; }\n                var mapElement = Template.getElementMap();\n                var $element = mapElement[key];\n                try {\n                    if (!$element) {\n                        if (src) {\n                            var html = Template.findHtmlFromSource(src);\n                            $element = $(html).find(key);\n                        }\n                        else {\n                            $element = $(key);\n                        }\n                        // 要素の検証\n                        if ($element <= 0) {\n                            throw (\"invalid [key, src] = [\" + key + \", \" + src + \"]\");\n                        }\n                        if (src && cache) {\n                            mapElement[key] = $element;\n                        }\n                    }\n                }\n                catch (exception) {\n                    console.error(TAG + exception);\n                    return null;\n                }\n                return $element;\n            };\n            /**\n             * Map オブジェクトの削除\n             * 明示的にキャッシュを開放する場合は本メソッドをコールする\n             */\n            Template.empty = function () {\n                Template._mapElement = null;\n                Template._mapSource = null;\n            };\n            Template.getJST = function (key, src, cache) {\n                var template = null;\n                var jst;\n                var $element;\n                if (key instanceof jQuery) {\n                    $element = key;\n                }\n                else {\n                    $element = this.getTemplateElement(key, src, cache);\n                }\n                if (null != Tools.global.Hogan) {\n                    template = Hogan.compile($element.text());\n                    jst = function (data) {\n                        return template.render(data);\n                    };\n                }\n                else {\n                    template = _.template($element.html());\n                    jst = function (data) {\n                        // 改行とタブは削除する\n                        return template(data).replace(/\\n|\\t/g, \"\");\n                    };\n                }\n                return jst;\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // 内部メソッド\n            //! Element Map オブジェクトの取得\n            Template.getElementMap = function () {\n                if (!Template._mapElement) {\n                    Template._mapElement = {};\n                }\n                return Template._mapElement;\n            };\n            //! URL Map オブジェクトの取得\n            Template.getSourceMap = function () {\n                if (!Template._mapSource) {\n                    Template._mapSource = {};\n                }\n                return Template._mapSource;\n            };\n            //! URL Map から HTML を検索. 失敗した場合は undefined が返る\n            Template.findHtmlFromSource = function (src) {\n                var mapSource = Template.getSourceMap();\n                var html = mapSource[src];\n                if (!html) {\n                    $.ajax({\n                        url: src,\n                        method: \"GET\",\n                        async: false,\n                        dataType: \"html\",\n                        success: function (data) {\n                            html = data;\n                        },\n                        error: function (data, status) {\n                            throw (\"ajax request failed. status: \" + status);\n                        }\n                    });\n                    // キャッシュに格納\n                    mapSource[src] = html;\n                }\n                return html;\n            };\n            return Template;\n        }());\n        Tools.Template = Template;\n    })(Tools = CDP.Tools || (CDP.Tools = {}));\n})(CDP || (CDP = {}));\n\nreturn CDP.Tools; }));\n/*!\n * cdp.ui.listview.js 2.0.0\n *\n * Date: 2017-07-04T08:59:24.664Z\n */\n(function (root, factory) { if (typeof define === \"function\" && define.amd) { define(\"cdp.ui.listview\",[\"jquery\", \"underscore\", \"backbone\"], function ($, _, Backbone) { return factory(root.CDP || (root.CDP = {}), $, _, Backbone); }); } else if (typeof exports === \"object\") { module.exports = factory(root.CDP || (root.CDP = {}), require(\"jquery\"), require(\"underscore\"), require(\"backbone\")); } else { factory(root.CDP || (root.CDP = {}), root.$, root._, root.Backbone); } }(((this || 0).self || global), function (CDP, $, _, Backbone) { CDP.UI = CDP.UI || {};\n/// <reference types=\"jquery\" />\n/// <reference types=\"backbone\" />\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        /**\n         * @class ListViewGlobalConfig\n         * @brief cdp.ui.listview の global confing\n         */\n        var ListViewGlobalConfig;\n        (function (ListViewGlobalConfig) {\n            ListViewGlobalConfig.WRAPPER_CLASS = \"listview-wrapper\";\n            ListViewGlobalConfig.WRAPPER_SELECTOR = \".\" + ListViewGlobalConfig.WRAPPER_CLASS;\n            ListViewGlobalConfig.SCROLL_MAP_CLASS = \"listview-scroll-map\";\n            ListViewGlobalConfig.SCROLL_MAP_SELECTOR = \".\" + ListViewGlobalConfig.SCROLL_MAP_CLASS;\n            ListViewGlobalConfig.INACTIVE_CLASS = \"inactive\";\n            ListViewGlobalConfig.INACTIVE_CLASS_SELECTOR = \".\" + ListViewGlobalConfig.INACTIVE_CLASS;\n            ListViewGlobalConfig.RECYCLE_CLASS = \"listview-recycle\";\n            ListViewGlobalConfig.RECYCLE_CLASS_SELECTOR = \".\" + ListViewGlobalConfig.RECYCLE_CLASS;\n            ListViewGlobalConfig.LISTITEM_BASE_CLASS = \"listview-item-base\";\n            ListViewGlobalConfig.LISTITEM_BASE_CLASS_SELECTOR = \".\" + ListViewGlobalConfig.LISTITEM_BASE_CLASS;\n            ListViewGlobalConfig.DATA_PAGE_INDEX = \"data-page-index\";\n            ListViewGlobalConfig.DATA_CONTAINER_INDEX = \"data-container-index\";\n        })(ListViewGlobalConfig = UI.ListViewGlobalConfig || (UI.ListViewGlobalConfig = {}));\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        // cdp.ui.listview は cdp.core に依存しないため、独自にglobal を提供する\n        /*jshint evil:true */\n        UI.global = CDP.global || Function(\"return this\")();\n        /*jshint evil:false */\n        /**\n         * Backbone.View の新規合成\n         *\n         * @param base    {Backbone.View}                 [in] prototype chain 最下位の View クラス\n         * @param derives {Backbone.View|Backbone.View[]} [in] 派生されるの View クラス\n         * @return {Backbone.View|Backbone.View[]} 新規に生成された View のコンストラクタ\n         */\n        function composeViews(base, derives) {\n            var _composed = base;\n            var _derives = (derives instanceof Array ? derives : [derives]);\n            _derives.forEach(function (derive) {\n                var seed = {};\n                _.extendOwn(seed, derive.prototype);\n                delete seed.constructor;\n                _composed = _composed.extend(seed);\n            });\n            return _composed;\n        }\n        UI.composeViews = composeViews;\n        /**\n         * Backbone.View の合成\n         * prototype chain を作る合成\n         *\n         * @param derived {Backbone.View}                 [in] prototype chain 最上位の View クラス\n         * @param bases   {Backbone.View|Backbone.View[]} [in] 合成元のView クラス\n         */\n        function deriveViews(derived, bases) {\n            var _composed;\n            var _bases = (bases instanceof Array ? bases : [bases]);\n            if (2 <= _bases.length) {\n                _composed = composeViews(_bases[0], _bases.slice(1));\n            }\n            else {\n                _composed = _bases[0];\n            }\n            derived = composeViews(_composed, derived);\n        }\n        UI.deriveViews = deriveViews;\n        /**\n         * Backbone.View の合成\n         * prototype chain を作らない合成\n         *\n         * @param derived {Backbone.View}                 [in] 元となる View クラス\n         * @param bases   {Backbone.View|Backbone.View[]} [in] 合成元のView クラス\n         */\n        function mixinViews(derived, bases) {\n            var _bases = (bases instanceof Array ? bases : [bases]);\n            _bases.forEach(function (base) {\n                Object.getOwnPropertyNames(base.prototype).forEach(function (name) {\n                    derived.prototype[name] = base.prototype[name];\n                });\n            });\n        }\n        UI.mixinViews = mixinViews;\n        //___________________________________________________________________________________________________________________//\n        /**\n         * @class _ListViewUtils\n         * @brief 内部で使用する便利関数\n         *        Tools からの最低限の流用\n         */\n        var _ListViewUtils;\n        (function (_ListViewUtils) {\n            /**\n             * css の vender 拡張 prefix を返す\n             *\n             * @return {Array} prefix\n             */\n            _ListViewUtils.cssPrefixes = [\"-webkit-\", \"-moz-\", \"-ms-\", \"-o-\", \"\"];\n            /**\n             * css の matrix の値を取得.\n             *\n             * @param element {jQuery} [in] 対象の jQuery オブジェクト\n             * @param type    {String} [in] matrix type string [translateX | translateY | scaleX | scaleY]\n             * @return {Number} value\n             */\n            _ListViewUtils.getCssMatrixValue = function (element, type) {\n                var transX = 0;\n                var transY = 0;\n                var scaleX = 0;\n                var scaleY = 0;\n                for (var i = 0; i < _ListViewUtils.cssPrefixes.length; i++) {\n                    var matrix = $(element).css(_ListViewUtils.cssPrefixes[i] + \"transform\");\n                    if (matrix) {\n                        var is3dMatrix = matrix.indexOf(\"3d\") !== -1 ? true : false;\n                        matrix = matrix.replace(\"matrix3d\", \"\").replace(\"matrix\", \"\").replace(/[^\\d.,-]/g, \"\");\n                        var arr = matrix.split(\",\");\n                        transX = Number(arr[is3dMatrix ? 12 : 4]);\n                        transY = Number(arr[is3dMatrix ? 13 : 5]);\n                        scaleX = Number(arr[0]);\n                        scaleY = Number(arr[is3dMatrix ? 5 : 3]);\n                        break;\n                    }\n                }\n                switch (type) {\n                    case \"translateX\":\n                        return isNaN(transX) ? 0 : transX;\n                    case \"translateY\":\n                        return isNaN(transY) ? 0 : transY;\n                    case \"scaleX\":\n                        return isNaN(scaleX) ? 1 : scaleX;\n                    case \"scaleY\":\n                        return isNaN(scaleY) ? 1 : scaleY;\n                    default:\n                        return 0;\n                }\n            };\n            /**\n             * \"transitionend\" のイベント名配列を返す\n             *\n             * @return {Array} transitionend イベント名\n             */\n            _ListViewUtils.transitionEnd = \"transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd\";\n            /**\n             * transition 設定\n             *\n             * @private\n             * @param {Object} element\n             */\n            _ListViewUtils.setTransformsTransitions = function (element, prop, msec, timingFunction) {\n                var $element = $(element);\n                var transitions = {};\n                var second = (msec / 1000) + \"s\";\n                var animation = \" \" + second + \" \" + timingFunction;\n                var transform = \", transform\" + animation;\n                for (var i = 0; i < _ListViewUtils.cssPrefixes.length; i++) {\n                    transitions[_ListViewUtils.cssPrefixes[i] + \"transition\"] = prop + animation + transform;\n                }\n                $element.css(transitions);\n            };\n            /**\n             * transition 設定の削除\n             *\n             * @private\n             * @param {Object} element\n             */\n            _ListViewUtils.clearTransitions = function (element) {\n                var $element = $(element);\n                $element.off(_ListViewUtils.transitionEnd);\n                var transitions = {};\n                for (var i = 0; i < _ListViewUtils.cssPrefixes.length; i++) {\n                    transitions[_ListViewUtils.cssPrefixes[i] + \"transition\"] = \"\";\n                }\n                $element.css(transitions);\n            };\n            /**\n             * Math.abs よりも高速な abs\n             */\n            _ListViewUtils.abs = function (x) {\n                return x >= 0 ? x : -x;\n            };\n            /**\n             * Math.max よりも高速な max\n             */\n            _ListViewUtils.max = function (lhs, rhs) {\n                return lhs >= rhs ? lhs : rhs;\n            };\n        })(_ListViewUtils = UI._ListViewUtils || (UI._ListViewUtils = {}));\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var TAG = \"[CDP.UI.StatusManager] \";\n        /**\n         * @class StatusManager\n         * @brief UI 用状態管理クラス\n         *        StatusManager のインスタンスごとに任意の状態管理ができる\n         *\n         */\n        var StatusManager = (function () {\n            function StatusManager() {\n                this._status = {}; //!< statusScope() に使用される状態管理オブジェクト\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IStatusManager\n            //! 状態変数の参照カウントのインクリメント\n            StatusManager.prototype.statusAddRef = function (status) {\n                if (!this._status[status]) {\n                    this._status[status] = 1;\n                }\n                else {\n                    this._status[status]++;\n                }\n                return this._status[status];\n            };\n            //! 状態変数の参照カウントのデクリメント\n            StatusManager.prototype.statusRelease = function (status) {\n                var retval;\n                if (!this._status[status]) {\n                    retval = 0;\n                }\n                else {\n                    this._status[status]--;\n                    retval = this._status[status];\n                    if (0 === retval) {\n                        delete this._status[status];\n                    }\n                }\n                return retval;\n            };\n            //! 処理スコープ毎に状態変数を設定\n            StatusManager.prototype.statusScope = function (status, callback) {\n                var _this = this;\n                this.statusAddRef(status);\n                var promise = callback();\n                if (!promise) {\n                    this.statusRelease(status);\n                }\n                else {\n                    promise.then(function () {\n                        _this.statusRelease(status);\n                    }, function () {\n                        _this.statusRelease(status);\n                    });\n                }\n            };\n            //! 指定した状態中であるか確認\n            StatusManager.prototype.isStatusIn = function (status) {\n                return !!this._status[status];\n            };\n            return StatusManager;\n        }());\n        UI.StatusManager = StatusManager;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var _Config = CDP.UI.ListViewGlobalConfig;\n        var _ToolCSS = CDP.UI._ListViewUtils;\n        var TAG = \"[CDP.UI.LineProfile] \";\n        /**\n         * @class LineProfile\n         * @brief 1 ラインに関するプロファイルクラス\n         *        framework が使用する\n         */\n        var LineProfile = (function () {\n            /**\n             * constructor\n             *\n             * @param _owner       {IListViewFramework} [in] 管理者である IListViewFramework インスタンス\n             * @param _height      {Number}             [in] 初期の高さ\n             * @param _initializer {Function}           [in] ListItemView 派生クラスのコンストラクタ\n             * @param _info        {Object}             [in] ListItemView コンストラクタに渡されるオプション\n             */\n            function LineProfile(_owner, _height, _initializer, _info) {\n                this._owner = _owner;\n                this._height = _height;\n                this._initializer = _initializer;\n                this._info = _info;\n                this._index = null; //!< global index\n                this._pageIndex = null; //!< 所属する page index\n                this._offset = null; //!< global offset\n                this._$base = null; //!< 土台となる DOM インスタンスを格納\n                this._instance = null; //!< ListItemView インスタンスを格納\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // public methods\n            //! 有効化\n            LineProfile.prototype.activate = function () {\n                if (null == this._instance) {\n                    var options = void 0;\n                    this._$base = this.prepareBaseElement();\n                    options = $.extend({}, {\n                        el: this._$base,\n                        owner: this._owner,\n                        lineProfile: this,\n                    }, this._info);\n                    this._instance = new this._initializer(options);\n                    if (\"none\" === this._$base.css(\"display\")) {\n                        this._$base.css(\"display\", \"block\");\n                    }\n                }\n                this.updatePageIndex(this._$base);\n                if (\"visible\" !== this._$base.css(\"visibility\")) {\n                    this._$base.css(\"visibility\", \"visible\");\n                }\n            };\n            //! 不可視化\n            LineProfile.prototype.hide = function () {\n                if (null == this._instance) {\n                    this.activate();\n                }\n                if (\"hidden\" !== this._$base.css(\"visibility\")) {\n                    this._$base.css(\"visibility\", \"hidden\");\n                }\n            };\n            //! 無効化\n            LineProfile.prototype.inactivate = function () {\n                if (null != this._instance) {\n                    // xperia AX Jelly Bean (4.1.2)にて、 hidden element の削除でメモリーリークするため可視化する。\n                    if (\"visible\" !== this._$base.css(\"visibility\")) {\n                        this._$base.css(\"visibility\", \"visible\");\n                    }\n                    this._instance.remove();\n                    this._instance = null;\n                    this._$base.addClass(_Config.RECYCLE_CLASS);\n                    this._$base.css(\"display\", \"none\");\n                    this._$base = null;\n                }\n            };\n            //! 更新\n            LineProfile.prototype.refresh = function () {\n                if (null != this._instance) {\n                    this._instance.render();\n                }\n            };\n            //! 有効無効判定\n            LineProfile.prototype.isActive = function () {\n                return null != this._instance;\n            };\n            //! 高さ情報の更新. ListItemView からコールされる。\n            LineProfile.prototype.updateHeight = function (newHeight, options) {\n                var delta = newHeight - this._height;\n                this._height = newHeight;\n                this._owner.updateScrollMapHeight(delta);\n                if (null != options && options.reflectAll) {\n                    this._owner.updateProfiles(this._index);\n                }\n            };\n            //! z-index のリセット. ScrollManager.removeItem() からコールされる。\n            LineProfile.prototype.resetDepth = function () {\n                if (null != this._instance) {\n                    this._$base.css(\"z-index\", this._owner.getListViewOptions().baseDepth);\n                }\n            };\n            Object.defineProperty(LineProfile.prototype, \"height\", {\n                ///////////////////////////////////////////////////////////////////////\n                // getter/setter methods\n                //! getter: ラインの高さ\n                get: function () {\n                    return this._height;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(LineProfile.prototype, \"index\", {\n                //! getter: global index\n                get: function () {\n                    return this._index;\n                },\n                //! setter: global index\n                set: function (index) {\n                    this._index = index;\n                    if (null != this._$base) {\n                        this.updateIndex(this._$base);\n                    }\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(LineProfile.prototype, \"pageIndex\", {\n                //! getter: 所属ページ index\n                get: function () {\n                    return this._pageIndex;\n                },\n                //! setter: 所属ページ index\n                set: function (index) {\n                    this._pageIndex = index;\n                    if (null != this._$base) {\n                        this.updatePageIndex(this._$base);\n                    }\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(LineProfile.prototype, \"offset\", {\n                //! getter: line offset\n                get: function () {\n                    return this._offset;\n                },\n                //! setter: line offset\n                set: function (offset) {\n                    this._offset = offset;\n                    if (null != this._$base) {\n                        this.updateOffset(this._$base);\n                    }\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(LineProfile.prototype, \"info\", {\n                //! getter: info\n                get: function () {\n                    return this._info;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            ///////////////////////////////////////////////////////////////////////\n            // private methods\n            //! Base jQuery オブジェクトの生成\n            LineProfile.prototype.prepareBaseElement = function () {\n                var $base;\n                var $map = this._owner.getScrollMapElement();\n                var $recycle = this._owner.findRecycleElements().first();\n                var itemTagName = this._owner.getListViewOptions().itemTagName;\n                if (null != this._$base) {\n                    console.warn(TAG + \"this._$base is not null.\");\n                    return this._$base;\n                }\n                if (0 < $recycle.length) {\n                    $base = $recycle;\n                    $base.removeAttr(\"z-index\");\n                    $base.removeClass(_Config.RECYCLE_CLASS);\n                }\n                else {\n                    $base = $(\"<\" + itemTagName + \" class='\" + _Config.LISTITEM_BASE_CLASS + \"'></\" + itemTagName + \">\");\n                    $base.css(\"display\", \"none\");\n                    $map.append($base);\n                }\n                // 高さの更新\n                if ($base.height() !== this._height) {\n                    $base.height(this._height);\n                }\n                // index の設定\n                this.updateIndex($base);\n                // offset の更新\n                this.updateOffset($base);\n                return $base;\n            };\n            //! global index の更新\n            LineProfile.prototype.updateIndex = function ($base) {\n                if ($base.attr(_Config.DATA_CONTAINER_INDEX) !== this._index.toString()) {\n                    $base.attr(_Config.DATA_CONTAINER_INDEX, this._index.toString());\n                }\n            };\n            //! page index の更新\n            LineProfile.prototype.updatePageIndex = function ($base) {\n                if ($base.attr(_Config.DATA_PAGE_INDEX) !== this._pageIndex.toString()) {\n                    $base.attr(_Config.DATA_PAGE_INDEX, this._pageIndex.toString());\n                }\n            };\n            //! offset の更新\n            LineProfile.prototype.updateOffset = function ($base) {\n                var transform = {};\n                if (this._owner.getListViewOptions().enableTransformOffset) {\n                    if (_ToolCSS.getCssMatrixValue($base, \"translateY\") !== this._offset) {\n                        for (var i = 0; i < _ToolCSS.cssPrefixes.length; i++) {\n                            transform[_ToolCSS.cssPrefixes[i] + \"transform\"] = \"translate3d(0px,\" + this._offset + \"px,0px)\";\n                        }\n                        $base.css(transform);\n                    }\n                }\n                else {\n                    if (parseInt($base.css(\"top\"), 10) !== this._offset) {\n                        $base.css(\"top\", this._offset + \"px\");\n                    }\n                }\n            };\n            return LineProfile;\n        }());\n        UI.LineProfile = LineProfile;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var TAG = \"[CDP.UI.PageProfile] \";\n        /**\n         * @class PageProfile\n         * @brief 1 ページに関するプロファイルクラス\n         *        framework が使用する\n         *        本クラスでは直接 DOM を操作してはいけない\n         */\n        var PageProfile = (function () {\n            function PageProfile() {\n                this._index = 0; //!< page index\n                this._offset = 0; //!< page の Top からのオフセット\n                this._height = 0; //!< page の高さ\n                this._lines = []; //!< page 内で管理される LineProfile\n                this._status = \"inactive\"; //!< page の状態 [ inactive | hidden | active ]\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // public methods\n            //! 有効化\n            PageProfile.prototype.activate = function () {\n                if (\"active\" !== this._status) {\n                    this._lines.forEach(function (line) {\n                        line.activate();\n                    });\n                }\n                this._status = \"active\";\n            };\n            //! 無可視化\n            PageProfile.prototype.hide = function () {\n                if (\"hidden\" !== this._status) {\n                    this._lines.forEach(function (line) {\n                        line.hide();\n                    });\n                }\n                this._status = \"hidden\";\n            };\n            //! 無効化\n            PageProfile.prototype.inactivate = function () {\n                if (\"inactive\" !== this._status) {\n                    this._lines.forEach(function (line) {\n                        line.inactivate();\n                    });\n                }\n                this._status = \"inactive\";\n            };\n            //! LineProfile を設定\n            PageProfile.prototype.push = function (line) {\n                this._lines.push(line);\n                this._height += line.height;\n            };\n            //! 配下の LineProfile すべてが有効でない場合、Page ステータスを無効にする\n            PageProfile.prototype.normalize = function () {\n                var enableAll = _.every(this._lines, function (line) {\n                    return line.isActive();\n                });\n                if (!enableAll) {\n                    this._status = \"inactive\";\n                }\n            };\n            //! LineProfile を取得\n            PageProfile.prototype.getLineProfile = function (index) {\n                if (0 <= index && index < this._lines.length) {\n                    return this._lines[index];\n                }\n                else {\n                    return null;\n                }\n            };\n            //! 最初の LineProfile を取得\n            PageProfile.prototype.getLineProfileFirst = function () {\n                return this.getLineProfile(0);\n            };\n            //! 最後の LineProfile を取得\n            PageProfile.prototype.getLineProfileLast = function () {\n                return this.getLineProfile(this._lines.length - 1);\n            };\n            Object.defineProperty(PageProfile.prototype, \"index\", {\n                ///////////////////////////////////////////////////////////////////////\n                // getter/setter methods\n                //! getter: page index\n                get: function () {\n                    return this._index;\n                },\n                //! setter: page index\n                set: function (index) {\n                    this._index = index;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(PageProfile.prototype, \"offset\", {\n                //! getter: page offset\n                get: function () {\n                    return this._offset;\n                },\n                //! setter: page offset\n                set: function (offset) {\n                    this._offset = offset;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(PageProfile.prototype, \"height\", {\n                //! getter: 実際にページに割り当てられている高さ\n                get: function () {\n                    return this._height;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(PageProfile.prototype, \"status\", {\n                //! getter: 状態取得\n                get: function () {\n                    return this._status;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            return PageProfile;\n        }());\n        UI.PageProfile = PageProfile;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var TAG = \"[CDP.UI.GroupProfile] \";\n        /**\n         * @class GroupProfile\n         * @brief ラインをグループ管理するプロファイルクラス\n         *        本クラスでは直接 DOM を操作してはいけない\n         */\n        var GroupProfile = (function () {\n            /**\n             * constructor\n             *\n             * @param _id    {String}             [in] GroupProfile の ID\n             * @param _owner {ExpandableListView} [in] 管理者である ExpandableListView インスタンス\n             */\n            function GroupProfile(_id, _owner) {\n                this._id = _id;\n                this._owner = _owner;\n                this._parent = null; //!< 親 GroupProfile インスタンス\n                this._children = []; //!< 子 GroupProfile インスタンス\n                this._expanded = false; //!< 開閉情報\n                this._status = \"unregistered\"; //!< _owner への登録状態 [ unregistered | registered ]\n                this._mapLines = {}; //!< 自身が管轄する LineProfile を key とともに格納\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // public method\n            /**\n             * 本 GroupProfile が管理する List を作成して登録\n             *\n             * @param height      {Number}   [in] ラインの高さ\n             * @param initializer {Function} [in] ListItemView 派生クラスのコンストラクタ\n             * @param info        {Object}   [in] initializer に渡されるオプション引数\n             * @param layoutKey   {String}   [in] layout 毎に使用する識別子 (オプショナル)\n             * @return {GroupProfile} 本インスタンス\n             */\n            GroupProfile.prototype.addItem = function (height, initializer, info, layoutKey) {\n                var line;\n                var options = $.extend({}, { groupProfile: this }, info);\n                if (null == layoutKey) {\n                    layoutKey = GroupProfile.LAYOUT_KEY_DEFAULT;\n                }\n                if (null == this._mapLines[layoutKey]) {\n                    this._mapLines[layoutKey] = [];\n                }\n                line = new UI.LineProfile(this._owner.core, Math.floor(height), initializer, options);\n                // _owner の管理下にあるときは速やかに追加\n                if ((\"registered\" === this._status) &&\n                    (null == this._owner.layoutKey || layoutKey === this._owner.layoutKey)) {\n                    this._owner._addLine(line, this.getLastLineIndex() + 1);\n                    this._owner.update();\n                }\n                this._mapLines[layoutKey].push(line);\n                return this;\n            };\n            GroupProfile.prototype.addChildren = function (target) {\n                var _this = this;\n                var children = (target instanceof Array) ? target : [target];\n                children.forEach(function (child) {\n                    child.setParent(_this);\n                });\n                this._children = this._children.concat(children);\n                return this;\n            };\n            /**\n             * 親 GroupProfile を取得\n             *\n             * @return {GroupProfile} GroupProfile 親 インスタンス\n             */\n            GroupProfile.prototype.getParent = function () {\n                return this._parent;\n            };\n            /**\n             * 子 GroupProfile を取得\n             *\n             * @return {GroupProfile[]} GroupProfile 子 インスタンス配列\n             */\n            GroupProfile.prototype.getChildren = function () {\n                return this._children;\n            };\n            /**\n             * 子 Group を持っているか判定\n             * layoutKey が指定されれば、layout の状態まで判定\n             *\n             * @param layoutKey {String} [in] layout 毎に使用する識別子 (オプショナル)\n             * @return {Boolean} true: 有, false: 無\n             */\n            GroupProfile.prototype.hasChildren = function (layoutKey) {\n                if (this._children.length <= 0) {\n                    return false;\n                }\n                else if (null != layoutKey) {\n                    return this._children[0].hasLayoutKeyOf(layoutKey);\n                }\n                else {\n                    return true;\n                }\n            };\n            /**\n             * layout の状態を判定\n             *\n             * @param layoutKey {String} [in] layout 毎に使用する識別子\n             * @return {Boolean} true: 有, false: 無\n             */\n            GroupProfile.prototype.hasLayoutKeyOf = function (layoutKey) {\n                if (null == layoutKey) {\n                    layoutKey = GroupProfile.LAYOUT_KEY_DEFAULT;\n                }\n                return (null != this._mapLines[layoutKey]);\n            };\n            /**\n             * グループ展開\n             */\n            GroupProfile.prototype.expand = function () {\n                var _this = this;\n                var lines = [];\n                if (this._lines.length < 0) {\n                    console.warn(TAG + \"this group has no lines.\");\n                }\n                else if (!this.hasChildren()) {\n                    console.warn(TAG + \"this group has no children.\");\n                }\n                else if (!this.isExpanded()) {\n                    lines = this.queryOperationTarget(\"registered\");\n                    this._expanded = true;\n                    if (0 < lines.length) {\n                        this._owner.statusScope(\"expanding\", function () {\n                            // 自身を更新\n                            _this._lines.forEach(function (line) {\n                                line.refresh();\n                            });\n                            // 配下を更新\n                            _this._owner._addLine(lines, _this.getLastLineIndex() + 1);\n                            _this._owner.update();\n                        });\n                    }\n                }\n            };\n            /**\n             * グループ収束\n             *\n             * @param delay {Number} [in] 要素削除に費やす遅延時間. 既定: animationDuration 値\n             */\n            GroupProfile.prototype.collapse = function (delay) {\n                var _this = this;\n                var lines = [];\n                if (!this.hasChildren()) {\n                    console.warn(TAG + \"this group has no children.\");\n                }\n                else if (this.isExpanded()) {\n                    lines = this.queryOperationTarget(\"unregistered\");\n                    this._expanded = false;\n                    if (0 < lines.length) {\n                        delay = (null != delay) ? delay : this._owner.core.getListViewOptions().animationDuration;\n                        this._owner.statusScope(\"collapsing\", function () {\n                            // 自身を更新\n                            _this._lines.forEach(function (line) {\n                                line.refresh();\n                            });\n                            // 配下を更新\n                            _this._owner.removeItem(lines[0].index, lines.length, delay);\n                            _this._owner.update();\n                        });\n                    }\n                }\n            };\n            /**\n             * 自身をリストの可視領域に表示\n             *\n             * @param options {EnsureVisibleOptions} [in] オプション\n             */\n            GroupProfile.prototype.ensureVisible = function (options) {\n                if (0 < this._lines.length) {\n                    this._owner.ensureVisible(this._lines[0].index, options);\n                }\n                else if (null != options.callback) {\n                    options.callback();\n                }\n            };\n            /**\n             * 開閉のトグル\n             *\n             * @param delay {Number} [in] collapse の要素削除に費やす遅延時間. 既定: animationDuration 値\n             */\n            GroupProfile.prototype.toggle = function (delay) {\n                if (this._expanded) {\n                    this.collapse(delay);\n                }\n                else {\n                    this.expand();\n                }\n            };\n            /**\n             * 展開状態を判定\n             *\n             * @return {Boolean} true: 展開, false:収束\n             */\n            GroupProfile.prototype.isExpanded = function () {\n                return this._expanded;\n            };\n            /**\n             * list view へ登録\n             * Top Group のみ登録可能\n             *\n             * @param insertTo {Number} 挿入位置を index で指定\n             * @return {GroupProfile} 本インスタンス\n             */\n            GroupProfile.prototype.register = function (insertTo) {\n                if (this._parent) {\n                    console.error(TAG + \"logic error: 'register' method is acceptable only top group.\");\n                }\n                else {\n                    this._owner._addLine(this.preprocess(\"registered\"), insertTo);\n                }\n                return this;\n            };\n            /**\n             * list view へ復元\n             * Top Group のみ登録可能\n             *\n             * @return {GroupProfile} 本インスタンス\n             */\n            GroupProfile.prototype.restore = function () {\n                var lines = [];\n                if (this._parent) {\n                    console.error(TAG + \"logic error: 'restore' method is acceptable only top group.\");\n                }\n                else if (this._lines) {\n                    if (this._expanded) {\n                        lines = this._lines.concat(this.queryOperationTarget(\"active\"));\n                    }\n                    else {\n                        lines = this._lines;\n                    }\n                    this._owner._addLine(lines);\n                }\n                return this;\n            };\n            /**\n             * 配下の最後の line index を取得\n             *\n             * @param withActiveChildren {Boolean} [in] 登録済みの子 GroupProfile を含めて検索する場合は true を指定\n             * @return {Number} index. エラーの場合は null.\n             */\n            GroupProfile.prototype.getLastLineIndex = function (withActiveChildren) {\n                var _this = this;\n                if (withActiveChildren === void 0) { withActiveChildren = false; }\n                var lines = (function () {\n                    var _lines;\n                    if (withActiveChildren) {\n                        _lines = _this.queryOperationTarget(\"active\");\n                    }\n                    if (null == lines || lines.length <= 0) {\n                        _lines = _this._lines;\n                    }\n                    return _lines;\n                })();\n                if (lines.length <= 0) {\n                    console.error(TAG + \"logic error: this group is stil not registered.\");\n                    return null;\n                }\n                else {\n                    return lines[lines.length - 1].index;\n                }\n            };\n            Object.defineProperty(GroupProfile.prototype, \"id\", {\n                /**\n                 * ID を取得\n                 *\n                 * @return {String} 割り振られた ID\n                 */\n                get: function () {\n                    return this._id;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(GroupProfile.prototype, \"status\", {\n                /**\n                 * ステータスを取得\n                 *\n                 * @return {String} ステータス文字列\n                 */\n                get: function () {\n                    return this._status;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            ///////////////////////////////////////////////////////////////////////\n            // private method\n            /* tslint:disable:no-unused-variable */\n            /**\n             * 親 Group 指定\n             *\n             * @param parent {GroupProfile} [in] 親 GroupProfile インスタンス\n             */\n            GroupProfile.prototype.setParent = function (parent) {\n                this._parent = parent;\n            };\n            /* tslint:enable:no-unused-variable */\n            /**\n             * register / unregister の前処理\n             *\n             * @param newStatus {String} [in] 新ステータス文字列\n             * @return {LineProfile[]} 更新すべき LineProfile の配列\n             */\n            GroupProfile.prototype.preprocess = function (newStatus) {\n                var lines = [];\n                if (newStatus !== this._status && null != this._lines) {\n                    lines = this._lines;\n                }\n                this._status = newStatus;\n                return lines;\n            };\n            /**\n             * 操作対象の LineProfile 配列を取得\n             *\n             * @param newStatus {String} [in] 新ステータス文字列\n             * @return {LineProfile[]} 操作対象の LineProfile の配列\n             */\n            GroupProfile.prototype.queryOperationTarget = function (operation) {\n                var findTargets = function (group) {\n                    var lines = [];\n                    group._children.forEach(function (child) {\n                        switch (operation) {\n                            case \"registered\":\n                                lines = lines.concat(child.preprocess(operation));\n                                break;\n                            case \"unregistered\":\n                                lines = lines.concat(child.preprocess(operation));\n                                break;\n                            case \"active\":\n                                if (null != child._lines) {\n                                    lines = lines.concat(child._lines);\n                                }\n                                break;\n                            default:\n                                console.warn(TAG + \"unknown operation: \" + operation);\n                                return;\n                        }\n                        if (child.isExpanded()) {\n                            lines = lines.concat(findTargets(child));\n                        }\n                    });\n                    return lines;\n                };\n                return findTargets(this);\n            };\n            Object.defineProperty(GroupProfile.prototype, \"_lines\", {\n                /**\n                 * 自身の管理するアクティブな LineProfie を取得\n                 *\n                 * @return {LineProfile[]} LineProfie 配列\n                 */\n                get: function () {\n                    var key = this._owner.layoutKey;\n                    if (null != key) {\n                        return this._mapLines[key];\n                    }\n                    else {\n                        return this._mapLines[GroupProfile.LAYOUT_KEY_DEFAULT];\n                    }\n                },\n                enumerable: true,\n                configurable: true\n            });\n            GroupProfile.LAYOUT_KEY_DEFAULT = \"-layout-default\";\n            return GroupProfile;\n        }());\n        UI.GroupProfile = GroupProfile;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var _Utils = CDP.UI._ListViewUtils;\n        var TAG = \"[CDP.UI.ScrollerElement] \";\n        /**\n         * @class ScrollerElement\n         * @brief HTMLElement の Scroller クラス\n         */\n        var ScrollerElement = (function () {\n            function ScrollerElement(element, options) {\n                this._$target = null;\n                this._$scrollMap = null;\n                this._listviewOptions = null;\n                this._$target = $(element);\n                this._listviewOptions = options;\n            }\n            //! Scroller の型を取得\n            ScrollerElement.prototype.getType = function () {\n                return ScrollerElement.TYPE;\n            };\n            //! position 取得\n            ScrollerElement.prototype.getPos = function () {\n                return this._$target.scrollTop();\n            };\n            //! position の最大値を取得\n            ScrollerElement.prototype.getPosMax = function () {\n                if (null == this._$scrollMap) {\n                    this._$scrollMap = this._$target.children().first();\n                }\n                return _Utils.max(this._$scrollMap.height() - this._$target.height(), 0);\n            };\n            //! イベント登録\n            ScrollerElement.prototype.on = function (type, func) {\n                switch (type) {\n                    case \"scroll\":\n                        this._$target.on(\"scroll\", func);\n                        break;\n                    case \"scrollstop\":\n                        this._$target.on(\"scrollstop\", func);\n                        break;\n                    default:\n                        console.warn(TAG + \"unsupported type: \" + type);\n                        break;\n                }\n            };\n            //! イベント登録解除\n            ScrollerElement.prototype.off = function (type, func) {\n                switch (type) {\n                    case \"scroll\":\n                        this._$target.off(\"scroll\", func);\n                        break;\n                    case \"scrollstop\":\n                        this._$target.off(\"scrollstop\", func);\n                        break;\n                    default:\n                        console.warn(TAG + \"unsupported type: \" + type);\n                        break;\n                }\n            };\n            //! スクロール位置を指定\n            ScrollerElement.prototype.scrollTo = function (pos, animate, time) {\n                if (!this._listviewOptions.enableAnimation || !animate) {\n                    this._$target.scrollTop(pos);\n                }\n                else {\n                    if (null == time) {\n                        time = this._listviewOptions.animationDuration;\n                    }\n                    this._$target.animate({\n                        scrollTop: pos\n                    }, time);\n                }\n            };\n            //! Scroller の状態更新\n            ScrollerElement.prototype.update = function () {\n                // noop.\n            };\n            //! Scroller の破棄\n            ScrollerElement.prototype.destroy = function () {\n                this._$scrollMap = null;\n                if (this._$target) {\n                    this._$target.off();\n                    this._$target = null;\n                }\n            };\n            Object.defineProperty(ScrollerElement, \"TYPE\", {\n                //! タイプ定義\n                get: function () {\n                    return \"element-overflow\";\n                },\n                enumerable: true,\n                configurable: true\n            });\n            //! factory 取得\n            ScrollerElement.getFactory = function () {\n                var factory = function (element, options) {\n                    return new ScrollerElement(element, options);\n                };\n                // set type signature.\n                factory.type = ScrollerElement.TYPE;\n                return factory;\n            };\n            return ScrollerElement;\n        }());\n        UI.ScrollerElement = ScrollerElement;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var _Utils = CDP.UI._ListViewUtils;\n        var TAG = \"[CDP.UI.ScrollerNative] \";\n        /**\n         * @class ScrollerNative\n         * @brief Browser Native の Scroller クラス\n         */\n        var ScrollerNative = (function () {\n            //! constructor\n            function ScrollerNative(options) {\n                this._$body = null;\n                this._$target = null;\n                this._$scrollMap = null;\n                this._listviewOptions = null;\n                this._$target = $(document);\n                this._$body = $(\"body\");\n                this._listviewOptions = options;\n            }\n            //! Scroller の型を取得\n            ScrollerNative.prototype.getType = function () {\n                return ScrollerNative.TYPE;\n            };\n            //! position 取得\n            ScrollerNative.prototype.getPos = function () {\n                return this._$target.scrollTop();\n            };\n            //! position の最大値を取得\n            ScrollerNative.prototype.getPosMax = function () {\n                return _Utils.max(this._$target.height() - window.innerHeight, 0);\n            };\n            //! イベント登録\n            ScrollerNative.prototype.on = function (type, func) {\n                switch (type) {\n                    case \"scroll\":\n                        this._$target.on(\"scroll\", func);\n                        break;\n                    case \"scrollstop\":\n                        $(window).on(\"scrollstop\", func);\n                        break;\n                    default:\n                        console.warn(TAG + \"unsupported type: \" + type);\n                        break;\n                }\n            };\n            //! イベント登録解除\n            ScrollerNative.prototype.off = function (type, func) {\n                switch (type) {\n                    case \"scroll\":\n                        this._$target.off(\"scroll\", func);\n                        break;\n                    case \"scrollstop\":\n                        $(window).off(\"scrollstop\", func);\n                        break;\n                    default:\n                        console.warn(TAG + \"unsupported type: \" + type);\n                        break;\n                }\n            };\n            //! スクロール位置を指定\n            ScrollerNative.prototype.scrollTo = function (pos, animate, time) {\n                if (!this._listviewOptions.enableAnimation || !animate) {\n                    this._$body.scrollTop(pos);\n                }\n                else {\n                    if (null == time) {\n                        time = this._listviewOptions.animationDuration;\n                    }\n                    this._$body.animate({\n                        scrollTop: pos\n                    }, time);\n                }\n            };\n            //! Scroller の状態更新\n            ScrollerNative.prototype.update = function () {\n                // noop.\n            };\n            //! Scroller の破棄\n            ScrollerNative.prototype.destroy = function () {\n                this._$scrollMap = null;\n                this._$target = null;\n            };\n            Object.defineProperty(ScrollerNative, \"TYPE\", {\n                //! タイプ定義\n                get: function () {\n                    return \"native-scroll\";\n                },\n                enumerable: true,\n                configurable: true\n            });\n            //! factory 取得\n            ScrollerNative.getFactory = function () {\n                var factory = function (element, options) {\n                    return new ScrollerNative(options);\n                };\n                // set type signature.\n                factory.type = ScrollerNative.TYPE;\n                return factory;\n            };\n            return ScrollerNative;\n        }());\n        UI.ScrollerNative = ScrollerNative;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var _Config = CDP.UI.ListViewGlobalConfig;\n        var _Utils = CDP.UI._ListViewUtils;\n        var TAG = \"[CDP.UI.ScrollerIScroll] \";\n        /**\n         * @class ScrollerIScroll\n         * @brief iScroll を使用した Scroller クラス\n         */\n        var ScrollerIScroll = (function () {\n            function ScrollerIScroll($owner, element, iscrollOptions, listviewOptions) {\n                this._$owner = null;\n                this._iscroll = null;\n                this._refreshTimerId = null;\n                this._$wrapper = null;\n                this._$scroller = null;\n                this._listviewOptions = null;\n                if (null != UI.global.IScroll) {\n                    this._$owner = $owner;\n                    this._iscroll = new IScroll(element, iscrollOptions);\n                    this._$wrapper = $(this._iscroll.wrapper);\n                    this._$scroller = $(this._iscroll.scroller);\n                    this._listviewOptions = listviewOptions;\n                }\n                else {\n                    console.error(TAG + \"iscroll module doesn't load.\");\n                }\n            }\n            //! Scroller の型を取得\n            ScrollerIScroll.prototype.getType = function () {\n                return ScrollerIScroll.TYPE;\n            };\n            //! position 取得\n            ScrollerIScroll.prototype.getPos = function () {\n                var pos = this._iscroll.getComputedPosition().y;\n                if (_.isNaN(pos)) {\n                    pos = 0;\n                }\n                else {\n                    pos = -pos;\n                }\n                return pos;\n            };\n            //! position の最大値を取得\n            ScrollerIScroll.prototype.getPosMax = function () {\n                return _Utils.max(-this._iscroll.maxScrollY, 0);\n            };\n            //! イベント登録\n            ScrollerIScroll.prototype.on = function (type, func) {\n                switch (type) {\n                    case \"scroll\":\n                        this._iscroll.on(\"scroll\", func);\n                        break;\n                    case \"scrollstop\":\n                        this._iscroll.on(\"scrollEnd\", func);\n                        break;\n                    default:\n                        console.warn(TAG + \"unsupported type: \" + type);\n                        break;\n                }\n            };\n            //! イベント登録解除\n            ScrollerIScroll.prototype.off = function (type, func) {\n                switch (type) {\n                    case \"scroll\":\n                        this._iscroll.off(\"scroll\", func);\n                        break;\n                    case \"scrollstop\":\n                        this._iscroll.on(\"scrollEnd\", func);\n                        break;\n                    default:\n                        console.warn(TAG + \"unsupported type: \" + type);\n                        break;\n                }\n            };\n            //! スクロール位置を指定\n            ScrollerIScroll.prototype.scrollTo = function (pos, animate, time) {\n                time = 0;\n                if (this._listviewOptions.enableAnimation && animate) {\n                    time = time || this._listviewOptions.animationDuration;\n                }\n                this._iscroll.scrollTo(0, -pos, time);\n            };\n            //! Scroller の状態更新\n            ScrollerIScroll.prototype.update = function () {\n                var _this = this;\n                if (this._$owner) {\n                    // update wrapper\n                    (function () {\n                        var ownerHeight = _this._$owner.height();\n                        if (ownerHeight !== _this._$wrapper.height()) {\n                            _this._$wrapper.height(ownerHeight);\n                        }\n                    })();\n                    if (null != this._refreshTimerId) {\n                        clearTimeout(this._refreshTimerId);\n                    }\n                    var proc_1 = function () {\n                        if (_this._$scroller && _this._$scroller.height() !== _this._iscroll.scrollerHeight) {\n                            _this._iscroll.refresh();\n                            _this._refreshTimerId = setTimeout(proc_1, _this._listviewOptions.scrollMapRefreshInterval);\n                        }\n                        else {\n                            _this._refreshTimerId = null;\n                        }\n                    };\n                    this._iscroll.refresh();\n                    this._refreshTimerId = setTimeout(proc_1, this._listviewOptions.scrollMapRefreshInterval);\n                }\n            };\n            //! Scroller の破棄\n            ScrollerIScroll.prototype.destroy = function () {\n                this._$scroller = null;\n                this._$wrapper = null;\n                this._iscroll.destroy();\n                this._$owner = null;\n            };\n            Object.defineProperty(ScrollerIScroll, \"TYPE\", {\n                //! タイプ定義\n                get: function () {\n                    return \"iscroll\";\n                },\n                enumerable: true,\n                configurable: true\n            });\n            //! factory 取得\n            ScrollerIScroll.getFactory = function (options) {\n                var defaultOpt = {\n                    scrollX: false,\n                    bounce: false,\n                    tap: true,\n                    click: true,\n                    mouseWheel: true,\n                    scrollbars: true,\n                    interactiveScrollbars: true,\n                    shrinkScrollbars: \"scale\",\n                    fadeScrollbars: true,\n                    preventDefault: false,\n                    disablePointer: true,\n                    disableMouse: false,\n                    disableTouch: false,\n                    probeType: 2,\n                };\n                var iscrollOptions = $.extend({}, defaultOpt, options);\n                var factory = function (element, listviewOptions) {\n                    var $owner = $(element);\n                    var $map = $owner.find(_Config.SCROLL_MAP_SELECTOR);\n                    var $wrapper = $(\"<div class='\" + _Config.WRAPPER_CLASS + \"'></div>\")\n                        .css({\n                        position: \"absolute\",\n                        width: \"100%\",\n                        height: \"100%\",\n                        overflow: \"hidden\",\n                    });\n                    $map.wrap($wrapper);\n                    return new ScrollerIScroll($owner, _Config.WRAPPER_SELECTOR, iscrollOptions, listviewOptions);\n                };\n                // set type signature.\n                factory.type = ScrollerIScroll.TYPE;\n                return factory;\n            };\n            return ScrollerIScroll;\n        }());\n        UI.ScrollerIScroll = ScrollerIScroll;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var TAG = \"[CDP.UI.ListItemView] \";\n        /**\n         * @class ListItemView\n         * @brief ListView が扱う ListItem コンテナクラス\n         */\n        var ListItemView = (function (_super) {\n            __extends(ListItemView, _super);\n            /**\n             * constructor\n             */\n            function ListItemView(options) {\n                var _this = _super.call(this, options) || this;\n                _this._owner = null;\n                _this._lineProfile = null;\n                _this._owner = options.owner;\n                if (options.$el) {\n                    var delegates = _this.events ? true : false;\n                    _this.setElement(options.$el, delegates);\n                }\n                _this._lineProfile = options.lineProfile;\n                return _this;\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: ListItemView\n            //! 描画: framework から呼び出されるため、オーバーライド必須\n            ListItemView.prototype.render = function () {\n                console.warn(TAG + \"need override 'render()' method.\");\n                return this;\n            };\n            //! 自身の Line インデックスを取得\n            ListItemView.prototype.getIndex = function () {\n                return this._lineProfile.index;\n            };\n            //! 自身に指定された高さを取得\n            ListItemView.prototype.getSpecifiedHeight = function () {\n                return this._lineProfile.height;\n            };\n            //! child node が存在するか判定\n            ListItemView.prototype.hasChildNode = function () {\n                if (!this.$el) {\n                    return false;\n                }\n                else {\n                    return 0 < this.$el.children().length;\n                }\n            };\n            /**\n             * 高さを更新\n             *\n             * @param newHeight {Number}              [in] 新しい高さ\n             * @param options   {UpdateHeightOptions} [in] line の高さ更新時に影響するすべての LineProfile の再計算を行う場合は { reflectAll: true }\n             * @return {ListItemView} インスタンス\n             */\n            ListItemView.prototype.updateHeight = function (newHeight, options) {\n                if (this.$el) {\n                    if (this.getSpecifiedHeight() !== newHeight) {\n                        this._lineProfile.updateHeight(newHeight, options);\n                        this.$el.height(newHeight);\n                    }\n                }\n                return this;\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IComposableView\n            /**\n             * すでに定義された Backbone.View を基底クラスに設定し、extend を実行する。\n             *\n             * @param derives         {Backbone.View|Backbone.View[]} [in] 合成元の View クラス\n             * @param properties      {Object}                        [in] prototype プロパティ\n             * @param classProperties {Object}                        [in] static プロパティ\n             * @return {Backbone.View|Backbone.View[]} 新規に生成された View のコンストラクタ\n             */\n            ListItemView.compose = function (derives, properties, classProperties) {\n                var composed = UI.composeViews(ListItemView, derives);\n                return composed.extend(properties, classProperties);\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // Override: Backbone.View\n            //! 開放\n            ListItemView.prototype.remove = function () {\n                // xperia AX Jelly Bean (4.1.2)にて、メモリーリークを軽減させる効果\n                this.$el.find(\"figure\").css(\"background-image\", \"none\");\n                // this.$el は再利用するため破棄しない\n                this.$el.children().remove();\n                this.$el.off();\n                this.$el = null;\n                this.stopListening();\n                this._lineProfile = null;\n                return this;\n            };\n            Object.defineProperty(ListItemView.prototype, \"owner\", {\n                ///////////////////////////////////////////////////////////////////////\n                // short cut methods\n                //! Owner 取得\n                get: function () {\n                    return this._owner;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            return ListItemView;\n        }(Backbone.View));\n        UI.ListItemView = ListItemView;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\n/* tslint:disable:no-bitwise no-unused-expression */\n/* jshint -W030 */ // for \"Expected an assignment or function call and instead saw an expression\"\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var _Config = CDP.UI.ListViewGlobalConfig;\n        var _Utils = CDP.UI._ListViewUtils;\n        var TAG = \"[CDP.UI.ScrollManager] \";\n        /**\n         * @class ScrollManager\n         * @brief メモリ管理を行うスクロール処理のコアロジック実装クラス\n         *        本クラスは IListView インターフェイスを持ち DOM にアクセスするが、Backbone.View を継承しない\n         */\n        var ScrollManager = (function () {\n            /**\n             * constructor\n             *\n             * @param _$root  {JQuery} [in] 管理対象のルートエレメント\n             * @param options {ListViewOptions} [in] オプション\n             */\n            function ScrollManager(options) {\n                var _this = this;\n                this._$root = null; //!< Scroll 対象のルートオブジェクト\n                this._$map = null; //!< Scroll Map element を格納\n                this._mapHeight = 0; //!< Scroll Map の高さを格納 (_$map の状態に依存させない)\n                this._scroller = null; //!< Scroll に使用する IScroller インスタンス\n                this._settings = null; //!< ScrollManager オプションを格納\n                this._active = true; //!< UI 表示中は true に指定\n                this._scrollEventHandler = null; //!< Scroll Event Handler\n                this._scrollStopEventHandler = null; //!< Scroll Stop Event Handler\n                this._baseHeight = 0; //!< 高さの基準値\n                this._lines = []; //!< 管理下にある LineProfile 配列\n                this._pages = []; //!< 管理下にある PageProfile 配列\n                //! 最新の表示領域情報を格納 (Scroll 中の更新処理に使用)\n                this._lastActivePageContext = {\n                    index: 0,\n                    from: 0,\n                    to: 0,\n                    pos: 0,\n                };\n                this._backup = {}; //!< データの backup 領域. key と _lines を格納。派生クラスで拡張可能。\n                // ListViewOptions 既定値\n                var defOptions = {\n                    scrollerFactory: UI.ScrollerNative.getFactory(),\n                    enableHiddenPage: false,\n                    enableTransformOffset: false,\n                    scrollMapRefreshInterval: 200,\n                    scrollRefreshDistance: 200,\n                    pagePrepareCount: 3,\n                    pagePreloadCount: 1,\n                    enableAnimation: true,\n                    animationDuration: 0,\n                    baseDepth: \"auto\",\n                    itemTagName: \"div\",\n                    removeItemWithTransition: true,\n                    useDummyInactiveScrollMap: false,\n                };\n                // 設定格納\n                this._settings = $.extend({}, defOptions, options);\n                // スクロールイベント\n                this._scrollEventHandler = function (event) {\n                    _this.onScroll(_this._scroller.getPos());\n                };\n                // スクロール停止イベント\n                this._scrollStopEventHandler = function (event) {\n                    _this.onScrollStop(_this._scroller.getPos());\n                };\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // public method\n            //! 内部オブジェクトの初期化\n            ScrollManager.prototype.initialize = function ($root, height) {\n                // 既に構築されていた場合は破棄\n                if (this._$root) {\n                    this.destroy();\n                }\n                this._$root = $root;\n                this._$map = $root.hasClass(_Config.SCROLL_MAP_CLASS) ? $root : $root.find(_Config.SCROLL_MAP_SELECTOR);\n                // _$map が無い場合は初期化しない\n                if (this._$map.length <= 0) {\n                    this._$root = null;\n                    return false;\n                }\n                this._scroller = this.createScroller();\n                this.setBaseHeight(height);\n                this.setScrollerCondition();\n                return true;\n            };\n            //! 内部オブジェクトの破棄\n            ScrollManager.prototype.destroy = function () {\n                if (this._scroller) {\n                    this.resetScrollerCondition();\n                    this._scroller.destroy();\n                    this._scroller = null;\n                }\n                this.release();\n                this._$map = null;\n                this._$root = null;\n            };\n            //! ページの基準値を取得\n            ScrollManager.prototype.setBaseHeight = function (height) {\n                this._baseHeight = height;\n                if (this._baseHeight <= 0) {\n                    console.warn(TAG + \"invalid base height: \" + this._baseHeight);\n                }\n                if (this._scroller) {\n                    this._scroller.update();\n                }\n            };\n            //! active 状態設定\n            ScrollManager.prototype.setActiveState = function (active) {\n                this._active = active;\n                this.treatScrollPosition();\n            };\n            //! active 状態判定\n            ScrollManager.prototype.isActive = function () {\n                return this._active;\n            };\n            //! scroller の種類を取得\n            ScrollManager.prototype.getScrollerType = function () {\n                return this._settings.scrollerFactory.type;\n            };\n            /**\n             * 状態に応じたスクロール位置の保存/復元\n             * cdp.ui.fs.js: PageTabListView が実験的に使用\n             * TODO: ※iscroll は未対応\n             */\n            ScrollManager.prototype.treatScrollPosition = function () {\n                var _this = this;\n                var i;\n                var transform = {};\n                var updateOffset = function ($target, offset) {\n                    offset = offset || (_this._scroller.getPos() - _this._lastActivePageContext.pos);\n                    if (_Utils.getCssMatrixValue($target, \"translateY\") !== offset) {\n                        for (i = 0; i < _Utils.cssPrefixes.length; i++) {\n                            transform[_Utils.cssPrefixes[i] + \"transform\"] = \"translate3d(0px,\" + offset + \"px,0px)\";\n                        }\n                        $target.css(transform);\n                        return $target;\n                    }\n                };\n                var clearOffset = function ($target) {\n                    for (i = 0; i < _Utils.cssPrefixes.length; i++) {\n                        transform[_Utils.cssPrefixes[i] + \"transform\"] = \"\";\n                    }\n                    $target.css(transform);\n                    return $target;\n                };\n                if (this._active) {\n                    // 以下のスコープの処理に対して画面更新を1回にできないため、JB, ICS ではちらつきが発生する。Kitkat 以降は良好。\n                    (function () {\n                        if (_this._scroller) {\n                            _this._scroller.scrollTo(_this._lastActivePageContext.pos, false, 0);\n                        }\n                        clearOffset(_this._$map).css(\"display\", \"block\");\n                    })();\n                    if (this._settings.useDummyInactiveScrollMap) {\n                        this.prepareInactiveMap().remove();\n                    }\n                }\n                else {\n                    if (this._settings.useDummyInactiveScrollMap) {\n                        updateOffset(this.prepareInactiveMap());\n                    }\n                    else {\n                        updateOffset(this._$map);\n                    }\n                }\n            };\n            //! inactive 用 Map の生成\n            ScrollManager.prototype.prepareInactiveMap = function () {\n                var $parent = this._$map.parent();\n                var $inactiveMap = $parent.find(_Config.INACTIVE_CLASS_SELECTOR);\n                if ($inactiveMap.length <= 0) {\n                    var currentPageIndex_1 = this.getPageIndex();\n                    var $listItemViews = this._$map.clone().children().filter(function (index, element) {\n                        var pageIndex = ~~$(element).attr(_Config.DATA_PAGE_INDEX);\n                        if (currentPageIndex_1 - 1 <= pageIndex || pageIndex <= currentPageIndex_1 + 1) {\n                            return true;\n                        }\n                        else {\n                            return false;\n                        }\n                    });\n                    $inactiveMap = $(\"<section class='\" + _Config.SCROLL_MAP_CLASS + \" \" + _Config.INACTIVE_CLASS + \"'></section>\")\n                        .append($listItemViews)\n                        .height(this._mapHeight);\n                    $parent.append($inactiveMap);\n                    this._$map.css(\"display\", \"none\");\n                }\n                return $inactiveMap;\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IListView プロファイル管理\n            //! 初期化済みか判定\n            ScrollManager.prototype.isInitialized = function () {\n                return !!this._$root;\n            };\n            //! プロパティを指定して、LineProfile を管理\n            ScrollManager.prototype.addItem = function (height, initializer, info, insertTo) {\n                this._addLine(new UI.LineProfile(this, Math.floor(height), initializer, info), insertTo);\n            };\n            //! プロパティを指定して、LineProfile を管理. 登録 framework が使用する\n            ScrollManager.prototype._addLine = function (_line, insertTo) {\n                var lines = (_line instanceof Array) ? _line : [_line];\n                var i, n;\n                var deltaHeight = 0;\n                var addTail = false;\n                if (null == insertTo) {\n                    insertTo = this._lines.length;\n                }\n                if (insertTo === this._lines.length) {\n                    addTail = true;\n                }\n                // scroll map の更新\n                for (i = 0, n = lines.length; i < n; i++) {\n                    deltaHeight += lines[i].height;\n                }\n                this.updateScrollMapHeight(deltaHeight);\n                // 挿入\n                for (i = lines.length - 1; i >= 0; i--) {\n                    this._lines.splice(insertTo, 0, lines[i]);\n                }\n                // page 設定の解除\n                if (!addTail) {\n                    if (0 === insertTo) {\n                        this.clearPage();\n                    }\n                    else if (null != this._lines[insertTo - 1].pageIndex) {\n                        this.clearPage(this._lines[insertTo - 1].pageIndex);\n                    }\n                }\n                // offset の再計算\n                this.updateProfiles(insertTo);\n            };\n            ScrollManager.prototype.removeItem = function (index, arg2, arg3) {\n                if (index instanceof Array) {\n                    this._removeLines(index, arg2);\n                }\n                else {\n                    this._removeLine(index, arg2, arg3);\n                }\n            };\n            //! 指定した LineProfile を削除: 連続 index 版\n            ScrollManager.prototype._removeLine = function (index, size, delay) {\n                var _this = this;\n                if (null == size) {\n                    size = 1;\n                }\n                if (index < 0 || this._lines.length < index + size) {\n                    console.error(TAG + \"logic error. removeItem(), invalid index: \" + index);\n                    return;\n                }\n                delay = (null != delay) ? delay : 0;\n                var removed = [];\n                var delta = 0;\n                var mapTransition = false;\n                // 削除候補と変化量の算出\n                (function () {\n                    var line;\n                    for (var i = 0; i < size; i++) {\n                        line = _this._lines[index + i];\n                        delta += line.height;\n                        // 削除要素の z-index の初期化\n                        line.resetDepth();\n                        removed.push(line);\n                    }\n                    // 自動設定・削除遅延時間が設定されかつ、スクロールポジションに変更がある場合は transition 設定\n                    if (_this._settings.removeItemWithTransition && (0 < delay)) {\n                        var current = _this.getScrollPos();\n                        var posMax = _this.getScrollPosMax() - delta;\n                        mapTransition = (posMax < current);\n                    }\n                })();\n                // 更新\n                (function () {\n                    // transition 設定\n                    if (mapTransition) {\n                        _this.setupScrollMapTransition(_this._$map, delay);\n                    }\n                    // page 設定の解除\n                    if (null != _this._lines[index].pageIndex) {\n                        _this.clearPage(_this._lines[index].pageIndex);\n                    }\n                    // スクロール領域の更新\n                    _this.updateScrollMapHeight(-delta);\n                    // 配列から削除\n                    _this._lines.splice(index, size);\n                    // offset の再計算\n                    _this.updateProfiles(index);\n                    // 遅延削除\n                    setTimeout(function () {\n                        removed.forEach(function (line) {\n                            line.inactivate();\n                        });\n                    }, delay);\n                })();\n            };\n            //! 指定した LineProfile を削除: random access 版\n            ScrollManager.prototype._removeLines = function (indexes, delay) {\n                var _this = this;\n                delay = (null != delay) ? delay : 0;\n                for (var i = 0, n = indexes.length; i < n; i++) {\n                    if (i < 0 || this._lines.length < i) {\n                        console.error(TAG + \"logic error. removeItem(), invalid index: \" + i);\n                        return;\n                    }\n                }\n                var removed = [];\n                var delta = 0;\n                var mapTransition = false;\n                // 削除候補と変化量の算出\n                (function () {\n                    var line;\n                    indexes.forEach(function (index) {\n                        line = _this._lines[index];\n                        delta += line.height;\n                        // 削除要素の z-index の初期化\n                        line.resetDepth();\n                        removed.push(line);\n                    });\n                    // 自動設定・削除遅延時間が設定されかつ、スクロールポジションに変更がある場合は transition 設定\n                    if (_this._settings.removeItemWithTransition && (0 < delay)) {\n                        var current = _this.getScrollPos();\n                        var posMax = _this.getScrollPosMax() - delta;\n                        mapTransition = (posMax < current);\n                    }\n                })();\n                // 更新\n                (function () {\n                    // transition 設定\n                    if (mapTransition) {\n                        _this.setupScrollMapTransition(_this._$map, delay);\n                    }\n                    indexes.forEach(function (index) {\n                        // page 設定の解除\n                        if (null != _this._lines[index].pageIndex) {\n                            _this.clearPage(_this._lines[index].pageIndex);\n                        }\n                        // 配列から削除\n                        _this._lines.splice(index, 1);\n                        // offset の再計算\n                        _this.updateProfiles(index);\n                    });\n                    // スクロール領域の更新\n                    _this.updateScrollMapHeight(-delta);\n                    // 遅延削除\n                    setTimeout(function () {\n                        removed.forEach(function (line) {\n                            line.inactivate();\n                        });\n                    }, delay);\n                })();\n            };\n            //! scroll map のトランジション設定\n            ScrollManager.prototype.setupScrollMapTransition = function ($map, delay) {\n                var transitionEndHandler = function (event) {\n                    $map.off(_Utils.transitionEnd);\n                    _Utils.clearTransitions($map);\n                };\n                this._$map.on(_Utils.transitionEnd, transitionEndHandler);\n                _Utils.setTransformsTransitions($map, \"height\", delay, \"ease\");\n            };\n            ScrollManager.prototype.getItemInfo = function (target) {\n                var index;\n                var parser = function ($target) {\n                    if ($target.hasClass(_Config.LISTITEM_BASE_CLASS)) {\n                        return ~~$target.attr(_Config.DATA_CONTAINER_INDEX);\n                    }\n                    else if ($target.hasClass(_Config.SCROLL_MAP_CLASS) || $target.length <= 0) {\n                        console.warn(TAG + \"cannot ditect line from event object.\");\n                        return null;\n                    }\n                    else {\n                        return parser($target.parent());\n                    }\n                };\n                if (target instanceof $.Event) {\n                    index = parser($(target.currentTarget));\n                }\n                else if (typeof target === \"number\") {\n                    index = target;\n                }\n                if (null == index) {\n                    console.error(TAG + \"logic error. unsupported arg type. type: \" + typeof target);\n                    return null;\n                }\n                else if (index < 0 || this._lines.length <= index) {\n                    console.error(TAG + \"logic error. invalid range. index: \" + index);\n                    return null;\n                }\n                return this._lines[index].info;\n            };\n            //! アクティブページを更新\n            ScrollManager.prototype.refresh = function () {\n                var _this = this;\n                var targets = {};\n                var searchCount = this._settings.pagePrepareCount + this._settings.pagePreloadCount;\n                var currentPageIndex = this.getPageIndex();\n                var highPriorityIndex = [];\n                var oldExsistPage = _.filter(this._pages, function (page) {\n                    return \"inactive\" !== page.status;\n                });\n                var changeState = function (index) {\n                    if (index === currentPageIndex) {\n                        targets[index] = \"activate\";\n                        highPriorityIndex.push(index);\n                    }\n                    else if (_Utils.abs(currentPageIndex - index) <= _this._settings.pagePrepareCount) {\n                        targets[index] = \"activate\";\n                    }\n                    else {\n                        if (_this._settings.enableHiddenPage) {\n                            targets[index] = \"hide\";\n                        }\n                        else {\n                            targets[index] = \"activate\";\n                        }\n                    }\n                    // current page の 前後は high priority にする\n                    if (currentPageIndex + 1 === index || currentPageIndex - 1 === index) {\n                        highPriorityIndex.push(index);\n                    }\n                };\n                // 対象無し\n                if (this._lines.length <= 0) {\n                    return;\n                }\n                (function () {\n                    var i = 0;\n                    var pageIndex = 0;\n                    var overflowPrev = 0, overflowNext = 0;\n                    var beginIndex = currentPageIndex - searchCount;\n                    var endIndex = currentPageIndex + searchCount;\n                    for (pageIndex = beginIndex; pageIndex <= endIndex; pageIndex++) {\n                        if (pageIndex < 0) {\n                            overflowPrev++;\n                            continue;\n                        }\n                        if (_this._pages.length <= pageIndex) {\n                            overflowNext++;\n                            continue;\n                        }\n                        changeState(pageIndex);\n                    }\n                    if (0 < overflowPrev) {\n                        for (i = 0, pageIndex = currentPageIndex + searchCount + 1; i < overflowPrev; i++, pageIndex++) {\n                            if (_this._pages.length <= pageIndex) {\n                                break;\n                            }\n                            changeState(pageIndex);\n                        }\n                    }\n                    if (0 < overflowNext) {\n                        for (i = 0, pageIndex = currentPageIndex - searchCount - 1; i < overflowNext; i++, pageIndex--) {\n                            if (pageIndex < 0) {\n                                break;\n                            }\n                            changeState(pageIndex);\n                        }\n                    }\n                })();\n                // 不要になった page の inactivate\n                oldExsistPage.forEach(function (page) {\n                    var index = page.index;\n                    if (null == targets[index]) {\n                        page.inactivate();\n                    }\n                });\n                // 優先 page の activate\n                highPriorityIndex\n                    .sort(function (lhs, rhs) {\n                    if (lhs < rhs) {\n                        return -1;\n                    }\n                    else if (lhs > rhs) {\n                        return 1;\n                    }\n                    else {\n                        return 0;\n                    }\n                })\n                    .forEach(function (index) {\n                    setTimeout(function () {\n                        if (_this.isInitialized()) {\n                            _this._pages[index] && _this._pages[index].activate();\n                        }\n                    }, 0);\n                });\n                // そのほかの page の 状態変更\n                _.each(targets, function (action, key) {\n                    setTimeout(function () {\n                        if (_this.isInitialized()) {\n                            var index = ~~key;\n                            switch (action) {\n                                case \"activate\":\n                                    _this._pages[index] && _this._pages[index].activate();\n                                    break;\n                                case \"hide\":\n                                    _this._pages[index] && _this._pages[index].hide();\n                                    break;\n                                case \"inactivate\":\n                                    console.warn(TAG + \"unexpected operation: inactivate\");\n                                    break;\n                                default:\n                                    console.warn(TAG + \"unknown operation: \" + targets[key]);\n                                    break;\n                            }\n                        }\n                    }, 0);\n                });\n                // 更新後に使用しなかった DOM を削除\n                this.findRecycleElements().remove();\n                this._lastActivePageContext.from = this._pages[currentPageIndex].getLineProfileFirst() ?\n                    this._pages[currentPageIndex].getLineProfileFirst().index : 0;\n                this._lastActivePageContext.to = this._pages[currentPageIndex].getLineProfileLast() ?\n                    this._pages[currentPageIndex].getLineProfileLast().index : 0;\n                this._lastActivePageContext.index = currentPageIndex;\n            };\n            //! 未アサインページを構築\n            ScrollManager.prototype.update = function () {\n                var index = this._pages.length;\n                this.assignPage(index);\n                this.refresh();\n            };\n            //! ページアサインを再構成\n            ScrollManager.prototype.rebuild = function () {\n                this.clearPage();\n                this.assignPage();\n                this.refresh();\n            };\n            //! 管轄データを破棄\n            ScrollManager.prototype.release = function () {\n                this._lines.forEach(function (line) {\n                    line.inactivate();\n                });\n                this._pages = [];\n                this._lines = [];\n                if (this._$map) {\n                    this._mapHeight = 0;\n                    this._$map.height(0);\n                }\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IListView Backup / Restore\n            //! 内部データをバックアップ\n            ScrollManager.prototype.backup = function (key) {\n                if (null == this._backup[key]) {\n                    this._backup[key] = {\n                        lines: this._lines,\n                    };\n                }\n                return true;\n            };\n            //! 内部データをリストア\n            ScrollManager.prototype.restore = function (key, rebuild) {\n                if (rebuild === void 0) { rebuild = true; }\n                if (null == this._backup[key]) {\n                    return false;\n                }\n                if (0 < this._lines.length) {\n                    this.release();\n                }\n                this._addLine(this._backup[key].lines);\n                if (rebuild) {\n                    this.rebuild();\n                }\n                return true;\n            };\n            //! バックアップデータの有無\n            ScrollManager.prototype.hasBackup = function (key) {\n                if (null != this._backup[key]) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            };\n            //! バックアップデータの破棄\n            ScrollManager.prototype.clearBackup = function (key) {\n                if (null == key) {\n                    this._backup = {};\n                    return true;\n                }\n                else if (null != this._backup[key]) {\n                    delete this._backup[key];\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            };\n            Object.defineProperty(ScrollManager.prototype, \"backupData\", {\n                //! バックアップデータにアクセス\n                get: function () {\n                    return this._backup;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IListView Scroll\n            //! スクロールイベントハンドラ設定/解除\n            ScrollManager.prototype.setScrollHandler = function (handler, on) {\n                if (this._scroller) {\n                    if (on) {\n                        this._scroller.on(\"scroll\", handler);\n                    }\n                    else {\n                        this._scroller.off(\"scroll\", handler);\n                    }\n                }\n            };\n            //! スクロール終了イベントハンドラ設定/解除\n            ScrollManager.prototype.setScrollStopHandler = function (handler, on) {\n                if (this._scroller) {\n                    if (on) {\n                        this._scroller.on(\"scrollstop\", handler);\n                    }\n                    else {\n                        this._scroller.off(\"scrollstop\", handler);\n                    }\n                }\n            };\n            //! スクロール位置を取得\n            ScrollManager.prototype.getScrollPos = function () {\n                return this._scroller ? this._scroller.getPos() : 0;\n            };\n            //! スクロール位置の最大値を取得\n            ScrollManager.prototype.getScrollPosMax = function () {\n                return this._scroller ? this._scroller.getPosMax() : 0;\n            };\n            //! スクロール位置を指定\n            ScrollManager.prototype.scrollTo = function (pos, animate, time) {\n                if (this._scroller) {\n                    if (pos < 0) {\n                        console.warn(TAG + \"invalid position, too small. [pos: \" + pos + \"]\");\n                        pos = 0;\n                    }\n                    else if (this._scroller.getPosMax() < pos) {\n                        console.warn(TAG + \"invalid position, too big. [pos: \" + pos + \"]\");\n                        pos = this._scroller.getPosMax();\n                    }\n                    // pos のみ先駆けて更新\n                    this._lastActivePageContext.pos = pos;\n                    if (pos !== this._scroller.getPos()) {\n                        this._scroller.scrollTo(pos, animate, time);\n                    }\n                }\n            };\n            //! 指定された ListItemView の表示を保証\n            ScrollManager.prototype.ensureVisible = function (index, options) {\n                var _this = this;\n                if (index < 0 || this._lines.length <= index) {\n                    console.warn(TAG + \"ensureVisible(), invalid index, noop. [index: \" + index + \"]\");\n                    return;\n                }\n                else if (!this._scroller) {\n                    console.warn(TAG + \"scroller is not ready.\");\n                    return;\n                }\n                (function () {\n                    var target = _this._lines[index];\n                    var defaultOptions = {\n                        partialOK: true,\n                        setTop: false,\n                        animate: _this._settings.enableAnimation,\n                        time: _this._settings.animationDuration,\n                        callback: function () { },\n                    };\n                    var operation = $.extend({}, defaultOptions, options);\n                    var currentScope = {\n                        from: _this._scroller.getPos(),\n                        to: _this._scroller.getPos() + _this._baseHeight,\n                    };\n                    var targetScope = {\n                        from: target.offset,\n                        to: target.offset + target.height,\n                    };\n                    var isInScope = function () {\n                        if (operation.partialOK) {\n                            if (targetScope.from <= currentScope.from) {\n                                if (currentScope.from <= targetScope.to) {\n                                    return true;\n                                }\n                                else {\n                                    return false;\n                                }\n                            }\n                            else {\n                                if (targetScope.from <= currentScope.to) {\n                                    return true;\n                                }\n                                else {\n                                    return false;\n                                }\n                            }\n                        }\n                        else {\n                            if (currentScope.from <= targetScope.from && targetScope.to <= currentScope.to) {\n                                return true;\n                            }\n                            else {\n                                return false;\n                            }\n                        }\n                    };\n                    var detectPosition = function () {\n                        if (targetScope.from < currentScope.from) {\n                            return targetScope.from;\n                        }\n                        else if (currentScope.from < targetScope.from) {\n                            return target.offset - target.height; // bottom 合わせは情報不足により不可\n                        }\n                        else {\n                            console.warn(TAG + \"logic error.\");\n                            return 0;\n                        }\n                    };\n                    var pos;\n                    if (operation.setTop) {\n                        pos = targetScope.from;\n                    }\n                    else if (isInScope()) {\n                        // noop.\n                        operation.callback();\n                        return;\n                    }\n                    else {\n                        pos = detectPosition();\n                    }\n                    // 補正\n                    if (pos < 0) {\n                        pos = 0;\n                    }\n                    else if (_this._scroller.getPosMax() < pos) {\n                        pos = _this._scroller.getPosMax();\n                    }\n                    setTimeout(operation.callback, operation.time);\n                    _this.scrollTo(pos, operation.animate, operation.time);\n                })();\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // implements: IListViewFramework:\n            //! Scroll Map の高さを取得\n            ScrollManager.prototype.getScrollMapHeight = function () {\n                return this._$map ? this._mapHeight : 0;\n            };\n            //! Scroll Map の高さを更新. framework が使用する.\n            ScrollManager.prototype.updateScrollMapHeight = function (delta) {\n                if (this._$map) {\n                    this._mapHeight += delta;\n                    // for fail safe.\n                    if (this._mapHeight < 0) {\n                        this._mapHeight = 0;\n                    }\n                    this._$map.height(this._mapHeight);\n                }\n            };\n            //! 内部 Profile の更新. framework が使用する.\n            ScrollManager.prototype.updateProfiles = function (from) {\n                var i, n;\n                var last;\n                for (i = from, n = this._lines.length; i < n; i++) {\n                    if (0 < i) {\n                        last = this._lines[i - 1];\n                        this._lines[i].index = last.index + 1;\n                        this._lines[i].offset = last.offset + last.height;\n                    }\n                    else {\n                        this._lines[i].index = 0;\n                        this._lines[i].offset = 0;\n                    }\n                }\n            };\n            //! Scroll Map Element を取得. framework が使用する.\n            ScrollManager.prototype.getScrollMapElement = function () {\n                return this._$map || $(\"\");\n            };\n            //! リサイクル可能な Element を取得. framework が使用する.\n            ScrollManager.prototype.findRecycleElements = function () {\n                return this._$map ? this._$map.find(_Config.RECYCLE_CLASS_SELECTOR) : $(\"\");\n            };\n            //! ListViewOptions を取得. framework が使用する.\n            ScrollManager.prototype.getListViewOptions = function () {\n                return this._settings;\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // private method:\n            //! Scroller 用環境設定\n            ScrollManager.prototype.setScrollerCondition = function () {\n                this._scroller.on(\"scroll\", this._scrollEventHandler);\n                this._scroller.on(\"scrollstop\", this._scrollStopEventHandler);\n            };\n            //! Scroller 用環境破棄\n            ScrollManager.prototype.resetScrollerCondition = function () {\n                this._scroller.off(\"scrollstop\", this._scrollStopEventHandler);\n                this._scroller.off(\"scroll\", this._scrollEventHandler);\n            };\n            //! 既定の Scroller オブジェクトの作成\n            ScrollManager.prototype.createScroller = function () {\n                return this._settings.scrollerFactory(this._$root[0], this._settings);\n            };\n            //! 現在の Page Index を取得\n            ScrollManager.prototype.getPageIndex = function () {\n                var _this = this;\n                var i, n;\n                var page;\n                var candidate;\n                var scrollPos = this._scroller ? this._scroller.getPos() : 0;\n                var scrollPosMax = this._scroller ? this._scroller.getPosMax() : 0;\n                var scrollMapSize = (function () {\n                    var lastPage = _this.getLastPage();\n                    if (null != lastPage) {\n                        return lastPage.offset + lastPage.height;\n                    }\n                    else {\n                        return _this._baseHeight;\n                    }\n                })();\n                var pos = (function () {\n                    if (0 === scrollPosMax || scrollPosMax <= _this._baseHeight) {\n                        return 0;\n                    }\n                    else {\n                        return scrollPos * scrollMapSize / scrollPosMax;\n                    }\n                })();\n                var validRange = function (_page) {\n                    if (null == _page) {\n                        return false;\n                    }\n                    else if (_page.offset <= pos && pos <= _page.offset + _page.height) {\n                        return true;\n                    }\n                    else {\n                        return false;\n                    }\n                };\n                if (this._baseHeight <= 0) {\n                    console.error(TAG + \"invalid base height: \" + this._baseHeight);\n                    return 0;\n                }\n                candidate = Math.floor(pos / this._baseHeight);\n                if (this._pages.length <= candidate) {\n                    candidate = this._pages.length - 1;\n                }\n                page = this._pages[candidate];\n                if (validRange(page)) {\n                    return page.index;\n                }\n                else if (pos < page.offset) {\n                    for (i = candidate - 1; i >= 0; i--) {\n                        page = this._pages[i];\n                        if (validRange(page)) {\n                            return page.index;\n                        }\n                    }\n                    console.warn(TAG + \"unknown page index.\");\n                    return 0;\n                }\n                else {\n                    for (i = candidate + 1, n = this._pages.length; i < n; i++) {\n                        page = this._pages[i];\n                        if (validRange(page)) {\n                            return page.index;\n                        }\n                    }\n                    console.warn(TAG + \"unknown page index.\");\n                    return this._pages.length - 1;\n                }\n            };\n            /**\n             * スクロールイベント\n             *\n             * @param pos {Number} [in] スクロールポジション\n             */\n            ScrollManager.prototype.onScroll = function (pos) {\n                if (this._active && 0 < this._pages.length) {\n                    var currentPageIndex = this.getPageIndex();\n                    // TODO: 調整\n                    if (_Utils.abs(pos - this._lastActivePageContext.pos) < this._settings.scrollRefreshDistance) {\n                        if (this._lastActivePageContext.index !== currentPageIndex) {\n                            this.refresh();\n                        }\n                    }\n                    this._lastActivePageContext.pos = pos;\n                }\n            };\n            /**\n             * スクロール停止イベント\n             *\n             * @param pos {Number} [in] スクロールポジション\n             */\n            ScrollManager.prototype.onScrollStop = function (pos) {\n                if (this._active && 0 < this._pages.length) {\n                    var currentPageIndex = this.getPageIndex();\n                    if (this._lastActivePageContext.index !== currentPageIndex) {\n                        this.refresh();\n                    }\n                    this._lastActivePageContext.pos = pos;\n                }\n            };\n            //! 最後のページを取得\n            ScrollManager.prototype.getLastPage = function () {\n                if (0 < this._pages.length) {\n                    return this._pages[this._pages.length - 1];\n                }\n                else {\n                    return null;\n                }\n            };\n            /**\n             * ページ区分のアサイン\n             *\n             * @param from {Number} [in] page index を指定\n             */\n            ScrollManager.prototype.assignPage = function (from) {\n                var _this = this;\n                var i, n;\n                if (null == from) {\n                    from = 0;\n                }\n                else {\n                    this.clearPage(from);\n                }\n                (function () {\n                    var lineIndex = 0;\n                    var lastPage = _this.getLastPage();\n                    var lastLine;\n                    var tempPage;\n                    if (null == lastPage) {\n                        lastPage = new UI.PageProfile();\n                        _this._pages.push(lastPage);\n                    }\n                    else {\n                        lastLine = lastPage.getLineProfileLast();\n                        if (null != lastLine) {\n                            lineIndex = lastLine.index + 1;\n                        }\n                    }\n                    var asignee = _this._lines.slice(lineIndex);\n                    for (i = 0, n = asignee.length; i < n; i++) {\n                        if (_this._baseHeight <= lastPage.height) {\n                            lastPage.normalize();\n                            tempPage = lastPage;\n                            tempPage = new UI.PageProfile();\n                            tempPage.index = lastPage.index + 1;\n                            tempPage.offset = lastPage.offset + lastPage.height;\n                            lastPage = tempPage;\n                            _this._pages.push(lastPage);\n                        }\n                        asignee[i].pageIndex = lastPage.index;\n                        lastPage.push(asignee[i]);\n                    }\n                    lastPage.normalize();\n                })();\n                if (this._scroller) {\n                    this._scroller.update();\n                }\n            };\n            /**\n             * ページ区分の解除\n             *\n             * @param from {Number} [in] page index を指定\n             */\n            ScrollManager.prototype.clearPage = function (from) {\n                if (null == from) {\n                    from = 0;\n                }\n                this._pages = this._pages.slice(0, from);\n            };\n            return ScrollManager;\n        }());\n        UI.ScrollManager = ScrollManager;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var TAG = \"[CDP.UI.ListView] \";\n        /**\n         * @class ListView\n         * @brief メモリ管理機能を提供する仮想リストビュークラス\n         */\n        var ListView = (function (_super) {\n            __extends(ListView, _super);\n            /**\n             * constructor\n             *\n             * @param options {ListViewConstructOptions} [in] オプション\n             */\n            function ListView(options) {\n                var _this = _super.call(this, options) || this;\n                _this._scrollMgr = null; //!< scroll コアロジック\n                var opt = options || {};\n                _this._scrollMgr = new UI.ScrollManager(options);\n                if (opt.$el) {\n                    var delegates = _this.events ? true : false;\n                    _this.setElement(opt.$el, delegates);\n                }\n                else {\n                    var height = opt.initialHeight || _this.$el.height();\n                    _this._scrollMgr.initialize(_this.$el, height);\n                }\n                return _this;\n            }\n            ListView.prototype.setElement = function (element, delegate) {\n                if (this._scrollMgr) {\n                    var $el = $(element);\n                    this._scrollMgr.destroy();\n                    this._scrollMgr.initialize($el, $el.height());\n                }\n                return _super.prototype.setElement.call(this, element, delegate);\n            };\n            //! 破棄\n            ListView.prototype.remove = function () {\n                this._scrollMgr.destroy();\n                return _super.prototype.remove.call(this);\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IListView Profile 管理\n            //! 初期化済みか判定\n            ListView.prototype.isInitialized = function () {\n                return this._scrollMgr.isInitialized();\n            };\n            //! プロパティを指定して、LineProfile を管理\n            ListView.prototype.addItem = function (height, initializer, info, insertTo) {\n                this._addLine(new UI.LineProfile(this._scrollMgr, Math.floor(height), initializer, info), insertTo);\n            };\n            ListView.prototype.removeItem = function (index, arg2, arg3) {\n                this._scrollMgr.removeItem(index, arg2, arg3);\n            };\n            ListView.prototype.getItemInfo = function (target) {\n                return this._scrollMgr.getItemInfo(target);\n            };\n            //! アクティブページを更新\n            ListView.prototype.refresh = function () {\n                this._scrollMgr.refresh();\n            };\n            //! 未アサインページを構築\n            ListView.prototype.update = function () {\n                this._scrollMgr.update();\n            };\n            //! ページアサインを再構成\n            ListView.prototype.rebuild = function () {\n                this._scrollMgr.rebuild();\n            };\n            //! 管轄データを破棄\n            ListView.prototype.release = function () {\n                this._scrollMgr.release();\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IListView Profile Backup / Restore\n            //! 内部データをバックアップ\n            ListView.prototype.backup = function (key) {\n                return this._scrollMgr.backup(key);\n            };\n            //! 内部データをリストア\n            ListView.prototype.restore = function (key, rebuild) {\n                if (rebuild === void 0) { rebuild = true; }\n                return this._scrollMgr.restore(key, rebuild);\n            };\n            //! バックアップデータの有無\n            ListView.prototype.hasBackup = function (key) {\n                return this._scrollMgr.hasBackup(key);\n            };\n            //! バックアップデータの破棄\n            ListView.prototype.clearBackup = function (key) {\n                return this._scrollMgr.clearBackup(key);\n            };\n            Object.defineProperty(ListView.prototype, \"backupData\", {\n                //! バックアップデータにアクセス\n                get: function () {\n                    return this._scrollMgr ? this._scrollMgr.backupData : null;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IListView Scroll\n            //! スクロールイベントハンドラ設定/解除\n            ListView.prototype.setScrollHandler = function (handler, on) {\n                this._scrollMgr.setScrollHandler(handler, on);\n            };\n            //! スクロール終了イベントハンドラ設定/解除\n            ListView.prototype.setScrollStopHandler = function (handler, on) {\n                this._scrollMgr.setScrollStopHandler(handler, on);\n            };\n            //! スクロール位置を取得\n            ListView.prototype.getScrollPos = function () {\n                return this._scrollMgr.getScrollPos();\n            };\n            //! スクロール位置の最大値を取得\n            ListView.prototype.getScrollPosMax = function () {\n                return this._scrollMgr.getScrollPosMax();\n            };\n            //! スクロール位置を指定\n            ListView.prototype.scrollTo = function (pos, animate, time) {\n                this._scrollMgr.scrollTo(pos, animate, time);\n            };\n            //! 指定された ListItemView の表示を保証\n            ListView.prototype.ensureVisible = function (index, options) {\n                this._scrollMgr.ensureVisible(index, options);\n            };\n            Object.defineProperty(ListView.prototype, \"core\", {\n                ///////////////////////////////////////////////////////////////////////\n                // Implements: IListView Properties\n                //! core framework access\n                get: function () {\n                    return this._scrollMgr;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IListView Internal I/F\n            //! 登録 framework が使用する\n            ListView.prototype._addLine = function (_line, insertTo) {\n                this._scrollMgr._addLine(_line, insertTo);\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IComposableView\n            /**\n             * すでに定義された Backbone.View を基底クラスに設定し、extend を実行する。\n             *\n             * @param derives         {Backbone.View|Backbone.View[]} [in] 合成元の View クラス\n             * @param properties      {Object}                        [in] prototype プロパティ\n             * @param classProperties {Object}                        [in] static プロパティ\n             * @return {Backbone.View|Backbone.View[]} 新規に生成された View のコンストラクタ\n             */\n            ListView.compose = function (derives, properties, classProperties) {\n                var composed = UI.composeViews(ListView, derives);\n                return composed.extend(properties, classProperties);\n            };\n            return ListView;\n        }(Backbone.View));\n        UI.ListView = ListView;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var TAG = \"[CDP.UI.GroupListItemView] \";\n        /**\n         * @class GroupListItemView\n         * @brief ExpandableListView が扱う ListItem コンテナクラス\n         */\n        var GroupListItemView = (function (_super) {\n            __extends(GroupListItemView, _super);\n            /**\n             * constructor\n             *\n             * @param options {GroupLineViewOptions} [in] オプション\n             */\n            function GroupListItemView(options) {\n                var _this = _super.call(this, options) || this;\n                _this._groupProfile = null; //!< 管轄の GroupProfile\n                _this._groupProfile = options.groupProfile;\n                return _this;\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // protected methods\n            /**\n             * 展開状態を判定\n             *\n             * @return {Boolean} true: 展開, false:収束\n             */\n            GroupListItemView.prototype.isExpanded = function () {\n                return this._groupProfile.isExpanded();\n            };\n            //! 展開中か判定\n            GroupListItemView.prototype.isExpanding = function () {\n                return this.owner.isExpanding();\n            };\n            //! 収束中か判定\n            GroupListItemView.prototype.isCollapsing = function () {\n                return this.owner.isCollapsing();\n            };\n            //! 開閉中か判定\n            GroupListItemView.prototype.isSwitching = function () {\n                return this.owner.isSwitching();\n            };\n            //! 子 Group を持っているか判定\n            GroupListItemView.prototype.hasChildren = function (layoutKey) {\n                return this._groupProfile.hasChildren(layoutKey);\n            };\n            return GroupListItemView;\n        }(UI.ListItemView));\n        UI.GroupListItemView = GroupListItemView;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\n/* tslint:disable:no-bitwise */\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var TAG = \"[CDP.UI.ExpandManager] \";\n        /**\n         * @class ExpandManager\n         * @brief 開閉状態管理クラス\n         */\n        var ExpandManager = (function () {\n            /**\n             * constructor\n             *\n             * @param owner {BaseExpandableListView} [in] 親View のインスタンス\n             */\n            function ExpandManager(owner) {\n                this._owner = null;\n                this._mapGroups = {}; //!< {id, GroupProfile} の map\n                this._aryTopGroups = []; //!< 第1階層 GroupProfile を格納\n                this._layoutKey = null;\n                this._owner = owner;\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IExpandManager\n            /**\n             * 新規 GroupProfile を作成\n             * 登録済みの場合はそのオブジェクトを返却\n             *\n             * @parma id {String} [in] 新規に作成する Group ID を指定. 指定しない場合は自動割り振り\n             * @return {GroupProfile} GroupProfile インスタンス\n             */\n            ExpandManager.prototype.newGroup = function (id) {\n                var group;\n                if (null == id) {\n                    id = \"group-id:\" + (\"0000\" + (Math.random() * Math.pow(36, 4) << 0).toString(36)).slice(-4);\n                }\n                if (null != this._mapGroups[id]) {\n                    return this._mapGroups[id];\n                }\n                group = new UI.GroupProfile(id, this._owner);\n                this._mapGroups[id] = group;\n                return group;\n            };\n            /**\n             * 登録済み Group を取得\n             *\n             * @parma id {String} [in] 取得する Group ID を指定\n             * @return {GroupProfile} GroupProfile インスタンス / null\n             */\n            ExpandManager.prototype.getGroup = function (id) {\n                if (null == this._mapGroups[id]) {\n                    console.warn(TAG + \"group id: \" + id + \" is not registered.\");\n                    return null;\n                }\n                return this._mapGroups[id];\n            };\n            /**\n             * 第1階層の Group 登録\n             *\n             * @param topGroup {GroupProfile} [in] 構築済み GroupProfile インスタンス\n             */\n            ExpandManager.prototype.registerTopGroup = function (topGroup) {\n                var lastGroup;\n                var insertTo;\n                // すでに登録済みの場合は restore して layout キーごとに復元する。\n                if (\"registered\" === topGroup.status) {\n                    // TODO: orientation changed 時の layout キー変更対応だが、キーに変更が無いときは不具合となる。\n                    // この API に実装が必要かも含めて見直しが必要\n                    topGroup.restore();\n                    return;\n                }\n                lastGroup = (0 < this._aryTopGroups.length) ? this._aryTopGroups[this._aryTopGroups.length - 1] : null;\n                insertTo = (null != lastGroup) ? lastGroup.getLastLineIndex(true) + 1 : 0;\n                if (_.isNaN(insertTo)) {\n                    console.error(TAG + \"logic error, 'insertTo' is NaN.\");\n                    return;\n                }\n                this._aryTopGroups.push(topGroup);\n                topGroup.register(insertTo);\n            };\n            /**\n             * 第1階層の Group を取得\n             * コピー配列が返されるため、クライアントはキャッシュ不可\n             *\n             * @return {GroupProfile[]} GroupProfile 配列\n             */\n            ExpandManager.prototype.getTopGroups = function () {\n                return this._aryTopGroups.slice(0);\n            };\n            //! すべてのグループを展開 (1階層)\n            ExpandManager.prototype.expandAll = function () {\n                this._aryTopGroups.forEach(function (group) {\n                    if (group.hasChildren()) {\n                        group.expand();\n                    }\n                });\n            };\n            //! すべてのグループを収束 (1階層)\n            ExpandManager.prototype.collapseAll = function (delay) {\n                this._aryTopGroups.forEach(function (group) {\n                    if (group.hasChildren()) {\n                        group.collapse(delay);\n                    }\n                });\n            };\n            //! 展開中か判定\n            ExpandManager.prototype.isExpanding = function () {\n                return this._owner.isStatusIn(\"expanding\");\n            };\n            //! 収束中か判定\n            ExpandManager.prototype.isCollapsing = function () {\n                return this._owner.isStatusIn(\"collapsing\");\n            };\n            //! 開閉中か判定\n            ExpandManager.prototype.isSwitching = function () {\n                return this.isExpanding() || this.isCollapsing();\n            };\n            //! 状態変数の参照カウントのインクリメント\n            ExpandManager.prototype.statusAddRef = function (status) {\n                return this._owner.statusAddRef(status);\n            };\n            //! 状態変数の参照カウントのデクリメント\n            ExpandManager.prototype.statusRelease = function (status) {\n                return this._owner.statusRelease(status);\n            };\n            //! 処理スコープ毎に状態変数を設定\n            ExpandManager.prototype.statusScope = function (status, callback) {\n                this._owner.statusScope(status, callback);\n            };\n            //! 指定した状態中であるか確認\n            ExpandManager.prototype.isStatusIn = function (status) {\n                return this._owner.isStatusIn(status);\n            };\n            Object.defineProperty(ExpandManager.prototype, \"layoutKey\", {\n                //! layout key を取得\n                get: function () {\n                    return this._layoutKey;\n                },\n                //! layout key を設定\n                set: function (key) {\n                    this._layoutKey = key;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            //! データを破棄\n            ExpandManager.prototype.release = function () {\n                this._mapGroups = {};\n                this._aryTopGroups = [];\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // Implementes: IBackupRestore\n            /**\n             * 内部データをバックアップ\n             *\n             * @param key {String} [in] バックアップキーを指定\n             * @return {Boolean} true: 成功 / false: 失敗\n             */\n            ExpandManager.prototype.backup = function (key) {\n                var _backup = this.backupData;\n                if (null == _backup[key]) {\n                    _backup[key] = {\n                        map: this._mapGroups,\n                        tops: this._aryTopGroups,\n                    };\n                }\n                return true;\n            };\n            /**\n             * 内部データをリストア\n             *\n             * @param key     {String}  [in] バックアップキーを指定\n             * @param rebuild {Boolean} [in] rebuild を実行する場合は true を指定\n             * @return {Boolean} true: 成功 / false: 失敗\n             */\n            ExpandManager.prototype.restore = function (key, rebuild) {\n                if (rebuild === void 0) { rebuild = true; }\n                var _backup = this.backupData;\n                if (null == _backup[key]) {\n                    return false;\n                }\n                if (0 < this._aryTopGroups.length) {\n                    this.release();\n                }\n                this._mapGroups = _backup[key].map;\n                this._aryTopGroups = _backup[key].tops;\n                // layout 情報の確認\n                if (this._aryTopGroups.length <= 0 || !this._aryTopGroups[0].hasLayoutKeyOf(this.layoutKey)) {\n                    return false;\n                }\n                // 展開しているものを登録\n                this._aryTopGroups.forEach(function (group) {\n                    group.restore();\n                });\n                // 再構築の予約\n                if (rebuild) {\n                    this._owner.rebuild();\n                }\n                return true;\n            };\n            //! バックアップデータの有無\n            ExpandManager.prototype.hasBackup = function (key) {\n                return this._owner.hasBackup(key);\n            };\n            //! バックアップデータの破棄\n            ExpandManager.prototype.clearBackup = function (key) {\n                return this._owner.clearBackup(key);\n            };\n            Object.defineProperty(ExpandManager.prototype, \"backupData\", {\n                //! バックアップデータにアクセス\n                get: function () {\n                    return this._owner.backupData;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            return ExpandManager;\n        }());\n        UI.ExpandManager = ExpandManager;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var TAG = \"[CDP.UI.ExpandableListView] \";\n        /**\n         * @class ExpandableListView\n         * @brief 開閉機能を備えた仮想リストビュークラス\n         */\n        var ExpandableListView = (function (_super) {\n            __extends(ExpandableListView, _super);\n            /**\n             * constructor\n             *\n             * @param options {ListViewConstructOptions} [in] オプション\n             */\n            function ExpandableListView(options) {\n                var _this = _super.call(this, options) || this;\n                _this._statusMgr = null;\n                _this._expandManager = null;\n                _this._statusMgr = new UI.StatusManager();\n                _this._expandManager = new UI.ExpandManager(_this);\n                return _this;\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IExpandableListView\n            //! 新規 GroupProfile を作成\n            ExpandableListView.prototype.newGroup = function (id) {\n                return this._expandManager.newGroup(id);\n            };\n            //! 登録済み Group を取得\n            ExpandableListView.prototype.getGroup = function (id) {\n                return this._expandManager.getGroup(id);\n            };\n            //! 第1階層の Group 登録\n            ExpandableListView.prototype.registerTopGroup = function (topGroup) {\n                this._expandManager.registerTopGroup(topGroup);\n            };\n            //! 第1階層の Group を取得\n            ExpandableListView.prototype.getTopGroups = function () {\n                return this._expandManager.getTopGroups();\n            };\n            //! すべてのグループを展開 (1階層)\n            ExpandableListView.prototype.expandAll = function () {\n                this._expandManager.expandAll();\n            };\n            //! すべてのグループを収束 (1階層)\n            ExpandableListView.prototype.collapseAll = function (delay) {\n                this._expandManager.collapseAll(delay);\n            };\n            //! 展開中か判定\n            ExpandableListView.prototype.isExpanding = function () {\n                return this._expandManager.isExpanding();\n            };\n            //! 収束中か判定\n            ExpandableListView.prototype.isCollapsing = function () {\n                return this._expandManager.isCollapsing();\n            };\n            //! 開閉中か判定\n            ExpandableListView.prototype.isSwitching = function () {\n                return this._expandManager.isSwitching();\n            };\n            //! 状態変数の参照カウントのインクリメント\n            ExpandableListView.prototype.statusAddRef = function (status) {\n                return this._statusMgr.statusAddRef(status);\n            };\n            //! 状態変数の参照カウントのデクリメント\n            ExpandableListView.prototype.statusRelease = function (status) {\n                return this._statusMgr.statusRelease(status);\n            };\n            //! 処理スコープ毎に状態変数を設定\n            ExpandableListView.prototype.statusScope = function (status, callback) {\n                this._statusMgr.statusScope(status, callback);\n            };\n            //! 指定した状態中であるか確認\n            ExpandableListView.prototype.isStatusIn = function (status) {\n                return this._statusMgr.isStatusIn(status);\n            };\n            Object.defineProperty(ExpandableListView.prototype, \"layoutKey\", {\n                //! layout key を取得\n                get: function () {\n                    return this._expandManager.layoutKey;\n                },\n                //! layout key を設定\n                set: function (key) {\n                    this._expandManager.layoutKey = key;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            ///////////////////////////////////////////////////////////////////////\n            // Override: ListView\n            //! データを破棄\n            ExpandableListView.prototype.release = function () {\n                _super.prototype.release.call(this);\n                this._expandManager.release();\n            };\n            //! 内部データをバックアップ\n            ExpandableListView.prototype.backup = function (key) {\n                return this._expandManager.backup(key);\n            };\n            //! 内部データをリストア\n            ExpandableListView.prototype.restore = function (key, rebuild) {\n                if (rebuild === void 0) { rebuild = true; }\n                return this._expandManager.restore(key, rebuild);\n            };\n            return ExpandableListView;\n        }(UI.ListView));\n        UI.ExpandableListView = ExpandableListView;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\n\nreturn CDP.UI; }));\n/*!\n * cdp.ui.jqm.js 2.0.0\n *\n * Date: 2017-07-04T09:00:07.927Z\n */\n(function (root, factory) { if (typeof define === \"function\" && define.amd) { define(\"cdp.ui.jqm\",[\"cdp.framework.jqm\", \"cdp.tools\", \"cdp.ui.listview\"], function () { return factory(root.CDP || (root.CDP = {})); }); } else { factory(root.CDP || (root.CDP = {})); } }(this, function (CDP) { CDP.UI = CDP.UI || {};\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var Config = CDP.Config;\n        var Framework = CDP.Framework;\n        //__________________________________________________________________________________________________________//\n        /**\n         * @class Theme\n         * @brief UI Theme 設定を行うユーティリティクラス\n         */\n        var Theme = (function () {\n            function Theme() {\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // public static methods:\n            /**\n             * 現在指定されている UI Platform を取得\n             *\n             * @return {String} ex) \"ios\"\n             */\n            Theme.getCurrentUIPlatform = function () {\n                var $htms = $(\"html\");\n                for (var i = 0, n = this.s_platforms.length; i < n; i++) {\n                    if ($htms.hasClass(\"ui-platform-\" + this.s_platforms[i])) {\n                        return this.s_platforms[i];\n                    }\n                }\n                return null;\n            };\n            /**\n             * UI Platform を設定\n             *\n             * @return {String} true: 成功 / false: 失敗\n             */\n            Theme.setCurrentUIPlatform = function (platform) {\n                if (null == platform || this.s_platforms.indexOf(platform) >= 0) {\n                    var $htms_1 = $(\"html\");\n                    this.s_platforms.forEach(function (target) {\n                        $htms_1.removeClass(\"ui-platform-\" + target);\n                    });\n                    if (platform) {\n                        $htms_1.addClass(\"ui-platform-\" + platform);\n                    }\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            };\n            /**\n             * 現在の Platform を判定し最適な platform を自動決定\n             *\n             * @return {String} ex) \"ios\"\n             */\n            Theme.detectUIPlatform = function () {\n                // platform の設定\n                if (Framework.Platform.iOS) {\n                    $(\"html\").addClass(\"ui-platform-ios\");\n                }\n                else {\n                    $(\"html\").addClass(\"ui-platform-android\");\n                }\n                // PC デバッグ環境ではスクロールバーを表示\n                if (Config.DEBUG && !Framework.Platform.Mobile) {\n                    $(\"body\").css(\"overflow-y\", \"scroll\");\n                }\n            };\n            /**\n             * platform を配列で設定\n             * 上書きされる\n             *\n             * @param {String[]} platforms [in] OS ex): [\"ios\", \"android\"]\n             */\n            Theme.setUIPlatforms = function (platforms) {\n                if (platforms) {\n                    this.s_platforms = platforms;\n                }\n            };\n            /**\n             * page transition を設定\n             * 上書きされる\n             *\n             * @param {TransitionMap} map [in] TransitionMap を指定\n             */\n            Theme.setPageTransitionMap = function (map) {\n                if (map) {\n                    this.s_pageTransitionMap = map;\n                }\n            };\n            /**\n             * dialog transition を設定\n             * 上書きされる\n             *\n             * @param {TransitionMap} map [in] TransitionMap を指定\n             */\n            Theme.setDialogTransitionMap = function (map) {\n                if (map) {\n                    this.s_dialogTransitionMap = map;\n                }\n            };\n            /**\n             * page transition を取得\n             * TransitionMap にアサインされているものであれば変換\n             *\n             * @return {String[]} \"slide\"\n             */\n            Theme.queryPageTransition = function (original) {\n                var convert = this.s_pageTransitionMap[original];\n                if (convert) {\n                    return convert[this.getCurrentUIPlatform()] || convert.fallback;\n                }\n                else {\n                    return original;\n                }\n            };\n            /**\n             * dialog transition を取得\n             * TransitionMap にアサインされているものであれば変換\n             *\n             * @return {String[]} \"slide\"\n             */\n            Theme.queryDialogTransition = function (original) {\n                var convert = this.s_dialogTransitionMap[original];\n                if (convert) {\n                    return convert[this.getCurrentUIPlatform()] || convert.fallback;\n                }\n                else {\n                    return original;\n                }\n            };\n            Theme.s_platforms = [\"ios\", \"android\"];\n            Theme.s_pageTransitionMap = {\n                \"platform-default\": {\n                    ios: \"slide\",\n                    android: \"floatup\",\n                    fallback: \"slide\",\n                },\n                \"platform-alternative\": {\n                    ios: \"slideup\",\n                    android: \"floatup\",\n                    fallback: \"slideup\",\n                },\n            };\n            Theme.s_dialogTransitionMap = {\n                \"platform-default\": {\n                    ios: \"popzoom\",\n                    android: \"crosszoom\",\n                    fallback: \"none\",\n                },\n            };\n            return Theme;\n        }());\n        UI.Theme = Theme;\n        //__________________________________________________________________________________________________________//\n        // jquey.mobile.changePage() の Hook.\n        function applyCustomChangePage() {\n            var jqmChangePage = _.bind($.mobile.changePage, $.mobile);\n            function customChangePage(to, options) {\n                if (_.isString(to)) {\n                    if (options && options.transition) {\n                        options.transition = Theme.queryPageTransition(options.transition);\n                    }\n                }\n                jqmChangePage(to, options);\n            }\n            $.mobile.changePage = customChangePage;\n        }\n        // framework 初期化後に適用\n        Framework.waitForInitialize()\n            .done(function () {\n            applyCustomChangePage();\n        });\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        //__________________________________________________________________________________________________________//\n        /**\n         * @class ExtensionManager\n         * @brief 拡張機能を管理するユーティリティクラス\n         */\n        var ExtensionManager = (function () {\n            function ExtensionManager() {\n            }\n            /**\n             * DOM 拡張関数の登録\n             *\n             * @param {DomExtension} func [in] DOM 拡張関数\n             */\n            ExtensionManager.registerDomExtension = function (func) {\n                this.s_domExtensions.push(func);\n            };\n            /**\n             * DOM 拡張を適用\n             *\n             * @param {jQuery} $ui       [in] 拡張対象の DOM\n             * @param {Object} [options] [in] オプション\n             */\n            ExtensionManager.applyDomExtension = function ($ui, options) {\n                this.s_domExtensions.forEach(function (func) {\n                    func($ui, options);\n                });\n            };\n            ExtensionManager.s_domExtensions = [];\n            return ExtensionManager;\n        }());\n        UI.ExtensionManager = ExtensionManager;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\n/* tslint:disable:no-bitwise */\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var TAG = \"[CDP.UI.Toast] \";\n        /**\n         * @class Toast\n         * @brief Android SDK の Toast クラスのように自動消滅するメッセージ出力ユーティリティ\n         *        入れ子の関係を実現するために module で実装\n         */\n        var Toast;\n        (function (Toast) {\n            // 表示時間の定義\n            Toast.LENGTH_SHORT = 1500; //!< 短い:1500 msec\n            Toast.LENGTH_LONG = 4000; //!< 長い:4000 msec\n            //! @enum オフセットの基準\n            var OffsetX;\n            (function (OffsetX) {\n                OffsetX[OffsetX[\"LEFT\"] = 1] = \"LEFT\";\n                OffsetX[OffsetX[\"RIGHT\"] = 2] = \"RIGHT\";\n                OffsetX[OffsetX[\"CENTER\"] = 4] = \"CENTER\";\n            })(OffsetX = Toast.OffsetX || (Toast.OffsetX = {}));\n            //! @enum オフセットの基準\n            var OffsetY;\n            (function (OffsetY) {\n                OffsetY[OffsetY[\"TOP\"] = 16] = \"TOP\";\n                OffsetY[OffsetY[\"BOTTOM\"] = 32] = \"BOTTOM\";\n                OffsetY[OffsetY[\"CENTER\"] = 64] = \"CENTER\";\n            })(OffsetY = Toast.OffsetY || (Toast.OffsetY = {}));\n            /**\n             * @class StyleBuilderDefault\n             * @brief スタイル変更時に使用する既定の構造体オブジェクト\n             */\n            var StyleBuilderDefault = (function () {\n                function StyleBuilderDefault() {\n                }\n                //! class attribute に設定する文字列を取得\n                StyleBuilderDefault.prototype.getClass = function () {\n                    return \"ui-loader ui-overlay-shadow ui-corner-all\";\n                };\n                //! style attribute に設定する JSON オブジェクトを取得\n                StyleBuilderDefault.prototype.getStyle = function () {\n                    var style = {\n                        \"padding\": \"7px 25px 7px 25px\",\n                        \"display\": \"block\",\n                        \"background-color\": \"#1d1d1d\",\n                        \"border-color\": \"#1b1b1b\",\n                        \"color\": \"#fff\",\n                        \"text-shadow\": \"0 1px 0 #111\",\n                        \"font-weight\": \"bold\",\n                        \"opacity\": 0.8,\n                    };\n                    return style;\n                };\n                //! オフセットの基準位置を取得\n                StyleBuilderDefault.prototype.getOffsetPoint = function () {\n                    return OffsetX.CENTER | OffsetY.BOTTOM;\n                };\n                //! X 座標のオフセット値を取得\n                StyleBuilderDefault.prototype.getOffsetX = function () {\n                    return 0;\n                };\n                //! Y 座標のオフセット値を取得\n                StyleBuilderDefault.prototype.getOffsetY = function () {\n                    return -75;\n                };\n                return StyleBuilderDefault;\n            }());\n            Toast.StyleBuilderDefault = StyleBuilderDefault;\n            /**\n             * Toast 表示\n             *\n             * @param message  [in] メッセージ\n             * @param duration [in] 表示時間を設定 (msec) default: LENGTH_SHORT\n             * @param style    [in] スタイル変更する場合には派生クラスオブジェクトを指定\n             */\n            function show(message, duration, style) {\n                if (duration === void 0) { duration = Toast.LENGTH_SHORT; }\n                var $mobile = $.mobile;\n                var info = style || new StyleBuilderDefault();\n                var setCSS = info.getStyle() ? true : false;\n                // 改行コードは <br/> に置換する\n                var msg = message.replace(/\\n/g, \"<br/>\");\n                // メッセージ element の動的生成\n                var html = \"<div>\" + msg + \"</div>\";\n                var box = $(html).addClass(info.getClass());\n                if (setCSS) {\n                    box.css(info.getStyle());\n                }\n                // 自動改行されてもよいように、基点を設定してから追加\n                box.css({\n                    \"top\": 0,\n                    \"left\": 0,\n                }).appendTo($mobile.pageContainer);\n                // 配置位置の決定\n                var offsetPoint = info.getOffsetPoint();\n                var $window = $(window);\n                var posX, posY;\n                var box_width = box.width() + parseInt(box.css(\"padding-left\"), 10) + parseInt(box.css(\"padding-right\"), 10);\n                var box_height = box.height() + parseInt(box.css(\"padding-top\"), 10) + parseInt(box.css(\"padding-bottom\"), 10);\n                switch (offsetPoint & 0x000F) {\n                    case OffsetX.LEFT:\n                        posX = 0 + info.getOffsetX();\n                        break;\n                    case OffsetX.RIGHT:\n                        posX = $window.width() - box_width + info.getOffsetX();\n                        break;\n                    case OffsetX.CENTER:\n                        posX = ($window.width() / 2) - (box_width / 2) + info.getOffsetX();\n                        break;\n                    default:\n                        console.warn(TAG + \"warn. unknown offsetPoint:\" + (offsetPoint & 0x000F));\n                        posX = ($window.width() / 2) - (box_width / 2) + info.getOffsetX();\n                        break;\n                }\n                switch (offsetPoint & 0x00F0) {\n                    case OffsetY.TOP:\n                        posY = 0 + info.getOffsetY();\n                        break;\n                    case OffsetY.BOTTOM:\n                        posY = $window.height() - box_height + info.getOffsetY();\n                        break;\n                    case OffsetY.CENTER:\n                        posY = ($window.height() / 2) - (box_height / 2) + info.getOffsetY();\n                        break;\n                    default:\n                        console.warn(TAG + \"warn. unknown offsetPoint:\" + (offsetPoint & 0x00F0));\n                        posY = ($window.height() / 2) - (box_height / 2) + info.getOffsetY();\n                        break;\n                }\n                // 表示\n                box.css({\n                    \"top\": posY,\n                    \"left\": posX,\n                })\n                    .delay(duration)\n                    .fadeOut(400, function () {\n                    $(this).remove();\n                });\n            }\n            Toast.show = show;\n        })(Toast = UI.Toast || (UI.Toast = {}));\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var Promise = CDP.Promise;\n        var Framework = CDP.Framework;\n        var TAG = \"[CDP.UI.Dialog] \";\n        //___________________________________________________________________________________________________________________//\n        /**\n         * @class Dialog\n         * @brief 汎用ダイアログクラス\n         *        jQM の popup widget によって実装\n         */\n        var Dialog = (function () {\n            /**\n             * constructor\n             *\n             * @param id      {String}        [in] ダイアログ DOM ID を指定 ex) #dialog-hoge\n             * @param options {DialogOptions} [in] オプション\n             */\n            function Dialog(id, options) {\n                this._template = null;\n                this._settings = null;\n                this._$dialog = null;\n                // Dialog 共通設定の初期化\n                Dialog.initCommonCondition();\n                // 設定を更新\n                this._settings = $.extend({}, Dialog.s_defaultOptions, options);\n                // ダイアログテンプレートを作成\n                this._template = CDP.Tools.Template.getJST(id, this._settings.src);\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // public methods\n            /**\n             * 表示\n             * 表示をして始めて DOM が有効になる。\n             *\n             * @param options {DialogOptions} [in] オプション (src は無視される)\n             * @return ダイアログの jQuery オブジェクト\n             */\n            Dialog.prototype.show = function (options) {\n                var _this = this;\n                var $document = $(document);\n                var $body = $(\"body\");\n                var $page = $body.pagecontainer(\"getActivePage\");\n                var ofcHidden = {\n                    \"overflow\": \"hidden\",\n                    \"overflow-x\": \"hidden\",\n                    \"overflow-y\": \"hidden\",\n                };\n                var ofcBody = {\n                    \"overflow\": $body.css(\"overflow\"),\n                    \"overflow-x\": $body.css(\"overflow-x\"),\n                    \"overflow-y\": $body.css(\"overflow-y\"),\n                };\n                var parentScrollPos = $body.scrollTop();\n                var ofcPage = {\n                    \"overflow\": $page.css(\"overflow\"),\n                    \"overflow-x\": $page.css(\"overflow-x\"),\n                    \"overflow-y\": $page.css(\"overflow-y\"),\n                };\n                var scrollEvent = \"scroll touchmove mousemove MSPointerMove\";\n                var scrollHander = function (event) {\n                    if (\"deny\" === _this._settings.scrollEvent) {\n                        event.preventDefault();\n                    }\n                    else if (\"adjust\" === _this._settings.scrollEvent) {\n                        $body.scrollTop(parentScrollPos);\n                    }\n                };\n                // option が指定されていた場合更新\n                if (null != options) {\n                    this._settings = $.extend({}, this._settings, options);\n                }\n                // afterclose 処理は Dialog の破棄処理を実装するため基本的に設定禁止 (強制上書きモードを設定使用可)\n                if (this._settings.afterclose && !this._settings.forceOverwriteAfterClose) {\n                    console.warn(TAG + \"cannot accept 'afterclose' option. please instead using 'popupafterclose' event.\");\n                    delete this._settings.afterclose;\n                }\n                // title の有無\n                this._settings._titleState = this._settings.title ? \"ui-has-title\" : \"ui-no-title\";\n                /*\n                 * template から jQuery オブジェクトを作成し、\n                 * <body> 直下に追加.\n                 * $page では Backbone event を受けられないことに注意\n                 */\n                this._$dialog = $(this._template(this._settings));\n                this._$dialog.localize();\n                $body.append(this._$dialog);\n                // theme を解決\n                this.resolveTheme();\n                this._$dialog\n                    .on(\"popupcreate\", function (event) {\n                    // スクロールを抑止\n                    if (\"allow\" !== _this._settings.scrollEvent) {\n                        $document.on(scrollEvent, scrollHander);\n                    }\n                    $body.css(ofcHidden);\n                    $page.css(ofcHidden);\n                    Dialog.register(_this);\n                })\n                    .enhanceWithin();\n                // DOM 拡張\n                if (null != this._settings.domExtensionOptions) {\n                    UI.ExtensionManager.applyDomExtension(this._$dialog, this._settings.domExtensionOptions);\n                }\n                this.onBeforeShow()\n                    .done(function () {\n                    // 表示\n                    _this._$dialog\n                        .popup($.extend({}, {\n                        positionTo: \"window\",\n                        afterclose: function (event, ui) {\n                            // スクロール状態を戻す\n                            $page.css(ofcPage);\n                            $body.css(ofcBody);\n                            if (\"allow\" !== _this._settings.scrollEvent) {\n                                $document.off(scrollEvent, scrollHander);\n                            }\n                            Dialog.register(null);\n                            _this._$dialog.remove();\n                            _this._$dialog = null;\n                        },\n                    }, _this._settings))\n                        .popup(\"open\").on(_this._settings.event, function (event) {\n                        // \"data-auto-close='false'\" が指定されている要素は dialog を閉じない\n                        var autoClose = $(event.target).attr(\"data-auto-close\");\n                        if (null == autoClose) {\n                            autoClose = _this._settings.defaultAutoClose ? \"true\" : \"false\";\n                        }\n                        if (\"false\" === autoClose) {\n                            return;\n                        }\n                        _this.close();\n                        event.preventDefault();\n                    });\n                })\n                    .fail(function (error) {\n                    console.error(TAG + \"Dialog.show() failed.\");\n                    if (_this._$dialog) {\n                        _this._$dialog.trigger(\"error\", error);\n                    }\n                });\n                return this._$dialog;\n            };\n            /**\n             * 終了\n             * 基本的には自動で閉じるが、\n             * 表示中のダイアログをクライアント側から閉じるメソッド\n             */\n            Dialog.prototype.close = function () {\n                if (this._$dialog) {\n                    this._$dialog.popup(\"close\");\n                }\n            };\n            Object.defineProperty(Dialog.prototype, \"$el\", {\n                //! ダイアログ element を取得\n                get: function () {\n                    return this._$dialog;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            ///////////////////////////////////////////////////////////////////////\n            // protected methods: Override\n            /**\n             * ダイアログ表示の直前\n             * DOM を操作できるタイミングで呼び出される.\n             *\n             * @return {IPromiseBase} promise オブジェクト\n             */\n            Dialog.prototype.onBeforeShow = function () {\n                return Promise.resolve();\n            };\n            /**\n             * ダイアログの使用する Theme を解決\n             * 不要な場合はオーバーライドすることも可能\n             */\n            Dialog.prototype.resolveTheme = function () {\n                var queryTheme = function () {\n                    return $(\".ui-page-active\").jqmData(\"theme\");\n                };\n                var candidateTheme;\n                if (!this._settings.theme) {\n                    var domTheme = this._$dialog.jqmData(\"theme\");\n                    if (!domTheme) {\n                        this._settings.theme = candidateTheme = queryTheme();\n                    }\n                }\n                if (!this._settings.overlayTheme) {\n                    var domOverlayTheme = this._$dialog.jqmData(\"overlay-theme\");\n                    if (!domOverlayTheme) {\n                        this._settings.overlayTheme = candidateTheme || queryTheme();\n                    }\n                }\n                // transition の更新\n                this._settings.transition = UI.Theme.queryDialogTransition(this._settings.transition);\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // public static methods\n            /**\n             * Dialog の既定オプションを更新\n             * すぺての Dialog が使用する共通設定\n             *\n             * @param options {DialogOptions} [in] ダイアログオプション\n             */\n            Dialog.setDefaultOptions = function (options) {\n                // Dialog 共通設定の初期化\n                Dialog.initCommonCondition();\n                $.extend(true, Dialog.s_defaultOptions, options);\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // private methods\n            //! 現在 active なダイアログとして登録する\n            Dialog.register = function (dialog) {\n                if (null != dialog && null != Dialog.s_activeDialog) {\n                    console.warn(TAG + \"new dialog proc is called in the past dialog's one. use setTimeout() for post process.\");\n                }\n                Dialog.s_activeDialog = dialog;\n            };\n            /**\n             * Dialog 共通設定の初期化\n             */\n            Dialog.initCommonCondition = function () {\n                // Framework の初期化後に処理する必要がある\n                if (!Framework.isInitialized()) {\n                    console.warn(TAG + \"initCommonCondition() should be called after Framework.initialized.\");\n                    return;\n                }\n                if (null == Dialog.s_oldBackKeyHandler) {\n                    // Back Button Handler\n                    Dialog.s_oldBackKeyHandler = CDP.setBackButtonHandler(null);\n                    CDP.setBackButtonHandler(Dialog.customBackKeyHandler);\n                    // 既定オプション\n                    Dialog.s_defaultOptions = {\n                        idPositive: \"dlg-btn-positive\",\n                        idNegative: \"dlg-btn-negative\",\n                        event: Framework.getDefaultClickEvent(),\n                        dismissible: false,\n                        defaultAutoClose: false,\n                        transition: \"platform-default\",\n                        labelPositive: \"OK\",\n                        labelNegative: \"Cancel\",\n                        backKey: \"close\",\n                        scrollEvent: \"deny\",\n                        domExtensionOptions: {},\n                    };\n                }\n            };\n            /**\n             * H/W Back Button Handler\n             */\n            Dialog.customBackKeyHandler = function (event) {\n                if (null != Dialog.s_activeDialog) {\n                    if (\"close\" === Dialog.s_activeDialog._settings.backKey) {\n                        Dialog.s_activeDialog.close();\n                    }\n                    else if (\"function\" === typeof Dialog.s_activeDialog._settings.backKey) {\n                        Dialog.s_activeDialog._settings.backKey(event);\n                    }\n                    return; // Dialog が active な場合、常に既定のハンドラには渡さない\n                }\n                Dialog.s_oldBackKeyHandler(event);\n            };\n            Dialog.s_activeDialog = null;\n            Dialog.s_oldBackKeyHandler = null;\n            Dialog.s_defaultOptions = null;\n            return Dialog;\n        }());\n        UI.Dialog = Dialog;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\n/* tslint:disable:max-line-length */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var TAG = \"[CDP.UI.DialogCommons] \";\n        /**\n         * Alert\n         * alert メッセージ表示\n         *\n         * @param {String} message   [in] 表示文字列\n         * @param {String} [options] [in] ダイアログオプション\n         * @return {jQuery} ダイアログの DOM オブジェクト\n         */\n        function alert(message, options) {\n            var template = \"\\n            <script type=\\\"text/template\\\">\\n                <section class=\\\"ui-modal\\\" data-role=\\\"popup\\\" data-corners=\\\"false\\\">\\n                    <div class=\\\"ui-content\\\">\\n                        <h1 class=\\\"ui-title {{_titleState}}\\\">{{title}}</h1>\\n                        <p class=\\\"ui-message\\\">{{message}}</p>\\n                    </div>\\n                    <div class=\\\"ui-modal-footer ui-grid-solo\\\">\\n                        <button id=\\\"{{idPositive}}\\\" class=\\\"ui-btn ui-block-a ui-text-emphasis\\\" data-auto-close=\\\"true\\\">{{labelPositive}}</button>\\n                    </div>\\n                </section>\\n            </script>\\n        \";\n            var dlgAlert = new UI.Dialog(template, $.extend({}, {\n                src: null,\n                message: message,\n            }, options));\n            return dlgAlert.show();\n        }\n        UI.alert = alert;\n        /**\n         * Confirm\n         * 確認メッセージ表示\n         *\n         * @param {String} message   [in] 表示文字列\n         * @param {String} [options] [in] ダイアログオプション\n         * @return {jQuery} ダイアログの DOM オブジェクト\n         */\n        function confirm(message, options) {\n            var template = \"\\n            <script type=\\\"text/template\\\">\\n                <section class=\\\"ui-modal\\\" data-role=\\\"popup\\\" data-corners=\\\"false\\\">\\n                    <div class=\\\"ui-content\\\">\\n                        <h1 class=\\\"ui-title {{_titleState}}\\\">{{title}}</h1>\\n                        <p class=\\\"ui-message\\\">{{message}}</p>\\n                    </div>\\n                    <div class=\\\"ui-modal-footer ui-grid-a\\\">\\n                        <button id=\\\"{{idNegative}}\\\" class=\\\"ui-btn ui-block-a\\\" data-auto-close=\\\"true\\\">{{labelNegative}}</button>\\n                        <button id=\\\"{{idPositive}}\\\" class=\\\"ui-btn ui-block-b ui-text-emphasis\\\" data-auto-close=\\\"true\\\">{{labelPositive}}</button>\\n                    </div>\\n                </section>\\n            </script>\\n        \";\n            var dlgConfirm = new UI.Dialog(template, $.extend({}, {\n                src: null,\n                message: message,\n            }, options));\n            return dlgConfirm.show();\n        }\n        UI.confirm = confirm;\n        /**\n         * @class DialogPrompt\n         * @brief prompt ダイアログ (非公開)\n         */\n        var DialogPrompt = (function (_super) {\n            __extends(DialogPrompt, _super);\n            /**\n             * constructor\n             *\n             */\n            function DialogPrompt(id, options) {\n                var _this = _super.call(this, id, options) || this;\n                _this._eventOK = options.eventOK || \"promptok\";\n                return _this;\n            }\n            //! ダイアログ表示の直前\n            DialogPrompt.prototype.onBeforeShow = function () {\n                var _this = this;\n                this.$el\n                    .on(\"vclick\", \".command-prompt-ok \", function (event) {\n                    var text = _this.$el.find(\"#_ui-prompt\").val();\n                    _this.$el.trigger(_this._eventOK, text);\n                    _this.close();\n                    event.preventDefault();\n                });\n                return _super.prototype.onBeforeShow.call(this);\n            };\n            return DialogPrompt;\n        }(UI.Dialog));\n        /**\n         * Prompt\n         *\n         * @param {String} message   [in] 表示文字列\n         * @param {String} [options] [in] ダイアログオプション\n         * @return {jQuery} ダイアログの DOM オブジェクト\n         */\n        function prompt(message, options) {\n            var template = \"\\n            <script type=\\\"text/template\\\">\\n                <section class=\\\"ui-modal\\\" data-role=\\\"popup\\\" data-corners=\\\"false\\\">\\n                    <div class=\\\"ui-content\\\">\\n                        <h1 class=\\\"ui-title {{_titleState}}\\\">{{title}}</h1>\\n                        <p class=\\\"ui-message\\\">{{message}}</p>\\n                        <label for=\\\"_ui-prompt\\\" class=\\\"ui-hidden-accessible\\\"></label>\\n                        <input type=\\\"text\\\" name=\\\"_ui-prompt\\\" id=\\\"_ui-prompt\\\">\\n                    </div>\\n                    <div class=\\\"ui-modal-footer ui-grid-a\\\">\\n                        <button id=\\\"{{idNegative}}\\\" class=\\\"ui-btn ui-block-a\\\" data-auto-close=\\\"true\\\">{{labelNegative}}</button>\\n                        <button id=\\\"{{idPositive}}\\\" class=\\\"command-prompt-ok ui-btn ui-block-b ui-text-emphasis\\\" data-auto-close=\\\"false\\\">{{labelPositive}}</button>\\n                    </div>\\n                </section>\\n            </script>\\n        \";\n            var dlgPrompt = new DialogPrompt(template, $.extend({}, {\n                src: null,\n                message: message,\n            }, options));\n            return dlgPrompt.show();\n        }\n        UI.prompt = prompt;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var Router = CDP.Framework.Router;\n        var View = CDP.Framework.View;\n        var Template = CDP.Tools.Template;\n        var TAG = \"[CDP.UI.BaseHeaderView] \";\n        //__________________________________________________________________________________________________________//\n        /**\n         * @class BaseHeaderView\n         * @brief 共通ヘッダを操作するクラス\n         */\n        var BaseHeaderView = (function (_super) {\n            __extends(BaseHeaderView, _super);\n            /**\n             * constructor\n             *\n             * @param {IPage} _owner [in] オーナーページインスタンス\n             */\n            function BaseHeaderView(_owner, _options) {\n                var _this = _super.call(this, _options = $.extend({\n                    el: _owner.$page.find(\"[data-role='header']\"),\n                    backCommandSelector: \".command-back\",\n                    backCommandKind: \"pageback\",\n                }, _options)) || this;\n                _this._owner = _owner;\n                _this._options = _options;\n                // template 設定\n                if (_options.baseTemplate) {\n                    _this._template = _options.baseTemplate;\n                }\n                else {\n                    _this._template = Template.getJST(\"\\n                    <script type='text/template'>\\n                        <header class='ui-header-base ui-body-{{theme}}'>\\n                            <div class='ui-fixed-back-indicator'></div>\\n                        </header>\\n                    </script>\\n                \");\n                }\n                // Backbone.View 用の初期化\n                _this.setElement(_this.$el, true);\n                return _this;\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // public methods\n            /**\n             * 初期化\n             */\n            BaseHeaderView.prototype.create = function () {\n                return this.createHeaderBase();\n            };\n            /**\n             * 有効化\n             */\n            BaseHeaderView.prototype.activate = function () {\n                return this.showIndicator();\n            };\n            /**\n             * 無効化\n             */\n            BaseHeaderView.prototype.inactivate = function () {\n                return this.hideIndicator();\n            };\n            /**\n             * 破棄\n             */\n            BaseHeaderView.prototype.release = function () {\n                return this.releaseHeaderBase();\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // private methods\n            //! 共通ヘッダのベースを準備\n            BaseHeaderView.prototype.createHeaderBase = function () {\n                // 固定ヘッダのときに有効化\n                if (\"fixed\" === this._owner.$header.jqmData(\"position\")) {\n                    if (null == BaseHeaderView.s_$headerBase) {\n                        BaseHeaderView.s_$headerBase = $(this._template({\n                            theme: this._owner.$page.jqmData(\"theme\"),\n                        }));\n                    }\n                    BaseHeaderView.s_refCount++;\n                    BaseHeaderView.s_$headerBase.appendTo($(document.body));\n                }\n                // Back Indicator を持っているか判定\n                if (0 < this.$el.find(\".ui-back-indicator\").length) {\n                    this._hasBackIndicator = true;\n                }\n                return BaseHeaderView.s_$headerBase;\n            };\n            //! indicator の表示\n            BaseHeaderView.prototype.showIndicator = function () {\n                // Back Indicator を持っていない場合表示しない\n                if (null != BaseHeaderView.s_$headerBase && this._hasBackIndicator) {\n                    BaseHeaderView.s_$headerBase.find(\".ui-fixed-back-indicator\").addClass(\"show\");\n                }\n                return BaseHeaderView.s_$headerBase;\n            };\n            //! indicator の非表示\n            BaseHeaderView.prototype.hideIndicator = function () {\n                if (null != BaseHeaderView.s_$headerBase) {\n                    BaseHeaderView.s_$headerBase.find(\".ui-fixed-back-indicator\").removeClass(\"show\");\n                }\n                return BaseHeaderView.s_$headerBase;\n            };\n            //! 共通ヘッダのベースを破棄\n            BaseHeaderView.prototype.releaseHeaderBase = function () {\n                if (null != BaseHeaderView.s_$headerBase) {\n                    BaseHeaderView.s_refCount--;\n                    if (0 === BaseHeaderView.s_refCount) {\n                        BaseHeaderView.s_$headerBase.remove();\n                        BaseHeaderView.s_$headerBase = null;\n                    }\n                }\n                return BaseHeaderView.s_$headerBase;\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // Override: Backbone.View\n            //! events binding\n            BaseHeaderView.prototype.events = function () {\n                var eventMap = {};\n                if (this._options) {\n                    eventMap[\"vclick \" + this._options.backCommandSelector] = this.onCommandBack;\n                }\n                return eventMap;\n            };\n            //! back のハンドラ\n            BaseHeaderView.prototype.onCommandBack = function (event) {\n                event.preventDefault();\n                var handled = false;\n                if (this._owner) {\n                    handled = this._owner.onCommand(event, this._options.backCommandKind);\n                }\n                if (!handled) {\n                    Router.back();\n                }\n            };\n            BaseHeaderView.s_refCount = 0; //!< 参照カウント\n            return BaseHeaderView;\n        }(View));\n        UI.BaseHeaderView = BaseHeaderView;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\n/* tslint:disable:max-line-length */\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var Framework = CDP.Framework;\n        var TAG = \"[CDP.UI.BasePage] \";\n        //__________________________________________________________________________________________________________//\n        /**\n         * @class BasePage\n         * @brief Header を備える Page クラス\n         */\n        var BasePage = (function (_super) {\n            __extends(BasePage, _super);\n            /**\n             * constructor\n             *\n             * @param {String}          url       [in] ページ URL\n             * @param {String}          id        [in] ページ ID\n             * @param {BasePageOptions} [options] [in] オプション\n             */\n            function BasePage(url, id, _options) {\n                var _this = _super.call(this, url, id, _options = $.extend({\n                    baseHeader: UI.BaseHeaderView,\n                    backCommandHandler: \"onPageBack\",\n                    backCommandKind: \"pageback\",\n                    domExtensionOptions: {},\n                }, _options)) || this;\n                _this._options = _options;\n                return _this;\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // Override: Framework Page\n            /**\n             * jQM event: \"pagebeforecreate\" に対応\n             *\n             * @param event {JQuery.Event} [in] イベントオブジェクト\n             */\n            BasePage.prototype.onPageBeforeCreate = function (event) {\n                if (this._options.baseHeader) {\n                    this._baseHeader = new this._options.baseHeader(this, this._options);\n                    this._baseHeader.create();\n                }\n                _super.prototype.onPageBeforeCreate.call(this, event);\n            };\n            /**\n             * jQM event: \"pagecreate\" に対応\n             *\n             * @param event {JQuery.Event} [in] イベントオブジェクト\n             */\n            BasePage.prototype.onPageInit = function (event) {\n                if (null != this._options.domExtensionOptions) {\n                    UI.ExtensionManager.applyDomExtension(this.$page, this._options.domExtensionOptions);\n                }\n                _super.prototype.onPageInit.call(this, event);\n            };\n            /**\n             * jQM event: \"pagebeforeshow\" に対応\n             *\n             * @param event {JQuery.Event} [in] イベントオブジェクト\n             * @param data  {ShowEventData}     [in] 付加情報\n             */\n            BasePage.prototype.onPageBeforeShow = function (event, data) {\n                if (this._baseHeader) {\n                    this._baseHeader.activate();\n                }\n                _super.prototype.onPageBeforeShow.call(this, event, data);\n            };\n            /**\n             * jQM event: \"pagebeforehide\" に対応\n             *\n             * @param event {JQuery.Event} [in] イベントオブジェクト\n             * @param data  {HideEventData}     [in] 付加情報\n             */\n            BasePage.prototype.onPageBeforeHide = function (event, data) {\n                if (this._baseHeader) {\n                    this._baseHeader.inactivate();\n                }\n                _super.prototype.onPageBeforeHide.call(this, event, data);\n            };\n            /**\n             * jQM event: \"pageremove\" に対応\n             *\n             * @param event {JQuery.Event} [in] イベントオブジェクト\n             */\n            BasePage.prototype.onPageRemove = function (event) {\n                if (this._baseHeader) {\n                    this._baseHeader.release();\n                    this._baseHeader = null;\n                }\n                _super.prototype.onPageRemove.call(this, event);\n            };\n            /**\n             * H/W Back Button ハンドラ\n             *\n             * @param  event {JQuery.Event} [in] event object\n             * @return {Boolean} true: 既定の処理を行わない / false: 既定の処理を行う\n             */\n            BasePage.prototype.onHardwareBackButton = function (event) {\n                var retval = _super.prototype.onHardwareBackButton.call(this, event);\n                if (!retval) {\n                    retval = this.onCommand(event, this._options.backCommandKind);\n                }\n                return retval;\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // Override: Custom Event\n            /**\n             * \"戻る\" event 発行時にコールされる\n             *\n             * @param event {JQuery.Event} [in] イベントオブジェクト\n             * @return {Boolean} true: 既定の処理を行わない / false: 既定の処理を行う\n             */\n            BasePage.prototype.onCommand = function (event, kind) {\n                if (this._options.backCommandKind === kind) {\n                    if (this._owner && this._owner[this._options.backCommandHandler]) {\n                        return this._owner[this._options.backCommandHandler](event);\n                    }\n                }\n                return false;\n            };\n            return BasePage;\n        }(Framework.Page));\n        UI.BasePage = BasePage;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\n/* tslint:disable:max-line-length */\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var Promise = CDP.Promise;\n        var Framework = CDP.Framework;\n        var TAG = \"[CDP.UI.PageView] \";\n        /**\n         * @class PageContainerView\n         * @brief PageView と連携可能な コンテナビュークラス\n         */\n        var PageContainerView = (function (_super) {\n            __extends(PageContainerView, _super);\n            /**\n             * constructor\n             */\n            function PageContainerView(options) {\n                var _this = _super.call(this, options) || this;\n                _this._owner = null;\n                _this._owner = options.owner;\n                if (options.$el) {\n                    var delegates = _this.events ? true : false;\n                    _this.setElement(options.$el, delegates);\n                }\n                return _this;\n            }\n            Object.defineProperty(PageContainerView.prototype, \"owner\", {\n                ///////////////////////////////////////////////////////////////////////\n                // short cut methods\n                //! Owner 取得\n                get: function () {\n                    return this._owner;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            return PageContainerView;\n        }(Framework.View));\n        UI.PageContainerView = PageContainerView;\n        /* tslint:enable:no-use-before-declare */\n        //___________________________________________________________________________________________________________________//\n        /**\n         * @class PageView\n         * @brief CDP.Framework.Page と Backbone.View の両方の機能を提供するページの基底クラス\n         */\n        var PageView = (function (_super) {\n            __extends(PageView, _super);\n            /**\n             * constructor\n             *\n             * @param url     {String}                   [in] ページ URL\n             * @param id      {String}                   [in] ページ ID\n             * @param options {PageViewConstructOptions} [in] オプション\n             */\n            function PageView(url, id, options) {\n                var _this = _super.call(this, options) || this;\n                _this._pageOptions = null;\n                _this._basePage = null;\n                _this._statusMgr = null;\n                // PageView 設定\n                _this._pageOptions = $.extend({}, { owner: _this }, options);\n                _this._basePage = _this._pageOptions.basePage ? new _this._pageOptions.basePage(url, id, _this._pageOptions) : new UI.BasePage(url, id, _this._pageOptions);\n                // StatusManager\n                _this._statusMgr = new UI.StatusManager();\n                // Backbone.View 用の初期化\n                var delegates = _this.events ? true : false;\n                _this.setElement(_this.$page, delegates);\n                return _this;\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IStatusManager 状態管理\n            /**\n             * 状態変数の参照カウントのインクリメント\n             *\n             * @param status {String} [in] 状態識別子\n             */\n            PageView.prototype.statusAddRef = function (status) {\n                return this._statusMgr.statusAddRef(status);\n            };\n            /**\n             * 状態変数の参照カウントのデクリメント\n             *\n             * @param status {String} [in] 状態識別子\n             */\n            PageView.prototype.statusRelease = function (status) {\n                return this._statusMgr.statusRelease(status);\n            };\n            /**\n             * 処理スコープ毎に状態変数を設定\n             *\n             * @param status   {String}   [in] 状態識別子\n             * @param callback {Function} [in] 処理コールバック\n             */\n            PageView.prototype.statusScope = function (status, callback) {\n                this._statusMgr.statusScope(status, callback);\n            };\n            /**\n             * 指定した状態中であるか確認\n             *\n             * @param status {String}   [in] 状態識別子\n             * @return {Boolean} true: 状態内 / false: 状態外\n             */\n            PageView.prototype.isStatusIn = function (status) {\n                return this._statusMgr.isStatusIn(status);\n            };\n            Object.defineProperty(PageView.prototype, \"active\", {\n                ///////////////////////////////////////////////////////////////////////\n                // IPage stub stuff.\n                get: function () { return this._basePage.active; },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(PageView.prototype, \"url\", {\n                get: function () { return this._basePage.url; },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(PageView.prototype, \"id\", {\n                get: function () { return this._basePage ? this._basePage.id : null; },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(PageView.prototype, \"$page\", {\n                get: function () { return this._basePage.$page; },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(PageView.prototype, \"$header\", {\n                get: function () { return this._basePage.$header; },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(PageView.prototype, \"$footer\", {\n                get: function () { return this._basePage.$footer; },\n                enumerable: true,\n                configurable: true\n            });\n            Object.defineProperty(PageView.prototype, \"intent\", {\n                get: function () { return this._basePage.intent; },\n                set: function (newIntent) { this._basePage.intent = newIntent; },\n                enumerable: true,\n                configurable: true\n            });\n            /**\n             * Orientation の変更を受信\n             *\n             * @param newOrientation {Orientation} [in] new orientation code.\n             */\n            PageView.prototype.onOrientationChanged = function (newOrientation) {\n                // Override\n            };\n            /**\n             * H/W Back Button ハンドラ\n             *\n             * @param  event {JQuery.Event} [in] event object\n             * @return {Boolean} true: 既定の処理を行わない / false: 既定の処理を行う\n             */\n            PageView.prototype.onHardwareBackButton = function (event) {\n                return false;\n            };\n            /**\n             * Router \"before route change\" ハンドラ\n             * ページ遷移直前に非同期処理を行うことが可能\n             *\n             * @return {IPromiseBase} Promise オブジェクト\n             */\n            PageView.prototype.onBeforeRouteChange = function () {\n                return Promise.resolve();\n            };\n            /**\n             * 汎用コマンドを受信\n             *\n             * @param  event {JQuery.Event} [in] event object\n             * @param  event {kind}              [in] command kind string\n             * @return {Boolean} true: 既定の処理を行わない / false: 既定の処理を行う\n             */\n            PageView.prototype.onCommand = function (event, kind) {\n                return false;\n            };\n            /**\n             * 最初の OnPageInit() のときにのみコールされる\n             *\n             * @param event {JQuery.Event} [in] イベントオブジェクト\n             */\n            PageView.prototype.onInitialize = function (event) {\n                // Override\n            };\n            /**\n             * jQM event: \"pagebeforecreate\" に対応\n             *\n             * @param event {JQuery.Event} [in] イベントオブジェクト\n             */\n            PageView.prototype.onPageBeforeCreate = function (event) {\n                this.setElement(this.$page, true);\n            };\n            /**\n             * jQM event: \"pagecreate\" (旧:\"pageinit\") に対応\n             *\n             * @param event {JQuery.Event} [in] イベントオブジェクト\n             */\n            PageView.prototype.onPageInit = function (event) {\n                // Override\n            };\n            /**\n             * jQM event: \"pagebeforeshow\" に対応\n             *\n             * @param event {JQuery.Event} [in] イベントオブジェクト\n             * @param data  {ShowEventData}     [in] 付加情報\n             */\n            PageView.prototype.onPageBeforeShow = function (event, data) {\n                // Override\n            };\n            /**\n             * jQM event: \"pagecontainershow\" (旧:\"pageshow\") に対応\n             *\n             * @param event {JQuery.Event} [in] イベントオブジェクト\n             * @param data  {ShowEventData}     [in] 付加情報\n             */\n            PageView.prototype.onPageShow = function (event, data) {\n                // Override\n            };\n            /**\n             * jQM event: \"pagebeforehide\" に対応\n             *\n             * @param event {JQuery.Event} [in] イベントオブジェクト\n             * @param data  {HideEventData}     [in] 付加情報\n             */\n            PageView.prototype.onPageBeforeHide = function (event, data) {\n                // Override\n            };\n            /**\n             * jQM event: \"pagecontainerhide\" (旧:\"pagehide\") に対応\n             *\n             * @param event {JQuery.Event} [in] イベントオブジェクト\n             * @param data  {HideEventData}     [in] 付加情報\n             */\n            PageView.prototype.onPageHide = function (event, data) {\n                // Override\n            };\n            /**\n             * jQM event: \"pageremove\" に対応\n             *\n             * @param event {JQuery.Event} [in] イベントオブジェクト\n             */\n            PageView.prototype.onPageRemove = function (event) {\n                this.remove();\n            };\n            return PageView;\n        }(Framework.View));\n        UI.PageView = PageView;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\n/* tslint:disable:max-line-length */\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var TAG = \"[CDP.UI.PageListView] \";\n        /**\n         * @class PageListView\n         * @brief 仮想リストビュー機能を持つ PageView クラス\n         */\n        var PageListView = (function (_super) {\n            __extends(PageListView, _super);\n            /**\n             * constructor\n             *\n             * @param url     {String}                       [in] page template に使用する URL\n             * @param id      {String}                       [in] page に振られた ID\n             * @param options {PageListViewConstructOptions} [in] オプション\n             */\n            function PageListView(url, id, options) {\n                var _this = _super.call(this, url, id, $.extend({}, {\n                    autoDestoryElement: false,\n                }, options)) || this;\n                _this._scrollMgr = null; //!< scroll コアロジック\n                _this._needRebuild = false; //!< ページ表示時に rebuild() をコールするための内部変数\n                _this._scrollMgr = new UI.ScrollManager(options);\n                return _this;\n            }\n            //! rebuild() のスケジューリング\n            PageListView.prototype.reserveRebuild = function () {\n                this._needRebuild = true;\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // Override: PageView\n            //! Orientation の変更検知\n            PageListView.prototype.onOrientationChanged = function (newOrientation) {\n                this._scrollMgr.setBaseHeight(this.getPageBaseHeight());\n            };\n            //! ページ遷移直前イベント処理\n            PageListView.prototype.onBeforeRouteChange = function () {\n                if (this._pageOptions.autoDestoryElement) {\n                    this._scrollMgr.destroy();\n                }\n                return _super.prototype.onBeforeRouteChange.call(this);\n            };\n            //! jQM event: \"pagebeforeshow\" に対応\n            PageListView.prototype.onPageBeforeShow = function (event, data) {\n                _super.prototype.onPageBeforeShow.call(this, event, data);\n                this._scrollMgr.initialize(this.$page, this.getPageBaseHeight());\n            };\n            //! jQM event: \"pagecontainershow\" (旧:\"pageshow\") に対応\n            PageListView.prototype.onPageShow = function (event, data) {\n                _super.prototype.onPageShow.call(this, event, data);\n                this._scrollMgr.setBaseHeight(this.getPageBaseHeight());\n                if (this._needRebuild) {\n                    this.rebuild();\n                    this._needRebuild = false;\n                }\n            };\n            //! jQM event: \"pageremove\" に対応\n            PageListView.prototype.onPageRemove = function (event) {\n                _super.prototype.onPageRemove.call(this, event);\n                this.release();\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IListView Profile 管理\n            //! 初期化済みか判定\n            PageListView.prototype.isInitialized = function () {\n                return this._scrollMgr.isInitialized();\n            };\n            //! プロパティを指定して、ListItem を管理\n            PageListView.prototype.addItem = function (height, initializer, info, insertTo) {\n                this._addLine(new UI.LineProfile(this._scrollMgr, Math.floor(height), initializer, info), insertTo);\n            };\n            PageListView.prototype.removeItem = function (index, arg2, arg3) {\n                this._scrollMgr.removeItem(index, arg2, arg3);\n            };\n            PageListView.prototype.getItemInfo = function (target) {\n                return this._scrollMgr.getItemInfo(target);\n            };\n            //! アクティブページを更新\n            PageListView.prototype.refresh = function () {\n                this._scrollMgr.refresh();\n            };\n            //! 未アサインページを構築\n            PageListView.prototype.update = function () {\n                this._scrollMgr.update();\n            };\n            //! ページアサインを再構成\n            PageListView.prototype.rebuild = function () {\n                this._scrollMgr.rebuild();\n            };\n            //! 管轄データを破棄\n            PageListView.prototype.release = function () {\n                this._scrollMgr.release();\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IListView Profile Backup / Restore\n            //! 内部データをバックアップ\n            PageListView.prototype.backup = function (key) {\n                return this._scrollMgr.backup(key);\n            };\n            //! 内部データをリストア\n            PageListView.prototype.restore = function (key, rebuild) {\n                if (rebuild === void 0) { rebuild = true; }\n                var retval = this._scrollMgr.restore(key, rebuild);\n                if (retval && !rebuild) {\n                    this.reserveRebuild();\n                }\n                return retval;\n            };\n            //! バックアップデータの有無\n            PageListView.prototype.hasBackup = function (key) {\n                return this._scrollMgr.hasBackup(key);\n            };\n            //! バックアップデータの破棄\n            PageListView.prototype.clearBackup = function (key) {\n                return this._scrollMgr.clearBackup(key);\n            };\n            Object.defineProperty(PageListView.prototype, \"backupData\", {\n                //! バックアップデータにアクセス\n                get: function () {\n                    return this._scrollMgr.backupData;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IListView Scroll\n            //! スクロールイベントハンドラ設定/解除\n            PageListView.prototype.setScrollHandler = function (handler, on) {\n                this._scrollMgr.setScrollHandler(handler, on);\n            };\n            //! スクロール終了イベントハンドラ設定/解除\n            PageListView.prototype.setScrollStopHandler = function (handler, on) {\n                this._scrollMgr.setScrollStopHandler(handler, on);\n            };\n            //! スクロール位置を取得\n            PageListView.prototype.getScrollPos = function () {\n                return this._scrollMgr.getScrollPos();\n            };\n            //! スクロール位置の最大値を取得\n            PageListView.prototype.getScrollPosMax = function () {\n                return this._scrollMgr.getScrollPosMax();\n            };\n            //! スクロール位置を指定\n            PageListView.prototype.scrollTo = function (pos, animate, time) {\n                this._scrollMgr.scrollTo(pos, animate, time);\n            };\n            //! 指定された ListItemView の表示を保証\n            PageListView.prototype.ensureVisible = function (index, options) {\n                this._scrollMgr.ensureVisible(index, options);\n            };\n            Object.defineProperty(PageListView.prototype, \"core\", {\n                ///////////////////////////////////////////////////////////////////////\n                // Implements: IListView Properties\n                //! core framework access\n                get: function () {\n                    return this._scrollMgr;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IListView Internal I/F\n            //! 登録 framework が使用する\n            PageListView.prototype._addLine = function (_line, insertTo) {\n                this._scrollMgr._addLine(_line, insertTo);\n            };\n            ///////////////////////////////////////////////////////////////////////\n            // private method:\n            //! ページの基準値を取得\n            PageListView.prototype.getPageBaseHeight = function () {\n                return $(window).height() - parseInt(this.$page.css(\"padding-top\"), 10);\n            };\n            return PageListView;\n        }(UI.PageView));\n        UI.PageListView = PageListView;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var TAG = \"[CDP.UI.PageExpandableListView] \";\n        /**\n         * @class PageExpandableListView\n         * @brief 開閉リストビュー機能を持つ PageView クラス\n         */\n        var PageExpandableListView = (function (_super) {\n            __extends(PageExpandableListView, _super);\n            /**\n             * constructor\n             *\n             * @param url     {String}                       [in] page template に使用する URL\n             * @param id      {String}                       [in] page に振られた ID\n             * @param options {PageListViewConstructOptions} [in] オプション\n             */\n            function PageExpandableListView(url, id, options) {\n                var _this = _super.call(this, url, id, options) || this;\n                _this._expandManager = null;\n                _this._expandManager = new UI.ExpandManager(_this);\n                return _this;\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // Implements: IExpandableListView\n            //! 新規 GroupProfile を作成\n            PageExpandableListView.prototype.newGroup = function (id) {\n                return this._expandManager.newGroup(id);\n            };\n            //! 登録済み Group を取得\n            PageExpandableListView.prototype.getGroup = function (id) {\n                return this._expandManager.getGroup(id);\n            };\n            //! 第1階層の Group 登録\n            PageExpandableListView.prototype.registerTopGroup = function (topGroup) {\n                this._expandManager.registerTopGroup(topGroup);\n            };\n            //! 第1階層の Group を取得\n            PageExpandableListView.prototype.getTopGroups = function () {\n                return this._expandManager.getTopGroups();\n            };\n            //! すべてのグループを展開 (1階層)\n            PageExpandableListView.prototype.expandAll = function () {\n                this._expandManager.expandAll();\n            };\n            //! すべてのグループを収束 (1階層)\n            PageExpandableListView.prototype.collapseAll = function (delay) {\n                this._expandManager.collapseAll(delay);\n            };\n            //! 展開中か判定\n            PageExpandableListView.prototype.isExpanding = function () {\n                return this._expandManager.isExpanding();\n            };\n            //! 収束中か判定\n            PageExpandableListView.prototype.isCollapsing = function () {\n                return this._expandManager.isCollapsing();\n            };\n            //! 開閉中か判定\n            PageExpandableListView.prototype.isSwitching = function () {\n                return this._expandManager.isSwitching();\n            };\n            Object.defineProperty(PageExpandableListView.prototype, \"layoutKey\", {\n                //! layout key を取得\n                get: function () {\n                    return this._expandManager.layoutKey;\n                },\n                //! layout key を設定\n                set: function (key) {\n                    this._expandManager.layoutKey = key;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            ///////////////////////////////////////////////////////////////////////\n            // Override: PageListView\n            //! データを破棄\n            PageExpandableListView.prototype.release = function () {\n                _super.prototype.release.call(this);\n                this._expandManager.release();\n            };\n            //! 内部データをバックアップ\n            PageExpandableListView.prototype.backup = function (key) {\n                return this._expandManager.backup(key);\n            };\n            //! 内部データをリストア\n            PageExpandableListView.prototype.restore = function (key, rebuild) {\n                if (rebuild === void 0) { rebuild = true; }\n                return this._expandManager.restore(key, rebuild);\n            };\n            return PageExpandableListView;\n        }(UI.PageListView));\n        UI.PageExpandableListView = PageExpandableListView;\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var Extension;\n        (function (Extension) {\n            var Framework = CDP.Framework;\n            //! jQuery plugin\n            $.fn.ripple = function (options) {\n                var $el = $(this);\n                return $el.on(Framework.Patch.s_vclickEvent, function (event) {\n                    var surface = $(this);\n                    // create surface if it doesn't exist\n                    if (surface.find(\".ui-ripple-ink\").length === 0) {\n                        surface.prepend(\"<div class='ui-ripple-ink'></div>\");\n                    }\n                    var ink = surface.find(\".ui-ripple-ink\");\n                    // stop the previous animation\n                    ink.removeClass(\"ui-ripple-animate\");\n                    // ink size:\n                    if (!ink.height() && !ink.width()) {\n                        var d = Math.max(surface.outerWidth(), surface.outerHeight());\n                        ink.css({ height: d, width: d });\n                    }\n                    var x = event.pageX - surface.offset().left - (ink.width() / 2);\n                    var y = event.pageY - surface.offset().top - (ink.height() / 2);\n                    var rippleColor = surface.data(\"ripple-color\");\n                    // animation end handler\n                    var ANIMATION_END_EVENT = \"animationend webkitAnimationEnd\";\n                    ink.on(ANIMATION_END_EVENT, function (ev) {\n                        ink.off();\n                        ink.removeClass(\"ui-ripple-animate\");\n                        ink = null;\n                    });\n                    // set the position and add class .animate\n                    ink.css({\n                        top: y + \"px\",\n                        left: x + \"px\",\n                        background: rippleColor\n                    }).addClass(\"ui-ripple-animate\");\n                });\n            };\n            /**\n             * Material Design Ripple 拡張\n             *\n             * @param {jQuery}              $ui       [in] 検索対象の jQuery オブジェクト\n             * @param {DomExtensionOptions} [options] [in] オプション\n             */\n            function applyDomExtension($ui, options) {\n                var NO_RIPPLE_CLASS = [\n                    \".ui-ripple-none\",\n                    \".ui-flipswitch-on\",\n                    \".ui-slider-handle\",\n                    \".ui-input-clear\",\n                ];\n                var selector = \".ui-btn\";\n                if ($ui.hasClass(\"ui-page\")) {\n                    selector = \".ui-content .ui-btn\"; // header は自動 ripple 化対象外\n                }\n                $ui.find(selector)\n                    .filter(function (index, elem) {\n                    var $elem = $(elem);\n                    if ($elem.is(NO_RIPPLE_CLASS.join(\",\"))) {\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                })\n                    .addClass(\"ui-ripple\");\n                // ripplify\n                $ui.find(\".ui-ripple\").ripple();\n                return $ui;\n            }\n            // 登録\n            UI.ExtensionManager.registerDomExtension(applyDomExtension);\n        })(Extension = UI.Extension || (UI.Extension = {}));\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var Extension;\n        (function (Extension) {\n            var Template = CDP.Tools.Template;\n            var _template;\n            /**\n             * Material Design Spinner 拡張\n             *\n             * @param {jQuery}              $target   [in] 検索対象の jQuery オブジェクト\n             * @param {DomExtensionOptions} [options] [in] オプション\n             */\n            function applyDomExtension($target, options) {\n                if (!_template) {\n                    _template = Template.getJST(\"\\n                <script type=\\\"text/template\\\">\\n                    <span class=\\\"ui-spinner-base\\\">\\n                        <span class=\\\"ui-spinner-inner\\\">\\n                            <span class=\\\"ui-spinner-inner-gap\\\" {{borderTop}}></span>\\n                            <span class=\\\"ui-spinner-inner-left\\\">\\n                                <span class=\\\"ui-spinner-inner-half-circle\\\" {{border}}></span>\\n                            </span>\\n                            <span class=\\\"ui-spinner-inner-right\\\">\\n                                <span class=\\\"ui-spinner-inner-half-circle\\\" {{border}}></span>\\n                            </span>\\n                        </span>\\n                    </span>\\n                </script>\\n            \");\n                }\n                var makeTemplateParam = function (color) {\n                    return {\n                        borderTop: \"style=border-top-color:\" + color + \";\",\n                        border: \"style=border-color:\" + color + \";\",\n                    };\n                };\n                var spinnerify = function (elem) {\n                    var $elem = $(elem);\n                    var color = $elem.data(\"spinner-color\");\n                    var param = null;\n                    if (color) {\n                        $elem.css({ \"background-color\": color });\n                        param = makeTemplateParam(color);\n                    }\n                    $elem.append(_template(param));\n                };\n                $target.find(\".ui-spinner, .ui-icon-loading\")\n                    .each(function (index, elem) {\n                    spinnerify(elem);\n                });\n                return $target;\n            }\n            //! jQuery plugin\n            $.fn.spinner = function (options) {\n                return applyDomExtension($(this), options);\n            };\n            // 登録\n            UI.ExtensionManager.registerDomExtension(applyDomExtension);\n        })(Extension = UI.Extension || (UI.Extension = {}));\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var Extension;\n        (function (Extension) {\n            /**\n             * Text Input 用 Floating Label 拡張\n             *\n             * @param {jQuery}              $ui       [in] 検索対象の jQuery オブジェクト\n             * @param {DomExtensionOptions} [options] [in] オプション\n             */\n            function applyDomExtension($ui, options) {\n                var update = function (elem, floating) {\n                    var $elem = $(elem);\n                    if (floating) {\n                        $elem.addClass(\"ui-float-label-floating\");\n                    }\n                    else {\n                        $elem.removeClass(\"ui-float-label-floating\");\n                    }\n                };\n                var floatingify = function (elem) {\n                    var id = $(elem).attr(\"for\");\n                    var $input = $ui.find(\"#\" + id);\n                    if (\"search\" === $input.jqmData(\"type\")) {\n                        $(elem).addClass(\"ui-float-label-has-icon\");\n                    }\n                    update(elem, !!$input.val());\n                    $input.on(\"keyup change input focus blur cut paste\", function (event) {\n                        update(elem, !!$(event.target).val());\n                    });\n                };\n                $ui.find(\"label.ui-float-label, .ui-float-label label\")\n                    .each(function (index, elem) {\n                    floatingify(elem);\n                });\n                return $ui;\n            }\n            // 登録\n            UI.ExtensionManager.registerDomExtension(applyDomExtension);\n        })(Extension = UI.Extension || (UI.Extension = {}));\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var Extension;\n        (function (Extension) {\n            var Framework = CDP.Framework;\n            /**\n             * jQuery Mobile Flip Switch 拡張\n             *\n             * @param {jQuery}              $ui       [in] 検索対象の jQuery オブジェクト\n             * @param {DomExtensionOptions} [options] [in] オプション\n             */\n            function applyDomExtension($ui, options) {\n                /*\n                 * flipswitch に紐づく label は OS によって event 発行形式が異なるためフックして独自イベントで対応する.\n                 * また flipswitch は内部で click を発行しているが、vclick に変更する.\n                 */\n                var _getAllSwitches = function () {\n                    return $ui.find(\".ui-flipswitch\");\n                };\n                var _getInputFromSwitch = function ($switch) {\n                    var $input = $switch.find(\"input\");\n                    if ($input.length) {\n                        return $input;\n                    }\n                    var $select = $switch.find(\"select\");\n                    if ($select.length) {\n                        return $select;\n                    }\n                    return null;\n                };\n                var _change = function ($input, to) {\n                    if ($input) {\n                        if (\"INPUT\" === $input[0].nodeName) {\n                            $input.prop(\"checked\", to).flipswitch(\"refresh\");\n                        }\n                        else if (\"SELECT\" === $input[0].nodeName) {\n                            $input.val(to ? \"on\" : \"off\").flipswitch(\"refresh\");\n                        }\n                    }\n                };\n                var _getLabelsFromSwitch = function ($switch) {\n                    var $input = _getInputFromSwitch($switch);\n                    if ($input) {\n                        var labels = $input[0].labels;\n                        if (labels) {\n                            return $(labels);\n                        }\n                    }\n                    return $();\n                };\n                var _getSwitchFromLabel = function ($label) {\n                    var name = $label.attr(\"for\");\n                    return _getAllSwitches().find(\"[name='\" + name + \"']\");\n                };\n                _getAllSwitches()\n                    .on(\"vclick _change_flipswich\", function (event) {\n                    var $switch = $(event.currentTarget);\n                    var $target = $(event.target);\n                    var $input = _getInputFromSwitch($switch);\n                    var changeTo = !$switch.hasClass(\"ui-flipswitch-active\");\n                    if ($target.hasClass(\"ui-flipswitch-input\")) {\n                        _change($input, changeTo);\n                    }\n                    else if ($target.hasClass(\"ui-flipswitch-on\")) {\n                        if (Framework.Platform.Mobile && Framework.Patch.isSupportedVclick()) {\n                            _change($input, changeTo);\n                            event.preventDefault();\n                        }\n                    }\n                })\n                    .each(function (index, flipswitch) {\n                    _getLabelsFromSwitch($(flipswitch))\n                        .on(\"vclick\", function (event) {\n                        var $switch = _getSwitchFromLabel($(event.target));\n                        if (!$switch.parent().hasClass(\"ui-state-disabled\")) {\n                            $switch.trigger(\"_change_flipswich\");\n                        }\n                        event.preventDefault();\n                    });\n                });\n                return $ui;\n            }\n            // 登録\n            UI.ExtensionManager.registerDomExtension(applyDomExtension);\n        })(Extension = UI.Extension || (UI.Extension = {}));\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var Extension;\n        (function (Extension) {\n            /**\n             * jQuery Mobile Slider 拡張\n             *\n             * @param {jQuery}              $ui       [in] 検索対象の jQuery オブジェクト\n             * @param {DomExtensionOptions} [options] [in] オプション\n             */\n            function applyDomExtension($ui, options) {\n                $ui.find(\".ui-slider-input\")\n                    .on(\"slidestop\", function (event) {\n                    var $handles = $(event.currentTarget)\n                        .parent()\n                        .find(\".ui-slider-handle\");\n                    $handles.blur();\n                });\n                return $ui;\n            }\n            // 登録\n            UI.ExtensionManager.registerDomExtension(applyDomExtension);\n        })(Extension = UI.Extension || (UI.Extension = {}));\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var UI;\n    (function (UI) {\n        var Extension;\n        (function (Extension) {\n            //! iScroll.click patch\n            var patch_IScroll_utils_click = function (event) {\n                var target = event.target;\n                var e = event;\n                var ev;\n                // [CDP modified]: set target.clientX.\n                if (null == target.clientX || null == target.clientY) {\n                    if (null != e.pageX && null != e.pageY) {\n                        target.clientX = e.pageX;\n                        target.clientY = e.pageY;\n                    }\n                    else if (e.changedTouches && e.changedTouches[0]) {\n                        target.clientX = e.changedTouches[0].pageX;\n                        target.clientY = e.changedTouches[0].pageY;\n                    }\n                }\n                if (!(/(SELECT|INPUT|TEXTAREA)/i).test(target.tagName)) {\n                    ev = document.createEvent(\"MouseEvents\");\n                    ev.initMouseEvent(\"click\", true, true, e.view, 1, target.screenX, target.screenY, target.clientX, target.clientY, e.ctrlKey, e.altKey, e.shiftKey, e.metaKey, 0, null);\n                    ev._constructed = true;\n                    target.dispatchEvent(ev);\n                }\n            };\n            var s_applied = false;\n            /**\n             * iScroll Patch 拡張\n             *\n             * @param {jQuery}              $ui       [in] 検索対象の jQuery オブジェクト\n             * @param {DomExtensionOptions} [options] [in] オプション\n             */\n            function applyPatch($ui, options) {\n                if (!s_applied && UI.global.IScroll && UI.global.IScroll.utils) {\n                    UI.global.IScroll.utils.click = patch_IScroll_utils_click;\n                    s_applied = true;\n                }\n                return $ui;\n            }\n            // 登録\n            UI.ExtensionManager.registerDomExtension(applyPatch);\n        })(Extension = UI.Extension || (UI.Extension = {}));\n    })(UI = CDP.UI || (CDP.UI = {}));\n})(CDP || (CDP = {}));\n\nreturn CDP.UI; }));\n/*!\n * cdp.nativebridge.js 2.0.0\n *\n * Date: 2017-07-04T09:08:11.180Z\n */\n(function (root, factory) { if (typeof define === \"function\" && define.amd) { define(\"cdp.nativebridge\",[\"cdp.promise\"], function () { return factory(root.CDP || (root.CDP = {}), root.jQuery || root.$); }); } else { factory(root.CDP || (root.CDP = {}), root.jQuery || root.$); } }(((this || 0).self || global), function (CDP, $) { CDP.NativeBridge = CDP.NativeBridge || {};\n\nvar CDP;\n(function (CDP) {\n    var NativeBridge;\n    (function (NativeBridge) {\n        var TAG = \"[CDP.NativeBridge.Utils] \";\n        /**\n         * \\~english\n         * @class Utils\n         * @brief The utility class for CDP.NativeBridge.\n         *\n         * \\~japanese\n         * @class Utils\n         * @brief CDP.NativeBridge が使用するユーティリティクラス\n         */\n        var Utils = (function () {\n            function Utils() {\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // public static methods\n            /**\n             * \\~english\n             * Defines error code map from the plugin result to CDP.NativeBridge result code.\n             *\n             * @param errorCode [in] set result code string. ex): \"SUCCESS_OK\"\n             *\n             * \\~japanese\n             * plugin の Result Code を CDP.NativeBridge にマップする\n             *\n             * @param errorCode [in] Result Code 文字列を指定 ex): \"SUCCESS_OK\"\n             */\n            Utils.defineResultCode = function (errorCode) {\n                Object.defineProperty(NativeBridge, errorCode, {\n                    get: function () {\n                        if (Utils.s_pluginReady) {\n                            return CDP.Plugin.NativeBridge[errorCode];\n                        }\n                        else {\n                            return null;\n                        }\n                    },\n                    enumerable: true,\n                    configurable: true\n                });\n            };\n            /**\n             * \\~english\n             * Wait for cordova \"deviceready\" event fired.\n             *\n             * \\~japanese\n             * cordova が 使用可能になるまで待機\n             */\n            Utils.waitForPluginReady = function () {\n                var df = $.Deferred();\n                if (Utils.s_pluginReady) {\n                    return $.Deferred().resolve();\n                }\n                try {\n                    var channel = cordova.require(\"cordova/channel\");\n                    channel.onCordovaReady.subscribe(function () {\n                        if (null != CDP.Plugin.NativeBridge) {\n                            Utils.s_pluginReady = true;\n                            df.resolve();\n                        }\n                        else {\n                            df.reject(TAG + \"'cordova-plugin-cdp-nativebridge' cordova plugin required.\");\n                        }\n                    });\n                }\n                catch (error) {\n                    df.reject(TAG + \"cordova required.\");\n                }\n                return df.promise();\n            };\n            /**\n             * \\~english\n             * Create NativeBridge.Promise object from jQueryDeferred object.\n             *\n             * @param df [in] set jQueryDeferred instance.\n             * @returns NativeBridge.Promise object.\n             *\n             * \\~japanese\n             * Promise オブジェクトの作成\n             * jQueryDeferred オブジェクトから、NativeBridge.Promise オブジェクトを作成する\n             *\n             * @param df [in] jQueryDeferred instance を指定\n             * @returns NativeBridge.Promise オブジェクト\n             */\n            Utils.makePromise = function (df) {\n                return CDP.makePromise(df, {\n                    _bridge: null,\n                    _taskId: null,\n                    abort: function (info) {\n                        var _this = this;\n                        var detail = $.extend({\n                            code: NativeBridge.ERROR_CANCEL,\n                            message: \"abort\",\n                            name: TAG + \"ERROR_CANCEL\",\n                            taskId: this._taskId,\n                        }, info);\n                        var cancel = function () {\n                            if (null != _this._bridge && null != _this._taskId) {\n                                _this._bridge.cancel(_this._taskId, detail);\n                            }\n                            df.reject(detail);\n                        };\n                        if (null != this.dependency) {\n                            if (this.dependency.abort) {\n                                this.dependency.abort(detail);\n                            }\n                            else {\n                                console.error(TAG + \"[call] dependency object doesn't have 'abort()' method.\");\n                            }\n                            if (this.callReject && \"pending\" === this.state()) {\n                                cancel();\n                            }\n                        }\n                        else if (\"pending\" === this.state()) {\n                            cancel();\n                        }\n                    }\n                });\n            };\n            /**\n             * \\~english\n             * Helper function to correctly set up the prototype chain, for subclasses.\n             * The function behavior is same as extend() function of Backbone.js.\n             *\n             * @param protoProps  [in] set prototype properties as object.\n             * @param staticProps [in] set static properties as object.\n             * @returns subclass constructor.\n             *\n             * \\~japanese\n             * クラス継承のためのヘルパー関数\n             * Backbone.js extend() 関数と同等\n             *\n             * @param protoProps  [in] prototype properties をオブジェクトで指定\n             * @param staticProps [in] static properties をオブジェクトで指定\n             * @returns サブクラスのコンストラクタ\n             */\n            Utils.extend = function (protoProps, staticProps) {\n                var parent = this;\n                var child;\n                if (protoProps && protoProps.hasOwnProperty(\"constructor\")) {\n                    child = protoProps.constructor;\n                }\n                else {\n                    child = function () {\n                        return parent.apply(this, arguments);\n                    };\n                }\n                $.extend(child, parent, staticProps);\n                var Surrogate = function () {\n                    this.constructor = child;\n                };\n                Surrogate.prototype = parent.prototype;\n                child.prototype = new Surrogate;\n                if (protoProps) {\n                    $.extend(child.prototype, protoProps);\n                }\n                child.__super__ = parent.prototype;\n                return child;\n            };\n            Utils.s_pluginReady = false;\n            return Utils;\n        }());\n        NativeBridge.Utils = Utils;\n    })(NativeBridge = CDP.NativeBridge || (CDP.NativeBridge = {}));\n})(CDP || (CDP = {}));\nvar CDP;\n(function (CDP) {\n    var NativeBridge;\n    (function (NativeBridge) {\n        var TAG = \"[CDP.NativeBridge.Gate] \";\n        NativeBridge.Utils.defineResultCode(\"SUCCESS_OK\");\n        NativeBridge.Utils.defineResultCode(\"SUCCESS_PROGRESS\");\n        NativeBridge.Utils.defineResultCode(\"ERROR_FAIL\");\n        NativeBridge.Utils.defineResultCode(\"ERROR_CANCEL\");\n        NativeBridge.Utils.defineResultCode(\"ERROR_INVALID_ARG\");\n        NativeBridge.Utils.defineResultCode(\"ERROR_NOT_IMPLEMENT\");\n        NativeBridge.Utils.defineResultCode(\"ERROR_NOT_SUPPORT\");\n        NativeBridge.Utils.defineResultCode(\"ERROR_INVALID_OPERATION\");\n        NativeBridge.Utils.defineResultCode(\"ERROR_CLASS_NOT_FOUND\");\n        NativeBridge.Utils.defineResultCode(\"ERROR_METHOD_NOT_FOUND\");\n        //___________________________________________________________________________________________________________________//\n        /**\n         * \\~english\n         * @class Gate\n         * @brief The base class for NativeBridge communication.\n         *        You can derive any Gate class from this class.\n         *\n         * \\~japanese\n         * @class Gate\n         * @brief NativeBridge と通信するベースクラス\n         *        このクラスから任意の Gate クラスを派生して実装可能\n         */\n        var Gate = (function () {\n            /* tslint:enable:no-unused-variable */\n            /**\n             * \\~english\n             * constructor\n             *\n             * @param feature [in] feature information.\n             * @param options [in] construction options.\n             *\n             * \\~japanese\n             * constructor\n             *\n             * @param feature [in] 初期化情報を指定\n             * @param options [in] オプションを指定\n             */\n            function Gate(feature, options) {\n                var _this = this;\n                NativeBridge.Utils.waitForPluginReady()\n                    .then(function () {\n                    _this._bridge = new CDP.Plugin.NativeBridge(feature, options);\n                    _this._options = $.extend({ receiveParams: true }, options);\n                })\n                    .catch(function (reason) {\n                    throw Error(reason);\n                });\n            }\n            ///////////////////////////////////////////////////////////////////////\n            // override methods\n            /**\n             * \\~english\n             * Execute task.\n             * the function calls the Native class method from correspondent method name.\n             *\n             * @param method  [in] method name of Native class\n             * @param args    [in] set arguments by array type.\n             * @param options [in] set exec options.\n             * @returns Promise object.\n             *\n             * \\~japanese\n             * タスクの実行\n             * 指定した method 名に対応する Native Class の method を呼び出す。\n             *\n             * @param method  [in] Native Class のメソッド名を指定\n             * @param args    [in] 引数を配列で指定\n             * @param options [in] 実行オプションを指定\n             * @returns Promise オブジェクト\n             */\n            Gate.prototype.exec = function (method, args, options) {\n                var _this = this;\n                var df = $.Deferred();\n                var promise = NativeBridge.Utils.makePromise(df);\n                var opt = $.extend({}, this._options, options);\n                NativeBridge.Utils.waitForPluginReady()\n                    .then(function () {\n                    var taskId = _this._bridge.exec(function (result) {\n                        if (NativeBridge.SUCCESS_PROGRESS === result.code) {\n                            if (opt.receiveParams) {\n                                df.notify.apply(df, result.params.concat([result]));\n                            }\n                            else {\n                                df.notify(result);\n                            }\n                        }\n                        else {\n                            if (opt.receiveParams) {\n                                df.resolve.apply(df, result.params.concat([result]));\n                            }\n                            else {\n                                df.resolve(result);\n                            }\n                        }\n                    }, function (error) {\n                        df.reject(error);\n                    }, method, args, options);\n                    // set internal properties.\n                    promise._bridge = _this._bridge;\n                    promise._taskId = taskId;\n                })\n                    .catch(function () {\n                    df.reject(_this.makeFatal());\n                });\n                return promise;\n            };\n            /**\n             * \\~english\n             * Cancel all tasks.\n             *\n             * @param options [in] set execute options.\n             * @returns Promise object.\n             *\n             * \\~japanese\n             * すべてのタスクのキャンセル\n             *\n             * @param options [in] 実行オプションを指定\n             * @returns Promise オブジェクト\n             */\n            Gate.prototype.cancel = function (options) {\n                var _this = this;\n                var df = $.Deferred();\n                NativeBridge.Utils.waitForPluginReady()\n                    .then(function () {\n                    _this._bridge.cancel(null, options, function (result) {\n                        df.resolve(result);\n                    }, function (error) {\n                        df.reject(error);\n                    });\n                })\n                    .catch(function () {\n                    df.reject(_this.makeFatal());\n                });\n                return df.promise();\n            };\n            /**\n             * \\~english\n             * Destruction for the instance.\n             * release Native class reference. after that, exec() becomes invalid.\n             *\n             * @param options [in] set execute options.\n             * @returns Promise object.\n             *\n             * \\~japanese\n             * インスタンスの破棄\n             * Native の参照を解除する。以降、exec は無効となる。\n             *\n             * @param options [in] 実行オプションを指定\n             * @returns Promise オブジェクト\n             */\n            Gate.prototype.dispose = function (options) {\n                var _this = this;\n                var df = $.Deferred();\n                NativeBridge.Utils.waitForPluginReady()\n                    .then(function () {\n                    _this._bridge.dispose(options, function (result) {\n                        df.resolve(result);\n                    }, function (error) {\n                        df.reject(error);\n                    });\n                })\n                    .catch(function () {\n                    df.reject(_this.makeFatal());\n                });\n                return df.promise();\n            };\n            Object.defineProperty(Gate.prototype, \"bridge\", {\n                ///////////////////////////////////////////////////////////////////////\n                // protected methods\n                /**\n                 * \\~english\n                 * Access to Plugin.NativeBridge object.\n                 * If you want to use low level exec(), you can use this accessor.\n                 *\n                 * @returns Plugin.NativeBridge instance.\n                 *\n                 * \\~japanese\n                 * Plugin.NativeBridge オブジェクトへのアクセス\n                 * 低レベル exec() を使用したい場合に利用可能\n                 *\n                 * @returns Plugin.NativeBridge インスタンス.\n                 */\n                get: function () {\n                    return this._bridge;\n                },\n                enumerable: true,\n                configurable: true\n            });\n            ///////////////////////////////////////////////////////////////////////\n            // private methods\n            //! Make fatal error object.\n            Gate.prototype.makeFatal = function () {\n                var msg = TAG + \"fatal error. 'cordova-plugin-cdp-nativebridge' is not available.\";\n                console.error(msg);\n                return {\n                    code: null,\n                    name: TAG + \"ERROR_FATAL\",\n                    message: msg,\n                };\n            };\n            /* tslint:disable:no-unused-variable */\n            // For pure javascript extend helper.\n            Gate.extend = NativeBridge.Utils.extend;\n            return Gate;\n        }());\n        NativeBridge.Gate = Gate;\n    })(NativeBridge = CDP.NativeBridge || (CDP.NativeBridge = {}));\n})(CDP || (CDP = {}));\n\nreturn CDP.NativeBridge; }));\n// amd define function shim\n(function (root) {\n    if (!(typeof define === \"function\" && define.amd)) {\n        root.define = function () { /* noop */ };\n    }\n})(this);\n\ndefine(\"cdp/core/core\", [\"require\", \"exports\", \"cdp.core\"], function (require, exports, _core) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.global = _core.global;\n    exports.coreInitialize = _core.initialize;\n    exports.webRoot = _core.webRoot;\n    exports.Config = _core.Config;\n});\ndefine(\"cdp/core/promise\", [\"require\", \"exports\", \"cdp.promise\"], function (require, exports, _promise) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.makePromise = _promise.makePromise;\n    exports.wait = _promise.wait;\n    exports.PromiseManager = _promise.PromiseManager;\n    exports.Promise = _promise.Promise;\n});\ndefine(\"cdp/core/i18n\", [\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    var i18n = CDP.i18n;\n    exports.i18n = i18n;\n});\ndefine(\"cdp/core/framework.jqm\", [\"require\", \"exports\", \"cdp.framework.jqm\"], function (require, exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.waitForDeviceReady = CDP.waitForDeviceReady;\n    exports.setBackButtonHandler = CDP.setBackButtonHandler;\n});\ndefine(\"cdp/core\", [\"require\", \"exports\", \"cdp/core/core\", \"cdp/core/promise\", \"cdp/core/i18n\", \"cdp/core/framework.jqm\"], function (require, exports, core_1, promise_1, i18n_1, framework_jqm_1) {\n    \"use strict\";\n    function __export(m) {\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    __export(core_1);\n    __export(promise_1);\n    __export(i18n_1);\n    __export(framework_jqm_1);\n});\ndefine(\"cdp/framework/jqm\", [\"require\", \"exports\", \"cdp.framework.jqm\"], function (require, exports, _framework) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.Platform = _framework.Platform;\n    exports.getOrientation = _framework.getOrientation;\n    exports.toUrl = _framework.toUrl;\n    exports.setBeforeRouteChangeHandler = _framework.setBeforeRouteChangeHandler;\n    exports.Router = _framework.Router;\n    exports.initialize = _framework.initialize;\n    exports.isInitialized = _framework.isInitialized;\n    exports.waitForInitialize = _framework.waitForInitialize;\n    exports.registerOrientationChangedListener = _framework.registerOrientationChangedListener;\n    exports.unregisterOrientationChangedListener = _framework.unregisterOrientationChangedListener;\n    exports.getDefaultClickEvent = _framework.getDefaultClickEvent;\n    exports.registerPages = _framework.registerPages;\n    exports.constructPages = _framework.constructPages;\n    exports.disposePages = _framework.disposePages;\n    exports.Page = _framework.Page;\n    exports.Model = _framework.Model;\n    exports.Collection = _framework.Collection;\n    exports.View = _framework.View;\n    exports.Events = _framework.Events;\n});\ndefine(\"cdp/framework\", [\"require\", \"exports\", \"cdp/core/promise\", \"cdp/framework/jqm\"], function (require, exports, promise_2, jqm_1) {\n    \"use strict\";\n    function __export(m) {\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    __export(promise_2);\n    __export(jqm_1);\n});\ndefine(\"cdp/tools/tools\", [\"require\", \"exports\", \"cdp.tools\"], function (require, exports, _tools) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    var Blob;\n    (function (Blob) {\n        Blob.arrayBufferToBlob = _tools.Blob.arrayBufferToBlob;\n        Blob.base64ToBlob = _tools.Blob.base64ToBlob;\n        Blob.base64ToArrayBuffer = _tools.Blob.base64ToArrayBuffer;\n        Blob.base64ToUint8Array = _tools.Blob.base64ToUint8Array;\n        Blob.arrayBufferToBase64 = _tools.Blob.arrayBufferToBase64;\n        Blob.uint8ArrayToBase64 = _tools.Blob.uint8ArrayToBase64;\n        Blob.URL = _tools.Blob.URL;\n    })(Blob = exports.Blob || (exports.Blob = {}));\n    exports.DateTime = _tools.DateTime;\n    exports.abs = _tools.abs;\n    exports.max = _tools.max;\n    exports.min = _tools.min;\n    exports.toZeroPadding = _tools.toZeroPadding;\n    exports.inherit = _tools.inherit;\n    exports.mixin = _tools.mixin;\n    exports.extend = _tools.extend;\n    exports.getDevicePixcelRatio = _tools.getDevicePixcelRatio;\n    exports.Template = _tools.Template;\n});\ndefine(\"cdp/tools\", [\"require\", \"exports\", \"cdp/tools/tools\"], function (require, exports, tools_1) {\n    \"use strict\";\n    function __export(m) {\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    __export(tools_1);\n});\ndefine(\"cdp/ui/listview\", [\"require\", \"exports\", \"cdp.ui.listview\"], function (require, exports, _ui) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.ListViewGlobalConfig = _ui.ListViewGlobalConfig;\n    exports.LineProfile = _ui.LineProfile;\n    exports.GroupProfile = _ui.GroupProfile;\n    exports.composeViews = _ui.composeViews;\n    exports.deriveViews = _ui.deriveViews;\n    exports.mixinViews = _ui.mixinViews;\n    exports.StatusManager = _ui.StatusManager;\n    exports.PageProfile = _ui.PageProfile;\n    exports.ScrollerElement = _ui.ScrollerElement;\n    exports.ScrollerNative = _ui.ScrollerNative;\n    exports.ScrollerIScroll = _ui.ScrollerIScroll;\n    exports.ListItemView = _ui.ListItemView;\n    exports.ScrollManager = _ui.ScrollManager;\n    exports.ListView = _ui.ListView;\n    exports.GroupListItemView = _ui.GroupListItemView;\n    exports.ExpandManager = _ui.ExpandManager;\n    exports.ExpandableListView = _ui.ExpandableListView;\n});\ndefine(\"cdp/ui/jqm\", [\"require\", \"exports\", \"cdp.ui.jqm\"], function (require, exports, _ui) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.Theme = _ui.Theme;\n    exports.ExtensionManager = _ui.ExtensionManager;\n    var Toast;\n    (function (Toast) {\n        Toast.LENGTH_SHORT = _ui.Toast.LENGTH_SHORT;\n        Toast.LENGTH_LONG = _ui.Toast.LENGTH_LONG;\n        Toast.StyleBuilderDefault = _ui.Toast.StyleBuilderDefault;\n        Toast.show = _ui.Toast.show;\n    })(Toast = exports.Toast || (exports.Toast = {}));\n    exports.Dialog = _ui.Dialog;\n    exports.alert = _ui.alert;\n    exports.confirm = _ui.confirm;\n    exports.prompt = _ui.prompt;\n    exports.BaseHeaderView = _ui.BaseHeaderView;\n    exports.BasePage = _ui.BasePage;\n    exports.PageContainerView = _ui.PageContainerView;\n    exports.PageView = _ui.PageView;\n    exports.PageListView = _ui.PageListView;\n    exports.PageExpandableListView = _ui.PageExpandableListView;\n});\ndefine(\"cdp/ui\", [\"require\", \"exports\", \"cdp/core/promise\", \"cdp/ui/listview\", \"cdp/ui/jqm\"], function (require, exports, promise_3, listview_1, jqm_2) {\n    \"use strict\";\n    function __export(m) {\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    __export(promise_3);\n    __export(listview_1);\n    __export(jqm_2);\n});\ndefine(\"cdp/bridge/nativebridge\", [\"require\", \"exports\", \"cdp.nativebridge\"], function (require, exports, _bridge) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.Gate = _bridge.Gate;\n});\ndefine(\"cdp/bridge\", [\"require\", \"exports\", \"cdp/bridge/nativebridge\"], function (require, exports, nativebridge_1) {\n    \"use strict\";\n    function __export(m) {\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    __export(nativebridge_1);\n});\ndefine([\"require\", \"exports\", \"cdp/core\", \"cdp/framework\", \"cdp/tools\", \"cdp/ui\", \"cdp/bridge\"], function (require, exports, core_2, Framework, Tools, UI, NativeBridge) {\n    \"use strict\";\n    function __export(m) {\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n    }\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    __export(core_2);\n    exports.Framework = Framework;\n    exports.Tools = Tools;\n    exports.UI = UI;\n    exports.NativeBridge = NativeBridge;\n    exports.initialize = Framework.initialize;\n    exports.isInitialized = Framework.isInitialized;\n    exports.waitForInitialize = Framework.waitForInitialize;\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNkcDovLy9DRFAvUHJvbWlzZS50cyIsIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAxYzdlNDZhYTQzMjJjZGNiNmZkNiIsImNkcDovLy9DRFAvaTE4bi50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwvIHtcInJvb3RcIjpcImpRdWVyeVwiLFwiY29tbW9uanNcIjpcImpxdWVyeVwiLFwiY29tbW9uanMyXCI6XCJqcXVlcnlcIixcImFtZFwiOlwianF1ZXJ5XCJ9Iiwid2VicGFjazovLy9leHRlcm5hbC8ge1wicm9vdFwiOlwiQ0RQXCIsXCJjb21tb25qc1wiOlwiY2RwLmNvcmVcIixcImNvbW1vbmpzMlwiOlwiY2RwLmNvcmVcIixcImFtZFwiOlwiY2RwLmNvcmVcIn0iLCJ3ZWJwYWNrOi8vL2V4dGVybmFsLyB7XCJyb290XCI6XCJDRFBcIixcImNvbW1vbmpzXCI6XCJjZHAucHJvbWlzZVwiLFwiY29tbW9uanMyXCI6XCJjZHAucHJvbWlzZVwiLFwiYW1kXCI6XCJjZHAucHJvbWlzZVwifSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwvaTE4bmV4dC9zY3JpcHRzL2pxdWVyeS1pMThuZXh0LmpzIiwid2VicGFjazovLy9leHRlcm5hbC9pMThuZXh0L3NjcmlwdHMvaTE4bmV4dC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwvaTE4bmV4dC9zY3JpcHRzL2kxOG5leHRYSFJCYWNrZW5kLmpzIiwid2VicGFjazovLy9leHRlcm5hbC9pMThuZXh0L3NjcmlwdHMvaTE4bmV4dExvY2FsU3RvcmFnZUNhY2hlLmpzIiwid2VicGFjazovLy9leHRlcm5hbC9pMThuZXh0L3NjcmlwdHMvaTE4bmV4dFNwcmludGZQb3N0UHJvY2Vzc29yLmpzIiwid2VicGFjazovLy9leHRlcm5hbC9pMThuZXh0L3NjcmlwdHMvaTE4bmV4dEJyb3dzZXJMYW5ndWFnZURldGVjdG9yLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAwNWM1YmI0YzYyMjJjODAwMWVkYyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwvanF1ZXJ5L3NjcmlwdHMvanF1ZXJ5Lm1vYmlsZS5qcyIsImNkcDovLy9DRFAvRnJhbWV3b3JrL0ludGVyZmFjZXMudHMiLCJjZHA6Ly8vQ0RQL0ZyYW1ld29yay9QbGF0Zm9ybS50cyIsImNkcDovLy9DRFAvRnJhbWV3b3JrL1BhdGNoLnRzIiwiY2RwOi8vL0NEUC9GcmFtZXdvcmsvT3JpZW50YXRpb24udHMiLCJjZHA6Ly8vQ0RQL0ZyYW1ld29yay9Db3JlQVBJLnRzIiwiY2RwOi8vL0NEUC9GcmFtZXdvcmsvUm91dGVyLnRzIiwiY2RwOi8vL0NEUC9GcmFtZXdvcmsvUGFnZS50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwvIHtcInJvb3RcIjpcIkNEUFwiLFwiY29tbW9uanNcIjpcImNkcC5pMThuXCIsXCJjb21tb25qczJcIjpcImNkcC5pMThuXCIsXCJhbWRcIjpcImNkcC5pMThuXCJ9Iiwid2VicGFjazovLy9leHRlcm5hbC8ge1wicm9vdFwiOlwiQmFja2JvbmVcIixcImNvbW1vbmpzXCI6XCJiYWNrYm9uZVwiLFwiY29tbW9uanMyXCI6XCJiYWNrYm9uZVwiLFwiYW1kXCI6XCJiYWNrYm9uZVwifSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwvanF1ZXJ5L3NjcmlwdHMvanF1ZXJ5LW1pZ3JhdGUuanMiLCJjZHA6Ly8vQ0RQL1Rvb2xzL1V0aWxzLnRzIiwiY2RwOi8vL0NEUC9Ub29scy9CbG9iLnRzIiwiY2RwOi8vL0NEUC9Ub29scy9CaW5hcnlUcmFuc3BvcnQudHMiLCJjZHA6Ly8vQ0RQL1Rvb2xzL0RhdGVUaW1lLnRzIiwiY2RwOi8vL0NEUC9Ub29scy9GdW5jdGlvbnMudHMiLCJjZHA6Ly8vQ0RQL1Rvb2xzL1RlbXBsYXRlLnRzIiwiY2RwOi8vL0NEUC9VSS9saXN0dmlldy9JbnRlcmZhY2VzLnRzIiwiY2RwOi8vL0NEUC9VSS9saXN0dmlldy9Db25maWcudHMiLCJjZHA6Ly8vQ0RQL1VJL2xpc3R2aWV3L1V0aWxzLnRzIiwiY2RwOi8vL0NEUC9VSS9saXN0dmlldy9TdGF0dXNNYW5hZ2VyLnRzIiwiY2RwOi8vL0NEUC9VSS9saXN0dmlldy9MaW5lUHJvZmlsZS50cyIsImNkcDovLy9DRFAvVUkvbGlzdHZpZXcvUGFnZVByb2ZpbGUudHMiLCJjZHA6Ly8vQ0RQL1VJL2xpc3R2aWV3L0dyb3VwUHJvZmlsZS50cyIsImNkcDovLy9DRFAvVUkvbGlzdHZpZXcvU2Nyb2xsZXJFbGVtZW50LnRzIiwiY2RwOi8vL0NEUC9VSS9saXN0dmlldy9TY3JvbGxlck5hdGl2ZS50cyIsImNkcDovLy9DRFAvVUkvbGlzdHZpZXcvU2Nyb2xsZXJJU2Nyb2xsLnRzIiwiY2RwOi8vL0NEUC9VSS9saXN0dmlldy9MaXN0SXRlbVZpZXcudHMiLCJjZHA6Ly8vQ0RQL1VJL2xpc3R2aWV3L1Njcm9sbE1hbmFnZXIudHMiLCJjZHA6Ly8vQ0RQL1VJL2xpc3R2aWV3L0xpc3RWaWV3LnRzIiwiY2RwOi8vL0NEUC9VSS9saXN0dmlldy9Hcm91cExpc3RJdGVtVmlldy50cyIsImNkcDovLy9DRFAvVUkvbGlzdHZpZXcvRXhwYW5kTWFuYWdlci50cyIsImNkcDovLy9DRFAvVUkvbGlzdHZpZXcvRXhwYW5kYWJsZUxpc3RWaWV3LnRzIiwiY2RwOi8vL0NEUC9VSS9qcW0vVGhlbWUudHMiLCJjZHA6Ly8vQ0RQL1VJL2pxbS9FeHRlbnNpb25NYW5hZ2VyLnRzIiwiY2RwOi8vL0NEUC9VSS9qcW0vVG9hc3QudHMiLCJjZHA6Ly8vQ0RQL1VJL2pxbS9EaWFsb2cudHMiLCJjZHA6Ly8vQ0RQL1VJL2pxbS9EaWFsb2dDb21tb25zLnRzIiwiY2RwOi8vL0NEUC9VSS9qcW0vQmFzZUhlYWRlclZpZXcudHMiLCJjZHA6Ly8vQ0RQL1VJL2pxbS9CYXNlUGFnZS50cyIsImNkcDovLy9DRFAvVUkvanFtL1BhZ2VWaWV3LnRzIiwiY2RwOi8vL0NEUC9VSS9qcW0vUGFnZUxpc3RWaWV3LnRzIiwiY2RwOi8vL0NEUC9VSS9qcW0vUGFnZUV4cGFuZGFibGVMaXN0Vmlldy50cyIsImNkcDovLy9DRFAvVUkvanFtL0V4dGVuc2lvbi9SaXBwbGUudHMiLCJjZHA6Ly8vQ0RQL1VJL2pxbS9FeHRlbnNpb24vU3Bpbm5lci50cyIsImNkcDovLy9DRFAvVUkvanFtL0V4dGVuc2lvbi9GbG9hdExhYmVsLnRzIiwiY2RwOi8vL0NEUC9VSS9qcW0vRXh0ZW5zaW9uL0ZsaXBTd2l0Y2gudHMiLCJjZHA6Ly8vQ0RQL1VJL2pxbS9FeHRlbnNpb24vU2xpZGVyLnRzIiwiY2RwOi8vL0NEUC9VSS9qcW0vRXh0ZW5zaW9uL0lTY3JvbGwudHMiLCJjZHA6Ly8vQ0RQL05hdGl2ZUJyaWRnZS9JbnRlcmZhY2VzLnRzIiwiY2RwOi8vL0NEUC9OYXRpdmVCcmlkZ2UvVXRpbHMudHMiLCJjZHA6Ly8vQ0RQL05hdGl2ZUJyaWRnZS9HYXRlLnRzIiwiY2RwOi8vL2V4cG9ydHM6Ly9jZHAvY29yZS9jb3JlLnRzIiwiY2RwOi8vL2V4cG9ydHM6Ly9jZHAvY29yZS9wcm9taXNlLnRzIiwiY2RwOi8vL2V4cG9ydHM6Ly9jZHAvY29yZS9pMThuLnRzIiwiY2RwOi8vL2V4cG9ydHM6Ly9jZHAvY29yZS9mcmFtZXdvcmsuanFtLnRzIiwiY2RwOi8vL2V4cG9ydHM6Ly9jZHAvY29yZS50cyIsImNkcDovLy9leHBvcnRzOi8vY2RwL2ZyYW1ld29yay9qcW0udHMiLCJjZHA6Ly8vZXhwb3J0czovL2NkcC9mcmFtZXdvcmsudHMiLCJjZHA6Ly8vZXhwb3J0czovL2NkcC90b29scy90b29scy50cyIsImNkcDovLy9leHBvcnRzOi8vY2RwL3Rvb2xzLnRzIiwiY2RwOi8vL2V4cG9ydHM6Ly9jZHAvdWkvbGlzdHZpZXcudHMiLCJjZHA6Ly8vZXhwb3J0czovL2NkcC91aS9qcW0udHMiLCJjZHA6Ly8vZXhwb3J0czovL2NkcC91aS50cyIsImNkcDovLy9leHBvcnRzOi8vY2RwL2JyaWRnZS9uYXRpdmVicmlkZ2UudHMiLCJjZHA6Ly8vZXhwb3J0czovL2NkcC9icmlkZ2UudHMiLCJjZHA6Ly8vZXhwb3J0czovL2NkcC50cyIsImNkcDovLy9DRFAvVG9vbHMvSW50ZXJmYWNlcy50cyIsImNkcDovLy9DRFAvVUkvanFtL0ludGVyZmFjZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFVLEdBQUcsQ0FpZVo7QUFqZUQsV0FBVSxHQUFHO0lBRVQsSUFBTSxHQUFHLEdBQVcsZ0JBQWdCLENBQUM7SUE4R3JDOzs7Ozs7T0FNRztJQUNILHdCQUNJLEVBQXFCLEVBQ3JCLE9BQTZDO1FBRTdDLElBQUksYUFBaUMsQ0FBQztRQUN0QyxJQUFJLE1BQXNCLENBQUM7UUFFM0IsRUFBRSxDQUFDLENBQUMsVUFBVSxLQUFLLE9BQU8sT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNoQyxNQUFNLEdBQW1CLE9BQU8sQ0FBQztRQUNyQyxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixhQUFhLEdBQUcsT0FBTyxDQUFDO1lBQ3hCLEVBQUUsQ0FBQyxDQUFDLGFBQWEsSUFBSSxhQUFhLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztnQkFDaEQsTUFBTSxHQUFHLGFBQWEsQ0FBQyxjQUFjLENBQUM7WUFDMUMsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNKLE1BQU0sR0FBRyxjQUFtQixDQUFDLENBQUM7WUFDbEMsQ0FBQztRQUNMLENBQUM7UUFFRCxJQUFNLE1BQU0sR0FBRyxVQUFVLElBQVU7WUFDL0IsSUFBTSxNQUFNLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQztZQUNsRCxN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QTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHFGQUFxRix1REFBdUQ7QUFDNUk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1RkFBdUYsa0JBQWtCOztBQUV6RztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7O0FBRTdEO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRixZQUFZLG9DQUFvQztBQUNoSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHlCQUF5QjtBQUNsRDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUVBQWlFLFlBQVksMkJBQTJCLHNEQUFzRDs7QUFFOUo7QUFDQTtBQUNBLHVFQUF1RTtBQUN2RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsYUFBYSx1SUFBdUksR0FBRyxtYkFBbWIsR0FBRyxnS0FBZ0ssR0FBRyx5RUFBeUUsR0FBRyxpREFBaUQsR0FBRywyQ0FBMkMsR0FBRyw0Q0FBNEMsR0FBRyx3Q0FBd0MsR0FBRyxrQ0FBa0MsR0FBRyw2Q0FBNkMsR0FBRywwQ0FBMEMsR0FBRyxtQ0FBbUMsR0FBRyxtQ0FBbUMsR0FBRyx5Q0FBeUMsR0FBRyx1Q0FBdUMsR0FBRyxzQ0FBc0MsR0FBRyxtQ0FBbUMsR0FBRyx1Q0FBdUMsR0FBRywyQ0FBMkMsR0FBRyxrQ0FBa0MsR0FBRyx1Q0FBdUMsR0FBRyx5Q0FBeUM7O0FBRTNqRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZOztBQUVaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEOztBQUV6RDs7QUFFQTs7QUFFQSx1RkFBdUY7QUFDdkYsdUZBQXVGOztBQUV2Rjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7Ozs7QUFNQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMseUJBQXlCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGNBQWMsZ0JBQWdCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGVBQWU7O0FBRWY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnREFBZ0QsZ0JBQWdCO0FBQ2hFLElBQUk7O0FBRUo7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSxXQUFXO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwyQkFBMkI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjs7QUFFL0I7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRixDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjOztBQUVkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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RjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLFlBQVksRUFBRTtBQUNuQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0osR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7OztBQUlEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLHdDQUF3QztBQUN4QyxJQUFJOztBQUVKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxnQkFBZ0IscUJBQXFCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLFdBQVcsRUFBRTtBQUNsRixJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7OztBQUlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQSxlQUFlLFlBQVk7QUFDM0I7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLENBQUM7Ozs7QUFJRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTtBQUNGLENBQUM7Ozs7QUFJRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyxlQUFlO0FBQzFELENBQUM7OztBQUdEO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsR0FBRztBQUNsQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2Q0FBNkMsU0FBUztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsZUFBZTtBQUNmOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0M7QUFDdEM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxZQUFZLDhCQUE4QjtBQUMxQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlEQUFpRDtBQUNqRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxxQkFBcUI7QUFDMUYsS0FBSztBQUNMLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnRUFBZ0UseURBQXlEO0FBQ3pILG1FQUFtRSx5REFBeUQ7QUFDNUg7QUFDQTtBQUNBOztBQUVBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix5QkFBeUI7QUFDM0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7O0FBRUEsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7Ozs7O0FBS0Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDhDQUE4Qzs7QUFFL0Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQzs7O0FBR0Q7QUFDQTs7QUFFQTs7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Q0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGFBQWE7QUFDckMsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0osR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSw2QkFBNkIsS0FBSzs7QUFFMUM7QUFDQSwyQkFBMkI7O0FBRTNCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0osR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEJBQThCO0FBQzlCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxXQUFXO0FBQ2xEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0Isc0JBQXNCOztBQUV0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsdUJBQXVCLDJEQUEyRDtBQUNsRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQ0FBbUMsd0NBQXdDLEVBQUU7QUFDN0UsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsK0JBQStCLG9FQUFvRTtBQUNuRztBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsOEJBQThCLG1FQUFtRTtBQUNqRztBQUNBLElBQUk7QUFDSixHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBLEdBQUc7O0FBRUgsZ0JBQWdCLDRCQUE0QixFQUFFOztBQUU5QztBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQSx5RUFBeUUsb0NBQW9DLEVBQUU7QUFDL0csQ0FBQzs7O0FBR0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsNkJBQTZCO0FBQzdCLDhCQUE4QjtBQUM5QiwrQkFBK0I7O0FBRS9CO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBOztBQUVBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGLENBQUM7OztBQUdEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFOztBQUVGLENBQUM7OztBQUdEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGLENBQUM7OztBQUdEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSxDQUFDOzs7QUFHRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxDQUFDOztBQUVEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxtQkFBbUIsaUJBQWlCO0FBQ3BDOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELENBQUM7O0FBRUQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixnQkFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7O0FBRUQ7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixnREFBZ0Q7QUFDbkUsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLGVBQWUsNkJBQTZCO0FBQzVDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsMEJBQTBCOztBQUVwQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVELENBQUM7O0FBRUQ7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLGNBQWMsU0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsbUNBQW1DLGFBQWE7QUFDaEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLGNBQWMsaUJBQWlCO0FBQy9CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsaUNBQWlDLFdBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRCxDQUFDOztBQUVEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUJBQXVCO0FBQzVDO0FBQ0E7QUFDQSxDQUFDOztBQUVELENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELENBQUM7O0FBRUQ7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQSxxREFBcUQsWUFBWTtBQUNqRTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsOENBQThDLGtCQUFrQjtBQUNoRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUF1Qix1Q0FBdUM7QUFDOUQscUNBQXFDLGdDQUFnQzs7QUFFckU7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQSw0RkFBNEY7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRix1Q0FBdUM7QUFDdkM7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLENBQUM7O0FBRUQsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBLDBCQUEwQiw4QkFBOEI7QUFDeEQsK0NBQStDLDRCQUE0QjtBQUMzRTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxJQUFJO0FBQ0osRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDOztBQUVELENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUYsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjs7QUFFQTs7QUFFQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUk7O0FBRUosR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUU7O0FBRUYsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFO0FBQ0YsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKLGlDQUFpQyx5QkFBeUI7QUFDMUQsc0JBQXNCO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELENBQUM7O0FBRUQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBLENBQUM7OztBQUdEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhCQUE4QixnQ0FBZ0M7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsNEJBQTRCLHNDQUFzQztBQUNsRSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHVCQUF1QjtBQUM5QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0EsYUFBYSw2QkFBNkI7QUFDMUM7O0FBRUE7QUFDQTs7QUFFQSxxQ0FBcUMsaUNBQWlDLEVBQUU7O0FBRXhFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVTtBQUNWLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVTtBQUNWLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsZ0RBQWdEO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLDJCQUEyQixpQkFBaUI7O0FBRTVDO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxJQUFJLHFDQUFxQztBQUN6QyxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsK0JBQStCOztBQUV6RDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsNEJBQTRCLGtDQUFrQzs7QUFFOUQ7QUFDQSwyQkFBMkIsa0NBQWtDOztBQUU3RDtBQUNBO0FBQ0EsZ0NBQWdDLG1DQUFtQztBQUNuRTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxJQUFJO0FBQ0osRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBLHNCQUFzQixvREFBb0Q7QUFDMUU7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLGdCQUFnQjtBQUM5QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSixFQUFFOztBQUVGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsQ0FBQzs7O0FBR0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQSxnQkFBZ0IsdUJBQXVCOztBQUV2QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnQkFBZ0Isb0JBQW9CO0FBQ3BDO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLDZDQUE2Qzs7QUFFakQ7QUFDQTtBQUNBOztBQUVBLGlDQUFpQzs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7O0FBRTdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGVBQWU7O0FBRWY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVELENBQUM7OztBQUdEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUEsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxDQUFDOztBQUVEOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLG9EQUFvRCx5QkFBeUI7QUFDN0UsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJEQUEyRDs7QUFFM0Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRixDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHlDQUF5QztBQUNyRTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUNBQW1DLFFBQVE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0EscURBQXFELHlCQUF5QjtBQUM5RTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUU7QUFDRixDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUYsQ0FBQzs7O0FBR0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx3Q0FBd0M7QUFDckQsZ0JBQWdCLHdDQUF3QztBQUN4RDtBQUNBOztBQUVBOztBQUVBLGNBQWMsdUNBQXVDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1QkFBdUI7QUFDdkIsa0JBQWtCO0FBQ2xCLG9CQUFvQjs7QUFFcEI7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLG9JQUFvSTtBQUM3SSxTQUFTLHlKQUF5SjtBQUNsSyxTQUFTLDBKQUEwSjtBQUNuSyxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxDQUFDOzs7QUFHRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0EsMEJBQTBCLHNDQUFzQztBQUNoRSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVELENBQUM7OztBQUdEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkMsYUFBYTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsZ0JBQWdCO0FBQy9EO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsWUFBWTtBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsZUFBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0Q0FBNEMsV0FBVztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUgsNENBQTRDLFdBQVc7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQSxnREFBZ0QsYUFBYSxFQUFFO0FBQy9ELEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLHlCQUF5QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBLHdCQUF3Qix5QkFBeUI7QUFDakQsMEJBQTBCLDJCQUEyQjs7QUFFckQ7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHdDQUF3QztBQUN4RDtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQsQ0FBQzs7QUFFRDs7QUFFQSxDQUFDOztBQUVEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztB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QUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7OztBQUdMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjs7QUFFdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FB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QUFDO1FBQ3JELFVBQUksR0FBbUIsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7SUFLdkQsQ0FBQyxFQVZhLEtBQUssR0FBTCxhQUFLLEtBQUwsYUFBSyxRQVVsQjtJQUlZLGNBQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO0lBS3BCLGFBQUssR0FBTSxHQUFHLENBQUMsS0FBSyxDQUFDO0lBQ3JCLGVBQU8sR0FBSSxHQUFHLENBQUMsT0FBTyxDQUFDO0lBQ3ZCLGNBQU0sR0FBSyxHQUFHLENBQUMsTUFBTSxDQUFDO0lBTXRCLHNCQUFjLEdBQUcsR0FBRyxDQUFDLGNBQWMsQ0FBQztJQU9wQyxnQkFBUSxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUM7SUFLeEIseUJBQWlCLEdBQUcsR0FBRyxDQUFDLGlCQUFpQixDQUFDO0lBTzFDLGdCQUFRLEdBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQztJQU14QixvQkFBWSxHQUFHLEdBQUcsQ0FBQyxZQUFZLENBQUM7SUFNaEMsOEJBQXNCLEdBQUcsR0FBRyxDQUFDLHNCQUFzQixDQUFDOzs7Ozs7OztJQzFFakUsb0JBQStCO0lBQy9CLHFCQUE4QjtJQUM5QixnQkFBeUI7Ozs7O0lDQ1osWUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7Ozs7Ozs7O0lDSmpDLHlCQUFzQzs7Ozs7Ozs7SUNVdEMsaUJBQTJCO0lBT2xCLDhCQUFTO0lBQUUsc0JBQUs7SUFBRSxnQkFBRTtJQUFFLG9DQUFZO0lBRzlCLGtCQUFVLEdBQWEsU0FBUyxDQUFDLFVBQVUsQ0FBQztJQUM1QyxxQkFBYSxHQUFVLFNBQVMsQ0FBQyxhQUFhLENBQUM7SUFDL0MseUJBQWlCLEdBQU0sU0FBUyxDQUFDLGlCQUFpQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsibmFtZXNwYWNlIENEUCB7XHJcblxyXG4gICAgY29uc3QgVEFHOiBzdHJpbmcgPSBcIltDRFAuUHJvbWlzZV0gXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaW50ZXJmYWNlIElQcm9taXNlQmFzZVxyXG4gICAgICogQGJyaWVmIE5hdGl2ZSBQcm9taXNlIOOCquODluOCuOOCp+OCr+ODiOOBruaLoeW8teOCpOODs+OCv+ODvOODleOCp+OCpOOCueWumue+qVxyXG4gICAgICogICAgICAgIOOCreODo+ODs+OCu+ODq+OBleOBm+OBn+OBj+OBquOBhOOBjCBhbHdheXMoKSDjgarjgakgalF1ZXJ5IG1ldGhvZCDjgpLmj5DkvpvjgZfjgZ/jgYTloLTlkIjjgavkvb/nlKjjgZnjgosuXHJcbiAgICAgKiAgICAgICAgTmF0aXZlIOOCquODluOCuOOCp+OCr+ODiOOBruaLoeW8teWun+ijheOBr+eEoeOBhOOBn+OCgeOAgWdsb2JhbCDjgavjga/lrprnvqnjgZfjgarjgYQuXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSVByb21pc2VCYXNlPFQ+IGV4dGVuZHMgUHJvbWlzZTxUPiB7XHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBQcm9taXNlIGV4dGVuZHM6XHJcblxyXG4gICAgICAgIHRoZW48VFJlc3VsdDEgPSBULCBUUmVzdWx0MiA9IG5ldmVyPihcbiAgICAgICAgICAgIG9uZnVsZmlsbGVkPzogKFxuICAgICAgICAgICAgICAgICh2YWx1ZTogVCkgPT4gVFJlc3VsdDEgfCBQcm9taXNlTGlrZTxUUmVzdWx0MT5cbiAgICAgICAgICAgICkgfCB1bmRlZmluZWQgfCBudWxsLFxuICAgICAgICAgICAgb25yZWplY3RlZD86IChcbiAgICAgICAgICAgICAgICAocmVhc29uOiBhbnkpID0+IFRSZXN1bHQyIHwgUHJvbWlzZUxpa2U8VFJlc3VsdDI+XG4gICAgICAgICAgICApIHwgdW5kZWZpbmVkIHwgbnVsbFxuICAgICAgICApOiBJUHJvbWlzZUJhc2U8VFJlc3VsdDEgfCBUUmVzdWx0Mj47XG5cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBKUXVlcnlQcm9taXNlIHN0dWZmOlxyXG5cclxuICAgICAgICBzdGF0ZTogKCkgPT4gc3RyaW5nO1xyXG4gICAgICAgIGFsd2F5czogKFxyXG4gICAgICAgICAgICBhbHdheXNDYWxsYmFjazE/OiBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8YW55PiB8IEpRdWVyeVByb21pc2VDYWxsYmFjazxhbnk+W10sXHJcbiAgICAgICAgICAgIC4uLmFsd2F5c0NhbGxiYWNrc046IEFycmF5PEpRdWVyeVByb21pc2VDYWxsYmFjazxhbnk+IHwgSlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPGFueT5bXT5cclxuICAgICAgICApID0+IElQcm9taXNlQmFzZTxUPjtcclxuICAgICAgICBkb25lOiAoXHJcbiAgICAgICAgICAgIGRvbmVDYWxsYmFjazE/OiBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8VD4gfCBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8VD5bXSxcclxuICAgICAgICAgICAgLi4uZG9uZUNhbGxiYWNrTjogQXJyYXk8SlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPFQ+IHwgSlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPFQ+W10+XHJcbiAgICAgICAgKSA9PiBJUHJvbWlzZUJhc2U8VD47XHJcbiAgICAgICAgZmFpbDogKFxyXG4gICAgICAgICAgICBmYWlsQ2FsbGJhY2sxPzogSlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPGFueT4gfCBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8YW55PltdLFxyXG4gICAgICAgICAgICAuLi5mYWlsQ2FsbGJhY2tzTjogQXJyYXk8SlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPGFueT4gfCBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8YW55PltdPlxyXG4gICAgICAgICkgPT4gSVByb21pc2VCYXNlPFQ+O1xyXG4gICAgICAgIHByb2dyZXNzOiAoXHJcbiAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2sxPzogSlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPGFueT4gfCBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8YW55PltdLFxyXG4gICAgICAgICAgICAuLi5wcm9ncmVzc0NhbGxiYWNrTjogQXJyYXk8SlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPGFueT4gfCBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8YW55PltdPlxyXG4gICAgICAgICkgPT4gSVByb21pc2VCYXNlPFQ+O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGludGVyZmFjZSBJUHJvbWlzZVxyXG4gICAgICogQGJyaWVmIOOCreODo+ODs+OCu+ODq+WPr+iDveOBqiBQcm9taXNlIOOCquODluOCuOOCp+OCr+ODiOOBruOCpOODs+OCv+ODvOODleOCp+OCpOOCueWumue+qVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElQcm9taXNlPFQ+IGV4dGVuZHMgSVByb21pc2VCYXNlPFQ+IHtcclxuICAgICAgICAvLyEg44Kt44Oj44Oz44K744Or5Yem55CGXHJcbiAgICAgICAgYWJvcnQoaW5mbz86IGFueSk6IHZvaWQ7XHJcbiAgICAgICAgLy8hIOS+neWtmOOBmeOCiyBwcm9taXNlLlxyXG4gICAgICAgIGRlcGVuZGVuY3k/OiBJUHJvbWlzZTxhbnk+O1xyXG4gICAgICAgIC8vISBhYm9ydCDmmYLjgavoh6rouqvjgoIgcmVqZWN0XHJcbiAgICAgICAgY2FsbFJlamVjdD86IGJvb2xlYW47XHJcbiAgICAgICAgLy8hIOS+neWtmOOBmeOCiyBwcm9taXNlIOOCkuioreWumlxyXG4gICAgICAgIGRlcGVuZE9uPFU+KHByb21pc2U6IElQcm9taXNlPFU+IHwgSlF1ZXJ5WEhSKTogSVByb21pc2U8VT47XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gUHJvbWlzZSBleHRlbmRzOlxyXG5cclxuICAgICAgICB0aGVuPFRSZXN1bHQxID0gVCwgVFJlc3VsdDIgPSBuZXZlcj4oXG4gICAgICAgICAgICBvbmZ1bGZpbGxlZD86IChcbiAgICAgICAgICAgICAgICAodmFsdWU6IFQpID0+IFRSZXN1bHQxIHwgUHJvbWlzZUxpa2U8VFJlc3VsdDE+XG4gICAgICAgICAgICApIHwgdW5kZWZpbmVkIHwgbnVsbCxcbiAgICAgICAgICAgIG9ucmVqZWN0ZWQ/OiAoXG4gICAgICAgICAgICAgICAgKHJlYXNvbjogYW55KSA9PiBUUmVzdWx0MiB8IFByb21pc2VMaWtlPFRSZXN1bHQyPlxuICAgICAgICAgICAgKSB8IHVuZGVmaW5lZCB8IG51bGxcbiAgICAgICAgKTogSVByb21pc2U8VFJlc3VsdDEgfCBUUmVzdWx0Mj47XG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIEpRdWVyeVByb21pc2Ugc3R1ZmY6XHJcblxyXG4gICAgICAgIHN0YXRlOiAoKSA9PiBzdHJpbmc7XHJcbiAgICAgICAgYWx3YXlzOiAoXHJcbiAgICAgICAgICAgIGFsd2F5c0NhbGxiYWNrMT86IEpRdWVyeVByb21pc2VDYWxsYmFjazxhbnk+IHwgSlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPGFueT5bXSxcclxuICAgICAgICAgICAgLi4uYWx3YXlzQ2FsbGJhY2tzTjogQXJyYXk8SlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPGFueT4gfCBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8YW55PltdPlxyXG4gICAgICAgICkgPT4gSVByb21pc2U8VD47XHJcbiAgICAgICAgZG9uZTogKFxyXG4gICAgICAgICAgICBkb25lQ2FsbGJhY2sxPzogSlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPFQ+IHwgSlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPFQ+W10sXHJcbiAgICAgICAgICAgIC4uLmRvbmVDYWxsYmFja046IEFycmF5PEpRdWVyeVByb21pc2VDYWxsYmFjazxUPiB8IEpRdWVyeVByb21pc2VDYWxsYmFjazxUPltdPlxyXG4gICAgICAgICkgPT4gSVByb21pc2U8VD47XHJcbiAgICAgICAgZmFpbDogKFxyXG4gICAgICAgICAgICBmYWlsQ2FsbGJhY2sxPzogSlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPGFueT4gfCBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8YW55PltdLFxyXG4gICAgICAgICAgICAuLi5mYWlsQ2FsbGJhY2tzTjogQXJyYXk8SlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPGFueT4gfCBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8YW55PltdPlxyXG4gICAgICAgICkgPT4gSVByb21pc2U8VD47XHJcbiAgICAgICAgcHJvZ3Jlc3M6IChcclxuICAgICAgICAgICAgcHJvZ3Jlc3NDYWxsYmFjazE/OiBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8YW55PiB8IEpRdWVyeVByb21pc2VDYWxsYmFjazxhbnk+W10sXHJcbiAgICAgICAgICAgIC4uLnByb2dyZXNzQ2FsbGJhY2tOOiBBcnJheTxKUXVlcnlQcm9taXNlQ2FsbGJhY2s8YW55PiB8IEpRdWVyeVByb21pc2VDYWxsYmFjazxhbnk+W10+XHJcbiAgICAgICAgKSA9PiBJUHJvbWlzZTxUPjtcclxuICAgIH1cclxuXHJcbiAgICAvL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18vL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogbWFrZVByb21pc2Ug44Gr5oyH5a6a5Y+v6IO944GqIGNhbmNlbCBjYWxsYmFjayDjga4gYWxpYXMuXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCB0eXBlIGNhbmNlbENhbGxiYWNrID0gKGRldGFpbD86IGFueSkgPT4gdm9pZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcmZhY2UgTWFrZVByb21pc2VPcHRpb25zXHJcbiAgICAgKiBAYnJpZWYgICAgIG1ha2VQcm9taXNlIOOBq+a4oeOBm+OCi+OCquODl+OCt+ODp+ODs1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIE1ha2VQcm9taXNlT3B0aW9ucyB7XHJcbiAgICAgICAgZGVwZW5kZW5jeT86IElQcm9taXNlPGFueT47ICAgICAgICAgLy8hPCDkvp3lrZjjgZnjgosgcHJvbWlzZSDjgpLoqK3lrppcclxuICAgICAgICBjYWxsUmVqZWN0PzogYm9vbGVhbjsgICAgICAgICAgICAgICAvLyE8IGFib3J0IOaZguOBq+iHqui6q+OCgiByZWplY3RcclxuICAgICAgICBjYW5jZWxDYWxsYmFjaz86IGNhbmNlbENhbGxiYWNrOyAgICAvLyE8IOOCreODo+ODs+OCu+ODq+aZguOBq+WRvOOBsOOCjOOCi+mWouaVsFxyXG4gICAgICAgIFtrZXk6IHN0cmluZ106IGFueTsgICAgICAgICAgICAgICAgIC8vITwg5ouh5by144OR44Op44Oh44O844K/XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYW5jZWwg5Y+v6IO944Kq44OW44K444Kn44Kv44OI44Gu5L2c5oiQXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRmICAgICAgIFtpbl0galF1ZXJ5RGVmZXJyZWQgaW5zdGFuY2Ug44KS5oyH5a6aXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucz8gW2luXSBqUXVlcnlQcm9taXNlIOOCkuaLoeW8teOBmeOCi+OCquODluOCuOOCp+OCr+ODiCBvciDjgq3jg6Pjg7Pjgrvjg6vmmYLjgavlkbzjgbPlh7rjgZXjgozjgovplqLmlbDjgpLmjIflrppcclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IENhbmNlbGFibGUgcHJvcGVydHlcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gbWFrZUNhbmNlbGFibGU8VD4oXHJcbiAgICAgICAgZGY6IEpRdWVyeURlZmVycmVkPFQ+LFxyXG4gICAgICAgIG9wdGlvbnM/OiBNYWtlUHJvbWlzZU9wdGlvbnMgfCBjYW5jZWxDYWxsYmFja1xyXG4gICAgKTogeyBkZjogSlF1ZXJ5RGVmZXJyZWQ8VD4sIHRhcmdldDogb2JqZWN0OyBhYm9ydDogKGluZm8/OiBhbnkpID0+IHZvaWQ7IGRlcGVuZE9uOiAocHJvbWlzZTogYW55KSA9PiBKUXVlcnlQcm9taXNlPGFueT4gfSB7XHJcbiAgICAgICAgbGV0IGV4dGVuZE9wdGlvbnM6IE1ha2VQcm9taXNlT3B0aW9ucztcclxuICAgICAgICBsZXQgY2FuY2VsOiBjYW5jZWxDYWxsYmFjaztcclxuXHJcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgY2FuY2VsID0gPGNhbmNlbENhbGxiYWNrPm9wdGlvbnM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZXh0ZW5kT3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgICAgIGlmIChleHRlbmRPcHRpb25zICYmIGV4dGVuZE9wdGlvbnMuY2FuY2VsQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgIGNhbmNlbCA9IGV4dGVuZE9wdGlvbnMuY2FuY2VsQ2FsbGJhY2s7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYW5jZWwgPSAoKSA9PiB7IC8qIG5vb3AgKi8gfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgX2Fib3J0ID0gZnVuY3Rpb24gKGluZm8/OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICAgICAgY29uc3QgZGV0YWlsID0gaW5mbyA/IGluZm8gOiB7IG1lc3NhZ2U6IFwiYWJvcnRcIiB9O1xyXG4gICAgICAgICAgICBjYW5jZWwoZGV0YWlsKTtcclxuICAgICAgICAgICAgaWYgKG51bGwgIT0gdGhpcy5kZXBlbmRlbmN5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZXBlbmRlbmN5LmFib3J0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXBlbmRlbmN5LmFib3J0KGRldGFpbCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHICsgXCJbY2FsbF0gZGVwZW5kZW5jeSBvYmplY3QgZG9lc24ndCBoYXZlICdhYm9ydCgpJyBtZXRob2QuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FsbFJlamVjdCAmJiBcInBlbmRpbmdcIiA9PT0gdGhpcy5zdGF0ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGYucmVqZWN0KGRldGFpbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXCJwZW5kaW5nXCIgPT09IHRoaXMuc3RhdGUoKSkge1xyXG4gICAgICAgICAgICAgICAgZGYucmVqZWN0KGRldGFpbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBfZGVwZW5kT24gPSBmdW5jdGlvbiAocHJvbWlzZTogYW55KTogSlF1ZXJ5UHJvbWlzZTxhbnk+IHtcclxuICAgICAgICAgICAgaWYgKHByb21pc2UuYWJvcnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVwZW5kZW5jeSA9IHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlXHJcbiAgICAgICAgICAgICAgICAgICAgLmFsd2F5cygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVwZW5kZW5jeSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFRBRyArIFwiW3NldF0gZGVwZW5kZW5jeSBvYmplY3QgZG9lc24ndCBoYXZlICdhYm9ydCgpJyBtZXRob2QuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IF90YXJnZXQgPSAkLmV4dGVuZCh7fSwge1xyXG4gICAgICAgICAgICBkZXBlbmRlbmN5OiBudWxsLFxyXG4gICAgICAgICAgICBjYWxsUmVqZWN0OiBmYWxzZSxcclxuICAgICAgICB9LCBleHRlbmRPcHRpb25zKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGY6IGRmLFxyXG4gICAgICAgICAgICB0YXJnZXQ6IF90YXJnZXQsXHJcbiAgICAgICAgICAgIGFib3J0OiBfYWJvcnQsXHJcbiAgICAgICAgICAgIGRlcGVuZE9uOiBfZGVwZW5kT24sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByb21pc2Ug44Kq44OW44K444Kn44Kv44OI44Gu5L2c5oiQXHJcbiAgICAgKiBqUXVlcnlEZWZlcnJlZCDjgqrjg5bjgrjjgqfjgq/jg4jjgYvjgonjgIFUb29scy5Qcm9taXNlIOOCquODluOCuOOCp+OCr+ODiOOCkuS9nOaIkOOBmeOCi1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkZiAgICAgICBbaW5dIGpRdWVyeURlZmVycmVkIGluc3RhbmNlIOOCkuaMh+WumlxyXG4gICAgICogQHBhcmFtIG9wdGlvbnM/IFtpbl0galF1ZXJ5UHJvbWlzZSDjgpLmi6HlvLXjgZnjgovjgqrjg5bjgrjjgqfjgq/jg4ggb3Ig44Kt44Oj44Oz44K744Or5pmC44Gr5ZG844Gz5Ye644GV44KM44KL6Zai5pWw44KS5oyH5a6aXHJcbiAgICAgKiBAcmV0dXJucyBJUHJvbWlzZSDjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIG1ha2VQcm9taXNlPFQ+KGRmOiBKUXVlcnlEZWZlcnJlZDxUPiwgb3B0aW9ucz86IE1ha2VQcm9taXNlT3B0aW9ucyB8IGNhbmNlbENhbGxiYWNrKTogSVByb21pc2U8VD4ge1xyXG4gICAgICAgIGNvbnN0IGNhbmNlbGFibGUgPSBtYWtlQ2FuY2VsYWJsZShkZiwgb3B0aW9ucyk7XHJcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IDxJUHJvbWlzZTxUPj48YW55PmRmLnByb21pc2UoY2FuY2VsYWJsZS50YXJnZXQpO1xyXG4gICAgICAgIGlmIChudWxsID09IHByb21pc2UuYWJvcnQpIHtcclxuICAgICAgICAgICAgcHJvbWlzZS5hYm9ydCA9IGNhbmNlbGFibGUuYWJvcnQuYmluZChwcm9taXNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG51bGwgPT0gcHJvbWlzZS5kZXBlbmRPbikge1xyXG4gICAgICAgICAgICBwcm9taXNlLmRlcGVuZE9uID0gY2FuY2VsYWJsZS5kZXBlbmRPbi5iaW5kKHByb21pc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgIH1cclxuXHJcbiAgICAvL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18vL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHJvbWlzZSDjgqrjg5bjgrjjgqfjgq/jg4jjga7ntYLkuobjgpLlvoXjgaRcclxuICAgICAqICQud2hlbigpIOOBr+WkseaVl+OBmeOCi+OBqOOBmeOBkOOBq+WItuW+oeOCkui/lOOBmeOBruOBq+WvvuOBl+OAgeWkseaVl+OCguWQq+OCgeOBpuW+heOBpCBQcm9taXNlIOOCquODluOCuOOCp+OCr+ODiOOCkui/lOWNtFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkZWZlcnJlZHMgW2luXSBQcm9taXNlIOOCquODluOCuOOCp+OCr+ODiCjlj6/lpInlvJXmlbAsIOmFjeWIlylcclxuICAgICAqIEByZXR1cm5zIFByb21pc2Ug44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiB3YWl0PFQ+KC4uLmRlZmVycmVkczogUHJvbWlzZTxUPltdKTogSVByb21pc2VCYXNlPFQ+O1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHdhaXQ8VD4oLi4uZGVmZXJyZWRzOiBKUXVlcnlHZW5lcmljUHJvbWlzZTxUPltdKTogSVByb21pc2VCYXNlPFQ+O1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHdhaXQ8VD4oLi4uZGVmZXJyZWRzOiBUW10pOiBJUHJvbWlzZUJhc2U8VD47XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gd2FpdDxUPiguLi5kZWZlcnJlZHM6IGFueVtdKTogSVByb21pc2VCYXNlPFQ+IHtcclxuXHJcbiAgICAgICAgLy8g5oqV5YWl5rOV44GM5Y+v5aSJ5byV5pWw44Gg44Gj44Gf5aC05ZCI44Gv6YWN5YiX44Gr5L+u5q2j44GZ44KLXHJcbiAgICAgICAgY29uc3QgX2RlZmVycmVkczogSlF1ZXJ5UHJvbWlzZTxUPltdID0gW10uY29uY2F0LmFwcGx5KFtdLCBkZWZlcnJlZHMpO1xyXG5cclxuICAgICAgICAvLyDlrp/pmpvjga7kvZzmpa1cclxuICAgICAgICBjb25zdCBkZiA9ICQuRGVmZXJyZWQoKTtcclxuICAgICAgICBjb25zdCByZXN1bHRzID0gW107XHJcbiAgICAgICAgbGV0IGluaXRpYWxpemVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGNvbnN0IGlzRmluaXNoZWQgPSAoKTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhcmVzdWx0cy5zb21lKChlbGVtZW50OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJwZW5kaW5nXCIgPT09IGVsZW1lbnQuc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBfZGVmZXJyZWRzLmZvckVhY2goKGRlZmVycmVkLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICByZXN1bHRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcInBlbmRpbmdcIixcclxuICAgICAgICAgICAgICAgIGFyZ3M6IG51bGwsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkZWZlcnJlZFxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1tpbmRleF0uc3RhdHVzID0gXCJyZXNvbHZlZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHNbaW5kZXhdLmFyZ3MgPSBhcmdzO1xyXG4gICAgICAgICAgICAgICAgfSwgKC4uLmFyZ3M6IGFueVtdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1tpbmRleF0uc3RhdHVzID0gXCJyZWplY3RlZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHNbaW5kZXhdLmFyZ3MgPSBhcmdzO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hbHdheXMoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0ZpbmlzaGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGYucmVzb2x2ZShyZXN1bHRzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmIChpc0ZpbmlzaGVkKCkpIHtcclxuICAgICAgICAgICAgZGYucmVzb2x2ZShyZXN1bHRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiA8YW55PmRmLnByb21pc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByb21pc2Ug44Kq44OW44K444Kn44Kv44OI44Gu5pyA5Yid44Gu5a6M5LqG44KS5b6F44GkXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRlZmVycmVkcyBbaW5dIFByb21pc2Ug44Kq44OW44K444Kn44Kv44OIKOWPr+WkieW8leaVsCwg6YWN5YiXKVxyXG4gICAgICogQHJldHVybnMgUHJvbWlzZSDjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHJhY2U8VD4oLi4uZGVmZXJyZWRzOiBQcm9taXNlPFQ+W10pOiBJUHJvbWlzZUJhc2U8VD47XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gcmFjZTxUPiguLi5kZWZlcnJlZHM6IEpRdWVyeUdlbmVyaWNQcm9taXNlPFQ+W10pOiBJUHJvbWlzZUJhc2U8VD47XHJcbiAgICBleHBvcnQgZnVuY3Rpb24gcmFjZTxUPiguLi5kZWZlcnJlZHM6IFRbXSk6IElQcm9taXNlQmFzZTxUPjtcclxuICAgIGV4cG9ydCBmdW5jdGlvbiByYWNlPFQ+KC4uLmRlZmVycmVkczogYW55W10pOiBJUHJvbWlzZUJhc2U8VD4ge1xyXG4gICAgICAgIGNvbnN0IGRmID0gJC5EZWZlcnJlZCgpO1xyXG5cclxuICAgICAgICBjb25zdCBfZGVmZXJyZWRzOiBKUXVlcnlQcm9taXNlPFQ+W10gPSBbXS5jb25jYXQuYXBwbHkoW10sIGRlZmVycmVkcyk7XHJcbiAgICAgICAgX2RlZmVycmVkcy5mb3JFYWNoKChkZWZlcnJlZCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgZGVmZXJyZWRcclxuICAgICAgICAgICAgICAgIC50aGVuKCguLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcInBlbmRpbmdcIiA9PT0gZGYuc3RhdGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZi5yZXNvbHZlKGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sICguLi5hcmdzOiBhbnlbXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcInBlbmRpbmdcIiA9PT0gZGYuc3RhdGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZi5yZWplY3QoYXJncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiA8YW55PmRmLnByb21pc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18vL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIFByb21pc2VNYW5hZ2VyXHJcbiAgICAgKiBAYnJpZWYg6KSH5pWw44GuIERhdGFQcm92aWRlci5Qcm9taXNlIOOCkueuoeeQhuOBmeOCi+OCr+ODqeOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgY2xhc3MgUHJvbWlzZU1hbmFnZXIge1xyXG5cclxuICAgICAgICBwcml2YXRlIF9wb29sOiB7IHByb21pc2U6IElQcm9taXNlPGFueT47IGlkOiBudW1iZXI7IH1bXSA9IFtdO1xyXG4gICAgICAgIHByaXZhdGUgX2lkOiBudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIHB1YmxpYyBtZXRob2RcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUHJvbWlzZSDjgpLnrqHnkIbkuIvjgavov73liqBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBwcm9taXNlIFtpbl0g566h55CG5a++6LGh44Gu44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICogQHJldHVybnMg5byV5pWw44Gr5rih44GX44Gf44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIGFkZDxUPihwcm9taXNlOiBJUHJvbWlzZTxUPiB8IEpRdWVyeVhIUik6IElQcm9taXNlPFQ+IHtcclxuICAgICAgICAgICAgaWYgKHByb21pc2UgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGFib3J0KCkg44KS5oyB44Gj44Gm44GE44Gq44GE5aC05ZCI44Gv44Ko44Op44O8XHJcbiAgICAgICAgICAgIGlmICghcHJvbWlzZS5hYm9ydCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihUQUcgKyBcIlthZGRdIHByb21pc2Ugb2JqZWN0IGRvZXNuJ3QgaGF2ZSAnYWJvcnQoKScgbWV0aG9kLlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiA8YW55PnByb21pc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNvb2tpZSA9IHtcclxuICAgICAgICAgICAgICAgIHByb21pc2U6IDxhbnk+cHJvbWlzZSxcclxuICAgICAgICAgICAgICAgIGlkOiB0aGlzLl9pZCsrLFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fcG9vbC5wdXNoKGNvb2tpZSk7XHJcblxyXG4gICAgICAgICAgICAoPGFueT5wcm9taXNlKVxyXG4gICAgICAgICAgICAgICAgLmFsd2F5cygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9vbCA9IHRoaXMuX3Bvb2wuZmlsdGVyKChlbGVtZW50OiB7IHByb21pc2U6IElQcm9taXNlPGFueT47IGlkOiBudW1iZXI7IH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuaWQgIT09IGNvb2tpZS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIDxhbnk+cHJvbWlzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOeuoeeQhuWvvuixoeOBriBQcm9taXNlIOOBq+WvvuOBl+OBpiBhYm9ydCDjgpLnmbrooYxcclxuICAgICAgICAgKiDjgq3jg6Pjg7Pjgrvjg6vlh6bnkIbjgavlr77jgZnjgovjgq3jg6Pjg7Pjgrvjg6vjga/kuI3lj69cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm5zIFByb21pc2Ug44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIGNhbmNlbChpbmZvPzogYW55KTogSVByb21pc2VCYXNlPGFueT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IHRoaXMucHJvbWlzZXMoKTtcclxuICAgICAgICAgICAgcHJvbWlzZXMuZm9yRWFjaCgoZWxlbWVudDogSVByb21pc2U8YW55PikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuYWJvcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFib3J0KGluZm8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHdhaXQuYXBwbHkobnVsbCwgcHJvbWlzZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog566h55CG5a++6LGh44GuIFByb21pc2Ug44KS6YWN5YiX44Gn6L+U44GZXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJucyBQcm9taXNlIOOCquODluOCuOOCp+OCr+ODiOmFjeWIl1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBwcm9taXNlcygpOiBJUHJvbWlzZTxhbnk+W10ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9vbC5tYXAoKGVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LnByb21pc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18vL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIFByb21pc2VDb25zdHJ1Y3RvclxyXG4gICAgICogQGJyaWVmIEVTNiBQcm9taXNlIOS6kuaPm+OBriBQcm9taXNlIOOCquODluOCuOOCp+OCr+ODiOOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgY2xhc3MgUHJvbWlzZUNvbnN0cnVjdG9yPFQ+IGltcGxlbWVudHMgSVByb21pc2U8VD4ge1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIG1peGluOiBuYXRpdmUgUHJvbWlzZVxyXG5cclxuICAgICAgICB0aGVuOiA8VFJlc3VsdDEgPSBULCBUUmVzdWx0MiA9IG5ldmVyPihcbiAgICAgICAgICAgIG9uZnVsZmlsbGVkPzogKFxuICAgICAgICAgICAgICAgICh2YWx1ZTogVCkgPT4gVFJlc3VsdDEgfCBQcm9taXNlTGlrZTxUUmVzdWx0MT5cbiAgICAgICAgICAgICkgfCB1bmRlZmluZWQgfCBudWxsLFxuICAgICAgICAgICAgb25yZWplY3RlZD86IChcbiAgICAgICAgICAgICAgICAocmVhc29uOiBhbnkpID0+IFRSZXN1bHQyIHwgUHJvbWlzZUxpa2U8VFJlc3VsdDI+XG4gICAgICAgICAgICApIHwgdW5kZWZpbmVkIHwgbnVsbFxuICAgICAgICApID0+IElQcm9taXNlPFRSZXN1bHQxIHwgVFJlc3VsdDI+O1xuXHJcbiAgICAgICAgY2F0Y2g6IDxUUmVzdWx0ID0gbmV2ZXI+KFxyXG4gICAgICAgICAgICBvbnJlamVjdGVkPzogKChyZWFzb246IGFueSkgPT4gVFJlc3VsdCB8IFByb21pc2VMaWtlPFRSZXN1bHQ+KSB8IHVuZGVmaW5lZCB8IG51bGxcclxuICAgICAgICApID0+IElQcm9taXNlQmFzZTxUUmVzdWx0PjtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBtaXhpbjogSlF1ZXJ5UHJvbWlzZVxyXG5cclxuICAgICAgICBzdGF0ZTogKCkgPT4gc3RyaW5nO1xyXG4gICAgICAgIGFsd2F5czogKFxyXG4gICAgICAgICAgICBhbHdheXNDYWxsYmFjazE/OiBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8YW55PiB8IEpRdWVyeVByb21pc2VDYWxsYmFjazxhbnk+W10sXHJcbiAgICAgICAgICAgIC4uLmFsd2F5c0NhbGxiYWNrc046IEFycmF5PEpRdWVyeVByb21pc2VDYWxsYmFjazxhbnk+IHwgSlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPGFueT5bXT5cclxuICAgICAgICApID0+IElQcm9taXNlPFQ+O1xyXG4gICAgICAgIGRvbmU6IChcclxuICAgICAgICAgICAgZG9uZUNhbGxiYWNrMT86IEpRdWVyeVByb21pc2VDYWxsYmFjazxUPiB8IEpRdWVyeVByb21pc2VDYWxsYmFjazxUPltdLFxyXG4gICAgICAgICAgICAuLi5kb25lQ2FsbGJhY2tOOiBBcnJheTxKUXVlcnlQcm9taXNlQ2FsbGJhY2s8VD4gfCBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8VD5bXT5cclxuICAgICAgICApID0+IElQcm9taXNlPFQ+O1xyXG4gICAgICAgIGZhaWw6IChcclxuICAgICAgICAgICAgZmFpbENhbGxiYWNrMT86IEpRdWVyeVByb21pc2VDYWxsYmFjazxhbnk+IHwgSlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPGFueT5bXSxcclxuICAgICAgICAgICAgLi4uZmFpbENhbGxiYWNrc046IEFycmF5PEpRdWVyeVByb21pc2VDYWxsYmFjazxhbnk+IHwgSlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPGFueT5bXT5cclxuICAgICAgICApID0+IElQcm9taXNlPFQ+O1xyXG4gICAgICAgIHByb2dyZXNzOiAoXHJcbiAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2sxPzogSlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPGFueT4gfCBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8YW55PltdLFxyXG4gICAgICAgICAgICAuLi5wcm9ncmVzc0NhbGxiYWNrTjogQXJyYXk8SlF1ZXJ5UHJvbWlzZUNhbGxiYWNrPGFueT4gfCBKUXVlcnlQcm9taXNlQ2FsbGJhY2s8YW55PltdPlxyXG4gICAgICAgICkgPT4gSVByb21pc2U8VD47XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gbWl4aW46IEpRdWVyeURlZmVycmVkXHJcblxyXG4gICAgICAgIC8qIHRzbGludDpkaXNhYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG4gICAgICAgIHByaXZhdGUgbm90aWZ5OiAodmFsdWU/OiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PiBKUXVlcnlEZWZlcnJlZDxUPjtcclxuICAgICAgICBwcml2YXRlIG5vdGlmeVdpdGg6IChjb250ZXh0OiBhbnksIHZhbHVlPzogYW55W10pID0+IEpRdWVyeURlZmVycmVkPFQ+O1xyXG4gICAgICAgIHByaXZhdGUgcmVqZWN0OiAodmFsdWU/OiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PiBKUXVlcnlEZWZlcnJlZDxUPjtcclxuICAgICAgICBwcml2YXRlIHJlamVjdFdpdGg6IChjb250ZXh0OiBhbnksIHZhbHVlPzogYW55W10pID0+IEpRdWVyeURlZmVycmVkPFQ+O1xyXG4gICAgICAgIHByaXZhdGUgcmVzb2x2ZTogKHZhbHVlPzogVCwgLi4uYXJnczogYW55W10pID0+IEpRdWVyeURlZmVycmVkPFQ+O1xyXG4gICAgICAgIHByaXZhdGUgcmVzb2x2ZVdpdGg6IChjb250ZXh0OiBhbnksIHZhbHVlPzogVFtdKSA9PiBKUXVlcnlEZWZlcnJlZDxUPjtcclxuICAgICAgICAvKiB0c2xpbnQ6ZW5hYmxlOm5vLXVudXNlZC12YXJpYWJsZSAqL1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIG1peGluOiBJUHJvaW1pc2VcclxuXHJcbiAgICAgICAgYWJvcnQ6IChpbmZvPzogYW55KSA9PiB2b2lkO1xyXG4gICAgICAgIGRlcGVuZE9uOiA8VT4ocHJvbWlzZTogSVByb21pc2U8VT4gfCBKUXVlcnlYSFIpID0+IElQcm9taXNlPFU+O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBjb25zdHJ1Y3RvclxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV4ZWN1dG9yIFtpbl0gRVM2IFByb21pc2Ug5LqS5o+b5byV5pWwLiAoZGVwZW5kT24g44KS56ysM+W8leaVsOOBq+a4oeOBmSlcclxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucz8gW2luXSBqUXVlcnlQcm9taXNlIOOCkuaLoeW8teOBmeOCi+OCquODluOCuOOCp+OCr+ODiCBvciDjgq3jg6Pjg7Pjgrvjg6vmmYLjgavlkbzjgbPlh7rjgZXjgozjgovplqLmlbDjgpLmjIflrppcclxuICAgICAgICAgKiBAcmV0dXJuIElQcm9taXNlIOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgICAgICBleGVjdXRvcjogKFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZTogKHZhbHVlPzogVCB8IFByb21pc2VMaWtlPFQ+KSA9PiB2b2lkLFxyXG4gICAgICAgICAgICAgICAgcmVqZWN0PzogKHJlYXNvbj86IGFueSkgPT4gdm9pZCxcclxuICAgICAgICAgICAgICAgIGRlcGVuZE9uPzogPFU+KHByb21pc2U6IElQcm9taXNlPFU+IHwgSlF1ZXJ5WEhSKSA9PiBJUHJvbWlzZTxVPixcclxuICAgICAgICAgICAgKSA9PiB2b2lkLFxyXG4gICAgICAgICAgICBvcHRpb25zPzogTWFrZVByb21pc2VPcHRpb25zIHwgY2FuY2VsQ2FsbGJhY2tcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgLy8gYXBwbHkgbWl4aW5cclxuICAgICAgICAgICAgY29uc3QgY2FuY2VsYWJsZSA9IG1ha2VDYW5jZWxhYmxlKCQuRGVmZXJyZWQoKSwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICQuZXh0ZW5kKHRydWUsIHRoaXMsIGNhbmNlbGFibGUuZGYsIGNhbmNlbGFibGUudGFyZ2V0KTtcclxuICAgICAgICAgICAgdGhpcy5hYm9ydCA9IGNhbmNlbGFibGUuYWJvcnQuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5kZXBlbmRPbiA9IGNhbmNlbGFibGUuZGVwZW5kT24uYmluZCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGV4ZWN1dG9yKHRoaXMucmVzb2x2ZSwgdGhpcy5yZWplY3QsIHRoaXMuZGVwZW5kT24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBzdGF0aWMgbWV0aG9kczpcclxuXHJcbiAgICAgICAgc3RhdGljIHJlc29sdmU8VD4odmFsdWU/OiBUIHwgUHJvbWlzZUxpa2U8VD4pOiBJUHJvbWlzZUJhc2U8VD4ge1xyXG4gICAgICAgICAgICByZXR1cm4gPGFueT4kLkRlZmVycmVkKCkucmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgcmVqZWN0PFQ+KHJlYXNvbj86IGFueSk6IFByb21pc2U8VD4ge1xyXG4gICAgICAgICAgICByZXR1cm4gPGFueT4kLkRlZmVycmVkKCkucmVqZWN0KHJlYXNvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgYWxsPFQ+KC4uLmRlZmVycmVkczogQXJyYXk8VCB8IElQcm9taXNlPFQ+IHwgSlF1ZXJ5UHJvbWlzZTxUPj4pOiBJUHJvbWlzZUJhc2U8VD4ge1xyXG4gICAgICAgICAgICByZXR1cm4gPGFueT4kLndoZW4oZGVmZXJyZWRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyB3YWl0PFQ+KC4uLmRlZmVycmVkczogQXJyYXk8VCB8IElQcm9taXNlPFQ+IHwgSlF1ZXJ5UHJvbWlzZTxUPj4pOiBJUHJvbWlzZUJhc2U8VD4ge1xyXG4gICAgICAgICAgICByZXR1cm4gPGFueT53YWl0KGRlZmVycmVkcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgcmFjZTxUPiguLi5kZWZlcnJlZHM6IEFycmF5PFQgfCBJUHJvbWlzZTxUPiB8IEpRdWVyeVByb21pc2U8VD4+KTogSVByb21pc2VCYXNlPFQ+IHtcclxuICAgICAgICAgICAgcmV0dXJuIDxhbnk+cmFjZShkZWZlcnJlZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY29uc3QgUHJvbWlzZSA9IFByb21pc2VDb25zdHJ1Y3RvcjtcclxufVxyXG5cclxuXHJcbmRlY2xhcmUgbW9kdWxlIFwiY2RwLnByb21pc2VcIiB7XHJcbiAgICBleHBvcnQgPSBDRFA7XHJcbn1cclxuIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiY2RwLmkxOG5cIiksIHJlcXVpcmUoXCJiYWNrYm9uZVwiKSwgcmVxdWlyZShcImpxdWVyeVwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJjZHAuaTE4blwiLCBcImJhY2tib25lXCIsIFwianF1ZXJ5XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkZyYW1ld29ya1wiXSA9IGZhY3RvcnkocmVxdWlyZShcImNkcC5pMThuXCIpLCByZXF1aXJlKFwiYmFja2JvbmVcIiksIHJlcXVpcmUoXCJqcXVlcnlcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkNEUFwiXSA9IHJvb3RbXCJDRFBcIl0gfHwge30sIHJvb3RbXCJDRFBcIl1bXCJGcmFtZXdvcmtcIl0gPSBmYWN0b3J5KHJvb3RbXCJDRFBcIl0sIHJvb3RbXCJCYWNrYm9uZVwiXSwgcm9vdFtcImpRdWVyeVwiXSk7XG59KSh0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzJfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8zX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfNV9fKSB7XG5yZXR1cm4gXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDFjN2U0NmFhNDMyMmNkY2I2ZmQ2IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL0B0eXBlcy9pMThuZXh0LmQudHNcIiAvPlxyXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cclxubmFtZXNwYWNlIENEUCB7XHJcblxyXG4gICAgaW1wb3J0IFByb21pc2UgPSBDRFAuUHJvbWlzZTtcclxuICAgIGltcG9ydCBJMThuZXh0ID0gaTE4bmV4dC5pMThuO1xyXG5cclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgSTE4TiB7XHJcbiAgICAgICAgZXhwb3J0IHR5cGUgSTE4biA9IEkxOG5leHQuSTE4bjtcclxuICAgICAgICBleHBvcnQgdHlwZSBPcHRpb25zID0gSTE4bmV4dC5PcHRpb25zO1xyXG4gICAgICAgIGV4cG9ydCB0eXBlIFRyYW5zbGF0aW9uT3B0aW9ucyA9IEkxOG5leHQuVHJhbnNsYXRpb25PcHRpb25zO1xyXG4gICAgICAgIGV4cG9ydCB0eXBlIFRyYW5zbGF0aW9uRnVuY3Rpb24gPSBJMThuZXh0LlRyYW5zbGF0aW9uRnVuY3Rpb247XHJcbiAgICAgICAgZXhwb3J0IHR5cGUgSW50ZXJwb2xhdGlvbk9wdGlvbnMgPSBJMThuZXh0LkludGVycG9sYXRpb25PcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IFRBRzogc3RyaW5nID0gXCJbQ0RQLmkxOG5dIFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogaTE4bmV4dCDjgbjjga7jg4DjgqTjg6zjgq/jg4jjgqLjgq/jgrvjgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGxldCBpMThuOiBJMThOLkkxOG47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaW50ZXJmYWNlIEkxOE5TZXR0aW5nc1xyXG4gICAgICogQGJyaWVmIOODreODvOOCq+ODqeOCpOOCuuioreWumueUqOOCquODl+OCt+ODp+ODs1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEkxOE5TZXR0aW5ncyB7XHJcbiAgICAgICAgZmFsbGJhY2tSZXNvdXJjZXM/OiB7IFtsbmc6IHN0cmluZ106IHsgW25zOiBzdHJpbmddOiBzdHJpbmcgfSB9O1xyXG4gICAgICAgIHByZWxvYWQ/OiBzdHJpbmdbXTtcclxuICAgICAgICBvcHRpb25zPzogSTE4Ti5PcHRpb25zO1xyXG4gICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIGluaXRpYWxpemUgaTE4bmV4dC5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogaTE4bmV4dCDjga7liJ3mnJ/ljJZcclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHJldHVybnMgSVByb21pc2VCYXNlIOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZUkxOE4oc2V0dGluZ3M/OiBJMThOU2V0dGluZ3MpOiBJUHJvbWlzZUJhc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGkxOG5TZXR0aW5nczogSTE4TlNldHRpbmdzID0gc2V0dGluZ3MgfHwge307XHJcblxyXG4gICAgICAgICAgICBjb25zdCBpMThuT3B0aW9uczogSTE4Ti5PcHRpb25zID0gKChyZXNvdXJjZXM6IHsgW2xuZzogc3RyaW5nXTogeyBbbnM6IHN0cmluZ106IHN0cmluZyB9IH0pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxuZyBpbiByZXNvdXJjZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShsbmcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG5zIGluIHJlc291cmNlc1tsbmddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlc1tsbmddLmhhc093blByb3BlcnR5KG5zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXNbbG5nXVtuc10gPSBnZXRMb2NhbGVGYWxsYmFja1Jlc291cmNlKHJlc291cmNlc1tsbmddW25zXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGkxOG5TZXR0aW5ncy5vcHRpb25zLnJlc291cmNlcyA9IDxhbnk+cmVzb3VyY2VzO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpMThuU2V0dGluZ3Mub3B0aW9ucztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkxOG5TZXR0aW5ncy5vcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KShpMThuU2V0dGluZ3MuZmFsbGJhY2tSZXNvdXJjZXMpO1xyXG5cclxuICAgICAgICAgICAgcmVxdWlyZShbXCJqcXVlcnlJMThuZXh0XCJdLCAoJDE4TmV4dDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlKFtcclxuICAgICAgICAgICAgICAgICAgICBcImkxOG5leHRcIixcclxuICAgICAgICAgICAgICAgICAgICBcImkxOG5leHRYSFJCYWNrZW5kXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJpMThuZXh0TG9jYWxTdG9yYWdlQ2FjaGVcIixcclxuICAgICAgICAgICAgICAgICAgICBcImkxOG5leHRTcHJpbnRmUG9zdFByb2Nlc3NvclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiaTE4bmV4dEJyb3dzZXJMYW5ndWFnZURldGVjdG9yXCIsXHJcbiAgICAgICAgICAgICAgICBdLCAoaTE4bmV4dDogSTE4Ti5JMThuXHJcbiAgICAgICAgICAgICAgICAgICAgLCBCYWNrZW5kOiBhbnlcclxuICAgICAgICAgICAgICAgICAgICAsIENhY2hlOiBhbnlcclxuICAgICAgICAgICAgICAgICAgICAsIFBvc3RQcm9jZXNzb3I6IGFueVxyXG4gICAgICAgICAgICAgICAgICAgICwgTGFuZ3VhZ2VEZXRlY3RvcjogYW55XHJcbiAgICAgICAgICAgICAgICApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaTE4bmV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnVzZShCYWNrZW5kKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnVzZShDYWNoZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC51c2UoUG9zdFByb2Nlc3NvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC51c2UoTGFuZ3VhZ2VEZXRlY3RvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbml0KGkxOG5PcHRpb25zLCAoZXJyb3I6IGFueSwgdDogSTE4Ti5UcmFuc2xhdGlvbkZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJDE4TmV4dC5pbml0KGkxOG5leHQsICQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdE5hbWU6IFwidFwiLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtLT4gYXBwZW5kcyAkLnQgPSBpMThuZXh0LnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTE4bk5hbWU6IFwiaTE4blwiLCAgICAgICAgICAgICAgICAgICAvLyAtLT4gYXBwZW5kcyAkLmkxOG4gPSBpMThuZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZU5hbWU6IFwibG9jYWxpemVcIiwgICAgICAgICAgICAgLy8gLS0+IGFwcGVuZHMgJChzZWxlY3RvcikubG9jYWxpemUob3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yQXR0cjogXCJkYXRhLWkxOG5cIiwgICAgICAgICAgLy8gc2VsZWN0b3IgZm9yIHRyYW5zbGF0aW5nIGVsZW1lbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEF0dHI6IFwiaTE4bi10YXJnZXRcIiwgICAgICAgICAgLy8gZGF0YS0oKSBhdHRyaWJ1dGUgdG8gZ3JhYiB0YXJnZXQgZWxlbWVudCB0byB0cmFuc2xhdGUgKGlmIGRpZmZyZW50IHRoZW4gaXRzZWxmKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zQXR0cjogXCJpMThuLW9wdGlvbnNcIiwgICAgICAgIC8vIGRhdGEtKCkgYXR0cmlidXRlIHRoYXQgY29udGFpbnMgb3B0aW9ucywgd2lsbCBsb2FkL3NldCBpZiB1c2VPcHRpb25zQXR0ciA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlT3B0aW9uc0F0dHI6IGZhbHNlLCAgICAgICAgICAgICAgLy8gbm8gdXNlIG9wdGlvbnNBdHRyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRGVmYXVsdFZhbHVlRnJvbUNvbnRlbnQ6IHRydWUgIC8vIHBhcnNlcyBkZWZhdWx0IHZhbHVlcyBmcm9tIGNvbnRlbnQgZWxlLnZhbCBvciBlbGUudGV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGkxOG5leHQgMy40LjE6IHJlc291cmNlcyDjgYzmjIflrprjgZXjgozjgovjgaggcHJlbG9hZCDjgYzoqq3jgb/ovrzjgb7jgozjgarjgYTjgZ/jgoHjgIHlho3oqq3jgb/ovrzjgb/lh6bnkIbjgpLooYzjgYYuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkxOG5leHQub3B0aW9ucy5yZXNvdXJjZXMgJiYgaTE4bmV4dC5vcHRpb25zLnByZWxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW9ucyDjgYvjgonjg5fjg63jg5Hjg4bjgqPjgpLkuIDml6bliYrpmaQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IF9wcmVsb2FkICAgPSBpMThuZXh0Lm9wdGlvbnMucHJlbG9hZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgX3Jlc291cmNlcyA9IGkxOG5leHQub3B0aW9ucy5yZXNvdXJjZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBpMThuZXh0Lm9wdGlvbnMucmVzb3VyY2VzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgaTE4bmV4dC5vcHRpb25zLnByZWxvYWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkxOG5leHQubG9hZExhbmd1YWdlcyhfcHJlbG9hZCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW9ucyDjgpLlhYPjgavmiLvjgZlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkxOG5leHQub3B0aW9ucy5yZXNvdXJjZXMgPSBfcmVzb3VyY2VzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTE4bmV4dC5vcHRpb25zLnByZWxvYWQgPSBfcHJlbG9hZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENEUC5pMThuID0gaTE4bmV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0RQLmkxOG4gPSBpMThuZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICogZ2V0IHN0cmluZyByZXNvdXJjZSBmb3IgZmFsbGJhY2suXHJcbiAgICAgKlxyXG4gICAgICogXFx+amFwYW5lc2VcclxuICAgICAqIEZhbGxiYWNrIOeUqOODreODvOOCq+ODqeOCpOOCuuODquOCveODvOOCueOBruWPluW+l1xyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcmV0dXJucyBmYWxiYWtjIOODquOCveODvOOCueOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRMb2NhbGVGYWxsYmFja1Jlc291cmNlKHBhdGg6IHN0cmluZyk6IGFueSB7XHJcbiAgICAgICAgbGV0IGpzb246IEpTT047XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiB0b1VybChwYXRoKSxcclxuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICBhc3luYzogZmFsc2UsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogKGRhdGE6IEpTT04pID0+IHtcclxuICAgICAgICAgICAgICAgIGpzb24gPSBkYXRhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogKHhocjogSlF1ZXJ5WEhSLCBzdGF0dXM6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coVEFHICsgXCJhamF4IHJlcXVlc3QgZmFpbGVkLiBzdGF0dXM6IFwiICsgc3RhdHVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBqc29uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICogQ29udmVydCBwYXRoIHRvIFVSTC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcGF0aCBbaW5dIHBhdGggc3RyaW5nXHJcbiAgICAgKlxyXG4gICAgICogXFx+amFwYW5lc2VcclxuICAgICAqIHBhdGgg44KSIFVSTCDjgavlpInmj5tcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcGF0aCBbaW5dIOODkeOCueOCkuaMh+WumuOAglxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB0b1VybChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICghcGF0aCAmJiBcIi9cIiAhPT0gcGF0aFswXSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFRBRyArIFwiaW52YWxpZCBwYXRoLiBwYXRoOiBcIiArIHBhdGgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDRFAud2ViUm9vdCArIHBhdGguc2xpY2UoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBqcXVlcnktaTE4bmV4dCBleHRlbnNpb25zXHJcblxyXG5pbnRlcmZhY2UgSlF1ZXJ5U3RhdGljIHtcclxuICAgIGkxOG46IENEUC5JMThOLkkxOG47XHJcbiAgICB0OiAoa2V5OiBzdHJpbmcsIG9wdGlvbnM/OiBDRFAuSTE4Ti5PcHRpb25zKSA9PiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBKUXVlcnkge1xyXG4gICAgbG9jYWxpemU6IChvcHRpb25zPzogQ0RQLkkxOE4uVHJhbnNsYXRpb25PcHRpb25zKSA9PiB2b2lkO1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBjZHAuaTE4biBkZWNsYXJhdGlvblxyXG5cclxuZGVjbGFyZSBtb2R1bGUgXCJjZHAuaTE4blwiIHtcclxuICAgIGV4cG9ydCA9IENEUDtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY2RwOi8vL0NEUC9pMThuLnRzIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzVfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJyb290XCI6XCJqUXVlcnlcIixcImNvbW1vbmpzXCI6XCJqcXVlcnlcIixcImNvbW1vbmpzMlwiOlwianF1ZXJ5XCIsXCJhbWRcIjpcImpxdWVyeVwifVxuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9ICIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8yX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wicm9vdFwiOlwiQ0RQXCIsXCJjb21tb25qc1wiOlwiY2RwLmNvcmVcIixcImNvbW1vbmpzMlwiOlwiY2RwLmNvcmVcIixcImFtZFwiOlwiY2RwLmNvcmVcIn1cbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzNfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJyb290XCI6XCJDRFBcIixcImNvbW1vbmpzXCI6XCJjZHAucHJvbWlzZVwiLFwiY29tbW9uanMyXCI6XCJjZHAucHJvbWlzZVwiLFwiYW1kXCI6XCJjZHAucHJvbWlzZVwifVxuLy8gbW9kdWxlIGlkID0gM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gIChnbG9iYWwuanF1ZXJ5STE4bmV4dCA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIGRlZmF1bHRzID0ge1xuICB0TmFtZTogJ3QnLFxuICBpMThuTmFtZTogJ2kxOG4nLFxuICBoYW5kbGVOYW1lOiAnbG9jYWxpemUnLFxuICBzZWxlY3RvckF0dHI6ICdkYXRhLWkxOG4nLFxuICB0YXJnZXRBdHRyOiAnaTE4bi10YXJnZXQnLFxuICBvcHRpb25zQXR0cjogJ2kxOG4tb3B0aW9ucycsXG4gIHVzZU9wdGlvbnNBdHRyOiBmYWxzZSxcbiAgcGFyc2VEZWZhdWx0VmFsdWVGcm9tQ29udGVudDogdHJ1ZVxufTtcblxuZnVuY3Rpb24gaW5pdChpMThuZXh0LCAkKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcblxuXG4gIG9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gIGZ1bmN0aW9uIHBhcnNlKGVsZSwga2V5LCBvcHRzKSB7XG4gICAgaWYgKGtleS5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIHZhciBhdHRyID0gJ3RleHQnO1xuXG4gICAgaWYgKGtleS5pbmRleE9mKCdbJykgPT09IDApIHtcbiAgICAgIHZhciBwYXJ0cyA9IGtleS5zcGxpdCgnXScpO1xuICAgICAga2V5ID0gcGFydHNbMV07XG4gICAgICBhdHRyID0gcGFydHNbMF0uc3Vic3RyKDEsIHBhcnRzWzBdLmxlbmd0aCAtIDEpO1xuICAgIH1cblxuICAgIGlmIChrZXkuaW5kZXhPZignOycpID09PSBrZXkubGVuZ3RoIC0gMSkge1xuICAgICAga2V5ID0ga2V5LnN1YnN0cigwLCBrZXkubGVuZ3RoIC0gMik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0ZW5kRGVmYXVsdChvLCB2YWwpIHtcbiAgICAgIGlmICghb3B0aW9ucy5wYXJzZURlZmF1bHRWYWx1ZUZyb21Db250ZW50KSByZXR1cm4gbztcbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgbywgeyBkZWZhdWx0VmFsdWU6IHZhbCB9KTtcbiAgICB9XG5cbiAgICBpZiAoYXR0ciA9PT0gJ2h0bWwnKSB7XG4gICAgICBlbGUuaHRtbChpMThuZXh0LnQoa2V5LCBleHRlbmREZWZhdWx0KG9wdHMsIGVsZS5odG1sKCkpKSk7XG4gICAgfSBlbHNlIGlmIChhdHRyID09PSAndGV4dCcpIHtcbiAgICAgIGVsZS50ZXh0KGkxOG5leHQudChrZXksIGV4dGVuZERlZmF1bHQob3B0cywgZWxlLnRleHQoKSkpKTtcbiAgICB9IGVsc2UgaWYgKGF0dHIgPT09ICdwcmVwZW5kJykge1xuICAgICAgZWxlLnByZXBlbmQoaTE4bmV4dC50KGtleSwgZXh0ZW5kRGVmYXVsdChvcHRzLCBlbGUuaHRtbCgpKSkpO1xuICAgIH0gZWxzZSBpZiAoYXR0ciA9PT0gJ2FwcGVuZCcpIHtcbiAgICAgIGVsZS5hcHBlbmQoaTE4bmV4dC50KGtleSwgZXh0ZW5kRGVmYXVsdChvcHRzLCBlbGUuaHRtbCgpKSkpO1xuICAgIH0gZWxzZSBpZiAoYXR0ci5pbmRleE9mKCdkYXRhLScpID09PSAwKSB7XG4gICAgICB2YXIgZGF0YUF0dHIgPSBhdHRyLnN1YnN0cignZGF0YS0nLmxlbmd0aCk7XG4gICAgICB2YXIgdHJhbnNsYXRlZCA9IGkxOG5leHQudChrZXksIGV4dGVuZERlZmF1bHQob3B0cywgZWxlLmRhdGEoZGF0YUF0dHIpKSk7XG5cbiAgICAgIC8vIHdlIGNoYW5nZSBpbnRvIHRoZSBkYXRhIGNhY2hlXG4gICAgICBlbGUuZGF0YShkYXRhQXR0ciwgdHJhbnNsYXRlZCk7XG4gICAgICAvLyB3ZSBjaGFuZ2UgaW50byB0aGUgZG9tXG4gICAgICBlbGUuYXR0cihhdHRyLCB0cmFuc2xhdGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlLmF0dHIoYXR0ciwgaTE4bmV4dC50KGtleSwgZXh0ZW5kRGVmYXVsdChvcHRzLCBlbGUuYXR0cihhdHRyKSkpKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2NhbGl6ZShlbGUsIG9wdHMpIHtcbiAgICB2YXIga2V5ID0gZWxlLmF0dHIob3B0aW9ucy5zZWxlY3RvckF0dHIpO1xuICAgIGlmICgha2V5ICYmIHR5cGVvZiBrZXkgIT09ICd1bmRlZmluZWQnICYmIGtleSAhPT0gZmFsc2UpIGtleSA9IGVsZS50ZXh0KCkgfHwgZWxlLnZhbCgpO1xuICAgIGlmICgha2V5KSByZXR1cm47XG5cbiAgICB2YXIgdGFyZ2V0ID0gZWxlLFxuICAgICAgICB0YXJnZXRTZWxlY3RvciA9IGVsZS5kYXRhKG9wdGlvbnMudGFyZ2V0QXR0cik7XG5cbiAgICBpZiAodGFyZ2V0U2VsZWN0b3IpIHRhcmdldCA9IGVsZS5maW5kKHRhcmdldFNlbGVjdG9yKSB8fCBlbGU7XG5cbiAgICBpZiAoIW9wdHMgJiYgb3B0aW9ucy51c2VPcHRpb25zQXR0ciA9PT0gdHJ1ZSkgb3B0cyA9IGVsZS5kYXRhKG9wdGlvbnMub3B0aW9uc0F0dHIpO1xuXG4gICAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgICBpZiAoa2V5LmluZGV4T2YoJzsnKSA+PSAwKSB7XG4gICAgICB2YXIga2V5cyA9IGtleS5zcGxpdCgnOycpO1xuXG4gICAgICAkLmVhY2goa2V5cywgZnVuY3Rpb24gKG0sIGspIHtcbiAgICAgICAgaWYgKGsgIT09ICcnKSBwYXJzZSh0YXJnZXQsIGssIG9wdHMpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnNlKHRhcmdldCwga2V5LCBvcHRzKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy51c2VPcHRpb25zQXR0ciA9PT0gdHJ1ZSkge1xuICAgICAgdmFyIGNsb25lID0ge307XG4gICAgICBjbG9uZSA9IF9leHRlbmRzKHsgY2xvbmU6IGNsb25lIH0sIG9wdHMpO1xuXG4gICAgICBkZWxldGUgY2xvbmUubG5nO1xuICAgICAgZWxlLmRhdGEob3B0aW9ucy5vcHRpb25zQXR0ciwgY2xvbmUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZShvcHRzKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBsb2NhbGl6ZSBlbGVtZW50IGl0c2VsZlxuICAgICAgbG9jYWxpemUoJCh0aGlzKSwgb3B0cyk7XG5cbiAgICAgIC8vIGxvY2FsaXplIGNoaWxkcmVuXG4gICAgICB2YXIgZWxlbWVudHMgPSAkKHRoaXMpLmZpbmQoJ1snICsgb3B0aW9ucy5zZWxlY3RvckF0dHIgKyAnXScpO1xuICAgICAgZWxlbWVudHMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvY2FsaXplKCQodGhpcyksIG9wdHMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gJC50ICQuaTE4biBzaG9ydGN1dFxuICAkW29wdGlvbnMudE5hbWVdID0gaTE4bmV4dC50LmJpbmQoaTE4bmV4dCk7XG4gICRbb3B0aW9ucy5pMThuTmFtZV0gPSBpMThuZXh0O1xuXG4gIC8vIHNlbGVjdG9yIGZ1bmN0aW9uICQobXlTZWxlY3RvcikubG9jYWxpemUob3B0cyk7XG4gICQuZm5bb3B0aW9ucy5oYW5kbGVOYW1lXSA9IGhhbmRsZTtcbn1cblxudmFyIGluZGV4ID0ge1xuICBpbml0OiBpbml0XG59O1xuXG5yZXR1cm4gaW5kZXg7XG5cbn0pKSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9leHRlcm5hbC9pMThuZXh0L3NjcmlwdHMvanF1ZXJ5LWkxOG5leHQuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0dHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuXHR0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuXHQoZ2xvYmFsLmkxOG5leHQgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqO1xufSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG5cblxuXG5cblxuXG5cblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cblxuXG52YXIgaW5oZXJpdHMgPSBmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cbnZhciBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59O1xuXG5cblxuXG5cbnZhciBzbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkge1xuICAgIHZhciBfYXJyID0gW107XG4gICAgdmFyIF9uID0gdHJ1ZTtcbiAgICB2YXIgX2QgPSBmYWxzZTtcbiAgICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gdHJ1ZTtcbiAgICAgIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgcmV0dXJuIGFycjtcbiAgICB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkge1xuICAgICAgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XG4gICAgfVxuICB9O1xufSgpO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgdG9Db25zdW1hYmxlQXJyYXkgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gICAgcmV0dXJuIGFycjI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYXJyKTtcbiAgfVxufTtcblxudmFyIGNvbnNvbGVMb2dnZXIgPSB7XG4gIHR5cGU6ICdsb2dnZXInLFxuXG4gIGxvZzogZnVuY3Rpb24gbG9nKGFyZ3MpIHtcbiAgICB0aGlzLm91dHB1dCgnbG9nJywgYXJncyk7XG4gIH0sXG4gIHdhcm46IGZ1bmN0aW9uIHdhcm4oYXJncykge1xuICAgIHRoaXMub3V0cHV0KCd3YXJuJywgYXJncyk7XG4gIH0sXG4gIGVycm9yOiBmdW5jdGlvbiBlcnJvcihhcmdzKSB7XG4gICAgdGhpcy5vdXRwdXQoJ2Vycm9yJywgYXJncyk7XG4gIH0sXG4gIG91dHB1dDogZnVuY3Rpb24gb3V0cHV0KHR5cGUsIGFyZ3MpIHtcbiAgICB2YXIgX2NvbnNvbGU7XG5cbiAgICAvKiBlc2xpbnQgbm8tY29uc29sZTogMCAqL1xuICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGVbdHlwZV0pIChfY29uc29sZSA9IGNvbnNvbGUpW3R5cGVdLmFwcGx5KF9jb25zb2xlLCB0b0NvbnN1bWFibGVBcnJheShhcmdzKSk7XG4gIH1cbn07XG5cbnZhciBMb2dnZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIExvZ2dlcihjb25jcmV0ZUxvZ2dlcikge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBMb2dnZXIpO1xuXG4gICAgdGhpcy5pbml0KGNvbmNyZXRlTG9nZ2VyLCBvcHRpb25zKTtcbiAgfVxuXG4gIExvZ2dlci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIGluaXQoY29uY3JldGVMb2dnZXIpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICB0aGlzLnByZWZpeCA9IG9wdGlvbnMucHJlZml4IHx8ICdpMThuZXh0Oic7XG4gICAgdGhpcy5sb2dnZXIgPSBjb25jcmV0ZUxvZ2dlciB8fCBjb25zb2xlTG9nZ2VyO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5kZWJ1ZyA9IG9wdGlvbnMuZGVidWc7XG4gIH07XG5cbiAgTG9nZ2VyLnByb3RvdHlwZS5zZXREZWJ1ZyA9IGZ1bmN0aW9uIHNldERlYnVnKGJvb2wpIHtcbiAgICB0aGlzLmRlYnVnID0gYm9vbDtcbiAgfTtcblxuICBMb2dnZXIucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIGxvZygpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICdsb2cnLCAnJywgdHJ1ZSk7XG4gIH07XG5cbiAgTG9nZ2VyLnByb3RvdHlwZS53YXJuID0gZnVuY3Rpb24gd2FybigpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmZvcndhcmQoYXJncywgJ3dhcm4nLCAnJywgdHJ1ZSk7XG4gIH07XG5cbiAgTG9nZ2VyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIGVycm9yKCkge1xuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuZm9yd2FyZChhcmdzLCAnZXJyb3InLCAnJyk7XG4gIH07XG5cbiAgTG9nZ2VyLnByb3RvdHlwZS5kZXByZWNhdGUgPSBmdW5jdGlvbiBkZXByZWNhdGUoKSB7XG4gICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgIGFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICd3YXJuJywgJ1dBUk5JTkcgREVQUkVDQVRFRDogJywgdHJ1ZSk7XG4gIH07XG5cbiAgTG9nZ2VyLnByb3RvdHlwZS5mb3J3YXJkID0gZnVuY3Rpb24gZm9yd2FyZChhcmdzLCBsdmwsIHByZWZpeCwgZGVidWdPbmx5KSB7XG4gICAgaWYgKGRlYnVnT25seSAmJiAhdGhpcy5kZWJ1ZykgcmV0dXJuIG51bGw7XG4gICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJykgYXJnc1swXSA9ICcnICsgcHJlZml4ICsgdGhpcy5wcmVmaXggKyAnICcgKyBhcmdzWzBdO1xuICAgIHJldHVybiB0aGlzLmxvZ2dlcltsdmxdKGFyZ3MpO1xuICB9O1xuXG4gIExvZ2dlci5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKG1vZHVsZU5hbWUpIHtcbiAgICByZXR1cm4gbmV3IExvZ2dlcih0aGlzLmxvZ2dlciwgX2V4dGVuZHMoeyBwcmVmaXg6IHRoaXMucHJlZml4ICsgJzonICsgbW9kdWxlTmFtZSArICc6JyB9LCB0aGlzLm9wdGlvbnMpKTtcbiAgfTtcblxuICByZXR1cm4gTG9nZ2VyO1xufSgpO1xuXG52YXIgYmFzZUxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcblxudmFyIEV2ZW50RW1pdHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEV2ZW50RW1pdHRlcik7XG5cbiAgICB0aGlzLm9ic2VydmVycyA9IHt9O1xuICB9XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50cywgbGlzdGVuZXIpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLm9ic2VydmVyc1tldmVudF0gPSBfdGhpcy5vYnNlcnZlcnNbZXZlbnRdIHx8IFtdO1xuICAgICAgX3RoaXMub2JzZXJ2ZXJzW2V2ZW50XS5wdXNoKGxpc3RlbmVyKTtcbiAgICB9KTtcbiAgfTtcblxuICBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uIG9mZihldmVudCwgbGlzdGVuZXIpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIGlmICghdGhpcy5vYnNlcnZlcnNbZXZlbnRdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5vYnNlcnZlcnNbZXZlbnRdLmZvckVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFsaXN0ZW5lcikge1xuICAgICAgICBkZWxldGUgX3RoaXMyLm9ic2VydmVyc1tldmVudF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaW5kZXggPSBfdGhpczIub2JzZXJ2ZXJzW2V2ZW50XS5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICBfdGhpczIub2JzZXJ2ZXJzW2V2ZW50XS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub2JzZXJ2ZXJzW2V2ZW50XSkge1xuICAgICAgdmFyIGNsb25lZCA9IFtdLmNvbmNhdCh0aGlzLm9ic2VydmVyc1tldmVudF0pO1xuICAgICAgY2xvbmVkLmZvckVhY2goZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIG9ic2VydmVyLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vYnNlcnZlcnNbJyonXSkge1xuICAgICAgdmFyIF9jbG9uZWQgPSBbXS5jb25jYXQodGhpcy5vYnNlcnZlcnNbJyonXSk7XG4gICAgICBfY2xvbmVkLmZvckVhY2goZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfcmVmO1xuXG4gICAgICAgIG9ic2VydmVyLmFwcGx5KG9ic2VydmVyLCAoX3JlZiA9IFtldmVudF0pLmNvbmNhdC5hcHBseShfcmVmLCBhcmdzKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcbn0oKTtcblxuZnVuY3Rpb24gbWFrZVN0cmluZyhvYmplY3QpIHtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSByZXR1cm4gJyc7XG4gIC8qIGVzbGludCBwcmVmZXItdGVtcGxhdGU6IDAgKi9cbiAgcmV0dXJuICcnICsgb2JqZWN0O1xufVxuXG5mdW5jdGlvbiBjb3B5KGEsIHMsIHQpIHtcbiAgYS5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7XG4gICAgaWYgKHNbbV0pIHRbbV0gPSBzW21dO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0TGFzdE9mUGF0aChvYmplY3QsIHBhdGgsIEVtcHR5KSB7XG4gIGZ1bmN0aW9uIGNsZWFuS2V5KGtleSkge1xuICAgIHJldHVybiBrZXkgJiYga2V5LmluZGV4T2YoJyMjIycpID4gLTEgPyBrZXkucmVwbGFjZSgvIyMjL2csICcuJykgOiBrZXk7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5Ob3RUcmF2ZXJzZURlZXBlcigpIHtcbiAgICByZXR1cm4gIW9iamVjdCB8fCB0eXBlb2Ygb2JqZWN0ID09PSAnc3RyaW5nJztcbiAgfVxuXG4gIHZhciBzdGFjayA9IHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJyA/IFtdLmNvbmNhdChwYXRoKSA6IHBhdGguc3BsaXQoJy4nKTtcbiAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDEpIHtcbiAgICBpZiAoY2FuTm90VHJhdmVyc2VEZWVwZXIoKSkgcmV0dXJuIHt9O1xuXG4gICAgdmFyIGtleSA9IGNsZWFuS2V5KHN0YWNrLnNoaWZ0KCkpO1xuICAgIGlmICghb2JqZWN0W2tleV0gJiYgRW1wdHkpIG9iamVjdFtrZXldID0gbmV3IEVtcHR5KCk7XG4gICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XG4gIH1cblxuICBpZiAoY2FuTm90VHJhdmVyc2VEZWVwZXIoKSkgcmV0dXJuIHt9O1xuICByZXR1cm4ge1xuICAgIG9iajogb2JqZWN0LFxuICAgIGs6IGNsZWFuS2V5KHN0YWNrLnNoaWZ0KCkpXG4gIH07XG59XG5cbmZ1bmN0aW9uIHNldFBhdGgob2JqZWN0LCBwYXRoLCBuZXdWYWx1ZSkge1xuICB2YXIgX2dldExhc3RPZlBhdGggPSBnZXRMYXN0T2ZQYXRoKG9iamVjdCwgcGF0aCwgT2JqZWN0KSxcbiAgICAgIG9iaiA9IF9nZXRMYXN0T2ZQYXRoLm9iaixcbiAgICAgIGsgPSBfZ2V0TGFzdE9mUGF0aC5rO1xuXG4gIG9ialtrXSA9IG5ld1ZhbHVlO1xufVxuXG5mdW5jdGlvbiBwdXNoUGF0aChvYmplY3QsIHBhdGgsIG5ld1ZhbHVlLCBjb25jYXQpIHtcbiAgdmFyIF9nZXRMYXN0T2ZQYXRoMiA9IGdldExhc3RPZlBhdGgob2JqZWN0LCBwYXRoLCBPYmplY3QpLFxuICAgICAgb2JqID0gX2dldExhc3RPZlBhdGgyLm9iaixcbiAgICAgIGsgPSBfZ2V0TGFzdE9mUGF0aDIuaztcblxuICBvYmpba10gPSBvYmpba10gfHwgW107XG4gIGlmIChjb25jYXQpIG9ialtrXSA9IG9ialtrXS5jb25jYXQobmV3VmFsdWUpO1xuICBpZiAoIWNvbmNhdCkgb2JqW2tdLnB1c2gobmV3VmFsdWUpO1xufVxuXG5mdW5jdGlvbiBnZXRQYXRoKG9iamVjdCwgcGF0aCkge1xuICB2YXIgX2dldExhc3RPZlBhdGgzID0gZ2V0TGFzdE9mUGF0aChvYmplY3QsIHBhdGgpLFxuICAgICAgb2JqID0gX2dldExhc3RPZlBhdGgzLm9iaixcbiAgICAgIGsgPSBfZ2V0TGFzdE9mUGF0aDMuaztcblxuICBpZiAoIW9iaikgcmV0dXJuIHVuZGVmaW5lZDtcbiAgcmV0dXJuIG9ialtrXTtcbn1cblxuZnVuY3Rpb24gZGVlcEV4dGVuZCh0YXJnZXQsIHNvdXJjZSwgb3ZlcndyaXRlKSB7XG4gIC8qIGVzbGludCBuby1yZXN0cmljdGVkLXN5bnRheDogMCAqL1xuICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xuICAgIGlmIChwcm9wIGluIHRhcmdldCkge1xuICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIGxlYWYgc3RyaW5nIGluIHRhcmdldCBvciBzb3VyY2UgdGhlbiByZXBsYWNlIHdpdGggc291cmNlIG9yIHNraXAgZGVwZW5kaW5nIG9uIHRoZSAnb3ZlcndyaXRlJyBzd2l0Y2hcbiAgICAgIGlmICh0eXBlb2YgdGFyZ2V0W3Byb3BdID09PSAnc3RyaW5nJyB8fCB0YXJnZXRbcHJvcF0gaW5zdGFuY2VvZiBTdHJpbmcgfHwgdHlwZW9mIHNvdXJjZVtwcm9wXSA9PT0gJ3N0cmluZycgfHwgc291cmNlW3Byb3BdIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICAgIGlmIChvdmVyd3JpdGUpIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZXBFeHRlbmQodGFyZ2V0W3Byb3BdLCBzb3VyY2VbcHJvcF0sIG92ZXJ3cml0ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gcmVnZXhFc2NhcGUoc3RyKSB7XG4gIC8qIGVzbGludCBuby11c2VsZXNzLWVzY2FwZTogMCAqL1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLCAnXFxcXCQmJyk7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlICovXG52YXIgX2VudGl0eU1hcCA9IHtcbiAgXCImXCI6IFwiJmFtcDtcIixcbiAgXCI8XCI6IFwiJmx0O1wiLFxuICBcIj5cIjogXCImZ3Q7XCIsXG4gICdcIic6ICcmcXVvdDsnLFxuICBcIidcIjogJyYjMzk7JyxcbiAgXCIvXCI6ICcmI3gyRjsnXG59O1xuLyogZXNsaW50LWVuYWJsZSAqL1xuXG5mdW5jdGlvbiBlc2NhcGUoZGF0YSkge1xuICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRhdGEucmVwbGFjZSgvWyY8PlwiJ1xcL10vZywgZnVuY3Rpb24gKHMpIHtcbiAgICAgIHJldHVybiBfZW50aXR5TWFwW3NdO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbnZhciBSZXNvdXJjZVN0b3JlID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgaW5oZXJpdHMoUmVzb3VyY2VTdG9yZSwgX0V2ZW50RW1pdHRlcik7XG5cbiAgZnVuY3Rpb24gUmVzb3VyY2VTdG9yZSgpIHtcbiAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHsgbnM6IFsndHJhbnNsYXRpb24nXSwgZGVmYXVsdE5TOiAndHJhbnNsYXRpb24nIH07XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVzb3VyY2VTdG9yZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICBfdGhpcy5kYXRhID0gZGF0YTtcbiAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBSZXNvdXJjZVN0b3JlLnByb3RvdHlwZS5hZGROYW1lc3BhY2VzID0gZnVuY3Rpb24gYWRkTmFtZXNwYWNlcyhucykge1xuICAgIGlmICh0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihucykgPCAwKSB7XG4gICAgICB0aGlzLm9wdGlvbnMubnMucHVzaChucyk7XG4gICAgfVxuICB9O1xuXG4gIFJlc291cmNlU3RvcmUucHJvdG90eXBlLnJlbW92ZU5hbWVzcGFjZXMgPSBmdW5jdGlvbiByZW1vdmVOYW1lc3BhY2VzKG5zKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5vcHRpb25zLm5zLmluZGV4T2YobnMpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLm9wdGlvbnMubnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH07XG5cbiAgUmVzb3VyY2VTdG9yZS5wcm90b3R5cGUuZ2V0UmVzb3VyY2UgPSBmdW5jdGlvbiBnZXRSZXNvdXJjZShsbmcsIG5zLCBrZXkpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG5cbiAgICB2YXIga2V5U2VwYXJhdG9yID0gb3B0aW9ucy5rZXlTZXBhcmF0b3IgfHwgdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcjtcbiAgICBpZiAoa2V5U2VwYXJhdG9yID09PSB1bmRlZmluZWQpIGtleVNlcGFyYXRvciA9ICcuJztcblxuICAgIHZhciBwYXRoID0gW2xuZywgbnNdO1xuICAgIGlmIChrZXkgJiYgdHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHBhdGggPSBwYXRoLmNvbmNhdChrZXkpO1xuICAgIGlmIChrZXkgJiYgdHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHBhdGggPSBwYXRoLmNvbmNhdChrZXlTZXBhcmF0b3IgPyBrZXkuc3BsaXQoa2V5U2VwYXJhdG9yKSA6IGtleSk7XG5cbiAgICBpZiAobG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICBwYXRoID0gbG5nLnNwbGl0KCcuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldFBhdGgodGhpcy5kYXRhLCBwYXRoKTtcbiAgfTtcblxuICBSZXNvdXJjZVN0b3JlLnByb3RvdHlwZS5hZGRSZXNvdXJjZSA9IGZ1bmN0aW9uIGFkZFJlc291cmNlKGxuZywgbnMsIGtleSwgdmFsdWUpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogeyBzaWxlbnQ6IGZhbHNlIH07XG5cbiAgICB2YXIga2V5U2VwYXJhdG9yID0gdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcjtcbiAgICBpZiAoa2V5U2VwYXJhdG9yID09PSB1bmRlZmluZWQpIGtleVNlcGFyYXRvciA9ICcuJztcblxuICAgIHZhciBwYXRoID0gW2xuZywgbnNdO1xuICAgIGlmIChrZXkpIHBhdGggPSBwYXRoLmNvbmNhdChrZXlTZXBhcmF0b3IgPyBrZXkuc3BsaXQoa2V5U2VwYXJhdG9yKSA6IGtleSk7XG5cbiAgICBpZiAobG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICBwYXRoID0gbG5nLnNwbGl0KCcuJyk7XG4gICAgICB2YWx1ZSA9IG5zO1xuICAgICAgbnMgPSBwYXRoWzFdO1xuICAgIH1cblxuICAgIHRoaXMuYWRkTmFtZXNwYWNlcyhucyk7XG5cbiAgICBzZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCwgdmFsdWUpO1xuXG4gICAgaWYgKCFvcHRpb25zLnNpbGVudCkgdGhpcy5lbWl0KCdhZGRlZCcsIGxuZywgbnMsIGtleSwgdmFsdWUpO1xuICB9O1xuXG4gIFJlc291cmNlU3RvcmUucHJvdG90eXBlLmFkZFJlc291cmNlcyA9IGZ1bmN0aW9uIGFkZFJlc291cmNlcyhsbmcsIG5zLCByZXNvdXJjZXMpIHtcbiAgICAvKiBlc2xpbnQgbm8tcmVzdHJpY3RlZC1zeW50YXg6IDAgKi9cbiAgICBmb3IgKHZhciBtIGluIHJlc291cmNlcykge1xuICAgICAgaWYgKHR5cGVvZiByZXNvdXJjZXNbbV0gPT09ICdzdHJpbmcnKSB0aGlzLmFkZFJlc291cmNlKGxuZywgbnMsIG0sIHJlc291cmNlc1ttXSwgeyBzaWxlbnQ6IHRydWUgfSk7XG4gICAgfVxuICAgIHRoaXMuZW1pdCgnYWRkZWQnLCBsbmcsIG5zLCByZXNvdXJjZXMpO1xuICB9O1xuXG4gIFJlc291cmNlU3RvcmUucHJvdG90eXBlLmFkZFJlc291cmNlQnVuZGxlID0gZnVuY3Rpb24gYWRkUmVzb3VyY2VCdW5kbGUobG5nLCBucywgcmVzb3VyY2VzLCBkZWVwLCBvdmVyd3JpdGUpIHtcbiAgICB2YXIgcGF0aCA9IFtsbmcsIG5zXTtcbiAgICBpZiAobG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICBwYXRoID0gbG5nLnNwbGl0KCcuJyk7XG4gICAgICBkZWVwID0gcmVzb3VyY2VzO1xuICAgICAgcmVzb3VyY2VzID0gbnM7XG4gICAgICBucyA9IHBhdGhbMV07XG4gICAgfVxuXG4gICAgdGhpcy5hZGROYW1lc3BhY2VzKG5zKTtcblxuICAgIHZhciBwYWNrID0gZ2V0UGF0aCh0aGlzLmRhdGEsIHBhdGgpIHx8IHt9O1xuXG4gICAgaWYgKGRlZXApIHtcbiAgICAgIGRlZXBFeHRlbmQocGFjaywgcmVzb3VyY2VzLCBvdmVyd3JpdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYWNrID0gX2V4dGVuZHMoe30sIHBhY2ssIHJlc291cmNlcyk7XG4gICAgfVxuXG4gICAgc2V0UGF0aCh0aGlzLmRhdGEsIHBhdGgsIHBhY2spO1xuXG4gICAgdGhpcy5lbWl0KCdhZGRlZCcsIGxuZywgbnMsIHJlc291cmNlcyk7XG4gIH07XG5cbiAgUmVzb3VyY2VTdG9yZS5wcm90b3R5cGUucmVtb3ZlUmVzb3VyY2VCdW5kbGUgPSBmdW5jdGlvbiByZW1vdmVSZXNvdXJjZUJ1bmRsZShsbmcsIG5zKSB7XG4gICAgaWYgKHRoaXMuaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLmRhdGFbbG5nXVtuc107XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlTmFtZXNwYWNlcyhucyk7XG5cbiAgICB0aGlzLmVtaXQoJ3JlbW92ZWQnLCBsbmcsIG5zKTtcbiAgfTtcblxuICBSZXNvdXJjZVN0b3JlLnByb3RvdHlwZS5oYXNSZXNvdXJjZUJ1bmRsZSA9IGZ1bmN0aW9uIGhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRSZXNvdXJjZShsbmcsIG5zKSAhPT0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIFJlc291cmNlU3RvcmUucHJvdG90eXBlLmdldFJlc291cmNlQnVuZGxlID0gZnVuY3Rpb24gZ2V0UmVzb3VyY2VCdW5kbGUobG5nLCBucykge1xuICAgIGlmICghbnMpIG5zID0gdGhpcy5vcHRpb25zLmRlZmF1bHROUztcblxuICAgIC8vIENPTVBBVElCSUxJVFk6IHJlbW92ZSBleHRlbmQgaW4gdjIuMS4wXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJID09PSAndjEnKSByZXR1cm4gX2V4dGVuZHMoe30sIHRoaXMuZ2V0UmVzb3VyY2UobG5nLCBucykpO1xuXG4gICAgcmV0dXJuIHRoaXMuZ2V0UmVzb3VyY2UobG5nLCBucyk7XG4gIH07XG5cbiAgUmVzb3VyY2VTdG9yZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGE7XG4gIH07XG5cbiAgcmV0dXJuIFJlc291cmNlU3RvcmU7XG59KEV2ZW50RW1pdHRlcik7XG5cbnZhciBwb3N0UHJvY2Vzc29yID0ge1xuXG4gIHByb2Nlc3NvcnM6IHt9LFxuXG4gIGFkZFBvc3RQcm9jZXNzb3I6IGZ1bmN0aW9uIGFkZFBvc3RQcm9jZXNzb3IobW9kdWxlKSB7XG4gICAgdGhpcy5wcm9jZXNzb3JzW21vZHVsZS5uYW1lXSA9IG1vZHVsZTtcbiAgfSxcbiAgaGFuZGxlOiBmdW5jdGlvbiBoYW5kbGUocHJvY2Vzc29ycywgdmFsdWUsIGtleSwgb3B0aW9ucywgdHJhbnNsYXRvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBwcm9jZXNzb3JzLmZvckVhY2goZnVuY3Rpb24gKHByb2Nlc3Nvcikge1xuICAgICAgaWYgKF90aGlzLnByb2Nlc3NvcnNbcHJvY2Vzc29yXSkgdmFsdWUgPSBfdGhpcy5wcm9jZXNzb3JzW3Byb2Nlc3Nvcl0ucHJvY2Vzcyh2YWx1ZSwga2V5LCBvcHRpb25zLCB0cmFuc2xhdG9yKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufTtcblxuLyogZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOiAwICovXG5mdW5jdGlvbiBjb252ZXJ0SW50ZXJwb2xhdGlvbihvcHRpb25zKSB7XG5cbiAgb3B0aW9ucy5pbnRlcnBvbGF0aW9uID0ge1xuICAgIHVuZXNjYXBlU3VmZml4OiAnSFRNTCdcbiAgfTtcblxuICBvcHRpb25zLmludGVycG9sYXRpb24ucHJlZml4ID0gb3B0aW9ucy5pbnRlcnBvbGF0aW9uUHJlZml4IHx8ICdfXyc7XG4gIG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5zdWZmaXggPSBvcHRpb25zLmludGVycG9sYXRpb25TdWZmaXggfHwgJ19fJztcbiAgb3B0aW9ucy5pbnRlcnBvbGF0aW9uLmVzY2FwZVZhbHVlID0gb3B0aW9ucy5lc2NhcGVJbnRlcnBvbGF0aW9uIHx8IGZhbHNlO1xuXG4gIG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5uZXN0aW5nUHJlZml4ID0gb3B0aW9ucy5yZXVzZVByZWZpeCB8fCAnJHQoJztcbiAgb3B0aW9ucy5pbnRlcnBvbGF0aW9uLm5lc3RpbmdTdWZmaXggPSBvcHRpb25zLnJldXNlU3VmZml4IHx8ICcpJztcblxuICByZXR1cm4gb3B0aW9ucztcbn1cblxuZnVuY3Rpb24gY29udmVydEFQSU9wdGlvbnMob3B0aW9ucykge1xuICBpZiAob3B0aW9ucy5yZXNTdG9yZSkgb3B0aW9ucy5yZXNvdXJjZXMgPSBvcHRpb25zLnJlc1N0b3JlO1xuXG4gIGlmIChvcHRpb25zLm5zICYmIG9wdGlvbnMubnMuZGVmYXVsdE5zKSB7XG4gICAgb3B0aW9ucy5kZWZhdWx0TlMgPSBvcHRpb25zLm5zLmRlZmF1bHROcztcbiAgICBvcHRpb25zLm5zID0gb3B0aW9ucy5ucy5uYW1lc3BhY2VzO1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMuZGVmYXVsdE5TID0gb3B0aW9ucy5ucyB8fCAndHJhbnNsYXRpb24nO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuZmFsbGJhY2tUb0RlZmF1bHROUyAmJiBvcHRpb25zLmRlZmF1bHROUykgb3B0aW9ucy5mYWxsYmFja05TID0gb3B0aW9ucy5kZWZhdWx0TlM7XG5cbiAgb3B0aW9ucy5zYXZlTWlzc2luZyA9IG9wdGlvbnMuc2VuZE1pc3Npbmc7XG4gIG9wdGlvbnMuc2F2ZU1pc3NpbmdUbyA9IG9wdGlvbnMuc2VuZE1pc3NpbmdUbyB8fCAnY3VycmVudCc7XG4gIG9wdGlvbnMucmV0dXJuTnVsbCA9ICFvcHRpb25zLmZhbGxiYWNrT25OdWxsO1xuICBvcHRpb25zLnJldHVybkVtcHR5U3RyaW5nID0gIW9wdGlvbnMuZmFsbGJhY2tPbkVtcHR5O1xuICBvcHRpb25zLnJldHVybk9iamVjdHMgPSBvcHRpb25zLnJldHVybk9iamVjdFRyZWVzO1xuICBvcHRpb25zLmpvaW5BcnJheXMgPSAnXFxuJztcblxuICBvcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlciA9IG9wdGlvbnMub2JqZWN0VHJlZUtleUhhbmRsZXI7XG4gIG9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlciA9IG9wdGlvbnMucGFyc2VNaXNzaW5nS2V5O1xuICBvcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvTWlzc2luZ0tleSA9IHRydWU7XG5cbiAgb3B0aW9ucy5uc1NlcGFyYXRvciA9IG9wdGlvbnMubnNzZXBhcmF0b3IgfHwgJzonO1xuICBvcHRpb25zLmtleVNlcGFyYXRvciA9IG9wdGlvbnMua2V5c2VwYXJhdG9yIHx8ICcuJztcblxuICBpZiAob3B0aW9ucy5zaG9ydGN1dEZ1bmN0aW9uID09PSAnc3ByaW50ZicpIHtcbiAgICBvcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlKGFyZ3MpIHtcbiAgICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKGFyZ3NbaV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBwb3N0UHJvY2VzczogJ3NwcmludGYnLFxuICAgICAgICBzcHJpbnRmOiB2YWx1ZXNcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIG9wdGlvbnMud2hpdGVsaXN0ID0gb3B0aW9ucy5sbmdXaGl0ZWxpc3Q7XG4gIG9wdGlvbnMucHJlbG9hZCA9IG9wdGlvbnMucHJlbG9hZDtcbiAgaWYgKG9wdGlvbnMubG9hZCA9PT0gJ2N1cnJlbnQnKSBvcHRpb25zLmxvYWQgPSAnY3VycmVudE9ubHknO1xuICBpZiAob3B0aW9ucy5sb2FkID09PSAndW5zcGVjaWZpYycpIG9wdGlvbnMubG9hZCA9ICdsYW5ndWFnZU9ubHknO1xuXG4gIC8vIGJhY2tlbmRcbiAgb3B0aW9ucy5iYWNrZW5kID0gb3B0aW9ucy5iYWNrZW5kIHx8IHt9O1xuICBvcHRpb25zLmJhY2tlbmQubG9hZFBhdGggPSBvcHRpb25zLnJlc0dldFBhdGggfHwgJ2xvY2FsZXMvX19sbmdfXy9fX25zX18uanNvbic7XG4gIG9wdGlvbnMuYmFja2VuZC5hZGRQYXRoID0gb3B0aW9ucy5yZXNQb3N0UGF0aCB8fCAnbG9jYWxlcy9hZGQvX19sbmdfXy9fX25zX18nO1xuICBvcHRpb25zLmJhY2tlbmQuYWxsb3dNdWx0aUxvYWRpbmcgPSBvcHRpb25zLmR5bmFtaWNMb2FkO1xuXG4gIC8vIGNhY2hlXG4gIG9wdGlvbnMuY2FjaGUgPSBvcHRpb25zLmNhY2hlIHx8IHt9O1xuICBvcHRpb25zLmNhY2hlLnByZWZpeCA9ICdyZXNfJztcbiAgb3B0aW9ucy5jYWNoZS5leHBpcmF0aW9uVGltZSA9IDcgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuICBvcHRpb25zLmNhY2hlLmVuYWJsZWQgPSBvcHRpb25zLnVzZUxvY2FsU3RvcmFnZTtcblxuICBvcHRpb25zID0gY29udmVydEludGVycG9sYXRpb24ob3B0aW9ucyk7XG4gIGlmIChvcHRpb25zLmRlZmF1bHRWYXJpYWJsZXMpIG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzID0gb3B0aW9ucy5kZWZhdWx0VmFyaWFibGVzO1xuXG4gIC8vIENPTVBBVElCSUxJVFk6IGRlcHJlY2F0aW9uXG4gIC8vIGlmIChvcHRpb25zLmdldEFzeW5jID09PSBmYWxzZSkgdGhyb3cgZGVwcmVjYXRpb24gZXJyb3JcblxuICByZXR1cm4gb3B0aW9ucztcbn1cblxuZnVuY3Rpb24gY29udmVydEpTT05PcHRpb25zKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IGNvbnZlcnRJbnRlcnBvbGF0aW9uKG9wdGlvbnMpO1xuICBvcHRpb25zLmpvaW5BcnJheXMgPSAnXFxuJztcblxuICByZXR1cm4gb3B0aW9ucztcbn1cblxuZnVuY3Rpb24gY29udmVydFRPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvblByZWZpeCB8fCBvcHRpb25zLmludGVycG9sYXRpb25TdWZmaXggfHwgb3B0aW9ucy5lc2NhcGVJbnRlcnBvbGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICBvcHRpb25zID0gY29udmVydEludGVycG9sYXRpb24ob3B0aW9ucyk7XG4gIH1cblxuICBvcHRpb25zLm5zU2VwYXJhdG9yID0gb3B0aW9ucy5uc3NlcGFyYXRvcjtcbiAgb3B0aW9ucy5rZXlTZXBhcmF0b3IgPSBvcHRpb25zLmtleXNlcGFyYXRvcjtcblxuICBvcHRpb25zLnJldHVybk9iamVjdHMgPSBvcHRpb25zLnJldHVybk9iamVjdFRyZWVzO1xuXG4gIHJldHVybiBvcHRpb25zO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRCYWNrd2FyZHNBUEkoaTE4bikge1xuICBpMThuLmxuZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBiYXNlTG9nZ2VyLmRlcHJlY2F0ZSgnaTE4bmV4dC5sbmcoKSBjYW4gYmUgcmVwbGFjZWQgYnkgaTE4bmV4dC5sYW5ndWFnZSBmb3IgZGV0ZWN0ZWQgbGFuZ3VhZ2Ugb3IgaTE4bmV4dC5sYW5ndWFnZXMgZm9yIGxhbmd1YWdlcyBvcmRlcmVkIGJ5IHRyYW5zbGF0aW9uIGxvb2t1cC4nKTtcbiAgICByZXR1cm4gaTE4bi5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShpMThuLmxhbmd1YWdlKVswXTtcbiAgfTtcblxuICBpMThuLnByZWxvYWQgPSBmdW5jdGlvbiAobG5ncywgY2IpIHtcbiAgICBiYXNlTG9nZ2VyLmRlcHJlY2F0ZSgnaTE4bmV4dC5wcmVsb2FkKCkgY2FuIGJlIHJlcGxhY2VkIHdpdGggaTE4bmV4dC5sb2FkTGFuZ3VhZ2VzKCknKTtcbiAgICBpMThuLmxvYWRMYW5ndWFnZXMobG5ncywgY2IpO1xuICB9O1xuXG4gIGkxOG4uc2V0TG5nID0gZnVuY3Rpb24gKGxuZywgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBiYXNlTG9nZ2VyLmRlcHJlY2F0ZSgnaTE4bmV4dC5zZXRMbmcoKSBjYW4gYmUgcmVwbGFjZWQgd2l0aCBpMThuZXh0LmNoYW5nZUxhbmd1YWdlKCkgb3IgaTE4bmV4dC5nZXRGaXhlZFQoKSB0byBnZXQgYSB0cmFuc2xhdGlvbiBmdW5jdGlvbiB3aXRoIGZpeGVkIGxhbmd1YWdlIG9yIG5hbWVzcGFjZS4nKTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge307XG5cbiAgICBpZiAob3B0aW9ucy5maXhMbmcgPT09IHRydWUpIHtcbiAgICAgIGlmIChjYWxsYmFjaykgcmV0dXJuIGNhbGxiYWNrKG51bGwsIGkxOG4uZ2V0Rml4ZWRUKGxuZykpO1xuICAgIH1cblxuICAgIHJldHVybiBpMThuLmNoYW5nZUxhbmd1YWdlKGxuZywgY2FsbGJhY2spO1xuICB9O1xuXG4gIGkxOG4uYWRkUG9zdFByb2Nlc3NvciA9IGZ1bmN0aW9uIChuYW1lLCBmYykge1xuICAgIGJhc2VMb2dnZXIuZGVwcmVjYXRlKCdpMThuZXh0LmFkZFBvc3RQcm9jZXNzb3IoKSBjYW4gYmUgcmVwbGFjZWQgYnkgaTE4bmV4dC51c2UoeyB0eXBlOiBcXCdwb3N0UHJvY2Vzc29yXFwnLCBuYW1lOiBcXCduYW1lXFwnLCBwcm9jZXNzOiBmYyB9KScpO1xuICAgIGkxOG4udXNlKHtcbiAgICAgIHR5cGU6ICdwb3N0UHJvY2Vzc29yJyxcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBwcm9jZXNzOiBmY1xuICAgIH0pO1xuICB9O1xufVxuXG52YXIgVHJhbnNsYXRvciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gIGluaGVyaXRzKFRyYW5zbGF0b3IsIF9FdmVudEVtaXR0ZXIpO1xuXG4gIGZ1bmN0aW9uIFRyYW5zbGF0b3Ioc2VydmljZXMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgVHJhbnNsYXRvcik7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICBjb3B5KFsncmVzb3VyY2VTdG9yZScsICdsYW5ndWFnZVV0aWxzJywgJ3BsdXJhbFJlc29sdmVyJywgJ2ludGVycG9sYXRvcicsICdiYWNrZW5kQ29ubmVjdG9yJ10sIHNlcnZpY2VzLCBfdGhpcyk7XG5cbiAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICBfdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgndHJhbnNsYXRvcicpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIFRyYW5zbGF0b3IucHJvdG90eXBlLmNoYW5nZUxhbmd1YWdlID0gZnVuY3Rpb24gY2hhbmdlTGFuZ3VhZ2UobG5nKSB7XG4gICAgaWYgKGxuZykgdGhpcy5sYW5ndWFnZSA9IGxuZztcbiAgfTtcblxuICBUcmFuc2xhdG9yLnByb3RvdHlwZS5leGlzdHMgPSBmdW5jdGlvbiBleGlzdHMoa2V5KSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHsgaW50ZXJwb2xhdGlvbjoge30gfTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY29tcGF0aWJpbGl0eUFQSSA9PT0gJ3YxJykge1xuICAgICAgb3B0aW9ucyA9IGNvbnZlcnRUT3B0aW9ucyhvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlKGtleSwgb3B0aW9ucykgIT09IHVuZGVmaW5lZDtcbiAgfTtcblxuICBUcmFuc2xhdG9yLnByb3RvdHlwZS5leHRyYWN0RnJvbUtleSA9IGZ1bmN0aW9uIGV4dHJhY3RGcm9tS2V5KGtleSwgb3B0aW9ucykge1xuICAgIHZhciBuc1NlcGFyYXRvciA9IG9wdGlvbnMubnNTZXBhcmF0b3IgfHwgdGhpcy5vcHRpb25zLm5zU2VwYXJhdG9yO1xuICAgIGlmIChuc1NlcGFyYXRvciA9PT0gdW5kZWZpbmVkKSBuc1NlcGFyYXRvciA9ICc6JztcbiAgICB2YXIga2V5U2VwYXJhdG9yID0gb3B0aW9ucy5rZXlTZXBhcmF0b3IgfHwgdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvciB8fCAnLic7XG5cbiAgICB2YXIgbmFtZXNwYWNlcyA9IG9wdGlvbnMubnMgfHwgdGhpcy5vcHRpb25zLmRlZmF1bHROUztcbiAgICBpZiAobnNTZXBhcmF0b3IgJiYga2V5LmluZGV4T2YobnNTZXBhcmF0b3IpID4gLTEpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGtleS5zcGxpdChuc1NlcGFyYXRvcik7XG4gICAgICBpZiAobnNTZXBhcmF0b3IgIT09IGtleVNlcGFyYXRvciB8fCBuc1NlcGFyYXRvciA9PT0ga2V5U2VwYXJhdG9yICYmIHRoaXMub3B0aW9ucy5ucy5pbmRleE9mKHBhcnRzWzBdKSA+IC0xKSBuYW1lc3BhY2VzID0gcGFydHMuc2hpZnQoKTtcbiAgICAgIGtleSA9IHBhcnRzLmpvaW4oa2V5U2VwYXJhdG9yKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJykgbmFtZXNwYWNlcyA9IFtuYW1lc3BhY2VzXTtcblxuICAgIHJldHVybiB7XG4gICAgICBrZXk6IGtleSxcbiAgICAgIG5hbWVzcGFjZXM6IG5hbWVzcGFjZXNcbiAgICB9O1xuICB9O1xuXG4gIFRyYW5zbGF0b3IucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIHRyYW5zbGF0ZShrZXlzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgaWYgKCh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob3B0aW9ucykpICE9PSAnb2JqZWN0Jykge1xuICAgICAgLyogZXNsaW50IHByZWZlci1yZXN0LXBhcmFtczogMCAqL1xuICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5vdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcihhcmd1bWVudHMpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlBUEkgPT09ICd2MScpIHtcbiAgICAgIG9wdGlvbnMgPSBjb252ZXJ0VE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLy8gbm9uIHZhbGlkIGtleXMgaGFuZGxpbmdcbiAgICBpZiAoa2V5cyA9PT0gdW5kZWZpbmVkIHx8IGtleXMgPT09IG51bGwgfHwga2V5cyA9PT0gJycpIHJldHVybiAnJztcbiAgICBpZiAodHlwZW9mIGtleXMgPT09ICdudW1iZXInKSBrZXlzID0gU3RyaW5nKGtleXMpO1xuICAgIGlmICh0eXBlb2Yga2V5cyA9PT0gJ3N0cmluZycpIGtleXMgPSBba2V5c107XG5cbiAgICAvLyBzZXBhcmF0b3JzXG4gICAgdmFyIGtleVNlcGFyYXRvciA9IG9wdGlvbnMua2V5U2VwYXJhdG9yIHx8IHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgfHwgJy4nO1xuXG4gICAgLy8gZ2V0IG5hbWVzcGFjZShzKVxuXG4gICAgdmFyIF9leHRyYWN0RnJvbUtleSA9IHRoaXMuZXh0cmFjdEZyb21LZXkoa2V5c1trZXlzLmxlbmd0aCAtIDFdLCBvcHRpb25zKSxcbiAgICAgICAga2V5ID0gX2V4dHJhY3RGcm9tS2V5LmtleSxcbiAgICAgICAgbmFtZXNwYWNlcyA9IF9leHRyYWN0RnJvbUtleS5uYW1lc3BhY2VzO1xuXG4gICAgdmFyIG5hbWVzcGFjZSA9IG5hbWVzcGFjZXNbbmFtZXNwYWNlcy5sZW5ndGggLSAxXTtcblxuICAgIC8vIHJldHVybiBrZXkgb24gQ0lNb2RlXG4gICAgdmFyIGxuZyA9IG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2U7XG4gICAgdmFyIGFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlID0gb3B0aW9ucy5hcHBlbmROYW1lc3BhY2VUb0NJTW9kZSB8fCB0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGU7XG4gICAgaWYgKGxuZyAmJiBsbmcudG9Mb3dlckNhc2UoKSA9PT0gJ2NpbW9kZScpIHtcbiAgICAgIGlmIChhcHBlbmROYW1lc3BhY2VUb0NJTW9kZSkge1xuICAgICAgICB2YXIgbnNTZXBhcmF0b3IgPSBvcHRpb25zLm5zU2VwYXJhdG9yIHx8IHRoaXMub3B0aW9ucy5uc1NlcGFyYXRvcjtcbiAgICAgICAgcmV0dXJuIG5hbWVzcGFjZSArIG5zU2VwYXJhdG9yICsga2V5O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cblxuICAgIC8vIHJlc29sdmUgZnJvbSBzdG9yZVxuICAgIHZhciByZXMgPSB0aGlzLnJlc29sdmUoa2V5cywgb3B0aW9ucyk7XG5cbiAgICB2YXIgcmVzVHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkocmVzKTtcbiAgICB2YXIgbm9PYmplY3QgPSBbJ1tvYmplY3QgTnVtYmVyXScsICdbb2JqZWN0IEZ1bmN0aW9uXScsICdbb2JqZWN0IFJlZ0V4cF0nXTtcbiAgICB2YXIgam9pbkFycmF5cyA9IG9wdGlvbnMuam9pbkFycmF5cyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5qb2luQXJyYXlzIDogdGhpcy5vcHRpb25zLmpvaW5BcnJheXM7XG5cbiAgICAvLyBvYmplY3RcbiAgICBpZiAocmVzICYmIHR5cGVvZiByZXMgIT09ICdzdHJpbmcnICYmIG5vT2JqZWN0LmluZGV4T2YocmVzVHlwZSkgPCAwICYmICEoam9pbkFycmF5cyAmJiByZXNUeXBlID09PSAnW29iamVjdCBBcnJheV0nKSkge1xuICAgICAgaWYgKCFvcHRpb25zLnJldHVybk9iamVjdHMgJiYgIXRoaXMub3B0aW9ucy5yZXR1cm5PYmplY3RzKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2FjY2Vzc2luZyBhbiBvYmplY3QgLSBidXQgcmV0dXJuT2JqZWN0cyBvcHRpb25zIGlzIG5vdCBlbmFibGVkIScpO1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlciA/IHRoaXMub3B0aW9ucy5yZXR1cm5lZE9iamVjdEhhbmRsZXIoa2V5LCByZXMsIG9wdGlvbnMpIDogJ2tleSBcXCcnICsga2V5ICsgJyAoJyArIHRoaXMubGFuZ3VhZ2UgKyAnKVxcJyByZXR1cm5lZCBhbiBvYmplY3QgaW5zdGVhZCBvZiBzdHJpbmcuJztcbiAgICAgIH1cblxuICAgICAgLy8gaWYgd2UgZ290IGEgc2VwYXJhdG9yIHdlIGxvb3Agb3ZlciBjaGlsZHJlbiAtIGVsc2Ugd2UganVzdCByZXR1cm4gb2JqZWN0IGFzIGlzXG4gICAgICAvLyBhcyBoYXZpbmcgaXQgc2V0IHRvIGZhbHNlIG1lYW5zIG5vIGhpZXJhcmNoeSBzbyBubyBsb29rdXAgZm9yIG5lc3RlZCB2YWx1ZXNcbiAgICAgIGlmIChvcHRpb25zLmtleVNlcGFyYXRvciB8fCB0aGlzLm9wdGlvbnMua2V5U2VwYXJhdG9yKSB7XG4gICAgICAgIHZhciBjb3B5JCQxID0gcmVzVHlwZSA9PT0gJ1tvYmplY3QgQXJyYXldJyA/IFtdIDoge307IC8vIGFwcGx5IGNoaWxkIHRyYW5zbGF0aW9uIG9uIGEgY29weVxuXG4gICAgICAgIC8qIGVzbGludCBuby1yZXN0cmljdGVkLXN5bnRheDogMCAqL1xuICAgICAgICBmb3IgKHZhciBtIGluIHJlcykge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocmVzLCBtKSkge1xuICAgICAgICAgICAgY29weSQkMVttXSA9IHRoaXMudHJhbnNsYXRlKCcnICsga2V5ICsga2V5U2VwYXJhdG9yICsgbSwgX2V4dGVuZHMoe30sIG9wdGlvbnMsIHsgam9pbkFycmF5czogZmFsc2UsIG5zOiBuYW1lc3BhY2VzIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzID0gY29weSQkMTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGpvaW5BcnJheXMgJiYgcmVzVHlwZSA9PT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgLy8gYXJyYXkgc3BlY2lhbCB0cmVhdG1lbnRcbiAgICAgIHJlcyA9IHJlcy5qb2luKGpvaW5BcnJheXMpO1xuICAgICAgaWYgKHJlcykgcmVzID0gdGhpcy5leHRlbmRUcmFuc2xhdGlvbihyZXMsIGtleSwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHN0cmluZywgZW1wdHkgb3IgbnVsbFxuICAgICAgdmFyIHVzZWREZWZhdWx0ID0gZmFsc2U7XG4gICAgICB2YXIgdXNlZEtleSA9IGZhbHNlO1xuXG4gICAgICAvLyBmYWxsYmFjayB2YWx1ZVxuICAgICAgaWYgKCF0aGlzLmlzVmFsaWRMb29rdXAocmVzKSAmJiBvcHRpb25zLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVzZWREZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgcmVzID0gb3B0aW9ucy5kZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaXNWYWxpZExvb2t1cChyZXMpKSB7XG4gICAgICAgIHVzZWRLZXkgPSB0cnVlO1xuICAgICAgICByZXMgPSBrZXk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNhdmUgbWlzc2luZ1xuICAgICAgaWYgKHVzZWRLZXkgfHwgdXNlZERlZmF1bHQpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKCdtaXNzaW5nS2V5JywgbG5nLCBuYW1lc3BhY2UsIGtleSwgcmVzKTtcblxuICAgICAgICB2YXIgbG5ncyA9IFtdO1xuICAgICAgICB2YXIgZmFsbGJhY2tMbmdzID0gdGhpcy5sYW5ndWFnZVV0aWxzLmdldEZhbGxiYWNrQ29kZXModGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nLCBvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1RvID09PSAnZmFsbGJhY2snICYmIGZhbGxiYWNrTG5ncyAmJiBmYWxsYmFja0xuZ3NbMF0pIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZhbGxiYWNrTG5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbG5ncy5wdXNoKGZhbGxiYWNrTG5nc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1RvID09PSAnYWxsJykge1xuICAgICAgICAgIGxuZ3MgPSB0aGlzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxuZ3MucHVzaChvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmcpIHtcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1pc3NpbmdLZXlIYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubWlzc2luZ0tleUhhbmRsZXIobG5ncywgbmFtZXNwYWNlLCBrZXksIHJlcyk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJhY2tlbmRDb25uZWN0b3IgJiYgdGhpcy5iYWNrZW5kQ29ubmVjdG9yLnNhdmVNaXNzaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tlbmRDb25uZWN0b3Iuc2F2ZU1pc3NpbmcobG5ncywgbmFtZXNwYWNlLCBrZXksIHJlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdtaXNzaW5nS2V5JywgbG5ncywgbmFtZXNwYWNlLCBrZXksIHJlcyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGV4dGVuZFxuICAgICAgcmVzID0gdGhpcy5leHRlbmRUcmFuc2xhdGlvbihyZXMsIGtleSwgb3B0aW9ucyk7XG5cbiAgICAgIC8vIGFwcGVuZCBuYW1lc3BhY2UgaWYgc3RpbGwga2V5XG4gICAgICBpZiAodXNlZEtleSAmJiByZXMgPT09IGtleSAmJiB0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5KSByZXMgPSBuYW1lc3BhY2UgKyAnOicgKyBrZXk7XG5cbiAgICAgIC8vIHBhcnNlTWlzc2luZ0tleUhhbmRsZXJcbiAgICAgIGlmICh1c2VkS2V5ICYmIHRoaXMub3B0aW9ucy5wYXJzZU1pc3NpbmdLZXlIYW5kbGVyKSByZXMgPSB0aGlzLm9wdGlvbnMucGFyc2VNaXNzaW5nS2V5SGFuZGxlcihyZXMpO1xuICAgIH1cblxuICAgIC8vIHJldHVyblxuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgVHJhbnNsYXRvci5wcm90b3R5cGUuZXh0ZW5kVHJhbnNsYXRpb24gPSBmdW5jdGlvbiBleHRlbmRUcmFuc2xhdGlvbihyZXMsIGtleSwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbikgdGhpcy5pbnRlcnBvbGF0b3IuaW5pdChfZXh0ZW5kcyh7fSwgb3B0aW9ucywgeyBpbnRlcnBvbGF0aW9uOiBfZXh0ZW5kcyh7fSwgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24sIG9wdGlvbnMuaW50ZXJwb2xhdGlvbikgfSkpO1xuXG4gICAgLy8gaW50ZXJwb2xhdGVcbiAgICB2YXIgZGF0YSA9IG9wdGlvbnMucmVwbGFjZSAmJiB0eXBlb2Ygb3B0aW9ucy5yZXBsYWNlICE9PSAnc3RyaW5nJyA/IG9wdGlvbnMucmVwbGFjZSA6IG9wdGlvbnM7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pbnRlcnBvbGF0aW9uLmRlZmF1bHRWYXJpYWJsZXMpIGRhdGEgPSBfZXh0ZW5kcyh7fSwgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcywgZGF0YSk7XG4gICAgcmVzID0gdGhpcy5pbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUocmVzLCBkYXRhLCBvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlKTtcblxuICAgIC8vIG5lc3RpbmdcbiAgICBpZiAob3B0aW9ucy5uZXN0ICE9PSBmYWxzZSkgcmVzID0gdGhpcy5pbnRlcnBvbGF0b3IubmVzdChyZXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBfdGhpczIudHJhbnNsYXRlLmFwcGx5KF90aGlzMiwgYXJndW1lbnRzKTtcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIGlmIChvcHRpb25zLmludGVycG9sYXRpb24pIHRoaXMuaW50ZXJwb2xhdG9yLnJlc2V0KCk7XG5cbiAgICAvLyBwb3N0IHByb2Nlc3NcbiAgICB2YXIgcG9zdFByb2Nlc3MgPSBvcHRpb25zLnBvc3RQcm9jZXNzIHx8IHRoaXMub3B0aW9ucy5wb3N0UHJvY2VzcztcbiAgICB2YXIgcG9zdFByb2Nlc3Nvck5hbWVzID0gdHlwZW9mIHBvc3RQcm9jZXNzID09PSAnc3RyaW5nJyA/IFtwb3N0UHJvY2Vzc10gOiBwb3N0UHJvY2VzcztcblxuICAgIGlmIChyZXMgIT09IHVuZGVmaW5lZCAmJiBwb3N0UHJvY2Vzc29yTmFtZXMgJiYgcG9zdFByb2Nlc3Nvck5hbWVzLmxlbmd0aCAmJiBvcHRpb25zLmFwcGx5UG9zdFByb2Nlc3NvciAhPT0gZmFsc2UpIHtcbiAgICAgIHJlcyA9IHBvc3RQcm9jZXNzb3IuaGFuZGxlKHBvc3RQcm9jZXNzb3JOYW1lcywgcmVzLCBrZXksIG9wdGlvbnMsIHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgVHJhbnNsYXRvci5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uIHJlc29sdmUoa2V5cykge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgdmFyIGZvdW5kID0gdm9pZCAwO1xuXG4gICAgaWYgKHR5cGVvZiBrZXlzID09PSAnc3RyaW5nJykga2V5cyA9IFtrZXlzXTtcblxuICAgIC8vIGZvckVhY2ggcG9zc2libGUga2V5XG4gICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICBpZiAoX3RoaXMzLmlzVmFsaWRMb29rdXAoZm91bmQpKSByZXR1cm47XG5cbiAgICAgIHZhciBleHRyYWN0ZWQgPSBfdGhpczMuZXh0cmFjdEZyb21LZXkoaywgb3B0aW9ucyk7XG4gICAgICB2YXIga2V5ID0gZXh0cmFjdGVkLmtleTtcbiAgICAgIHZhciBuYW1lc3BhY2VzID0gZXh0cmFjdGVkLm5hbWVzcGFjZXM7XG4gICAgICBpZiAoX3RoaXMzLm9wdGlvbnMuZmFsbGJhY2tOUykgbmFtZXNwYWNlcyA9IG5hbWVzcGFjZXMuY29uY2F0KF90aGlzMy5vcHRpb25zLmZhbGxiYWNrTlMpO1xuXG4gICAgICB2YXIgbmVlZHNQbHVyYWxIYW5kbGluZyA9IG9wdGlvbnMuY291bnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0aW9ucy5jb3VudCAhPT0gJ3N0cmluZyc7XG4gICAgICB2YXIgbmVlZHNDb250ZXh0SGFuZGxpbmcgPSBvcHRpb25zLmNvbnRleHQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0aW9ucy5jb250ZXh0ID09PSAnc3RyaW5nJyAmJiBvcHRpb25zLmNvbnRleHQgIT09ICcnO1xuXG4gICAgICB2YXIgY29kZXMgPSBvcHRpb25zLmxuZ3MgPyBvcHRpb25zLmxuZ3MgOiBfdGhpczMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkob3B0aW9ucy5sbmcgfHwgX3RoaXMzLmxhbmd1YWdlKTtcblxuICAgICAgbmFtZXNwYWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChucykge1xuICAgICAgICBpZiAoX3RoaXMzLmlzVmFsaWRMb29rdXAoZm91bmQpKSByZXR1cm47XG5cbiAgICAgICAgY29kZXMuZm9yRWFjaChmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICAgIGlmIChfdGhpczMuaXNWYWxpZExvb2t1cChmb3VuZCkpIHJldHVybjtcblxuICAgICAgICAgIHZhciBmaW5hbEtleSA9IGtleTtcbiAgICAgICAgICB2YXIgZmluYWxLZXlzID0gW2ZpbmFsS2V5XTtcblxuICAgICAgICAgIHZhciBwbHVyYWxTdWZmaXggPSB2b2lkIDA7XG4gICAgICAgICAgaWYgKG5lZWRzUGx1cmFsSGFuZGxpbmcpIHBsdXJhbFN1ZmZpeCA9IF90aGlzMy5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXgoY29kZSwgb3B0aW9ucy5jb3VudCk7XG5cbiAgICAgICAgICAvLyBmYWxsYmFjayBmb3IgcGx1cmFsIGlmIGNvbnRleHQgbm90IGZvdW5kXG4gICAgICAgICAgaWYgKG5lZWRzUGx1cmFsSGFuZGxpbmcgJiYgbmVlZHNDb250ZXh0SGFuZGxpbmcpIGZpbmFsS2V5cy5wdXNoKGZpbmFsS2V5ICsgcGx1cmFsU3VmZml4KTtcblxuICAgICAgICAgIC8vIGdldCBrZXkgZm9yIGNvbnRleHQgaWYgbmVlZGVkXG4gICAgICAgICAgaWYgKG5lZWRzQ29udGV4dEhhbmRsaW5nKSBmaW5hbEtleXMucHVzaChmaW5hbEtleSArPSAnJyArIF90aGlzMy5vcHRpb25zLmNvbnRleHRTZXBhcmF0b3IgKyBvcHRpb25zLmNvbnRleHQpO1xuXG4gICAgICAgICAgLy8gZ2V0IGtleSBmb3IgcGx1cmFsIGlmIG5lZWRlZFxuICAgICAgICAgIGlmIChuZWVkc1BsdXJhbEhhbmRsaW5nKSBmaW5hbEtleXMucHVzaChmaW5hbEtleSArPSBwbHVyYWxTdWZmaXgpO1xuXG4gICAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIGZpbmFsS2V5cyBzdGFydGluZyB3aXRoIG1vc3Qgc3BlY2lmaWMgcGx1cmFsa2V5ICgtPiBjb250ZXh0a2V5IG9ubHkpIC0+IHNpbmd1bGFya2V5IG9ubHlcbiAgICAgICAgICB2YXIgcG9zc2libGVLZXkgPSB2b2lkIDA7XG4gICAgICAgICAgLyogZXNsaW50IG5vLWNvbmQtYXNzaWduOiAwICovXG4gICAgICAgICAgd2hpbGUgKHBvc3NpYmxlS2V5ID0gZmluYWxLZXlzLnBvcCgpKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzMy5pc1ZhbGlkTG9va3VwKGZvdW5kKSkge1xuICAgICAgICAgICAgICBmb3VuZCA9IF90aGlzMy5nZXRSZXNvdXJjZShjb2RlLCBucywgcG9zc2libGVLZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBmb3VuZDtcbiAgfTtcblxuICBUcmFuc2xhdG9yLnByb3RvdHlwZS5pc1ZhbGlkTG9va3VwID0gZnVuY3Rpb24gaXNWYWxpZExvb2t1cChyZXMpIHtcbiAgICByZXR1cm4gcmVzICE9PSB1bmRlZmluZWQgJiYgISghdGhpcy5vcHRpb25zLnJldHVybk51bGwgJiYgcmVzID09PSBudWxsKSAmJiAhKCF0aGlzLm9wdGlvbnMucmV0dXJuRW1wdHlTdHJpbmcgJiYgcmVzID09PSAnJyk7XG4gIH07XG5cbiAgVHJhbnNsYXRvci5wcm90b3R5cGUuZ2V0UmVzb3VyY2UgPSBmdW5jdGlvbiBnZXRSZXNvdXJjZShjb2RlLCBucywga2V5KSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuXG4gICAgcmV0dXJuIHRoaXMucmVzb3VyY2VTdG9yZS5nZXRSZXNvdXJjZShjb2RlLCBucywga2V5LCBvcHRpb25zKTtcbiAgfTtcblxuICByZXR1cm4gVHJhbnNsYXRvcjtcbn0oRXZlbnRFbWl0dGVyKTtcblxuZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcbn1cblxudmFyIExhbmd1YWdlVXRpbCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTGFuZ3VhZ2VVdGlsKG9wdGlvbnMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBMYW5ndWFnZVV0aWwpO1xuXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgIHRoaXMud2hpdGVsaXN0ID0gdGhpcy5vcHRpb25zLndoaXRlbGlzdCB8fCBmYWxzZTtcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdsYW5ndWFnZVV0aWxzJyk7XG4gIH1cblxuICBMYW5ndWFnZVV0aWwucHJvdG90eXBlLmdldFNjcmlwdFBhcnRGcm9tQ29kZSA9IGZ1bmN0aW9uIGdldFNjcmlwdFBhcnRGcm9tQ29kZShjb2RlKSB7XG4gICAgaWYgKCFjb2RlIHx8IGNvZGUuaW5kZXhPZignLScpIDwgMCkgcmV0dXJuIG51bGw7XG5cbiAgICB2YXIgcCA9IGNvZGUuc3BsaXQoJy0nKTtcbiAgICBpZiAocC5sZW5ndGggPT09IDIpIHJldHVybiBudWxsO1xuICAgIHAucG9wKCk7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKHAuam9pbignLScpKTtcbiAgfTtcblxuICBMYW5ndWFnZVV0aWwucHJvdG90eXBlLmdldExhbmd1YWdlUGFydEZyb21Db2RlID0gZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSkge1xuICAgIGlmICghY29kZSB8fCBjb2RlLmluZGV4T2YoJy0nKSA8IDApIHJldHVybiBjb2RlO1xuXG4gICAgdmFyIHAgPSBjb2RlLnNwbGl0KCctJyk7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKHBbMF0pO1xuICB9O1xuXG4gIExhbmd1YWdlVXRpbC5wcm90b3R5cGUuZm9ybWF0TGFuZ3VhZ2VDb2RlID0gZnVuY3Rpb24gZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpIHtcbiAgICAvLyBodHRwOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL2xhbmd1YWdlLXRhZ3MvbGFuZ3VhZ2UtdGFncy54aHRtbFxuICAgIGlmICh0eXBlb2YgY29kZSA9PT0gJ3N0cmluZycgJiYgY29kZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgdmFyIHNwZWNpYWxDYXNlcyA9IFsnaGFucycsICdoYW50JywgJ2xhdG4nLCAnY3lybCcsICdjYW5zJywgJ21vbmcnLCAnYXJhYiddO1xuICAgICAgdmFyIHAgPSBjb2RlLnNwbGl0KCctJyk7XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubG93ZXJDYXNlTG5nKSB7XG4gICAgICAgIHAgPSBwLm1hcChmdW5jdGlvbiAocGFydCkge1xuICAgICAgICAgIHJldHVybiBwYXJ0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBwWzBdID0gcFswXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBwWzFdID0gcFsxXS50b1VwcGVyQ2FzZSgpO1xuXG4gICAgICAgIGlmIChzcGVjaWFsQ2FzZXMuaW5kZXhPZihwWzFdLnRvTG93ZXJDYXNlKCkpID4gLTEpIHBbMV0gPSBjYXBpdGFsaXplKHBbMV0udG9Mb3dlckNhc2UoKSk7XG4gICAgICB9IGVsc2UgaWYgKHAubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIHBbMF0gPSBwWzBdLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgLy8gaWYgbGVuZ2h0IDIgZ3Vlc3MgaXQncyBhIGNvdW50cnlcbiAgICAgICAgaWYgKHBbMV0ubGVuZ3RoID09PSAyKSBwWzFdID0gcFsxXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAocFswXSAhPT0gJ3NnbicgJiYgcFsyXS5sZW5ndGggPT09IDIpIHBbMl0gPSBwWzJdLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgaWYgKHNwZWNpYWxDYXNlcy5pbmRleE9mKHBbMV0udG9Mb3dlckNhc2UoKSkgPiAtMSkgcFsxXSA9IGNhcGl0YWxpemUocFsxXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgaWYgKHNwZWNpYWxDYXNlcy5pbmRleE9mKHBbMl0udG9Mb3dlckNhc2UoKSkgPiAtMSkgcFsyXSA9IGNhcGl0YWxpemUocFsyXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHAuam9pbignLScpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuY2xlYW5Db2RlIHx8IHRoaXMub3B0aW9ucy5sb3dlckNhc2VMbmcgPyBjb2RlLnRvTG93ZXJDYXNlKCkgOiBjb2RlO1xuICB9O1xuXG4gIExhbmd1YWdlVXRpbC5wcm90b3R5cGUuaXNXaGl0ZWxpc3RlZCA9IGZ1bmN0aW9uIGlzV2hpdGVsaXN0ZWQoY29kZSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMubG9hZCA9PT0gJ2xhbmd1YWdlT25seScgfHwgdGhpcy5vcHRpb25zLm5vbkV4cGxpY2l0V2hpdGVsaXN0KSB7XG4gICAgICBjb2RlID0gdGhpcy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShjb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuICF0aGlzLndoaXRlbGlzdCB8fCAhdGhpcy53aGl0ZWxpc3QubGVuZ3RoIHx8IHRoaXMud2hpdGVsaXN0LmluZGV4T2YoY29kZSkgPiAtMTtcbiAgfTtcblxuICBMYW5ndWFnZVV0aWwucHJvdG90eXBlLmdldEZhbGxiYWNrQ29kZXMgPSBmdW5jdGlvbiBnZXRGYWxsYmFja0NvZGVzKGZhbGxiYWNrcywgY29kZSkge1xuICAgIGlmICghZmFsbGJhY2tzKSByZXR1cm4gW107XG4gICAgaWYgKHR5cGVvZiBmYWxsYmFja3MgPT09ICdzdHJpbmcnKSBmYWxsYmFja3MgPSBbZmFsbGJhY2tzXTtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShmYWxsYmFja3MpID09PSAnW29iamVjdCBBcnJheV0nKSByZXR1cm4gZmFsbGJhY2tzO1xuXG4gICAgaWYgKCFjb2RlKSByZXR1cm4gZmFsbGJhY2tzLmRlZmF1bHQgfHwgW107XG5cbiAgICAvLyBhc3VtZSB3ZSBoYXZlIGFuIG9iamVjdCBkZWZpbmluZyBmYWxsYmFja3NcbiAgICB2YXIgZm91bmQgPSBmYWxsYmFja3NbY29kZV07XG4gICAgaWYgKCFmb3VuZCkgZm91bmQgPSBmYWxsYmFja3NbdGhpcy5nZXRTY3JpcHRQYXJ0RnJvbUNvZGUoY29kZSldO1xuICAgIGlmICghZm91bmQpIGZvdW5kID0gZmFsbGJhY2tzW3RoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpXTtcbiAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IGZhbGxiYWNrcy5kZWZhdWx0O1xuXG4gICAgcmV0dXJuIGZvdW5kIHx8IFtdO1xuICB9O1xuXG4gIExhbmd1YWdlVXRpbC5wcm90b3R5cGUudG9SZXNvbHZlSGllcmFyY2h5ID0gZnVuY3Rpb24gdG9SZXNvbHZlSGllcmFyY2h5KGNvZGUsIGZhbGxiYWNrQ29kZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgZmFsbGJhY2tDb2RlcyA9IHRoaXMuZ2V0RmFsbGJhY2tDb2RlcyhmYWxsYmFja0NvZGUgfHwgdGhpcy5vcHRpb25zLmZhbGxiYWNrTG5nIHx8IFtdLCBjb2RlKTtcblxuICAgIHZhciBjb2RlcyA9IFtdO1xuICAgIHZhciBhZGRDb2RlID0gZnVuY3Rpb24gYWRkQ29kZShjKSB7XG4gICAgICBpZiAoIWMpIHJldHVybjtcbiAgICAgIGlmIChfdGhpcy5pc1doaXRlbGlzdGVkKGMpKSB7XG4gICAgICAgIGNvZGVzLnB1c2goYyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5sb2dnZXIud2FybigncmVqZWN0aW5nIG5vbi13aGl0ZWxpc3RlZCBsYW5ndWFnZSBjb2RlOiAnICsgYyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgY29kZSA9PT0gJ3N0cmluZycgJiYgY29kZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5sb2FkICE9PSAnbGFuZ3VhZ2VPbmx5JykgYWRkQ29kZSh0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShjb2RlKSk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmxvYWQgIT09ICdsYW5ndWFnZU9ubHknICYmIHRoaXMub3B0aW9ucy5sb2FkICE9PSAnY3VycmVudE9ubHknKSBhZGRDb2RlKHRoaXMuZ2V0U2NyaXB0UGFydEZyb21Db2RlKGNvZGUpKTtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9hZCAhPT0gJ2N1cnJlbnRPbmx5JykgYWRkQ29kZSh0aGlzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb2RlID09PSAnc3RyaW5nJykge1xuICAgICAgYWRkQ29kZSh0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShjb2RlKSk7XG4gICAgfVxuXG4gICAgZmFsbGJhY2tDb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChmYykge1xuICAgICAgaWYgKGNvZGVzLmluZGV4T2YoZmMpIDwgMCkgYWRkQ29kZShfdGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoZmMpKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBjb2RlcztcbiAgfTtcblxuICByZXR1cm4gTGFuZ3VhZ2VVdGlsO1xufSgpO1xuXG4vLyBkZWZpbml0aW9uIGh0dHA6Ly90cmFuc2xhdGUuc291cmNlZm9yZ2UubmV0L3dpa2kvbDEwbi9wbHVyYWxmb3Jtc1xuLyogZXNsaW50LWRpc2FibGUgKi9cbnZhciBzZXRzID0gW3sgbG5nczogWydhY2gnLCAnYWsnLCAnYW0nLCAnYXJuJywgJ2JyJywgJ2ZpbCcsICdndW4nLCAnbG4nLCAnbWZlJywgJ21nJywgJ21pJywgJ29jJywgJ3RnJywgJ3RpJywgJ3RyJywgJ3V6JywgJ3dhJ10sIG5yOiBbMSwgMl0sIGZjOiAxIH0sIHsgbG5nczogWydhZicsICdhbicsICdhc3QnLCAnYXonLCAnYmcnLCAnYm4nLCAnY2EnLCAnZGEnLCAnZGUnLCAnZGV2JywgJ2VsJywgJ2VuJywgJ2VvJywgJ2VzJywgJ2VzX2FyJywgJ2V0JywgJ2V1JywgJ2ZpJywgJ2ZvJywgJ2Z1cicsICdmeScsICdnbCcsICdndScsICdoYScsICdoZScsICdoaScsICdodScsICdoeScsICdpYScsICdpdCcsICdrbicsICdrdScsICdsYicsICdtYWknLCAnbWwnLCAnbW4nLCAnbXInLCAnbmFoJywgJ25hcCcsICduYicsICduZScsICdubCcsICdubicsICdubycsICduc28nLCAncGEnLCAncGFwJywgJ3BtcycsICdwcycsICdwdCcsICdwdF9icicsICdybScsICdzY28nLCAnc2UnLCAnc2knLCAnc28nLCAnc29uJywgJ3NxJywgJ3N2JywgJ3N3JywgJ3RhJywgJ3RlJywgJ3RrJywgJ3VyJywgJ3lvJ10sIG5yOiBbMSwgMl0sIGZjOiAyIH0sIHsgbG5nczogWydheScsICdibycsICdjZ2cnLCAnZmEnLCAnaWQnLCAnamEnLCAnamJvJywgJ2thJywgJ2trJywgJ2ttJywgJ2tvJywgJ2t5JywgJ2xvJywgJ21zJywgJ3NhaCcsICdzdScsICd0aCcsICd0dCcsICd1ZycsICd2aScsICd3bycsICd6aCddLCBucjogWzFdLCBmYzogMyB9LCB7IGxuZ3M6IFsnYmUnLCAnYnMnLCAnZHonLCAnaHInLCAncnUnLCAnc3InLCAndWsnXSwgbnI6IFsxLCAyLCA1XSwgZmM6IDQgfSwgeyBsbmdzOiBbJ2FyJ10sIG5yOiBbMCwgMSwgMiwgMywgMTEsIDEwMF0sIGZjOiA1IH0sIHsgbG5nczogWydjcycsICdzayddLCBucjogWzEsIDIsIDVdLCBmYzogNiB9LCB7IGxuZ3M6IFsnY3NiJywgJ3BsJ10sIG5yOiBbMSwgMiwgNV0sIGZjOiA3IH0sIHsgbG5nczogWydjeSddLCBucjogWzEsIDIsIDMsIDhdLCBmYzogOCB9LCB7IGxuZ3M6IFsnZnInXSwgbnI6IFsxLCAyXSwgZmM6IDkgfSwgeyBsbmdzOiBbJ2dhJ10sIG5yOiBbMSwgMiwgMywgNywgMTFdLCBmYzogMTAgfSwgeyBsbmdzOiBbJ2dkJ10sIG5yOiBbMSwgMiwgMywgMjBdLCBmYzogMTEgfSwgeyBsbmdzOiBbJ2lzJ10sIG5yOiBbMSwgMl0sIGZjOiAxMiB9LCB7IGxuZ3M6IFsnanYnXSwgbnI6IFswLCAxXSwgZmM6IDEzIH0sIHsgbG5nczogWydrdyddLCBucjogWzEsIDIsIDMsIDRdLCBmYzogMTQgfSwgeyBsbmdzOiBbJ2x0J10sIG5yOiBbMSwgMiwgMTBdLCBmYzogMTUgfSwgeyBsbmdzOiBbJ2x2J10sIG5yOiBbMSwgMiwgMF0sIGZjOiAxNiB9LCB7IGxuZ3M6IFsnbWsnXSwgbnI6IFsxLCAyXSwgZmM6IDE3IH0sIHsgbG5nczogWydtbmsnXSwgbnI6IFswLCAxLCAyXSwgZmM6IDE4IH0sIHsgbG5nczogWydtdCddLCBucjogWzEsIDIsIDExLCAyMF0sIGZjOiAxOSB9LCB7IGxuZ3M6IFsnb3InXSwgbnI6IFsyLCAxXSwgZmM6IDIgfSwgeyBsbmdzOiBbJ3JvJ10sIG5yOiBbMSwgMiwgMjBdLCBmYzogMjAgfSwgeyBsbmdzOiBbJ3NsJ10sIG5yOiBbNSwgMSwgMiwgM10sIGZjOiAyMSB9XTtcblxudmFyIF9ydWxlc1BsdXJhbHNUeXBlcyA9IHtcbiAgMTogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuID4gMSk7XG4gIH0sXG4gIDI6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiAhPSAxKTtcbiAgfSxcbiAgMzogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIDA7XG4gIH0sXG4gIDQ6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiAlIDEwID09IDEgJiYgbiAlIDEwMCAhPSAxMSA/IDAgOiBuICUgMTAgPj0gMiAmJiBuICUgMTAgPD0gNCAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDIpO1xuICB9LFxuICA1OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT09IDAgPyAwIDogbiA9PSAxID8gMSA6IG4gPT0gMiA/IDIgOiBuICUgMTAwID49IDMgJiYgbiAlIDEwMCA8PSAxMCA/IDMgOiBuICUgMTAwID49IDExID8gNCA6IDUpO1xuICB9LFxuICA2OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID49IDIgJiYgbiA8PSA0ID8gMSA6IDIpO1xuICB9LFxuICA3OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuICUgMTAgPj0gMiAmJiBuICUgMTAgPD0gNCAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDIpO1xuICB9LFxuICA4OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09IDIgPyAxIDogbiAhPSA4ICYmIG4gIT0gMTEgPyAyIDogMyk7XG4gIH0sXG4gIDk6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiA+PSAyKTtcbiAgfSxcbiAgMTA6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMiA/IDEgOiBuIDwgNyA/IDIgOiBuIDwgMTEgPyAzIDogNCk7XG4gIH0sXG4gIDExOiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSB8fCBuID09IDExID8gMCA6IG4gPT0gMiB8fCBuID09IDEyID8gMSA6IG4gPiAyICYmIG4gPCAyMCA/IDIgOiAzKTtcbiAgfSxcbiAgMTI6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiAlIDEwICE9IDEgfHwgbiAlIDEwMCA9PSAxMSk7XG4gIH0sXG4gIDEzOiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gIT09IDApO1xuICB9LFxuICAxNDogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuID09IDEgPyAwIDogbiA9PSAyID8gMSA6IG4gPT0gMyA/IDIgOiAzKTtcbiAgfSxcbiAgMTU6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiAlIDEwID09IDEgJiYgbiAlIDEwMCAhPSAxMSA/IDAgOiBuICUgMTAgPj0gMiAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDIpO1xuICB9LFxuICAxNjogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuICUgMTAgPT0gMSAmJiBuICUgMTAwICE9IDExID8gMCA6IG4gIT09IDAgPyAxIDogMik7XG4gIH0sXG4gIDE3OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSB8fCBuICUgMTAgPT0gMSA/IDAgOiAxKTtcbiAgfSxcbiAgMTg6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAwID8gMCA6IG4gPT0gMSA/IDEgOiAyKTtcbiAgfSxcbiAgMTk6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT09IDAgfHwgbiAlIDEwMCA+IDEgJiYgbiAlIDEwMCA8IDExID8gMSA6IG4gJSAxMDAgPiAxMCAmJiBuICUgMTAwIDwgMjAgPyAyIDogMyk7XG4gIH0sXG4gIDIwOiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09PSAwIHx8IG4gJSAxMDAgPiAwICYmIG4gJSAxMDAgPCAyMCA/IDEgOiAyKTtcbiAgfSxcbiAgMjE6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiAlIDEwMCA9PSAxID8gMSA6IG4gJSAxMDAgPT0gMiA/IDIgOiBuICUgMTAwID09IDMgfHwgbiAlIDEwMCA9PSA0ID8gMyA6IDApO1xuICB9XG59O1xuLyogZXNsaW50LWVuYWJsZSAqL1xuXG5mdW5jdGlvbiBjcmVhdGVSdWxlcygpIHtcbiAgdmFyIHJ1bGVzID0ge307XG4gIHNldHMuZm9yRWFjaChmdW5jdGlvbiAoc2V0JCQxKSB7XG4gICAgc2V0JCQxLmxuZ3MuZm9yRWFjaChmdW5jdGlvbiAobCkge1xuICAgICAgcnVsZXNbbF0gPSB7XG4gICAgICAgIG51bWJlcnM6IHNldCQkMS5ucixcbiAgICAgICAgcGx1cmFsczogX3J1bGVzUGx1cmFsc1R5cGVzW3NldCQkMS5mY11cbiAgICAgIH07XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gcnVsZXM7XG59XG5cbnZhciBQbHVyYWxSZXNvbHZlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUGx1cmFsUmVzb2x2ZXIobGFuZ3VhZ2VVdGlscykge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBQbHVyYWxSZXNvbHZlcik7XG5cbiAgICB0aGlzLmxhbmd1YWdlVXRpbHMgPSBsYW5ndWFnZVV0aWxzO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdwbHVyYWxSZXNvbHZlcicpO1xuXG4gICAgdGhpcy5ydWxlcyA9IGNyZWF0ZVJ1bGVzKCk7XG4gIH1cblxuICBQbHVyYWxSZXNvbHZlci5wcm90b3R5cGUuYWRkUnVsZSA9IGZ1bmN0aW9uIGFkZFJ1bGUobG5nLCBvYmopIHtcbiAgICB0aGlzLnJ1bGVzW2xuZ10gPSBvYmo7XG4gIH07XG5cbiAgUGx1cmFsUmVzb2x2ZXIucHJvdG90eXBlLmdldFJ1bGUgPSBmdW5jdGlvbiBnZXRSdWxlKGNvZGUpIHtcbiAgICByZXR1cm4gdGhpcy5ydWxlc1t0aGlzLmxhbmd1YWdlVXRpbHMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSldO1xuICB9O1xuXG4gIFBsdXJhbFJlc29sdmVyLnByb3RvdHlwZS5uZWVkc1BsdXJhbCA9IGZ1bmN0aW9uIG5lZWRzUGx1cmFsKGNvZGUpIHtcbiAgICB2YXIgcnVsZSA9IHRoaXMuZ2V0UnVsZShjb2RlKTtcblxuICAgIHJldHVybiBydWxlICYmIHJ1bGUubnVtYmVycy5sZW5ndGggPiAxO1xuICB9O1xuXG4gIFBsdXJhbFJlc29sdmVyLnByb3RvdHlwZS5nZXRTdWZmaXggPSBmdW5jdGlvbiBnZXRTdWZmaXgoY29kZSwgY291bnQpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIHJ1bGUgPSB0aGlzLmdldFJ1bGUoY29kZSk7XG5cbiAgICBpZiAocnVsZSkge1xuICAgICAgdmFyIF9yZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChydWxlLm51bWJlcnMubGVuZ3RoID09PSAxKSByZXR1cm4ge1xuICAgICAgICAgICAgdjogJydcbiAgICAgICAgICB9OyAvLyBvbmx5IHNpbmd1bGFyXG5cbiAgICAgICAgdmFyIGlkeCA9IHJ1bGUubm9BYnMgPyBydWxlLnBsdXJhbHMoY291bnQpIDogcnVsZS5wbHVyYWxzKE1hdGguYWJzKGNvdW50KSk7XG4gICAgICAgIHZhciBzdWZmaXggPSBydWxlLm51bWJlcnNbaWR4XTtcblxuICAgICAgICAvLyBzcGVjaWFsIHRyZWF0bWVudCBmb3IgbG5ncyBvbmx5IGhhdmluZyBzaW5ndWxhciBhbmQgcGx1cmFsXG4gICAgICAgIGlmIChfdGhpcy5vcHRpb25zLnNpbXBsaWZ5UGx1cmFsU3VmZml4ICYmIHJ1bGUubnVtYmVycy5sZW5ndGggPT09IDIgJiYgcnVsZS5udW1iZXJzWzBdID09PSAxKSB7XG4gICAgICAgICAgaWYgKHN1ZmZpeCA9PT0gMikge1xuICAgICAgICAgICAgc3VmZml4ID0gJ3BsdXJhbCc7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdWZmaXggPT09IDEpIHtcbiAgICAgICAgICAgIHN1ZmZpeCA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXR1cm5TdWZmaXggPSBmdW5jdGlvbiByZXR1cm5TdWZmaXgoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLm9wdGlvbnMucHJlcGVuZCAmJiBzdWZmaXgudG9TdHJpbmcoKSA/IF90aGlzLm9wdGlvbnMucHJlcGVuZCArIHN1ZmZpeC50b1N0cmluZygpIDogc3VmZml4LnRvU3RyaW5nKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ09NUEFUSUJJTElUWSBKU09OXG4gICAgICAgIC8vIHYxXG4gICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OID09PSAndjEnKSB7XG4gICAgICAgICAgaWYgKHN1ZmZpeCA9PT0gMSkgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdjogJydcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKHR5cGVvZiBzdWZmaXggPT09ICdudW1iZXInKSByZXR1cm4ge1xuICAgICAgICAgICAgICB2OiAnX3BsdXJhbF8nICsgc3VmZml4LnRvU3RyaW5nKClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHY6IHJldHVyblN1ZmZpeCgpXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmICggLyogdjIgKi9fdGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OID09PSAndjInIHx8IHJ1bGUubnVtYmVycy5sZW5ndGggPT09IDIgJiYgcnVsZS5udW1iZXJzWzBdID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHY6IHJldHVyblN1ZmZpeCgpXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmICggLyogdjMgLSBnZXR0ZXh0IGluZGV4ICovcnVsZS5udW1iZXJzLmxlbmd0aCA9PT0gMiAmJiBydWxlLm51bWJlcnNbMF0gPT09IDEpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdjogcmV0dXJuU3VmZml4KClcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdjogX3RoaXMub3B0aW9ucy5wcmVwZW5kICYmIGlkeC50b1N0cmluZygpID8gX3RoaXMub3B0aW9ucy5wcmVwZW5kICsgaWR4LnRvU3RyaW5nKCkgOiBpZHgudG9TdHJpbmcoKVxuICAgICAgICB9O1xuICAgICAgfSgpO1xuXG4gICAgICBpZiAoKHR5cGVvZiBfcmV0ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihfcmV0KSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0LnY7XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIud2Fybignbm8gcGx1cmFsIHJ1bGUgZm91bmQgZm9yOiAnICsgY29kZSk7XG4gICAgcmV0dXJuICcnO1xuICB9O1xuXG4gIHJldHVybiBQbHVyYWxSZXNvbHZlcjtcbn0oKTtcblxudmFyIEludGVycG9sYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSW50ZXJwb2xhdG9yKCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBJbnRlcnBvbGF0b3IpO1xuXG4gICAgdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgnaW50ZXJwb2xhdG9yJyk7XG5cbiAgICB0aGlzLmluaXQob3B0aW9ucywgdHJ1ZSk7XG4gIH1cblxuICAvKiBlc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246IDAgKi9cblxuXG4gIEludGVycG9sYXRvci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHZhciByZXNldCA9IGFyZ3VtZW50c1sxXTtcblxuICAgIGlmIChyZXNldCkge1xuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgIHRoaXMuZm9ybWF0ID0gb3B0aW9ucy5pbnRlcnBvbGF0aW9uICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQgfHwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH07XG4gICAgICB0aGlzLmVzY2FwZSA9IG9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiBvcHRpb25zLmludGVycG9sYXRpb24uZXNjYXBlIHx8IGVzY2FwZTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmludGVycG9sYXRpb24pIG9wdGlvbnMuaW50ZXJwb2xhdGlvbiA9IHsgZXNjYXBlVmFsdWU6IHRydWUgfTtcblxuICAgIHZhciBpT3B0cyA9IG9wdGlvbnMuaW50ZXJwb2xhdGlvbjtcblxuICAgIHRoaXMuZXNjYXBlVmFsdWUgPSBpT3B0cy5lc2NhcGVWYWx1ZSAhPT0gdW5kZWZpbmVkID8gaU9wdHMuZXNjYXBlVmFsdWUgOiB0cnVlO1xuXG4gICAgdGhpcy5wcmVmaXggPSBpT3B0cy5wcmVmaXggPyByZWdleEVzY2FwZShpT3B0cy5wcmVmaXgpIDogaU9wdHMucHJlZml4RXNjYXBlZCB8fCAne3snO1xuICAgIHRoaXMuc3VmZml4ID0gaU9wdHMuc3VmZml4ID8gcmVnZXhFc2NhcGUoaU9wdHMuc3VmZml4KSA6IGlPcHRzLnN1ZmZpeEVzY2FwZWQgfHwgJ319JztcblxuICAgIHRoaXMuZm9ybWF0U2VwYXJhdG9yID0gaU9wdHMuZm9ybWF0U2VwYXJhdG9yID8gaU9wdHMuZm9ybWF0U2VwYXJhdG9yIDogaU9wdHMuZm9ybWF0U2VwYXJhdG9yIHx8ICcsJztcblxuICAgIHRoaXMudW5lc2NhcGVQcmVmaXggPSBpT3B0cy51bmVzY2FwZVN1ZmZpeCA/ICcnIDogaU9wdHMudW5lc2NhcGVQcmVmaXggfHwgJy0nO1xuICAgIHRoaXMudW5lc2NhcGVTdWZmaXggPSB0aGlzLnVuZXNjYXBlUHJlZml4ID8gJycgOiBpT3B0cy51bmVzY2FwZVN1ZmZpeCB8fCAnJztcblxuICAgIHRoaXMubmVzdGluZ1ByZWZpeCA9IGlPcHRzLm5lc3RpbmdQcmVmaXggPyByZWdleEVzY2FwZShpT3B0cy5uZXN0aW5nUHJlZml4KSA6IGlPcHRzLm5lc3RpbmdQcmVmaXhFc2NhcGVkIHx8IHJlZ2V4RXNjYXBlKCckdCgnKTtcbiAgICB0aGlzLm5lc3RpbmdTdWZmaXggPSBpT3B0cy5uZXN0aW5nU3VmZml4ID8gcmVnZXhFc2NhcGUoaU9wdHMubmVzdGluZ1N1ZmZpeCkgOiBpT3B0cy5uZXN0aW5nU3VmZml4RXNjYXBlZCB8fCByZWdleEVzY2FwZSgnKScpO1xuXG4gICAgLy8gdGhlIHJlZ2V4cFxuICAgIHRoaXMucmVzZXRSZWdFeHAoKTtcbiAgfTtcblxuICBJbnRlcnBvbGF0b3IucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucykgdGhpcy5pbml0KHRoaXMub3B0aW9ucyk7XG4gIH07XG5cbiAgSW50ZXJwb2xhdG9yLnByb3RvdHlwZS5yZXNldFJlZ0V4cCA9IGZ1bmN0aW9uIHJlc2V0UmVnRXhwKCkge1xuICAgIC8vIHRoZSByZWdleHBcbiAgICB2YXIgcmVnZXhwU3RyID0gdGhpcy5wcmVmaXggKyAnKC4rPyknICsgdGhpcy5zdWZmaXg7XG4gICAgdGhpcy5yZWdleHAgPSBuZXcgUmVnRXhwKHJlZ2V4cFN0ciwgJ2cnKTtcblxuICAgIHZhciByZWdleHBVbmVzY2FwZVN0ciA9ICcnICsgdGhpcy5wcmVmaXggKyB0aGlzLnVuZXNjYXBlUHJlZml4ICsgJyguKz8pJyArIHRoaXMudW5lc2NhcGVTdWZmaXggKyB0aGlzLnN1ZmZpeDtcbiAgICB0aGlzLnJlZ2V4cFVuZXNjYXBlID0gbmV3IFJlZ0V4cChyZWdleHBVbmVzY2FwZVN0ciwgJ2cnKTtcblxuICAgIHZhciBuZXN0aW5nUmVnZXhwU3RyID0gdGhpcy5uZXN0aW5nUHJlZml4ICsgJyguKz8pJyArIHRoaXMubmVzdGluZ1N1ZmZpeDtcbiAgICB0aGlzLm5lc3RpbmdSZWdleHAgPSBuZXcgUmVnRXhwKG5lc3RpbmdSZWdleHBTdHIsICdnJyk7XG4gIH07XG5cbiAgSW50ZXJwb2xhdG9yLnByb3RvdHlwZS5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uIGludGVycG9sYXRlKHN0ciwgZGF0YSwgbG5nKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBtYXRjaCA9IHZvaWQgMDtcbiAgICB2YXIgdmFsdWUgPSB2b2lkIDA7XG5cbiAgICBmdW5jdGlvbiByZWdleFNhZmUodmFsKSB7XG4gICAgICByZXR1cm4gdmFsLnJlcGxhY2UoL1xcJC9nLCAnJCQkJCcpO1xuICAgIH1cblxuICAgIHZhciBoYW5kbGVGb3JtYXQgPSBmdW5jdGlvbiBoYW5kbGVGb3JtYXQoa2V5KSB7XG4gICAgICBpZiAoa2V5LmluZGV4T2YoX3RoaXMuZm9ybWF0U2VwYXJhdG9yKSA8IDApIHJldHVybiBnZXRQYXRoKGRhdGEsIGtleSk7XG5cbiAgICAgIHZhciBwID0ga2V5LnNwbGl0KF90aGlzLmZvcm1hdFNlcGFyYXRvcik7XG4gICAgICB2YXIgayA9IHAuc2hpZnQoKS50cmltKCk7XG4gICAgICB2YXIgZiA9IHAuam9pbihfdGhpcy5mb3JtYXRTZXBhcmF0b3IpLnRyaW0oKTtcblxuICAgICAgcmV0dXJuIF90aGlzLmZvcm1hdChnZXRQYXRoKGRhdGEsIGspLCBmLCBsbmcpO1xuICAgIH07XG5cbiAgICB0aGlzLnJlc2V0UmVnRXhwKCk7XG5cbiAgICAvLyB1bmVzY2FwZSBpZiBoYXMgdW5lc2NhcGVQcmVmaXgvU3VmZml4XG4gICAgLyogZXNsaW50IG5vLWNvbmQtYXNzaWduOiAwICovXG4gICAgd2hpbGUgKG1hdGNoID0gdGhpcy5yZWdleHBVbmVzY2FwZS5leGVjKHN0cikpIHtcbiAgICAgIHZhbHVlID0gaGFuZGxlRm9ybWF0KG1hdGNoWzFdLnRyaW0oKSk7XG4gICAgICBzdHIgPSBzdHIucmVwbGFjZShtYXRjaFswXSwgdmFsdWUpO1xuICAgICAgdGhpcy5yZWdleHBVbmVzY2FwZS5sYXN0SW5kZXggPSAwO1xuICAgIH1cblxuICAgIC8vIHJlZ3VsYXIgZXNjYXBlIG9uIGRlbWFuZFxuICAgIHdoaWxlIChtYXRjaCA9IHRoaXMucmVnZXhwLmV4ZWMoc3RyKSkge1xuICAgICAgdmFsdWUgPSBoYW5kbGVGb3JtYXQobWF0Y2hbMV0udHJpbSgpKTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB2YWx1ZSA9IG1ha2VTdHJpbmcodmFsdWUpO1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdtaXNzZWQgdG8gcGFzcyBpbiB2YXJpYWJsZSAnICsgbWF0Y2hbMV0gKyAnIGZvciBpbnRlcnBvbGF0aW5nICcgKyBzdHIpO1xuICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB0aGlzLmVzY2FwZVZhbHVlID8gcmVnZXhTYWZlKHRoaXMuZXNjYXBlKHZhbHVlKSkgOiByZWdleFNhZmUodmFsdWUpO1xuICAgICAgc3RyID0gc3RyLnJlcGxhY2UobWF0Y2hbMF0sIHZhbHVlKTtcbiAgICAgIHRoaXMucmVnZXhwLmxhc3RJbmRleCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG4gIH07XG5cbiAgSW50ZXJwb2xhdG9yLnByb3RvdHlwZS5uZXN0ID0gZnVuY3Rpb24gbmVzdChzdHIsIGZjKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuXG4gICAgdmFyIG1hdGNoID0gdm9pZCAwO1xuICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcblxuICAgIHZhciBjbG9uZWRPcHRpb25zID0gX2V4dGVuZHMoe30sIG9wdGlvbnMpO1xuICAgIGNsb25lZE9wdGlvbnMuYXBwbHlQb3N0UHJvY2Vzc29yID0gZmFsc2U7IC8vIGF2b2lkIHBvc3QgcHJvY2Vzc2luZyBvbiBuZXN0ZWQgbG9va3VwXG5cbiAgICAvLyBpZiB2YWx1ZSBpcyBzb21ldGhpbmcgbGlrZSBcIm15S2V5XCI6IFwibG9yZW0gJChhbm90aGVyS2V5LCB7IFwiY291bnRcIjoge3thVmFsdWVJbk9wdGlvbnN9fSB9KVwiXG4gICAgZnVuY3Rpb24gaGFuZGxlSGFzT3B0aW9ucyhrZXkpIHtcbiAgICAgIGlmIChrZXkuaW5kZXhPZignLCcpIDwgMCkgcmV0dXJuIGtleTtcblxuICAgICAgdmFyIHAgPSBrZXkuc3BsaXQoJywnKTtcbiAgICAgIGtleSA9IHAuc2hpZnQoKTtcbiAgICAgIHZhciBvcHRpb25zU3RyaW5nID0gcC5qb2luKCcsJyk7XG4gICAgICBvcHRpb25zU3RyaW5nID0gdGhpcy5pbnRlcnBvbGF0ZShvcHRpb25zU3RyaW5nLCBjbG9uZWRPcHRpb25zKTtcbiAgICAgIG9wdGlvbnNTdHJpbmcgPSBvcHRpb25zU3RyaW5nLnJlcGxhY2UoLycvZywgJ1wiJyk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNsb25lZE9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnNTdHJpbmcpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcignZmFpbGVkIHBhcnNpbmcgb3B0aW9ucyBzdHJpbmcgaW4gbmVzdGluZyBmb3Iga2V5ICcgKyBrZXksIGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cblxuICAgIC8vIHJlZ3VsYXIgZXNjYXBlIG9uIGRlbWFuZFxuICAgIHdoaWxlIChtYXRjaCA9IHRoaXMubmVzdGluZ1JlZ2V4cC5leGVjKHN0cikpIHtcbiAgICAgIHZhbHVlID0gZmMoaGFuZGxlSGFzT3B0aW9ucy5jYWxsKHRoaXMsIG1hdGNoWzFdLnRyaW0oKSksIGNsb25lZE9wdGlvbnMpO1xuXG4gICAgICAvLyBpcyBvbmx5IHRoZSBuZXN0aW5nIGtleSAoa2V5MSA9ICckKGtleTIpJykgcmV0dXJuIHRoZSB2YWx1ZSB3aXRob3V0IHN0cmluZ2lmeVxuICAgICAgaWYgKHZhbHVlICYmIG1hdGNoWzBdID09PSBzdHIgJiYgdHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykgcmV0dXJuIHZhbHVlO1xuXG4gICAgICAvLyBubyBzdHJpbmcgdG8gaW5jbHVkZSBvciBlbXB0eVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHZhbHVlID0gbWFrZVN0cmluZyh2YWx1ZSk7XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ21pc3NlZCB0byByZXNvbHZlICcgKyBtYXRjaFsxXSArICcgZm9yIG5lc3RpbmcgJyArIHN0cik7XG4gICAgICAgIHZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICAvLyBOZXN0ZWQga2V5cyBzaG91bGQgbm90IGJlIGVzY2FwZWQgYnkgZGVmYXVsdCAjODU0XG4gICAgICAvLyB2YWx1ZSA9IHRoaXMuZXNjYXBlVmFsdWUgPyByZWdleFNhZmUodXRpbHMuZXNjYXBlKHZhbHVlKSkgOiByZWdleFNhZmUodmFsdWUpO1xuICAgICAgc3RyID0gc3RyLnJlcGxhY2UobWF0Y2hbMF0sIHZhbHVlKTtcbiAgICAgIHRoaXMucmVnZXhwLmxhc3RJbmRleCA9IDA7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG4gIH07XG5cbiAgcmV0dXJuIEludGVycG9sYXRvcjtcbn0oKTtcblxuZnVuY3Rpb24gcmVtb3ZlKGFyciwgd2hhdCkge1xuICB2YXIgZm91bmQgPSBhcnIuaW5kZXhPZih3aGF0KTtcblxuICB3aGlsZSAoZm91bmQgIT09IC0xKSB7XG4gICAgYXJyLnNwbGljZShmb3VuZCwgMSk7XG4gICAgZm91bmQgPSBhcnIuaW5kZXhPZih3aGF0KTtcbiAgfVxufVxuXG52YXIgQ29ubmVjdG9yID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgaW5oZXJpdHMoQ29ubmVjdG9yLCBfRXZlbnRFbWl0dGVyKTtcblxuICBmdW5jdGlvbiBDb25uZWN0b3IoYmFja2VuZCwgc3RvcmUsIHNlcnZpY2VzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIENvbm5lY3Rvcik7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICBfdGhpcy5iYWNrZW5kID0gYmFja2VuZDtcbiAgICBfdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgIF90aGlzLnNlcnZpY2VzID0gc2VydmljZXM7XG4gICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgX3RoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ2JhY2tlbmRDb25uZWN0b3InKTtcblxuICAgIF90aGlzLnN0YXRlID0ge307XG4gICAgX3RoaXMucXVldWUgPSBbXTtcblxuICAgIGlmIChfdGhpcy5iYWNrZW5kICYmIF90aGlzLmJhY2tlbmQuaW5pdCkge1xuICAgICAgX3RoaXMuYmFja2VuZC5pbml0KHNlcnZpY2VzLCBvcHRpb25zLmJhY2tlbmQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDb25uZWN0b3IucHJvdG90eXBlLnF1ZXVlTG9hZCA9IGZ1bmN0aW9uIHF1ZXVlTG9hZChsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAvLyBmaW5kIHdoYXQgbmVlZHMgdG8gYmUgbG9hZGVkXG4gICAgdmFyIHRvTG9hZCA9IFtdO1xuICAgIHZhciBwZW5kaW5nID0gW107XG4gICAgdmFyIHRvTG9hZExhbmd1YWdlcyA9IFtdO1xuICAgIHZhciB0b0xvYWROYW1lc3BhY2VzID0gW107XG5cbiAgICBsYW5ndWFnZXMuZm9yRWFjaChmdW5jdGlvbiAobG5nKSB7XG4gICAgICB2YXIgaGFzQWxsTmFtZXNwYWNlcyA9IHRydWU7XG5cbiAgICAgIG5hbWVzcGFjZXMuZm9yRWFjaChmdW5jdGlvbiAobnMpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBsbmcgKyAnfCcgKyBucztcblxuICAgICAgICBpZiAoX3RoaXMyLnN0b3JlLmhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpKSB7XG4gICAgICAgICAgX3RoaXMyLnN0YXRlW25hbWVdID0gMjsgLy8gbG9hZGVkXG4gICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLnN0YXRlW25hbWVdIDwgMCkge1xuICAgICAgICAgIC8vIG5vdGhpbmcgdG8gZG8gZm9yIGVyclxuICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5zdGF0ZVtuYW1lXSA9PT0gMSkge1xuICAgICAgICAgIGlmIChwZW5kaW5nLmluZGV4T2YobmFtZSkgPCAwKSBwZW5kaW5nLnB1c2gobmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXMyLnN0YXRlW25hbWVdID0gMTsgLy8gcGVuZGluZ1xuXG4gICAgICAgICAgaGFzQWxsTmFtZXNwYWNlcyA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKHBlbmRpbmcuaW5kZXhPZihuYW1lKSA8IDApIHBlbmRpbmcucHVzaChuYW1lKTtcbiAgICAgICAgICBpZiAodG9Mb2FkLmluZGV4T2YobmFtZSkgPCAwKSB0b0xvYWQucHVzaChuYW1lKTtcbiAgICAgICAgICBpZiAodG9Mb2FkTmFtZXNwYWNlcy5pbmRleE9mKG5zKSA8IDApIHRvTG9hZE5hbWVzcGFjZXMucHVzaChucyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWhhc0FsbE5hbWVzcGFjZXMpIHRvTG9hZExhbmd1YWdlcy5wdXNoKGxuZyk7XG4gICAgfSk7XG5cbiAgICBpZiAodG9Mb2FkLmxlbmd0aCB8fCBwZW5kaW5nLmxlbmd0aCkge1xuICAgICAgdGhpcy5xdWV1ZS5wdXNoKHtcbiAgICAgICAgcGVuZGluZzogcGVuZGluZyxcbiAgICAgICAgbG9hZGVkOiB7fSxcbiAgICAgICAgZXJyb3JzOiBbXSxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG9Mb2FkOiB0b0xvYWQsXG4gICAgICBwZW5kaW5nOiBwZW5kaW5nLFxuICAgICAgdG9Mb2FkTGFuZ3VhZ2VzOiB0b0xvYWRMYW5ndWFnZXMsXG4gICAgICB0b0xvYWROYW1lc3BhY2VzOiB0b0xvYWROYW1lc3BhY2VzXG4gICAgfTtcbiAgfTtcblxuICBDb25uZWN0b3IucHJvdG90eXBlLmxvYWRlZCA9IGZ1bmN0aW9uIGxvYWRlZChuYW1lLCBlcnIsIGRhdGEpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHZhciBfbmFtZSRzcGxpdCA9IG5hbWUuc3BsaXQoJ3wnKSxcbiAgICAgICAgX25hbWUkc3BsaXQyID0gc2xpY2VkVG9BcnJheShfbmFtZSRzcGxpdCwgMiksXG4gICAgICAgIGxuZyA9IF9uYW1lJHNwbGl0MlswXSxcbiAgICAgICAgbnMgPSBfbmFtZSRzcGxpdDJbMV07XG5cbiAgICBpZiAoZXJyKSB0aGlzLmVtaXQoJ2ZhaWxlZExvYWRpbmcnLCBsbmcsIG5zLCBlcnIpO1xuXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRoaXMuc3RvcmUuYWRkUmVzb3VyY2VCdW5kbGUobG5nLCBucywgZGF0YSk7XG4gICAgfVxuXG4gICAgLy8gc2V0IGxvYWRlZFxuICAgIHRoaXMuc3RhdGVbbmFtZV0gPSBlcnIgPyAtMSA6IDI7XG5cbiAgICAvLyBjYWxsYmFjayBpZiByZWFkeVxuICAgIHRoaXMucXVldWUuZm9yRWFjaChmdW5jdGlvbiAocSkge1xuICAgICAgcHVzaFBhdGgocS5sb2FkZWQsIFtsbmddLCBucyk7XG4gICAgICByZW1vdmUocS5wZW5kaW5nLCBuYW1lKTtcblxuICAgICAgaWYgKGVycikgcS5lcnJvcnMucHVzaChlcnIpO1xuXG4gICAgICBpZiAocS5wZW5kaW5nLmxlbmd0aCA9PT0gMCAmJiAhcS5kb25lKSB7XG4gICAgICAgIF90aGlzMy5lbWl0KCdsb2FkZWQnLCBxLmxvYWRlZCk7XG4gICAgICAgIC8qIGVzbGludCBuby1wYXJhbS1yZWFzc2lnbjogMCAqL1xuICAgICAgICBxLmRvbmUgPSB0cnVlO1xuICAgICAgICBpZiAocS5lcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgcS5jYWxsYmFjayhxLmVycm9ycyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcS5jYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyByZW1vdmUgZG9uZSBsb2FkIHJlcXVlc3RzXG4gICAgdGhpcy5xdWV1ZSA9IHRoaXMucXVldWUuZmlsdGVyKGZ1bmN0aW9uIChxKSB7XG4gICAgICByZXR1cm4gIXEuZG9uZTtcbiAgICB9KTtcbiAgfTtcblxuICBDb25uZWN0b3IucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiByZWFkKGxuZywgbnMsIGZjTmFtZSkge1xuICAgIHZhciB0cmllZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcblxuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgdmFyIHdhaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDI1MDtcbiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbNV07XG5cbiAgICBpZiAoIWxuZy5sZW5ndGgpIHJldHVybiBjYWxsYmFjayhudWxsLCB7fSk7IC8vIG5vdGluZyB0byBsb2FkXG5cbiAgICByZXR1cm4gdGhpcy5iYWNrZW5kW2ZjTmFtZV0obG5nLCBucywgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgaWYgKGVyciAmJiBkYXRhIC8qID0gcmV0cnlGbGFnICovICYmIHRyaWVkIDwgNSkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczQucmVhZC5jYWxsKF90aGlzNCwgbG5nLCBucywgZmNOYW1lLCB0cmllZCArIDEsIHdhaXQgKiAyLCBjYWxsYmFjayk7XG4gICAgICAgIH0sIHdhaXQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhlcnIsIGRhdGEpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qIGVzbGludCBjb25zaXN0ZW50LXJldHVybjogMCAqL1xuXG5cbiAgQ29ubmVjdG9yLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZChsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICBpZiAoIXRoaXMuYmFja2VuZCkge1xuICAgICAgdGhpcy5sb2dnZXIud2FybignTm8gYmFja2VuZCB3YXMgYWRkZWQgdmlhIGkxOG5leHQudXNlLiBXaWxsIG5vdCBsb2FkIHJlc291cmNlcy4nKTtcbiAgICAgIHJldHVybiBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgIH1cbiAgICB2YXIgb3B0aW9ucyA9IF9leHRlbmRzKHt9LCB0aGlzLmJhY2tlbmQub3B0aW9ucywgdGhpcy5vcHRpb25zLmJhY2tlbmQpO1xuXG4gICAgaWYgKHR5cGVvZiBsYW5ndWFnZXMgPT09ICdzdHJpbmcnKSBsYW5ndWFnZXMgPSB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KGxhbmd1YWdlcyk7XG4gICAgaWYgKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJykgbmFtZXNwYWNlcyA9IFtuYW1lc3BhY2VzXTtcblxuICAgIHZhciB0b0xvYWQgPSB0aGlzLnF1ZXVlTG9hZChsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIGNhbGxiYWNrKTtcbiAgICBpZiAoIXRvTG9hZC50b0xvYWQubGVuZ3RoKSB7XG4gICAgICBpZiAoIXRvTG9hZC5wZW5kaW5nLmxlbmd0aCkgY2FsbGJhY2soKTsgLy8gbm90aGluZyB0byBsb2FkIGFuZCBubyBwZW5kaW5ncy4uLmNhbGxiYWNrIG5vd1xuICAgICAgcmV0dXJuIG51bGw7IC8vIHBlbmRpbmdzIHdpbGwgdHJpZ2dlciBjYWxsYmFja1xuICAgIH1cblxuICAgIC8vIGxvYWQgd2l0aCBtdWx0aS1sb2FkXG4gICAgaWYgKG9wdGlvbnMuYWxsb3dNdWx0aUxvYWRpbmcgJiYgdGhpcy5iYWNrZW5kLnJlYWRNdWx0aSkge1xuICAgICAgdGhpcy5yZWFkKHRvTG9hZC50b0xvYWRMYW5ndWFnZXMsIHRvTG9hZC50b0xvYWROYW1lc3BhY2VzLCAncmVhZE11bHRpJywgbnVsbCwgbnVsbCwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICBpZiAoZXJyKSBfdGhpczUubG9nZ2VyLndhcm4oJ2xvYWRpbmcgbmFtZXNwYWNlcyAnICsgdG9Mb2FkLnRvTG9hZE5hbWVzcGFjZXMuam9pbignLCAnKSArICcgZm9yIGxhbmd1YWdlcyAnICsgdG9Mb2FkLnRvTG9hZExhbmd1YWdlcy5qb2luKCcsICcpICsgJyB2aWEgbXVsdGlsb2FkaW5nIGZhaWxlZCcsIGVycik7XG4gICAgICAgIGlmICghZXJyICYmIGRhdGEpIF90aGlzNS5sb2dnZXIubG9nKCdzdWNjZXNzZnVsbHkgbG9hZGVkIG5hbWVzcGFjZXMgJyArIHRvTG9hZC50b0xvYWROYW1lc3BhY2VzLmpvaW4oJywgJykgKyAnIGZvciBsYW5ndWFnZXMgJyArIHRvTG9hZC50b0xvYWRMYW5ndWFnZXMuam9pbignLCAnKSArICcgdmlhIG11bHRpbG9hZGluZycsIGRhdGEpO1xuXG4gICAgICAgIHRvTG9hZC50b0xvYWQuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIHZhciBfbmFtZSRzcGxpdDMgPSBuYW1lLnNwbGl0KCd8JyksXG4gICAgICAgICAgICAgIF9uYW1lJHNwbGl0NCA9IHNsaWNlZFRvQXJyYXkoX25hbWUkc3BsaXQzLCAyKSxcbiAgICAgICAgICAgICAgbCA9IF9uYW1lJHNwbGl0NFswXSxcbiAgICAgICAgICAgICAgbiA9IF9uYW1lJHNwbGl0NFsxXTtcblxuICAgICAgICAgIHZhciBidW5kbGUgPSBnZXRQYXRoKGRhdGEsIFtsLCBuXSk7XG4gICAgICAgICAgaWYgKGJ1bmRsZSkge1xuICAgICAgICAgICAgX3RoaXM1LmxvYWRlZChuYW1lLCBlcnIsIGJ1bmRsZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9ICdsb2FkaW5nIG5hbWVzcGFjZSAnICsgbiArICcgZm9yIGxhbmd1YWdlICcgKyBsICsgJyB2aWEgbXVsdGlsb2FkaW5nIGZhaWxlZCc7XG4gICAgICAgICAgICBfdGhpczUubG9hZGVkKG5hbWUsIGVycm9yKTtcbiAgICAgICAgICAgIF90aGlzNS5sb2dnZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdG9Mb2FkLnRvTG9hZC5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIF90aGlzNS5sb2FkT25lKG5hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIENvbm5lY3Rvci5wcm90b3R5cGUucmVsb2FkID0gZnVuY3Rpb24gcmVsb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcykge1xuICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgaWYgKCF0aGlzLmJhY2tlbmQpIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ05vIGJhY2tlbmQgd2FzIGFkZGVkIHZpYSBpMThuZXh0LnVzZS4gV2lsbCBub3QgbG9hZCByZXNvdXJjZXMuJyk7XG4gICAgfVxuICAgIHZhciBvcHRpb25zID0gX2V4dGVuZHMoe30sIHRoaXMuYmFja2VuZC5vcHRpb25zLCB0aGlzLm9wdGlvbnMuYmFja2VuZCk7XG5cbiAgICBpZiAodHlwZW9mIGxhbmd1YWdlcyA9PT0gJ3N0cmluZycpIGxhbmd1YWdlcyA9IHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkobGFuZ3VhZ2VzKTtcbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnKSBuYW1lc3BhY2VzID0gW25hbWVzcGFjZXNdO1xuXG4gICAgLy8gbG9hZCB3aXRoIG11bHRpLWxvYWRcbiAgICBpZiAob3B0aW9ucy5hbGxvd011bHRpTG9hZGluZyAmJiB0aGlzLmJhY2tlbmQucmVhZE11bHRpKSB7XG4gICAgICB0aGlzLnJlYWQobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCAncmVhZE11bHRpJywgbnVsbCwgbnVsbCwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICBpZiAoZXJyKSBfdGhpczYubG9nZ2VyLndhcm4oJ3JlbG9hZGluZyBuYW1lc3BhY2VzICcgKyBuYW1lc3BhY2VzLmpvaW4oJywgJykgKyAnIGZvciBsYW5ndWFnZXMgJyArIGxhbmd1YWdlcy5qb2luKCcsICcpICsgJyB2aWEgbXVsdGlsb2FkaW5nIGZhaWxlZCcsIGVycik7XG4gICAgICAgIGlmICghZXJyICYmIGRhdGEpIF90aGlzNi5sb2dnZXIubG9nKCdzdWNjZXNzZnVsbHkgcmVsb2FkZWQgbmFtZXNwYWNlcyAnICsgbmFtZXNwYWNlcy5qb2luKCcsICcpICsgJyBmb3IgbGFuZ3VhZ2VzICcgKyBsYW5ndWFnZXMuam9pbignLCAnKSArICcgdmlhIG11bHRpbG9hZGluZycsIGRhdGEpO1xuXG4gICAgICAgIGxhbmd1YWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgbmFtZXNwYWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICB2YXIgYnVuZGxlID0gZ2V0UGF0aChkYXRhLCBbbCwgbl0pO1xuICAgICAgICAgICAgaWYgKGJ1bmRsZSkge1xuICAgICAgICAgICAgICBfdGhpczYubG9hZGVkKGwgKyAnfCcgKyBuLCBlcnIsIGJ1bmRsZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgZXJyb3IgPSAncmVsb2FkaW5nIG5hbWVzcGFjZSAnICsgbiArICcgZm9yIGxhbmd1YWdlICcgKyBsICsgJyB2aWEgbXVsdGlsb2FkaW5nIGZhaWxlZCc7XG4gICAgICAgICAgICAgIF90aGlzNi5sb2FkZWQobCArICd8JyArIG4sIGVycm9yKTtcbiAgICAgICAgICAgICAgX3RoaXM2LmxvZ2dlci5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhbmd1YWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgIG5hbWVzcGFjZXMuZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgICAgICAgIF90aGlzNi5sb2FkT25lKGwgKyAnfCcgKyBuLCAncmUnKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgQ29ubmVjdG9yLnByb3RvdHlwZS5sb2FkT25lID0gZnVuY3Rpb24gbG9hZE9uZShuYW1lKSB7XG4gICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICB2YXIgcHJlZml4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJztcblxuICAgIHZhciBfbmFtZSRzcGxpdDUgPSBuYW1lLnNwbGl0KCd8JyksXG4gICAgICAgIF9uYW1lJHNwbGl0NiA9IHNsaWNlZFRvQXJyYXkoX25hbWUkc3BsaXQ1LCAyKSxcbiAgICAgICAgbG5nID0gX25hbWUkc3BsaXQ2WzBdLFxuICAgICAgICBucyA9IF9uYW1lJHNwbGl0NlsxXTtcblxuICAgIHRoaXMucmVhZChsbmcsIG5zLCAncmVhZCcsIG51bGwsIG51bGwsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgIGlmIChlcnIpIF90aGlzNy5sb2dnZXIud2FybihwcmVmaXggKyAnbG9hZGluZyBuYW1lc3BhY2UgJyArIG5zICsgJyBmb3IgbGFuZ3VhZ2UgJyArIGxuZyArICcgZmFpbGVkJywgZXJyKTtcbiAgICAgIGlmICghZXJyICYmIGRhdGEpIF90aGlzNy5sb2dnZXIubG9nKHByZWZpeCArICdsb2FkZWQgbmFtZXNwYWNlICcgKyBucyArICcgZm9yIGxhbmd1YWdlICcgKyBsbmcsIGRhdGEpO1xuXG4gICAgICBfdGhpczcubG9hZGVkKG5hbWUsIGVyciwgZGF0YSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ29ubmVjdG9yLnByb3RvdHlwZS5zYXZlTWlzc2luZyA9IGZ1bmN0aW9uIHNhdmVNaXNzaW5nKGxhbmd1YWdlcywgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUpIHtcbiAgICBpZiAodGhpcy5iYWNrZW5kICYmIHRoaXMuYmFja2VuZC5jcmVhdGUpIHRoaXMuYmFja2VuZC5jcmVhdGUobGFuZ3VhZ2VzLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSk7XG5cbiAgICAvLyB3cml0ZSB0byBzdG9yZSB0byBhdm9pZCByZXNlbmRpbmdcbiAgICBpZiAoIWxhbmd1YWdlcyB8fCAhbGFuZ3VhZ2VzWzBdKSByZXR1cm47XG4gICAgdGhpcy5zdG9yZS5hZGRSZXNvdXJjZShsYW5ndWFnZXNbMF0sIG5hbWVzcGFjZSwga2V5LCBmYWxsYmFja1ZhbHVlKTtcbiAgfTtcblxuICByZXR1cm4gQ29ubmVjdG9yO1xufShFdmVudEVtaXR0ZXIpO1xuXG52YXIgQ29ubmVjdG9yJDEgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICBpbmhlcml0cyhDb25uZWN0b3IsIF9FdmVudEVtaXR0ZXIpO1xuXG4gIGZ1bmN0aW9uIENvbm5lY3RvcihjYWNoZSwgc3RvcmUsIHNlcnZpY2VzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIENvbm5lY3Rvcik7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKSk7XG5cbiAgICBfdGhpcy5jYWNoZSA9IGNhY2hlO1xuICAgIF90aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgX3RoaXMuc2VydmljZXMgPSBzZXJ2aWNlcztcbiAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICBfdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgnY2FjaGVDb25uZWN0b3InKTtcblxuICAgIGlmIChfdGhpcy5jYWNoZSAmJiBfdGhpcy5jYWNoZS5pbml0KSBfdGhpcy5jYWNoZS5pbml0KHNlcnZpY2VzLCBvcHRpb25zLmNhY2hlLCBvcHRpb25zKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKiBlc2xpbnQgY29uc2lzdGVudC1yZXR1cm46IDAgKi9cblxuXG4gIENvbm5lY3Rvci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCBjYWxsYmFjaykge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgaWYgKCF0aGlzLmNhY2hlKSByZXR1cm4gY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICB2YXIgb3B0aW9ucyA9IF9leHRlbmRzKHt9LCB0aGlzLmNhY2hlLm9wdGlvbnMsIHRoaXMub3B0aW9ucy5jYWNoZSk7XG5cbiAgICB2YXIgbG9hZExuZ3MgPSB0eXBlb2YgbGFuZ3VhZ2VzID09PSAnc3RyaW5nJyA/IHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkobGFuZ3VhZ2VzKSA6IGxhbmd1YWdlcztcblxuICAgIGlmIChvcHRpb25zLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuY2FjaGUubG9hZChsb2FkTG5ncywgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICBpZiAoZXJyKSBfdGhpczIubG9nZ2VyLmVycm9yKCdsb2FkaW5nIGxhbmd1YWdlcyAnICsgbG9hZExuZ3Muam9pbignLCAnKSArICcgZnJvbSBjYWNoZSBmYWlsZWQnLCBlcnIpO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIC8qIGVzbGludCBuby1yZXN0cmljdGVkLXN5bnRheDogMCAqL1xuICAgICAgICAgIGZvciAodmFyIGwgaW4gZGF0YSkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBsKSkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBuIGluIGRhdGFbbF0pIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGFbbF0sIG4pKSB7XG4gICAgICAgICAgICAgICAgICBpZiAobiAhPT0gJ2kxOG5TdGFtcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1bmRsZSA9IGRhdGFbbF1bbl07XG4gICAgICAgICAgICAgICAgICAgIGlmIChidW5kbGUpIF90aGlzMi5zdG9yZS5hZGRSZXNvdXJjZUJ1bmRsZShsLCBuLCBidW5kbGUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfTtcblxuICBDb25uZWN0b3IucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbiBzYXZlKCkge1xuICAgIGlmICh0aGlzLmNhY2hlICYmIHRoaXMub3B0aW9ucy5jYWNoZSAmJiB0aGlzLm9wdGlvbnMuY2FjaGUuZW5hYmxlZCkgdGhpcy5jYWNoZS5zYXZlKHRoaXMuc3RvcmUuZGF0YSk7XG4gIH07XG5cbiAgcmV0dXJuIENvbm5lY3Rvcjtcbn0oRXZlbnRFbWl0dGVyKTtcblxuZnVuY3Rpb24gZ2V0JDEoKSB7XG4gIHJldHVybiB7XG4gICAgZGVidWc6IGZhbHNlLFxuICAgIGluaXRJbW1lZGlhdGU6IHRydWUsXG5cbiAgICBuczogWyd0cmFuc2xhdGlvbiddLFxuICAgIGRlZmF1bHROUzogWyd0cmFuc2xhdGlvbiddLFxuICAgIGZhbGxiYWNrTG5nOiBbJ2RldiddLFxuICAgIGZhbGxiYWNrTlM6IGZhbHNlLCAvLyBzdHJpbmcgb3IgYXJyYXkgb2YgbmFtZXNwYWNlc1xuXG4gICAgd2hpdGVsaXN0OiBmYWxzZSwgLy8gYXJyYXkgd2l0aCB3aGl0ZWxpc3RlZCBsYW5ndWFnZXNcbiAgICBub25FeHBsaWNpdFdoaXRlbGlzdDogZmFsc2UsXG4gICAgbG9hZDogJ2FsbCcsIC8vIHwgY3VycmVudE9ubHkgfCBsYW5ndWFnZU9ubHlcbiAgICBwcmVsb2FkOiBmYWxzZSwgLy8gYXJyYXkgd2l0aCBwcmVsb2FkIGxhbmd1YWdlc1xuXG4gICAgc2ltcGxpZnlQbHVyYWxTdWZmaXg6IHRydWUsXG4gICAga2V5U2VwYXJhdG9yOiAnLicsXG4gICAgbnNTZXBhcmF0b3I6ICc6JyxcbiAgICBwbHVyYWxTZXBhcmF0b3I6ICdfJyxcbiAgICBjb250ZXh0U2VwYXJhdG9yOiAnXycsXG5cbiAgICBzYXZlTWlzc2luZzogZmFsc2UsIC8vIGVuYWJsZSB0byBzZW5kIG1pc3NpbmcgdmFsdWVzXG4gICAgc2F2ZU1pc3NpbmdUbzogJ2ZhbGxiYWNrJywgLy8gJ2N1cnJlbnQnIHx8ICdhbGwnXG4gICAgbWlzc2luZ0tleUhhbmRsZXI6IGZhbHNlLCAvLyBmdW5jdGlvbihsbmcsIG5zLCBrZXksIGZhbGxiYWNrVmFsdWUpIC0+IG92ZXJyaWRlIGlmIHByZWZlciBvbiBoYW5kbGluZ1xuXG4gICAgcG9zdFByb2Nlc3M6IGZhbHNlLCAvLyBzdHJpbmcgb3IgYXJyYXkgb2YgcG9zdFByb2Nlc3NvciBuYW1lc1xuICAgIHJldHVybk51bGw6IHRydWUsIC8vIGFsbG93cyBudWxsIHZhbHVlIGFzIHZhbGlkIHRyYW5zbGF0aW9uXG4gICAgcmV0dXJuRW1wdHlTdHJpbmc6IHRydWUsIC8vIGFsbG93cyBlbXB0eSBzdHJpbmcgdmFsdWUgYXMgdmFsaWQgdHJhbnNsYXRpb25cbiAgICByZXR1cm5PYmplY3RzOiBmYWxzZSxcbiAgICBqb2luQXJyYXlzOiBmYWxzZSwgLy8gb3Igc3RyaW5nIHRvIGpvaW4gYXJyYXlcbiAgICByZXR1cm5lZE9iamVjdEhhbmRsZXI6IGZ1bmN0aW9uIHJldHVybmVkT2JqZWN0SGFuZGxlcigpIHt9LCAvLyBmdW5jdGlvbihrZXksIHZhbHVlLCBvcHRpb25zKSB0cmlnZ2VyZWQgaWYga2V5IHJldHVybnMgb2JqZWN0IGJ1dCByZXR1cm5PYmplY3RzIGlzIHNldCB0byBmYWxzZVxuICAgIHBhcnNlTWlzc2luZ0tleUhhbmRsZXI6IGZhbHNlLCAvLyBmdW5jdGlvbihrZXkpIHBhcnNlZCBhIGtleSB0aGF0IHdhcyBub3QgZm91bmQgaW4gdCgpIGJlZm9yZSByZXR1cm5pbmdcbiAgICBhcHBlbmROYW1lc3BhY2VUb01pc3NpbmdLZXk6IGZhbHNlLFxuICAgIGFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlOiBmYWxzZSxcbiAgICBvdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlKGFyZ3MpIHtcbiAgICAgIHJldHVybiB7IGRlZmF1bHRWYWx1ZTogYXJnc1sxXSB9O1xuICAgIH0sXG5cbiAgICBpbnRlcnBvbGF0aW9uOiB7XG4gICAgICBlc2NhcGVWYWx1ZTogdHJ1ZSxcbiAgICAgIGZvcm1hdDogZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCBfZm9ybWF0LCBsbmcpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSxcbiAgICAgIHByZWZpeDogJ3t7JyxcbiAgICAgIHN1ZmZpeDogJ319JyxcbiAgICAgIGZvcm1hdFNlcGFyYXRvcjogJywnLFxuICAgICAgLy8gcHJlZml4RXNjYXBlZDogJ3t7JyxcbiAgICAgIC8vIHN1ZmZpeEVzY2FwZWQ6ICd9fScsXG4gICAgICAvLyB1bmVzY2FwZVN1ZmZpeDogJycsXG4gICAgICB1bmVzY2FwZVByZWZpeDogJy0nLFxuXG4gICAgICBuZXN0aW5nUHJlZml4OiAnJHQoJyxcbiAgICAgIG5lc3RpbmdTdWZmaXg6ICcpJyxcbiAgICAgIC8vIG5lc3RpbmdQcmVmaXhFc2NhcGVkOiAnJHQoJyxcbiAgICAgIC8vIG5lc3RpbmdTdWZmaXhFc2NhcGVkOiAnKScsXG4gICAgICBkZWZhdWx0VmFyaWFibGVzOiB1bmRlZmluZWQgLy8gb2JqZWN0IHRoYXQgY2FuIGhhdmUgdmFsdWVzIHRvIGludGVycG9sYXRlIG9uIC0gZXh0ZW5kcyBwYXNzZWQgaW4gaW50ZXJwb2xhdGlvbiBkYXRhXG4gICAgfVxuICB9O1xufVxuXG4vKiBlc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246IDAgKi9cbmZ1bmN0aW9uIHRyYW5zZm9ybU9wdGlvbnMob3B0aW9ucykge1xuICAvLyBjcmVhdGUgbmFtZXNwYWNlIG9iamVjdCBpZiBuYW1lc3BhY2UgaXMgcGFzc2VkIGluIGFzIHN0cmluZ1xuICBpZiAodHlwZW9mIG9wdGlvbnMubnMgPT09ICdzdHJpbmcnKSBvcHRpb25zLm5zID0gW29wdGlvbnMubnNdO1xuICBpZiAodHlwZW9mIG9wdGlvbnMuZmFsbGJhY2tMbmcgPT09ICdzdHJpbmcnKSBvcHRpb25zLmZhbGxiYWNrTG5nID0gW29wdGlvbnMuZmFsbGJhY2tMbmddO1xuICBpZiAodHlwZW9mIG9wdGlvbnMuZmFsbGJhY2tOUyA9PT0gJ3N0cmluZycpIG9wdGlvbnMuZmFsbGJhY2tOUyA9IFtvcHRpb25zLmZhbGxiYWNrTlNdO1xuXG4gIC8vIGV4dGVuZCB3aGl0ZWxpc3Qgd2l0aCBjaW1vZGVcbiAgaWYgKG9wdGlvbnMud2hpdGVsaXN0ICYmIG9wdGlvbnMud2hpdGVsaXN0LmluZGV4T2YoJ2NpbW9kZScpIDwgMCkgb3B0aW9ucy53aGl0ZWxpc3QucHVzaCgnY2ltb2RlJyk7XG5cbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgSTE4biA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gIGluaGVyaXRzKEkxOG4sIF9FdmVudEVtaXR0ZXIpO1xuXG4gIGZ1bmN0aW9uIEkxOG4oKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50c1sxXTtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBJMThuKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0V2ZW50RW1pdHRlci5jYWxsKHRoaXMpKTtcblxuICAgIF90aGlzLm9wdGlvbnMgPSB0cmFuc2Zvcm1PcHRpb25zKG9wdGlvbnMpO1xuICAgIF90aGlzLnNlcnZpY2VzID0ge307XG4gICAgX3RoaXMubG9nZ2VyID0gYmFzZUxvZ2dlcjtcbiAgICBfdGhpcy5tb2R1bGVzID0geyBleHRlcm5hbDogW10gfTtcblxuICAgIGlmIChjYWxsYmFjayAmJiAhX3RoaXMuaXNJbml0aWFsaXplZCAmJiAhb3B0aW9ucy5pc0Nsb25lKSB7XG4gICAgICB2YXIgX3JldDtcblxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2kxOG5leHQvaTE4bmV4dC9pc3N1ZXMvODc5XG4gICAgICBpZiAoIV90aGlzLm9wdGlvbnMuaW5pdEltbWVkaWF0ZSkgcmV0dXJuIF9yZXQgPSBfdGhpcy5pbml0KG9wdGlvbnMsIGNhbGxiYWNrKSwgcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuaW5pdChvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgSTE4bi5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIGluaXQob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcblxuICAgIGlmIChvcHRpb25zLmNvbXBhdGliaWxpdHlBUEkgPT09ICd2MScpIHtcbiAgICAgIHRoaXMub3B0aW9ucyA9IF9leHRlbmRzKHt9LCBnZXQkMSgpLCB0cmFuc2Zvcm1PcHRpb25zKGNvbnZlcnRBUElPcHRpb25zKG9wdGlvbnMpKSwge30pO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTiA9PT0gJ3YxJykge1xuICAgICAgdGhpcy5vcHRpb25zID0gX2V4dGVuZHMoe30sIGdldCQxKCksIHRyYW5zZm9ybU9wdGlvbnMoY29udmVydEpTT05PcHRpb25zKG9wdGlvbnMpKSwge30pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgZ2V0JDEoKSwgdGhpcy5vcHRpb25zLCB0cmFuc2Zvcm1PcHRpb25zKG9wdGlvbnMpKTtcbiAgICB9XG4gICAgdGhpcy5mb3JtYXQgPSB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQ7XG4gICAgaWYgKCFjYWxsYmFjaykgY2FsbGJhY2sgPSBub29wO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2xhc3NPbkRlbWFuZChDbGFzc09yT2JqZWN0KSB7XG4gICAgICBpZiAoIUNsYXNzT3JPYmplY3QpIHJldHVybiBudWxsO1xuICAgICAgaWYgKHR5cGVvZiBDbGFzc09yT2JqZWN0ID09PSAnZnVuY3Rpb24nKSByZXR1cm4gbmV3IENsYXNzT3JPYmplY3QoKTtcbiAgICAgIHJldHVybiBDbGFzc09yT2JqZWN0O1xuICAgIH1cblxuICAgIC8vIGluaXQgc2VydmljZXNcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5pc0Nsb25lKSB7XG4gICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMyLm1vZHVsZXMubG9nZ2VyKSB7XG4gICAgICAgICAgYmFzZUxvZ2dlci5pbml0KGNyZWF0ZUNsYXNzT25EZW1hbmQoX3RoaXMyLm1vZHVsZXMubG9nZ2VyKSwgX3RoaXMyLm9wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJhc2VMb2dnZXIuaW5pdChudWxsLCBfdGhpczIub3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbHUgPSBuZXcgTGFuZ3VhZ2VVdGlsKF90aGlzMi5vcHRpb25zKTtcbiAgICAgICAgX3RoaXMyLnN0b3JlID0gbmV3IFJlc291cmNlU3RvcmUoX3RoaXMyLm9wdGlvbnMucmVzb3VyY2VzLCBfdGhpczIub3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHMgPSBfdGhpczIuc2VydmljZXM7XG4gICAgICAgIHMubG9nZ2VyID0gYmFzZUxvZ2dlcjtcbiAgICAgICAgcy5yZXNvdXJjZVN0b3JlID0gX3RoaXMyLnN0b3JlO1xuICAgICAgICBzLnJlc291cmNlU3RvcmUub24oJ2FkZGVkIHJlbW92ZWQnLCBmdW5jdGlvbiAobG5nLCBucykge1xuICAgICAgICAgIHMuY2FjaGVDb25uZWN0b3Iuc2F2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcy5sYW5ndWFnZVV0aWxzID0gbHU7XG4gICAgICAgIHMucGx1cmFsUmVzb2x2ZXIgPSBuZXcgUGx1cmFsUmVzb2x2ZXIobHUsIHsgcHJlcGVuZDogX3RoaXMyLm9wdGlvbnMucGx1cmFsU2VwYXJhdG9yLCBjb21wYXRpYmlsaXR5SlNPTjogX3RoaXMyLm9wdGlvbnMuY29tcGF0aWJpbGl0eUpTT04sIHNpbXBsaWZ5UGx1cmFsU3VmZml4OiBfdGhpczIub3B0aW9ucy5zaW1wbGlmeVBsdXJhbFN1ZmZpeCB9KTtcbiAgICAgICAgcy5pbnRlcnBvbGF0b3IgPSBuZXcgSW50ZXJwb2xhdG9yKF90aGlzMi5vcHRpb25zKTtcblxuICAgICAgICBzLmJhY2tlbmRDb25uZWN0b3IgPSBuZXcgQ29ubmVjdG9yKGNyZWF0ZUNsYXNzT25EZW1hbmQoX3RoaXMyLm1vZHVsZXMuYmFja2VuZCksIHMucmVzb3VyY2VTdG9yZSwgcywgX3RoaXMyLm9wdGlvbnMpO1xuICAgICAgICAvLyBwaXBlIGV2ZW50cyBmcm9tIGJhY2tlbmRDb25uZWN0b3JcbiAgICAgICAgcy5iYWNrZW5kQ29ubmVjdG9yLm9uKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpczIuZW1pdC5hcHBseShfdGhpczIsIFtldmVudF0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcy5iYWNrZW5kQ29ubmVjdG9yLm9uKCdsb2FkZWQnLCBmdW5jdGlvbiAobG9hZGVkKSB7XG4gICAgICAgICAgcy5jYWNoZUNvbm5lY3Rvci5zYXZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHMuY2FjaGVDb25uZWN0b3IgPSBuZXcgQ29ubmVjdG9yJDEoY3JlYXRlQ2xhc3NPbkRlbWFuZChfdGhpczIubW9kdWxlcy5jYWNoZSksIHMucmVzb3VyY2VTdG9yZSwgcywgX3RoaXMyLm9wdGlvbnMpO1xuICAgICAgICAvLyBwaXBlIGV2ZW50cyBmcm9tIGJhY2tlbmRDb25uZWN0b3JcbiAgICAgICAgcy5jYWNoZUNvbm5lY3Rvci5vbignKicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMyLmVtaXQuYXBwbHkoX3RoaXMyLCBbZXZlbnRdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChfdGhpczIubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yKSB7XG4gICAgICAgICAgcy5sYW5ndWFnZURldGVjdG9yID0gY3JlYXRlQ2xhc3NPbkRlbWFuZChfdGhpczIubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yKTtcbiAgICAgICAgICBzLmxhbmd1YWdlRGV0ZWN0b3IuaW5pdChzLCBfdGhpczIub3B0aW9ucy5kZXRlY3Rpb24sIF90aGlzMi5vcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi50cmFuc2xhdG9yID0gbmV3IFRyYW5zbGF0b3IoX3RoaXMyLnNlcnZpY2VzLCBfdGhpczIub3B0aW9ucyk7XG4gICAgICAgIC8vIHBpcGUgZXZlbnRzIGZyb20gdHJhbnNsYXRvclxuICAgICAgICBfdGhpczIudHJhbnNsYXRvci5vbignKicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4zID4gMSA/IF9sZW4zIC0gMSA6IDApLCBfa2V5MyA9IDE7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2tleTMgLSAxXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgX3RoaXMyLmVtaXQuYXBwbHkoX3RoaXMyLCBbZXZlbnRdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzMi5tb2R1bGVzLmV4dGVybmFsLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICBpZiAobS5pbml0KSBtLmluaXQoX3RoaXMyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KSgpO1xuICAgIH1cblxuICAgIC8vIGFwcGVuZCBhcGlcbiAgICB2YXIgc3RvcmVBcGkgPSBbJ2dldFJlc291cmNlJywgJ2FkZFJlc291cmNlJywgJ2FkZFJlc291cmNlcycsICdhZGRSZXNvdXJjZUJ1bmRsZScsICdyZW1vdmVSZXNvdXJjZUJ1bmRsZScsICdoYXNSZXNvdXJjZUJ1bmRsZScsICdnZXRSZXNvdXJjZUJ1bmRsZSddO1xuICAgIHN0b3JlQXBpLmZvckVhY2goZnVuY3Rpb24gKGZjTmFtZSkge1xuICAgICAgX3RoaXMyW2ZjTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfc3RvcmU7XG5cbiAgICAgICAgcmV0dXJuIChfc3RvcmUgPSBfdGhpczIuc3RvcmUpW2ZjTmFtZV0uYXBwbHkoX3N0b3JlLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIENPTVBBVElCSUxJVFk6IHJlbW92ZSB0aGlzXG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJID09PSAndjEnKSBhcHBlbmRCYWNrd2FyZHNBUEkodGhpcyk7XG5cbiAgICB2YXIgbG9hZCA9IGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgICBfdGhpczIuY2hhbmdlTGFuZ3VhZ2UoX3RoaXMyLm9wdGlvbnMubG5nLCBmdW5jdGlvbiAoZXJyLCB0KSB7XG4gICAgICAgIF90aGlzMi5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMyLmxvZ2dlci5sb2coJ2luaXRpYWxpemVkJywgX3RoaXMyLm9wdGlvbnMpO1xuICAgICAgICBfdGhpczIuZW1pdCgnaW5pdGlhbGl6ZWQnLCBfdGhpczIub3B0aW9ucyk7XG5cbiAgICAgICAgY2FsbGJhY2soZXJyLCB0KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnJlc291cmNlcyB8fCAhdGhpcy5vcHRpb25zLmluaXRJbW1lZGlhdGUpIHtcbiAgICAgIGxvYWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dChsb2FkLCAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKiBlc2xpbnQgY29uc2lzdGVudC1yZXR1cm46IDAgKi9cblxuXG4gIEkxOG4ucHJvdG90eXBlLmxvYWRSZXNvdXJjZXMgPSBmdW5jdGlvbiBsb2FkUmVzb3VyY2VzKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBub29wO1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMucmVzb3VyY2VzKSB7XG4gICAgICB2YXIgX3JldDMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpczMubGFuZ3VhZ2UgJiYgX3RoaXMzLmxhbmd1YWdlLnRvTG93ZXJDYXNlKCkgPT09ICdjaW1vZGUnKSByZXR1cm4ge1xuICAgICAgICAgICAgdjogY2FsbGJhY2soKVxuICAgICAgICAgIH07IC8vIGF2b2lkIGxvYWRpbmcgcmVzb3VyY2VzIGZvciBjaW1vZGVcblxuICAgICAgICB2YXIgdG9Mb2FkID0gW107XG5cbiAgICAgICAgdmFyIGFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChsbmcpIHtcbiAgICAgICAgICBpZiAoIWxuZykgcmV0dXJuO1xuICAgICAgICAgIHZhciBsbmdzID0gX3RoaXMzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KGxuZyk7XG4gICAgICAgICAgbG5ncy5mb3JFYWNoKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICBpZiAodG9Mb2FkLmluZGV4T2YobCkgPCAwKSB0b0xvYWQucHVzaChsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIV90aGlzMy5sYW5ndWFnZSkge1xuICAgICAgICAgIC8vIGF0IGxlYXN0IGxvYWQgZmFsbGJhY2tzIGluIHRoaXMgY2FzZVxuICAgICAgICAgIHZhciBmYWxsYmFja3MgPSBfdGhpczMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRGYWxsYmFja0NvZGVzKF90aGlzMy5vcHRpb25zLmZhbGxiYWNrTG5nKTtcbiAgICAgICAgICBmYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGVuZChsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcHBlbmQoX3RoaXMzLmxhbmd1YWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfdGhpczMub3B0aW9ucy5wcmVsb2FkKSB7XG4gICAgICAgICAgX3RoaXMzLm9wdGlvbnMucHJlbG9hZC5mb3JFYWNoKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBwZW5kKGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMzLnNlcnZpY2VzLmNhY2hlQ29ubmVjdG9yLmxvYWQodG9Mb2FkLCBfdGhpczMub3B0aW9ucy5ucywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLmxvYWQodG9Mb2FkLCBfdGhpczMub3B0aW9ucy5ucywgY2FsbGJhY2spO1xuICAgICAgICB9KTtcbiAgICAgIH0oKTtcblxuICAgICAgaWYgKCh0eXBlb2YgX3JldDMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKF9yZXQzKSkgPT09IFwib2JqZWN0XCIpIHJldHVybiBfcmV0My52O1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgSTE4bi5wcm90b3R5cGUucmVsb2FkUmVzb3VyY2VzID0gZnVuY3Rpb24gcmVsb2FkUmVzb3VyY2VzKGxuZ3MsIG5zKSB7XG4gICAgaWYgKCFsbmdzKSBsbmdzID0gdGhpcy5sYW5ndWFnZXM7XG4gICAgaWYgKCFucykgbnMgPSB0aGlzLm9wdGlvbnMubnM7XG4gICAgdGhpcy5zZXJ2aWNlcy5iYWNrZW5kQ29ubmVjdG9yLnJlbG9hZChsbmdzLCBucyk7XG4gIH07XG5cbiAgSTE4bi5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKG1vZHVsZSkge1xuICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ2JhY2tlbmQnKSB7XG4gICAgICB0aGlzLm1vZHVsZXMuYmFja2VuZCA9IG1vZHVsZTtcbiAgICB9XG5cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdjYWNoZScpIHtcbiAgICAgIHRoaXMubW9kdWxlcy5jYWNoZSA9IG1vZHVsZTtcbiAgICB9XG5cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdsb2dnZXInIHx8IG1vZHVsZS5sb2cgJiYgbW9kdWxlLndhcm4gJiYgbW9kdWxlLmVycm9yKSB7XG4gICAgICB0aGlzLm1vZHVsZXMubG9nZ2VyID0gbW9kdWxlO1xuICAgIH1cblxuICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ2xhbmd1YWdlRGV0ZWN0b3InKSB7XG4gICAgICB0aGlzLm1vZHVsZXMubGFuZ3VhZ2VEZXRlY3RvciA9IG1vZHVsZTtcbiAgICB9XG5cbiAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdwb3N0UHJvY2Vzc29yJykge1xuICAgICAgcG9zdFByb2Nlc3Nvci5hZGRQb3N0UHJvY2Vzc29yKG1vZHVsZSk7XG4gICAgfVxuXG4gICAgaWYgKG1vZHVsZS50eXBlID09PSAnM3JkUGFydHknKSB7XG4gICAgICB0aGlzLm1vZHVsZXMuZXh0ZXJuYWwucHVzaChtb2R1bGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEkxOG4ucHJvdG90eXBlLmNoYW5nZUxhbmd1YWdlID0gZnVuY3Rpb24gY2hhbmdlTGFuZ3VhZ2UobG5nLCBjYWxsYmFjaykge1xuICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgdmFyIGRvbmUgPSBmdW5jdGlvbiBkb25lKGVyciwgbCkge1xuICAgICAgaWYgKGwpIHtcbiAgICAgICAgX3RoaXM0LmVtaXQoJ2xhbmd1YWdlQ2hhbmdlZCcsIGwpO1xuICAgICAgICBfdGhpczQubG9nZ2VyLmxvZygnbGFuZ3VhZ2VDaGFuZ2VkJywgbCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soZXJyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpczQudC5hcHBseShfdGhpczQsIGFyZ3VtZW50cyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIHNldExuZyA9IGZ1bmN0aW9uIHNldExuZyhsKSB7XG4gICAgICBpZiAobCkge1xuICAgICAgICBfdGhpczQubGFuZ3VhZ2UgPSBsO1xuICAgICAgICBfdGhpczQubGFuZ3VhZ2VzID0gX3RoaXM0LnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KGwpO1xuXG4gICAgICAgIF90aGlzNC50cmFuc2xhdG9yLmNoYW5nZUxhbmd1YWdlKGwpO1xuXG4gICAgICAgIGlmIChfdGhpczQuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvcikgX3RoaXM0LnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuY2FjaGVVc2VyTGFuZ3VhZ2UobCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzNC5sb2FkUmVzb3VyY2VzKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgZG9uZShlcnIsIGwpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGlmICghbG5nICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciAmJiAhdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmFzeW5jKSB7XG4gICAgICBzZXRMbmcodGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdCgpKTtcbiAgICB9IGVsc2UgaWYgKCFsbmcgJiYgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3Rvci5hc3luYykge1xuICAgICAgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdChzZXRMbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRMbmcobG5nKTtcbiAgICB9XG4gIH07XG5cbiAgSTE4bi5wcm90b3R5cGUuZ2V0Rml4ZWRUID0gZnVuY3Rpb24gZ2V0Rml4ZWRUKGxuZywgbnMpIHtcbiAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgIHZhciBmaXhlZFQgPSBmdW5jdGlvbiBmaXhlZFQoa2V5KSB7XG4gICAgICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgIHZhciBvcHRpb25zID0gX2V4dGVuZHMoe30sIG9wdHMpO1xuICAgICAgb3B0aW9ucy5sbmcgPSBvcHRpb25zLmxuZyB8fCBmaXhlZFQubG5nO1xuICAgICAgb3B0aW9ucy5ucyA9IG9wdGlvbnMubnMgfHwgZml4ZWRULm5zO1xuICAgICAgcmV0dXJuIF90aGlzNS50KGtleSwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBmaXhlZFQubG5nID0gbG5nO1xuICAgIGZpeGVkVC5ucyA9IG5zO1xuICAgIHJldHVybiBmaXhlZFQ7XG4gIH07XG5cbiAgSTE4bi5wcm90b3R5cGUudCA9IGZ1bmN0aW9uIHQoKSB7XG4gICAgdmFyIF90cmFuc2xhdG9yO1xuXG4gICAgcmV0dXJuIHRoaXMudHJhbnNsYXRvciAmJiAoX3RyYW5zbGF0b3IgPSB0aGlzLnRyYW5zbGF0b3IpLnRyYW5zbGF0ZS5hcHBseShfdHJhbnNsYXRvciwgYXJndW1lbnRzKTtcbiAgfTtcblxuICBJMThuLnByb3RvdHlwZS5leGlzdHMgPSBmdW5jdGlvbiBleGlzdHMoKSB7XG4gICAgdmFyIF90cmFuc2xhdG9yMjtcblxuICAgIHJldHVybiB0aGlzLnRyYW5zbGF0b3IgJiYgKF90cmFuc2xhdG9yMiA9IHRoaXMudHJhbnNsYXRvcikuZXhpc3RzLmFwcGx5KF90cmFuc2xhdG9yMiwgYXJndW1lbnRzKTtcbiAgfTtcblxuICBJMThuLnByb3RvdHlwZS5zZXREZWZhdWx0TmFtZXNwYWNlID0gZnVuY3Rpb24gc2V0RGVmYXVsdE5hbWVzcGFjZShucykge1xuICAgIHRoaXMub3B0aW9ucy5kZWZhdWx0TlMgPSBucztcbiAgfTtcblxuICBJMThuLnByb3RvdHlwZS5sb2FkTmFtZXNwYWNlcyA9IGZ1bmN0aW9uIGxvYWROYW1lc3BhY2VzKG5zLCBjYWxsYmFjaykge1xuICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgaWYgKCF0aGlzLm9wdGlvbnMubnMpIHJldHVybiBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgIGlmICh0eXBlb2YgbnMgPT09ICdzdHJpbmcnKSBucyA9IFtuc107XG5cbiAgICBucy5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG4gICAgICBpZiAoX3RoaXM2Lm9wdGlvbnMubnMuaW5kZXhPZihuKSA8IDApIF90aGlzNi5vcHRpb25zLm5zLnB1c2gobik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmxvYWRSZXNvdXJjZXMoY2FsbGJhY2spO1xuICB9O1xuXG4gIEkxOG4ucHJvdG90eXBlLmxvYWRMYW5ndWFnZXMgPSBmdW5jdGlvbiBsb2FkTGFuZ3VhZ2VzKGxuZ3MsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBsbmdzID09PSAnc3RyaW5nJykgbG5ncyA9IFtsbmdzXTtcbiAgICB2YXIgcHJlbG9hZGVkID0gdGhpcy5vcHRpb25zLnByZWxvYWQgfHwgW107XG5cbiAgICB2YXIgbmV3TG5ncyA9IGxuZ3MuZmlsdGVyKGZ1bmN0aW9uIChsbmcpIHtcbiAgICAgIHJldHVybiBwcmVsb2FkZWQuaW5kZXhPZihsbmcpIDwgMDtcbiAgICB9KTtcbiAgICAvLyBFeGl0IGVhcmx5IGlmIGFsbCBnaXZlbiBsYW5ndWFnZXMgYXJlIGFscmVhZHkgcHJlbG9hZGVkXG4gICAgaWYgKCFuZXdMbmdzLmxlbmd0aCkgcmV0dXJuIGNhbGxiYWNrKCk7XG5cbiAgICB0aGlzLm9wdGlvbnMucHJlbG9hZCA9IHByZWxvYWRlZC5jb25jYXQobmV3TG5ncyk7XG4gICAgdGhpcy5sb2FkUmVzb3VyY2VzKGNhbGxiYWNrKTtcbiAgfTtcblxuICBJMThuLnByb3RvdHlwZS5kaXIgPSBmdW5jdGlvbiBkaXIobG5nKSB7XG4gICAgaWYgKCFsbmcpIGxuZyA9IHRoaXMubGFuZ3VhZ2VzICYmIHRoaXMubGFuZ3VhZ2VzLmxlbmd0aCA+IDAgPyB0aGlzLmxhbmd1YWdlc1swXSA6IHRoaXMubGFuZ3VhZ2U7XG4gICAgaWYgKCFsbmcpIHJldHVybiAncnRsJztcblxuICAgIHZhciBydGxMbmdzID0gWydhcicsICdzaHUnLCAnc3FyJywgJ3NzaCcsICd4YWEnLCAneWhkJywgJ3l1ZCcsICdhYW8nLCAnYWJoJywgJ2FidicsICdhY20nLCAnYWNxJywgJ2FjdycsICdhY3gnLCAnYWN5JywgJ2FkZicsICdhZHMnLCAnYWViJywgJ2FlYycsICdhZmInLCAnYWpwJywgJ2FwYycsICdhcGQnLCAnYXJiJywgJ2FycScsICdhcnMnLCAnYXJ5JywgJ2FyeicsICdhdXonLCAnYXZsJywgJ2F5aCcsICdheWwnLCAnYXluJywgJ2F5cCcsICdiYnonLCAncGdhJywgJ2hlJywgJ2l3JywgJ3BzJywgJ3BidCcsICdwYnUnLCAncHN0JywgJ3BycCcsICdwcmQnLCAndXInLCAneWRkJywgJ3lkcycsICd5aWgnLCAnamknLCAneWknLCAnaGJvJywgJ21lbicsICd4bW4nLCAnZmEnLCAnanByJywgJ3BlbycsICdwZXMnLCAncHJzJywgJ2R2JywgJ3NhbSddO1xuXG4gICAgcmV0dXJuIHJ0bExuZ3MuaW5kZXhPZih0aGlzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUobG5nKSkgPj0gMCA/ICdydGwnIDogJ2x0cic7XG4gIH07XG5cbiAgLyogZXNsaW50IGNsYXNzLW1ldGhvZHMtdXNlLXRoaXM6IDAgKi9cblxuXG4gIEkxOG4ucHJvdG90eXBlLmNyZWF0ZUluc3RhbmNlID0gZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50c1sxXTtcblxuICAgIHJldHVybiBuZXcgSTE4bihvcHRpb25zLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgSTE4bi5wcm90b3R5cGUuY2xvbmVJbnN0YW5jZSA9IGZ1bmN0aW9uIGNsb25lSW5zdGFuY2UoKSB7XG4gICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBub29wO1xuXG4gICAgdmFyIG1lcmdlZE9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5vcHRpb25zLCBvcHRpb25zLCB7IGlzQ2xvbmU6IHRydWUgfSk7XG4gICAgdmFyIGNsb25lID0gbmV3IEkxOG4obWVyZ2VkT3B0aW9ucywgY2FsbGJhY2spO1xuICAgIHZhciBtZW1iZXJzVG9Db3B5ID0gWydzdG9yZScsICdzZXJ2aWNlcycsICdsYW5ndWFnZSddO1xuICAgIG1lbWJlcnNUb0NvcHkuZm9yRWFjaChmdW5jdGlvbiAobSkge1xuICAgICAgY2xvbmVbbV0gPSBfdGhpczdbbV07XG4gICAgfSk7XG4gICAgY2xvbmUudHJhbnNsYXRvciA9IG5ldyBUcmFuc2xhdG9yKGNsb25lLnNlcnZpY2VzLCBjbG9uZS5vcHRpb25zKTtcbiAgICBjbG9uZS50cmFuc2xhdG9yLm9uKCcqJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuNCA+IDEgPyBfbGVuNCAtIDEgOiAwKSwgX2tleTQgPSAxOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTQgLSAxXSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICB9XG5cbiAgICAgIGNsb25lLmVtaXQuYXBwbHkoY2xvbmUsIFtldmVudF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9KTtcbiAgICBjbG9uZS5pbml0KG1lcmdlZE9wdGlvbnMsIGNhbGxiYWNrKTtcblxuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICByZXR1cm4gSTE4bjtcbn0oRXZlbnRFbWl0dGVyKTtcblxudmFyIGkxOG5leHQgPSBuZXcgSTE4bigpO1xuXG5yZXR1cm4gaTE4bmV4dDtcblxufSkpKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vZXh0ZXJuYWwvaTE4bmV4dC9zY3JpcHRzL2kxOG5leHQuanNcbi8vIG1vZHVsZSBpZCA9IDVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAoZ2xvYmFsLmkxOG5leHRYSFJCYWNrZW5kID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXJyID0gW107XG52YXIgZWFjaCA9IGFyci5mb3JFYWNoO1xudmFyIHNsaWNlID0gYXJyLnNsaWNlO1xuXG5mdW5jdGlvbiBkZWZhdWx0cyhvYmopIHtcbiAgZWFjaC5jYWxsKHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChvYmpbcHJvcF0gPT09IHVuZGVmaW5lZCkgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvYmo7XG59XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZnVuY3Rpb24gYWRkUXVlcnlTdHJpbmcodXJsLCBwYXJhbXMpIHtcbiAgaWYgKHBhcmFtcyAmJiAodHlwZW9mIHBhcmFtcyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YocGFyYW1zKSkgPT09ICdvYmplY3QnKSB7XG4gICAgdmFyIHF1ZXJ5U3RyaW5nID0gJycsXG4gICAgICAgIGUgPSBlbmNvZGVVUklDb21wb25lbnQ7XG5cbiAgICAvLyBNdXN0IGVuY29kZSBkYXRhXG4gICAgZm9yICh2YXIgcGFyYW1OYW1lIGluIHBhcmFtcykge1xuICAgICAgcXVlcnlTdHJpbmcgKz0gJyYnICsgZShwYXJhbU5hbWUpICsgJz0nICsgZShwYXJhbXNbcGFyYW1OYW1lXSk7XG4gICAgfVxuXG4gICAgaWYgKCFxdWVyeVN0cmluZykge1xuICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG5cbiAgICB1cmwgPSB1cmwgKyAodXJsLmluZGV4T2YoJz8nKSAhPT0gLTEgPyAnJicgOiAnPycpICsgcXVlcnlTdHJpbmcuc2xpY2UoMSk7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufVxuXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9YZW9uY3Jvc3MvNzY2MzI3M1xuZnVuY3Rpb24gYWpheCh1cmwsIG9wdGlvbnMsIGNhbGxiYWNrLCBkYXRhLCBjYWNoZSkge1xuXG4gIGlmIChkYXRhICYmICh0eXBlb2YgZGF0YSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoZGF0YSkpID09PSAnb2JqZWN0Jykge1xuICAgIGlmICghY2FjaGUpIHtcbiAgICAgIGRhdGFbJ190J10gPSBuZXcgRGF0ZSgpO1xuICAgIH1cbiAgICAvLyBVUkwgZW5jb2RlZCBmb3JtIGRhdGEgbXVzdCBiZSBpbiBxdWVyeXN0cmluZyBmb3JtYXRcbiAgICBkYXRhID0gYWRkUXVlcnlTdHJpbmcoJycsIGRhdGEpLnNsaWNlKDEpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMucXVlcnlTdHJpbmdQYXJhbXMpIHtcbiAgICB1cmwgPSBhZGRRdWVyeVN0cmluZyh1cmwsIG9wdGlvbnMucXVlcnlTdHJpbmdQYXJhbXMpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICB2YXIgeDtcbiAgICBpZiAoWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgIHggPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeCA9IG5ldyBBY3RpdmVYT2JqZWN0KCdNU1hNTDIuWE1MSFRUUC4zLjAnKTtcbiAgICB9XG4gICAgeC5vcGVuKGRhdGEgPyAnUE9TVCcgOiAnR0VUJywgdXJsLCAxKTtcbiAgICBpZiAoIW9wdGlvbnMuY3Jvc3NEb21haW4pIHtcbiAgICAgIHguc2V0UmVxdWVzdEhlYWRlcignWC1SZXF1ZXN0ZWQtV2l0aCcsICdYTUxIdHRwUmVxdWVzdCcpO1xuICAgIH1cbiAgICB4LndpdGhDcmVkZW50aWFscyA9ICEhb3B0aW9ucy53aXRoQ3JlZGVudGlhbHM7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHguc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpO1xuICAgIH1cbiAgICB2YXIgaCA9IG9wdGlvbnMuY3VzdG9tSGVhZGVycztcbiAgICBpZiAoaCkge1xuICAgICAgZm9yICh2YXIgaSBpbiBoKSB7XG4gICAgICAgIHguc2V0UmVxdWVzdEhlYWRlcihpLCBoW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgeC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB4LnJlYWR5U3RhdGUgPiAzICYmIGNhbGxiYWNrICYmIGNhbGxiYWNrKHgucmVzcG9uc2VUZXh0LCB4KTtcbiAgICB9O1xuICAgIHguc2VuZChkYXRhKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUgJiYgY29uc29sZS5sb2coZSk7XG4gIH1cbn1cblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gZ2V0RGVmYXVsdHMoKSB7XG4gIHJldHVybiB7XG4gICAgbG9hZFBhdGg6ICcvbG9jYWxlcy97e2xuZ319L3t7bnN9fS5qc29uJyxcbiAgICBhZGRQYXRoOiAnbG9jYWxlcy9hZGQve3tsbmd9fS97e25zfX0nLFxuICAgIGFsbG93TXVsdGlMb2FkaW5nOiBmYWxzZSxcbiAgICBwYXJzZTogSlNPTi5wYXJzZSxcbiAgICBjcm9zc0RvbWFpbjogZmFsc2UsXG4gICAgYWpheDogYWpheFxuICB9O1xufVxuXG52YXIgQmFja2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQmFja2VuZChzZXJ2aWNlcykge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYWNrZW5kKTtcblxuICAgIHRoaXMuaW5pdChzZXJ2aWNlcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLnR5cGUgPSAnYmFja2VuZCc7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQmFja2VuZCwgW3tcbiAgICBrZXk6ICdpbml0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChzZXJ2aWNlcykge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICB0aGlzLnNlcnZpY2VzID0gc2VydmljZXM7XG4gICAgICB0aGlzLm9wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCB0aGlzLm9wdGlvbnMgfHwge30sIGdldERlZmF1bHRzKCkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlYWRNdWx0aScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWRNdWx0aShsYW5ndWFnZXMsIG5hbWVzcGFjZXMsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgbG9hZFBhdGggPSB0aGlzLm9wdGlvbnMubG9hZFBhdGg7XG4gICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5sb2FkUGF0aCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBsb2FkUGF0aCA9IHRoaXMub3B0aW9ucy5sb2FkUGF0aChsYW5ndWFnZXMsIG5hbWVzcGFjZXMpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdXJsID0gdGhpcy5zZXJ2aWNlcy5pbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUobG9hZFBhdGgsIHsgbG5nOiBsYW5ndWFnZXMuam9pbignKycpLCBuczogbmFtZXNwYWNlcy5qb2luKCcrJykgfSk7XG5cbiAgICAgIHRoaXMubG9hZFVybCh1cmwsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZWFkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVhZChsYW5ndWFnZSwgbmFtZXNwYWNlLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGxvYWRQYXRoID0gdGhpcy5vcHRpb25zLmxvYWRQYXRoO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMubG9hZFBhdGggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgbG9hZFBhdGggPSB0aGlzLm9wdGlvbnMubG9hZFBhdGgoW2xhbmd1YWdlXSwgW25hbWVzcGFjZV0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgdXJsID0gdGhpcy5zZXJ2aWNlcy5pbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUobG9hZFBhdGgsIHsgbG5nOiBsYW5ndWFnZSwgbnM6IG5hbWVzcGFjZSB9KTtcblxuICAgICAgdGhpcy5sb2FkVXJsKHVybCwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2xvYWRVcmwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkVXJsKHVybCwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMub3B0aW9ucy5hamF4KHVybCwgdGhpcy5vcHRpb25zLCBmdW5jdGlvbiAoZGF0YSwgeGhyKSB7XG4gICAgICAgIGlmICh4aHIuc3RhdHVzID49IDUwMCAmJiB4aHIuc3RhdHVzIDwgNjAwKSByZXR1cm4gY2FsbGJhY2soJ2ZhaWxlZCBsb2FkaW5nICcgKyB1cmwsIHRydWUgLyogcmV0cnkgKi8pO1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA+PSA0MDAgJiYgeGhyLnN0YXR1cyA8IDUwMCkgcmV0dXJuIGNhbGxiYWNrKCdmYWlsZWQgbG9hZGluZyAnICsgdXJsLCBmYWxzZSAvKiBubyByZXRyeSAqLyk7XG5cbiAgICAgICAgdmFyIHJldCA9IHZvaWQgMCxcbiAgICAgICAgICAgIGVyciA9IHZvaWQgMDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXQgPSBfdGhpcy5vcHRpb25zLnBhcnNlKGRhdGEsIHVybCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBlcnIgPSAnZmFpbGVkIHBhcnNpbmcgJyArIHVybCArICcgdG8ganNvbic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVyciwgZmFsc2UpO1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY3JlYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKGxhbmd1YWdlcywgbmFtZXNwYWNlLCBrZXksIGZhbGxiYWNrVmFsdWUpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAodHlwZW9mIGxhbmd1YWdlcyA9PT0gJ3N0cmluZycpIGxhbmd1YWdlcyA9IFtsYW5ndWFnZXNdO1xuXG4gICAgICB2YXIgcGF5bG9hZCA9IHt9O1xuICAgICAgcGF5bG9hZFtrZXldID0gZmFsbGJhY2tWYWx1ZSB8fCAnJztcblxuICAgICAgbGFuZ3VhZ2VzLmZvckVhY2goZnVuY3Rpb24gKGxuZykge1xuICAgICAgICB2YXIgdXJsID0gX3RoaXMyLnNlcnZpY2VzLmludGVycG9sYXRvci5pbnRlcnBvbGF0ZShfdGhpczIub3B0aW9ucy5hZGRQYXRoLCB7IGxuZzogbG5nLCBuczogbmFtZXNwYWNlIH0pO1xuXG4gICAgICAgIF90aGlzMi5vcHRpb25zLmFqYXgodXJsLCBfdGhpczIub3B0aW9ucywgZnVuY3Rpb24gKGRhdGEsIHhocikge1xuICAgICAgICAgIC8vY29uc3Qgc3RhdHVzQ29kZSA9IHhoci5zdGF0dXMudG9TdHJpbmcoKTtcbiAgICAgICAgICAvLyBUT0RPOiBpZiBzdGF0dXNDb2RlID09PSA0eHggZG8gbG9nXG4gICAgICAgIH0sIHBheWxvYWQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEJhY2tlbmQ7XG59KCk7XG5cbkJhY2tlbmQudHlwZSA9ICdiYWNrZW5kJztcblxucmV0dXJuIEJhY2tlbmQ7XG5cbn0pKSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2V4dGVybmFsL2kxOG5leHQvc2NyaXB0cy9pMThuZXh0WEhSQmFja2VuZC5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG5cdChnbG9iYWwuaTE4bmV4dExvY2FsU3RvcmFnZUNhY2hlID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXJyID0gW107XG52YXIgZWFjaCA9IGFyci5mb3JFYWNoO1xudmFyIHNsaWNlID0gYXJyLnNsaWNlO1xuXG5mdW5jdGlvbiBkZWZhdWx0cyhvYmopIHtcbiAgZWFjaC5jYWxsKHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChvYmpbcHJvcF0gPT09IHVuZGVmaW5lZCkgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvYmo7XG59XG5cblxuXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBpbW1lZGlhdGUpIHtcbiAgdmFyIHRpbWVvdXQ7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbnRleHQgPSB0aGlzLFxuICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uIGxhdGVyKCkge1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICBpZiAoIWltbWVkaWF0ZSkgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB9O1xuICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgaWYgKGNhbGxOb3cpIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gIH07XG59XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBzdG9yYWdlID0ge1xuICBzZXRJdGVtOiBmdW5jdGlvbiBzZXRJdGVtKGtleSwgdmFsdWUpIHtcbiAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBmLmxvZygnZmFpbGVkIHRvIHNldCB2YWx1ZSBmb3Iga2V5IFwiJyArIGtleSArICdcIiB0byBsb2NhbFN0b3JhZ2UuJyk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBnZXRJdGVtOiBmdW5jdGlvbiBnZXRJdGVtKGtleSwgdmFsdWUpIHtcbiAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gZi5sb2coJ2ZhaWxlZCB0byBnZXQgdmFsdWUgZm9yIGtleSBcIicgKyBrZXkgKyAnXCIgZnJvbSBsb2NhbFN0b3JhZ2UuJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRzKCkge1xuICByZXR1cm4ge1xuICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgIHByZWZpeDogJ2kxOG5leHRfcmVzXycsXG4gICAgZXhwaXJhdGlvblRpbWU6IDcgKiAyNCAqIDYwICogNjAgKiAxMDAwLFxuICAgIHZlcnNpb25zOiB7fVxuICB9O1xufVxuXG52YXIgQ2FjaGUgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENhY2hlKHNlcnZpY2VzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhY2hlKTtcblxuICAgIHRoaXMuaW5pdChzZXJ2aWNlcywgb3B0aW9ucyk7XG5cbiAgICB0aGlzLnR5cGUgPSAnY2FjaGUnO1xuICAgIHRoaXMuZGVib3VuY2VkU3RvcmUgPSBkZWJvdW5jZSh0aGlzLnN0b3JlLCAxMDAwMCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2FjaGUsIFt7XG4gICAga2V5OiAnaW5pdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoc2VydmljZXMpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgdGhpcy5zZXJ2aWNlcyA9IHNlcnZpY2VzO1xuICAgICAgdGhpcy5vcHRpb25zID0gZGVmYXVsdHMob3B0aW9ucywgdGhpcy5vcHRpb25zIHx8IHt9LCBnZXREZWZhdWx0cygpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdsb2FkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZChsbmdzLCBjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIHN0b3JlID0ge307XG4gICAgICB2YXIgbm93TVMgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgaWYgKCF3aW5kb3cubG9jYWxTdG9yYWdlIHx8ICFsbmdzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbnVsbCk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0b2RvID0gbG5ncy5sZW5ndGg7XG5cbiAgICAgIGxuZ3MuZm9yRWFjaChmdW5jdGlvbiAobG5nKSB7XG4gICAgICAgIHZhciBsb2NhbCA9IHN0b3JhZ2UuZ2V0SXRlbShfdGhpcy5vcHRpb25zLnByZWZpeCArIGxuZyk7XG5cbiAgICAgICAgaWYgKGxvY2FsKSB7XG4gICAgICAgICAgbG9jYWwgPSBKU09OLnBhcnNlKGxvY2FsKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgLy8gZXhwaXJhdGlvbiBmaWVsZCBpcyBtYW5kYXRvcnksIGFuZCBzaG91bGQgbm90IGJlIGV4cGlyZWRcbiAgICAgICAgICBsb2NhbC5pMThuU3RhbXAgJiYgbG9jYWwuaTE4blN0YW1wICsgX3RoaXMub3B0aW9ucy5leHBpcmF0aW9uVGltZSA+IG5vd01TICYmXG5cbiAgICAgICAgICAvLyB0aGVyZSBzaG91bGQgYmUgbm8gbGFuZ3VhZ2UgdmVyc2lvbiBzZXQsIG9yIGlmIGl0IGlzLCBpdCBzaG91bGQgbWF0Y2ggdGhlIG9uZSBpbiB0cmFuc2xhdGlvblxuICAgICAgICAgIF90aGlzLm9wdGlvbnMudmVyc2lvbnNbbG5nXSA9PT0gbG9jYWwuaTE4blZlcnNpb24pIHtcbiAgICAgICAgICAgIGRlbGV0ZSBsb2NhbC5pMThuVmVyc2lvbjtcbiAgICAgICAgICAgIHN0b3JlW2xuZ10gPSBsb2NhbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0b2RvIC09IDE7XG4gICAgICAgIGlmICh0b2RvID09PSAwKSB7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgc3RvcmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc3RvcmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9yZShzdG9yZVBhcmFtKSB7XG4gICAgICB2YXIgc3RvcmUgPSBzdG9yZVBhcmFtO1xuICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgZm9yICh2YXIgbSBpbiBzdG9yZSkge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAvLyB0aW1lc3RhbXBcbiAgICAgICAgICBzdG9yZVttXS5pMThuU3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgICAgIC8vIGxhbmd1YWdlIHZlcnNpb24gKGlmIHNldClcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnZlcnNpb25zW21dKSB7XG4gICAgICAgICAgICBzdG9yZVttXS5pMThuVmVyc2lvbiA9IHRoaXMub3B0aW9ucy52ZXJzaW9uc1ttXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzYXZlXG4gICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKHRoaXMub3B0aW9ucy5wcmVmaXggKyBtLCBKU09OLnN0cmluZ2lmeShzdG9yZVttXSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2F2ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmUoc3RvcmUpIHtcbiAgICAgIHRoaXMuZGVib3VuY2VkU3RvcmUoc3RvcmUpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDYWNoZTtcbn0oKTtcblxuQ2FjaGUudHlwZSA9ICdjYWNoZSc7XG5cbnJldHVybiBDYWNoZTtcblxufSkpKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vZXh0ZXJuYWwvaTE4bmV4dC9zY3JpcHRzL2kxOG5leHRMb2NhbFN0b3JhZ2VDYWNoZS5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoJ2kxOG5leHRTcHJpbnRmUG9zdFByb2Nlc3NvcicsIGZhY3RvcnkpIDpcbiAgICAoZ2xvYmFsLmkxOG5leHRTcHJpbnRmUG9zdFByb2Nlc3NvciA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGJhYmVsSGVscGVycyA9IHt9O1xuICAgIGJhYmVsSGVscGVycy50eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gICAgYmFiZWxIZWxwZXJzO1xuXG4gICAgdmFyIHJlID0ge1xuICAgICAgICBub3Rfc3RyaW5nOiAvW15zXS8sXG4gICAgICAgIG51bWJlcjogL1tkaWVmZ10vLFxuICAgICAgICBqc29uOiAvW2pdLyxcbiAgICAgICAgbm90X2pzb246IC9bXmpdLyxcbiAgICAgICAgdGV4dDogL15bXlxceDI1XSsvLFxuICAgICAgICBtb2R1bG86IC9eXFx4MjV7Mn0vLFxuICAgICAgICBwbGFjZWhvbGRlcjogL15cXHgyNSg/OihbMS05XVxcZCopXFwkfFxcKChbXlxcKV0rKVxcKSk/KFxcKyk/KDB8J1teJF0pPygtKT8oXFxkKyk/KD86XFwuKFxcZCspKT8oW2ItZ2lqb3N1eFhdKS8sXG4gICAgICAgIGtleTogL14oW2Etel9dW2Etel9cXGRdKikvaSxcbiAgICAgICAga2V5X2FjY2VzczogL15cXC4oW2Etel9dW2Etel9cXGRdKikvaSxcbiAgICAgICAgaW5kZXhfYWNjZXNzOiAvXlxcWyhcXGQrKVxcXS8sXG4gICAgICAgIHNpZ246IC9eW1xcK1xcLV0vXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNwcmludGYoKSB7XG4gICAgICAgIHZhciBrZXkgPSBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgICBjYWNoZSA9IHNwcmludGYuY2FjaGU7XG4gICAgICAgIGlmICghKGNhY2hlW2tleV0gJiYgY2FjaGUuaGFzT3duUHJvcGVydHkoa2V5KSkpIHtcbiAgICAgICAgICAgIGNhY2hlW2tleV0gPSBzcHJpbnRmLnBhcnNlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNwcmludGYuZm9ybWF0LmNhbGwobnVsbCwgY2FjaGVba2V5XSwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBzcHJpbnRmLmZvcm1hdCA9IGZ1bmN0aW9uIChwYXJzZV90cmVlLCBhcmd2KSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSAxLFxuICAgICAgICAgICAgdHJlZV9sZW5ndGggPSBwYXJzZV90cmVlLmxlbmd0aCxcbiAgICAgICAgICAgIG5vZGVfdHlwZSA9IFwiXCIsXG4gICAgICAgICAgICBhcmcsXG4gICAgICAgICAgICBvdXRwdXQgPSBbXSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBrLFxuICAgICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgICBwYWQsXG4gICAgICAgICAgICBwYWRfY2hhcmFjdGVyLFxuICAgICAgICAgICAgcGFkX2xlbmd0aCxcbiAgICAgICAgICAgIGlzX3Bvc2l0aXZlID0gdHJ1ZSxcbiAgICAgICAgICAgIHNpZ24gPSBcIlwiO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdHJlZV9sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbm9kZV90eXBlID0gZ2V0X3R5cGUocGFyc2VfdHJlZVtpXSk7XG4gICAgICAgICAgICBpZiAobm9kZV90eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W291dHB1dC5sZW5ndGhdID0gcGFyc2VfdHJlZVtpXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZV90eXBlID09PSBcImFycmF5XCIpIHtcbiAgICAgICAgICAgICAgICBtYXRjaCA9IHBhcnNlX3RyZWVbaV07IC8vIGNvbnZlbmllbmNlIHB1cnBvc2VzIG9ubHlcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8ga2V5d29yZCBhcmd1bWVudFxuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd2W2N1cnNvcl07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBtYXRjaFsyXS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhcmcuaGFzT3duUHJvcGVydHkobWF0Y2hbMl1ba10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHNwcmludGYoXCJbc3ByaW50Zl0gcHJvcGVydHkgJyVzJyBkb2VzIG5vdCBleGlzdFwiLCBtYXRjaFsyXVtrXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnW21hdGNoWzJdW2tdXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcG9zaXRpb25hbCBhcmd1bWVudCAoZXhwbGljaXQpXG4gICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZ3ZbbWF0Y2hbMV1dO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9uYWwgYXJndW1lbnQgKGltcGxpY2l0KVxuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd2W2N1cnNvcisrXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2V0X3R5cGUoYXJnKSA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJlLm5vdF9zdHJpbmcudGVzdChtYXRjaFs4XSkgJiYgcmUubm90X2pzb24udGVzdChtYXRjaFs4XSkgJiYgZ2V0X3R5cGUoYXJnKSAhPSBcIm51bWJlclwiICYmIGlzTmFOKGFyZykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzcHJpbnRmKFwiW3NwcmludGZdIGV4cGVjdGluZyBudW1iZXIgYnV0IGZvdW5kICVzXCIsIGdldF90eXBlKGFyZykpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmUubnVtYmVyLnRlc3QobWF0Y2hbOF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzX3Bvc2l0aXZlID0gYXJnID49IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChtYXRjaFs4XSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnRvU3RyaW5nKDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGFyZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IHBhcnNlSW50KGFyZywgMTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJqXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBKU09OLnN0cmluZ2lmeShhcmcsIG51bGwsIG1hdGNoWzZdID8gcGFyc2VJbnQobWF0Y2hbNl0pIDogMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IG1hdGNoWzddID8gYXJnLnRvRXhwb25lbnRpYWwobWF0Y2hbN10pIDogYXJnLnRvRXhwb25lbnRpYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gbWF0Y2hbN10gPyBwYXJzZUZsb2F0KGFyZykudG9GaXhlZChtYXRjaFs3XSkgOiBwYXJzZUZsb2F0KGFyZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IG1hdGNoWzddID8gcGFyc2VGbG9hdChhcmcpLnRvUHJlY2lzaW9uKG1hdGNoWzddKSA6IHBhcnNlRmxvYXQoYXJnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnRvU3RyaW5nKDgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSAoYXJnID0gU3RyaW5nKGFyZykpICYmIG1hdGNoWzddID8gYXJnLnN1YnN0cmluZygwLCBtYXRjaFs3XSkgOiBhcmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZyA+Pj4gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiWFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZS5qc29uLnRlc3QobWF0Y2hbOF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtvdXRwdXQubGVuZ3RoXSA9IGFyZztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmUubnVtYmVyLnRlc3QobWF0Y2hbOF0pICYmICghaXNfcG9zaXRpdmUgfHwgbWF0Y2hbM10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduID0gaXNfcG9zaXRpdmUgPyBcIitcIiA6IFwiLVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnRvU3RyaW5nKCkucmVwbGFjZShyZS5zaWduLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ24gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhZF9jaGFyYWN0ZXIgPSBtYXRjaFs0XSA/IG1hdGNoWzRdID09PSBcIjBcIiA/IFwiMFwiIDogbWF0Y2hbNF0uY2hhckF0KDEpIDogXCIgXCI7XG4gICAgICAgICAgICAgICAgICAgIHBhZF9sZW5ndGggPSBtYXRjaFs2XSAtIChzaWduICsgYXJnKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHBhZCA9IG1hdGNoWzZdID8gcGFkX2xlbmd0aCA+IDAgPyBzdHJfcmVwZWF0KHBhZF9jaGFyYWN0ZXIsIHBhZF9sZW5ndGgpIDogXCJcIiA6IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtvdXRwdXQubGVuZ3RoXSA9IG1hdGNoWzVdID8gc2lnbiArIGFyZyArIHBhZCA6IHBhZF9jaGFyYWN0ZXIgPT09IFwiMFwiID8gc2lnbiArIHBhZCArIGFyZyA6IHBhZCArIHNpZ24gKyBhcmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQuam9pbihcIlwiKTtcbiAgICB9O1xuXG4gICAgc3ByaW50Zi5jYWNoZSA9IHt9O1xuXG4gICAgc3ByaW50Zi5wYXJzZSA9IGZ1bmN0aW9uIChmbXQpIHtcbiAgICAgICAgdmFyIF9mbXQgPSBmbXQsXG4gICAgICAgICAgICBtYXRjaCA9IFtdLFxuICAgICAgICAgICAgcGFyc2VfdHJlZSA9IFtdLFxuICAgICAgICAgICAgYXJnX25hbWVzID0gMDtcbiAgICAgICAgd2hpbGUgKF9mbXQpIHtcbiAgICAgICAgICAgIGlmICgobWF0Y2ggPSByZS50ZXh0LmV4ZWMoX2ZtdCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VfdHJlZVtwYXJzZV90cmVlLmxlbmd0aF0gPSBtYXRjaFswXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKG1hdGNoID0gcmUubW9kdWxvLmV4ZWMoX2ZtdCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VfdHJlZVtwYXJzZV90cmVlLmxlbmd0aF0gPSBcIiVcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKG1hdGNoID0gcmUucGxhY2Vob2xkZXIuZXhlYyhfZm10KSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnX25hbWVzIHw9IDE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZF9saXN0ID0gW10sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlbWVudF9maWVsZCA9IG1hdGNoWzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRfbWF0Y2ggPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChmaWVsZF9tYXRjaCA9IHJlLmtleS5leGVjKHJlcGxhY2VtZW50X2ZpZWxkKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkX2xpc3RbZmllbGRfbGlzdC5sZW5ndGhdID0gZmllbGRfbWF0Y2hbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKHJlcGxhY2VtZW50X2ZpZWxkID0gcmVwbGFjZW1lbnRfZmllbGQuc3Vic3RyaW5nKGZpZWxkX21hdGNoWzBdLmxlbmd0aCkpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChmaWVsZF9tYXRjaCA9IHJlLmtleV9hY2Nlc3MuZXhlYyhyZXBsYWNlbWVudF9maWVsZCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkX2xpc3RbZmllbGRfbGlzdC5sZW5ndGhdID0gZmllbGRfbWF0Y2hbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoZmllbGRfbWF0Y2ggPSByZS5pbmRleF9hY2Nlc3MuZXhlYyhyZXBsYWNlbWVudF9maWVsZCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkX2xpc3RbZmllbGRfbGlzdC5sZW5ndGhdID0gZmllbGRfbWF0Y2hbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiW3NwcmludGZdIGZhaWxlZCB0byBwYXJzZSBuYW1lZCBhcmd1bWVudCBrZXlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiW3NwcmludGZdIGZhaWxlZCB0byBwYXJzZSBuYW1lZCBhcmd1bWVudCBrZXlcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gPSBmaWVsZF9saXN0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ19uYW1lcyB8PSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXJnX25hbWVzID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltzcHJpbnRmXSBtaXhpbmcgcG9zaXRpb25hbCBhbmQgbmFtZWQgcGxhY2Vob2xkZXJzIGlzIG5vdCAoeWV0KSBzdXBwb3J0ZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcnNlX3RyZWVbcGFyc2VfdHJlZS5sZW5ndGhdID0gbWF0Y2g7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIltzcHJpbnRmXSB1bmV4cGVjdGVkIHBsYWNlaG9sZGVyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2ZtdCA9IF9mbXQuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlX3RyZWU7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHZzcHJpbnRmKGZtdCwgYXJndiwgX2FyZ3YpIHtcbiAgICAgICAgX2FyZ3YgPSAoYXJndiB8fCBbXSkuc2xpY2UoMCk7XG4gICAgICAgIF9hcmd2LnNwbGljZSgwLCAwLCBmbXQpO1xuICAgICAgICByZXR1cm4gc3ByaW50Zi5hcHBseShudWxsLCBfYXJndik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaGVscGVyc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldF90eXBlKHZhcmlhYmxlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFyaWFibGUpLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0cl9yZXBlYXQoaW5wdXQsIG11bHRpcGxpZXIpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5KG11bHRpcGxpZXIgKyAxKS5qb2luKGlucHV0KTtcbiAgICB9XG5cbiAgICB2YXIgaW5kZXggPSB7XG4gICAgICBuYW1lOiAnc3ByaW50ZicsXG4gICAgICB0eXBlOiAncG9zdFByb2Nlc3NvcicsXG5cbiAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uIHByb2Nlc3ModmFsdWUsIGtleSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIW9wdGlvbnMuc3ByaW50ZikgcmV0dXJuIHZhbHVlO1xuXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KG9wdGlvbnMuc3ByaW50ZikgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgICAgICByZXR1cm4gdnNwcmludGYodmFsdWUsIG9wdGlvbnMuc3ByaW50Zik7XG4gICAgICAgIH0gZWxzZSBpZiAoYmFiZWxIZWxwZXJzLnR5cGVvZihvcHRpb25zLnNwcmludGYpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHJldHVybiBzcHJpbnRmKHZhbHVlLCBvcHRpb25zLnNwcmludGYpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSxcbiAgICAgIG92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyOiBmdW5jdGlvbiBvdmVybG9hZFRyYW5zbGF0aW9uT3B0aW9uSGFuZGxlcihhcmdzKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YWx1ZXMucHVzaChhcmdzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcG9zdFByb2Nlc3M6ICdzcHJpbnRmJyxcbiAgICAgICAgICBzcHJpbnRmOiB2YWx1ZXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGluZGV4O1xuXG59KSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9leHRlcm5hbC9pMThuZXh0L3NjcmlwdHMvaTE4bmV4dFNwcmludGZQb3N0UHJvY2Vzc29yLmpzXG4vLyBtb2R1bGUgaWQgPSA4XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgKGdsb2JhbC5pMThuZXh0QnJvd3Nlckxhbmd1YWdlRGV0ZWN0b3IgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCBmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICB2YXIgYmFiZWxIZWxwZXJzID0ge307XG5cbiAgYmFiZWxIZWxwZXJzLmNsYXNzQ2FsbENoZWNrID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgfTtcblxuICBiYWJlbEhlbHBlcnMuY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICB9O1xuICB9KCk7XG5cbiAgYmFiZWxIZWxwZXJzO1xuXG4gIHZhciBhcnIgPSBbXTtcbiAgdmFyIGVhY2ggPSBhcnIuZm9yRWFjaDtcbiAgdmFyIHNsaWNlID0gYXJyLnNsaWNlO1xuXG4gIGZ1bmN0aW9uIGRlZmF1bHRzKG9iaikge1xuICAgIGVhY2guY2FsbChzbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAob2JqW3Byb3BdID09PSB1bmRlZmluZWQpIG9ialtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgY29va2llID0ge1xuICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKG5hbWUsIHZhbHVlLCBtaW51dGVzLCBkb21haW4pIHtcbiAgICAgIHZhciBleHBpcmVzID0gdm9pZCAwO1xuICAgICAgaWYgKG1pbnV0ZXMpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyBtaW51dGVzICogNjAgKiAxMDAwKTtcbiAgICAgICAgZXhwaXJlcyA9ICc7IGV4cGlyZXM9JyArIGRhdGUudG9HTVRTdHJpbmcoKTtcbiAgICAgIH0gZWxzZSBleHBpcmVzID0gJyc7XG4gICAgICBkb21haW4gPSBkb21haW4gPyAnZG9tYWluPScgKyBkb21haW4gKyAnOycgOiAnJztcbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAnPScgKyB2YWx1ZSArIGV4cGlyZXMgKyAnOycgKyBkb21haW4gKyAncGF0aD0vJztcbiAgICB9LFxuXG4gICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICB2YXIgbmFtZUVRID0gbmFtZSArICc9JztcbiAgICAgIHZhciBjYSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYyA9IGNhW2ldO1xuICAgICAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT09ICcgJykge1xuICAgICAgICAgIGMgPSBjLnN1YnN0cmluZygxLCBjLmxlbmd0aCk7XG4gICAgICAgIH1pZiAoYy5pbmRleE9mKG5hbWVFUSkgPT09IDApIHJldHVybiBjLnN1YnN0cmluZyhuYW1lRVEubGVuZ3RoLCBjLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUobmFtZSkge1xuICAgICAgdGhpcy5jcmVhdGUobmFtZSwgJycsIC0xKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNvb2tpZSQxID0ge1xuICAgIG5hbWU6ICdjb29raWUnLFxuXG4gICAgbG9va3VwOiBmdW5jdGlvbiBsb29rdXAob3B0aW9ucykge1xuICAgICAgdmFyIGZvdW5kID0gdm9pZCAwO1xuXG4gICAgICBpZiAob3B0aW9ucy5sb29rdXBDb29raWUgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgYyA9IGNvb2tpZS5yZWFkKG9wdGlvbnMubG9va3VwQ29va2llKTtcbiAgICAgICAgaWYgKGMpIGZvdW5kID0gYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH0sXG4gICAgY2FjaGVVc2VyTGFuZ3VhZ2U6IGZ1bmN0aW9uIGNhY2hlVXNlckxhbmd1YWdlKGxuZywgb3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMubG9va3VwQ29va2llICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29va2llLmNyZWF0ZShvcHRpb25zLmxvb2t1cENvb2tpZSwgbG5nLCBvcHRpb25zLmNvb2tpZU1pbnV0ZXMsIG9wdGlvbnMuY29va2llRG9tYWluKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIHF1ZXJ5c3RyaW5nID0ge1xuICAgIG5hbWU6ICdxdWVyeXN0cmluZycsXG5cbiAgICBsb29rdXA6IGZ1bmN0aW9uIGxvb2t1cChvcHRpb25zKSB7XG4gICAgICB2YXIgZm91bmQgPSB2b2lkIDA7XG5cbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgcXVlcnkgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKTtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHF1ZXJ5LnNwbGl0KCcmJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHBvcyA9IHBhcmFtc1tpXS5pbmRleE9mKCc9Jyk7XG4gICAgICAgICAgaWYgKHBvcyA+IDApIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBwYXJhbXNbaV0uc3Vic3RyaW5nKDAsIHBvcyk7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBvcHRpb25zLmxvb2t1cFF1ZXJ5c3RyaW5nKSB7XG4gICAgICAgICAgICAgIGZvdW5kID0gcGFyYW1zW2ldLnN1YnN0cmluZyhwb3MgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaGFzTG9jYWxTdG9yYWdlU3VwcG9ydCA9IHZvaWQgMDtcbiAgdHJ5IHtcbiAgICBoYXNMb2NhbFN0b3JhZ2VTdXBwb3J0ID0gd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubG9jYWxTdG9yYWdlICE9PSBudWxsO1xuICAgIHZhciB0ZXN0S2V5ID0gJ2kxOG5leHQudHJhbnNsYXRlLmJvbyc7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRlc3RLZXksICdmb28nKTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGVzdEtleSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBoYXNMb2NhbFN0b3JhZ2VTdXBwb3J0ID0gZmFsc2U7XG4gIH1cblxuICB2YXIgbG9jYWxTdG9yYWdlID0ge1xuICAgIG5hbWU6ICdsb2NhbFN0b3JhZ2UnLFxuXG4gICAgbG9va3VwOiBmdW5jdGlvbiBsb29rdXAob3B0aW9ucykge1xuICAgICAgdmFyIGZvdW5kID0gdm9pZCAwO1xuXG4gICAgICBpZiAob3B0aW9ucy5sb29rdXBMb2NhbFN0b3JhZ2UgJiYgaGFzTG9jYWxTdG9yYWdlU3VwcG9ydCkge1xuICAgICAgICB2YXIgbG5nID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKG9wdGlvbnMubG9va3VwTG9jYWxTdG9yYWdlKTtcbiAgICAgICAgaWYgKGxuZykgZm91bmQgPSBsbmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9LFxuICAgIGNhY2hlVXNlckxhbmd1YWdlOiBmdW5jdGlvbiBjYWNoZVVzZXJMYW5ndWFnZShsbmcsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zLmxvb2t1cExvY2FsU3RvcmFnZSAmJiBoYXNMb2NhbFN0b3JhZ2VTdXBwb3J0KSB7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShvcHRpb25zLmxvb2t1cExvY2FsU3RvcmFnZSwgbG5nKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIG5hdmlnYXRvciQxID0ge1xuICAgIG5hbWU6ICduYXZpZ2F0b3InLFxuXG4gICAgbG9va3VwOiBmdW5jdGlvbiBsb29rdXAob3B0aW9ucykge1xuICAgICAgdmFyIGZvdW5kID0gW107XG5cbiAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAobmF2aWdhdG9yLmxhbmd1YWdlcykge1xuICAgICAgICAgIC8vIGNocm9tZSBvbmx5OyBub3QgYW4gYXJyYXksIHNvIGNhbid0IHVzZSAucHVzaC5hcHBseSBpbnN0ZWFkIG9mIGl0ZXJhdGluZ1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmF2aWdhdG9yLmxhbmd1YWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm91bmQucHVzaChuYXZpZ2F0b3IubGFuZ3VhZ2VzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyTGFuZ3VhZ2UpIHtcbiAgICAgICAgICBmb3VuZC5wdXNoKG5hdmlnYXRvci51c2VyTGFuZ3VhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYXZpZ2F0b3IubGFuZ3VhZ2UpIHtcbiAgICAgICAgICBmb3VuZC5wdXNoKG5hdmlnYXRvci5sYW5ndWFnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZvdW5kLmxlbmd0aCA+IDAgPyBmb3VuZCA6IHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGh0bWxUYWcgPSB7XG4gICAgbmFtZTogJ2h0bWxUYWcnLFxuXG4gICAgbG9va3VwOiBmdW5jdGlvbiBsb29rdXAob3B0aW9ucykge1xuICAgICAgdmFyIGZvdW5kID0gdm9pZCAwO1xuICAgICAgdmFyIGh0bWxUYWcgPSBvcHRpb25zLmh0bWxUYWcgfHwgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBudWxsKTtcblxuICAgICAgaWYgKGh0bWxUYWcgJiYgdHlwZW9mIGh0bWxUYWcuZ2V0QXR0cmlidXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZvdW5kID0gaHRtbFRhZy5nZXRBdHRyaWJ1dGUoJ2xhbmcnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBnZXREZWZhdWx0cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3JkZXI6IFsncXVlcnlzdHJpbmcnLCAnY29va2llJywgJ2xvY2FsU3RvcmFnZScsICduYXZpZ2F0b3InLCAnaHRtbFRhZyddLFxuICAgICAgbG9va3VwUXVlcnlzdHJpbmc6ICdsbmcnLFxuICAgICAgbG9va3VwQ29va2llOiAnaTE4bmV4dCcsXG4gICAgICBsb29rdXBMb2NhbFN0b3JhZ2U6ICdpMThuZXh0TG5nJyxcblxuICAgICAgLy8gY2FjaGUgdXNlciBsYW5ndWFnZVxuICAgICAgY2FjaGVzOiBbJ2xvY2FsU3RvcmFnZSddLFxuICAgICAgZXhjbHVkZUNhY2hlRm9yOiBbJ2NpbW9kZSddXG4gICAgICAvL2Nvb2tpZU1pbnV0ZXM6IDEwLFxuICAgICAgLy9jb29raWVEb21haW46ICdteURvbWFpbidcbiAgICB9O1xuICB9XG5cbiAgdmFyIEJyb3dzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnJvd3NlcihzZXJ2aWNlcykge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1sxXTtcbiAgICAgIGJhYmVsSGVscGVycy5jbGFzc0NhbGxDaGVjayh0aGlzLCBCcm93c2VyKTtcblxuICAgICAgdGhpcy50eXBlID0gJ2xhbmd1YWdlRGV0ZWN0b3InO1xuICAgICAgdGhpcy5kZXRlY3RvcnMgPSB7fTtcblxuICAgICAgdGhpcy5pbml0KHNlcnZpY2VzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBiYWJlbEhlbHBlcnMuY3JlYXRlQ2xhc3MoQnJvd3NlciwgW3tcbiAgICAgIGtleTogJ2luaXQnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoc2VydmljZXMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgdmFyIGkxOG5PcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMl07XG5cbiAgICAgICAgdGhpcy5zZXJ2aWNlcyA9IHNlcnZpY2VzO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBkZWZhdWx0cyhvcHRpb25zLCB0aGlzLm9wdGlvbnMgfHwge30sIGdldERlZmF1bHRzKCkpO1xuICAgICAgICB0aGlzLmkxOG5PcHRpb25zID0gaTE4bk9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy5hZGREZXRlY3Rvcihjb29raWUkMSk7XG4gICAgICAgIHRoaXMuYWRkRGV0ZWN0b3IocXVlcnlzdHJpbmcpO1xuICAgICAgICB0aGlzLmFkZERldGVjdG9yKGxvY2FsU3RvcmFnZSk7XG4gICAgICAgIHRoaXMuYWRkRGV0ZWN0b3IobmF2aWdhdG9yJDEpO1xuICAgICAgICB0aGlzLmFkZERldGVjdG9yKGh0bWxUYWcpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2FkZERldGVjdG9yJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGREZXRlY3RvcihkZXRlY3Rvcikge1xuICAgICAgICB0aGlzLmRldGVjdG9yc1tkZXRlY3Rvci5uYW1lXSA9IGRldGVjdG9yO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2RldGVjdCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGV0ZWN0KGRldGVjdGlvbk9yZGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCFkZXRlY3Rpb25PcmRlcikgZGV0ZWN0aW9uT3JkZXIgPSB0aGlzLm9wdGlvbnMub3JkZXI7XG5cbiAgICAgICAgdmFyIGRldGVjdGVkID0gW107XG4gICAgICAgIGRldGVjdGlvbk9yZGVyLmZvckVhY2goZnVuY3Rpb24gKGRldGVjdG9yTmFtZSkge1xuICAgICAgICAgIGlmIChfdGhpcy5kZXRlY3RvcnNbZGV0ZWN0b3JOYW1lXSkge1xuICAgICAgICAgICAgdmFyIGxvb2t1cCA9IF90aGlzLmRldGVjdG9yc1tkZXRlY3Rvck5hbWVdLmxvb2t1cChfdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChsb29rdXAgJiYgdHlwZW9mIGxvb2t1cCA9PT0gJ3N0cmluZycpIGxvb2t1cCA9IFtsb29rdXBdO1xuICAgICAgICAgICAgaWYgKGxvb2t1cCkgZGV0ZWN0ZWQgPSBkZXRlY3RlZC5jb25jYXQobG9va3VwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBmb3VuZCA9IHZvaWQgMDtcbiAgICAgICAgZGV0ZWN0ZWQuZm9yRWFjaChmdW5jdGlvbiAobG5nKSB7XG4gICAgICAgICAgaWYgKGZvdW5kKSByZXR1cm47XG4gICAgICAgICAgdmFyIGNsZWFuZWRMbmcgPSBfdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmZvcm1hdExhbmd1YWdlQ29kZShsbmcpO1xuICAgICAgICAgIGlmIChfdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmlzV2hpdGVsaXN0ZWQoY2xlYW5lZExuZykpIGZvdW5kID0gY2xlYW5lZExuZztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZvdW5kIHx8IHRoaXMuaTE4bk9wdGlvbnMuZmFsbGJhY2tMbmdbMF07XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnY2FjaGVVc2VyTGFuZ3VhZ2UnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNhY2hlVXNlckxhbmd1YWdlKGxuZywgY2FjaGVzKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIGlmICghY2FjaGVzKSBjYWNoZXMgPSB0aGlzLm9wdGlvbnMuY2FjaGVzO1xuICAgICAgICBpZiAoIWNhY2hlcykgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmV4Y2x1ZGVDYWNoZUZvciAmJiB0aGlzLm9wdGlvbnMuZXhjbHVkZUNhY2hlRm9yLmluZGV4T2YobG5nKSA+IC0xKSByZXR1cm47XG4gICAgICAgIGNhY2hlcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWNoZU5hbWUpIHtcbiAgICAgICAgICBpZiAoX3RoaXMyLmRldGVjdG9yc1tjYWNoZU5hbWVdKSBfdGhpczIuZGV0ZWN0b3JzW2NhY2hlTmFtZV0uY2FjaGVVc2VyTGFuZ3VhZ2UobG5nLCBfdGhpczIub3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1dKTtcbiAgICByZXR1cm4gQnJvd3NlcjtcbiAgfSgpO1xuXG4gIEJyb3dzZXIudHlwZSA9ICdsYW5ndWFnZURldGVjdG9yJztcblxuICByZXR1cm4gQnJvd3NlcjtcblxufSkpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vZXh0ZXJuYWwvaTE4bmV4dC9zY3JpcHRzL2kxOG5leHRCcm93c2VyTGFuZ3VhZ2VEZXRlY3Rvci5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAwNWM1YmI0YzYyMjJjODAwMWVkYyIsIi8qKiogSU1QT1JUUyBGUk9NIGltcG9ydHMtbG9hZGVyICoqKi9cbihmdW5jdGlvbigpIHtcblxuLyohXHJcbiogalF1ZXJ5IE1vYmlsZSAxLjQuNVxyXG4qIEdpdCBIRUFEIGhhc2g6IDY4ZTU1ZTc4YjI5MjYzNGQzOTkxYzc5NWYwNmY1ZTM3YTUxMmRlY2MgPD4gRGF0ZTogRnJpIE9jdCAzMSAyMDE0IDE3OjMzOjMwIFVUQ1xyXG4qIGh0dHA6Ly9qcXVlcnltb2JpbGUuY29tXHJcbipcclxuKiBDb3B5cmlnaHQgMjAxMCwgMjAxNCBqUXVlcnkgRm91bmRhdGlvbiwgSW5jLiBhbmQgb3RoZXJjb250cmlidXRvcnNcclxuKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxyXG4qXHJcbiovXHJcblxyXG5cclxuKGZ1bmN0aW9uICggcm9vdCwgZG9jLCBmYWN0b3J5ICkge1xyXG5cdGlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XHJcblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXHJcblx0XHRkZWZpbmUoIFsgXCJqcXVlcnlcIiBdLCBmdW5jdGlvbiAoICQgKSB7XHJcblx0XHRcdGZhY3RvcnkoICQsIHJvb3QsIGRvYyApO1xyXG5cdFx0XHRyZXR1cm4gJC5tb2JpbGU7XHJcblx0XHR9KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXHJcblx0XHRmYWN0b3J5KCByb290LmpRdWVyeSwgcm9vdCwgZG9jICk7XHJcblx0fVxyXG59KCB0aGlzLCBkb2N1bWVudCwgZnVuY3Rpb24gKCBqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHtcclxuKGZ1bmN0aW9uKCAkICkge1xyXG5cdCQubW9iaWxlID0ge307XHJcbn0oIGpRdWVyeSApKTtcclxuXHJcbi8qIVxyXG4gKiBqUXVlcnkgVUkgQ29yZSBjMGFiNzEwNTZiOTM2NjI3ZThhNzgyMWYwM2MwNDRhZWM2MjgwYTQwXHJcbiAqIGh0dHA6Ly9qcXVlcnl1aS5jb21cclxuICpcclxuICogQ29weXJpZ2h0IDIwMTMgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXHJcbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcclxuICpcclxuICogaHR0cDovL2FwaS5qcXVlcnl1aS5jb20vY2F0ZWdvcnkvdWktY29yZS9cclxuICovXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxudmFyIHV1aWQgPSAwLFxyXG5cdHJ1bmlxdWVJZCA9IC9edWktaWQtXFxkKyQvO1xyXG5cclxuLy8gJC51aSBtaWdodCBleGlzdCBmcm9tIGNvbXBvbmVudHMgd2l0aCBubyBkZXBlbmRlbmNpZXMsIGUuZy4sICQudWkucG9zaXRpb25cclxuJC51aSA9ICQudWkgfHwge307XHJcblxyXG4kLmV4dGVuZCggJC51aSwge1xyXG5cdHZlcnNpb246IFwiYzBhYjcxMDU2YjkzNjYyN2U4YTc4MjFmMDNjMDQ0YWVjNjI4MGE0MFwiLFxyXG5cclxuXHRrZXlDb2RlOiB7XHJcblx0XHRCQUNLU1BBQ0U6IDgsXHJcblx0XHRDT01NQTogMTg4LFxyXG5cdFx0REVMRVRFOiA0NixcclxuXHRcdERPV046IDQwLFxyXG5cdFx0RU5EOiAzNSxcclxuXHRcdEVOVEVSOiAxMyxcclxuXHRcdEVTQ0FQRTogMjcsXHJcblx0XHRIT01FOiAzNixcclxuXHRcdExFRlQ6IDM3LFxyXG5cdFx0UEFHRV9ET1dOOiAzNCxcclxuXHRcdFBBR0VfVVA6IDMzLFxyXG5cdFx0UEVSSU9EOiAxOTAsXHJcblx0XHRSSUdIVDogMzksXHJcblx0XHRTUEFDRTogMzIsXHJcblx0XHRUQUI6IDksXHJcblx0XHRVUDogMzhcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gcGx1Z2luc1xyXG4kLmZuLmV4dGVuZCh7XHJcblx0Zm9jdXM6IChmdW5jdGlvbiggb3JpZyApIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbiggZGVsYXksIGZuICkge1xyXG5cdFx0XHRyZXR1cm4gdHlwZW9mIGRlbGF5ID09PSBcIm51bWJlclwiID9cclxuXHRcdFx0XHR0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR2YXIgZWxlbSA9IHRoaXM7XHJcblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHQkKCBlbGVtICkuZm9jdXMoKTtcclxuXHRcdFx0XHRcdFx0aWYgKCBmbiApIHtcclxuXHRcdFx0XHRcdFx0XHRmbi5jYWxsKCBlbGVtICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sIGRlbGF5ICk7XHJcblx0XHRcdFx0fSkgOlxyXG5cdFx0XHRcdG9yaWcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG5cdFx0fTtcclxuXHR9KSggJC5mbi5mb2N1cyApLFxyXG5cclxuXHRzY3JvbGxQYXJlbnQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHNjcm9sbFBhcmVudDtcclxuXHRcdGlmICgoJC51aS5pZSAmJiAoLyhzdGF0aWN8cmVsYXRpdmUpLykudGVzdCh0aGlzLmNzcyhcInBvc2l0aW9uXCIpKSkgfHwgKC9hYnNvbHV0ZS8pLnRlc3QodGhpcy5jc3MoXCJwb3NpdGlvblwiKSkpIHtcclxuXHRcdFx0c2Nyb2xsUGFyZW50ID0gdGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiAoLyhyZWxhdGl2ZXxhYnNvbHV0ZXxmaXhlZCkvKS50ZXN0KCQuY3NzKHRoaXMsXCJwb3NpdGlvblwiKSkgJiYgKC8oYXV0b3xzY3JvbGwpLykudGVzdCgkLmNzcyh0aGlzLFwib3ZlcmZsb3dcIikrJC5jc3ModGhpcyxcIm92ZXJmbG93LXlcIikrJC5jc3ModGhpcyxcIm92ZXJmbG93LXhcIikpO1xyXG5cdFx0XHR9KS5lcSgwKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHNjcm9sbFBhcmVudCA9IHRoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gKC8oYXV0b3xzY3JvbGwpLykudGVzdCgkLmNzcyh0aGlzLFwib3ZlcmZsb3dcIikrJC5jc3ModGhpcyxcIm92ZXJmbG93LXlcIikrJC5jc3ModGhpcyxcIm92ZXJmbG93LXhcIikpO1xyXG5cdFx0XHR9KS5lcSgwKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gKCAvZml4ZWQvICkudGVzdCggdGhpcy5jc3MoIFwicG9zaXRpb25cIikgKSB8fCAhc2Nyb2xsUGFyZW50Lmxlbmd0aCA/ICQoIHRoaXNbIDAgXS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkgOiBzY3JvbGxQYXJlbnQ7XHJcblx0fSxcclxuXHJcblx0dW5pcXVlSWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKCAhdGhpcy5pZCApIHtcclxuXHRcdFx0XHR0aGlzLmlkID0gXCJ1aS1pZC1cIiArICgrK3V1aWQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRyZW1vdmVVbmlxdWVJZDogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoIHJ1bmlxdWVJZC50ZXN0KCB0aGlzLmlkICkgKSB7XHJcblx0XHRcdFx0JCggdGhpcyApLnJlbW92ZUF0dHIoIFwiaWRcIiApO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gc2VsZWN0b3JzXHJcbmZ1bmN0aW9uIGZvY3VzYWJsZSggZWxlbWVudCwgaXNUYWJJbmRleE5vdE5hTiApIHtcclxuXHR2YXIgbWFwLCBtYXBOYW1lLCBpbWcsXHJcblx0XHRub2RlTmFtZSA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcclxuXHRpZiAoIFwiYXJlYVwiID09PSBub2RlTmFtZSApIHtcclxuXHRcdG1hcCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuXHRcdG1hcE5hbWUgPSBtYXAubmFtZTtcclxuXHRcdGlmICggIWVsZW1lbnQuaHJlZiB8fCAhbWFwTmFtZSB8fCBtYXAubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJtYXBcIiApIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0aW1nID0gJCggXCJpbWdbdXNlbWFwPSNcIiArIG1hcE5hbWUgKyBcIl1cIiApWzBdO1xyXG5cdFx0cmV0dXJuICEhaW1nICYmIHZpc2libGUoIGltZyApO1xyXG5cdH1cclxuXHRyZXR1cm4gKCAvaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QvLnRlc3QoIG5vZGVOYW1lICkgP1xyXG5cdFx0IWVsZW1lbnQuZGlzYWJsZWQgOlxyXG5cdFx0XCJhXCIgPT09IG5vZGVOYW1lID9cclxuXHRcdFx0ZWxlbWVudC5ocmVmIHx8IGlzVGFiSW5kZXhOb3ROYU4gOlxyXG5cdFx0XHRpc1RhYkluZGV4Tm90TmFOKSAmJlxyXG5cdFx0Ly8gdGhlIGVsZW1lbnQgYW5kIGFsbCBvZiBpdHMgYW5jZXN0b3JzIG11c3QgYmUgdmlzaWJsZVxyXG5cdFx0dmlzaWJsZSggZWxlbWVudCApO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2aXNpYmxlKCBlbGVtZW50ICkge1xyXG5cdHJldHVybiAkLmV4cHIuZmlsdGVycy52aXNpYmxlKCBlbGVtZW50ICkgJiZcclxuXHRcdCEkKCBlbGVtZW50ICkucGFyZW50cygpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiAkLmNzcyggdGhpcywgXCJ2aXNpYmlsaXR5XCIgKSA9PT0gXCJoaWRkZW5cIjtcclxuXHRcdH0pLmxlbmd0aDtcclxufVxyXG5cclxuJC5leHRlbmQoICQuZXhwclsgXCI6XCIgXSwge1xyXG5cdGRhdGE6ICQuZXhwci5jcmVhdGVQc2V1ZG8gP1xyXG5cdFx0JC5leHByLmNyZWF0ZVBzZXVkbyhmdW5jdGlvbiggZGF0YU5hbWUgKSB7XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0XHRyZXR1cm4gISEkLmRhdGEoIGVsZW0sIGRhdGFOYW1lICk7XHJcblx0XHRcdH07XHJcblx0XHR9KSA6XHJcblx0XHQvLyBzdXBwb3J0OiBqUXVlcnkgPDEuOFxyXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGksIG1hdGNoICkge1xyXG5cdFx0XHRyZXR1cm4gISEkLmRhdGEoIGVsZW0sIG1hdGNoWyAzIF0gKTtcclxuXHRcdH0sXHJcblxyXG5cdGZvY3VzYWJsZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XHJcblx0XHRyZXR1cm4gZm9jdXNhYmxlKCBlbGVtZW50LCAhaXNOYU4oICQuYXR0ciggZWxlbWVudCwgXCJ0YWJpbmRleFwiICkgKSApO1xyXG5cdH0sXHJcblxyXG5cdHRhYmJhYmxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcclxuXHRcdHZhciB0YWJJbmRleCA9ICQuYXR0ciggZWxlbWVudCwgXCJ0YWJpbmRleFwiICksXHJcblx0XHRcdGlzVGFiSW5kZXhOYU4gPSBpc05hTiggdGFiSW5kZXggKTtcclxuXHRcdHJldHVybiAoIGlzVGFiSW5kZXhOYU4gfHwgdGFiSW5kZXggPj0gMCApICYmIGZvY3VzYWJsZSggZWxlbWVudCwgIWlzVGFiSW5kZXhOYU4gKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gc3VwcG9ydDogalF1ZXJ5IDwxLjhcclxuaWYgKCAhJCggXCI8YT5cIiApLm91dGVyV2lkdGgoIDEgKS5qcXVlcnkgKSB7XHJcblx0JC5lYWNoKCBbIFwiV2lkdGhcIiwgXCJIZWlnaHRcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcclxuXHRcdHZhciBzaWRlID0gbmFtZSA9PT0gXCJXaWR0aFwiID8gWyBcIkxlZnRcIiwgXCJSaWdodFwiIF0gOiBbIFwiVG9wXCIsIFwiQm90dG9tXCIgXSxcclxuXHRcdFx0dHlwZSA9IG5hbWUudG9Mb3dlckNhc2UoKSxcclxuXHRcdFx0b3JpZyA9IHtcclxuXHRcdFx0XHRpbm5lcldpZHRoOiAkLmZuLmlubmVyV2lkdGgsXHJcblx0XHRcdFx0aW5uZXJIZWlnaHQ6ICQuZm4uaW5uZXJIZWlnaHQsXHJcblx0XHRcdFx0b3V0ZXJXaWR0aDogJC5mbi5vdXRlcldpZHRoLFxyXG5cdFx0XHRcdG91dGVySGVpZ2h0OiAkLmZuLm91dGVySGVpZ2h0XHJcblx0XHRcdH07XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVkdWNlKCBlbGVtLCBzaXplLCBib3JkZXIsIG1hcmdpbiApIHtcclxuXHRcdFx0JC5lYWNoKCBzaWRlLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRzaXplIC09IHBhcnNlRmxvYXQoICQuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIHRoaXMgKSApIHx8IDA7XHJcblx0XHRcdFx0aWYgKCBib3JkZXIgKSB7XHJcblx0XHRcdFx0XHRzaXplIC09IHBhcnNlRmxvYXQoICQuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgdGhpcyArIFwiV2lkdGhcIiApICkgfHwgMDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCBtYXJnaW4gKSB7XHJcblx0XHRcdFx0XHRzaXplIC09IHBhcnNlRmxvYXQoICQuY3NzKCBlbGVtLCBcIm1hcmdpblwiICsgdGhpcyApICkgfHwgMDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm4gc2l6ZTtcclxuXHRcdH1cclxuXHJcblx0XHQkLmZuWyBcImlubmVyXCIgKyBuYW1lIF0gPSBmdW5jdGlvbiggc2l6ZSApIHtcclxuXHRcdFx0aWYgKCBzaXplID09PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0cmV0dXJuIG9yaWdbIFwiaW5uZXJcIiArIG5hbWUgXS5jYWxsKCB0aGlzICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JCggdGhpcyApLmNzcyggdHlwZSwgcmVkdWNlKCB0aGlzLCBzaXplICkgKyBcInB4XCIgKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdCQuZm5bIFwib3V0ZXJcIiArIG5hbWVdID0gZnVuY3Rpb24oIHNpemUsIG1hcmdpbiApIHtcclxuXHRcdFx0aWYgKCB0eXBlb2Ygc2l6ZSAhPT0gXCJudW1iZXJcIiApIHtcclxuXHRcdFx0XHRyZXR1cm4gb3JpZ1sgXCJvdXRlclwiICsgbmFtZSBdLmNhbGwoIHRoaXMsIHNpemUgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkKCB0aGlzKS5jc3MoIHR5cGUsIHJlZHVjZSggdGhpcywgc2l6ZSwgdHJ1ZSwgbWFyZ2luICkgKyBcInB4XCIgKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdH0pO1xyXG59XHJcblxyXG4vLyBzdXBwb3J0OiBqUXVlcnkgPDEuOFxyXG5pZiAoICEkLmZuLmFkZEJhY2sgKSB7XHJcblx0JC5mbi5hZGRCYWNrID0gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xyXG5cdFx0cmV0dXJuIHRoaXMuYWRkKCBzZWxlY3RvciA9PSBudWxsID9cclxuXHRcdFx0dGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlciggc2VsZWN0b3IgKVxyXG5cdFx0KTtcclxuXHR9O1xyXG59XHJcblxyXG4vLyBzdXBwb3J0OiBqUXVlcnkgMS42LjEsIDEuNi4yIChodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC85NDEzKVxyXG5pZiAoICQoIFwiPGE+XCIgKS5kYXRhKCBcImEtYlwiLCBcImFcIiApLnJlbW92ZURhdGEoIFwiYS1iXCIgKS5kYXRhKCBcImEtYlwiICkgKSB7XHJcblx0JC5mbi5yZW1vdmVEYXRhID0gKGZ1bmN0aW9uKCByZW1vdmVEYXRhICkge1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCBrZXkgKSB7XHJcblx0XHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVtb3ZlRGF0YS5jYWxsKCB0aGlzLCAkLmNhbWVsQ2FzZSgga2V5ICkgKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gcmVtb3ZlRGF0YS5jYWxsKCB0aGlzICk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fSkoICQuZm4ucmVtb3ZlRGF0YSApO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gZGVwcmVjYXRlZFxyXG4kLnVpLmllID0gISEvbXNpZSBbXFx3Ll0rLy5leGVjKCBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkgKTtcclxuXHJcbiQuc3VwcG9ydC5zZWxlY3RzdGFydCA9IFwib25zZWxlY3RzdGFydFwiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcclxuJC5mbi5leHRlbmQoe1xyXG5cdGRpc2FibGVTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuYmluZCggKCAkLnN1cHBvcnQuc2VsZWN0c3RhcnQgPyBcInNlbGVjdHN0YXJ0XCIgOiBcIm1vdXNlZG93blwiICkgK1xyXG5cdFx0XHRcIi51aS1kaXNhYmxlU2VsZWN0aW9uXCIsIGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRlbmFibGVTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMudW5iaW5kKCBcIi51aS1kaXNhYmxlU2VsZWN0aW9uXCIgKTtcclxuXHR9LFxyXG5cclxuXHR6SW5kZXg6IGZ1bmN0aW9uKCB6SW5kZXggKSB7XHJcblx0XHRpZiAoIHpJbmRleCAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jc3MoIFwiekluZGV4XCIsIHpJbmRleCApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggdGhpcy5sZW5ndGggKSB7XHJcblx0XHRcdHZhciBlbGVtID0gJCggdGhpc1sgMCBdICksIHBvc2l0aW9uLCB2YWx1ZTtcclxuXHRcdFx0d2hpbGUgKCBlbGVtLmxlbmd0aCAmJiBlbGVtWyAwIF0gIT09IGRvY3VtZW50ICkge1xyXG5cdFx0XHRcdC8vIElnbm9yZSB6LWluZGV4IGlmIHBvc2l0aW9uIGlzIHNldCB0byBhIHZhbHVlIHdoZXJlIHotaW5kZXggaXMgaWdub3JlZCBieSB0aGUgYnJvd3NlclxyXG5cdFx0XHRcdC8vIFRoaXMgbWFrZXMgYmVoYXZpb3Igb2YgdGhpcyBmdW5jdGlvbiBjb25zaXN0ZW50IGFjcm9zcyBicm93c2Vyc1xyXG5cdFx0XHRcdC8vIFdlYktpdCBhbHdheXMgcmV0dXJucyBhdXRvIGlmIHRoZSBlbGVtZW50IGlzIHBvc2l0aW9uZWRcclxuXHRcdFx0XHRwb3NpdGlvbiA9IGVsZW0uY3NzKCBcInBvc2l0aW9uXCIgKTtcclxuXHRcdFx0XHRpZiAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwicmVsYXRpdmVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkge1xyXG5cdFx0XHRcdFx0Ly8gSUUgcmV0dXJucyAwIHdoZW4gekluZGV4IGlzIG5vdCBzcGVjaWZpZWRcclxuXHRcdFx0XHRcdC8vIG90aGVyIGJyb3dzZXJzIHJldHVybiBhIHN0cmluZ1xyXG5cdFx0XHRcdFx0Ly8gd2UgaWdub3JlIHRoZSBjYXNlIG9mIG5lc3RlZCBlbGVtZW50cyB3aXRoIGFuIGV4cGxpY2l0IHZhbHVlIG9mIDBcclxuXHRcdFx0XHRcdC8vIDxkaXYgc3R5bGU9XCJ6LWluZGV4OiAtMTA7XCI+PGRpdiBzdHlsZT1cInotaW5kZXg6IDA7XCI+PC9kaXY+PC9kaXY+XHJcblx0XHRcdFx0XHR2YWx1ZSA9IHBhcnNlSW50KCBlbGVtLmNzcyggXCJ6SW5kZXhcIiApLCAxMCApO1xyXG5cdFx0XHRcdFx0aWYgKCAhaXNOYU4oIHZhbHVlICkgJiYgdmFsdWUgIT09IDAgKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxlbSA9IGVsZW0ucGFyZW50KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gMDtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gJC51aS5wbHVnaW4gaXMgZGVwcmVjYXRlZC4gVXNlICQud2lkZ2V0KCkgZXh0ZW5zaW9ucyBpbnN0ZWFkLlxyXG4kLnVpLnBsdWdpbiA9IHtcclxuXHRhZGQ6IGZ1bmN0aW9uKCBtb2R1bGUsIG9wdGlvbiwgc2V0ICkge1xyXG5cdFx0dmFyIGksXHJcblx0XHRcdHByb3RvID0gJC51aVsgbW9kdWxlIF0ucHJvdG90eXBlO1xyXG5cdFx0Zm9yICggaSBpbiBzZXQgKSB7XHJcblx0XHRcdHByb3RvLnBsdWdpbnNbIGkgXSA9IHByb3RvLnBsdWdpbnNbIGkgXSB8fCBbXTtcclxuXHRcdFx0cHJvdG8ucGx1Z2luc1sgaSBdLnB1c2goIFsgb3B0aW9uLCBzZXRbIGkgXSBdICk7XHJcblx0XHR9XHJcblx0fSxcclxuXHRjYWxsOiBmdW5jdGlvbiggaW5zdGFuY2UsIG5hbWUsIGFyZ3MsIGFsbG93RGlzY29ubmVjdGVkICkge1xyXG5cdFx0dmFyIGksXHJcblx0XHRcdHNldCA9IGluc3RhbmNlLnBsdWdpbnNbIG5hbWUgXTtcclxuXHJcblx0XHRpZiAoICFzZXQgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoICFhbGxvd0Rpc2Nvbm5lY3RlZCAmJiAoICFpbnN0YW5jZS5lbGVtZW50WyAwIF0ucGFyZW50Tm9kZSB8fCBpbnN0YW5jZS5lbGVtZW50WyAwIF0ucGFyZW50Tm9kZS5ub2RlVHlwZSA9PT0gMTEgKSApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoIGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrICkge1xyXG5cdFx0XHRpZiAoIGluc3RhbmNlLm9wdGlvbnNbIHNldFsgaSBdWyAwIF0gXSApIHtcclxuXHRcdFx0XHRzZXRbIGkgXVsgMSBdLmFwcGx5KCBpbnN0YW5jZS5lbGVtZW50LCBhcmdzICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG59KSggalF1ZXJ5ICk7XHJcblxyXG4oZnVuY3Rpb24oICQsIHdpbmRvdywgdW5kZWZpbmVkICkge1xyXG5cclxuXHQvLyBTdWJ0cmFjdCB0aGUgaGVpZ2h0IG9mIGV4dGVybmFsIHRvb2xiYXJzIGZyb20gdGhlIHBhZ2UgaGVpZ2h0LCBpZiB0aGUgcGFnZSBkb2VzIG5vdCBoYXZlXHJcblx0Ly8gaW50ZXJuYWwgdG9vbGJhcnMgb2YgdGhlIHNhbWUgdHlwZS4gV2UgdGFrZSBjYXJlIHRvIHVzZSB0aGUgd2lkZ2V0IG9wdGlvbnMgaWYgd2UgZmluZCBhXHJcblx0Ly8gd2lkZ2V0IGluc3RhbmNlIGFuZCB0aGUgZWxlbWVudCdzIGRhdGEtYXR0cmlidXRlcyBvdGhlcndpc2UuXHJcblx0dmFyIGNvbXBlbnNhdGVUb29sYmFycyA9IGZ1bmN0aW9uKCBwYWdlLCBkZXNpcmVkSGVpZ2h0ICkge1xyXG5cdFx0dmFyIHBhZ2VQYXJlbnQgPSBwYWdlLnBhcmVudCgpLFxyXG5cdFx0XHR0b29sYmFyc0FmZmVjdGluZ0hlaWdodCA9IFtdLFxyXG5cclxuXHRcdFx0Ly8gV2UgdXNlIHRoaXMgZnVuY3Rpb24gdG8gZmlsdGVyIGZpeGVkIHRvb2xiYXJzIHdpdGggb3B0aW9uIHVwZGF0ZVBhZ2VQYWRkaW5nIHNldCB0b1xyXG5cdFx0XHQvLyB0cnVlICh3aGljaCBpcyB0aGUgZGVmYXVsdCkgZnJvbSBvdXIgaGVpZ2h0IHN1YnRyYWN0aW9uLCBiZWNhdXNlIGZpeGVkIHRvb2xiYXJzIHdpdGhcclxuXHRcdFx0Ly8gb3B0aW9uIHVwZGF0ZVBhZ2VQYWRkaW5nIHNldCB0byB0cnVlIGNvbXBlbnNhdGUgZm9yIHRoZWlyIHByZXNlbmNlIGJ5IGFkZGluZyBwYWRkaW5nXHJcblx0XHRcdC8vIHRvIHRoZSBhY3RpdmUgcGFnZS4gV2Ugd2FudCB0byBhdm9pZCBkb3VibGUtY291bnRpbmcgYnkgYWxzbyBzdWJ0cmFjdGluZyB0aGVpclxyXG5cdFx0XHQvLyBoZWlnaHQgZnJvbSB0aGUgZGVzaXJlZCBwYWdlIGhlaWdodC5cclxuXHRcdFx0bm9QYWRkZXJzID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyIHRoZUVsZW1lbnQgPSAkKCB0aGlzICksXHJcblx0XHRcdFx0XHR3aWRnZXRPcHRpb25zID0gJC5tb2JpbGUudG9vbGJhciAmJiB0aGVFbGVtZW50LmRhdGEoIFwibW9iaWxlLXRvb2xiYXJcIiApID9cclxuXHRcdFx0XHRcdFx0dGhlRWxlbWVudC50b29sYmFyKCBcIm9wdGlvblwiICkgOiB7XHJcblx0XHRcdFx0XHRcdFx0cG9zaXRpb246IHRoZUVsZW1lbnQuYXR0ciggXCJkYXRhLVwiICsgJC5tb2JpbGUubnMgKyBcInBvc2l0aW9uXCIgKSxcclxuXHRcdFx0XHRcdFx0XHR1cGRhdGVQYWdlUGFkZGluZzogKCB0aGVFbGVtZW50LmF0dHIoIFwiZGF0YS1cIiArICQubW9iaWxlLm5zICtcclxuXHRcdFx0XHRcdFx0XHRcdFwidXBkYXRlLXBhZ2UtcGFkZGluZ1wiICkgIT09IGZhbHNlIClcclxuXHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0cmV0dXJuICEoIHdpZGdldE9wdGlvbnMucG9zaXRpb24gPT09IFwiZml4ZWRcIiAmJlxyXG5cdFx0XHRcdFx0d2lkZ2V0T3B0aW9ucy51cGRhdGVQYWdlUGFkZGluZyA9PT0gdHJ1ZSApO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRleHRlcm5hbEhlYWRlcnMgPSBwYWdlUGFyZW50LmNoaWxkcmVuKCBcIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpXCIgKS5maWx0ZXIoIG5vUGFkZGVycyApLFxyXG5cdFx0XHRpbnRlcm5hbEhlYWRlcnMgPSBwYWdlLmNoaWxkcmVuKCBcIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpXCIgKSxcclxuXHRcdFx0ZXh0ZXJuYWxGb290ZXJzID0gcGFnZVBhcmVudC5jaGlsZHJlbiggXCI6anFtRGF0YShyb2xlPSdmb290ZXInKVwiICkuZmlsdGVyKCBub1BhZGRlcnMgKSxcclxuXHRcdFx0aW50ZXJuYWxGb290ZXJzID0gcGFnZS5jaGlsZHJlbiggXCI6anFtRGF0YShyb2xlPSdmb290ZXInKVwiICk7XHJcblxyXG5cdFx0Ly8gSWYgd2UgaGF2ZSBubyBpbnRlcm5hbCBoZWFkZXJzLCBidXQgd2UgZG8gaGF2ZSBleHRlcm5hbCBoZWFkZXJzLCB0aGVuIHRoZWlyIGhlaWdodFxyXG5cdFx0Ly8gcmVkdWNlcyB0aGUgcGFnZSBoZWlnaHRcclxuXHRcdGlmICggaW50ZXJuYWxIZWFkZXJzLmxlbmd0aCA9PT0gMCAmJiBleHRlcm5hbEhlYWRlcnMubGVuZ3RoID4gMCApIHtcclxuXHRcdFx0dG9vbGJhcnNBZmZlY3RpbmdIZWlnaHQgPSB0b29sYmFyc0FmZmVjdGluZ0hlaWdodC5jb25jYXQoIGV4dGVybmFsSGVhZGVycy50b0FycmF5KCkgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBJZiB3ZSBoYXZlIG5vIGludGVybmFsIGZvb3RlcnMsIGJ1dCB3ZSBkbyBoYXZlIGV4dGVybmFsIGZvb3RlcnMsIHRoZW4gdGhlaXIgaGVpZ2h0XHJcblx0XHQvLyByZWR1Y2VzIHRoZSBwYWdlIGhlaWdodFxyXG5cdFx0aWYgKCBpbnRlcm5hbEZvb3RlcnMubGVuZ3RoID09PSAwICYmIGV4dGVybmFsRm9vdGVycy5sZW5ndGggPiAwICkge1xyXG5cdFx0XHR0b29sYmFyc0FmZmVjdGluZ0hlaWdodCA9IHRvb2xiYXJzQWZmZWN0aW5nSGVpZ2h0LmNvbmNhdCggZXh0ZXJuYWxGb290ZXJzLnRvQXJyYXkoKSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdCQuZWFjaCggdG9vbGJhcnNBZmZlY3RpbmdIZWlnaHQsIGZ1bmN0aW9uKCBpbmRleCwgdmFsdWUgKSB7XHJcblx0XHRcdGRlc2lyZWRIZWlnaHQgLT0gJCggdmFsdWUgKS5vdXRlckhlaWdodCgpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gSGVpZ2h0IG11c3QgYmUgYXQgbGVhc3QgemVyb1xyXG5cdFx0cmV0dXJuIE1hdGgubWF4KCAwLCBkZXNpcmVkSGVpZ2h0ICk7XHJcblx0fTtcclxuXHJcblx0JC5leHRlbmQoICQubW9iaWxlLCB7XHJcblx0XHQvLyBkZWZpbmUgdGhlIHdpbmRvdyBhbmQgdGhlIGRvY3VtZW50IG9iamVjdHNcclxuXHRcdHdpbmRvdzogJCggd2luZG93ICksXHJcblx0XHRkb2N1bWVudDogJCggZG9jdW1lbnQgKSxcclxuXHJcblx0XHQvLyBUT0RPOiBSZW1vdmUgYW5kIHVzZSAkLnVpLmtleUNvZGUgZGlyZWN0bHlcclxuXHRcdGtleUNvZGU6ICQudWkua2V5Q29kZSxcclxuXHJcblx0XHQvLyBQbGFjZSB0byBzdG9yZSB2YXJpb3VzIHdpZGdldCBleHRlbnNpb25zXHJcblx0XHRiZWhhdmlvcnM6IHt9LFxyXG5cclxuXHRcdC8vIFNjcm9sbCBwYWdlIHZlcnRpY2FsbHk6IHNjcm9sbCB0byAwIHRvIGhpZGUgaU9TIGFkZHJlc3MgYmFyLCBvciBwYXNzIGEgWSB2YWx1ZVxyXG5cdFx0c2lsZW50U2Nyb2xsOiBmdW5jdGlvbiggeXBvcyApIHtcclxuXHRcdFx0aWYgKCAkLnR5cGUoIHlwb3MgKSAhPT0gXCJudW1iZXJcIiApIHtcclxuXHRcdFx0XHR5cG9zID0gJC5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHByZXZlbnQgc2Nyb2xsc3RhcnQgYW5kIHNjcm9sbHN0b3AgZXZlbnRzXHJcblx0XHRcdCQuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkID0gZmFsc2U7XHJcblxyXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHdpbmRvdy5zY3JvbGxUbyggMCwgeXBvcyApO1xyXG5cdFx0XHRcdCQubW9iaWxlLmRvY3VtZW50LnRyaWdnZXIoIFwic2lsZW50c2Nyb2xsXCIsIHsgeDogMCwgeTogeXBvcyB9KTtcclxuXHRcdFx0fSwgMjAgKTtcclxuXHJcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JC5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHR9LCAxNTAgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Z2V0Q2xvc2VzdEJhc2VVcmw6IGZ1bmN0aW9uKCBlbGUgKVx0e1xyXG5cdFx0XHQvLyBGaW5kIHRoZSBjbG9zZXN0IHBhZ2UgYW5kIGV4dHJhY3Qgb3V0IGl0cyB1cmwuXHJcblx0XHRcdHZhciB1cmwgPSAkKCBlbGUgKS5jbG9zZXN0KCBcIi51aS1wYWdlXCIgKS5qcW1EYXRhKCBcInVybFwiICksXHJcblx0XHRcdFx0YmFzZSA9ICQubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2g7XHJcblxyXG5cdFx0XHRpZiAoICEkLm1vYmlsZS5keW5hbWljQmFzZUVuYWJsZWQgfHwgIXVybCB8fCAhJC5tb2JpbGUucGF0aC5pc1BhdGgoIHVybCApICkge1xyXG5cdFx0XHRcdHVybCA9IGJhc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiAkLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZSggdXJsLCBiYXNlICk7XHJcblx0XHR9LFxyXG5cdFx0cmVtb3ZlQWN0aXZlTGlua0NsYXNzOiBmdW5jdGlvbiggZm9yY2VSZW1vdmFsICkge1xyXG5cdFx0XHRpZiAoICEhJC5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmsgJiZcclxuXHRcdFx0XHQoICEkLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluay5jbG9zZXN0KCBcIi5cIiArICQubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyApLmxlbmd0aCB8fFxyXG5cdFx0XHRcdFx0Zm9yY2VSZW1vdmFsICkgKSB7XHJcblxyXG5cdFx0XHRcdCQubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rLnJlbW92ZUNsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApO1xyXG5cdFx0XHR9XHJcblx0XHRcdCQubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rID0gbnVsbDtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gREVQUkVDQVRFRCBpbiAxLjRcclxuXHRcdC8vIEZpbmQgdGhlIGNsb3Nlc3QgcGFyZW50IHdpdGggYSB0aGVtZSBjbGFzcyBvbiBpdC4gTm90ZSB0aGF0XHJcblx0XHQvLyB3ZSBhcmUgbm90IHVzaW5nICQuZm4uY2xvc2VzdCgpIG9uIHB1cnBvc2UgaGVyZSBiZWNhdXNlIHRoaXNcclxuXHRcdC8vIG1ldGhvZCBnZXRzIGNhbGxlZCBxdWl0ZSBhIGJpdCBhbmQgd2UgbmVlZCBpdCB0byBiZSBhcyBmYXN0XHJcblx0XHQvLyBhcyBwb3NzaWJsZS5cclxuXHRcdGdldEluaGVyaXRlZFRoZW1lOiBmdW5jdGlvbiggZWwsIGRlZmF1bHRUaGVtZSApIHtcclxuXHRcdFx0dmFyIGUgPSBlbFsgMCBdLFxyXG5cdFx0XHRcdGx0ciA9IFwiXCIsXHJcblx0XHRcdFx0cmUgPSAvdWktKGJhcnxib2R5fG92ZXJsYXkpLShbYS16XSlcXGIvLFxyXG5cdFx0XHRcdGMsIG07XHJcblx0XHRcdHdoaWxlICggZSApIHtcclxuXHRcdFx0XHRjID0gZS5jbGFzc05hbWUgfHwgXCJcIjtcclxuXHRcdFx0XHRpZiAoIGMgJiYgKCBtID0gcmUuZXhlYyggYyApICkgJiYgKCBsdHIgPSBtWyAyIF0gKSApIHtcclxuXHRcdFx0XHRcdC8vIFdlIGZvdW5kIGEgcGFyZW50IHdpdGggYSB0aGVtZSBjbGFzc1xyXG5cdFx0XHRcdFx0Ly8gb24gaXQgc28gYmFpbCBmcm9tIHRoaXMgbG9vcC5cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZSA9IGUucGFyZW50Tm9kZTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBSZXR1cm4gdGhlIHRoZW1lIGxldHRlciB3ZSBmb3VuZCwgaWYgbm9uZSwgcmV0dXJuIHRoZVxyXG5cdFx0XHQvLyBzcGVjaWZpZWQgZGVmYXVsdC5cclxuXHRcdFx0cmV0dXJuIGx0ciB8fCBkZWZhdWx0VGhlbWUgfHwgXCJhXCI7XHJcblx0XHR9LFxyXG5cclxuXHRcdGVuaGFuY2VhYmxlOiBmdW5jdGlvbiggZWxlbWVudHMgKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmhhdmVQYXJlbnRzKCBlbGVtZW50cywgXCJlbmhhbmNlXCIgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0aGlqYWNrYWJsZTogZnVuY3Rpb24oIGVsZW1lbnRzICkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyggZWxlbWVudHMsIFwiYWpheFwiICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdGhhdmVQYXJlbnRzOiBmdW5jdGlvbiggZWxlbWVudHMsIGF0dHIgKSB7XHJcblx0XHRcdGlmICggISQubW9iaWxlLmlnbm9yZUNvbnRlbnRFbmFibGVkICkge1xyXG5cdFx0XHRcdHJldHVybiBlbGVtZW50cztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIGNvdW50ID0gZWxlbWVudHMubGVuZ3RoLFxyXG5cdFx0XHRcdCRuZXdTZXQgPSAkKCksXHJcblx0XHRcdFx0ZSwgJGVsZW1lbnQsIGV4Y2x1ZGVkLFxyXG5cdFx0XHRcdGksIGM7XHJcblxyXG5cdFx0XHRmb3IgKCBpID0gMDsgaSA8IGNvdW50OyBpKysgKSB7XHJcblx0XHRcdFx0JGVsZW1lbnQgPSBlbGVtZW50cy5lcSggaSApO1xyXG5cdFx0XHRcdGV4Y2x1ZGVkID0gZmFsc2U7XHJcblx0XHRcdFx0ZSA9IGVsZW1lbnRzWyBpIF07XHJcblxyXG5cdFx0XHRcdHdoaWxlICggZSApIHtcclxuXHRcdFx0XHRcdGMgPSBlLmdldEF0dHJpYnV0ZSA/IGUuZ2V0QXR0cmlidXRlKCBcImRhdGEtXCIgKyAkLm1vYmlsZS5ucyArIGF0dHIgKSA6IFwiXCI7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBjID09PSBcImZhbHNlXCIgKSB7XHJcblx0XHRcdFx0XHRcdGV4Y2x1ZGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0ZSA9IGUucGFyZW50Tm9kZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICggIWV4Y2x1ZGVkICkge1xyXG5cdFx0XHRcdFx0JG5ld1NldCA9ICRuZXdTZXQuYWRkKCAkZWxlbWVudCApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuICRuZXdTZXQ7XHJcblx0XHR9LFxyXG5cclxuXHRcdGdldFNjcmVlbkhlaWdodDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIE5hdGl2ZSBpbm5lckhlaWdodCByZXR1cm5zIG1vcmUgYWNjdXJhdGUgdmFsdWUgZm9yIHRoaXMgYWNyb3NzIHBsYXRmb3JtcyxcclxuXHRcdFx0Ly8galF1ZXJ5IHZlcnNpb24gaXMgaGVyZSBhcyBhIG5vcm1hbGl6ZWQgZmFsbGJhY2sgZm9yIHBsYXRmb3JtcyBsaWtlIFN5bWJpYW5cclxuXHRcdFx0cmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodCB8fCAkLm1vYmlsZS53aW5kb3cuaGVpZ2h0KCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vc2ltcGx5IHNldCB0aGUgYWN0aXZlIHBhZ2UncyBtaW5pbXVtIGhlaWdodCB0byBzY3JlZW4gaGVpZ2h0LCBkZXBlbmRpbmcgb24gb3JpZW50YXRpb25cclxuXHRcdHJlc2V0QWN0aXZlUGFnZUhlaWdodDogZnVuY3Rpb24oIGhlaWdodCApIHtcclxuXHRcdFx0dmFyIHBhZ2UgPSAkKCBcIi5cIiArICQubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyApLFxyXG5cdFx0XHRcdHBhZ2VIZWlnaHQgPSBwYWdlLmhlaWdodCgpLFxyXG5cdFx0XHRcdHBhZ2VPdXRlckhlaWdodCA9IHBhZ2Uub3V0ZXJIZWlnaHQoIHRydWUgKTtcclxuXHJcblx0XHRcdGhlaWdodCA9IGNvbXBlbnNhdGVUb29sYmFycyggcGFnZSxcclxuXHRcdFx0XHQoIHR5cGVvZiBoZWlnaHQgPT09IFwibnVtYmVyXCIgKSA/IGhlaWdodCA6ICQubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpICk7XHJcblxyXG5cdFx0XHQvLyBSZW1vdmUgYW55IHByZXZpb3VzIG1pbi1oZWlnaHQgc2V0dGluZ1xyXG5cdFx0XHRwYWdlLmNzcyggXCJtaW4taGVpZ2h0XCIsIFwiXCIgKTtcclxuXHJcblx0XHRcdC8vIFNldCB0aGUgbWluaW11bSBoZWlnaHQgb25seSBpZiB0aGUgaGVpZ2h0IGFzIGRldGVybWluZWQgYnkgQ1NTIGlzIGluc3VmZmljaWVudFxyXG5cdFx0XHRpZiAoIHBhZ2UuaGVpZ2h0KCkgPCBoZWlnaHQgKSB7XHJcblx0XHRcdFx0cGFnZS5jc3MoIFwibWluLWhlaWdodFwiLCBoZWlnaHQgLSAoIHBhZ2VPdXRlckhlaWdodCAtIHBhZ2VIZWlnaHQgKSApO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdGxvYWRpbmc6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsIHRvIHRoaXMgZnVuY3Rpb24sIGluc3RhbnRpYXRlIGEgbG9hZGVyIHdpZGdldFxyXG5cdFx0XHR2YXIgbG9hZGVyID0gdGhpcy5sb2FkaW5nLl93aWRnZXQgfHwgJCggJC5tb2JpbGUubG9hZGVyLnByb3RvdHlwZS5kZWZhdWx0SHRtbCApLmxvYWRlcigpLFxyXG5cclxuXHRcdFx0XHQvLyBDYWxsIHRoZSBhcHByb3ByaWF0ZSBtZXRob2Qgb24gdGhlIGxvYWRlclxyXG5cdFx0XHRcdHJldHVyblZhbHVlID0gbG9hZGVyLmxvYWRlci5hcHBseSggbG9hZGVyLCBhcmd1bWVudHMgKTtcclxuXHJcblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGUgbG9hZGVyIGlzIHJldGFpbmVkIGZvciBmdXR1cmUgY2FsbHMgdG8gdGhpcyBmdW5jdGlvbi5cclxuXHRcdFx0dGhpcy5sb2FkaW5nLl93aWRnZXQgPSBsb2FkZXI7XHJcblxyXG5cdFx0XHRyZXR1cm4gcmV0dXJuVmFsdWU7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdCQuYWRkRGVwZW5kZW50cyA9IGZ1bmN0aW9uKCBlbGVtLCBuZXdEZXBlbmRlbnRzICkge1xyXG5cdFx0dmFyICRlbGVtID0gJCggZWxlbSApLFxyXG5cdFx0XHRkZXBlbmRlbnRzID0gJGVsZW0uanFtRGF0YSggXCJkZXBlbmRlbnRzXCIgKSB8fCAkKCk7XHJcblxyXG5cdFx0JGVsZW0uanFtRGF0YSggXCJkZXBlbmRlbnRzXCIsICQoIGRlcGVuZGVudHMgKS5hZGQoIG5ld0RlcGVuZGVudHMgKSApO1xyXG5cdH07XHJcblxyXG5cdC8vIHBsdWdpbnNcclxuXHQkLmZuLmV4dGVuZCh7XHJcblx0XHRyZW1vdmVXaXRoRGVwZW5kZW50czogZnVuY3Rpb24oKSB7XHJcblx0XHRcdCQucmVtb3ZlV2l0aERlcGVuZGVudHMoIHRoaXMgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gRW5oYW5jZSBjaGlsZCBlbGVtZW50c1xyXG5cdFx0ZW5oYW5jZVdpdGhpbjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBpbmRleCxcclxuXHRcdFx0XHR3aWRnZXRFbGVtZW50cyA9IHt9LFxyXG5cdFx0XHRcdGtlZXBOYXRpdmUgPSAkLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5rZWVwTmF0aXZlU2VsZWN0b3IoKSxcclxuXHRcdFx0XHR0aGF0ID0gdGhpcztcclxuXHJcblx0XHRcdC8vIEFkZCBubyBqcyBjbGFzcyB0byBlbGVtZW50c1xyXG5cdFx0XHRpZiAoICQubW9iaWxlLm5vanMgKSB7XHJcblx0XHRcdFx0JC5tb2JpbGUubm9qcyggdGhpcyApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBCaW5kIGxpbmtzIGZvciBhamF4IG5hdlxyXG5cdFx0XHRpZiAoICQubW9iaWxlLmxpbmtzICkge1xyXG5cdFx0XHRcdCQubW9iaWxlLmxpbmtzKCB0aGlzICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIERlZ3JhZGUgaW5wdXRzIGZvciBzdHlsZWluZ1xyXG5cdFx0XHRpZiAoICQubW9iaWxlLmRlZ3JhZGVJbnB1dHNXaXRoaW4gKSB7XHJcblx0XHRcdFx0JC5tb2JpbGUuZGVncmFkZUlucHV0c1dpdGhpbiggdGhpcyApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBSdW4gYnV0dG9ubWFya3VwXHJcblx0XHRcdGlmICggJC5mbi5idXR0b25NYXJrdXAgKSB7XHJcblx0XHRcdFx0dGhpcy5maW5kKCAkLmZuLmJ1dHRvbk1hcmt1cC5pbml0U2VsZWN0b3IgKS5ub3QoIGtlZXBOYXRpdmUgKVxyXG5cdFx0XHRcdC5qcW1FbmhhbmNlYWJsZSgpLmJ1dHRvbk1hcmt1cCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBBZGQgY2xhc3NlcyBmb3IgZmllbGRDb250YWluXHJcblx0XHRcdGlmICggJC5mbi5maWVsZGNvbnRhaW4gKSB7XHJcblx0XHRcdFx0dGhpcy5maW5kKCBcIjpqcW1EYXRhKHJvbGU9J2ZpZWxkY29udGFpbicpXCIgKS5ub3QoIGtlZXBOYXRpdmUgKVxyXG5cdFx0XHRcdC5qcW1FbmhhbmNlYWJsZSgpLmZpZWxkY29udGFpbigpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBFbmhhbmNlIHdpZGdldHNcclxuXHRcdFx0JC5lYWNoKCAkLm1vYmlsZS53aWRnZXRzLCBmdW5jdGlvbiggbmFtZSwgY29uc3RydWN0b3IgKSB7XHJcblxyXG5cdFx0XHRcdC8vIElmIGluaXRTZWxlY3RvciBub3QgZmFsc2UgZmluZCBlbGVtZW50c1xyXG5cdFx0XHRcdGlmICggY29uc3RydWN0b3IuaW5pdFNlbGVjdG9yICkge1xyXG5cclxuXHRcdFx0XHRcdC8vIEZpbHRlciBlbGVtZW50cyB0aGF0IHNob3VsZCBub3QgYmUgZW5oYW5jZWQgYmFzZWQgb24gcGFyZW50c1xyXG5cdFx0XHRcdFx0dmFyIGVsZW1lbnRzID0gJC5tb2JpbGUuZW5oYW5jZWFibGUoIHRoYXQuZmluZCggY29uc3RydWN0b3IuaW5pdFNlbGVjdG9yICkgKTtcclxuXHJcblx0XHRcdFx0XHQvLyBJZiBhbnkgbWF0Y2hpbmcgZWxlbWVudHMgcmVtYWluIGZpbHRlciBvbmVzIHdpdGgga2VlcE5hdGl2ZVNlbGVjdG9yXHJcblx0XHRcdFx0XHRpZiAoIGVsZW1lbnRzLmxlbmd0aCA+IDAgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyAkLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5rZWVwTmF0aXZlU2VsZWN0b3IgaXMgZGVwcmVjYXRlZCB0aGlzIGlzIGp1c3QgZm9yIGJhY2tjb21wYXRcclxuXHRcdFx0XHRcdFx0Ly8gU3dpdGNoIHRvICQubW9iaWxlLmtlZXBOYXRpdmUgaW4gMS41IHdoaWNoIGlzIGp1c3QgYSB2YWx1ZSBub3QgYSBmdW5jdGlvblxyXG5cdFx0XHRcdFx0XHRlbGVtZW50cyA9IGVsZW1lbnRzLm5vdCgga2VlcE5hdGl2ZSApO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIEVuaGFuY2Ugd2hhdGV2ZXIgaXMgbGVmdFxyXG5cdFx0XHRcdFx0aWYgKCBlbGVtZW50cy5sZW5ndGggPiAwICkge1xyXG5cdFx0XHRcdFx0XHR3aWRnZXRFbGVtZW50c1sgY29uc3RydWN0b3IucHJvdG90eXBlLndpZGdldE5hbWUgXSA9IGVsZW1lbnRzO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRmb3IgKCBpbmRleCBpbiB3aWRnZXRFbGVtZW50cyApIHtcclxuXHRcdFx0XHR3aWRnZXRFbGVtZW50c1sgaW5kZXggXVsgaW5kZXggXSgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0sXHJcblxyXG5cdFx0YWRkRGVwZW5kZW50czogZnVuY3Rpb24oIG5ld0RlcGVuZGVudHMgKSB7XHJcblx0XHRcdCQuYWRkRGVwZW5kZW50cyggdGhpcywgbmV3RGVwZW5kZW50cyApO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBub3RlIHRoYXQgdGhpcyBoZWxwZXIgZG9lc24ndCBhdHRlbXB0IHRvIGhhbmRsZSB0aGUgY2FsbGJhY2tcclxuXHRcdC8vIG9yIHNldHRpbmcgb2YgYW4gaHRtbCBlbGVtZW50J3MgdGV4dCwgaXRzIG9ubHkgcHVycG9zZSBpc1xyXG5cdFx0Ly8gdG8gcmV0dXJuIHRoZSBodG1sIGVuY29kZWQgdmVyc2lvbiBvZiB0aGUgdGV4dCBpbiBhbGwgY2FzZXMuICh0aHVzIHRoZSBuYW1lKVxyXG5cdFx0Z2V0RW5jb2RlZFRleHQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gJCggXCI8YT5cIiApLnRleHQoIHRoaXMudGV4dCgpICkuaHRtbCgpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBmbHVlbnQgaGVscGVyIGZ1bmN0aW9uIGZvciB0aGUgbW9iaWxlIG5hbWVzcGFjZWQgZXF1aXZhbGVudFxyXG5cdFx0anFtRW5oYW5jZWFibGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gJC5tb2JpbGUuZW5oYW5jZWFibGUoIHRoaXMgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0anFtSGlqYWNrYWJsZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiAkLm1vYmlsZS5oaWphY2thYmxlKCB0aGlzICk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdCQucmVtb3ZlV2l0aERlcGVuZGVudHMgPSBmdW5jdGlvbiggbmF0aXZlRWxlbWVudCApIHtcclxuXHRcdHZhciBlbGVtZW50ID0gJCggbmF0aXZlRWxlbWVudCApO1xyXG5cclxuXHRcdCggZWxlbWVudC5qcW1EYXRhKCBcImRlcGVuZGVudHNcIiApIHx8ICQoKSApLnJlbW92ZSgpO1xyXG5cdFx0ZWxlbWVudC5yZW1vdmUoKTtcclxuXHR9O1xyXG5cdCQuYWRkRGVwZW5kZW50cyA9IGZ1bmN0aW9uKCBuYXRpdmVFbGVtZW50LCBuZXdEZXBlbmRlbnRzICkge1xyXG5cdFx0dmFyIGVsZW1lbnQgPSAkKCBuYXRpdmVFbGVtZW50ICksXHJcblx0XHRcdGRlcGVuZGVudHMgPSBlbGVtZW50LmpxbURhdGEoIFwiZGVwZW5kZW50c1wiICkgfHwgJCgpO1xyXG5cclxuXHRcdGVsZW1lbnQuanFtRGF0YSggXCJkZXBlbmRlbnRzXCIsICQoIGRlcGVuZGVudHMgKS5hZGQoIG5ld0RlcGVuZGVudHMgKSApO1xyXG5cdH07XHJcblxyXG5cdCQuZmluZC5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIHNldCApIHtcclxuXHRcdHJldHVybiAkLmZpbmQoIGV4cHIsIG51bGwsIG51bGwsIHNldCApO1xyXG5cdH07XHJcblxyXG5cdCQuZmluZC5tYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbiggbm9kZSwgZXhwciApIHtcclxuXHRcdHJldHVybiAkLmZpbmQoIGV4cHIsIG51bGwsIG51bGwsIFsgbm9kZSBdICkubGVuZ3RoID4gMDtcclxuXHR9O1xyXG5cclxufSkoIGpRdWVyeSwgdGhpcyApO1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB3aW5kb3csIHVuZGVmaW5lZCApIHtcclxuXHQkLmV4dGVuZCggJC5tb2JpbGUsIHtcclxuXHJcblx0XHQvLyBWZXJzaW9uIG9mIHRoZSBqUXVlcnkgTW9iaWxlIEZyYW1ld29ya1xyXG5cdFx0dmVyc2lvbjogXCIxLjQuNVwiLFxyXG5cclxuXHRcdC8vIERlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciB1c2VkIGluIDEuNCByZW1vdmUgaW4gMS41XHJcblx0XHQvLyBEZWZpbmUgdGhlIHVybCBwYXJhbWV0ZXIgdXNlZCBmb3IgcmVmZXJlbmNpbmcgd2lkZ2V0LWdlbmVyYXRlZCBzdWItcGFnZXMuXHJcblx0XHQvLyBUcmFuc2xhdGVzIHRvIGV4YW1wbGUuaHRtbCZ1aS1wYWdlPXN1YnBhZ2VJZGVudGlmaWVyXHJcblx0XHQvLyBoYXNoIHNlZ21lbnQgYmVmb3JlICZ1aS1wYWdlPSBpcyB1c2VkIHRvIG1ha2UgQWpheCByZXF1ZXN0XHJcblx0XHRzdWJQYWdlVXJsS2V5OiBcInVpLXBhZ2VcIixcclxuXHJcblx0XHRoaWRlVXJsQmFyOiB0cnVlLFxyXG5cclxuXHRcdC8vIEtlZXBuYXRpdmUgU2VsZWN0b3JcclxuXHRcdGtlZXBOYXRpdmU6IFwiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJylcIixcclxuXHJcblx0XHQvLyBEZXByZWNhdGVkIGluIDEuNCByZW1vdmUgaW4gMS41XHJcblx0XHQvLyBDbGFzcyBhc3NpZ25lZCB0byBwYWdlIGN1cnJlbnRseSBpbiB2aWV3LCBhbmQgZHVyaW5nIHRyYW5zaXRpb25zXHJcblx0XHRhY3RpdmVQYWdlQ2xhc3M6IFwidWktcGFnZS1hY3RpdmVcIixcclxuXHJcblx0XHQvLyBEZXByZWNhdGVkIGluIDEuNCByZW1vdmUgaW4gMS41XHJcblx0XHQvLyBDbGFzcyB1c2VkIGZvciBcImFjdGl2ZVwiIGJ1dHRvbiBzdGF0ZSwgZnJvbSBDU1MgZnJhbWV3b3JrXHJcblx0XHRhY3RpdmVCdG5DbGFzczogXCJ1aS1idG4tYWN0aXZlXCIsXHJcblxyXG5cdFx0Ly8gRGVwcmVjYXRlZCBpbiAxLjQgcmVtb3ZlIGluIDEuNVxyXG5cdFx0Ly8gQ2xhc3MgdXNlZCBmb3IgXCJmb2N1c1wiIGZvcm0gZWxlbWVudCBzdGF0ZSwgZnJvbSBDU1MgZnJhbWV3b3JrXHJcblx0XHRmb2N1c0NsYXNzOiBcInVpLWZvY3VzXCIsXHJcblxyXG5cdFx0Ly8gQXV0b21hdGljYWxseSBoYW5kbGUgY2xpY2tzIGFuZCBmb3JtIHN1Ym1pc3Npb25zIHRocm91Z2ggQWpheCwgd2hlbiBzYW1lLWRvbWFpblxyXG5cdFx0YWpheEVuYWJsZWQ6IHRydWUsXHJcblxyXG5cdFx0Ly8gQXV0b21hdGljYWxseSBsb2FkIGFuZCBzaG93IHBhZ2VzIGJhc2VkIG9uIGxvY2F0aW9uLmhhc2hcclxuXHRcdGhhc2hMaXN0ZW5pbmdFbmFibGVkOiB0cnVlLFxyXG5cclxuXHRcdC8vIGRpc2FibGUgdG8gcHJldmVudCBqcXVlcnkgZnJvbSBib3RoZXJpbmcgd2l0aCBsaW5rc1xyXG5cdFx0bGlua0JpbmRpbmdFbmFibGVkOiB0cnVlLFxyXG5cclxuXHRcdC8vIFNldCBkZWZhdWx0IHBhZ2UgdHJhbnNpdGlvbiAtICdub25lJyBmb3Igbm8gdHJhbnNpdGlvbnNcclxuXHRcdGRlZmF1bHRQYWdlVHJhbnNpdGlvbjogXCJmYWRlXCIsXHJcblxyXG5cdFx0Ly8gU2V0IG1heGltdW0gd2luZG93IHdpZHRoIGZvciB0cmFuc2l0aW9ucyB0byBhcHBseSAtICdmYWxzZScgZm9yIG5vIGxpbWl0XHJcblx0XHRtYXhUcmFuc2l0aW9uV2lkdGg6IGZhbHNlLFxyXG5cclxuXHRcdC8vIE1pbmltdW0gc2Nyb2xsIGRpc3RhbmNlIHRoYXQgd2lsbCBiZSByZW1lbWJlcmVkIHdoZW4gcmV0dXJuaW5nIHRvIGEgcGFnZVxyXG5cdFx0Ly8gRGVwcmVjYXRlZCByZW1vdmUgaW4gMS41XHJcblx0XHRtaW5TY3JvbGxCYWNrOiAwLFxyXG5cclxuXHRcdC8vIFNldCBkZWZhdWx0IGRpYWxvZyB0cmFuc2l0aW9uIC0gJ25vbmUnIGZvciBubyB0cmFuc2l0aW9uc1xyXG5cdFx0ZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246IFwicG9wXCIsXHJcblxyXG5cdFx0Ly8gRXJyb3IgcmVzcG9uc2UgbWVzc2FnZSAtIGFwcGVhcnMgd2hlbiBhbiBBamF4IHBhZ2UgcmVxdWVzdCBmYWlsc1xyXG5cdFx0cGFnZUxvYWRFcnJvck1lc3NhZ2U6IFwiRXJyb3IgTG9hZGluZyBQYWdlXCIsXHJcblxyXG5cdFx0Ly8gRm9yIGVycm9yIG1lc3NhZ2VzLCB3aGljaCB0aGVtZSBkb2VzIHRoZSBib3ggdXNlP1xyXG5cdFx0cGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZTogXCJhXCIsXHJcblxyXG5cdFx0Ly8gcmVwbGFjZSBjYWxscyB0byB3aW5kb3cuaGlzdG9yeS5iYWNrIHdpdGggcGhvbmVnYXBzIG5hdmlnYXRpb24gaGVscGVyXHJcblx0XHQvLyB3aGVyZSBpdCBpcyBwcm92aWRlZCBvbiB0aGUgd2luZG93IG9iamVjdFxyXG5cdFx0cGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZDogZmFsc2UsXHJcblxyXG5cdFx0Ly9hdXRvbWF0aWNhbGx5IGluaXRpYWxpemUgdGhlIERPTSB3aGVuIGl0J3MgcmVhZHlcclxuXHRcdGF1dG9Jbml0aWFsaXplUGFnZTogdHJ1ZSxcclxuXHJcblx0XHRwdXNoU3RhdGVFbmFibGVkOiB0cnVlLFxyXG5cclxuXHRcdC8vIGFsbG93cyB1c2VycyB0byBvcHQgaW4gdG8gaWdub3JpbmcgY29udGVudCBieSBtYXJraW5nIGEgcGFyZW50IGVsZW1lbnQgYXNcclxuXHRcdC8vIGRhdGEtaWdub3JlZFxyXG5cdFx0aWdub3JlQ29udGVudEVuYWJsZWQ6IGZhbHNlLFxyXG5cclxuXHRcdGJ1dHRvbk1hcmt1cDoge1xyXG5cdFx0XHRob3ZlckRlbGF5OiAyMDBcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gZGlzYWJsZSB0aGUgYWx0ZXJhdGlvbiBvZiB0aGUgZHluYW1pYyBiYXNlIHRhZyBvciBsaW5rcyBpbiB0aGUgY2FzZVxyXG5cdFx0Ly8gdGhhdCBhIGR5bmFtaWMgYmFzZSB0YWcgaXNuJ3Qgc3VwcG9ydGVkXHJcblx0XHRkeW5hbWljQmFzZUVuYWJsZWQ6IHRydWUsXHJcblxyXG5cdFx0Ly8gZGVmYXVsdCB0aGUgcHJvcGVydHkgdG8gcmVtb3ZlIGRlcGVuZGVuY3kgb24gYXNzaWdubWVudCBpbiBpbml0IG1vZHVsZVxyXG5cdFx0cGFnZUNvbnRhaW5lcjogJCgpLFxyXG5cclxuXHRcdC8vZW5hYmxlIGNyb3NzLWRvbWFpbiBwYWdlIHN1cHBvcnRcclxuXHRcdGFsbG93Q3Jvc3NEb21haW5QYWdlczogZmFsc2UsXHJcblxyXG5cdFx0ZGlhbG9nSGFzaEtleTogXCImdWktc3RhdGU9ZGlhbG9nXCJcclxuXHR9KTtcclxufSkoIGpRdWVyeSwgdGhpcyApO1xyXG5cclxuLyohXHJcbiAqIGpRdWVyeSBVSSBXaWRnZXQgYzBhYjcxMDU2YjkzNjYyN2U4YTc4MjFmMDNjMDQ0YWVjNjI4MGE0MFxyXG4gKiBodHRwOi8vanF1ZXJ5dWkuY29tXHJcbiAqXHJcbiAqIENvcHlyaWdodCAyMDEzIGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxyXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXHJcbiAqXHJcbiAqIGh0dHA6Ly9hcGkuanF1ZXJ5dWkuY29tL2pRdWVyeS53aWRnZXQvXHJcbiAqL1xyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcbnZhciB1dWlkID0gMCxcclxuXHRzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZSxcclxuXHRfY2xlYW5EYXRhID0gJC5jbGVhbkRhdGE7XHJcbiQuY2xlYW5EYXRhID0gZnVuY3Rpb24oIGVsZW1zICkge1xyXG5cdGZvciAoIHZhciBpID0gMCwgZWxlbTsgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0JCggZWxlbSApLnRyaWdnZXJIYW5kbGVyKCBcInJlbW92ZVwiICk7XHJcblx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC84MjM1XHJcblx0XHR9IGNhdGNoKCBlICkge31cclxuXHR9XHJcblx0X2NsZWFuRGF0YSggZWxlbXMgKTtcclxufTtcclxuXHJcbiQud2lkZ2V0ID0gZnVuY3Rpb24oIG5hbWUsIGJhc2UsIHByb3RvdHlwZSApIHtcclxuXHR2YXIgZnVsbE5hbWUsIGV4aXN0aW5nQ29uc3RydWN0b3IsIGNvbnN0cnVjdG9yLCBiYXNlUHJvdG90eXBlLFxyXG5cdFx0Ly8gcHJveGllZFByb3RvdHlwZSBhbGxvd3MgdGhlIHByb3ZpZGVkIHByb3RvdHlwZSB0byByZW1haW4gdW5tb2RpZmllZFxyXG5cdFx0Ly8gc28gdGhhdCBpdCBjYW4gYmUgdXNlZCBhcyBhIG1peGluIGZvciBtdWx0aXBsZSB3aWRnZXRzICgjODg3NilcclxuXHRcdHByb3hpZWRQcm90b3R5cGUgPSB7fSxcclxuXHRcdG5hbWVzcGFjZSA9IG5hbWUuc3BsaXQoIFwiLlwiIClbIDAgXTtcclxuXHJcblx0bmFtZSA9IG5hbWUuc3BsaXQoIFwiLlwiIClbIDEgXTtcclxuXHRmdWxsTmFtZSA9IG5hbWVzcGFjZSArIFwiLVwiICsgbmFtZTtcclxuXHJcblx0aWYgKCAhcHJvdG90eXBlICkge1xyXG5cdFx0cHJvdG90eXBlID0gYmFzZTtcclxuXHRcdGJhc2UgPSAkLldpZGdldDtcclxuXHR9XHJcblxyXG5cdC8vIGNyZWF0ZSBzZWxlY3RvciBmb3IgcGx1Z2luXHJcblx0JC5leHByWyBcIjpcIiBdWyBmdWxsTmFtZS50b0xvd2VyQ2FzZSgpIF0gPSBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdHJldHVybiAhISQuZGF0YSggZWxlbSwgZnVsbE5hbWUgKTtcclxuXHR9O1xyXG5cclxuXHQkWyBuYW1lc3BhY2UgXSA9ICRbIG5hbWVzcGFjZSBdIHx8IHt9O1xyXG5cdGV4aXN0aW5nQ29uc3RydWN0b3IgPSAkWyBuYW1lc3BhY2UgXVsgbmFtZSBdO1xyXG5cdGNvbnN0cnVjdG9yID0gJFsgbmFtZXNwYWNlIF1bIG5hbWUgXSA9IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkge1xyXG5cdFx0Ly8gYWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IFwibmV3XCIga2V5d29yZFxyXG5cdFx0aWYgKCAhdGhpcy5fY3JlYXRlV2lkZ2V0ICkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IGNvbnN0cnVjdG9yKCBvcHRpb25zLCBlbGVtZW50ICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gYWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IGluaXRpYWxpemluZyBmb3Igc2ltcGxlIGluaGVyaXRhbmNlXHJcblx0XHQvLyBtdXN0IHVzZSBcIm5ld1wiIGtleXdvcmQgKHRoZSBjb2RlIGFib3ZlIGFsd2F5cyBwYXNzZXMgYXJncylcclxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcclxuXHRcdFx0dGhpcy5fY3JlYXRlV2lkZ2V0KCBvcHRpb25zLCBlbGVtZW50ICk7XHJcblx0XHR9XHJcblx0fTtcclxuXHQvLyBleHRlbmQgd2l0aCB0aGUgZXhpc3RpbmcgY29uc3RydWN0b3IgdG8gY2Fycnkgb3ZlciBhbnkgc3RhdGljIHByb3BlcnRpZXNcclxuXHQkLmV4dGVuZCggY29uc3RydWN0b3IsIGV4aXN0aW5nQ29uc3RydWN0b3IsIHtcclxuXHRcdHZlcnNpb246IHByb3RvdHlwZS52ZXJzaW9uLFxyXG5cdFx0Ly8gY29weSB0aGUgb2JqZWN0IHVzZWQgdG8gY3JlYXRlIHRoZSBwcm90b3R5cGUgaW4gY2FzZSB3ZSBuZWVkIHRvXHJcblx0XHQvLyByZWRlZmluZSB0aGUgd2lkZ2V0IGxhdGVyXHJcblx0XHRfcHJvdG86ICQuZXh0ZW5kKCB7fSwgcHJvdG90eXBlICksXHJcblx0XHQvLyB0cmFjayB3aWRnZXRzIHRoYXQgaW5oZXJpdCBmcm9tIHRoaXMgd2lkZ2V0IGluIGNhc2UgdGhpcyB3aWRnZXQgaXNcclxuXHRcdC8vIHJlZGVmaW5lZCBhZnRlciBhIHdpZGdldCBpbmhlcml0cyBmcm9tIGl0XHJcblx0XHRfY2hpbGRDb25zdHJ1Y3RvcnM6IFtdXHJcblx0fSk7XHJcblxyXG5cdGJhc2VQcm90b3R5cGUgPSBuZXcgYmFzZSgpO1xyXG5cdC8vIHdlIG5lZWQgdG8gbWFrZSB0aGUgb3B0aW9ucyBoYXNoIGEgcHJvcGVydHkgZGlyZWN0bHkgb24gdGhlIG5ldyBpbnN0YW5jZVxyXG5cdC8vIG90aGVyd2lzZSB3ZSdsbCBtb2RpZnkgdGhlIG9wdGlvbnMgaGFzaCBvbiB0aGUgcHJvdG90eXBlIHRoYXQgd2UncmVcclxuXHQvLyBpbmhlcml0aW5nIGZyb21cclxuXHRiYXNlUHJvdG90eXBlLm9wdGlvbnMgPSAkLndpZGdldC5leHRlbmQoIHt9LCBiYXNlUHJvdG90eXBlLm9wdGlvbnMgKTtcclxuXHQkLmVhY2goIHByb3RvdHlwZSwgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xyXG5cdFx0aWYgKCAhJC5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xyXG5cdFx0XHRwcm94aWVkUHJvdG90eXBlWyBwcm9wIF0gPSB2YWx1ZTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0cHJveGllZFByb3RvdHlwZVsgcHJvcCBdID0gKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgX3N1cGVyID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gYmFzZS5wcm90b3R5cGVbIHByb3AgXS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRfc3VwZXJBcHBseSA9IGZ1bmN0aW9uKCBhcmdzICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGJhc2UucHJvdG90eXBlWyBwcm9wIF0uYXBwbHkoIHRoaXMsIGFyZ3MgKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyIF9fc3VwZXIgPSB0aGlzLl9zdXBlcixcclxuXHRcdFx0XHRcdF9fc3VwZXJBcHBseSA9IHRoaXMuX3N1cGVyQXBwbHksXHJcblx0XHRcdFx0XHRyZXR1cm5WYWx1ZTtcclxuXHJcblx0XHRcdFx0dGhpcy5fc3VwZXIgPSBfc3VwZXI7XHJcblx0XHRcdFx0dGhpcy5fc3VwZXJBcHBseSA9IF9zdXBlckFwcGx5O1xyXG5cclxuXHRcdFx0XHRyZXR1cm5WYWx1ZSA9IHZhbHVlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcclxuXHJcblx0XHRcdFx0dGhpcy5fc3VwZXIgPSBfX3N1cGVyO1xyXG5cdFx0XHRcdHRoaXMuX3N1cGVyQXBwbHkgPSBfX3N1cGVyQXBwbHk7XHJcblxyXG5cdFx0XHRcdHJldHVybiByZXR1cm5WYWx1ZTtcclxuXHRcdFx0fTtcclxuXHRcdH0pKCk7XHJcblx0fSk7XHJcblx0Y29uc3RydWN0b3IucHJvdG90eXBlID0gJC53aWRnZXQuZXh0ZW5kKCBiYXNlUHJvdG90eXBlLCB7XHJcblx0XHQvLyBUT0RPOiByZW1vdmUgc3VwcG9ydCBmb3Igd2lkZ2V0RXZlbnRQcmVmaXhcclxuXHRcdC8vIGFsd2F5cyB1c2UgdGhlIG5hbWUgKyBhIGNvbG9uIGFzIHRoZSBwcmVmaXgsIGUuZy4sIGRyYWdnYWJsZTpzdGFydFxyXG5cdFx0Ly8gZG9uJ3QgcHJlZml4IGZvciB3aWRnZXRzIHRoYXQgYXJlbid0IERPTS1iYXNlZFxyXG5cdFx0d2lkZ2V0RXZlbnRQcmVmaXg6IGV4aXN0aW5nQ29uc3RydWN0b3IgPyAoYmFzZVByb3RvdHlwZS53aWRnZXRFdmVudFByZWZpeCB8fCBuYW1lKSA6IG5hbWVcclxuXHR9LCBwcm94aWVkUHJvdG90eXBlLCB7XHJcblx0XHRjb25zdHJ1Y3RvcjogY29uc3RydWN0b3IsXHJcblx0XHRuYW1lc3BhY2U6IG5hbWVzcGFjZSxcclxuXHRcdHdpZGdldE5hbWU6IG5hbWUsXHJcblx0XHR3aWRnZXRGdWxsTmFtZTogZnVsbE5hbWVcclxuXHR9KTtcclxuXHJcblx0Ly8gSWYgdGhpcyB3aWRnZXQgaXMgYmVpbmcgcmVkZWZpbmVkIHRoZW4gd2UgbmVlZCB0byBmaW5kIGFsbCB3aWRnZXRzIHRoYXRcclxuXHQvLyBhcmUgaW5oZXJpdGluZyBmcm9tIGl0IGFuZCByZWRlZmluZSBhbGwgb2YgdGhlbSBzbyB0aGF0IHRoZXkgaW5oZXJpdCBmcm9tXHJcblx0Ly8gdGhlIG5ldyB2ZXJzaW9uIG9mIHRoaXMgd2lkZ2V0LiBXZSdyZSBlc3NlbnRpYWxseSB0cnlpbmcgdG8gcmVwbGFjZSBvbmVcclxuXHQvLyBsZXZlbCBpbiB0aGUgcHJvdG90eXBlIGNoYWluLlxyXG5cdGlmICggZXhpc3RpbmdDb25zdHJ1Y3RvciApIHtcclxuXHRcdCQuZWFjaCggZXhpc3RpbmdDb25zdHJ1Y3Rvci5fY2hpbGRDb25zdHJ1Y3RvcnMsIGZ1bmN0aW9uKCBpLCBjaGlsZCApIHtcclxuXHRcdFx0dmFyIGNoaWxkUHJvdG90eXBlID0gY2hpbGQucHJvdG90eXBlO1xyXG5cclxuXHRcdFx0Ly8gcmVkZWZpbmUgdGhlIGNoaWxkIHdpZGdldCB1c2luZyB0aGUgc2FtZSBwcm90b3R5cGUgdGhhdCB3YXNcclxuXHRcdFx0Ly8gb3JpZ2luYWxseSB1c2VkLCBidXQgaW5oZXJpdCBmcm9tIHRoZSBuZXcgdmVyc2lvbiBvZiB0aGUgYmFzZVxyXG5cdFx0XHQkLndpZGdldCggY2hpbGRQcm90b3R5cGUubmFtZXNwYWNlICsgXCIuXCIgKyBjaGlsZFByb3RvdHlwZS53aWRnZXROYW1lLCBjb25zdHJ1Y3RvciwgY2hpbGQuX3Byb3RvICk7XHJcblx0XHR9KTtcclxuXHRcdC8vIHJlbW92ZSB0aGUgbGlzdCBvZiBleGlzdGluZyBjaGlsZCBjb25zdHJ1Y3RvcnMgZnJvbSB0aGUgb2xkIGNvbnN0cnVjdG9yXHJcblx0XHQvLyBzbyB0aGUgb2xkIGNoaWxkIGNvbnN0cnVjdG9ycyBjYW4gYmUgZ2FyYmFnZSBjb2xsZWN0ZWRcclxuXHRcdGRlbGV0ZSBleGlzdGluZ0NvbnN0cnVjdG9yLl9jaGlsZENvbnN0cnVjdG9ycztcclxuXHR9IGVsc2Uge1xyXG5cdFx0YmFzZS5fY2hpbGRDb25zdHJ1Y3RvcnMucHVzaCggY29uc3RydWN0b3IgKTtcclxuXHR9XHJcblxyXG5cdCQud2lkZ2V0LmJyaWRnZSggbmFtZSwgY29uc3RydWN0b3IgKTtcclxuXHJcblx0cmV0dXJuIGNvbnN0cnVjdG9yO1xyXG59O1xyXG5cclxuJC53aWRnZXQuZXh0ZW5kID0gZnVuY3Rpb24oIHRhcmdldCApIHtcclxuXHR2YXIgaW5wdXQgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDEgKSxcclxuXHRcdGlucHV0SW5kZXggPSAwLFxyXG5cdFx0aW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXHJcblx0XHRrZXksXHJcblx0XHR2YWx1ZTtcclxuXHRmb3IgKCA7IGlucHV0SW5kZXggPCBpbnB1dExlbmd0aDsgaW5wdXRJbmRleCsrICkge1xyXG5cdFx0Zm9yICgga2V5IGluIGlucHV0WyBpbnB1dEluZGV4IF0gKSB7XHJcblx0XHRcdHZhbHVlID0gaW5wdXRbIGlucHV0SW5kZXggXVsga2V5IF07XHJcblx0XHRcdGlmICggaW5wdXRbIGlucHV0SW5kZXggXS5oYXNPd25Qcm9wZXJ0eSgga2V5ICkgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHQvLyBDbG9uZSBvYmplY3RzXHJcblx0XHRcdFx0aWYgKCAkLmlzUGxhaW5PYmplY3QoIHZhbHVlICkgKSB7XHJcblx0XHRcdFx0XHR0YXJnZXRbIGtleSBdID0gJC5pc1BsYWluT2JqZWN0KCB0YXJnZXRbIGtleSBdICkgP1xyXG5cdFx0XHRcdFx0XHQkLndpZGdldC5leHRlbmQoIHt9LCB0YXJnZXRbIGtleSBdLCB2YWx1ZSApIDpcclxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgZXh0ZW5kIHN0cmluZ3MsIGFycmF5cywgZXRjLiB3aXRoIG9iamVjdHNcclxuXHRcdFx0XHRcdFx0JC53aWRnZXQuZXh0ZW5kKCB7fSwgdmFsdWUgKTtcclxuXHRcdFx0XHQvLyBDb3B5IGV2ZXJ5dGhpbmcgZWxzZSBieSByZWZlcmVuY2VcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGFyZ2V0WyBrZXkgXSA9IHZhbHVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gdGFyZ2V0O1xyXG59O1xyXG5cclxuJC53aWRnZXQuYnJpZGdlID0gZnVuY3Rpb24oIG5hbWUsIG9iamVjdCApIHtcclxuXHR2YXIgZnVsbE5hbWUgPSBvYmplY3QucHJvdG90eXBlLndpZGdldEZ1bGxOYW1lIHx8IG5hbWU7XHJcblx0JC5mblsgbmFtZSBdID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XHJcblx0XHR2YXIgaXNNZXRob2RDYWxsID0gdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIsXHJcblx0XHRcdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDEgKSxcclxuXHRcdFx0cmV0dXJuVmFsdWUgPSB0aGlzO1xyXG5cclxuXHRcdC8vIGFsbG93IG11bHRpcGxlIGhhc2hlcyB0byBiZSBwYXNzZWQgb24gaW5pdFxyXG5cdFx0b3B0aW9ucyA9ICFpc01ldGhvZENhbGwgJiYgYXJncy5sZW5ndGggP1xyXG5cdFx0XHQkLndpZGdldC5leHRlbmQuYXBwbHkoIG51bGwsIFsgb3B0aW9ucyBdLmNvbmNhdChhcmdzKSApIDpcclxuXHRcdFx0b3B0aW9ucztcclxuXHJcblx0XHRpZiAoIGlzTWV0aG9kQ2FsbCApIHtcclxuXHRcdFx0dGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciBtZXRob2RWYWx1ZSxcclxuXHRcdFx0XHRcdGluc3RhbmNlID0gJC5kYXRhKCB0aGlzLCBmdWxsTmFtZSApO1xyXG5cdFx0XHRcdGlmICggb3B0aW9ucyA9PT0gXCJpbnN0YW5jZVwiICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuVmFsdWUgPSBpbnN0YW5jZTtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCAhaW5zdGFuY2UgKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJC5lcnJvciggXCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uIFwiICsgbmFtZSArIFwiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBcIiArXHJcblx0XHRcdFx0XHRcdFwiYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICdcIiArIG9wdGlvbnMgKyBcIidcIiApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoICEkLmlzRnVuY3Rpb24oIGluc3RhbmNlW29wdGlvbnNdICkgfHwgb3B0aW9ucy5jaGFyQXQoIDAgKSA9PT0gXCJfXCIgKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJC5lcnJvciggXCJubyBzdWNoIG1ldGhvZCAnXCIgKyBvcHRpb25zICsgXCInIGZvciBcIiArIG5hbWUgKyBcIiB3aWRnZXQgaW5zdGFuY2VcIiApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRtZXRob2RWYWx1ZSA9IGluc3RhbmNlWyBvcHRpb25zIF0uYXBwbHkoIGluc3RhbmNlLCBhcmdzICk7XHJcblx0XHRcdFx0aWYgKCBtZXRob2RWYWx1ZSAhPT0gaW5zdGFuY2UgJiYgbWV0aG9kVmFsdWUgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHRcdHJldHVyblZhbHVlID0gbWV0aG9kVmFsdWUgJiYgbWV0aG9kVmFsdWUuanF1ZXJ5ID9cclxuXHRcdFx0XHRcdFx0cmV0dXJuVmFsdWUucHVzaFN0YWNrKCBtZXRob2RWYWx1ZS5nZXQoKSApIDpcclxuXHRcdFx0XHRcdFx0bWV0aG9kVmFsdWU7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgaW5zdGFuY2UgPSAkLmRhdGEoIHRoaXMsIGZ1bGxOYW1lICk7XHJcblx0XHRcdFx0aWYgKCBpbnN0YW5jZSApIHtcclxuXHRcdFx0XHRcdGluc3RhbmNlLm9wdGlvbiggb3B0aW9ucyB8fCB7fSApLl9pbml0KCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdCQuZGF0YSggdGhpcywgZnVsbE5hbWUsIG5ldyBvYmplY3QoIG9wdGlvbnMsIHRoaXMgKSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJldHVyblZhbHVlO1xyXG5cdH07XHJcbn07XHJcblxyXG4kLldpZGdldCA9IGZ1bmN0aW9uKCAvKiBvcHRpb25zLCBlbGVtZW50ICovICkge307XHJcbiQuV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycyA9IFtdO1xyXG5cclxuJC5XaWRnZXQucHJvdG90eXBlID0ge1xyXG5cdHdpZGdldE5hbWU6IFwid2lkZ2V0XCIsXHJcblx0d2lkZ2V0RXZlbnRQcmVmaXg6IFwiXCIsXHJcblx0ZGVmYXVsdEVsZW1lbnQ6IFwiPGRpdj5cIixcclxuXHRvcHRpb25zOiB7XHJcblx0XHRkaXNhYmxlZDogZmFsc2UsXHJcblxyXG5cdFx0Ly8gY2FsbGJhY2tzXHJcblx0XHRjcmVhdGU6IG51bGxcclxuXHR9LFxyXG5cdF9jcmVhdGVXaWRnZXQ6IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkge1xyXG5cdFx0ZWxlbWVudCA9ICQoIGVsZW1lbnQgfHwgdGhpcy5kZWZhdWx0RWxlbWVudCB8fCB0aGlzIClbIDAgXTtcclxuXHRcdHRoaXMuZWxlbWVudCA9ICQoIGVsZW1lbnQgKTtcclxuXHRcdHRoaXMudXVpZCA9IHV1aWQrKztcclxuXHRcdHRoaXMuZXZlbnROYW1lc3BhY2UgPSBcIi5cIiArIHRoaXMud2lkZ2V0TmFtZSArIHRoaXMudXVpZDtcclxuXHRcdHRoaXMub3B0aW9ucyA9ICQud2lkZ2V0LmV4dGVuZCgge30sXHJcblx0XHRcdHRoaXMub3B0aW9ucyxcclxuXHRcdFx0dGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLFxyXG5cdFx0XHRvcHRpb25zICk7XHJcblxyXG5cdFx0dGhpcy5iaW5kaW5ncyA9ICQoKTtcclxuXHRcdHRoaXMuaG92ZXJhYmxlID0gJCgpO1xyXG5cdFx0dGhpcy5mb2N1c2FibGUgPSAkKCk7XHJcblxyXG5cdFx0aWYgKCBlbGVtZW50ICE9PSB0aGlzICkge1xyXG5cdFx0XHQkLmRhdGEoIGVsZW1lbnQsIHRoaXMud2lkZ2V0RnVsbE5hbWUsIHRoaXMgKTtcclxuXHRcdFx0dGhpcy5fb24oIHRydWUsIHRoaXMuZWxlbWVudCwge1xyXG5cdFx0XHRcdHJlbW92ZTogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0XHRcdFx0aWYgKCBldmVudC50YXJnZXQgPT09IGVsZW1lbnQgKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGVzdHJveSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdHRoaXMuZG9jdW1lbnQgPSAkKCBlbGVtZW50LnN0eWxlID9cclxuXHRcdFx0XHQvLyBlbGVtZW50IHdpdGhpbiB0aGUgZG9jdW1lbnRcclxuXHRcdFx0XHRlbGVtZW50Lm93bmVyRG9jdW1lbnQgOlxyXG5cdFx0XHRcdC8vIGVsZW1lbnQgaXMgd2luZG93IG9yIGRvY3VtZW50XHJcblx0XHRcdFx0ZWxlbWVudC5kb2N1bWVudCB8fCBlbGVtZW50ICk7XHJcblx0XHRcdHRoaXMud2luZG93ID0gJCggdGhpcy5kb2N1bWVudFswXS5kZWZhdWx0VmlldyB8fCB0aGlzLmRvY3VtZW50WzBdLnBhcmVudFdpbmRvdyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2NyZWF0ZSgpO1xyXG5cdFx0dGhpcy5fdHJpZ2dlciggXCJjcmVhdGVcIiwgbnVsbCwgdGhpcy5fZ2V0Q3JlYXRlRXZlbnREYXRhKCkgKTtcclxuXHRcdHRoaXMuX2luaXQoKTtcclxuXHR9LFxyXG5cdF9nZXRDcmVhdGVPcHRpb25zOiAkLm5vb3AsXHJcblx0X2dldENyZWF0ZUV2ZW50RGF0YTogJC5ub29wLFxyXG5cdF9jcmVhdGU6ICQubm9vcCxcclxuXHRfaW5pdDogJC5ub29wLFxyXG5cclxuXHRkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuX2Rlc3Ryb3koKTtcclxuXHRcdC8vIHdlIGNhbiBwcm9iYWJseSByZW1vdmUgdGhlIHVuYmluZCBjYWxscyBpbiAyLjBcclxuXHRcdC8vIGFsbCBldmVudCBiaW5kaW5ncyBzaG91bGQgZ28gdGhyb3VnaCB0aGlzLl9vbigpXHJcblx0XHR0aGlzLmVsZW1lbnRcclxuXHRcdFx0LnVuYmluZCggdGhpcy5ldmVudE5hbWVzcGFjZSApXHJcblx0XHRcdC5yZW1vdmVEYXRhKCB0aGlzLndpZGdldEZ1bGxOYW1lIClcclxuXHRcdFx0Ly8gc3VwcG9ydDoganF1ZXJ5IDwxLjYuM1xyXG5cdFx0XHQvLyBodHRwOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC85NDEzXHJcblx0XHRcdC5yZW1vdmVEYXRhKCAkLmNhbWVsQ2FzZSggdGhpcy53aWRnZXRGdWxsTmFtZSApICk7XHJcblx0XHR0aGlzLndpZGdldCgpXHJcblx0XHRcdC51bmJpbmQoIHRoaXMuZXZlbnROYW1lc3BhY2UgKVxyXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWRpc2FibGVkXCIgKVxyXG5cdFx0XHQucmVtb3ZlQ2xhc3MoXHJcblx0XHRcdFx0dGhpcy53aWRnZXRGdWxsTmFtZSArIFwiLWRpc2FibGVkIFwiICtcclxuXHRcdFx0XHRcInVpLXN0YXRlLWRpc2FibGVkXCIgKTtcclxuXHJcblx0XHQvLyBjbGVhbiB1cCBldmVudHMgYW5kIHN0YXRlc1xyXG5cdFx0dGhpcy5iaW5kaW5ncy51bmJpbmQoIHRoaXMuZXZlbnROYW1lc3BhY2UgKTtcclxuXHRcdHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWhvdmVyXCIgKTtcclxuXHRcdHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcclxuXHR9LFxyXG5cdF9kZXN0cm95OiAkLm5vb3AsXHJcblxyXG5cdHdpZGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5lbGVtZW50O1xyXG5cdH0sXHJcblxyXG5cdG9wdGlvbjogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XHJcblx0XHR2YXIgb3B0aW9ucyA9IGtleSxcclxuXHRcdFx0cGFydHMsXHJcblx0XHRcdGN1ck9wdGlvbixcclxuXHRcdFx0aTtcclxuXHJcblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDAgKSB7XHJcblx0XHRcdC8vIGRvbid0IHJldHVybiBhIHJlZmVyZW5jZSB0byB0aGUgaW50ZXJuYWwgaGFzaFxyXG5cdFx0XHRyZXR1cm4gJC53aWRnZXQuZXh0ZW5kKCB7fSwgdGhpcy5vcHRpb25zICk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICkge1xyXG5cdFx0XHQvLyBoYW5kbGUgbmVzdGVkIGtleXMsIGUuZy4sIFwiZm9vLmJhclwiID0+IHsgZm9vOiB7IGJhcjogX19fIH0gfVxyXG5cdFx0XHRvcHRpb25zID0ge307XHJcblx0XHRcdHBhcnRzID0ga2V5LnNwbGl0KCBcIi5cIiApO1xyXG5cdFx0XHRrZXkgPSBwYXJ0cy5zaGlmdCgpO1xyXG5cdFx0XHRpZiAoIHBhcnRzLmxlbmd0aCApIHtcclxuXHRcdFx0XHRjdXJPcHRpb24gPSBvcHRpb25zWyBrZXkgXSA9ICQud2lkZ2V0LmV4dGVuZCgge30sIHRoaXMub3B0aW9uc1sga2V5IF0gKTtcclxuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aCAtIDE7IGkrKyApIHtcclxuXHRcdFx0XHRcdGN1ck9wdGlvblsgcGFydHNbIGkgXSBdID0gY3VyT3B0aW9uWyBwYXJ0c1sgaSBdIF0gfHwge307XHJcblx0XHRcdFx0XHRjdXJPcHRpb24gPSBjdXJPcHRpb25bIHBhcnRzWyBpIF0gXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0a2V5ID0gcGFydHMucG9wKCk7XHJcblx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGN1ck9wdGlvblsga2V5IF0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjdXJPcHRpb25bIGtleSBdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjdXJPcHRpb25bIGtleSBdID0gdmFsdWU7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uc1sga2V5IF0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiB0aGlzLm9wdGlvbnNbIGtleSBdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRvcHRpb25zWyBrZXkgXSA9IHZhbHVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fc2V0T3B0aW9ucyggb3B0aW9ucyApO1xyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblx0X3NldE9wdGlvbnM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xyXG5cdFx0dmFyIGtleTtcclxuXHJcblx0XHRmb3IgKCBrZXkgaW4gb3B0aW9ucyApIHtcclxuXHRcdFx0dGhpcy5fc2V0T3B0aW9uKCBrZXksIG9wdGlvbnNbIGtleSBdICk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcclxuXHRcdHRoaXMub3B0aW9uc1sga2V5IF0gPSB2YWx1ZTtcclxuXHJcblx0XHRpZiAoIGtleSA9PT0gXCJkaXNhYmxlZFwiICkge1xyXG5cdFx0XHR0aGlzLndpZGdldCgpXHJcblx0XHRcdFx0LnRvZ2dsZUNsYXNzKCB0aGlzLndpZGdldEZ1bGxOYW1lICsgXCItZGlzYWJsZWRcIiwgISF2YWx1ZSApO1xyXG5cdFx0XHR0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1ob3ZlclwiICk7XHJcblx0XHRcdHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRlbmFibGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoeyBkaXNhYmxlZDogZmFsc2UgfSk7XHJcblx0fSxcclxuXHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB0aGlzLl9zZXRPcHRpb25zKHsgZGlzYWJsZWQ6IHRydWUgfSk7XHJcblx0fSxcclxuXHJcblx0X29uOiBmdW5jdGlvbiggc3VwcHJlc3NEaXNhYmxlZENoZWNrLCBlbGVtZW50LCBoYW5kbGVycyApIHtcclxuXHRcdHZhciBkZWxlZ2F0ZUVsZW1lbnQsXHJcblx0XHRcdGluc3RhbmNlID0gdGhpcztcclxuXHJcblx0XHQvLyBubyBzdXBwcmVzc0Rpc2FibGVkQ2hlY2sgZmxhZywgc2h1ZmZsZSBhcmd1bWVudHNcclxuXHRcdGlmICggdHlwZW9mIHN1cHByZXNzRGlzYWJsZWRDaGVjayAhPT0gXCJib29sZWFuXCIgKSB7XHJcblx0XHRcdGhhbmRsZXJzID0gZWxlbWVudDtcclxuXHRcdFx0ZWxlbWVudCA9IHN1cHByZXNzRGlzYWJsZWRDaGVjaztcclxuXHRcdFx0c3VwcHJlc3NEaXNhYmxlZENoZWNrID0gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gbm8gZWxlbWVudCBhcmd1bWVudCwgc2h1ZmZsZSBhbmQgdXNlIHRoaXMuZWxlbWVudFxyXG5cdFx0aWYgKCAhaGFuZGxlcnMgKSB7XHJcblx0XHRcdGhhbmRsZXJzID0gZWxlbWVudDtcclxuXHRcdFx0ZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcclxuXHRcdFx0ZGVsZWdhdGVFbGVtZW50ID0gdGhpcy53aWRnZXQoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIGFjY2VwdCBzZWxlY3RvcnMsIERPTSBlbGVtZW50c1xyXG5cdFx0XHRlbGVtZW50ID0gZGVsZWdhdGVFbGVtZW50ID0gJCggZWxlbWVudCApO1xyXG5cdFx0XHR0aGlzLmJpbmRpbmdzID0gdGhpcy5iaW5kaW5ncy5hZGQoIGVsZW1lbnQgKTtcclxuXHRcdH1cclxuXHJcblx0XHQkLmVhY2goIGhhbmRsZXJzLCBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXIgKSB7XHJcblx0XHRcdGZ1bmN0aW9uIGhhbmRsZXJQcm94eSgpIHtcclxuXHRcdFx0XHQvLyBhbGxvdyB3aWRnZXRzIHRvIGN1c3RvbWl6ZSB0aGUgZGlzYWJsZWQgaGFuZGxpbmdcclxuXHRcdFx0XHQvLyAtIGRpc2FibGVkIGFzIGFuIGFycmF5IGluc3RlYWQgb2YgYm9vbGVhblxyXG5cdFx0XHRcdC8vIC0gZGlzYWJsZWQgY2xhc3MgYXMgbWV0aG9kIGZvciBkaXNhYmxpbmcgaW5kaXZpZHVhbCBwYXJ0c1xyXG5cdFx0XHRcdGlmICggIXN1cHByZXNzRGlzYWJsZWRDaGVjayAmJlxyXG5cdFx0XHRcdFx0XHQoIGluc3RhbmNlLm9wdGlvbnMuZGlzYWJsZWQgPT09IHRydWUgfHxcclxuXHRcdFx0XHRcdFx0XHQkKCB0aGlzICkuaGFzQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiApICkgKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiAoIHR5cGVvZiBoYW5kbGVyID09PSBcInN0cmluZ1wiID8gaW5zdGFuY2VbIGhhbmRsZXIgXSA6IGhhbmRsZXIgKVxyXG5cdFx0XHRcdFx0LmFwcGx5KCBpbnN0YW5jZSwgYXJndW1lbnRzICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGNvcHkgdGhlIGd1aWQgc28gZGlyZWN0IHVuYmluZGluZyB3b3Jrc1xyXG5cdFx0XHRpZiAoIHR5cGVvZiBoYW5kbGVyICE9PSBcInN0cmluZ1wiICkge1xyXG5cdFx0XHRcdGhhbmRsZXJQcm94eS5ndWlkID0gaGFuZGxlci5ndWlkID1cclxuXHRcdFx0XHRcdGhhbmRsZXIuZ3VpZCB8fCBoYW5kbGVyUHJveHkuZ3VpZCB8fCAkLmd1aWQrKztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIG1hdGNoID0gZXZlbnQubWF0Y2goIC9eKFxcdyspXFxzKiguKikkLyApLFxyXG5cdFx0XHRcdGV2ZW50TmFtZSA9IG1hdGNoWzFdICsgaW5zdGFuY2UuZXZlbnROYW1lc3BhY2UsXHJcblx0XHRcdFx0c2VsZWN0b3IgPSBtYXRjaFsyXTtcclxuXHRcdFx0aWYgKCBzZWxlY3RvciApIHtcclxuXHRcdFx0XHRkZWxlZ2F0ZUVsZW1lbnQuZGVsZWdhdGUoIHNlbGVjdG9yLCBldmVudE5hbWUsIGhhbmRsZXJQcm94eSApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGVsZW1lbnQuYmluZCggZXZlbnROYW1lLCBoYW5kbGVyUHJveHkgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSxcclxuXHJcblx0X29mZjogZnVuY3Rpb24oIGVsZW1lbnQsIGV2ZW50TmFtZSApIHtcclxuXHRcdGV2ZW50TmFtZSA9IChldmVudE5hbWUgfHwgXCJcIikuc3BsaXQoIFwiIFwiICkuam9pbiggdGhpcy5ldmVudE5hbWVzcGFjZSArIFwiIFwiICkgKyB0aGlzLmV2ZW50TmFtZXNwYWNlO1xyXG5cdFx0ZWxlbWVudC51bmJpbmQoIGV2ZW50TmFtZSApLnVuZGVsZWdhdGUoIGV2ZW50TmFtZSApO1xyXG5cdH0sXHJcblxyXG5cdF9kZWxheTogZnVuY3Rpb24oIGhhbmRsZXIsIGRlbGF5ICkge1xyXG5cdFx0ZnVuY3Rpb24gaGFuZGxlclByb3h5KCkge1xyXG5cdFx0XHRyZXR1cm4gKCB0eXBlb2YgaGFuZGxlciA9PT0gXCJzdHJpbmdcIiA/IGluc3RhbmNlWyBoYW5kbGVyIF0gOiBoYW5kbGVyIClcclxuXHRcdFx0XHQuYXBwbHkoIGluc3RhbmNlLCBhcmd1bWVudHMgKTtcclxuXHRcdH1cclxuXHRcdHZhciBpbnN0YW5jZSA9IHRoaXM7XHJcblx0XHRyZXR1cm4gc2V0VGltZW91dCggaGFuZGxlclByb3h5LCBkZWxheSB8fCAwICk7XHJcblx0fSxcclxuXHJcblx0X2hvdmVyYWJsZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XHJcblx0XHR0aGlzLmhvdmVyYWJsZSA9IHRoaXMuaG92ZXJhYmxlLmFkZCggZWxlbWVudCApO1xyXG5cdFx0dGhpcy5fb24oIGVsZW1lbnQsIHtcclxuXHRcdFx0bW91c2VlbnRlcjogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0XHRcdCQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKS5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1ob3ZlclwiICk7XHJcblx0XHRcdH0sXHJcblx0XHRcdG1vdXNlbGVhdmU6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdFx0XHQkKCBldmVudC5jdXJyZW50VGFyZ2V0ICkucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtaG92ZXJcIiApO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRfZm9jdXNhYmxlOiBmdW5jdGlvbiggZWxlbWVudCApIHtcclxuXHRcdHRoaXMuZm9jdXNhYmxlID0gdGhpcy5mb2N1c2FibGUuYWRkKCBlbGVtZW50ICk7XHJcblx0XHR0aGlzLl9vbiggZWxlbWVudCwge1xyXG5cdFx0XHRmb2N1c2luOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHRcdFx0JCggZXZlbnQuY3VycmVudFRhcmdldCApLmFkZENsYXNzKCBcInVpLXN0YXRlLWZvY3VzXCIgKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0Zm9jdXNvdXQ6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdFx0XHQkKCBldmVudC5jdXJyZW50VGFyZ2V0ICkucmVtb3ZlQ2xhc3MoIFwidWktc3RhdGUtZm9jdXNcIiApO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRfdHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGV2ZW50LCBkYXRhICkge1xyXG5cdFx0dmFyIHByb3AsIG9yaWcsXHJcblx0XHRcdGNhbGxiYWNrID0gdGhpcy5vcHRpb25zWyB0eXBlIF07XHJcblxyXG5cdFx0ZGF0YSA9IGRhdGEgfHwge307XHJcblx0XHRldmVudCA9ICQuRXZlbnQoIGV2ZW50ICk7XHJcblx0XHRldmVudC50eXBlID0gKCB0eXBlID09PSB0aGlzLndpZGdldEV2ZW50UHJlZml4ID9cclxuXHRcdFx0dHlwZSA6XHJcblx0XHRcdHRoaXMud2lkZ2V0RXZlbnRQcmVmaXggKyB0eXBlICkudG9Mb3dlckNhc2UoKTtcclxuXHRcdC8vIHRoZSBvcmlnaW5hbCBldmVudCBtYXkgY29tZSBmcm9tIGFueSBlbGVtZW50XHJcblx0XHQvLyBzbyB3ZSBuZWVkIHRvIHJlc2V0IHRoZSB0YXJnZXQgb24gdGhlIG5ldyBldmVudFxyXG5cdFx0ZXZlbnQudGFyZ2V0ID0gdGhpcy5lbGVtZW50WyAwIF07XHJcblxyXG5cdFx0Ly8gY29weSBvcmlnaW5hbCBldmVudCBwcm9wZXJ0aWVzIG92ZXIgdG8gdGhlIG5ldyBldmVudFxyXG5cdFx0b3JpZyA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcblx0XHRpZiAoIG9yaWcgKSB7XHJcblx0XHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcclxuXHRcdFx0XHRpZiAoICEoIHByb3AgaW4gZXZlbnQgKSApIHtcclxuXHRcdFx0XHRcdGV2ZW50WyBwcm9wIF0gPSBvcmlnWyBwcm9wIF07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5lbGVtZW50LnRyaWdnZXIoIGV2ZW50LCBkYXRhICk7XHJcblx0XHRyZXR1cm4gISggJC5pc0Z1bmN0aW9uKCBjYWxsYmFjayApICYmXHJcblx0XHRcdGNhbGxiYWNrLmFwcGx5KCB0aGlzLmVsZW1lbnRbMF0sIFsgZXZlbnQgXS5jb25jYXQoIGRhdGEgKSApID09PSBmYWxzZSB8fFxyXG5cdFx0XHRldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApO1xyXG5cdH1cclxufTtcclxuXHJcbiQuZWFjaCggeyBzaG93OiBcImZhZGVJblwiLCBoaWRlOiBcImZhZGVPdXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBkZWZhdWx0RWZmZWN0ICkge1xyXG5cdCQuV2lkZ2V0LnByb3RvdHlwZVsgXCJfXCIgKyBtZXRob2QgXSA9IGZ1bmN0aW9uKCBlbGVtZW50LCBvcHRpb25zLCBjYWxsYmFjayApIHtcclxuXHRcdGlmICggdHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIgKSB7XHJcblx0XHRcdG9wdGlvbnMgPSB7IGVmZmVjdDogb3B0aW9ucyB9O1xyXG5cdFx0fVxyXG5cdFx0dmFyIGhhc09wdGlvbnMsXHJcblx0XHRcdGVmZmVjdE5hbWUgPSAhb3B0aW9ucyA/XHJcblx0XHRcdFx0bWV0aG9kIDpcclxuXHRcdFx0XHRvcHRpb25zID09PSB0cnVlIHx8IHR5cGVvZiBvcHRpb25zID09PSBcIm51bWJlclwiID9cclxuXHRcdFx0XHRcdGRlZmF1bHRFZmZlY3QgOlxyXG5cdFx0XHRcdFx0b3B0aW9ucy5lZmZlY3QgfHwgZGVmYXVsdEVmZmVjdDtcclxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdFx0aWYgKCB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJudW1iZXJcIiApIHtcclxuXHRcdFx0b3B0aW9ucyA9IHsgZHVyYXRpb246IG9wdGlvbnMgfTtcclxuXHRcdH1cclxuXHRcdGhhc09wdGlvbnMgPSAhJC5pc0VtcHR5T2JqZWN0KCBvcHRpb25zICk7XHJcblx0XHRvcHRpb25zLmNvbXBsZXRlID0gY2FsbGJhY2s7XHJcblx0XHRpZiAoIG9wdGlvbnMuZGVsYXkgKSB7XHJcblx0XHRcdGVsZW1lbnQuZGVsYXkoIG9wdGlvbnMuZGVsYXkgKTtcclxuXHRcdH1cclxuXHRcdGlmICggaGFzT3B0aW9ucyAmJiAkLmVmZmVjdHMgJiYgJC5lZmZlY3RzLmVmZmVjdFsgZWZmZWN0TmFtZSBdICkge1xyXG5cdFx0XHRlbGVtZW50WyBtZXRob2QgXSggb3B0aW9ucyApO1xyXG5cdFx0fSBlbHNlIGlmICggZWZmZWN0TmFtZSAhPT0gbWV0aG9kICYmIGVsZW1lbnRbIGVmZmVjdE5hbWUgXSApIHtcclxuXHRcdFx0ZWxlbWVudFsgZWZmZWN0TmFtZSBdKCBvcHRpb25zLmR1cmF0aW9uLCBvcHRpb25zLmVhc2luZywgY2FsbGJhY2sgKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGVsZW1lbnQucXVldWUoZnVuY3Rpb24oIG5leHQgKSB7XHJcblx0XHRcdFx0JCggdGhpcyApWyBtZXRob2QgXSgpO1xyXG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XHJcblx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKCBlbGVtZW50WyAwIF0gKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bmV4dCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9O1xyXG59KTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgd2luZG93LCB1bmRlZmluZWQgKSB7XHJcblx0dmFyIG5zTm9ybWFsaXplRGljdCA9IHt9LFxyXG5cdFx0b2xkRmluZCA9ICQuZmluZCxcclxuXHRcdHJicmFjZSA9IC8oPzpcXHtbXFxzXFxTXSpcXH18XFxbW1xcc1xcU10qXFxdKSQvLFxyXG5cdFx0anFtRGF0YVJFID0gLzpqcW1EYXRhXFwoKFteKV0qKVxcKS9nO1xyXG5cclxuXHQkLmV4dGVuZCggJC5tb2JpbGUsIHtcclxuXHJcblx0XHQvLyBOYW1lc3BhY2UgdXNlZCBmcmFtZXdvcmstd2lkZSBmb3IgZGF0YS1hdHRycy4gRGVmYXVsdCBpcyBubyBuYW1lc3BhY2VcclxuXHJcblx0XHRuczogXCJcIixcclxuXHJcblx0XHQvLyBSZXRyaWV2ZSBhbiBhdHRyaWJ1dGUgZnJvbSBhbiBlbGVtZW50IGFuZCBwZXJmb3JtIHNvbWUgbWFzc2FnaW5nIG9mIHRoZSB2YWx1ZVxyXG5cclxuXHRcdGdldEF0dHJpYnV0ZTogZnVuY3Rpb24oIGVsZW1lbnQsIGtleSApIHtcclxuXHRcdFx0dmFyIGRhdGE7XHJcblxyXG5cdFx0XHRlbGVtZW50ID0gZWxlbWVudC5qcXVlcnkgPyBlbGVtZW50WzBdIDogZWxlbWVudDtcclxuXHJcblx0XHRcdGlmICggZWxlbWVudCAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSApIHtcclxuXHRcdFx0XHRkYXRhID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoIFwiZGF0YS1cIiArICQubW9iaWxlLm5zICsga2V5ICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIENvcGllZCBmcm9tIGNvcmUncyBzcmMvZGF0YS5qczpkYXRhQXR0cigpXHJcblx0XHRcdC8vIENvbnZlcnQgZnJvbSBhIHN0cmluZyB0byBhIHByb3BlciBkYXRhIHR5cGVcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRkYXRhID0gZGF0YSA9PT0gXCJ0cnVlXCIgPyB0cnVlIDpcclxuXHRcdFx0XHRcdGRhdGEgPT09IFwiZmFsc2VcIiA/IGZhbHNlIDpcclxuXHRcdFx0XHRcdGRhdGEgPT09IFwibnVsbFwiID8gbnVsbCA6XHJcblx0XHRcdFx0XHQvLyBPbmx5IGNvbnZlcnQgdG8gYSBudW1iZXIgaWYgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIHN0cmluZ1xyXG5cdFx0XHRcdFx0K2RhdGEgKyBcIlwiID09PSBkYXRhID8gK2RhdGEgOlxyXG5cdFx0XHRcdFx0cmJyYWNlLnRlc3QoIGRhdGEgKSA/IEpTT04ucGFyc2UoIGRhdGEgKSA6XHJcblx0XHRcdFx0XHRkYXRhO1xyXG5cdFx0XHR9IGNhdGNoKCBlcnIgKSB7fVxyXG5cclxuXHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIEV4cG9zZSBvdXIgY2FjaGUgZm9yIHRlc3RpbmcgcHVycG9zZXMuXHJcblx0XHRuc05vcm1hbGl6ZURpY3Q6IG5zTm9ybWFsaXplRGljdCxcclxuXHJcblx0XHQvLyBUYWtlIGEgZGF0YSBhdHRyaWJ1dGUgcHJvcGVydHksIHByZXBlbmQgdGhlIG5hbWVzcGFjZVxyXG5cdFx0Ly8gYW5kIHRoZW4gY2FtZWwgY2FzZSB0aGUgYXR0cmlidXRlIHN0cmluZy4gQWRkIHRoZSByZXN1bHRcclxuXHRcdC8vIHRvIG91ciBuc05vcm1hbGl6ZURpY3Qgc28gd2UgZG9uJ3QgaGF2ZSB0byBkbyB0aGlzIGFnYWluLlxyXG5cdFx0bnNOb3JtYWxpemU6IGZ1bmN0aW9uKCBwcm9wICkge1xyXG5cdFx0XHRyZXR1cm4gbnNOb3JtYWxpemVEaWN0WyBwcm9wIF0gfHxcclxuXHRcdFx0XHQoIG5zTm9ybWFsaXplRGljdFsgcHJvcCBdID0gJC5jYW1lbENhc2UoICQubW9iaWxlLm5zICsgcHJvcCApICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIEZpbmQgdGhlIGNsb3Nlc3QgamF2YXNjcmlwdCBwYWdlIGVsZW1lbnQgdG8gZ2F0aGVyIHNldHRpbmdzIGRhdGEganNwZXJmIHRlc3RcclxuXHRcdC8vIGh0dHA6Ly9qc3BlcmYuY29tL3NpbmdsZS1jb21wbGV4LXNlbGVjdG9yLXZzLW1hbnktY29tcGxleC1zZWxlY3RvcnMvZWRpdFxyXG5cdFx0Ly8gcG9zc2libHkgbmFpdmUsIGJ1dCBpdCBzaG93cyB0aGF0IHRoZSBwYXJzaW5nIG92ZXJoZWFkIGZvciAqanVzdCogdGhlIHBhZ2Ugc2VsZWN0b3IgdnNcclxuXHRcdC8vIHRoZSBwYWdlIGFuZCBkaWFsb2cgc2VsZWN0b3IgaXMgbmVnbGlnYWJsZS4gVGhpcyBjb3VsZCBwcm9iYWJseSBiZSBzcGVlZCB1cCBieVxyXG5cdFx0Ly8gZG9pbmcgYSBzaW1pbGFyIHBhcmVudCBub2RlIHRyYXZlcnNhbCB0byB0aGUgb25lIGZvdW5kIGluIHRoZSBpbmhlcml0ZWQgdGhlbWUgY29kZSBhYm92ZVxyXG5cdFx0Y2xvc2VzdFBhZ2VEYXRhOiBmdW5jdGlvbiggJHRhcmdldCApIHtcclxuXHRcdFx0cmV0dXJuICR0YXJnZXRcclxuXHRcdFx0XHQuY2xvc2VzdCggXCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpXCIgKVxyXG5cdFx0XHRcdC5kYXRhKCBcIm1vYmlsZS1wYWdlXCIgKTtcclxuXHRcdH1cclxuXHJcblx0fSk7XHJcblxyXG5cdC8vIE1vYmlsZSB2ZXJzaW9uIG9mIGRhdGEgYW5kIHJlbW92ZURhdGEgYW5kIGhhc0RhdGEgbWV0aG9kc1xyXG5cdC8vIGVuc3VyZXMgYWxsIGRhdGEgaXMgc2V0IGFuZCByZXRyaWV2ZWQgdXNpbmcgalF1ZXJ5IE1vYmlsZSdzIGRhdGEgbmFtZXNwYWNlXHJcblx0JC5mbi5qcW1EYXRhID0gZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xyXG5cdFx0dmFyIHJlc3VsdDtcclxuXHRcdGlmICggdHlwZW9mIHByb3AgIT09IFwidW5kZWZpbmVkXCIgKSB7XHJcblx0XHRcdGlmICggcHJvcCApIHtcclxuXHRcdFx0XHRwcm9wID0gJC5tb2JpbGUubnNOb3JtYWxpemUoIHByb3AgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gdW5kZWZpbmVkIGlzIHBlcm1pdHRlZCBhcyBhbiBleHBsaWNpdCBpbnB1dCBmb3IgdGhlIHNlY29uZCBwYXJhbVxyXG5cdFx0XHQvLyBpbiB0aGlzIGNhc2UgaXQgcmV0dXJucyB0aGUgdmFsdWUgYW5kIGRvZXMgbm90IHNldCBpdCB0byB1bmRlZmluZWRcclxuXHRcdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoIDwgMiB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdHJlc3VsdCA9IHRoaXMuZGF0YSggcHJvcCApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdCA9IHRoaXMuZGF0YSggcHJvcCwgdmFsdWUgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9O1xyXG5cclxuXHQkLmpxbURhdGEgPSBmdW5jdGlvbiggZWxlbSwgcHJvcCwgdmFsdWUgKSB7XHJcblx0XHR2YXIgcmVzdWx0O1xyXG5cdFx0aWYgKCB0eXBlb2YgcHJvcCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcclxuXHRcdFx0cmVzdWx0ID0gJC5kYXRhKCBlbGVtLCBwcm9wID8gJC5tb2JpbGUubnNOb3JtYWxpemUoIHByb3AgKSA6IHByb3AsIHZhbHVlICk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH07XHJcblxyXG5cdCQuZm4uanFtUmVtb3ZlRGF0YSA9IGZ1bmN0aW9uKCBwcm9wICkge1xyXG5cdFx0cmV0dXJuIHRoaXMucmVtb3ZlRGF0YSggJC5tb2JpbGUubnNOb3JtYWxpemUoIHByb3AgKSApO1xyXG5cdH07XHJcblxyXG5cdCQuanFtUmVtb3ZlRGF0YSA9IGZ1bmN0aW9uKCBlbGVtLCBwcm9wICkge1xyXG5cdFx0cmV0dXJuICQucmVtb3ZlRGF0YSggZWxlbSwgJC5tb2JpbGUubnNOb3JtYWxpemUoIHByb3AgKSApO1xyXG5cdH07XHJcblxyXG5cdCQuZmluZCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcmV0LCBleHRyYSApIHtcclxuXHRcdGlmICggc2VsZWN0b3IuaW5kZXhPZiggXCI6anFtRGF0YVwiICkgPiAtMSApIHtcclxuXHRcdFx0c2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKCBqcW1EYXRhUkUsIFwiW2RhdGEtXCIgKyAoICQubW9iaWxlLm5zIHx8IFwiXCIgKSArIFwiJDFdXCIgKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gb2xkRmluZC5jYWxsKCB0aGlzLCBzZWxlY3RvciwgY29udGV4dCwgcmV0LCBleHRyYSApO1xyXG5cdH07XHJcblxyXG5cdCQuZXh0ZW5kKCAkLmZpbmQsIG9sZEZpbmQgKTtcclxuXHJcbn0pKCBqUXVlcnksIHRoaXMgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxudmFyIHJjYXBpdGFscyA9IC9bQS1aXS9nLFxyXG5cdHJlcGxhY2VGdW5jdGlvbiA9IGZ1bmN0aW9uKCBjICkge1xyXG5cdFx0cmV0dXJuIFwiLVwiICsgYy50b0xvd2VyQ2FzZSgpO1xyXG5cdH07XHJcblxyXG4kLmV4dGVuZCggJC5XaWRnZXQucHJvdG90eXBlLCB7XHJcblx0X2dldENyZWF0ZU9wdGlvbnM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIG9wdGlvbiwgdmFsdWUsXHJcblx0XHRcdGVsZW0gPSB0aGlzLmVsZW1lbnRbIDAgXSxcclxuXHRcdFx0b3B0aW9ucyA9IHt9O1xyXG5cclxuXHRcdC8vXHJcblx0XHRpZiAoICEkLm1vYmlsZS5nZXRBdHRyaWJ1dGUoIGVsZW0sIFwiZGVmYXVsdHNcIiApICkge1xyXG5cdFx0XHRmb3IgKCBvcHRpb24gaW4gdGhpcy5vcHRpb25zICkge1xyXG5cdFx0XHRcdHZhbHVlID0gJC5tb2JpbGUuZ2V0QXR0cmlidXRlKCBlbGVtLCBvcHRpb24ucmVwbGFjZSggcmNhcGl0YWxzLCByZXBsYWNlRnVuY3Rpb24gKSApO1xyXG5cclxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XHJcblx0XHRcdFx0XHRvcHRpb25zWyBvcHRpb24gXSA9IHZhbHVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBvcHRpb25zO1xyXG5cdH1cclxufSk7XHJcblxyXG4vL1RPRE86IFJlbW92ZSBpbiAxLjUgZm9yIGJhY2tjb21wYXQgb25seVxyXG4kLm1vYmlsZS53aWRnZXQgPSAkLldpZGdldDtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcblxyXG4oZnVuY3Rpb24oICQgKSB7XHJcblx0Ly8gVE9ETyBtb3ZlIGxvYWRlciBjbGFzcyBkb3duIGludG8gdGhlIHdpZGdldCBzZXR0aW5nc1xyXG5cdHZhciBsb2FkZXJDbGFzcyA9IFwidWktbG9hZGVyXCIsICRodG1sID0gJCggXCJodG1sXCIgKTtcclxuXHJcblx0JC53aWRnZXQoIFwibW9iaWxlLmxvYWRlclwiLCB7XHJcblx0XHQvLyBOT1RFIGlmIHRoZSBnbG9iYWwgY29uZmlnIHNldHRpbmdzIGFyZSBkZWZpbmVkIHRoZXkgd2lsbCBvdmVycmlkZSB0aGVzZVxyXG5cdFx0Ly8gICAgICBvcHRpb25zXHJcblx0XHRvcHRpb25zOiB7XHJcblx0XHRcdC8vIHRoZSB0aGVtZSBmb3IgdGhlIGxvYWRpbmcgbWVzc2FnZVxyXG5cdFx0XHR0aGVtZTogXCJhXCIsXHJcblxyXG5cdFx0XHQvLyB3aGV0aGVyIHRoZSB0ZXh0IGluIHRoZSBsb2FkaW5nIG1lc3NhZ2UgaXMgc2hvd25cclxuXHRcdFx0dGV4dFZpc2libGU6IGZhbHNlLFxyXG5cclxuXHRcdFx0Ly8gY3VzdG9tIGh0bWwgZm9yIHRoZSBpbm5lciBjb250ZW50IG9mIHRoZSBsb2FkaW5nIG1lc3NhZ2VcclxuXHRcdFx0aHRtbDogXCJcIixcclxuXHJcblx0XHRcdC8vIHRoZSB0ZXh0IHRvIGJlIGRpc3BsYXllZCB3aGVuIHRoZSBwb3B1cCBpcyBzaG93blxyXG5cdFx0XHR0ZXh0OiBcImxvYWRpbmdcIlxyXG5cdFx0fSxcclxuXHJcblx0XHRkZWZhdWx0SHRtbDogXCI8ZGl2IGNsYXNzPSdcIiArIGxvYWRlckNsYXNzICsgXCInPlwiICtcclxuXHRcdFx0XCI8c3BhbiBjbGFzcz0ndWktaWNvbi1sb2FkaW5nJz48L3NwYW4+XCIgK1xyXG5cdFx0XHRcIjxoMT48L2gxPlwiICtcclxuXHRcdFx0XCI8L2Rpdj5cIixcclxuXHJcblx0XHQvLyBGb3Igbm9uLWZpeGVkIHN1cHBvcnRpbiBicm93c2Vycy4gUG9zaXRpb24gYXQgeSBjZW50ZXIgKGlmIHNjcm9sbFRvcCBzdXBwb3J0ZWQpLCBhYm92ZSB0aGUgYWN0aXZlQnRuIChpZiBkZWZpbmVkKSwgb3IganVzdCAxMDBweCBmcm9tIHRvcFxyXG5cdFx0ZmFrZUZpeExvYWRlcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBhY3RpdmVCdG4gPSAkKCBcIi5cIiArICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICkuZmlyc3QoKTtcclxuXHJcblx0XHRcdHRoaXMuZWxlbWVudFxyXG5cdFx0XHRcdC5jc3Moe1xyXG5cdFx0XHRcdFx0dG9wOiAkLnN1cHBvcnQuc2Nyb2xsVG9wICYmIHRoaXMud2luZG93LnNjcm9sbFRvcCgpICsgdGhpcy53aW5kb3cuaGVpZ2h0KCkgLyAyIHx8XHJcblx0XHRcdFx0XHRcdGFjdGl2ZUJ0bi5sZW5ndGggJiYgYWN0aXZlQnRuLm9mZnNldCgpLnRvcCB8fCAxMDBcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gY2hlY2sgcG9zaXRpb24gb2YgbG9hZGVyIHRvIHNlZSBpZiBpdCBhcHBlYXJzIHRvIGJlIFwiZml4ZWRcIiB0byBjZW50ZXJcclxuXHRcdC8vIGlmIG5vdCwgdXNlIGFicyBwb3NpdGlvbmluZ1xyXG5cdFx0Y2hlY2tMb2FkZXJQb3NpdGlvbjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBvZmZzZXQgPSB0aGlzLmVsZW1lbnQub2Zmc2V0KCksXHJcblx0XHRcdFx0c2Nyb2xsVG9wID0gdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCksXHJcblx0XHRcdFx0c2NyZWVuSGVpZ2h0ID0gJC5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7XHJcblxyXG5cdFx0XHRpZiAoIG9mZnNldC50b3AgPCBzY3JvbGxUb3AgfHwgKCBvZmZzZXQudG9wIC0gc2Nyb2xsVG9wICkgPiBzY3JlZW5IZWlnaHQgKSB7XHJcblx0XHRcdFx0dGhpcy5lbGVtZW50LmFkZENsYXNzKCBcInVpLWxvYWRlci1mYWtlZml4XCIgKTtcclxuXHRcdFx0XHR0aGlzLmZha2VGaXhMb2FkZXIoKTtcclxuXHRcdFx0XHR0aGlzLndpbmRvd1xyXG5cdFx0XHRcdFx0LnVuYmluZCggXCJzY3JvbGxcIiwgdGhpcy5jaGVja0xvYWRlclBvc2l0aW9uIClcclxuXHRcdFx0XHRcdC5iaW5kKCBcInNjcm9sbFwiLCAkLnByb3h5KCB0aGlzLmZha2VGaXhMb2FkZXIsIHRoaXMgKSApO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdHJlc2V0SHRtbDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5odG1sKCAkKCB0aGlzLmRlZmF1bHRIdG1sICkuaHRtbCgpICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIFR1cm4gb24vb2ZmIHBhZ2UgbG9hZGluZyBtZXNzYWdlLiBUaGVtZSBkb3VibGVzIGFzIGFuIG9iamVjdCBhcmd1bWVudFxyXG5cdFx0Ly8gd2l0aCB0aGUgZm9sbG93aW5nIHNoYXBlOiB7IHRoZW1lOiAnJywgdGV4dDogJycsIGh0bWw6ICcnLCB0ZXh0VmlzaWJsZTogJycgfVxyXG5cdFx0Ly8gTk9URSB0aGF0IHRoZSAkLm1vYmlsZS5sb2FkaW5nKiBzZXR0aW5ncyBhbmQgcGFyYW1zIHBhc3QgdGhlIGZpcnN0IGFyZSBkZXByZWNhdGVkXHJcblx0XHQvLyBUT0RPIHN3ZWV0IGplc3VzIHdlIG5lZWQgdG8gYnJlYWsgc29tZSBvZiB0aGlzIG91dFxyXG5cdFx0c2hvdzogZnVuY3Rpb24oIHRoZW1lLCBtc2dUZXh0LCB0ZXh0b25seSApIHtcclxuXHRcdFx0dmFyIHRleHRWaXNpYmxlLCBtZXNzYWdlLCBsb2FkU2V0dGluZ3M7XHJcblxyXG5cdFx0XHR0aGlzLnJlc2V0SHRtbCgpO1xyXG5cclxuXHRcdFx0Ly8gdXNlIHRoZSBwcm90b3R5cGUgb3B0aW9ucyBzbyB0aGF0IHBlb3BsZSBjYW4gc2V0IHRoZW0gZ2xvYmFsbHkgYXRcclxuXHRcdFx0Ly8gbW9iaWxlIGluaXQuIENvbnNpc3RlbmN5LCBpdCdzIHdoYXQncyBmb3IgZGlubmVyXHJcblx0XHRcdGlmICggJC50eXBlKCB0aGVtZSApID09PSBcIm9iamVjdFwiICkge1xyXG5cdFx0XHRcdGxvYWRTZXR0aW5ncyA9ICQuZXh0ZW5kKCB7fSwgdGhpcy5vcHRpb25zLCB0aGVtZSApO1xyXG5cclxuXHRcdFx0XHR0aGVtZSA9IGxvYWRTZXR0aW5ncy50aGVtZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRsb2FkU2V0dGluZ3MgPSB0aGlzLm9wdGlvbnM7XHJcblxyXG5cdFx0XHRcdC8vIGhlcmUgd2UgcHJlZmVyIHRoZSB0aGVtZSB2YWx1ZSBwYXNzZWQgYXMgYSBzdHJpbmcgYXJndW1lbnQsIHRoZW5cclxuXHRcdFx0XHQvLyB3ZSBwcmVmZXIgdGhlIGdsb2JhbCBvcHRpb24gYmVjYXVzZSB3ZSBjYW4ndCB1c2UgdW5kZWZpbmVkIGRlZmF1bHRcclxuXHRcdFx0XHQvLyBwcm90b3R5cGUgb3B0aW9ucywgdGhlbiB0aGUgcHJvdG90eXBlIG9wdGlvblxyXG5cdFx0XHRcdHRoZW1lID0gdGhlbWUgfHwgbG9hZFNldHRpbmdzLnRoZW1lO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBzZXQgdGhlIG1lc3NhZ2UgdGV4dCwgcHJlZmVyIHRoZSBwYXJhbSwgdGhlbiB0aGUgc2V0dGluZ3Mgb2JqZWN0XHJcblx0XHRcdC8vIHRoZW4gbG9hZGluZyBtZXNzYWdlXHJcblx0XHRcdG1lc3NhZ2UgPSBtc2dUZXh0IHx8ICggbG9hZFNldHRpbmdzLnRleHQgPT09IGZhbHNlID8gXCJcIiA6IGxvYWRTZXR0aW5ncy50ZXh0ICk7XHJcblxyXG5cdFx0XHQvLyBwcmVwYXJlIHRoZSBkb21cclxuXHRcdFx0JGh0bWwuYWRkQ2xhc3MoIFwidWktbG9hZGluZ1wiICk7XHJcblxyXG5cdFx0XHR0ZXh0VmlzaWJsZSA9IGxvYWRTZXR0aW5ncy50ZXh0VmlzaWJsZTtcclxuXHJcblx0XHRcdC8vIGFkZCB0aGUgcHJvcGVyIGNzcyBnaXZlbiB0aGUgb3B0aW9ucyAodGhlbWUsIHRleHQsIGV0YylcclxuXHRcdFx0Ly8gRm9yY2UgdGV4dCB2aXNpYmlsaXR5IGlmIHRoZSBzZWNvbmQgYXJndW1lbnQgd2FzIHN1cHBsaWVkLCBvclxyXG5cdFx0XHQvLyBpZiB0aGUgdGV4dCB3YXMgZXhwbGljaXRseSBzZXQgaW4gdGhlIG9iamVjdCBhcmdzXHJcblx0XHRcdHRoaXMuZWxlbWVudC5hdHRyKFwiY2xhc3NcIiwgbG9hZGVyQ2xhc3MgK1xyXG5cdFx0XHRcdFwiIHVpLWNvcm5lci1hbGwgdWktYm9keS1cIiArIHRoZW1lICtcclxuXHRcdFx0XHRcIiB1aS1sb2FkZXItXCIgKyAoIHRleHRWaXNpYmxlIHx8IG1zZ1RleHQgfHwgdGhlbWUudGV4dCA/IFwidmVyYm9zZVwiIDogXCJkZWZhdWx0XCIgKSArXHJcblx0XHRcdFx0KCBsb2FkU2V0dGluZ3MudGV4dG9ubHkgfHwgdGV4dG9ubHkgPyBcIiB1aS1sb2FkZXItdGV4dG9ubHlcIiA6IFwiXCIgKSApO1xyXG5cclxuXHRcdFx0Ly8gVE9ETyB2ZXJpZnkgdGhhdCBqcXVlcnkuZm4uaHRtbCBpcyBvayB0byB1c2UgaW4gYm90aCBjYXNlcyBoZXJlXHJcblx0XHRcdC8vICAgICAgdGhpcyBtaWdodCBiZSBvdmVybHkgZGVmZW5zaXZlIGluIHByZXZlbnRpbmcgdW5rbm93aW5nIHhzc1xyXG5cdFx0XHQvLyBpZiB0aGUgaHRtbCBhdHRyaWJ1dGUgaXMgZGVmaW5lZCBvbiB0aGUgbG9hZGluZyBzZXR0aW5ncywgdXNlIHRoYXRcclxuXHRcdFx0Ly8gb3RoZXJ3aXNlIHVzZSB0aGUgZmFsbGJhY2tzIGZyb20gYWJvdmVcclxuXHRcdFx0aWYgKCBsb2FkU2V0dGluZ3MuaHRtbCApIHtcclxuXHRcdFx0XHR0aGlzLmVsZW1lbnQuaHRtbCggbG9hZFNldHRpbmdzLmh0bWwgKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmVsZW1lbnQuZmluZCggXCJoMVwiICkudGV4dCggbWVzc2FnZSApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBJZiB0aGUgcGFnZWNvbnRhaW5lciB3aWRnZXQgaGFzIGJlZW4gZGVmaW5lZCB3ZSBtYXkgdXNlIHRoZSA6bW9iaWxlLXBhZ2Vjb250YWluZXJcclxuXHRcdFx0Ly8gYW5kIGF0dGFjaCB0byB0aGUgZWxlbWVudCBvbiB3aGljaCB0aGUgcGFnZWNvbnRhaW5lciB3aWRnZXQgaGFzIGJlZW4gZGVmaW5lZC4gSWYgbm90LFxyXG5cdFx0XHQvLyB3ZSBhdHRhY2ggdG8gdGhlIGJvZHkuXHJcblx0XHRcdHRoaXMuZWxlbWVudC5hcHBlbmRUbyggJC5tb2JpbGUucGFnZWNvbnRhaW5lciA/XHJcblx0XHRcdFx0JCggXCI6bW9iaWxlLXBhZ2Vjb250YWluZXJcIiApIDogJCggXCJib2R5XCIgKSApO1xyXG5cclxuXHRcdFx0Ly8gY2hlY2sgdGhhdCB0aGUgbG9hZGVyIGlzIHZpc2libGVcclxuXHRcdFx0dGhpcy5jaGVja0xvYWRlclBvc2l0aW9uKCk7XHJcblxyXG5cdFx0XHQvLyBvbiBzY3JvbGwgY2hlY2sgdGhlIGxvYWRlciBwb3NpdGlvblxyXG5cdFx0XHR0aGlzLndpbmRvdy5iaW5kKCBcInNjcm9sbFwiLCAkLnByb3h5KCB0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24sIHRoaXMgKSApO1xyXG5cdFx0fSxcclxuXHJcblx0XHRoaWRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0JGh0bWwucmVtb3ZlQ2xhc3MoIFwidWktbG9hZGluZ1wiICk7XHJcblxyXG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy50ZXh0ICkge1xyXG5cdFx0XHRcdHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyggXCJ1aS1sb2FkZXItZmFrZWZpeFwiICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMud2luZG93LnVuYmluZCggXCJzY3JvbGxcIiwgdGhpcy5mYWtlRml4TG9hZGVyICk7XHJcblx0XHRcdHRoaXMud2luZG93LnVuYmluZCggXCJzY3JvbGxcIiwgdGhpcy5jaGVja0xvYWRlclBvc2l0aW9uICk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG59KShqUXVlcnksIHRoaXMpO1xyXG5cclxuXHJcbi8qIVxyXG4gKiBqUXVlcnkgaGFzaGNoYW5nZSBldmVudCAtIHYxLjMgLSA3LzIxLzIwMTBcclxuICogaHR0cDovL2JlbmFsbWFuLmNvbS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS1wbHVnaW4vXHJcbiAqIFxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAgXCJDb3dib3lcIiBCZW4gQWxtYW5cclxuICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuXHJcbiAqIGh0dHA6Ly9iZW5hbG1hbi5jb20vYWJvdXQvbGljZW5zZS9cclxuICovXHJcblxyXG4vLyBTY3JpcHQ6IGpRdWVyeSBoYXNoY2hhbmdlIGV2ZW50XHJcbi8vXHJcbi8vICpWZXJzaW9uOiAxLjMsIExhc3QgdXBkYXRlZDogNy8yMS8yMDEwKlxyXG4vLyBcclxuLy8gUHJvamVjdCBIb21lIC0gaHR0cDovL2JlbmFsbWFuLmNvbS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS1wbHVnaW4vXHJcbi8vIEdpdEh1YiAgICAgICAtIGh0dHA6Ly9naXRodWIuY29tL2Nvd2JveS9qcXVlcnktaGFzaGNoYW5nZS9cclxuLy8gU291cmNlICAgICAgIC0gaHR0cDovL2dpdGh1Yi5jb20vY293Ym95L2pxdWVyeS1oYXNoY2hhbmdlL3Jhdy9tYXN0ZXIvanF1ZXJ5LmJhLWhhc2hjaGFuZ2UuanNcclxuLy8gKE1pbmlmaWVkKSAgIC0gaHR0cDovL2dpdGh1Yi5jb20vY293Ym95L2pxdWVyeS1oYXNoY2hhbmdlL3Jhdy9tYXN0ZXIvanF1ZXJ5LmJhLWhhc2hjaGFuZ2UubWluLmpzICgwLjhrYiBnemlwcGVkKVxyXG4vLyBcclxuLy8gQWJvdXQ6IExpY2Vuc2VcclxuLy8gXHJcbi8vIENvcHlyaWdodCAoYykgMjAxMCBcIkNvd2JveVwiIEJlbiBBbG1hbixcclxuLy8gRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuXHJcbi8vIGh0dHA6Ly9iZW5hbG1hbi5jb20vYWJvdXQvbGljZW5zZS9cclxuLy8gXHJcbi8vIEFib3V0OiBFeGFtcGxlc1xyXG4vLyBcclxuLy8gVGhlc2Ugd29ya2luZyBleGFtcGxlcywgY29tcGxldGUgd2l0aCBmdWxseSBjb21tZW50ZWQgY29kZSwgaWxsdXN0cmF0ZSBhIGZld1xyXG4vLyB3YXlzIGluIHdoaWNoIHRoaXMgcGx1Z2luIGNhbiBiZSB1c2VkLlxyXG4vLyBcclxuLy8gaGFzaGNoYW5nZSBldmVudCAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS9leGFtcGxlcy9oYXNoY2hhbmdlL1xyXG4vLyBkb2N1bWVudC5kb21haW4gLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvZG9jdW1lbnRfZG9tYWluL1xyXG4vLyBcclxuLy8gQWJvdXQ6IFN1cHBvcnQgYW5kIFRlc3RpbmdcclxuLy8gXHJcbi8vIEluZm9ybWF0aW9uIGFib3V0IHdoYXQgdmVyc2lvbiBvciB2ZXJzaW9ucyBvZiBqUXVlcnkgdGhpcyBwbHVnaW4gaGFzIGJlZW5cclxuLy8gdGVzdGVkIHdpdGgsIHdoYXQgYnJvd3NlcnMgaXQgaGFzIGJlZW4gdGVzdGVkIGluLCBhbmQgd2hlcmUgdGhlIHVuaXQgdGVzdHNcclxuLy8gcmVzaWRlIChzbyB5b3UgY2FuIHRlc3QgaXQgeW91cnNlbGYpLlxyXG4vLyBcclxuLy8galF1ZXJ5IFZlcnNpb25zIC0gMS4yLjYsIDEuMy4yLCAxLjQuMSwgMS40LjJcclxuLy8gQnJvd3NlcnMgVGVzdGVkIC0gSW50ZXJuZXQgRXhwbG9yZXIgNi04LCBGaXJlZm94IDItNCwgQ2hyb21lIDUtNiwgU2FmYXJpIDMuMi01LFxyXG4vLyAgICAgICAgICAgICAgICAgICBPcGVyYSA5LjYtMTAuNjAsIGlQaG9uZSAzLjEsIEFuZHJvaWQgMS42LTIuMiwgQmxhY2tCZXJyeSA0LjYtNS5cclxuLy8gVW5pdCBUZXN0cyAgICAgIC0gaHR0cDovL2JlbmFsbWFuLmNvbS9jb2RlL3Byb2plY3RzL2pxdWVyeS1oYXNoY2hhbmdlL3VuaXQvXHJcbi8vIFxyXG4vLyBBYm91dDogS25vd24gaXNzdWVzXHJcbi8vIFxyXG4vLyBXaGlsZSB0aGlzIGpRdWVyeSBoYXNoY2hhbmdlIGV2ZW50IGltcGxlbWVudGF0aW9uIGlzIHF1aXRlIHN0YWJsZSBhbmRcclxuLy8gcm9idXN0LCB0aGVyZSBhcmUgYSBmZXcgdW5mb3J0dW5hdGUgYnJvd3NlciBidWdzIHN1cnJvdW5kaW5nIGV4cGVjdGVkXHJcbi8vIGhhc2hjaGFuZ2UgZXZlbnQtYmFzZWQgYmVoYXZpb3JzLCBpbmRlcGVuZGVudCBvZiBhbnkgSmF2YVNjcmlwdFxyXG4vLyB3aW5kb3cub25oYXNoY2hhbmdlIGFic3RyYWN0aW9uLiBTZWUgdGhlIGZvbGxvd2luZyBleGFtcGxlcyBmb3IgbW9yZVxyXG4vLyBpbmZvcm1hdGlvbjpcclxuLy8gXHJcbi8vIENocm9tZTogQmFjayBCdXR0b24gLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvYnVnLWNocm9tZS1iYWNrLWJ1dHRvbi9cclxuLy8gRmlyZWZveDogUmVtb3RlIFhNTEh0dHBSZXF1ZXN0IC0gaHR0cDovL2JlbmFsbWFuLmNvbS9jb2RlL3Byb2plY3RzL2pxdWVyeS1oYXNoY2hhbmdlL2V4YW1wbGVzL2J1Zy1maXJlZm94LXJlbW90ZS14aHIvXHJcbi8vIFdlYktpdDogQmFjayBCdXR0b24gaW4gYW4gSWZyYW1lIC0gaHR0cDovL2JlbmFsbWFuLmNvbS9jb2RlL3Byb2plY3RzL2pxdWVyeS1oYXNoY2hhbmdlL2V4YW1wbGVzL2J1Zy13ZWJraXQtaGFzaC1pZnJhbWUvXHJcbi8vIFNhZmFyaTogQmFjayBCdXR0b24gZnJvbSBhIGRpZmZlcmVudCBkb21haW4gLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvYnVnLXNhZmFyaS1iYWNrLWZyb20tZGlmZi1kb21haW4vXHJcbi8vIFxyXG4vLyBBbHNvIG5vdGUgdGhhdCBzaG91bGQgYSBicm93c2VyIG5hdGl2ZWx5IHN1cHBvcnQgdGhlIHdpbmRvdy5vbmhhc2hjaGFuZ2UgXHJcbi8vIGV2ZW50LCBidXQgbm90IHJlcG9ydCB0aGF0IGl0IGRvZXMsIHRoZSBmYWxsYmFjayBwb2xsaW5nIGxvb3Agd2lsbCBiZSB1c2VkLlxyXG4vLyBcclxuLy8gQWJvdXQ6IFJlbGVhc2UgSGlzdG9yeVxyXG4vLyBcclxuLy8gMS4zICAgLSAoNy8yMS8yMDEwKSBSZW9yZ2FuaXplZCBJRTYvNyBJZnJhbWUgY29kZSB0byBtYWtlIGl0IG1vcmVcclxuLy8gICAgICAgICBcInJlbW92YWJsZVwiIGZvciBtb2JpbGUtb25seSBkZXZlbG9wbWVudC4gQWRkZWQgSUU2LzcgZG9jdW1lbnQudGl0bGVcclxuLy8gICAgICAgICBzdXBwb3J0LiBBdHRlbXB0ZWQgdG8gbWFrZSBJZnJhbWUgYXMgaGlkZGVuIGFzIHBvc3NpYmxlIGJ5IHVzaW5nXHJcbi8vICAgICAgICAgdGVjaG5pcXVlcyBmcm9tIGh0dHA6Ly93d3cucGFjaWVsbG9ncm91cC5jb20vYmxvZy8/cD02MDQuIEFkZGVkIFxyXG4vLyAgICAgICAgIHN1cHBvcnQgZm9yIHRoZSBcInNob3J0Y3V0XCIgZm9ybWF0ICQod2luZG93KS5oYXNoY2hhbmdlKCBmbiApIGFuZFxyXG4vLyAgICAgICAgICQod2luZG93KS5oYXNoY2hhbmdlKCkgbGlrZSBqUXVlcnkgcHJvdmlkZXMgZm9yIGJ1aWx0LWluIGV2ZW50cy5cclxuLy8gICAgICAgICBSZW5hbWVkIGpRdWVyeS5oYXNoY2hhbmdlRGVsYXkgdG8gPGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRlbGF5PiBhbmRcclxuLy8gICAgICAgICBsb3dlcmVkIGl0cyBkZWZhdWx0IHZhbHVlIHRvIDUwLiBBZGRlZCA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2UuZG9tYWluPlxyXG4vLyAgICAgICAgIGFuZCA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2Uuc3JjPiBwcm9wZXJ0aWVzIHBsdXMgZG9jdW1lbnQtZG9tYWluLmh0bWxcclxuLy8gICAgICAgICBmaWxlIHRvIGFkZHJlc3MgYWNjZXNzIGRlbmllZCBpc3N1ZXMgd2hlbiBzZXR0aW5nIGRvY3VtZW50LmRvbWFpbiBpblxyXG4vLyAgICAgICAgIElFNi83LlxyXG4vLyAxLjIgICAtICgyLzExLzIwMTApIEZpeGVkIGEgYnVnIHdoZXJlIGNvbWluZyBiYWNrIHRvIGEgcGFnZSB1c2luZyB0aGlzIHBsdWdpblxyXG4vLyAgICAgICAgIGZyb20gYSBwYWdlIG9uIGFub3RoZXIgZG9tYWluIHdvdWxkIGNhdXNlIGFuIGVycm9yIGluIFNhZmFyaSA0LiBBbHNvLFxyXG4vLyAgICAgICAgIElFNi83IElmcmFtZSBpcyBub3cgaW5zZXJ0ZWQgYWZ0ZXIgdGhlIGJvZHkgKHRoaXMgYWN0dWFsbHkgd29ya3MpLFxyXG4vLyAgICAgICAgIHdoaWNoIHByZXZlbnRzIHRoZSBwYWdlIGZyb20gc2Nyb2xsaW5nIHdoZW4gdGhlIGV2ZW50IGlzIGZpcnN0IGJvdW5kLlxyXG4vLyAgICAgICAgIEV2ZW50IGNhbiBhbHNvIG5vdyBiZSBib3VuZCBiZWZvcmUgRE9NIHJlYWR5LCBidXQgaXQgd29uJ3QgYmUgdXNhYmxlXHJcbi8vICAgICAgICAgYmVmb3JlIHRoZW4gaW4gSUU2LzcuXHJcbi8vIDEuMSAgIC0gKDEvMjEvMjAxMCkgSW5jb3Jwb3JhdGVkIGRvY3VtZW50LmRvY3VtZW50TW9kZSB0ZXN0IHRvIGZpeCBJRTggYnVnXHJcbi8vICAgICAgICAgd2hlcmUgYnJvd3NlciB2ZXJzaW9uIGlzIGluY29ycmVjdGx5IHJlcG9ydGVkIGFzIDguMCwgZGVzcGl0ZVxyXG4vLyAgICAgICAgIGluY2x1c2lvbiBvZiB0aGUgWC1VQS1Db21wYXRpYmxlIElFPUVtdWxhdGVJRTcgbWV0YSB0YWcuXHJcbi8vIDEuMCAgIC0gKDEvOS8yMDEwKSBJbml0aWFsIFJlbGVhc2UuIEJyb2tlIG91dCB0aGUgalF1ZXJ5IEJCUSBldmVudC5zcGVjaWFsXHJcbi8vICAgICAgICAgd2luZG93Lm9uaGFzaGNoYW5nZSBmdW5jdGlvbmFsaXR5IGludG8gYSBzZXBhcmF0ZSBwbHVnaW4gZm9yIHVzZXJzXHJcbi8vICAgICAgICAgd2hvIHdhbnQganVzdCB0aGUgYmFzaWMgZXZlbnQgJiBiYWNrIGJ1dHRvbiBzdXBwb3J0LCB3aXRob3V0IGFsbCB0aGVcclxuLy8gICAgICAgICBleHRyYSBhd2Vzb21lbmVzcyB0aGF0IEJCUSBwcm92aWRlcy4gVGhpcyBwbHVnaW4gd2lsbCBiZSBpbmNsdWRlZCBhc1xyXG4vLyAgICAgICAgIHBhcnQgb2YgalF1ZXJ5IEJCUSwgYnV0IGFsc28gYmUgYXZhaWxhYmxlIHNlcGFyYXRlbHkuXHJcblxyXG4oZnVuY3Rpb24oJCx3aW5kb3csdW5kZWZpbmVkKXtcclxuICAnJDpub211bmdlJzsgLy8gVXNlZCBieSBZVUkgY29tcHJlc3Nvci5cclxuICBcclxuICAvLyBSZXVzZWQgc3RyaW5nLlxyXG4gIHZhciBzdHJfaGFzaGNoYW5nZSA9ICdoYXNoY2hhbmdlJyxcclxuICAgIFxyXG4gICAgLy8gTWV0aG9kIC8gb2JqZWN0IHJlZmVyZW5jZXMuXHJcbiAgICBkb2MgPSBkb2N1bWVudCxcclxuICAgIGZha2Vfb25oYXNoY2hhbmdlLFxyXG4gICAgc3BlY2lhbCA9ICQuZXZlbnQuc3BlY2lhbCxcclxuICAgIFxyXG4gICAgLy8gRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IHdpbmRvdy5vbmhhc2hjaGFuZ2U/IE5vdGUgdGhhdCBJRTggcnVubmluZyBpblxyXG4gICAgLy8gSUU3IGNvbXBhdGliaWxpdHkgbW9kZSByZXBvcnRzIHRydWUgZm9yICdvbmhhc2hjaGFuZ2UnIGluIHdpbmRvdywgZXZlblxyXG4gICAgLy8gdGhvdWdoIHRoZSBldmVudCBpc24ndCBzdXBwb3J0ZWQsIHNvIGFsc28gdGVzdCBkb2N1bWVudC5kb2N1bWVudE1vZGUuXHJcbiAgICBkb2NfbW9kZSA9IGRvYy5kb2N1bWVudE1vZGUsXHJcbiAgICBzdXBwb3J0c19vbmhhc2hjaGFuZ2UgPSAnb24nICsgc3RyX2hhc2hjaGFuZ2UgaW4gd2luZG93ICYmICggZG9jX21vZGUgPT09IHVuZGVmaW5lZCB8fCBkb2NfbW9kZSA+IDcgKTtcclxuICBcclxuICAvLyBHZXQgbG9jYXRpb24uaGFzaCAob3Igd2hhdCB5b3UnZCBleHBlY3QgbG9jYXRpb24uaGFzaCB0byBiZSkgc2FucyBhbnlcclxuICAvLyBsZWFkaW5nICMuIFRoYW5rcyBmb3IgbWFraW5nIHRoaXMgbmVjZXNzYXJ5LCBGaXJlZm94IVxyXG4gIGZ1bmN0aW9uIGdldF9mcmFnbWVudCggdXJsICkge1xyXG4gICAgdXJsID0gdXJsIHx8IGxvY2F0aW9uLmhyZWY7XHJcbiAgICByZXR1cm4gJyMnICsgdXJsLnJlcGxhY2UoIC9eW14jXSojPyguKikkLywgJyQxJyApO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gTWV0aG9kOiBqUXVlcnkuZm4uaGFzaGNoYW5nZVxyXG4gIC8vIFxyXG4gIC8vIEJpbmQgYSBoYW5kbGVyIHRvIHRoZSB3aW5kb3cub25oYXNoY2hhbmdlIGV2ZW50IG9yIHRyaWdnZXIgYWxsIGJvdW5kXHJcbiAgLy8gd2luZG93Lm9uaGFzaGNoYW5nZSBldmVudCBoYW5kbGVycy4gVGhpcyBiZWhhdmlvciBpcyBjb25zaXN0ZW50IHdpdGhcclxuICAvLyBqUXVlcnkncyBidWlsdC1pbiBldmVudCBoYW5kbGVycy5cclxuICAvLyBcclxuICAvLyBVc2FnZTpcclxuICAvLyBcclxuICAvLyA+IGpRdWVyeSh3aW5kb3cpLmhhc2hjaGFuZ2UoIFsgaGFuZGxlciBdICk7XHJcbiAgLy8gXHJcbiAgLy8gQXJndW1lbnRzOlxyXG4gIC8vIFxyXG4gIC8vICBoYW5kbGVyIC0gKEZ1bmN0aW9uKSBPcHRpb25hbCBoYW5kbGVyIHRvIGJlIGJvdW5kIHRvIHRoZSBoYXNoY2hhbmdlXHJcbiAgLy8gICAgZXZlbnQuIFRoaXMgaXMgYSBcInNob3J0Y3V0XCIgZm9yIHRoZSBtb3JlIHZlcmJvc2UgZm9ybTpcclxuICAvLyAgICBqUXVlcnkod2luZG93KS5iaW5kKCAnaGFzaGNoYW5nZScsIGhhbmRsZXIgKS4gSWYgaGFuZGxlciBpcyBvbWl0dGVkLFxyXG4gIC8vICAgIGFsbCBib3VuZCB3aW5kb3cub25oYXNoY2hhbmdlIGV2ZW50IGhhbmRsZXJzIHdpbGwgYmUgdHJpZ2dlcmVkLiBUaGlzXHJcbiAgLy8gICAgaXMgYSBzaG9ydGN1dCBmb3IgdGhlIG1vcmUgdmVyYm9zZVxyXG4gIC8vICAgIGpRdWVyeSh3aW5kb3cpLnRyaWdnZXIoICdoYXNoY2hhbmdlJyApLiBUaGVzZSBmb3JtcyBhcmUgZGVzY3JpYmVkIGluXHJcbiAgLy8gICAgdGhlIDxoYXNoY2hhbmdlIGV2ZW50PiBzZWN0aW9uLlxyXG4gIC8vIFxyXG4gIC8vIFJldHVybnM6XHJcbiAgLy8gXHJcbiAgLy8gIChqUXVlcnkpIFRoZSBpbml0aWFsIGpRdWVyeSBjb2xsZWN0aW9uIG9mIGVsZW1lbnRzLlxyXG4gIFxyXG4gIC8vIEFsbG93IHRoZSBcInNob3J0Y3V0XCIgZm9ybWF0ICQoZWxlbSkuaGFzaGNoYW5nZSggZm4gKSBmb3IgYmluZGluZyBhbmRcclxuICAvLyAkKGVsZW0pLmhhc2hjaGFuZ2UoKSBmb3IgdHJpZ2dlcmluZywgbGlrZSBqUXVlcnkgZG9lcyBmb3IgYnVpbHQtaW4gZXZlbnRzLlxyXG4gICQuZm5bIHN0cl9oYXNoY2hhbmdlIF0gPSBmdW5jdGlvbiggZm4gKSB7XHJcbiAgICByZXR1cm4gZm4gPyB0aGlzLmJpbmQoIHN0cl9oYXNoY2hhbmdlLCBmbiApIDogdGhpcy50cmlnZ2VyKCBzdHJfaGFzaGNoYW5nZSApO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gUHJvcGVydHk6IGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRlbGF5XHJcbiAgLy8gXHJcbiAgLy8gVGhlIG51bWVyaWMgaW50ZXJ2YWwgKGluIG1pbGxpc2Vjb25kcykgYXQgd2hpY2ggdGhlIDxoYXNoY2hhbmdlIGV2ZW50PlxyXG4gIC8vIHBvbGxpbmcgbG9vcCBleGVjdXRlcy4gRGVmYXVsdHMgdG8gNTAuXHJcbiAgXHJcbiAgLy8gUHJvcGVydHk6IGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRvbWFpblxyXG4gIC8vIFxyXG4gIC8vIElmIHlvdSdyZSBzZXR0aW5nIGRvY3VtZW50LmRvbWFpbiBpbiB5b3VyIEphdmFTY3JpcHQsIGFuZCB5b3Ugd2FudCBoYXNoXHJcbiAgLy8gaGlzdG9yeSB0byB3b3JrIGluIElFNi83LCBub3Qgb25seSBtdXN0IHRoaXMgcHJvcGVydHkgYmUgc2V0LCBidXQgeW91IG11c3RcclxuICAvLyBhbHNvIHNldCBkb2N1bWVudC5kb21haW4gQkVGT1JFIGpRdWVyeSBpcyBsb2FkZWQgaW50byB0aGUgcGFnZS4gVGhpc1xyXG4gIC8vIHByb3BlcnR5IGlzIG9ubHkgYXBwbGljYWJsZSBpZiB5b3UgYXJlIHN1cHBvcnRpbmcgSUU2LzcgKG9yIElFOCBvcGVyYXRpbmdcclxuICAvLyBpbiBcIklFNyBjb21wYXRpYmlsaXR5XCIgbW9kZSkuXHJcbiAgLy8gXHJcbiAgLy8gSW4gYWRkaXRpb24sIHRoZSA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2Uuc3JjPiBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byB0aGVcclxuICAvLyBwYXRoIG9mIHRoZSBpbmNsdWRlZCBcImRvY3VtZW50LWRvbWFpbi5odG1sXCIgZmlsZSwgd2hpY2ggY2FuIGJlIHJlbmFtZWQgb3JcclxuICAvLyBtb2RpZmllZCBpZiBuZWNlc3NhcnkgKG5vdGUgdGhhdCB0aGUgZG9jdW1lbnQuZG9tYWluIHNwZWNpZmllZCBtdXN0IGJlIHRoZVxyXG4gIC8vIHNhbWUgaW4gYm90aCB5b3VyIG1haW4gSmF2YVNjcmlwdCBhcyB3ZWxsIGFzIGluIHRoaXMgZmlsZSkuXHJcbiAgLy8gXHJcbiAgLy8gVXNhZ2U6XHJcbiAgLy8gXHJcbiAgLy8galF1ZXJ5LmZuLmhhc2hjaGFuZ2UuZG9tYWluID0gZG9jdW1lbnQuZG9tYWluO1xyXG4gIFxyXG4gIC8vIFByb3BlcnR5OiBqUXVlcnkuZm4uaGFzaGNoYW5nZS5zcmNcclxuICAvLyBcclxuICAvLyBJZiwgZm9yIHNvbWUgcmVhc29uLCB5b3UgbmVlZCB0byBzcGVjaWZ5IGFuIElmcmFtZSBzcmMgZmlsZSAoZm9yIGV4YW1wbGUsXHJcbiAgLy8gd2hlbiBzZXR0aW5nIGRvY3VtZW50LmRvbWFpbiBhcyBpbiA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2UuZG9tYWluPiksIHlvdSBjYW5cclxuICAvLyBkbyBzbyB1c2luZyB0aGlzIHByb3BlcnR5LiBOb3RlIHRoYXQgd2hlbiB1c2luZyB0aGlzIHByb3BlcnR5LCBoaXN0b3J5XHJcbiAgLy8gd29uJ3QgYmUgcmVjb3JkZWQgaW4gSUU2LzcgdW50aWwgdGhlIElmcmFtZSBzcmMgZmlsZSBsb2Fkcy4gVGhpcyBwcm9wZXJ0eVxyXG4gIC8vIGlzIG9ubHkgYXBwbGljYWJsZSBpZiB5b3UgYXJlIHN1cHBvcnRpbmcgSUU2LzcgKG9yIElFOCBvcGVyYXRpbmcgaW4gXCJJRTdcclxuICAvLyBjb21wYXRpYmlsaXR5XCIgbW9kZSkuXHJcbiAgLy8gXHJcbiAgLy8gVXNhZ2U6XHJcbiAgLy8gXHJcbiAgLy8galF1ZXJ5LmZuLmhhc2hjaGFuZ2Uuc3JjID0gJ3BhdGgvdG8vZmlsZS5odG1sJztcclxuICBcclxuICAkLmZuWyBzdHJfaGFzaGNoYW5nZSBdLmRlbGF5ID0gNTA7XHJcbiAgLypcclxuICAkLmZuWyBzdHJfaGFzaGNoYW5nZSBdLmRvbWFpbiA9IG51bGw7XHJcbiAgJC5mblsgc3RyX2hhc2hjaGFuZ2UgXS5zcmMgPSBudWxsO1xyXG4gICovXHJcbiAgXHJcbiAgLy8gRXZlbnQ6IGhhc2hjaGFuZ2UgZXZlbnRcclxuICAvLyBcclxuICAvLyBGaXJlZCB3aGVuIGxvY2F0aW9uLmhhc2ggY2hhbmdlcy4gSW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGl0LCB0aGUgbmF0aXZlXHJcbiAgLy8gSFRNTDUgd2luZG93Lm9uaGFzaGNoYW5nZSBldmVudCBpcyB1c2VkLCBvdGhlcndpc2UgYSBwb2xsaW5nIGxvb3AgaXNcclxuICAvLyBpbml0aWFsaXplZCwgcnVubmluZyBldmVyeSA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2UuZGVsYXk+IG1pbGxpc2Vjb25kcyB0b1xyXG4gIC8vIHNlZSBpZiB0aGUgaGFzaCBoYXMgY2hhbmdlZC4gSW4gSUU2LzcgKGFuZCBJRTggb3BlcmF0aW5nIGluIFwiSUU3XHJcbiAgLy8gY29tcGF0aWJpbGl0eVwiIG1vZGUpLCBhIGhpZGRlbiBJZnJhbWUgaXMgY3JlYXRlZCB0byBhbGxvdyB0aGUgYmFjayBidXR0b25cclxuICAvLyBhbmQgaGFzaC1iYXNlZCBoaXN0b3J5IHRvIHdvcmsuXHJcbiAgLy8gXHJcbiAgLy8gVXNhZ2UgYXMgZGVzY3JpYmVkIGluIDxqUXVlcnkuZm4uaGFzaGNoYW5nZT46XHJcbiAgLy8gXHJcbiAgLy8gPiAvLyBCaW5kIGFuIGV2ZW50IGhhbmRsZXIuXHJcbiAgLy8gPiBqUXVlcnkod2luZG93KS5oYXNoY2hhbmdlKCBmdW5jdGlvbihlKSB7XHJcbiAgLy8gPiAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDtcclxuICAvLyA+ICAgLi4uXHJcbiAgLy8gPiB9KTtcclxuICAvLyA+IFxyXG4gIC8vID4gLy8gTWFudWFsbHkgdHJpZ2dlciB0aGUgZXZlbnQgaGFuZGxlci5cclxuICAvLyA+IGpRdWVyeSh3aW5kb3cpLmhhc2hjaGFuZ2UoKTtcclxuICAvLyBcclxuICAvLyBBIG1vcmUgdmVyYm9zZSB1c2FnZSB0aGF0IGFsbG93cyBmb3IgZXZlbnQgbmFtZXNwYWNpbmc6XHJcbiAgLy8gXHJcbiAgLy8gPiAvLyBCaW5kIGFuIGV2ZW50IGhhbmRsZXIuXHJcbiAgLy8gPiBqUXVlcnkod2luZG93KS5iaW5kKCAnaGFzaGNoYW5nZScsIGZ1bmN0aW9uKGUpIHtcclxuICAvLyA+ICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoO1xyXG4gIC8vID4gICAuLi5cclxuICAvLyA+IH0pO1xyXG4gIC8vID4gXHJcbiAgLy8gPiAvLyBNYW51YWxseSB0cmlnZ2VyIHRoZSBldmVudCBoYW5kbGVyLlxyXG4gIC8vID4galF1ZXJ5KHdpbmRvdykudHJpZ2dlciggJ2hhc2hjaGFuZ2UnICk7XHJcbiAgLy8gXHJcbiAgLy8gQWRkaXRpb25hbCBOb3RlczpcclxuICAvLyBcclxuICAvLyAqIFRoZSBwb2xsaW5nIGxvb3AgYW5kIElmcmFtZSBhcmUgbm90IGNyZWF0ZWQgdW50aWwgYXQgbGVhc3Qgb25lIGhhbmRsZXJcclxuICAvLyAgIGlzIGFjdHVhbGx5IGJvdW5kIHRvIHRoZSAnaGFzaGNoYW5nZScgZXZlbnQuXHJcbiAgLy8gKiBJZiB5b3UgbmVlZCB0aGUgYm91bmQgaGFuZGxlcihzKSB0byBleGVjdXRlIGltbWVkaWF0ZWx5LCBpbiBjYXNlcyB3aGVyZVxyXG4gIC8vICAgYSBsb2NhdGlvbi5oYXNoIGV4aXN0cyBvbiBwYWdlIGxvYWQsIHZpYSBib29rbWFyayBvciBwYWdlIHJlZnJlc2ggZm9yXHJcbiAgLy8gICBleGFtcGxlLCB1c2UgalF1ZXJ5KHdpbmRvdykuaGFzaGNoYW5nZSgpIG9yIHRoZSBtb3JlIHZlcmJvc2UgXHJcbiAgLy8gICBqUXVlcnkod2luZG93KS50cmlnZ2VyKCAnaGFzaGNoYW5nZScgKS5cclxuICAvLyAqIFRoZSBldmVudCBjYW4gYmUgYm91bmQgYmVmb3JlIERPTSByZWFkeSwgYnV0IHNpbmNlIGl0IHdvbid0IGJlIHVzYWJsZVxyXG4gIC8vICAgYmVmb3JlIHRoZW4gaW4gSUU2LzcgKGR1ZSB0byB0aGUgbmVjZXNzYXJ5IElmcmFtZSksIHJlY29tbWVuZGVkIHVzYWdlIGlzXHJcbiAgLy8gICB0byBiaW5kIGl0IGluc2lkZSBhIERPTSByZWFkeSBoYW5kbGVyLlxyXG4gIFxyXG4gIC8vIE92ZXJyaWRlIGV4aXN0aW5nICQuZXZlbnQuc3BlY2lhbC5oYXNoY2hhbmdlIG1ldGhvZHMgKGFsbG93aW5nIHRoaXMgcGx1Z2luXHJcbiAgLy8gdG8gYmUgZGVmaW5lZCBhZnRlciBqUXVlcnkgQkJRIGluIEJCUSdzIHNvdXJjZSBjb2RlKS5cclxuICBzcGVjaWFsWyBzdHJfaGFzaGNoYW5nZSBdID0gJC5leHRlbmQoIHNwZWNpYWxbIHN0cl9oYXNoY2hhbmdlIF0sIHtcclxuICAgIFxyXG4gICAgLy8gQ2FsbGVkIG9ubHkgd2hlbiB0aGUgZmlyc3QgJ2hhc2hjaGFuZ2UnIGV2ZW50IGlzIGJvdW5kIHRvIHdpbmRvdy5cclxuICAgIHNldHVwOiBmdW5jdGlvbigpIHtcclxuICAgICAgLy8gSWYgd2luZG93Lm9uaGFzaGNoYW5nZSBpcyBzdXBwb3J0ZWQgbmF0aXZlbHksIHRoZXJlJ3Mgbm90aGluZyB0byBkby4uXHJcbiAgICAgIGlmICggc3VwcG9ydHNfb25oYXNoY2hhbmdlICkgeyByZXR1cm4gZmFsc2U7IH1cclxuICAgICAgXHJcbiAgICAgIC8vIE90aGVyd2lzZSwgd2UgbmVlZCB0byBjcmVhdGUgb3VyIG93bi4gQW5kIHdlIGRvbid0IHdhbnQgdG8gY2FsbCB0aGlzXHJcbiAgICAgIC8vIHVudGlsIHRoZSB1c2VyIGJpbmRzIHRvIHRoZSBldmVudCwganVzdCBpbiBjYXNlIHRoZXkgbmV2ZXIgZG8sIHNpbmNlIGl0XHJcbiAgICAgIC8vIHdpbGwgY3JlYXRlIGEgcG9sbGluZyBsb29wIGFuZCBwb3NzaWJseSBldmVuIGEgaGlkZGVuIElmcmFtZS5cclxuICAgICAgJCggZmFrZV9vbmhhc2hjaGFuZ2Uuc3RhcnQgKTtcclxuICAgIH0sXHJcbiAgICBcclxuICAgIC8vIENhbGxlZCBvbmx5IHdoZW4gdGhlIGxhc3QgJ2hhc2hjaGFuZ2UnIGV2ZW50IGlzIHVuYm91bmQgZnJvbSB3aW5kb3cuXHJcbiAgICB0ZWFyZG93bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vIElmIHdpbmRvdy5vbmhhc2hjaGFuZ2UgaXMgc3VwcG9ydGVkIG5hdGl2ZWx5LCB0aGVyZSdzIG5vdGhpbmcgdG8gZG8uLlxyXG4gICAgICBpZiAoIHN1cHBvcnRzX29uaGFzaGNoYW5nZSApIHsgcmV0dXJuIGZhbHNlOyB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBPdGhlcndpc2UsIHdlIG5lZWQgdG8gc3RvcCBvdXJzIChpZiBwb3NzaWJsZSkuXHJcbiAgICAgICQoIGZha2Vfb25oYXNoY2hhbmdlLnN0b3AgKTtcclxuICAgIH1cclxuICAgIFxyXG4gIH0pO1xyXG4gIFxyXG4gIC8vIGZha2Vfb25oYXNoY2hhbmdlIGRvZXMgYWxsIHRoZSB3b3JrIG9mIHRyaWdnZXJpbmcgdGhlIHdpbmRvdy5vbmhhc2hjaGFuZ2VcclxuICAvLyBldmVudCBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LCBpbmNsdWRpbmcgY3JlYXRpbmcgYVxyXG4gIC8vIHBvbGxpbmcgbG9vcCB0byB3YXRjaCBmb3IgaGFzaCBjaGFuZ2VzIGFuZCBpbiBJRSA2LzcgY3JlYXRpbmcgYSBoaWRkZW5cclxuICAvLyBJZnJhbWUgdG8gZW5hYmxlIGJhY2sgYW5kIGZvcndhcmQuXHJcbiAgZmFrZV9vbmhhc2hjaGFuZ2UgPSAoZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0ge30sXHJcbiAgICAgIHRpbWVvdXRfaWQsXHJcbiAgICAgIFxyXG4gICAgICAvLyBSZW1lbWJlciB0aGUgaW5pdGlhbCBoYXNoIHNvIGl0IGRvZXNuJ3QgZ2V0IHRyaWdnZXJlZCBpbW1lZGlhdGVseS5cclxuICAgICAgbGFzdF9oYXNoID0gZ2V0X2ZyYWdtZW50KCksXHJcbiAgICAgIFxyXG4gICAgICBmbl9yZXR2YWwgPSBmdW5jdGlvbih2YWwpeyByZXR1cm4gdmFsOyB9LFxyXG4gICAgICBoaXN0b3J5X3NldCA9IGZuX3JldHZhbCxcclxuICAgICAgaGlzdG9yeV9nZXQgPSBmbl9yZXR2YWw7XHJcbiAgICBcclxuICAgIC8vIFN0YXJ0IHRoZSBwb2xsaW5nIGxvb3AuXHJcbiAgICBzZWxmLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRpbWVvdXRfaWQgfHwgcG9sbCgpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gU3RvcCB0aGUgcG9sbGluZyBsb29wLlxyXG4gICAgc2VsZi5zdG9wID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRpbWVvdXRfaWQgJiYgY2xlYXJUaW1lb3V0KCB0aW1lb3V0X2lkICk7XHJcbiAgICAgIHRpbWVvdXRfaWQgPSB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBUaGlzIHBvbGxpbmcgbG9vcCBjaGVja3MgZXZlcnkgJC5mbi5oYXNoY2hhbmdlLmRlbGF5IG1pbGxpc2Vjb25kcyB0byBzZWVcclxuICAgIC8vIGlmIGxvY2F0aW9uLmhhc2ggaGFzIGNoYW5nZWQsIGFuZCB0cmlnZ2VycyB0aGUgJ2hhc2hjaGFuZ2UnIGV2ZW50IG9uXHJcbiAgICAvLyB3aW5kb3cgd2hlbiBuZWNlc3NhcnkuXHJcbiAgICBmdW5jdGlvbiBwb2xsKCkge1xyXG4gICAgICB2YXIgaGFzaCA9IGdldF9mcmFnbWVudCgpLFxyXG4gICAgICAgIGhpc3RvcnlfaGFzaCA9IGhpc3RvcnlfZ2V0KCBsYXN0X2hhc2ggKTtcclxuICAgICAgXHJcbiAgICAgIGlmICggaGFzaCAhPT0gbGFzdF9oYXNoICkge1xyXG4gICAgICAgIGhpc3Rvcnlfc2V0KCBsYXN0X2hhc2ggPSBoYXNoLCBoaXN0b3J5X2hhc2ggKTtcclxuICAgICAgICBcclxuICAgICAgICAkKHdpbmRvdykudHJpZ2dlciggc3RyX2hhc2hjaGFuZ2UgKTtcclxuICAgICAgICBcclxuICAgICAgfSBlbHNlIGlmICggaGlzdG9yeV9oYXNoICE9PSBsYXN0X2hhc2ggKSB7XHJcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9IGxvY2F0aW9uLmhyZWYucmVwbGFjZSggLyMuKi8sICcnICkgKyBoaXN0b3J5X2hhc2g7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHRpbWVvdXRfaWQgPSBzZXRUaW1lb3V0KCBwb2xsLCAkLmZuWyBzdHJfaGFzaGNoYW5nZSBdLmRlbGF5ICk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyB2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZcclxuICAgIC8vIHZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnYgUkVNT1ZFIElGIE5PVCBTVVBQT1JUSU5HIElFNi83LzggdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dlxyXG4gICAgLy8gdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2XHJcbiAgICB3aW5kb3cuYXR0YWNoRXZlbnQgJiYgIXdpbmRvdy5hZGRFdmVudExpc3RlbmVyICYmICFzdXBwb3J0c19vbmhhc2hjaGFuZ2UgJiYgKGZ1bmN0aW9uKCl7XHJcbiAgICAgIC8vIE5vdCBvbmx5IGRvIElFNi83IG5lZWQgdGhlIFwibWFnaWNhbFwiIElmcmFtZSB0cmVhdG1lbnQsIGJ1dCBzbyBkb2VzIElFOFxyXG4gICAgICAvLyB3aGVuIHJ1bm5pbmcgaW4gXCJJRTcgY29tcGF0aWJpbGl0eVwiIG1vZGUuXHJcbiAgICAgIFxyXG4gICAgICB2YXIgaWZyYW1lLFxyXG4gICAgICAgIGlmcmFtZV9zcmM7XHJcbiAgICAgIFxyXG4gICAgICAvLyBXaGVuIHRoZSBldmVudCBpcyBib3VuZCBhbmQgcG9sbGluZyBzdGFydHMgaW4gSUUgNi83LCBjcmVhdGUgYSBoaWRkZW5cclxuICAgICAgLy8gSWZyYW1lIGZvciBoaXN0b3J5IGhhbmRsaW5nLlxyXG4gICAgICBzZWxmLnN0YXJ0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBpZiAoICFpZnJhbWUgKSB7XHJcbiAgICAgICAgICBpZnJhbWVfc3JjID0gJC5mblsgc3RyX2hhc2hjaGFuZ2UgXS5zcmM7XHJcbiAgICAgICAgICBpZnJhbWVfc3JjID0gaWZyYW1lX3NyYyAmJiBpZnJhbWVfc3JjICsgZ2V0X2ZyYWdtZW50KCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIENyZWF0ZSBoaWRkZW4gSWZyYW1lLiBBdHRlbXB0IHRvIG1ha2UgSWZyYW1lIGFzIGhpZGRlbiBhcyBwb3NzaWJsZVxyXG4gICAgICAgICAgLy8gYnkgdXNpbmcgdGVjaG5pcXVlcyBmcm9tIGh0dHA6Ly93d3cucGFjaWVsbG9ncm91cC5jb20vYmxvZy8/cD02MDQuXHJcbiAgICAgICAgICBpZnJhbWUgPSAkKCc8aWZyYW1lIHRhYmluZGV4PVwiLTFcIiB0aXRsZT1cImVtcHR5XCIvPicpLmhpZGUoKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gV2hlbiBJZnJhbWUgaGFzIGNvbXBsZXRlbHkgbG9hZGVkLCBpbml0aWFsaXplIHRoZSBoaXN0b3J5IGFuZFxyXG4gICAgICAgICAgICAvLyBzdGFydCBwb2xsaW5nLlxyXG4gICAgICAgICAgICAub25lKCAnbG9hZCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgaWZyYW1lX3NyYyB8fCBoaXN0b3J5X3NldCggZ2V0X2ZyYWdtZW50KCkgKTtcclxuICAgICAgICAgICAgICBwb2xsKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBMb2FkIElmcmFtZSBzcmMgaWYgc3BlY2lmaWVkLCBvdGhlcndpc2Ugbm90aGluZy5cclxuICAgICAgICAgICAgLmF0dHIoICdzcmMnLCBpZnJhbWVfc3JjIHx8ICdqYXZhc2NyaXB0OjAnIClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEFwcGVuZCBJZnJhbWUgYWZ0ZXIgdGhlIGVuZCBvZiB0aGUgYm9keSB0byBwcmV2ZW50IHVubmVjZXNzYXJ5XHJcbiAgICAgICAgICAgIC8vIGluaXRpYWwgcGFnZSBzY3JvbGxpbmcgKHllcywgdGhpcyB3b3JrcykuXHJcbiAgICAgICAgICAgIC5pbnNlcnRBZnRlciggJ2JvZHknIClbMF0uY29udGVudFdpbmRvdztcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gV2hlbmV2ZXIgYGRvY3VtZW50LnRpdGxlYCBjaGFuZ2VzLCB1cGRhdGUgdGhlIElmcmFtZSdzIHRpdGxlIHRvXHJcbiAgICAgICAgICAvLyBwcmV0dGlmeSB0aGUgYmFjay9uZXh0IGhpc3RvcnkgbWVudSBlbnRyaWVzLiBTaW5jZSBJRSBzb21ldGltZXNcclxuICAgICAgICAgIC8vIGVycm9ycyB3aXRoIFwiVW5zcGVjaWZpZWQgZXJyb3JcIiB0aGUgdmVyeSBmaXJzdCB0aW1lIHRoaXMgaXMgc2V0XHJcbiAgICAgICAgICAvLyAoeWVzLCB2ZXJ5IHVzZWZ1bCkgd3JhcCB0aGlzIHdpdGggYSB0cnkvY2F0Y2ggYmxvY2suXHJcbiAgICAgICAgICBkb2Mub25wcm9wZXJ0eWNoYW5nZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgaWYgKCBldmVudC5wcm9wZXJ0eU5hbWUgPT09ICd0aXRsZScgKSB7XHJcbiAgICAgICAgICAgICAgICBpZnJhbWUuZG9jdW1lbnQudGl0bGUgPSBkb2MudGl0bGU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoKGUpIHt9XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgLy8gT3ZlcnJpZGUgdGhlIFwic3RvcFwiIG1ldGhvZCBzaW5jZSBhbiBJRTYvNyBJZnJhbWUgd2FzIGNyZWF0ZWQuIEV2ZW5cclxuICAgICAgLy8gaWYgdGhlcmUgYXJlIG5vIGxvbmdlciBhbnkgYm91bmQgZXZlbnQgaGFuZGxlcnMsIHRoZSBwb2xsaW5nIGxvb3BcclxuICAgICAgLy8gaXMgc3RpbGwgbmVjZXNzYXJ5IGZvciBiYWNrL25leHQgdG8gd29yayBhdCBhbGwhXHJcbiAgICAgIHNlbGYuc3RvcCA9IGZuX3JldHZhbDtcclxuICAgICAgXHJcbiAgICAgIC8vIEdldCBoaXN0b3J5IGJ5IGxvb2tpbmcgYXQgdGhlIGhpZGRlbiBJZnJhbWUncyBsb2NhdGlvbi5oYXNoLlxyXG4gICAgICBoaXN0b3J5X2dldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBnZXRfZnJhZ21lbnQoIGlmcmFtZS5sb2NhdGlvbi5ocmVmICk7XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAvLyBTZXQgYSBuZXcgaGlzdG9yeSBpdGVtIGJ5IG9wZW5pbmcgYW5kIHRoZW4gY2xvc2luZyB0aGUgSWZyYW1lXHJcbiAgICAgIC8vIGRvY3VtZW50LCAqdGhlbiogc2V0dGluZyBpdHMgbG9jYXRpb24uaGFzaC4gSWYgZG9jdW1lbnQuZG9tYWluIGhhc1xyXG4gICAgICAvLyBiZWVuIHNldCwgdXBkYXRlIHRoYXQgYXMgd2VsbC5cclxuICAgICAgaGlzdG9yeV9zZXQgPSBmdW5jdGlvbiggaGFzaCwgaGlzdG9yeV9oYXNoICkge1xyXG4gICAgICAgIHZhciBpZnJhbWVfZG9jID0gaWZyYW1lLmRvY3VtZW50LFxyXG4gICAgICAgICAgZG9tYWluID0gJC5mblsgc3RyX2hhc2hjaGFuZ2UgXS5kb21haW47XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCBoYXNoICE9PSBoaXN0b3J5X2hhc2ggKSB7XHJcbiAgICAgICAgICAvLyBVcGRhdGUgSWZyYW1lIHdpdGggYW55IGluaXRpYWwgYGRvY3VtZW50LnRpdGxlYCB0aGF0IG1pZ2h0IGJlIHNldC5cclxuICAgICAgICAgIGlmcmFtZV9kb2MudGl0bGUgPSBkb2MudGl0bGU7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIE9wZW5pbmcgdGhlIElmcmFtZSdzIGRvY3VtZW50IGFmdGVyIGl0IGhhcyBiZWVuIGNsb3NlZCBpcyB3aGF0XHJcbiAgICAgICAgICAvLyBhY3R1YWxseSBhZGRzIGEgaGlzdG9yeSBlbnRyeS5cclxuICAgICAgICAgIGlmcmFtZV9kb2Mub3BlbigpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBTZXQgZG9jdW1lbnQuZG9tYWluIGZvciB0aGUgSWZyYW1lIGRvY3VtZW50IGFzIHdlbGwsIGlmIG5lY2Vzc2FyeS5cclxuICAgICAgICAgIGRvbWFpbiAmJiBpZnJhbWVfZG9jLndyaXRlKCAnXFx4M2NzY3JpcHQ+ZG9jdW1lbnQuZG9tYWluPVwiJyArIGRvbWFpbiArICdcIlxceDNjL3NjcmlwdD4nICk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmcmFtZV9kb2MuY2xvc2UoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBJZnJhbWUncyBoYXNoLCBmb3IgZ3JlYXQganVzdGljZS5cclxuICAgICAgICAgIGlmcmFtZS5sb2NhdGlvbi5oYXNoID0gaGFzaDtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgfSkoKTtcclxuICAgIC8vIF5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXlxyXG4gICAgLy8gXl5eXl5eXl5eXl5eXl5eXl5eXiBSRU1PVkUgSUYgTk9UIFNVUFBPUlRJTkcgSUU2LzcvOCBeXl5eXl5eXl5eXl5eXl5eXl5eXHJcbiAgICAvLyBeXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5cclxuICAgIFxyXG4gICAgcmV0dXJuIHNlbGY7XHJcbiAgfSkoKTtcclxuICBcclxufSkoalF1ZXJ5LHRoaXMpO1xyXG5cclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxuXHQvKiEgbWF0Y2hNZWRpYSgpIHBvbHlmaWxsIC0gVGVzdCBhIENTUyBtZWRpYSB0eXBlL3F1ZXJ5IGluIEpTLiBBdXRob3JzICYgY29weXJpZ2h0IChjKSAyMDEyOiBTY290dCBKZWhsLCBQYXVsIElyaXNoLCBOaWNob2xhcyBaYWthcy4gRHVhbCBNSVQvQlNEIGxpY2Vuc2UgKi9cclxuXHR3aW5kb3cubWF0Y2hNZWRpYSA9IHdpbmRvdy5tYXRjaE1lZGlhIHx8IChmdW5jdGlvbiggZG9jLCB1bmRlZmluZWQgKSB7XHJcblxyXG5cdFx0dmFyIGJvb2wsXHJcblx0XHRcdGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50LFxyXG5cdFx0XHRyZWZOb2RlID0gZG9jRWxlbS5maXJzdEVsZW1lbnRDaGlsZCB8fCBkb2NFbGVtLmZpcnN0Q2hpbGQsXHJcblx0XHRcdC8vIGZha2VCb2R5IHJlcXVpcmVkIGZvciA8RkY0IHdoZW4gZXhlY3V0ZWQgaW4gPGhlYWQ+XHJcblx0XHRcdGZha2VCb2R5ID0gZG9jLmNyZWF0ZUVsZW1lbnQoIFwiYm9keVwiICksXHJcblx0XHRcdGRpdiA9IGRvYy5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XHJcblxyXG5cdFx0ZGl2LmlkID0gXCJtcS10ZXN0LTFcIjtcclxuXHRcdGRpdi5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTEwMGVtXCI7XHJcblx0XHRmYWtlQm9keS5zdHlsZS5iYWNrZ3JvdW5kID0gXCJub25lXCI7XHJcblx0XHRmYWtlQm9keS5hcHBlbmRDaGlsZChkaXYpO1xyXG5cclxuXHRcdHJldHVybiBmdW5jdGlvbihxKXtcclxuXHJcblx0XHRcdGRpdi5pbm5lckhUTUwgPSBcIiZzaHk7PHN0eWxlIG1lZGlhPVxcXCJcIiArIHEgKyBcIlxcXCI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTwvc3R5bGU+XCI7XHJcblxyXG5cdFx0XHRkb2NFbGVtLmluc2VydEJlZm9yZSggZmFrZUJvZHksIHJlZk5vZGUgKTtcclxuXHRcdFx0Ym9vbCA9IGRpdi5vZmZzZXRXaWR0aCA9PT0gNDI7XHJcblx0XHRcdGRvY0VsZW0ucmVtb3ZlQ2hpbGQoIGZha2VCb2R5ICk7XHJcblxyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdG1hdGNoZXM6IGJvb2wsXHJcblx0XHRcdFx0bWVkaWE6IHFcclxuXHRcdFx0fTtcclxuXHJcblx0XHR9O1xyXG5cclxuXHR9KCBkb2N1bWVudCApKTtcclxuXHJcblx0Ly8gJC5tb2JpbGUubWVkaWEgdXNlcyBtYXRjaE1lZGlhIHRvIHJldHVybiBhIGJvb2xlYW4uXHJcblx0JC5tb2JpbGUubWVkaWEgPSBmdW5jdGlvbiggcSApIHtcclxuXHRcdHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYSggcSApLm1hdGNoZXM7XHJcblx0fTtcclxuXHJcbn0pKGpRdWVyeSk7XHJcblxyXG5cdChmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cdFx0dmFyIHN1cHBvcnQgPSB7XHJcblx0XHRcdHRvdWNoOiBcIm9udG91Y2hlbmRcIiBpbiBkb2N1bWVudFxyXG5cdFx0fTtcclxuXHJcblx0XHQkLm1vYmlsZS5zdXBwb3J0ID0gJC5tb2JpbGUuc3VwcG9ydCB8fCB7fTtcclxuXHRcdCQuZXh0ZW5kKCAkLnN1cHBvcnQsIHN1cHBvcnQgKTtcclxuXHRcdCQuZXh0ZW5kKCAkLm1vYmlsZS5zdXBwb3J0LCBzdXBwb3J0ICk7XHJcblx0fSggalF1ZXJ5ICkpO1xyXG5cclxuXHQoZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHRcdCQuZXh0ZW5kKCAkLnN1cHBvcnQsIHtcclxuXHRcdFx0b3JpZW50YXRpb246IFwib3JpZW50YXRpb25cIiBpbiB3aW5kb3cgJiYgXCJvbm9yaWVudGF0aW9uY2hhbmdlXCIgaW4gd2luZG93XHJcblx0XHR9KTtcclxuXHR9KCBqUXVlcnkgKSk7XHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcbi8vIHRoeCBNb2Rlcm5penJcclxuZnVuY3Rpb24gcHJvcEV4aXN0cyggcHJvcCApIHtcclxuXHR2YXIgdWNfcHJvcCA9IHByb3AuY2hhckF0KCAwICkudG9VcHBlckNhc2UoKSArIHByb3Auc3Vic3RyKCAxICksXHJcblx0XHRwcm9wcyA9ICggcHJvcCArIFwiIFwiICsgdmVuZG9ycy5qb2luKCB1Y19wcm9wICsgXCIgXCIgKSArIHVjX3Byb3AgKS5zcGxpdCggXCIgXCIgKSxcclxuXHRcdHY7XHJcblxyXG5cdGZvciAoIHYgaW4gcHJvcHMgKSB7XHJcblx0XHRpZiAoIGZiQ1NTWyBwcm9wc1sgdiBdIF0gIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG52YXIgZmFrZUJvZHkgPSAkKCBcIjxib2R5PlwiICkucHJlcGVuZFRvKCBcImh0bWxcIiApLFxyXG5cdGZiQ1NTID0gZmFrZUJvZHlbIDAgXS5zdHlsZSxcclxuXHR2ZW5kb3JzID0gWyBcIldlYmtpdFwiLCBcIk1velwiLCBcIk9cIiBdLFxyXG5cdHdlYm9zID0gXCJwYWxtR2V0UmVzb3VyY2VcIiBpbiB3aW5kb3csIC8vb25seSB1c2VkIHRvIHJ1bGUgb3V0IHNjcm9sbFRvcFxyXG5cdG9wZXJhbWluaSA9IHdpbmRvdy5vcGVyYW1pbmkgJiYgKHt9KS50b1N0cmluZy5jYWxsKCB3aW5kb3cub3BlcmFtaW5pICkgPT09IFwiW29iamVjdCBPcGVyYU1pbmldXCIsXHJcblx0YmIgPSB3aW5kb3cuYmxhY2tiZXJyeSAmJiAhcHJvcEV4aXN0cyggXCItd2Via2l0LXRyYW5zZm9ybVwiICksIC8vb25seSB1c2VkIHRvIHJ1bGUgb3V0IGJveCBzaGFkb3csIGFzIGl0J3MgZmlsbGVkIG9wYXF1ZSBvbiBCQiA1IGFuZCBsb3dlclxyXG5cdG5va2lhTFRFN18zO1xyXG5cclxuLy8gaW5saW5lIFNWRyBzdXBwb3J0IHRlc3RcclxuZnVuY3Rpb24gaW5saW5lU1ZHKCkge1xyXG5cdC8vIFRoYW5rcyBNb2Rlcm5penIgJiBFcmlrIERhaGxzdHJvbVxyXG5cdHZhciB3ID0gd2luZG93LFxyXG5cdFx0c3ZnID0gISF3LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyAmJiAhIXcuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIgKS5jcmVhdGVTVkdSZWN0ICYmICEoIHcub3BlcmEgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCBcIkNocm9tZVwiICkgPT09IC0xICksXHJcblx0XHRzdXBwb3J0ID0gZnVuY3Rpb24oIGRhdGEgKSB7XHJcblx0XHRcdGlmICggISggZGF0YSAmJiBzdmcgKSApIHtcclxuXHRcdFx0XHQkKCBcImh0bWxcIiApLmFkZENsYXNzKCBcInVpLW5vc3ZnXCIgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdGltZyA9IG5ldyB3LkltYWdlKCk7XHJcblxyXG5cdGltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcblx0XHRzdXBwb3J0KCBmYWxzZSApO1xyXG5cdH07XHJcblx0aW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0c3VwcG9ydCggaW1nLndpZHRoID09PSAxICYmIGltZy5oZWlnaHQgPT09IDEgKTtcclxuXHR9O1xyXG5cdGltZy5zcmMgPSBcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veXdBQUFBQUFRQUJBQUFDQVV3QU93PT1cIjtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJhbnNmb3JtM2RUZXN0KCkge1xyXG5cdHZhciBtcVByb3AgPSBcInRyYW5zZm9ybS0zZFwiLFxyXG5cdFx0Ly8gQmVjYXVzZSB0aGUgYHRyYW5zbGF0ZTNkYCB0ZXN0IGJlbG93IHRocm93cyBmYWxzZSBwb3NpdGl2ZXMgaW4gQW5kcm9pZDpcclxuXHRcdHJldCA9ICQubW9iaWxlLm1lZGlhKCBcIigtXCIgKyB2ZW5kb3JzLmpvaW4oIFwiLVwiICsgbXFQcm9wICsgXCIpLCgtXCIgKSArIFwiLVwiICsgbXFQcm9wICsgXCIpLChcIiArIG1xUHJvcCArIFwiKVwiICksXHJcblx0XHRlbCwgdHJhbnNmb3JtcywgdDtcclxuXHJcblx0aWYgKCByZXQgKSB7XHJcblx0XHRyZXR1cm4gISFyZXQ7XHJcblx0fVxyXG5cclxuXHRlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcclxuXHR0cmFuc2Zvcm1zID0ge1xyXG5cdFx0Ly8gV2XigJlyZSBvbWl0dGluZyBPcGVyYSBmb3IgdGhlIHRpbWUgYmVpbmc7IE1TIHVzZXMgdW5wcmVmaXhlZC5cclxuXHRcdFwiTW96VHJhbnNmb3JtXCI6IFwiLW1vei10cmFuc2Zvcm1cIixcclxuXHRcdFwidHJhbnNmb3JtXCI6IFwidHJhbnNmb3JtXCJcclxuXHR9O1xyXG5cclxuXHRmYWtlQm9keS5hcHBlbmQoIGVsICk7XHJcblxyXG5cdGZvciAoIHQgaW4gdHJhbnNmb3JtcyApIHtcclxuXHRcdGlmICggZWwuc3R5bGVbIHQgXSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRlbC5zdHlsZVsgdCBdID0gXCJ0cmFuc2xhdGUzZCggMTAwcHgsIDFweCwgMXB4IClcIjtcclxuXHRcdFx0cmV0ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGVsICkuZ2V0UHJvcGVydHlWYWx1ZSggdHJhbnNmb3Jtc1sgdCBdICk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiAoICEhcmV0ICYmIHJldCAhPT0gXCJub25lXCIgKTtcclxufVxyXG5cclxuLy8gVGVzdCBmb3IgZHluYW1pYy11cGRhdGluZyBiYXNlIHRhZyBzdXBwb3J0ICggYWxsb3dzIHVzIHRvIGF2b2lkIGhyZWYsc3JjIGF0dHIgcmV3cml0aW5nIClcclxuZnVuY3Rpb24gYmFzZVRhZ1Rlc3QoKSB7XHJcblx0dmFyIGZhdXhCYXNlID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0ICsgbG9jYXRpb24ucGF0aG5hbWUgKyBcInVpLWRpci9cIixcclxuXHRcdGJhc2UgPSAkKCBcImhlYWQgYmFzZVwiICksXHJcblx0XHRmYXV4RWxlID0gbnVsbCxcclxuXHRcdGhyZWYgPSBcIlwiLFxyXG5cdFx0bGluaywgcmViYXNlO1xyXG5cclxuXHRpZiAoICFiYXNlLmxlbmd0aCApIHtcclxuXHRcdGJhc2UgPSBmYXV4RWxlID0gJCggXCI8YmFzZT5cIiwgeyBcImhyZWZcIjogZmF1eEJhc2UgfSkuYXBwZW5kVG8oIFwiaGVhZFwiICk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGhyZWYgPSBiYXNlLmF0dHIoIFwiaHJlZlwiICk7XHJcblx0fVxyXG5cclxuXHRsaW5rID0gJCggXCI8YSBocmVmPSd0ZXN0dXJsJyAvPlwiICkucHJlcGVuZFRvKCBmYWtlQm9keSApO1xyXG5cdHJlYmFzZSA9IGxpbmtbIDAgXS5ocmVmO1xyXG5cdGJhc2VbIDAgXS5ocmVmID0gaHJlZiB8fCBsb2NhdGlvbi5wYXRobmFtZTtcclxuXHJcblx0aWYgKCBmYXV4RWxlICkge1xyXG5cdFx0ZmF1eEVsZS5yZW1vdmUoKTtcclxuXHR9XHJcblx0cmV0dXJuIHJlYmFzZS5pbmRleE9mKCBmYXV4QmFzZSApID09PSAwO1xyXG59XHJcblxyXG4vLyBUaGFua3MgTW9kZXJuaXpyXHJcbmZ1bmN0aW9uIGNzc1BvaW50ZXJFdmVudHNUZXN0KCkge1xyXG5cdHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJ4XCIgKSxcclxuXHRcdGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcclxuXHRcdGdldENvbXB1dGVkU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSxcclxuXHRcdHN1cHBvcnRzO1xyXG5cclxuXHRpZiAoICEoIFwicG9pbnRlckV2ZW50c1wiIGluIGVsZW1lbnQuc3R5bGUgKSApIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdGVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiO1xyXG5cdGVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwieFwiO1xyXG5cdGRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCggZWxlbWVudCApO1xyXG5cdHN1cHBvcnRzID0gZ2V0Q29tcHV0ZWRTdHlsZSAmJlxyXG5cdGdldENvbXB1dGVkU3R5bGUoIGVsZW1lbnQsIFwiXCIgKS5wb2ludGVyRXZlbnRzID09PSBcImF1dG9cIjtcclxuXHRkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIGVsZW1lbnQgKTtcclxuXHRyZXR1cm4gISFzdXBwb3J0cztcclxufVxyXG5cclxuZnVuY3Rpb24gYm91bmRpbmdSZWN0KCkge1xyXG5cdHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XHJcblx0cmV0dXJuIHR5cGVvZiBkaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICE9PSBcInVuZGVmaW5lZFwiO1xyXG59XHJcblxyXG4vLyBub24tVUEtYmFzZWQgSUUgdmVyc2lvbiBjaGVjayBieSBKYW1lcyBQYWRvbHNleSwgbW9kaWZpZWQgYnkgamRhbHRvbiAtIGZyb20gaHR0cDovL2dpc3QuZ2l0aHViLmNvbS81Mjc2ODNcclxuLy8gYWxsb3dzIGZvciBpbmNsdXNpb24gb2YgSUUgNissIGluY2x1ZGluZyBXaW5kb3dzIE1vYmlsZSA3XHJcbiQuZXh0ZW5kKCAkLm1vYmlsZSwgeyBicm93c2VyOiB7fSB9ICk7XHJcbiQubW9iaWxlLmJyb3dzZXIub2xkSUUgPSAoZnVuY3Rpb24oKSB7XHJcblx0dmFyIHYgPSAzLFxyXG5cdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLFxyXG5cdFx0YSA9IGRpdi5hbGwgfHwgW107XHJcblxyXG5cdGRvIHtcclxuXHRcdGRpdi5pbm5lckhUTUwgPSBcIjwhLS1baWYgZ3QgSUUgXCIgKyAoICsrdiApICsgXCJdPjxicj48IVtlbmRpZl0tLT5cIjtcclxuXHR9IHdoaWxlKCBhWzBdICk7XHJcblxyXG5cdHJldHVybiB2ID4gNCA/IHYgOiAhdjtcclxufSkoKTtcclxuXHJcbmZ1bmN0aW9uIGZpeGVkUG9zaXRpb24oKSB7XHJcblx0dmFyIHcgPSB3aW5kb3csXHJcblx0XHR1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQsXHJcblx0XHRwbGF0Zm9ybSA9IG5hdmlnYXRvci5wbGF0Zm9ybSxcclxuXHRcdC8vIFJlbmRlcmluZyBlbmdpbmUgaXMgV2Via2l0LCBhbmQgY2FwdHVyZSBtYWpvciB2ZXJzaW9uXHJcblx0XHR3a21hdGNoID0gdWEubWF0Y2goIC9BcHBsZVdlYktpdFxcLyhbMC05XSspLyApLFxyXG5cdFx0d2t2ZXJzaW9uID0gISF3a21hdGNoICYmIHdrbWF0Y2hbIDEgXSxcclxuXHRcdGZmbWF0Y2ggPSB1YS5tYXRjaCggL0Zlbm5lY1xcLyhbMC05XSspLyApLFxyXG5cdFx0ZmZ2ZXJzaW9uID0gISFmZm1hdGNoICYmIGZmbWF0Y2hbIDEgXSxcclxuXHRcdG9wZXJhbW1vYmlsZW1hdGNoID0gdWEubWF0Y2goIC9PcGVyYSBNb2JpXFwvKFswLTldKykvICksXHJcblx0XHRvbXZlcnNpb24gPSAhIW9wZXJhbW1vYmlsZW1hdGNoICYmIG9wZXJhbW1vYmlsZW1hdGNoWyAxIF07XHJcblxyXG5cdGlmIChcclxuXHRcdC8vIGlPUyA0LjMgYW5kIG9sZGVyIDogUGxhdGZvcm0gaXMgaVBob25lL1BhZC9Ub3VjaCBhbmQgV2Via2l0IHZlcnNpb24gaXMgbGVzcyB0aGFuIDUzNCAoaW9zNSlcclxuXHRcdCggKCBwbGF0Zm9ybS5pbmRleE9mKCBcImlQaG9uZVwiICkgPiAtMSB8fCBwbGF0Zm9ybS5pbmRleE9mKCBcImlQYWRcIiApID4gLTEgIHx8IHBsYXRmb3JtLmluZGV4T2YoIFwiaVBvZFwiICkgPiAtMSApICYmIHdrdmVyc2lvbiAmJiB3a3ZlcnNpb24gPCA1MzQgKSB8fFxyXG5cdFx0Ly8gT3BlcmEgTWluaVxyXG5cdFx0KCB3Lm9wZXJhbWluaSAmJiAoe30pLnRvU3RyaW5nLmNhbGwoIHcub3BlcmFtaW5pICkgPT09IFwiW29iamVjdCBPcGVyYU1pbmldXCIgKSB8fFxyXG5cdFx0KCBvcGVyYW1tb2JpbGVtYXRjaCAmJiBvbXZlcnNpb24gPCA3NDU4IClcdHx8XHJcblx0XHQvL0FuZHJvaWQgbHRlIDIuMTogUGxhdGZvcm0gaXMgQW5kcm9pZCBhbmQgV2Via2l0IHZlcnNpb24gaXMgbGVzcyB0aGFuIDUzMyAoQW5kcm9pZCAyLjIpXHJcblx0XHQoIHVhLmluZGV4T2YoIFwiQW5kcm9pZFwiICkgPiAtMSAmJiB3a3ZlcnNpb24gJiYgd2t2ZXJzaW9uIDwgNTMzICkgfHxcclxuXHRcdC8vIEZpcmVmb3ggTW9iaWxlIGJlZm9yZSA2LjAgLVxyXG5cdFx0KCBmZnZlcnNpb24gJiYgZmZ2ZXJzaW9uIDwgNiApIHx8XHJcblx0XHQvLyBXZWJPUyBsZXNzIHRoYW4gM1xyXG5cdFx0KCBcInBhbG1HZXRSZXNvdXJjZVwiIGluIHdpbmRvdyAmJiB3a3ZlcnNpb24gJiYgd2t2ZXJzaW9uIDwgNTM0IClcdHx8XHJcblx0XHQvLyBNZWVHb1xyXG5cdFx0KCB1YS5pbmRleE9mKCBcIk1lZUdvXCIgKSA+IC0xICYmIHVhLmluZGV4T2YoIFwiTm9raWFCcm93c2VyLzguNS4wXCIgKSA+IC0xICkgKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuJC5leHRlbmQoICQuc3VwcG9ydCwge1xyXG5cdC8vIE5vdGUsIENocm9tZSBmb3IgaU9TIGhhcyBhbiBleHRyZW1lbHkgcXVpcmt5IGltcGxlbWVudGF0aW9uIG9mIHBvcHN0YXRlLlxyXG5cdC8vIFdlJ3ZlIGNob3NlbiB0byB0YWtlIHRoZSBzaG9ydGVzdCBwYXRoIHRvIGEgYnVnIGZpeCBoZXJlIGZvciBpc3N1ZSAjNTQyNlxyXG5cdC8vIFNlZSB0aGUgZm9sbG93aW5nIGxpbmsgZm9yIGluZm9ybWF0aW9uIGFib3V0IHRoZSByZWdleCBjaG9zZW5cclxuXHQvLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9jaHJvbWUvbW9iaWxlL2RvY3MvdXNlci1hZ2VudCNjaHJvbWVfZm9yX2lvc191c2VyLWFnZW50XHJcblx0cHVzaFN0YXRlOiBcInB1c2hTdGF0ZVwiIGluIGhpc3RvcnkgJiZcclxuXHRcdFwicmVwbGFjZVN0YXRlXCIgaW4gaGlzdG9yeSAmJlxyXG5cdFx0Ly8gV2hlbiBydW5uaW5nIGluc2lkZSBhIEZGIGlmcmFtZSwgY2FsbGluZyByZXBsYWNlU3RhdGUgY2F1c2VzIGFuIGVycm9yXHJcblx0XHQhKCB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCBcIkZpcmVmb3hcIiApID49IDAgJiYgd2luZG93LnRvcCAhPT0gd2luZG93ICkgJiZcclxuXHRcdCggd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuc2VhcmNoKC9DcmlPUy8pID09PSAtMSApLFxyXG5cclxuXHRtZWRpYXF1ZXJ5OiAkLm1vYmlsZS5tZWRpYSggXCJvbmx5IGFsbFwiICksXHJcblx0Y3NzUHNldWRvRWxlbWVudDogISFwcm9wRXhpc3RzKCBcImNvbnRlbnRcIiApLFxyXG5cdHRvdWNoT3ZlcmZsb3c6ICEhcHJvcEV4aXN0cyggXCJvdmVyZmxvd1Njcm9sbGluZ1wiICksXHJcblx0Y3NzVHJhbnNmb3JtM2Q6IHRyYW5zZm9ybTNkVGVzdCgpLFxyXG5cdGJveFNoYWRvdzogISFwcm9wRXhpc3RzKCBcImJveFNoYWRvd1wiICkgJiYgIWJiLFxyXG5cdGZpeGVkUG9zaXRpb246IGZpeGVkUG9zaXRpb24oKSxcclxuXHRzY3JvbGxUb3A6IChcInBhZ2VYT2Zmc2V0XCIgaW4gd2luZG93IHx8XHJcblx0XHRcInNjcm9sbFRvcFwiIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fFxyXG5cdFx0XCJzY3JvbGxUb3BcIiBpbiBmYWtlQm9keVsgMCBdKSAmJiAhd2Vib3MgJiYgIW9wZXJhbWluaSxcclxuXHJcblx0ZHluYW1pY0Jhc2VUYWc6IGJhc2VUYWdUZXN0KCksXHJcblx0Y3NzUG9pbnRlckV2ZW50czogY3NzUG9pbnRlckV2ZW50c1Rlc3QoKSxcclxuXHRib3VuZGluZ1JlY3Q6IGJvdW5kaW5nUmVjdCgpLFxyXG5cdGlubGluZVNWRzogaW5saW5lU1ZHXHJcbn0pO1xyXG5cclxuZmFrZUJvZHkucmVtb3ZlKCk7XHJcblxyXG4vLyAkLm1vYmlsZS5hamF4QmxhY2tsaXN0IGlzIHVzZWQgdG8gb3ZlcnJpZGUgYWpheEVuYWJsZWQgb24gcGxhdGZvcm1zIHRoYXQgaGF2ZSBrbm93biBjb25mbGljdHMgd2l0aCBoYXNoIGhpc3RvcnkgdXBkYXRlcyAoQkI1LCBTeW1iaWFuKVxyXG4vLyBvciB0aGF0IGdlbmVyYWxseSB3b3JrIGJldHRlciBicm93c2luZyBpbiByZWd1bGFyIGh0dHAgZm9yIGZ1bGwgcGFnZSByZWZyZXNoZXMgKE9wZXJhIE1pbmkpXHJcbi8vIE5vdGU6IFRoaXMgZGV0ZWN0aW9uIGJlbG93IGlzIHVzZWQgYXMgYSBsYXN0IHJlc29ydC5cclxuLy8gV2UgcmVjb21tZW5kIG9ubHkgdXNpbmcgdGhlc2UgZGV0ZWN0aW9uIG1ldGhvZHMgd2hlbiBhbGwgb3RoZXIgbW9yZSByZWxpYWJsZS9mb3J3YXJkLWxvb2tpbmcgYXBwcm9hY2hlcyBhcmUgbm90IHBvc3NpYmxlXHJcbm5va2lhTFRFN18zID0gKGZ1bmN0aW9uKCkge1xyXG5cclxuXHR2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcclxuXHJcblx0Ly9UaGUgZm9sbG93aW5nIGlzIGFuIGF0dGVtcHQgdG8gbWF0Y2ggTm9raWEgYnJvd3NlcnMgdGhhdCBhcmUgcnVubmluZyBTeW1iaWFuL3M2MCwgd2l0aCB3ZWJraXQsIHZlcnNpb24gNy4zIG9yIG9sZGVyXHJcblx0cmV0dXJuIHVhLmluZGV4T2YoIFwiTm9raWFcIiApID4gLTEgJiZcclxuXHRcdFx0KCB1YS5pbmRleE9mKCBcIlN5bWJpYW4vM1wiICkgPiAtMSB8fCB1YS5pbmRleE9mKCBcIlNlcmllczYwLzVcIiApID4gLTEgKSAmJlxyXG5cdFx0XHR1YS5pbmRleE9mKCBcIkFwcGxlV2ViS2l0XCIgKSA+IC0xICYmXHJcblx0XHRcdHVhLm1hdGNoKCAvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXFwvN1xcLlswLTNdLyApO1xyXG59KSgpO1xyXG5cclxuLy8gU3VwcG9ydCBjb25kaXRpb25zIHRoYXQgbXVzdCBiZSBtZXQgaW4gb3JkZXIgdG8gcHJvY2VlZFxyXG4vLyBkZWZhdWx0IGVuaGFuY2VkIHF1YWxpZmljYXRpb25zIGFyZSBtZWRpYSBxdWVyeSBzdXBwb3J0IE9SIElFIDcrXHJcblxyXG4kLm1vYmlsZS5ncmFkZUEgPSBmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gKCAoICQuc3VwcG9ydC5tZWRpYXF1ZXJ5ICYmICQuc3VwcG9ydC5jc3NQc2V1ZG9FbGVtZW50ICkgfHwgJC5tb2JpbGUuYnJvd3Nlci5vbGRJRSAmJiAkLm1vYmlsZS5icm93c2VyLm9sZElFID49IDggKSAmJiAoICQuc3VwcG9ydC5ib3VuZGluZ1JlY3QgfHwgJC5mbi5qcXVlcnkubWF0Y2goLzFcXC5bMC03K11cXC5bMC05K10/LykgIT09IG51bGwgKTtcclxufTtcclxuXHJcbiQubW9iaWxlLmFqYXhCbGFja2xpc3QgPVxyXG5cdFx0XHQvLyBCbGFja0JlcnJ5IGJyb3dzZXJzLCBwcmUtd2Via2l0XHJcblx0XHRcdHdpbmRvdy5ibGFja2JlcnJ5ICYmICF3aW5kb3cuV2ViS2l0UG9pbnQgfHxcclxuXHRcdFx0Ly8gT3BlcmEgTWluaVxyXG5cdFx0XHRvcGVyYW1pbmkgfHxcclxuXHRcdFx0Ly8gU3ltYmlhbiB3ZWJraXRzIHByZSA3LjNcclxuXHRcdFx0bm9raWFMVEU3XzM7XHJcblxyXG4vLyBMYXN0bHksIHRoaXMgd29ya2Fyb3VuZCBpcyB0aGUgb25seSB3YXkgd2UndmUgZm91bmQgc28gZmFyIHRvIGdldCBwcmUgNy4zIFN5bWJpYW4gd2Via2l0IGRldmljZXNcclxuLy8gdG8gcmVuZGVyIHRoZSBzdHlsZXNoZWV0cyB3aGVuIHRoZXkncmUgcmVmZXJlbmNlZCBiZWZvcmUgdGhpcyBzY3JpcHQsIGFzIHdlJ2QgcmVjb21tZW5kIGRvaW5nLlxyXG4vLyBUaGlzIHNpbXBseSByZWFwcGVuZHMgdGhlIENTUyBpbiBwbGFjZSwgd2hpY2ggZm9yIHNvbWUgcmVhc29uIG1ha2VzIGl0IGFwcGx5XHJcbmlmICggbm9raWFMVEU3XzMgKSB7XHJcblx0JChmdW5jdGlvbigpIHtcclxuXHRcdCQoIFwiaGVhZCBsaW5rW3JlbD0nc3R5bGVzaGVldCddXCIgKS5hdHRyKCBcInJlbFwiLCBcImFsdGVybmF0ZSBzdHlsZXNoZWV0XCIgKS5hdHRyKCBcInJlbFwiLCBcInN0eWxlc2hlZXRcIiApO1xyXG5cdH0pO1xyXG59XHJcblxyXG4vLyBGb3IgcnVsaW5nIG91dCBzaGFkb3dzIHZpYSBjc3NcclxuaWYgKCAhJC5zdXBwb3J0LmJveFNoYWRvdyApIHtcclxuXHQkKCBcImh0bWxcIiApLmFkZENsYXNzKCBcInVpLW5vYm94c2hhZG93XCIgKTtcclxufVxyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cdHZhciAkd2luID0gJC5tb2JpbGUud2luZG93LCBzZWxmLFxyXG5cdFx0ZHVtbXlGblRvSW5pdE5hdmlnYXRlID0gZnVuY3Rpb24oKSB7XHJcblx0XHR9O1xyXG5cclxuXHQkLmV2ZW50LnNwZWNpYWwuYmVmb3JlbmF2aWdhdGUgPSB7XHJcblx0XHRzZXR1cDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdCR3aW4ub24oIFwibmF2aWdhdGVcIiwgZHVtbXlGblRvSW5pdE5hdmlnYXRlICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0JHdpbi5vZmYoIFwibmF2aWdhdGVcIiwgZHVtbXlGblRvSW5pdE5hdmlnYXRlICk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0JC5ldmVudC5zcGVjaWFsLm5hdmlnYXRlID0gc2VsZiA9IHtcclxuXHRcdGJvdW5kOiBmYWxzZSxcclxuXHJcblx0XHRwdXNoU3RhdGVFbmFibGVkOiB0cnVlLFxyXG5cclxuXHRcdG9yaWdpbmFsRXZlbnROYW1lOiB1bmRlZmluZWQsXHJcblxyXG5cdFx0Ly8gSWYgcHVzaHN0YXRlIHN1cHBvcnQgaXMgcHJlc2VudCBhbmQgcHVzaCBzdGF0ZSBzdXBwb3J0IGlzIGRlZmluZWQgdG9cclxuXHRcdC8vIGJlIHRydWUgb24gdGhlIG1vYmlsZSBuYW1lc3BhY2UuXHJcblx0XHRpc1B1c2hTdGF0ZUVuYWJsZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gJC5zdXBwb3J0LnB1c2hTdGF0ZSAmJlxyXG5cdFx0XHRcdCQubW9iaWxlLnB1c2hTdGF0ZUVuYWJsZWQgPT09IHRydWUgJiZcclxuXHRcdFx0XHR0aGlzLmlzSGFzaENoYW5nZUVuYWJsZWQoKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gISEgYXNzdW1lcyBtb2JpbGUgbmFtZXNwYWNlIGlzIHByZXNlbnRcclxuXHRcdGlzSGFzaENoYW5nZUVuYWJsZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gJC5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQgPT09IHRydWU7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIFRPRE8gYSBsb3Qgb2YgZHVwbGljYXRpb24gYmV0d2VlbiBwb3BzdGF0ZSBhbmQgaGFzaGNoYW5nZVxyXG5cdFx0cG9wc3RhdGU6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdFx0dmFyIG5ld0V2ZW50ID0gbmV3ICQuRXZlbnQoIFwibmF2aWdhdGVcIiApLFxyXG5cdFx0XHRcdGJlZm9yZU5hdmlnYXRlID0gbmV3ICQuRXZlbnQoIFwiYmVmb3JlbmF2aWdhdGVcIiApLFxyXG5cdFx0XHRcdHN0YXRlID0gZXZlbnQub3JpZ2luYWxFdmVudC5zdGF0ZSB8fCB7fTtcclxuXHJcblx0XHRcdGJlZm9yZU5hdmlnYXRlLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcclxuXHRcdFx0JHdpbi50cmlnZ2VyKCBiZWZvcmVOYXZpZ2F0ZSApO1xyXG5cclxuXHRcdFx0aWYgKCBiZWZvcmVOYXZpZ2F0ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggZXZlbnQuaGlzdG9yeVN0YXRlICkge1xyXG5cdFx0XHRcdCQuZXh0ZW5kKHN0YXRlLCBldmVudC5oaXN0b3J5U3RhdGUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBNYWtlIHN1cmUgdGhlIG9yaWdpbmFsIGV2ZW50IGlzIHRyYWNrZWQgZm9yIHRoZSBlbmRcclxuXHRcdFx0Ly8gdXNlciB0byBpbnNwZWN0IGluY2FzZSB0aGV5IHdhbnQgdG8gZG8gc29tZXRoaW5nIHNwZWNpYWxcclxuXHRcdFx0bmV3RXZlbnQub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xyXG5cclxuXHRcdFx0Ly8gTk9URSB3ZSBsZXQgdGhlIGN1cnJlbnQgc3RhY2sgdW53aW5kIGJlY2F1c2UgYW55IGFzc2lnbm1lbnQgdG9cclxuXHRcdFx0Ly8gICAgICBsb2NhdGlvbi5oYXNoIHdpbGwgc3RvcCB0aGUgd29ybGQgYW5kIHJ1biB0aGlzIGV2ZW50IGhhbmRsZXIuIEJ5XHJcblx0XHRcdC8vICAgICAgZG9pbmcgdGhpcyB3ZSBjcmVhdGUgYSBzaW1pbGFyIGJlaGF2aW9yIHRvIGhhc2hjaGFuZ2Ugb24gaGFzaFxyXG5cdFx0XHQvLyAgICAgIGFzc2lnbm1lbnRcclxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkd2luLnRyaWdnZXIoIG5ld0V2ZW50LCB7XHJcblx0XHRcdFx0XHRzdGF0ZTogc3RhdGVcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSwgMCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdGhhc2hjaGFuZ2U6IGZ1bmN0aW9uKCBldmVudCAvKiwgZGF0YSAqLyApIHtcclxuXHRcdFx0dmFyIG5ld0V2ZW50ID0gbmV3ICQuRXZlbnQoIFwibmF2aWdhdGVcIiApLFxyXG5cdFx0XHRcdGJlZm9yZU5hdmlnYXRlID0gbmV3ICQuRXZlbnQoIFwiYmVmb3JlbmF2aWdhdGVcIiApO1xyXG5cclxuXHRcdFx0YmVmb3JlTmF2aWdhdGUub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xyXG5cdFx0XHQkd2luLnRyaWdnZXIoIGJlZm9yZU5hdmlnYXRlICk7XHJcblxyXG5cdFx0XHRpZiAoIGJlZm9yZU5hdmlnYXRlLmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRoZSBvcmlnaW5hbCBldmVudCBpcyB0cmFja2VkIGZvciB0aGUgZW5kXHJcblx0XHRcdC8vIHVzZXIgdG8gaW5zcGVjdCBpbmNhc2UgdGhleSB3YW50IHRvIGRvIHNvbWV0aGluZyBzcGVjaWFsXHJcblx0XHRcdG5ld0V2ZW50Lm9yaWdpbmFsRXZlbnQgPSBldmVudDtcclxuXHJcblx0XHRcdC8vIFRyaWdnZXIgdGhlIGhhc2hjaGFuZ2Ugd2l0aCBzdGF0ZSBwcm92aWRlZCBieSB0aGUgdXNlclxyXG5cdFx0XHQvLyB0aGF0IGFsdGVyZWQgdGhlIGhhc2hcclxuXHRcdFx0JHdpbi50cmlnZ2VyKCBuZXdFdmVudCwge1xyXG5cdFx0XHRcdC8vIFVzZXJzIHRoYXQgd2FudCB0byBmdWxseSBub3JtYWxpemUgdGhlIHR3byBldmVudHNcclxuXHRcdFx0XHQvLyB3aWxsIG5lZWQgdG8gZG8gaGlzdG9yeSBtYW5hZ2VtZW50IGRvd24gdGhlIHN0YWNrIGFuZFxyXG5cdFx0XHRcdC8vIGFkZCB0aGUgc3RhdGUgdG8gdGhlIGV2ZW50IGJlZm9yZSB0aGlzIGJpbmRpbmcgaXMgZmlyZWRcclxuXHRcdFx0XHQvLyBUT0RPIGNvbnNpZGVyIGFsbG93aW5nIGZvciB0aGUgZXhwbGljaXQgYWRkaXRpb24gb2YgY2FsbGJhY2tzXHJcblx0XHRcdFx0Ly8gICAgICB0byBiZSBmaXJlZCBiZWZvcmUgdGhpcyB2YWx1ZSBpcyBzZXQgdG8gYXZvaWQgZXZlbnQgdGltaW5nIGlzc3Vlc1xyXG5cdFx0XHRcdHN0YXRlOiBldmVudC5oYXNoY2hhbmdlU3RhdGUgfHwge31cclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIFRPRE8gV2UgcmVhbGx5IG9ubHkgd2FudCB0byBzZXQgdGhpcyB1cCBvbmNlXHJcblx0XHQvLyAgICAgIGJ1dCBJJ20gbm90IGNsZWFyIGlmIHRoZXJlJ3MgYSBiZXRlciB3YXkgdG8gYWNoaWV2ZVxyXG5cdFx0Ly8gICAgICB0aGlzIHdpdGggdGhlIGpRdWVyeSBzcGVjaWFsIGV2ZW50IHN0cnVjdHVyZVxyXG5cdFx0c2V0dXA6IGZ1bmN0aW9uKCAvKiBkYXRhLCBuYW1lc3BhY2VzICovICkge1xyXG5cdFx0XHRpZiAoIHNlbGYuYm91bmQgKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzZWxmLmJvdW5kID0gdHJ1ZTtcclxuXHJcblx0XHRcdGlmICggc2VsZi5pc1B1c2hTdGF0ZUVuYWJsZWQoKSApIHtcclxuXHRcdFx0XHRzZWxmLm9yaWdpbmFsRXZlbnROYW1lID0gXCJwb3BzdGF0ZVwiO1xyXG5cdFx0XHRcdCR3aW4uYmluZCggXCJwb3BzdGF0ZS5uYXZpZ2F0ZVwiLCBzZWxmLnBvcHN0YXRlICk7XHJcblx0XHRcdH0gZWxzZSBpZiAoIHNlbGYuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpICkge1xyXG5cdFx0XHRcdHNlbGYub3JpZ2luYWxFdmVudE5hbWUgPSBcImhhc2hjaGFuZ2VcIjtcclxuXHRcdFx0XHQkd2luLmJpbmQoIFwiaGFzaGNoYW5nZS5uYXZpZ2F0ZVwiLCBzZWxmLmhhc2hjaGFuZ2UgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcblxyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblx0XHR2YXIgcGF0aCwgJGJhc2UsIGRpYWxvZ0hhc2hLZXkgPSBcIiZ1aS1zdGF0ZT1kaWFsb2dcIjtcclxuXHJcblx0XHQkLm1vYmlsZS5wYXRoID0gcGF0aCA9IHtcclxuXHRcdFx0dWlTdGF0ZUtleTogXCImdWktc3RhdGVcIixcclxuXHJcblx0XHRcdC8vIFRoaXMgc2NhcnkgbG9va2luZyByZWd1bGFyIGV4cHJlc3Npb24gcGFyc2VzIGFuIGFic29sdXRlIFVSTCBvciBpdHMgcmVsYXRpdmVcclxuXHRcdFx0Ly8gdmFyaWFudHMgKHByb3RvY29sLCBzaXRlLCBkb2N1bWVudCwgcXVlcnksIGFuZCBoYXNoKSwgaW50byB0aGUgdmFyaW91c1xyXG5cdFx0XHQvLyBjb21wb25lbnRzIChwcm90b2NvbCwgaG9zdCwgcGF0aCwgcXVlcnksIGZyYWdtZW50LCBldGMgdGhhdCBtYWtlIHVwIHRoZVxyXG5cdFx0XHQvLyBVUkwgYXMgd2VsbCBhcyBzb21lIG90aGVyIGNvbW1vbmx5IHVzZWQgc3ViLXBhcnRzLiBXaGVuIHVzZWQgd2l0aCBSZWdFeHAuZXhlYygpXHJcblx0XHRcdC8vIG9yIFN0cmluZy5tYXRjaCwgaXQgcGFyc2VzIHRoZSBVUkwgaW50byBhIHJlc3VsdHMgYXJyYXkgdGhhdCBsb29rcyBsaWtlIHRoaXM6XHJcblx0XHRcdC8vXHJcblx0XHRcdC8vICAgICBbMF06IGh0dHA6Ly9qYmxhczpwYXNzd29yZEBteWNvbXBhbnkuY29tOjgwODAvbWFpbC9pbmJveD9tc2c9MTIzNCZ0eXBlPXVucmVhZCNtc2ctY29udGVudFxyXG5cdFx0XHQvLyAgICAgWzFdOiBodHRwOi8vamJsYXM6cGFzc3dvcmRAbXljb21wYW55LmNvbTo4MDgwL21haWwvaW5ib3g/bXNnPTEyMzQmdHlwZT11bnJlYWRcclxuXHRcdFx0Ly8gICAgIFsyXTogaHR0cDovL2pibGFzOnBhc3N3b3JkQG15Y29tcGFueS5jb206ODA4MC9tYWlsL2luYm94XHJcblx0XHRcdC8vICAgICBbM106IGh0dHA6Ly9qYmxhczpwYXNzd29yZEBteWNvbXBhbnkuY29tOjgwODBcclxuXHRcdFx0Ly8gICAgIFs0XTogaHR0cDpcclxuXHRcdFx0Ly8gICAgIFs1XTogLy9cclxuXHRcdFx0Ly8gICAgIFs2XTogamJsYXM6cGFzc3dvcmRAbXljb21wYW55LmNvbTo4MDgwXHJcblx0XHRcdC8vICAgICBbN106IGpibGFzOnBhc3N3b3JkXHJcblx0XHRcdC8vICAgICBbOF06IGpibGFzXHJcblx0XHRcdC8vICAgICBbOV06IHBhc3N3b3JkXHJcblx0XHRcdC8vICAgIFsxMF06IG15Y29tcGFueS5jb206ODA4MFxyXG5cdFx0XHQvLyAgICBbMTFdOiBteWNvbXBhbnkuY29tXHJcblx0XHRcdC8vICAgIFsxMl06IDgwODBcclxuXHRcdFx0Ly8gICAgWzEzXTogL21haWwvaW5ib3hcclxuXHRcdFx0Ly8gICAgWzE0XTogL21haWwvXHJcblx0XHRcdC8vICAgIFsxNV06IGluYm94XHJcblx0XHRcdC8vICAgIFsxNl06ID9tc2c9MTIzNCZ0eXBlPXVucmVhZFxyXG5cdFx0XHQvLyAgICBbMTddOiAjbXNnLWNvbnRlbnRcclxuXHRcdFx0Ly9cclxuXHRcdFx0dXJsUGFyc2VSRTogL15cXHMqKCgoKFteOlxcLyNcXD9dKzopPyg/OihcXC9cXC8pKCg/OigoW146QFxcLyNcXD9dKykoPzpcXDooW146QFxcLyNcXD9dKykpPylAKT8oKFteOlxcLyNcXD9cXF1cXFtdK3xcXFtbXlxcL1xcXUAjP10rXFxdKSg/OlxcOihbMC05XSspKT8pKT8pPyk/KChcXC8/KD86W15cXC9cXD8jXStcXC8rKSopKFteXFw/I10qKSkpPyhcXD9bXiNdKyk/KSgjLiopPy8sXHJcblxyXG5cdFx0XHQvLyBBYnN0cmFjdGlvbiB0byBhZGRyZXNzIHhzcyAoSXNzdWUgIzQ3ODcpIGJ5IHJlbW92aW5nIHRoZSBhdXRob3JpdHkgaW5cclxuXHRcdFx0Ly8gYnJvd3NlcnMgdGhhdCBhdXRvLWRlY29kZSBpdC4gQWxsIHJlZmVyZW5jZXMgdG8gbG9jYXRpb24uaHJlZiBzaG91bGQgYmVcclxuXHRcdFx0Ly8gcmVwbGFjZWQgd2l0aCBhIGNhbGwgdG8gdGhpcyBtZXRob2Qgc28gdGhhdCBpdCBjYW4gYmUgZGVhbHQgd2l0aCBwcm9wZXJseSBoZXJlXHJcblx0XHRcdGdldExvY2F0aW9uOiBmdW5jdGlvbiggdXJsICkge1xyXG5cdFx0XHRcdHZhciBwYXJzZWRVcmwgPSB0aGlzLnBhcnNlVXJsKCB1cmwgfHwgbG9jYXRpb24uaHJlZiApLFxyXG5cdFx0XHRcdFx0dXJpID0gdXJsID8gcGFyc2VkVXJsIDogbG9jYXRpb24sXHJcblxyXG5cdFx0XHRcdFx0Ly8gTWFrZSBzdXJlIHRvIHBhcnNlIHRoZSB1cmwgb3IgdGhlIGxvY2F0aW9uIG9iamVjdCBmb3IgdGhlIGhhc2ggYmVjYXVzZSB1c2luZ1xyXG5cdFx0XHRcdFx0Ly8gbG9jYXRpb24uaGFzaCBpcyBhdXRvZGVjb2RlZCBpbiBmaXJlZm94LCB0aGUgcmVzdCBvZiB0aGUgdXJsIHNob3VsZCBiZSBmcm9tXHJcblx0XHRcdFx0XHQvLyB0aGUgb2JqZWN0IChsb2NhdGlvbiB1bmxlc3Mgd2UncmUgdGVzdGluZykgdG8gYXZvaWQgdGhlIGluY2x1c2lvbiBvZiB0aGVcclxuXHRcdFx0XHRcdC8vIGF1dGhvcml0eVxyXG5cdFx0XHRcdFx0aGFzaCA9IHBhcnNlZFVybC5oYXNoO1xyXG5cclxuXHRcdFx0XHQvLyBtaW1pYyB0aGUgYnJvd3NlciB3aXRoIGFuIGVtcHR5IHN0cmluZyB3aGVuIHRoZSBoYXNoIGlzIGVtcHR5XHJcblx0XHRcdFx0aGFzaCA9IGhhc2ggPT09IFwiI1wiID8gXCJcIiA6IGhhc2g7XHJcblxyXG5cdFx0XHRcdHJldHVybiB1cmkucHJvdG9jb2wgK1xyXG5cdFx0XHRcdFx0cGFyc2VkVXJsLmRvdWJsZVNsYXNoICtcclxuXHRcdFx0XHRcdHVyaS5ob3N0ICtcclxuXHJcblx0XHRcdFx0XHQvLyBUaGUgcGF0aG5hbWUgbXVzdCBzdGFydCB3aXRoIGEgc2xhc2ggaWYgdGhlcmUncyBhIHByb3RvY29sLCBiZWNhdXNlIHlvdVxyXG5cdFx0XHRcdFx0Ly8gY2FuJ3QgaGF2ZSBhIHByb3RvY29sIGZvbGxvd2VkIGJ5IGEgcmVsYXRpdmUgcGF0aC4gQWxzbywgaXQncyBpbXBvc3NpYmxlIHRvXHJcblx0XHRcdFx0XHQvLyBjYWxjdWxhdGUgYWJzb2x1dGUgVVJMcyBmcm9tIHJlbGF0aXZlIG9uZXMgaWYgdGhlIGFic29sdXRlIG9uZSBkb2Vzbid0IGhhdmVcclxuXHRcdFx0XHRcdC8vIGEgbGVhZGluZyBcIi9cIi5cclxuXHRcdFx0XHRcdCggKCB1cmkucHJvdG9jb2wgIT09IFwiXCIgJiYgdXJpLnBhdGhuYW1lLnN1YnN0cmluZyggMCwgMSApICE9PSBcIi9cIiApID9cclxuXHRcdFx0XHRcdFx0XCIvXCIgOiBcIlwiICkgK1xyXG5cdFx0XHRcdFx0dXJpLnBhdGhuYW1lICtcclxuXHRcdFx0XHRcdHVyaS5zZWFyY2ggK1xyXG5cdFx0XHRcdFx0aGFzaDtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vcmV0dXJuIHRoZSBvcmlnaW5hbCBkb2N1bWVudCB1cmxcclxuXHRcdFx0Z2V0RG9jdW1lbnRVcmw6IGZ1bmN0aW9uKCBhc1BhcnNlZE9iamVjdCApIHtcclxuXHRcdFx0XHRyZXR1cm4gYXNQYXJzZWRPYmplY3QgPyAkLmV4dGVuZCgge30sIHBhdGguZG9jdW1lbnRVcmwgKSA6IHBhdGguZG9jdW1lbnRVcmwuaHJlZjtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdHBhcnNlTG9jYXRpb246IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLnBhcnNlVXJsKCB0aGlzLmdldExvY2F0aW9uKCkgKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vUGFyc2UgYSBVUkwgaW50byBhIHN0cnVjdHVyZSB0aGF0IGFsbG93cyBlYXN5IGFjY2VzcyB0b1xyXG5cdFx0XHQvL2FsbCBvZiB0aGUgVVJMIGNvbXBvbmVudHMgYnkgbmFtZS5cclxuXHRcdFx0cGFyc2VVcmw6IGZ1bmN0aW9uKCB1cmwgKSB7XHJcblx0XHRcdFx0Ly8gSWYgd2UncmUgcGFzc2VkIGFuIG9iamVjdCwgd2UnbGwgYXNzdW1lIHRoYXQgaXQgaXNcclxuXHRcdFx0XHQvLyBhIHBhcnNlZCB1cmwgb2JqZWN0IGFuZCBqdXN0IHJldHVybiBpdCBiYWNrIHRvIHRoZSBjYWxsZXIuXHJcblx0XHRcdFx0aWYgKCAkLnR5cGUoIHVybCApID09PSBcIm9iamVjdFwiICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHVybDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHZhciBtYXRjaGVzID0gcGF0aC51cmxQYXJzZVJFLmV4ZWMoIHVybCB8fCBcIlwiICkgfHwgW107XHJcblxyXG5cdFx0XHRcdFx0Ly8gQ3JlYXRlIGFuIG9iamVjdCB0aGF0IGFsbG93cyB0aGUgY2FsbGVyIHRvIGFjY2VzcyB0aGUgc3ViLW1hdGNoZXNcclxuXHRcdFx0XHRcdC8vIGJ5IG5hbWUuIE5vdGUgdGhhdCBJRSByZXR1cm5zIGFuIGVtcHR5IHN0cmluZyBpbnN0ZWFkIG9mIHVuZGVmaW5lZCxcclxuXHRcdFx0XHRcdC8vIGxpa2UgYWxsIG90aGVyIGJyb3dzZXJzIGRvLCBzbyB3ZSBub3JtYWxpemUgZXZlcnl0aGluZyBzbyBpdHMgY29uc2lzdGVudFxyXG5cdFx0XHRcdFx0Ly8gbm8gbWF0dGVyIHdoYXQgYnJvd3NlciB3ZSdyZSBydW5uaW5nIG9uLlxyXG5cdFx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdFx0aHJlZjogICAgICAgICBtYXRjaGVzWyAgMCBdIHx8IFwiXCIsXHJcblx0XHRcdFx0XHRcdGhyZWZOb0hhc2g6ICAgbWF0Y2hlc1sgIDEgXSB8fCBcIlwiLFxyXG5cdFx0XHRcdFx0XHRocmVmTm9TZWFyY2g6IG1hdGNoZXNbICAyIF0gfHwgXCJcIixcclxuXHRcdFx0XHRcdFx0ZG9tYWluOiAgICAgICBtYXRjaGVzWyAgMyBdIHx8IFwiXCIsXHJcblx0XHRcdFx0XHRcdHByb3RvY29sOiAgICAgbWF0Y2hlc1sgIDQgXSB8fCBcIlwiLFxyXG5cdFx0XHRcdFx0XHRkb3VibGVTbGFzaDogIG1hdGNoZXNbICA1IF0gfHwgXCJcIixcclxuXHRcdFx0XHRcdFx0YXV0aG9yaXR5OiAgICBtYXRjaGVzWyAgNiBdIHx8IFwiXCIsXHJcblx0XHRcdFx0XHRcdHVzZXJuYW1lOiAgICAgbWF0Y2hlc1sgIDggXSB8fCBcIlwiLFxyXG5cdFx0XHRcdFx0XHRwYXNzd29yZDogICAgIG1hdGNoZXNbICA5IF0gfHwgXCJcIixcclxuXHRcdFx0XHRcdFx0aG9zdDogICAgICAgICBtYXRjaGVzWyAxMCBdIHx8IFwiXCIsXHJcblx0XHRcdFx0XHRcdGhvc3RuYW1lOiAgICAgbWF0Y2hlc1sgMTEgXSB8fCBcIlwiLFxyXG5cdFx0XHRcdFx0XHRwb3J0OiAgICAgICAgIG1hdGNoZXNbIDEyIF0gfHwgXCJcIixcclxuXHRcdFx0XHRcdFx0cGF0aG5hbWU6ICAgICBtYXRjaGVzWyAxMyBdIHx8IFwiXCIsXHJcblx0XHRcdFx0XHRcdGRpcmVjdG9yeTogICAgbWF0Y2hlc1sgMTQgXSB8fCBcIlwiLFxyXG5cdFx0XHRcdFx0XHRmaWxlbmFtZTogICAgIG1hdGNoZXNbIDE1IF0gfHwgXCJcIixcclxuXHRcdFx0XHRcdFx0c2VhcmNoOiAgICAgICBtYXRjaGVzWyAxNiBdIHx8IFwiXCIsXHJcblx0XHRcdFx0XHRcdGhhc2g6ICAgICAgICAgbWF0Y2hlc1sgMTcgXSB8fCBcIlwiXHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly9UdXJuIHJlbFBhdGggaW50byBhbiBhc2JvbHV0ZSBwYXRoLiBhYnNQYXRoIGlzXHJcblx0XHRcdC8vYW4gb3B0aW9uYWwgYWJzb2x1dGUgcGF0aCB3aGljaCBkZXNjcmliZXMgd2hhdFxyXG5cdFx0XHQvL3JlbFBhdGggaXMgcmVsYXRpdmUgdG8uXHJcblx0XHRcdG1ha2VQYXRoQWJzb2x1dGU6IGZ1bmN0aW9uKCByZWxQYXRoLCBhYnNQYXRoICkge1xyXG5cdFx0XHRcdHZhciBhYnNTdGFjayxcclxuXHRcdFx0XHRcdHJlbFN0YWNrLFxyXG5cdFx0XHRcdFx0aSwgZDtcclxuXHJcblx0XHRcdFx0aWYgKCByZWxQYXRoICYmIHJlbFBhdGguY2hhckF0KCAwICkgPT09IFwiL1wiICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlbFBhdGg7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZWxQYXRoID0gcmVsUGF0aCB8fCBcIlwiO1xyXG5cdFx0XHRcdGFic1BhdGggPSBhYnNQYXRoID8gYWJzUGF0aC5yZXBsYWNlKCAvXlxcL3woXFwvW15cXC9dKnxbXlxcL10rKSQvZywgXCJcIiApIDogXCJcIjtcclxuXHJcblx0XHRcdFx0YWJzU3RhY2sgPSBhYnNQYXRoID8gYWJzUGF0aC5zcGxpdCggXCIvXCIgKSA6IFtdO1xyXG5cdFx0XHRcdHJlbFN0YWNrID0gcmVsUGF0aC5zcGxpdCggXCIvXCIgKTtcclxuXHJcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCByZWxTdGFjay5sZW5ndGg7IGkrKyApIHtcclxuXHRcdFx0XHRcdGQgPSByZWxTdGFja1sgaSBdO1xyXG5cdFx0XHRcdFx0c3dpdGNoICggZCApIHtcclxuXHRcdFx0XHRcdFx0Y2FzZSBcIi5cIjpcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0Y2FzZSBcIi4uXCI6XHJcblx0XHRcdFx0XHRcdFx0aWYgKCBhYnNTdGFjay5sZW5ndGggKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRhYnNTdGFjay5wb3AoKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0XHRcdFx0YWJzU3RhY2sucHVzaCggZCApO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gXCIvXCIgKyBhYnNTdGFjay5qb2luKCBcIi9cIiApO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly9SZXR1cm5zIHRydWUgaWYgYm90aCB1cmxzIGhhdmUgdGhlIHNhbWUgZG9tYWluLlxyXG5cdFx0XHRpc1NhbWVEb21haW46IGZ1bmN0aW9uKCBhYnNVcmwxLCBhYnNVcmwyICkge1xyXG5cdFx0XHRcdHJldHVybiBwYXRoLnBhcnNlVXJsKCBhYnNVcmwxICkuZG9tYWluLnRvTG93ZXJDYXNlKCkgPT09XHJcblx0XHRcdFx0XHRwYXRoLnBhcnNlVXJsKCBhYnNVcmwyICkuZG9tYWluLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvL1JldHVybnMgdHJ1ZSBmb3IgYW55IHJlbGF0aXZlIHZhcmlhbnQuXHJcblx0XHRcdGlzUmVsYXRpdmVVcmw6IGZ1bmN0aW9uKCB1cmwgKSB7XHJcblx0XHRcdFx0Ly8gQWxsIHJlbGF0aXZlIFVybCB2YXJpYW50cyBoYXZlIG9uZSB0aGluZyBpbiBjb21tb24sIG5vIHByb3RvY29sLlxyXG5cdFx0XHRcdHJldHVybiBwYXRoLnBhcnNlVXJsKCB1cmwgKS5wcm90b2NvbCA9PT0gXCJcIjtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vUmV0dXJucyB0cnVlIGZvciBhbiBhYnNvbHV0ZSB1cmwuXHJcblx0XHRcdGlzQWJzb2x1dGVVcmw6IGZ1bmN0aW9uKCB1cmwgKSB7XHJcblx0XHRcdFx0cmV0dXJuIHBhdGgucGFyc2VVcmwoIHVybCApLnByb3RvY29sICE9PSBcIlwiO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly9UdXJuIHRoZSBzcGVjaWZpZWQgcmVhbHRpdmUgVVJMIGludG8gYW4gYWJzb2x1dGUgb25lLiBUaGlzIGZ1bmN0aW9uXHJcblx0XHRcdC8vY2FuIGhhbmRsZSBhbGwgcmVsYXRpdmUgdmFyaWFudHMgKHByb3RvY29sLCBzaXRlLCBkb2N1bWVudCwgcXVlcnksIGZyYWdtZW50KS5cclxuXHRcdFx0bWFrZVVybEFic29sdXRlOiBmdW5jdGlvbiggcmVsVXJsLCBhYnNVcmwgKSB7XHJcblx0XHRcdFx0aWYgKCAhcGF0aC5pc1JlbGF0aXZlVXJsKCByZWxVcmwgKSApIHtcclxuXHRcdFx0XHRcdHJldHVybiByZWxVcmw7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIGFic1VybCA9PT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdFx0YWJzVXJsID0gdGhpcy5kb2N1bWVudEJhc2U7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR2YXIgcmVsT2JqID0gcGF0aC5wYXJzZVVybCggcmVsVXJsICksXHJcblx0XHRcdFx0XHRhYnNPYmogPSBwYXRoLnBhcnNlVXJsKCBhYnNVcmwgKSxcclxuXHRcdFx0XHRcdHByb3RvY29sID0gcmVsT2JqLnByb3RvY29sIHx8IGFic09iai5wcm90b2NvbCxcclxuXHRcdFx0XHRcdGRvdWJsZVNsYXNoID0gcmVsT2JqLnByb3RvY29sID8gcmVsT2JqLmRvdWJsZVNsYXNoIDogKCByZWxPYmouZG91YmxlU2xhc2ggfHwgYWJzT2JqLmRvdWJsZVNsYXNoICksXHJcblx0XHRcdFx0XHRhdXRob3JpdHkgPSByZWxPYmouYXV0aG9yaXR5IHx8IGFic09iai5hdXRob3JpdHksXHJcblx0XHRcdFx0XHRoYXNQYXRoID0gcmVsT2JqLnBhdGhuYW1lICE9PSBcIlwiLFxyXG5cdFx0XHRcdFx0cGF0aG5hbWUgPSBwYXRoLm1ha2VQYXRoQWJzb2x1dGUoIHJlbE9iai5wYXRobmFtZSB8fCBhYnNPYmouZmlsZW5hbWUsIGFic09iai5wYXRobmFtZSApLFxyXG5cdFx0XHRcdFx0c2VhcmNoID0gcmVsT2JqLnNlYXJjaCB8fCAoICFoYXNQYXRoICYmIGFic09iai5zZWFyY2ggKSB8fCBcIlwiLFxyXG5cdFx0XHRcdFx0aGFzaCA9IHJlbE9iai5oYXNoO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gcHJvdG9jb2wgKyBkb3VibGVTbGFzaCArIGF1dGhvcml0eSArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vQWRkIHNlYXJjaCAoYWthIHF1ZXJ5KSBwYXJhbXMgdG8gdGhlIHNwZWNpZmllZCB1cmwuXHJcblx0XHRcdGFkZFNlYXJjaFBhcmFtczogZnVuY3Rpb24oIHVybCwgcGFyYW1zICkge1xyXG5cdFx0XHRcdHZhciB1ID0gcGF0aC5wYXJzZVVybCggdXJsICksXHJcblx0XHRcdFx0XHRwID0gKCB0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiICkgPyAkLnBhcmFtKCBwYXJhbXMgKSA6IHBhcmFtcyxcclxuXHRcdFx0XHRcdHMgPSB1LnNlYXJjaCB8fCBcIj9cIjtcclxuXHRcdFx0XHRyZXR1cm4gdS5ocmVmTm9TZWFyY2ggKyBzICsgKCBzLmNoYXJBdCggcy5sZW5ndGggLSAxICkgIT09IFwiP1wiID8gXCImXCIgOiBcIlwiICkgKyBwICsgKCB1Lmhhc2ggfHwgXCJcIiApO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Y29udmVydFVybFRvRGF0YVVybDogZnVuY3Rpb24oIGFic1VybCApIHtcclxuXHRcdFx0XHR2YXIgcmVzdWx0ID0gYWJzVXJsLFxyXG5cdFx0XHRcdFx0dSA9IHBhdGgucGFyc2VVcmwoIGFic1VybCApO1xyXG5cclxuXHRcdFx0XHRpZiAoIHBhdGguaXNFbWJlZGRlZFBhZ2UoIHUgKSApIHtcclxuXHRcdFx0XHRcdC8vIEZvciBlbWJlZGRlZCBwYWdlcywgcmVtb3ZlIHRoZSBkaWFsb2cgaGFzaCBrZXkgYXMgaW4gZ2V0RmlsZVBhdGgoKSxcclxuXHRcdFx0XHRcdC8vIGFuZCByZW1vdmUgb3RoZXJ3aXNlIHRoZSBEYXRhIFVybCB3b24ndCBtYXRjaCB0aGUgaWQgb2YgdGhlIGVtYmVkZGVkIFBhZ2UuXHJcblx0XHRcdFx0XHRyZXN1bHQgPSB1Lmhhc2hcclxuXHRcdFx0XHRcdFx0LnNwbGl0KCBkaWFsb2dIYXNoS2V5IClbMF1cclxuXHRcdFx0XHRcdFx0LnJlcGxhY2UoIC9eIy8sIFwiXCIgKVxyXG5cdFx0XHRcdFx0XHQucmVwbGFjZSggL1xcPy4qJC8sIFwiXCIgKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKCBwYXRoLmlzU2FtZURvbWFpbiggdSwgdGhpcy5kb2N1bWVudEJhc2UgKSApIHtcclxuXHRcdFx0XHRcdHJlc3VsdCA9IHUuaHJlZk5vSGFzaC5yZXBsYWNlKCB0aGlzLmRvY3VtZW50QmFzZS5kb21haW4sIFwiXCIgKS5zcGxpdCggZGlhbG9nSGFzaEtleSApWzBdO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIHdpbmRvdy5kZWNvZGVVUklDb21wb25lbnQoIHJlc3VsdCApO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly9nZXQgcGF0aCBmcm9tIGN1cnJlbnQgaGFzaCwgb3IgZnJvbSBhIGZpbGUgcGF0aFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBuZXdQYXRoICkge1xyXG5cdFx0XHRcdGlmICggbmV3UGF0aCA9PT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdFx0bmV3UGF0aCA9IHBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2g7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBwYXRoLnN0cmlwSGFzaCggbmV3UGF0aCApLnJlcGxhY2UoIC9bXlxcL10qXFwuW15cXC8qXSskLywgXCJcIiApO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly9zZXQgbG9jYXRpb24gaGFzaCB0byBwYXRoXHJcblx0XHRcdHNldDogZnVuY3Rpb24oIHBhdGggKSB7XHJcblx0XHRcdFx0bG9jYXRpb24uaGFzaCA9IHBhdGg7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvL3Rlc3QgaWYgYSBnaXZlbiB1cmwgKHN0cmluZykgaXMgYSBwYXRoXHJcblx0XHRcdC8vTk9URSBtaWdodCBiZSBleGNlcHRpb25hbGx5IG5haXZlXHJcblx0XHRcdGlzUGF0aDogZnVuY3Rpb24oIHVybCApIHtcclxuXHRcdFx0XHRyZXR1cm4gKCAvXFwvLyApLnRlc3QoIHVybCApO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly9yZXR1cm4gYSB1cmwgcGF0aCB3aXRoIHRoZSB3aW5kb3cncyBsb2NhdGlvbiBwcm90b2NvbC9ob3N0bmFtZS9wYXRobmFtZSByZW1vdmVkXHJcblx0XHRcdGNsZWFuOiBmdW5jdGlvbiggdXJsICkge1xyXG5cdFx0XHRcdHJldHVybiB1cmwucmVwbGFjZSggdGhpcy5kb2N1bWVudEJhc2UuZG9tYWluLCBcIlwiICk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvL2p1c3QgcmV0dXJuIHRoZSB1cmwgd2l0aG91dCBhbiBpbml0aWFsICNcclxuXHRcdFx0c3RyaXBIYXNoOiBmdW5jdGlvbiggdXJsICkge1xyXG5cdFx0XHRcdHJldHVybiB1cmwucmVwbGFjZSggL14jLywgXCJcIiApO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0c3RyaXBRdWVyeVBhcmFtczogZnVuY3Rpb24oIHVybCApIHtcclxuXHRcdFx0XHRyZXR1cm4gdXJsLnJlcGxhY2UoIC9cXD8uKiQvLCBcIlwiICk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvL3JlbW92ZSB0aGUgcHJlY2VkaW5nIGhhc2gsIGFueSBxdWVyeSBwYXJhbXMsIGFuZCBkaWFsb2cgbm90YXRpb25zXHJcblx0XHRcdGNsZWFuSGFzaDogZnVuY3Rpb24oIGhhc2ggKSB7XHJcblx0XHRcdFx0cmV0dXJuIHBhdGguc3RyaXBIYXNoKCBoYXNoLnJlcGxhY2UoIC9cXD8uKiQvLCBcIlwiICkucmVwbGFjZSggZGlhbG9nSGFzaEtleSwgXCJcIiApICk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRpc0hhc2hWYWxpZDogZnVuY3Rpb24oIGhhc2ggKSB7XHJcblx0XHRcdFx0cmV0dXJuICggL14jW14jXSskLyApLnRlc3QoIGhhc2ggKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vY2hlY2sgd2hldGhlciBhIHVybCBpcyByZWZlcmVuY2luZyB0aGUgc2FtZSBkb21haW4sIG9yIGFuIGV4dGVybmFsIGRvbWFpbiBvciBkaWZmZXJlbnQgcHJvdG9jb2xcclxuXHRcdFx0Ly9jb3VsZCBiZSBtYWlsdG8sIGV0Y1xyXG5cdFx0XHRpc0V4dGVybmFsOiBmdW5jdGlvbiggdXJsICkge1xyXG5cdFx0XHRcdHZhciB1ID0gcGF0aC5wYXJzZVVybCggdXJsICk7XHJcblxyXG5cdFx0XHRcdHJldHVybiAhISggdS5wcm90b2NvbCAmJlxyXG5cdFx0XHRcdFx0KCB1LmRvbWFpbi50b0xvd2VyQ2FzZSgpICE9PSB0aGlzLmRvY3VtZW50VXJsLmRvbWFpbi50b0xvd2VyQ2FzZSgpICkgKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdGhhc1Byb3RvY29sOiBmdW5jdGlvbiggdXJsICkge1xyXG5cdFx0XHRcdHJldHVybiAoIC9eKDo/XFx3KzopLyApLnRlc3QoIHVybCApO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0aXNFbWJlZGRlZFBhZ2U6IGZ1bmN0aW9uKCB1cmwgKSB7XHJcblx0XHRcdFx0dmFyIHUgPSBwYXRoLnBhcnNlVXJsKCB1cmwgKTtcclxuXHJcblx0XHRcdFx0Ly9pZiB0aGUgcGF0aCBpcyBhYnNvbHV0ZSwgdGhlbiB3ZSBuZWVkIHRvIGNvbXBhcmUgdGhlIHVybCBhZ2FpbnN0XHJcblx0XHRcdFx0Ly9ib3RoIHRoZSB0aGlzLmRvY3VtZW50VXJsIGFuZCB0aGUgZG9jdW1lbnRCYXNlLiBUaGUgbWFpbiByZWFzb24gZm9yIHRoaXNcclxuXHRcdFx0XHQvL2lzIHRoYXQgbGlua3MgZW1iZWRkZWQgd2l0aGluIGV4dGVybmFsIGRvY3VtZW50cyB3aWxsIHJlZmVyIHRvIHRoZVxyXG5cdFx0XHRcdC8vYXBwbGljYXRpb24gZG9jdW1lbnQsIHdoZXJlYXMgbGlua3MgZW1iZWRkZWQgd2l0aGluIHRoZSBhcHBsaWNhdGlvblxyXG5cdFx0XHRcdC8vZG9jdW1lbnQgd2lsbCBiZSByZXNvbHZlZCBhZ2FpbnN0IHRoZSBkb2N1bWVudCBiYXNlLlxyXG5cdFx0XHRcdGlmICggdS5wcm90b2NvbCAhPT0gXCJcIiApIHtcclxuXHRcdFx0XHRcdHJldHVybiAoICF0aGlzLmlzUGF0aCh1Lmhhc2gpICYmIHUuaGFzaCAmJiAoIHUuaHJlZk5vSGFzaCA9PT0gdGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNoIHx8ICggdGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzICYmIHUuaHJlZk5vSGFzaCA9PT0gdGhpcy5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCApICkgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuICggL14jLyApLnRlc3QoIHUuaHJlZiApO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0c3F1YXNoOiBmdW5jdGlvbiggdXJsLCByZXNvbHV0aW9uVXJsICkge1xyXG5cdFx0XHRcdHZhciBocmVmLCBjbGVhbmVkVXJsLCBzZWFyY2gsIHN0YXRlSW5kZXgsIGRvY1VybCxcclxuXHRcdFx0XHRcdGlzUGF0aCA9IHRoaXMuaXNQYXRoKCB1cmwgKSxcclxuXHRcdFx0XHRcdHVyaSA9IHRoaXMucGFyc2VVcmwoIHVybCApLFxyXG5cdFx0XHRcdFx0cHJlc2VydmVkSGFzaCA9IHVyaS5oYXNoLFxyXG5cdFx0XHRcdFx0dWlTdGF0ZSA9IFwiXCI7XHJcblxyXG5cdFx0XHRcdC8vIHByb2R1Y2UgYSB1cmwgYWdhaW5zdCB3aGljaCB3ZSBjYW4gcmVzb2x2ZSB0aGUgcHJvdmlkZWQgcGF0aFxyXG5cdFx0XHRcdGlmICggIXJlc29sdXRpb25VcmwgKSB7XHJcblx0XHRcdFx0XHRpZiAoIGlzUGF0aCApIHtcclxuXHRcdFx0XHRcdFx0cmVzb2x1dGlvblVybCA9IHBhdGguZ2V0TG9jYXRpb24oKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGRvY1VybCA9IHBhdGguZ2V0RG9jdW1lbnRVcmwoIHRydWUgKTtcclxuXHRcdFx0XHRcdFx0aWYgKCBwYXRoLmlzUGF0aCggZG9jVXJsLmhhc2ggKSApIHtcclxuXHRcdFx0XHRcdFx0XHRyZXNvbHV0aW9uVXJsID0gcGF0aC5zcXVhc2goIGRvY1VybC5ocmVmICk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0cmVzb2x1dGlvblVybCA9IGRvY1VybC5ocmVmO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBJZiB0aGUgdXJsIGlzIGFueXRoaW5nIGJ1dCBhIHNpbXBsZSBzdHJpbmcsIHJlbW92ZSBhbnkgcHJlY2VkaW5nIGhhc2hcclxuXHRcdFx0XHQvLyBlZyAjZm9vL2JhciAtPiBmb28vYmFyXHJcblx0XHRcdFx0Ly8gICAgI2ZvbyAtPiAjZm9vXHJcblx0XHRcdFx0Y2xlYW5lZFVybCA9IGlzUGF0aCA/IHBhdGguc3RyaXBIYXNoKCB1cmwgKSA6IHVybDtcclxuXHJcblx0XHRcdFx0Ly8gSWYgdGhlIHVybCBpcyBhIGZ1bGwgdXJsIHdpdGggYSBoYXNoIGNoZWNrIGlmIHRoZSBwYXJzZWQgaGFzaCBpcyBhIHBhdGhcclxuXHRcdFx0XHQvLyBpZiBpdCBpcywgc3RyaXAgdGhlICMsIGFuZCB1c2UgaXQgb3RoZXJ3aXNlIGNvbnRpbnVlIHdpdGhvdXQgY2hhbmdlXHJcblx0XHRcdFx0Y2xlYW5lZFVybCA9IHBhdGguaXNQYXRoKCB1cmkuaGFzaCApID8gcGF0aC5zdHJpcEhhc2goIHVyaS5oYXNoICkgOiBjbGVhbmVkVXJsO1xyXG5cclxuXHRcdFx0XHQvLyBTcGxpdCB0aGUgVUkgU3RhdGUga2V5cyBvZmYgdGhlIGhyZWZcclxuXHRcdFx0XHRzdGF0ZUluZGV4ID0gY2xlYW5lZFVybC5pbmRleE9mKCB0aGlzLnVpU3RhdGVLZXkgKTtcclxuXHJcblx0XHRcdFx0Ly8gc3RvcmUgdGhlIHVpIHN0YXRlIGtleXMgZm9yIHVzZVxyXG5cdFx0XHRcdGlmICggc3RhdGVJbmRleCA+IC0xICkge1xyXG5cdFx0XHRcdFx0dWlTdGF0ZSA9IGNsZWFuZWRVcmwuc2xpY2UoIHN0YXRlSW5kZXggKTtcclxuXHRcdFx0XHRcdGNsZWFuZWRVcmwgPSBjbGVhbmVkVXJsLnNsaWNlKCAwLCBzdGF0ZUluZGV4ICk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBtYWtlIHRoZSBjbGVhbmVkVXJsIGFic29sdXRlIHJlbGF0aXZlIHRvIHRoZSByZXNvbHV0aW9uIHVybFxyXG5cdFx0XHRcdGhyZWYgPSBwYXRoLm1ha2VVcmxBYnNvbHV0ZSggY2xlYW5lZFVybCwgcmVzb2x1dGlvblVybCApO1xyXG5cclxuXHRcdFx0XHQvLyBncmFiIHRoZSBzZWFyY2ggZnJvbSB0aGUgcmVzb2x2ZWQgdXJsIHNpbmNlIHBhcnNpbmcgZnJvbVxyXG5cdFx0XHRcdC8vIHRoZSBwYXNzZWQgdXJsIG1heSBub3QgeWllbGQgdGhlIGNvcnJlY3QgcmVzdWx0XHJcblx0XHRcdFx0c2VhcmNoID0gdGhpcy5wYXJzZVVybCggaHJlZiApLnNlYXJjaDtcclxuXHJcblx0XHRcdFx0Ly8gVE9ETyBhbGwgdGhpcyBjcmFwIGlzIHRlcnJpYmxlLCBjbGVhbiBpdCB1cFxyXG5cdFx0XHRcdGlmICggaXNQYXRoICkge1xyXG5cdFx0XHRcdFx0Ly8gcmVqZWN0IHRoZSBoYXNoIGlmIGl0J3MgYSBwYXRoIG9yIGl0J3MganVzdCBhIGRpYWxvZyBrZXlcclxuXHRcdFx0XHRcdGlmICggcGF0aC5pc1BhdGgoIHByZXNlcnZlZEhhc2ggKSB8fCBwcmVzZXJ2ZWRIYXNoLnJlcGxhY2UoXCIjXCIsIFwiXCIpLmluZGV4T2YoIHRoaXMudWlTdGF0ZUtleSApID09PSAwKSB7XHJcblx0XHRcdFx0XHRcdHByZXNlcnZlZEhhc2ggPSBcIlwiO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIEFwcGVuZCB0aGUgVUkgU3RhdGUga2V5cyB3aGVyZSBpdCBleGlzdHMgYW5kIGl0J3MgYmVlbiByZW1vdmVkXHJcblx0XHRcdFx0XHQvLyBmcm9tIHRoZSB1cmxcclxuXHRcdFx0XHRcdGlmICggdWlTdGF0ZSAmJiBwcmVzZXJ2ZWRIYXNoLmluZGV4T2YoIHRoaXMudWlTdGF0ZUtleSApID09PSAtMSkge1xyXG5cdFx0XHRcdFx0XHRwcmVzZXJ2ZWRIYXNoICs9IHVpU3RhdGU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gbWFrZSBzdXJlIHRoYXQgcG91bmQgaXMgb24gdGhlIGZyb250IG9mIHRoZSBoYXNoXHJcblx0XHRcdFx0XHRpZiAoIHByZXNlcnZlZEhhc2guaW5kZXhPZiggXCIjXCIgKSA9PT0gLTEgJiYgcHJlc2VydmVkSGFzaCAhPT0gXCJcIiApIHtcclxuXHRcdFx0XHRcdFx0cHJlc2VydmVkSGFzaCA9IFwiI1wiICsgcHJlc2VydmVkSGFzaDtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyByZWNvbnN0cnVjdCBlYWNoIG9mIHRoZSBwaWVjZXMgd2l0aCB0aGUgbmV3IHNlYXJjaCBzdHJpbmcgYW5kIGhhc2hcclxuXHRcdFx0XHRcdGhyZWYgPSBwYXRoLnBhcnNlVXJsKCBocmVmICk7XHJcblx0XHRcdFx0XHRocmVmID0gaHJlZi5wcm90b2NvbCArIGhyZWYuZG91YmxlU2xhc2ggKyBocmVmLmhvc3QgKyBocmVmLnBhdGhuYW1lICsgc2VhcmNoICtcclxuXHRcdFx0XHRcdFx0cHJlc2VydmVkSGFzaDtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aHJlZiArPSBocmVmLmluZGV4T2YoIFwiI1wiICkgPiAtMSA/IHVpU3RhdGUgOiBcIiNcIiArIHVpU3RhdGU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gaHJlZjtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdGlzUHJlc2VydmFibGVIYXNoOiBmdW5jdGlvbiggaGFzaCApIHtcclxuXHRcdFx0XHRyZXR1cm4gaGFzaC5yZXBsYWNlKCBcIiNcIiwgXCJcIiApLmluZGV4T2YoIHRoaXMudWlTdGF0ZUtleSApID09PSAwO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly8gRXNjYXBlIHdlaXJkIGNoYXJhY3RlcnMgaW4gdGhlIGhhc2ggaWYgaXQgaXMgdG8gYmUgdXNlZCBhcyBhIHNlbGVjdG9yXHJcblx0XHRcdGhhc2hUb1NlbGVjdG9yOiBmdW5jdGlvbiggaGFzaCApIHtcclxuXHRcdFx0XHR2YXIgaGFzSGFzaCA9ICggaGFzaC5zdWJzdHJpbmcoIDAsIDEgKSA9PT0gXCIjXCIgKTtcclxuXHRcdFx0XHRpZiAoIGhhc0hhc2ggKSB7XHJcblx0XHRcdFx0XHRoYXNoID0gaGFzaC5zdWJzdHJpbmcoIDEgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuICggaGFzSGFzaCA/IFwiI1wiIDogXCJcIiApICsgaGFzaC5yZXBsYWNlKCAvKFshXCIjJCUmJygpKissLi86Ozw9Pj9AW1xcXV5ge3x9fl0pL2csIFwiXFxcXCQxXCIgKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vIHJldHVybiB0aGUgc3Vic3RyaW5nIG9mIGEgZmlsZXBhdGggYmVmb3JlIHRoZSBkaWFsb2dIYXNoS2V5LCBmb3IgbWFraW5nIGEgc2VydmVyXHJcblx0XHRcdC8vIHJlcXVlc3RcclxuXHRcdFx0Z2V0RmlsZVBhdGg6IGZ1bmN0aW9uKCBwYXRoICkge1xyXG5cdFx0XHRcdHJldHVybiBwYXRoICYmIHBhdGguc3BsaXQoIGRpYWxvZ0hhc2hLZXkgKVswXTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vIGNoZWNrIGlmIHRoZSBzcGVjaWZpZWQgdXJsIHJlZmVycyB0byB0aGUgZmlyc3QgcGFnZSBpbiB0aGUgbWFpblxyXG5cdFx0XHQvLyBhcHBsaWNhdGlvbiBkb2N1bWVudC5cclxuXHRcdFx0aXNGaXJzdFBhZ2VVcmw6IGZ1bmN0aW9uKCB1cmwgKSB7XHJcblx0XHRcdFx0Ly8gV2Ugb25seSBkZWFsIHdpdGggYWJzb2x1dGUgcGF0aHMuXHJcblx0XHRcdFx0dmFyIHUgPSBwYXRoLnBhcnNlVXJsKCBwYXRoLm1ha2VVcmxBYnNvbHV0ZSggdXJsLCB0aGlzLmRvY3VtZW50QmFzZSApICksXHJcblxyXG5cdFx0XHRcdFx0Ly8gRG9lcyB0aGUgdXJsIGhhdmUgdGhlIHNhbWUgcGF0aCBhcyB0aGUgZG9jdW1lbnQ/XHJcblx0XHRcdFx0XHRzYW1lUGF0aCA9IHUuaHJlZk5vSGFzaCA9PT0gdGhpcy5kb2N1bWVudFVybC5ocmVmTm9IYXNoIHx8XHJcblx0XHRcdFx0XHRcdCggdGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzICYmXHJcblx0XHRcdFx0XHRcdFx0dS5ocmVmTm9IYXNoID09PSB0aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoICksXHJcblxyXG5cdFx0XHRcdFx0Ly8gR2V0IHRoZSBmaXJzdCBwYWdlIGVsZW1lbnQuXHJcblx0XHRcdFx0XHRmcCA9ICQubW9iaWxlLmZpcnN0UGFnZSxcclxuXHJcblx0XHRcdFx0XHQvLyBHZXQgdGhlIGlkIG9mIHRoZSBmaXJzdCBwYWdlIGVsZW1lbnQgaWYgaXQgaGFzIG9uZS5cclxuXHRcdFx0XHRcdGZwSWQgPSBmcCAmJiBmcFswXSA/IGZwWzBdLmlkIDogdW5kZWZpbmVkO1xyXG5cclxuXHRcdFx0XHQvLyBUaGUgdXJsIHJlZmVycyB0byB0aGUgZmlyc3QgcGFnZSBpZiB0aGUgcGF0aCBtYXRjaGVzIHRoZSBkb2N1bWVudCBhbmRcclxuXHRcdFx0XHQvLyBpdCBlaXRoZXIgaGFzIG5vIGhhc2ggdmFsdWUsIG9yIHRoZSBoYXNoIGlzIGV4YWN0bHkgZXF1YWwgdG8gdGhlIGlkXHJcblx0XHRcdFx0Ly8gb2YgdGhlIGZpcnN0IHBhZ2UgZWxlbWVudC5cclxuXHRcdFx0XHRyZXR1cm4gc2FtZVBhdGggJiZcclxuXHRcdFx0XHRcdCggIXUuaGFzaCB8fFxyXG5cdFx0XHRcdFx0XHR1Lmhhc2ggPT09IFwiI1wiIHx8XHJcblx0XHRcdFx0XHRcdCggZnBJZCAmJiB1Lmhhc2gucmVwbGFjZSggL14jLywgXCJcIiApID09PSBmcElkICkgKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vIFNvbWUgZW1iZWRkZWQgYnJvd3NlcnMsIGxpa2UgdGhlIHdlYiB2aWV3IGluIFBob25lIEdhcCwgYWxsb3dcclxuXHRcdFx0Ly8gY3Jvc3MtZG9tYWluIFhIUiByZXF1ZXN0cyBpZiB0aGUgZG9jdW1lbnQgZG9pbmcgdGhlIHJlcXVlc3Qgd2FzIGxvYWRlZFxyXG5cdFx0XHQvLyB2aWEgdGhlIGZpbGU6Ly8gcHJvdG9jb2wuIFRoaXMgaXMgdXN1YWxseSB0byBhbGxvdyB0aGUgYXBwbGljYXRpb24gdG9cclxuXHRcdFx0Ly8gXCJwaG9uZSBob21lXCIgYW5kIGZldGNoIGFwcCBzcGVjaWZpYyBkYXRhLiBXZSBub3JtYWxseSBsZXQgdGhlIGJyb3dzZXJcclxuXHRcdFx0Ly8gaGFuZGxlIGV4dGVybmFsL2Nyb3NzLWRvbWFpbiB1cmxzLCBidXQgaWYgdGhlIGFsbG93Q3Jvc3NEb21haW5QYWdlc1xyXG5cdFx0XHQvLyBvcHRpb24gaXMgdHJ1ZSwgd2Ugd2lsbCBhbGxvdyBjcm9zcy1kb21haW4gaHR0cC9odHRwcyByZXF1ZXN0cyB0byBnb1xyXG5cdFx0XHQvLyB0aHJvdWdoIG91ciBwYWdlIGxvYWRpbmcgbG9naWMuXHJcblx0XHRcdGlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0OiBmdW5jdGlvbiggZG9jVXJsLCByZXFVcmwgKSB7XHJcblx0XHRcdFx0cmV0dXJuICQubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyAmJlxyXG5cdFx0XHRcdFx0KGRvY1VybC5wcm90b2NvbCA9PT0gXCJmaWxlOlwiIHx8IGRvY1VybC5wcm90b2NvbCA9PT0gXCJjb250ZW50OlwiKSAmJlxyXG5cdFx0XHRcdFx0cmVxVXJsLnNlYXJjaCggL15odHRwcz86LyApICE9PSAtMTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRwYXRoLmRvY3VtZW50VXJsID0gcGF0aC5wYXJzZUxvY2F0aW9uKCk7XHJcblxyXG5cdFx0JGJhc2UgPSAkKCBcImhlYWRcIiApLmZpbmQoIFwiYmFzZVwiICk7XHJcblxyXG5cdFx0cGF0aC5kb2N1bWVudEJhc2UgPSAkYmFzZS5sZW5ndGggP1xyXG5cdFx0XHRwYXRoLnBhcnNlVXJsKCBwYXRoLm1ha2VVcmxBYnNvbHV0ZSggJGJhc2UuYXR0ciggXCJocmVmXCIgKSwgcGF0aC5kb2N1bWVudFVybC5ocmVmICkgKSA6XHJcblx0XHRcdHBhdGguZG9jdW1lbnRVcmw7XHJcblxyXG5cdFx0cGF0aC5kb2N1bWVudEJhc2VEaWZmZXJzID0gKHBhdGguZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCAhPT0gcGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCk7XHJcblxyXG5cdFx0Ly9yZXR1cm4gdGhlIG9yaWdpbmFsIGRvY3VtZW50IGJhc2UgdXJsXHJcblx0XHRwYXRoLmdldERvY3VtZW50QmFzZSA9IGZ1bmN0aW9uKCBhc1BhcnNlZE9iamVjdCApIHtcclxuXHRcdFx0cmV0dXJuIGFzUGFyc2VkT2JqZWN0ID8gJC5leHRlbmQoIHt9LCBwYXRoLmRvY3VtZW50QmFzZSApIDogcGF0aC5kb2N1bWVudEJhc2UuaHJlZjtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gREVQUkVDQVRFRCBhcyBvZiAxLjQuMCAtIHJlbW92ZSBpbiAxLjUuMFxyXG5cdFx0JC5leHRlbmQoICQubW9iaWxlLCB7XHJcblxyXG5cdFx0XHQvL3JldHVybiB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgdXJsXHJcblx0XHRcdGdldERvY3VtZW50VXJsOiBwYXRoLmdldERvY3VtZW50VXJsLFxyXG5cclxuXHRcdFx0Ly9yZXR1cm4gdGhlIG9yaWdpbmFsIGRvY3VtZW50IGJhc2UgdXJsXHJcblx0XHRcdGdldERvY3VtZW50QmFzZTogcGF0aC5nZXREb2N1bWVudEJhc2VcclxuXHRcdH0pO1xyXG59KSggalF1ZXJ5ICk7XHJcblxyXG5cclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cdCQubW9iaWxlLkhpc3RvcnkgPSBmdW5jdGlvbiggc3RhY2ssIGluZGV4ICkge1xyXG5cdFx0dGhpcy5zdGFjayA9IHN0YWNrIHx8IFtdO1xyXG5cdFx0dGhpcy5hY3RpdmVJbmRleCA9IGluZGV4IHx8IDA7XHJcblx0fTtcclxuXHJcblx0JC5leHRlbmQoJC5tb2JpbGUuSGlzdG9yeS5wcm90b3R5cGUsIHtcclxuXHRcdGdldEFjdGl2ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnN0YWNrWyB0aGlzLmFjdGl2ZUluZGV4IF07XHJcblx0XHR9LFxyXG5cclxuXHRcdGdldExhc3Q6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5zdGFja1sgdGhpcy5wcmV2aW91c0luZGV4IF07XHJcblx0XHR9LFxyXG5cclxuXHRcdGdldE5leHQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5zdGFja1sgdGhpcy5hY3RpdmVJbmRleCArIDEgXTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Z2V0UHJldjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnN0YWNrWyB0aGlzLmFjdGl2ZUluZGV4IC0gMSBdO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBhZGROZXcgaXMgdXNlZCB3aGVuZXZlciBhIG5ldyBwYWdlIGlzIGFkZGVkXHJcblx0XHRhZGQ6IGZ1bmN0aW9uKCB1cmwsIGRhdGEgKSB7XHJcblx0XHRcdGRhdGEgPSBkYXRhIHx8IHt9O1xyXG5cclxuXHRcdFx0Ly9pZiB0aGVyZSdzIGZvcndhcmQgaGlzdG9yeSwgd2lwZSBpdFxyXG5cdFx0XHRpZiAoIHRoaXMuZ2V0TmV4dCgpICkge1xyXG5cdFx0XHRcdHRoaXMuY2xlYXJGb3J3YXJkKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGlmIHRoZSBoYXNoIGlzIGluY2x1ZGVkIGluIHRoZSBkYXRhIG1ha2Ugc3VyZSB0aGUgc2hhcGVcclxuXHRcdFx0Ly8gaXMgY29uc2lzdGVudCBmb3IgY29tcGFyaXNvblxyXG5cdFx0XHRpZiAoIGRhdGEuaGFzaCAmJiBkYXRhLmhhc2guaW5kZXhPZiggXCIjXCIgKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRkYXRhLmhhc2ggPSBcIiNcIiArIGRhdGEuaGFzaDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZGF0YS51cmwgPSB1cmw7XHJcblx0XHRcdHRoaXMuc3RhY2sucHVzaCggZGF0YSApO1xyXG5cdFx0XHR0aGlzLmFjdGl2ZUluZGV4ID0gdGhpcy5zdGFjay5sZW5ndGggLSAxO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvL3dpcGUgdXJscyBhaGVhZCBvZiBhY3RpdmUgaW5kZXhcclxuXHRcdGNsZWFyRm9yd2FyZDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuc3RhY2sgPSB0aGlzLnN0YWNrLnNsaWNlKCAwLCB0aGlzLmFjdGl2ZUluZGV4ICsgMSApO1xyXG5cdFx0fSxcclxuXHJcblx0XHRmaW5kOiBmdW5jdGlvbiggdXJsLCBzdGFjaywgZWFybHlSZXR1cm4gKSB7XHJcblx0XHRcdHN0YWNrID0gc3RhY2sgfHwgdGhpcy5zdGFjaztcclxuXHJcblx0XHRcdHZhciBlbnRyeSwgaSwgbGVuZ3RoID0gc3RhY2subGVuZ3RoLCBpbmRleDtcclxuXHJcblx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKysgKSB7XHJcblx0XHRcdFx0ZW50cnkgPSBzdGFja1tpXTtcclxuXHJcblx0XHRcdFx0aWYgKCBkZWNvZGVVUklDb21wb25lbnQodXJsKSA9PT0gZGVjb2RlVVJJQ29tcG9uZW50KGVudHJ5LnVybCkgfHxcclxuXHRcdFx0XHRcdGRlY29kZVVSSUNvbXBvbmVudCh1cmwpID09PSBkZWNvZGVVUklDb21wb25lbnQoZW50cnkuaGFzaCkgKSB7XHJcblx0XHRcdFx0XHRpbmRleCA9IGk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBlYXJseVJldHVybiApIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGluZGV4O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGluZGV4O1xyXG5cdFx0fSxcclxuXHJcblx0XHRjbG9zZXN0OiBmdW5jdGlvbiggdXJsICkge1xyXG5cdFx0XHR2YXIgY2xvc2VzdCwgYSA9IHRoaXMuYWN0aXZlSW5kZXg7XHJcblxyXG5cdFx0XHQvLyBGaXJzdCwgdGFrZSB0aGUgc2xpY2Ugb2YgdGhlIGhpc3Rvcnkgc3RhY2sgYmVmb3JlIHRoZSBjdXJyZW50IGluZGV4IGFuZCBzZWFyY2hcclxuXHRcdFx0Ly8gZm9yIGEgdXJsIG1hdGNoLiBJZiBvbmUgaXMgZm91bmQsIHdlJ2xsIGF2b2lkIGF2b2lkIGxvb2tpbmcgdGhyb3VnaCBmb3J3YXJkIGhpc3RvcnlcclxuXHRcdFx0Ly8gTk9URSB0aGUgcHJlZmVyZW5jZSBmb3IgYmFja3dhcmQgaGlzdG9yeSBtb3ZlbWVudCBpcyBkcml2ZW4gYnkgdGhlIGZhY3QgdGhhdFxyXG5cdFx0XHQvLyAgICAgIG1vc3QgbW9iaWxlIGJyb3dzZXJzIG9ubHkgaGF2ZSBhIGRlZGljYXRlZCBiYWNrIGJ1dHRvbiwgYW5kIHVzZXJzIHJhcmVseSB1c2VcclxuXHRcdFx0Ly8gICAgICB0aGUgZm9yd2FyZCBidXR0b24gaW4gZGVza3RvcCBicm93c2VyIGFueWhvd1xyXG5cdFx0XHRjbG9zZXN0ID0gdGhpcy5maW5kKCB1cmwsIHRoaXMuc3RhY2suc2xpY2UoMCwgYSkgKTtcclxuXHJcblx0XHRcdC8vIElmIG5vdGhpbmcgd2FzIGZvdW5kIGluIGJhY2t3YXJkIGhpc3RvcnkgY2hlY2sgZm9yd2FyZC4gVGhlIGB0cnVlYFxyXG5cdFx0XHQvLyB2YWx1ZSBwYXNzZWQgYXMgdGhlIHRoaXJkIHBhcmFtZXRlciBjYXVzZXMgdGhlIGZpbmQgbWV0aG9kIHRvIGJyZWFrXHJcblx0XHRcdC8vIG9uIHRoZSBmaXJzdCBtYXRjaCBpbiB0aGUgZm9yd2FyZCBoaXN0b3J5IHNsaWNlLiBUaGUgc3RhcnRpbmcgaW5kZXhcclxuXHRcdFx0Ly8gb2YgdGhlIHNsaWNlIG11c3QgdGhlbiBiZSBhZGRlZCB0byB0aGUgcmVzdWx0IHRvIGdldCB0aGUgZWxlbWVudCBpbmRleFxyXG5cdFx0XHQvLyBpbiB0aGUgb3JpZ2luYWwgaGlzdG9yeSBzdGFjayA6KCA6KFxyXG5cdFx0XHQvL1xyXG5cdFx0XHQvLyBUT0RPIHRoaXMgaXMgaHlwZXIgY29uZnVzaW5nIGFuZCBzaG91bGQgYmUgY2xlYW5lZCB1cCAodWdoIHNvIGJhZClcclxuXHRcdFx0aWYgKCBjbG9zZXN0ID09PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0Y2xvc2VzdCA9IHRoaXMuZmluZCggdXJsLCB0aGlzLnN0YWNrLnNsaWNlKGEpLCB0cnVlICk7XHJcblx0XHRcdFx0Y2xvc2VzdCA9IGNsb3Nlc3QgPT09IHVuZGVmaW5lZCA/IGNsb3Nlc3QgOiBjbG9zZXN0ICsgYTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGNsb3Nlc3Q7XHJcblx0XHR9LFxyXG5cclxuXHRcdGRpcmVjdDogZnVuY3Rpb24oIG9wdHMgKSB7XHJcblx0XHRcdHZhciBuZXdBY3RpdmVJbmRleCA9IHRoaXMuY2xvc2VzdCggb3B0cy51cmwgKSwgYSA9IHRoaXMuYWN0aXZlSW5kZXg7XHJcblxyXG5cdFx0XHQvLyBzYXZlIG5ldyBwYWdlIGluZGV4LCBudWxsIGNoZWNrIHRvIHByZXZlbnQgZmFsc2V5IDAgcmVzdWx0XHJcblx0XHRcdC8vIHJlY29yZCB0aGUgcHJldmlvdXMgaW5kZXggZm9yIHJlZmVyZW5jZVxyXG5cdFx0XHRpZiAoIG5ld0FjdGl2ZUluZGV4ICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0dGhpcy5hY3RpdmVJbmRleCA9IG5ld0FjdGl2ZUluZGV4O1xyXG5cdFx0XHRcdHRoaXMucHJldmlvdXNJbmRleCA9IGE7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGludm9rZSBjYWxsYmFja3Mgd2hlcmUgYXBwcm9wcmlhdGVcclxuXHRcdFx0Ly9cclxuXHRcdFx0Ly8gVE9ETyB0aGlzIGlzIGFsc28gY29udm9sdXRlZCBhbmQgY29uZnVzaW5nXHJcblx0XHRcdGlmICggbmV3QWN0aXZlSW5kZXggPCBhICkge1xyXG5cdFx0XHRcdCggb3B0cy5wcmVzZW50IHx8IG9wdHMuYmFjayB8fCAkLm5vb3AgKSggdGhpcy5nZXRBY3RpdmUoKSwgXCJiYWNrXCIgKTtcclxuXHRcdFx0fSBlbHNlIGlmICggbmV3QWN0aXZlSW5kZXggPiBhICkge1xyXG5cdFx0XHRcdCggb3B0cy5wcmVzZW50IHx8IG9wdHMuZm9yd2FyZCB8fCAkLm5vb3AgKSggdGhpcy5nZXRBY3RpdmUoKSwgXCJmb3J3YXJkXCIgKTtcclxuXHRcdFx0fSBlbHNlIGlmICggbmV3QWN0aXZlSW5kZXggPT09IHVuZGVmaW5lZCAmJiBvcHRzLm1pc3NpbmcgKSB7XHJcblx0XHRcdFx0b3B0cy5taXNzaW5nKCB0aGlzLmdldEFjdGl2ZSgpICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9KTtcclxufSkoIGpRdWVyeSApO1xyXG5cclxuXHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHR2YXIgcGF0aCA9ICQubW9iaWxlLnBhdGgsXHJcblx0XHRpbml0aWFsSHJlZiA9IGxvY2F0aW9uLmhyZWY7XHJcblxyXG5cdCQubW9iaWxlLk5hdmlnYXRvciA9IGZ1bmN0aW9uKCBoaXN0b3J5ICkge1xyXG5cdFx0dGhpcy5oaXN0b3J5ID0gaGlzdG9yeTtcclxuXHRcdHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2UgPSB0cnVlO1xyXG5cclxuXHRcdCQubW9iaWxlLndpbmRvdy5iaW5kKHtcclxuXHRcdFx0XCJwb3BzdGF0ZS5oaXN0b3J5XCI6ICQucHJveHkoIHRoaXMucG9wc3RhdGUsIHRoaXMgKSxcclxuXHRcdFx0XCJoYXNoY2hhbmdlLmhpc3RvcnlcIjogJC5wcm94eSggdGhpcy5oYXNoY2hhbmdlLCB0aGlzIClcclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdCQuZXh0ZW5kKCQubW9iaWxlLk5hdmlnYXRvci5wcm90b3R5cGUsIHtcclxuXHRcdHNxdWFzaDogZnVuY3Rpb24oIHVybCwgZGF0YSApIHtcclxuXHRcdFx0dmFyIHN0YXRlLCBocmVmLCBoYXNoID0gcGF0aC5pc1BhdGgodXJsKSA/IHBhdGguc3RyaXBIYXNoKHVybCkgOiB1cmw7XHJcblxyXG5cdFx0XHRocmVmID0gcGF0aC5zcXVhc2goIHVybCApO1xyXG5cclxuXHRcdFx0Ly8gbWFrZSBzdXJlIHRvIHByb3ZpZGUgdGhpcyBpbmZvcm1hdGlvbiB3aGVuIGl0IGlzbid0IGV4cGxpY2l0bHkgc2V0IGluIHRoZVxyXG5cdFx0XHQvLyBkYXRhIG9iamVjdCB0aGF0IHdhcyBwYXNzZWQgdG8gdGhlIHNxdWFzaCBtZXRob2RcclxuXHRcdFx0c3RhdGUgPSAkLmV4dGVuZCh7XHJcblx0XHRcdFx0aGFzaDogaGFzaCxcclxuXHRcdFx0XHR1cmw6IGhyZWZcclxuXHRcdFx0fSwgZGF0YSk7XHJcblxyXG5cdFx0XHQvLyByZXBsYWNlIHRoZSBjdXJyZW50IHVybCB3aXRoIHRoZSBuZXcgaHJlZiBhbmQgc3RvcmUgdGhlIHN0YXRlXHJcblx0XHRcdC8vIE5vdGUgdGhhdCBpbiBzb21lIGNhc2VzIHdlIG1pZ2h0IGJlIHJlcGxhY2luZyBhbiB1cmwgd2l0aCB0aGVcclxuXHRcdFx0Ly8gc2FtZSB1cmwuIFdlIGRvIHRoaXMgYW55d2F5cyBiZWNhdXNlIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXRcclxuXHRcdFx0Ly8gYWxsIG9mIG91ciBoaXN0b3J5IGVudHJpZXMgaGF2ZSBhIHN0YXRlIG9iamVjdCBhc3NvY2lhdGVkIHdpdGhcclxuXHRcdFx0Ly8gdGhlbS4gVGhpcyBhbGxvd3MgdXMgdG8gd29yayBhcm91bmQgdGhlIGNhc2Ugd2hlcmUgJC5tb2JpbGUuYmFjaygpXHJcblx0XHRcdC8vIGlzIGNhbGxlZCB0byB0cmFuc2l0aW9uIGZyb20gYW4gZXh0ZXJuYWwgcGFnZSB0byBhbiBlbWJlZGRlZCBwYWdlLlxyXG5cdFx0XHQvLyBJbiB0aGF0IHBhcnRpY3VsYXIgY2FzZSwgYSBoYXNoY2hhbmdlIGV2ZW50IGlzICpOT1QqIGdlbmVyYXRlZCBieSB0aGUgYnJvd3Nlci5cclxuXHRcdFx0Ly8gRW5zdXJpbmcgZWFjaCBoaXN0b3J5IGVudHJ5IGhhcyBhIHN0YXRlIG9iamVjdCBtZWFucyB0aGF0IG9uUG9wU3RhdGUoKVxyXG5cdFx0XHQvLyB3aWxsIGFsd2F5cyB0cmlnZ2VyIG91ciBoYXNoY2hhbmdlIGNhbGxiYWNrIGV2ZW4gd2hlbiBhIGhhc2hjaGFuZ2UgZXZlbnRcclxuXHRcdFx0Ly8gaXMgbm90IGZpcmVkLlxyXG5cdFx0XHR3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoIHN0YXRlLCBzdGF0ZS50aXRsZSB8fCBkb2N1bWVudC50aXRsZSwgaHJlZiApO1xyXG5cclxuXHRcdFx0cmV0dXJuIHN0YXRlO1xyXG5cdFx0fSxcclxuXHJcblx0XHRoYXNoOiBmdW5jdGlvbiggdXJsLCBocmVmICkge1xyXG5cdFx0XHR2YXIgcGFyc2VkLCBsb2MsIGhhc2gsIHJlc29sdmVkO1xyXG5cclxuXHRcdFx0Ly8gR3JhYiB0aGUgaGFzaCBmb3IgcmVjb3JkaW5nLiBJZiB0aGUgcGFzc2VkIHVybCBpcyBhIHBhdGhcclxuXHRcdFx0Ly8gd2UgdXNlZCB0aGUgcGFyc2VkIHZlcnNpb24gb2YgdGhlIHNxdWFzaGVkIHVybCB0byByZWNvbnN0cnVjdCxcclxuXHRcdFx0Ly8gb3RoZXJ3aXNlIHdlIGFzc3VtZSBpdCdzIGEgaGFzaCBhbmQgc3RvcmUgaXQgZGlyZWN0bHlcclxuXHRcdFx0cGFyc2VkID0gcGF0aC5wYXJzZVVybCggdXJsICk7XHJcblx0XHRcdGxvYyA9IHBhdGgucGFyc2VMb2NhdGlvbigpO1xyXG5cclxuXHRcdFx0aWYgKCBsb2MucGF0aG5hbWUgKyBsb2Muc2VhcmNoID09PSBwYXJzZWQucGF0aG5hbWUgKyBwYXJzZWQuc2VhcmNoICkge1xyXG5cdFx0XHRcdC8vIElmIHRoZSBwYXRobmFtZSBhbmQgc2VhcmNoIG9mIHRoZSBwYXNzZWQgdXJsIGlzIGlkZW50aWNhbCB0byB0aGUgY3VycmVudCBsb2NcclxuXHRcdFx0XHQvLyB0aGVuIHdlIG11c3QgdXNlIHRoZSBoYXNoLiBPdGhlcndpc2UgdGhlcmUgd2lsbCBiZSBubyBldmVudFxyXG5cdFx0XHRcdC8vIGVnLCB1cmwgPSBcIi9mb28vYmFyP2JheiNiYW5nXCIsIGxvY2F0aW9uLmhyZWYgPSBcImh0dHA6Ly9leGFtcGxlLmNvbS9mb28vYmFyP2JhelwiXHJcblx0XHRcdFx0aGFzaCA9IHBhcnNlZC5oYXNoID8gcGFyc2VkLmhhc2ggOiBwYXJzZWQucGF0aG5hbWUgKyBwYXJzZWQuc2VhcmNoO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCBwYXRoLmlzUGF0aCh1cmwpICkge1xyXG5cdFx0XHRcdHJlc29sdmVkID0gcGF0aC5wYXJzZVVybCggaHJlZiApO1xyXG5cdFx0XHRcdC8vIElmIHRoZSBwYXNzZWQgdXJsIGlzIGEgcGF0aCwgbWFrZSBpdCBkb21haW4gcmVsYXRpdmUgYW5kIHJlbW92ZSBhbnkgdHJhaWxpbmcgaGFzaFxyXG5cdFx0XHRcdGhhc2ggPSByZXNvbHZlZC5wYXRobmFtZSArIHJlc29sdmVkLnNlYXJjaCArIChwYXRoLmlzUHJlc2VydmFibGVIYXNoKCByZXNvbHZlZC5oYXNoICk/IHJlc29sdmVkLmhhc2gucmVwbGFjZSggXCIjXCIsIFwiXCIgKSA6IFwiXCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGhhc2ggPSB1cmw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBoYXNoO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBUT0RPIHJlY29uc2lkZXIgbmFtZVxyXG5cdFx0Z286IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIG5vRXZlbnRzICkge1xyXG5cdFx0XHR2YXIgc3RhdGUsIGhyZWYsIGhhc2gsIHBvcHN0YXRlRXZlbnQsXHJcblx0XHRcdFx0aXNQb3BTdGF0ZUV2ZW50ID0gJC5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpO1xyXG5cclxuXHRcdFx0Ly8gR2V0IHRoZSB1cmwgYXMgaXQgd291bGQgbG9vayBzcXVhc2hlZCBvbiB0byB0aGUgY3VycmVudCByZXNvbHV0aW9uIHVybFxyXG5cdFx0XHRocmVmID0gcGF0aC5zcXVhc2goIHVybCApO1xyXG5cclxuXHRcdFx0Ly8gc29ydCBvdXQgd2hhdCB0aGUgaGFzaCBzb3VsZCBiZSBmcm9tIHRoZSB1cmxcclxuXHRcdFx0aGFzaCA9IHRoaXMuaGFzaCggdXJsLCBocmVmICk7XHJcblxyXG5cdFx0XHQvLyBIZXJlIHdlIHByZXZlbnQgdGhlIG5leHQgaGFzaCBjaGFuZ2Ugb3IgcG9wc3RhdGUgZXZlbnQgZnJvbSBkb2luZyBhbnlcclxuXHRcdFx0Ly8gaGlzdG9yeSBtYW5hZ2VtZW50LiBJbiB0aGUgY2FzZSBvZiBoYXNoY2hhbmdlIHdlIGRvbid0IHN3YWxsb3cgaXRcclxuXHRcdFx0Ly8gaWYgdGhlcmUgd2lsbCBiZSBubyBoYXNoY2hhbmdlIGZpcmVkIChzaW5jZSB0aGF0IHdvbid0IHJlc2V0IHRoZSB2YWx1ZSlcclxuXHRcdFx0Ly8gYW5kIHdpbGwgc3dhbGxvdyB0aGUgZm9sbG93aW5nIGhhc2hjaGFuZ2VcclxuXHRcdFx0aWYgKCBub0V2ZW50cyAmJiBoYXNoICE9PSBwYXRoLnN0cmlwSGFzaChwYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoKSApIHtcclxuXHRcdFx0XHR0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZSA9IG5vRXZlbnRzO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBJTVBPUlRBTlQgaW4gdGhlIGNhc2Ugd2hlcmUgcG9wc3RhdGUgaXMgc3VwcG9ydGVkIHRoZSBldmVudCB3aWxsIGJlIHRyaWdnZXJlZFxyXG5cdFx0XHQvLyAgICAgIGRpcmVjdGx5LCBzdG9wcGluZyBmdXJ0aGVyIGV4ZWN1dGlvbiAtIGllLCBpbnRlcnVwdGluZyB0aGUgZmxvdyBvZiB0aGlzXHJcblx0XHRcdC8vICAgICAgbWV0aG9kIGNhbGwgdG8gZmlyZSBiaW5kaW5ncyBhdCB0aGlzIGV4cHJlc3Npb24uIEJlbG93IHRoZSBuYXZpZ2F0ZSBtZXRob2RcclxuXHRcdFx0Ly8gICAgICB0aGVyZSBpcyBhIGJpbmRpbmcgdG8gY2F0Y2ggdGhpcyBldmVudCBhbmQgc3RvcCBpdHMgcHJvcGFnYXRpb24uXHJcblx0XHRcdC8vXHJcblx0XHRcdC8vICAgICAgV2UgdGhlbiB0cmlnZ2VyIGEgbmV3IHBvcHN0YXRlIGV2ZW50IG9uIHRoZSB3aW5kb3cgd2l0aCBhIG51bGwgc3RhdGVcclxuXHRcdFx0Ly8gICAgICBzbyB0aGF0IHRoZSBuYXZpZ2F0ZSBldmVudHMgY2FuIGNvbmNsdWRlIHRoZWlyIHdvcmsgcHJvcGVybHlcclxuXHRcdFx0Ly9cclxuXHRcdFx0Ly8gaWYgdGhlIHVybCBpcyBhIHBhdGggd2Ugd2FudCB0byBwcmVzZXJ2ZSB0aGUgcXVlcnkgcGFyYW1zIHRoYXQgYXJlIGF2YWlsYWJsZSBvblxyXG5cdFx0XHQvLyB0aGUgY3VycmVudCB1cmwuXHJcblx0XHRcdHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZSA9IHRydWU7XHJcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaGFzaDtcclxuXHJcblx0XHRcdC8vIElmIHBvcHN0YXRlIGlzIGVuYWJsZWQgYW5kIHRoZSBicm93c2VyIHRyaWdnZXJzIGBwb3BzdGF0ZWAgZXZlbnRzIHdoZW4gdGhlIGhhc2hcclxuXHRcdFx0Ly8gaXMgc2V0ICh0aGlzIG9mdGVuIGhhcHBlbnMgaW1tZWRpYXRlbHkgaW4gYnJvd3NlcnMgbGlrZSBDaHJvbWUpLCB0aGVuIHRoZVxyXG5cdFx0XHQvLyB0aGlzIGZsYWcgd2lsbCBiZSBzZXQgdG8gZmFsc2UgYWxyZWFkeS4gSWYgaXQncyBhIGJyb3dzZXIgdGhhdCBkb2VzIG5vdCB0cmlnZ2VyXHJcblx0XHRcdC8vIGEgYHBvcHN0YXRlYCBvbiBoYXNoIGFzc2lnbmVtZW50IG9yIGByZXBsYWNlU3RhdGVgIHRoZW4gd2UgbmVlZCBhdm9pZCB0aGUgYnJhbmNoXHJcblx0XHRcdC8vIHRoYXQgc3dhbGxvd3MgdGhlIGV2ZW50IGNyZWF0ZWQgYnkgdGhlIHBvcHN0YXRlIGdlbmVyYXRlZCBieSB0aGUgaGFzaCBhc3NpZ25tZW50XHJcblx0XHRcdC8vIEF0IHRoZSB0aW1lIG9mIHRoaXMgd3JpdGluZyB0aGlzIGhhcHBlbnMgd2l0aCBPcGVyYSAxMiBhbmQgc29tZSB2ZXJzaW9uIG9mIElFXHJcblx0XHRcdHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZSA9IGZhbHNlO1xyXG5cclxuXHRcdFx0c3RhdGUgPSAkLmV4dGVuZCh7XHJcblx0XHRcdFx0dXJsOiBocmVmLFxyXG5cdFx0XHRcdGhhc2g6IGhhc2gsXHJcblx0XHRcdFx0dGl0bGU6IGRvY3VtZW50LnRpdGxlXHJcblx0XHRcdH0sIGRhdGEpO1xyXG5cclxuXHRcdFx0aWYgKCBpc1BvcFN0YXRlRXZlbnQgKSB7XHJcblx0XHRcdFx0cG9wc3RhdGVFdmVudCA9IG5ldyAkLkV2ZW50KCBcInBvcHN0YXRlXCIgKTtcclxuXHRcdFx0XHRwb3BzdGF0ZUV2ZW50Lm9yaWdpbmFsRXZlbnQgPSB7XHJcblx0XHRcdFx0XHR0eXBlOiBcInBvcHN0YXRlXCIsXHJcblx0XHRcdFx0XHRzdGF0ZTogbnVsbFxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdHRoaXMuc3F1YXNoKCB1cmwsIHN0YXRlICk7XHJcblxyXG5cdFx0XHRcdC8vIFRyaWdnZXIgYSBuZXcgZmF1eCBwb3BzdGF0ZSBldmVudCB0byByZXBsYWNlIHRoZSBvbmUgdGhhdCB3ZVxyXG5cdFx0XHRcdC8vIGNhdWdodCB0aGF0IHdhcyB0cmlnZ2VyZWQgYnkgdGhlIGhhc2ggc2V0dGluZyBhYm92ZS5cclxuXHRcdFx0XHRpZiAoICFub0V2ZW50cyApIHtcclxuXHRcdFx0XHRcdHRoaXMuaWdub3JlUG9wU3RhdGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0JC5tb2JpbGUud2luZG93LnRyaWdnZXIoIHBvcHN0YXRlRXZlbnQgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHJlY29yZCB0aGUgaGlzdG9yeSBlbnRyeSBzbyB0aGF0IHRoZSBpbmZvcm1hdGlvbiBjYW4gYmUgaW5jbHVkZWRcclxuXHRcdFx0Ly8gaW4gaGFzaGNoYW5nZSBldmVudCBkcml2ZW4gbmF2aWdhdGUgZXZlbnRzIGluIGEgc2ltaWxhciBmYXNoaW9uIHRvXHJcblx0XHRcdC8vIHRoZSBzdGF0ZSB0aGF0J3MgcHJvdmlkZWQgYnkgcG9wc3RhdGVcclxuXHRcdFx0dGhpcy5oaXN0b3J5LmFkZCggc3RhdGUudXJsLCBzdGF0ZSApO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBUaGlzIGJpbmRpbmcgaXMgaW50ZW5kZWQgdG8gY2F0Y2ggdGhlIHBvcHN0YXRlIGV2ZW50cyB0aGF0IGFyZSBmaXJlZFxyXG5cdFx0Ly8gd2hlbiBleGVjdXRpb24gb2YgdGhlIGAkLm5hdmlnYXRlYCBtZXRob2Qgc3RvcHMgYXQgd2luZG93LmxvY2F0aW9uLmhhc2ggPSB1cmw7XHJcblx0XHQvLyBhbmQgY29tcGxldGVseSBwcmV2ZW50IHRoZW0gZnJvbSBwcm9wYWdhdGluZy4gVGhlIHBvcHN0YXRlIGV2ZW50IHdpbGwgdGhlbiBiZVxyXG5cdFx0Ly8gcmV0cmlnZ2VyZWQgYWZ0ZXIgZXhlY3V0aW9uIHJlc3VtZXNcclxuXHRcdC8vXHJcblx0XHQvLyBUT0RPIGdyYWIgdGhlIG9yaWdpbmFsIGV2ZW50IGhlcmUgYW5kIHVzZSBpdCBmb3IgdGhlIHN5bnRoZXRpYyBldmVudCBpbiB0aGVcclxuXHRcdC8vICAgICAgc2Vjb25kIGhhbGYgb2YgdGhlIG5hdmlnYXRlIGV4ZWN1dGlvbiB0aGF0IHdpbGwgZm9sbG93IHRoaXMgYmluZGluZ1xyXG5cdFx0cG9wc3RhdGU6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdFx0dmFyIGhhc2gsIHN0YXRlO1xyXG5cclxuXHRcdFx0Ly8gUGFydGx5IHRvIHN1cHBvcnQgb3VyIHRlc3Qgc3VpdGUgd2hpY2ggbWFudWFsbHkgYWx0ZXJzIHRoZSBzdXBwb3J0XHJcblx0XHRcdC8vIHZhbHVlIHRvIHRlc3QgaGFzaGNoYW5nZS4gUGFydGx5IHRvIHByZXZlbnQgYWxsIGFyb3VuZCB3ZWlyZG5lc3NcclxuXHRcdFx0aWYgKCAhJC5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gSWYgdGhpcyBpcyB0aGUgcG9wc3RhdGUgdHJpZ2dlcmVkIGJ5IHRoZSBhY3R1YWwgYWx0ZXJhdGlvbiBvZiB0aGUgaGFzaFxyXG5cdFx0XHQvLyBwcmV2ZW50IGl0IGNvbXBsZXRlbHkuIEhpc3RvcnkgaXMgdHJhY2tlZCBtYW51YWxseVxyXG5cdFx0XHRpZiAoIHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZSApIHtcclxuXHRcdFx0XHR0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGUgPSBmYWxzZTtcclxuXHRcdFx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGlmIHRoaXMgaXMgdGhlIHBvcHN0YXRlIHRyaWdnZXJlZCBhZnRlciB0aGUgYHJlcGxhY2VTdGF0ZWAgY2FsbCBpbiB0aGUgZ29cclxuXHRcdFx0Ly8gbWV0aG9kLCB0aGVuIHNpbXBseSBpZ25vcmUgaXQuIFRoZSBoaXN0b3J5IGVudHJ5IGhhcyBhbHJlYWR5IGJlZW4gY2FwdHVyZWRcclxuXHRcdFx0aWYgKCB0aGlzLmlnbm9yZVBvcFN0YXRlICkge1xyXG5cdFx0XHRcdHRoaXMuaWdub3JlUG9wU3RhdGUgPSBmYWxzZTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIElmIHRoZXJlIGlzIG5vIHN0YXRlLCBhbmQgdGhlIGhpc3Rvcnkgc3RhY2sgbGVuZ3RoIGlzIG9uZSB3ZXJlXHJcblx0XHRcdC8vIHByb2JhYmx5IGdldHRpbmcgdGhlIHBhZ2UgbG9hZCBwb3BzdGF0ZSBmaXJlZCBieSBicm93c2VycyBsaWtlIGNocm9tZVxyXG5cdFx0XHQvLyBhdm9pZCBpdCBhbmQgc2V0IHRoZSBvbmUgdGltZSBmbGFnIHRvIGZhbHNlLlxyXG5cdFx0XHQvLyBUT0RPOiBEbyB3ZSByZWFsbHkgbmVlZCBhbGwgdGhlc2UgY29uZGl0aW9ucz8gQ29tcGFyaW5nIGxvY2F0aW9uIGhyZWZzXHJcblx0XHRcdC8vIHNob3VsZCBiZSBzdWZmaWNpZW50LlxyXG5cdFx0XHRpZiAoICFldmVudC5vcmlnaW5hbEV2ZW50LnN0YXRlICYmXHJcblx0XHRcdFx0dGhpcy5oaXN0b3J5LnN0YWNrLmxlbmd0aCA9PT0gMSAmJlxyXG5cdFx0XHRcdHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2UgKSB7XHJcblx0XHRcdFx0dGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZSA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRpZiAoIGxvY2F0aW9uLmhyZWYgPT09IGluaXRpYWxIcmVmICkge1xyXG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGFjY291bnQgZm9yIGRpcmVjdCBtYW5pcHVsYXRpb24gb2YgdGhlIGhhc2guIFRoYXQgaXMsIHdlIHdpbGwgcmVjZWl2ZSBhIHBvcHN0YXRlXHJcblx0XHRcdC8vIHdoZW4gdGhlIGhhc2ggaXMgY2hhbmdlZCBieSBhc3NpZ25tZW50LCBhbmQgaXQgd29uJ3QgaGF2ZSBhIHN0YXRlIGFzc29jaWF0ZWQuIFdlXHJcblx0XHRcdC8vIHRoZW4gbmVlZCB0byBzcXVhc2ggdGhlIGhhc2guIFNlZSBiZWxvdyBmb3IgaGFuZGxpbmcgb2YgaGFzaCBhc3NpZ25tZW50IHRoYXRcclxuXHRcdFx0Ly8gbWF0Y2hlcyBhbiBleGlzdGluZyBoaXN0b3J5IGVudHJ5XHJcblx0XHRcdC8vIFRPRE8gaXQgbWlnaHQgYmUgYmV0dGVyIHRvIG9ubHkgYWRkIHRvIHRoZSBoaXN0b3J5IHN0YWNrXHJcblx0XHRcdC8vICAgICAgd2hlbiB0aGUgaGFzaCBpcyBhZGphY2VudCB0byB0aGUgYWN0aXZlIGhpc3RvcnkgZW50cnlcclxuXHRcdFx0aGFzaCA9IHBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2g7XHJcblx0XHRcdGlmICggIWV2ZW50Lm9yaWdpbmFsRXZlbnQuc3RhdGUgJiYgaGFzaCApIHtcclxuXHRcdFx0XHQvLyBzcXVhc2ggdGhlIGhhc2ggdGhhdCdzIGJlZW4gYXNzaWduZWQgb24gdGhlIFVSTCB3aXRoIHJlcGxhY2VTdGF0ZVxyXG5cdFx0XHRcdC8vIGFsc28gZ3JhYiB0aGUgcmVzdWx0aW5nIHN0YXRlIG9iamVjdCBmb3Igc3RvcmFnZVxyXG5cdFx0XHRcdHN0YXRlID0gdGhpcy5zcXVhc2goIGhhc2ggKTtcclxuXHJcblx0XHRcdFx0Ly8gcmVjb3JkIHRoZSBuZXcgaGFzaCBhcyBhbiBhZGRpdGlvbmFsIGhpc3RvcnkgZW50cnlcclxuXHRcdFx0XHQvLyB0byBtYXRjaCB0aGUgYnJvd3NlcidzIHRyZWF0bWVudCBvZiBoYXNoIGFzc2lnbm1lbnRcclxuXHRcdFx0XHR0aGlzLmhpc3RvcnkuYWRkKCBzdGF0ZS51cmwsIHN0YXRlICk7XHJcblxyXG5cdFx0XHRcdC8vIHBhc3MgdGhlIG5ld2x5IGNyZWF0ZWQgc3RhdGUgaW5mb3JtYXRpb25cclxuXHRcdFx0XHQvLyBhbG9uZyB3aXRoIHRoZSBldmVudFxyXG5cdFx0XHRcdGV2ZW50Lmhpc3RvcnlTdGF0ZSA9IHN0YXRlO1xyXG5cclxuXHRcdFx0XHQvLyBkbyBub3QgYWx0ZXIgaGlzdG9yeSwgd2UndmUgYWRkZWQgYSBuZXcgaGlzdG9yeSBlbnRyeVxyXG5cdFx0XHRcdC8vIHNvIHdlIGtub3cgd2hlcmUgd2UgYXJlXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBJZiBhbGwgZWxzZSBmYWlscyB0aGlzIGlzIGEgcG9wc3RhdGUgdGhhdCBjb21lcyBmcm9tIHRoZSBiYWNrIG9yIGZvcndhcmQgYnV0dG9uc1xyXG5cdFx0XHQvLyBtYWtlIHN1cmUgdG8gc2V0IHRoZSBzdGF0ZSBvZiBvdXIgaGlzdG9yeSBzdGFjayBwcm9wZXJseSwgYW5kIHJlY29yZCB0aGUgZGlyZWN0aW9uYWxpdHlcclxuXHRcdFx0dGhpcy5oaXN0b3J5LmRpcmVjdCh7XHJcblx0XHRcdFx0dXJsOiAoZXZlbnQub3JpZ2luYWxFdmVudC5zdGF0ZSB8fCB7fSkudXJsIHx8IGhhc2gsXHJcblxyXG5cdFx0XHRcdC8vIFdoZW4gdGhlIHVybCBpcyBlaXRoZXIgZm9yd2FyZCBvciBiYWNrd2FyZCBpbiBoaXN0b3J5IGluY2x1ZGUgdGhlIGVudHJ5XHJcblx0XHRcdFx0Ly8gYXMgZGF0YSBvbiB0aGUgZXZlbnQgb2JqZWN0IGZvciBtZXJnaW5nIGFzIGRhdGEgaW4gdGhlIG5hdmlnYXRlIGV2ZW50XHJcblx0XHRcdFx0cHJlc2VudDogZnVuY3Rpb24oIGhpc3RvcnlFbnRyeSwgZGlyZWN0aW9uICkge1xyXG5cdFx0XHRcdFx0Ly8gbWFrZSBzdXJlIHRvIGNyZWF0ZSBhIG5ldyBvYmplY3QgdG8gcGFzcyBkb3duIGFzIHRoZSBuYXZpZ2F0ZSBldmVudCBkYXRhXHJcblx0XHRcdFx0XHRldmVudC5oaXN0b3J5U3RhdGUgPSAkLmV4dGVuZCh7fSwgaGlzdG9yeUVudHJ5KTtcclxuXHRcdFx0XHRcdGV2ZW50Lmhpc3RvcnlTdGF0ZS5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gTk9URSBtdXN0IGJpbmQgYmVmb3JlIGBuYXZpZ2F0ZWAgc3BlY2lhbCBldmVudCBoYXNoY2hhbmdlIGJpbmRpbmcgb3RoZXJ3aXNlIHRoZVxyXG5cdFx0Ly8gICAgICBuYXZpZ2F0aW9uIGRhdGEgd29uJ3QgYmUgYXR0YWNoZWQgdG8gdGhlIGhhc2hjaGFuZ2UgZXZlbnQgaW4gdGltZSBmb3IgdGhvc2VcclxuXHRcdC8vICAgICAgYmluZGluZ3MgdG8gYXR0YWNoIGl0IHRvIHRoZSBgbmF2aWdhdGVgIHNwZWNpYWwgZXZlbnRcclxuXHRcdC8vIFRPRE8gYWRkIGEgY2hlY2sgaGVyZSB0aGF0IGBoYXNoY2hhbmdlLm5hdmlnYXRlYCBpcyBib3VuZCBhbHJlYWR5IG90aGVyd2lzZSBpdCdzXHJcblx0XHQvLyAgICAgIGJyb2tlbiAoZXhjZXB0aW9uPylcclxuXHRcdGhhc2hjaGFuZ2U6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdFx0dmFyIGhpc3RvcnksIGhhc2g7XHJcblxyXG5cdFx0XHQvLyBJZiBoYXNoY2hhbmdlIGxpc3RlbmluZyBpcyBleHBsaWNpdGx5IGRpc2FibGVkIG9yIHB1c2hzdGF0ZSBpcyBzdXBwb3J0ZWRcclxuXHRcdFx0Ly8gYXZvaWQgbWFraW5nIHVzZSBvZiB0aGUgaGFzaGNoYW5nZSBoYW5kbGVyLlxyXG5cdFx0XHRpZiAoISQuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc0hhc2hDaGFuZ2VFbmFibGVkKCkgfHxcclxuXHRcdFx0XHQkLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkgKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBPbiBvY2Nhc2lvbiBleHBsaWNpdGx5IHdhbnQgdG8gcHJldmVudCB0aGUgbmV4dCBoYXNoIGZyb20gcHJvcG9nYXRpbmcgYmVjYXVzZSB3ZSBvbmx5XHJcblx0XHRcdC8vIHdpdGggdG8gYWx0ZXIgdGhlIHVybCB0byByZXByZXNlbnQgdGhlIG5ldyBzdGF0ZSBkbyBzbyBoZXJlXHJcblx0XHRcdGlmICggdGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2UgKSB7XHJcblx0XHRcdFx0dGhpcy5wcmV2ZW50TmV4dEhhc2hDaGFuZ2UgPSBmYWxzZTtcclxuXHRcdFx0XHRldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGhpc3RvcnkgPSB0aGlzLmhpc3Rvcnk7XHJcblx0XHRcdGhhc2ggPSBwYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoO1xyXG5cclxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIGhhc2hjaGFuZ2UgY2F1c2VkIGJ5IHRoZSBiYWNrIG9yIGZvcndhcmQgYnV0dG9uXHJcblx0XHRcdC8vIG1ha2Ugc3VyZSB0byBzZXQgdGhlIHN0YXRlIG9mIG91ciBoaXN0b3J5IHN0YWNrIHByb3Blcmx5XHJcblx0XHRcdHRoaXMuaGlzdG9yeS5kaXJlY3Qoe1xyXG5cdFx0XHRcdHVybDogaGFzaCxcclxuXHJcblx0XHRcdFx0Ly8gV2hlbiB0aGUgdXJsIGlzIGVpdGhlciBmb3J3YXJkIG9yIGJhY2t3YXJkIGluIGhpc3RvcnkgaW5jbHVkZSB0aGUgZW50cnlcclxuXHRcdFx0XHQvLyBhcyBkYXRhIG9uIHRoZSBldmVudCBvYmplY3QgZm9yIG1lcmdpbmcgYXMgZGF0YSBpbiB0aGUgbmF2aWdhdGUgZXZlbnRcclxuXHRcdFx0XHRwcmVzZW50OiBmdW5jdGlvbiggaGlzdG9yeUVudHJ5LCBkaXJlY3Rpb24gKSB7XHJcblx0XHRcdFx0XHQvLyBtYWtlIHN1cmUgdG8gY3JlYXRlIGEgbmV3IG9iamVjdCB0byBwYXNzIGRvd24gYXMgdGhlIG5hdmlnYXRlIGV2ZW50IGRhdGFcclxuXHRcdFx0XHRcdGV2ZW50Lmhhc2hjaGFuZ2VTdGF0ZSA9ICQuZXh0ZW5kKHt9LCBoaXN0b3J5RW50cnkpO1xyXG5cdFx0XHRcdFx0ZXZlbnQuaGFzaGNoYW5nZVN0YXRlLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuXHRcdFx0XHR9LFxyXG5cclxuXHRcdFx0XHQvLyBXaGVuIHdlIGRvbid0IGZpbmQgYSBoYXNoIGluIG91ciBoaXN0b3J5IGNsZWFybHkgd2UncmUgYWltaW5nIHRvIGdvIHRoZXJlXHJcblx0XHRcdFx0Ly8gcmVjb3JkIHRoZSBlbnRyeSBhcyBuZXcgZm9yIGZ1dHVyZSB0cmF2ZXJzYWxcclxuXHRcdFx0XHQvL1xyXG5cdFx0XHRcdC8vIE5PVEUgaXQncyBub3QgZW50aXJlbHkgY2xlYXIgdGhhdCB0aGlzIGlzIHRoZSByaWdodCB0aGluZyB0byBkbyBnaXZlbiB0aGF0IHdlXHJcblx0XHRcdFx0Ly8gICAgICBjYW4ndCBrbm93IHRoZSB1c2VycyBpbnRlbnRpb24uIEl0IG1pZ2h0IGJlIGJldHRlciB0byBleHBsaWNpdGx5IF9ub3RfXHJcblx0XHRcdFx0Ly8gICAgICBzdXBwb3J0IGxvY2F0aW9uLmhhc2ggYXNzaWdubWVudCBpbiBwcmVmZXJlbmNlIHRvICQubmF2aWdhdGUgY2FsbHNcclxuXHRcdFx0XHQvLyBUT0RPIGZpcnN0IGFyZyB0byBhZGQgc2hvdWxkIGJlIHRoZSBocmVmLCBidXQgaXQgY2F1c2VzIGlzc3VlcyBpbiBpZGVudGlmeWluZ1xyXG5cdFx0XHRcdC8vICAgICAgZW1iZWRlZCBwYWdlc1xyXG5cdFx0XHRcdG1pc3Npbmc6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0aGlzdG9yeS5hZGQoIGhhc2gsIHtcclxuXHRcdFx0XHRcdFx0aGFzaDogaGFzaCxcclxuXHRcdFx0XHRcdFx0dGl0bGU6IGRvY3VtZW50LnRpdGxlXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59KSggalF1ZXJ5ICk7XHJcblxyXG5cclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cdC8vIFRPRE8gY29uc2lkZXIgcXVldWVpbmcgbmF2aWdhdGlvbiBhY3Rpdml0eSB1bnRpbCBwcmV2aW91cyBhY3Rpdml0aWVzIGhhdmUgY29tcGxldGVkXHJcblx0Ly8gICAgICBzbyB0aGF0IGVuZCB1c2VycyBkb24ndCBoYXZlIHRvIHRoaW5rIGFib3V0IGl0LiBQdW50aW5nIGZvciBub3dcclxuXHQvLyBUT0RPICEhIG1vdmUgdGhlIGV2ZW50IGJpbmRpbmdzIGludG8gY2FsbGJhY2tzIG9uIHRoZSBuYXZpZ2F0ZSBldmVudFxyXG5cdCQubW9iaWxlLm5hdmlnYXRlID0gZnVuY3Rpb24oIHVybCwgZGF0YSwgbm9FdmVudHMgKSB7XHJcblx0XHQkLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3IuZ28oIHVybCwgZGF0YSwgbm9FdmVudHMgKTtcclxuXHR9O1xyXG5cclxuXHQvLyBleHBvc2UgdGhlIGhpc3Rvcnkgb24gdGhlIG5hdmlnYXRlIG1ldGhvZCBpbiBhbnRpY2lwYXRpb24gb2YgZnVsbCBpbnRlZ3JhdGlvbiB3aXRoXHJcblx0Ly8gZXhpc3RpbmcgbmF2aWdhdGlvbiBmdW5jdGlvbmFsdHkgdGhhdCBpcyB0aWdodGx5IGNvdXBsZWQgdG8gdGhlIGhpc3RvcnkgaW5mb3JtYXRpb25cclxuXHQkLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5ID0gbmV3ICQubW9iaWxlLkhpc3RvcnkoKTtcclxuXHJcblx0Ly8gaW5zdGFudGlhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIG5hdmlnYXRvciBmb3IgdXNlIHdpdGhpbiB0aGUgJC5uYXZpZ2F0ZSBtZXRob2RcclxuXHQkLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3IgPSBuZXcgJC5tb2JpbGUuTmF2aWdhdG9yKCAkLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5ICk7XHJcblxyXG5cdHZhciBsb2MgPSAkLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKTtcclxuXHQkLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZCggbG9jLmhyZWYsIHtoYXNoOiBsb2MuaGFzaH0gKTtcclxufSkoIGpRdWVyeSApO1xyXG5cclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cdHZhciBwcm9wcyA9IHtcclxuXHRcdFx0XCJhbmltYXRpb25cIjoge30sXHJcblx0XHRcdFwidHJhbnNpdGlvblwiOiB7fVxyXG5cdFx0fSxcclxuXHRcdHRlc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKSxcclxuXHRcdHZlbmRvclByZWZpeGVzID0gWyBcIlwiLCBcIndlYmtpdC1cIiwgXCJtb3otXCIsIFwiby1cIiBdO1xyXG5cclxuXHQkLmVhY2goIFsgXCJhbmltYXRpb25cIiwgXCJ0cmFuc2l0aW9uXCIgXSwgZnVuY3Rpb24oIGksIHRlc3QgKSB7XHJcblxyXG5cdFx0Ly8gR2V0IGNvcnJlY3QgbmFtZSBmb3IgdGVzdFxyXG5cdFx0dmFyIHRlc3ROYW1lID0gKCBpID09PSAwICkgPyB0ZXN0ICsgXCItXCIgKyBcIm5hbWVcIiA6IHRlc3Q7XHJcblxyXG5cdFx0JC5lYWNoKCB2ZW5kb3JQcmVmaXhlcywgZnVuY3Rpb24oIGosIHByZWZpeCApIHtcclxuXHRcdFx0aWYgKCB0ZXN0RWxlbWVudC5zdHlsZVsgJC5jYW1lbENhc2UoIHByZWZpeCArIHRlc3ROYW1lICkgXSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdCBwcm9wc1sgdGVzdCBdWyBcInByZWZpeFwiIF0gPSBwcmVmaXg7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBTZXQgZXZlbnQgYW5kIGR1cmF0aW9uIG5hbWVzIGZvciBsYXRlciB1c2VcclxuXHRcdHByb3BzWyB0ZXN0IF1bIFwiZHVyYXRpb25cIiBdID1cclxuXHRcdFx0JC5jYW1lbENhc2UoIHByb3BzWyB0ZXN0IF1bIFwicHJlZml4XCIgXSArIHRlc3QgKyBcIi1cIiArIFwiZHVyYXRpb25cIiApO1xyXG5cdFx0cHJvcHNbIHRlc3QgXVsgXCJldmVudFwiIF0gPVxyXG5cdFx0XHQkLmNhbWVsQ2FzZSggcHJvcHNbIHRlc3QgXVsgXCJwcmVmaXhcIiBdICsgdGVzdCArIFwiLVwiICsgXCJlbmRcIiApO1xyXG5cclxuXHRcdC8vIEFsbCBsb3dlciBjYXNlIGlmIG5vdCBhIHZlbmRvciBwcm9wXHJcblx0XHRpZiAoIHByb3BzWyB0ZXN0IF1bIFwicHJlZml4XCIgXSA9PT0gXCJcIiApIHtcclxuXHRcdFx0cHJvcHNbIHRlc3QgXVsgXCJldmVudFwiIF0gPSBwcm9wc1sgdGVzdCBdWyBcImV2ZW50XCIgXS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHQvLyBJZiBhIHZhbGlkIHByZWZpeCB3YXMgZm91bmQgdGhlbiB0aGUgaXQgaXMgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyXHJcblx0JC5zdXBwb3J0LmNzc1RyYW5zaXRpb25zID0gKCBwcm9wc1sgXCJ0cmFuc2l0aW9uXCIgXVsgXCJwcmVmaXhcIiBdICE9PSB1bmRlZmluZWQgKTtcclxuXHQkLnN1cHBvcnQuY3NzQW5pbWF0aW9ucyA9ICggcHJvcHNbIFwiYW5pbWF0aW9uXCIgXVsgXCJwcmVmaXhcIiBdICE9PSB1bmRlZmluZWQgKTtcclxuXHJcblx0Ly8gUmVtb3ZlIHRoZSB0ZXN0RWxlbWVudFxyXG5cdCQoIHRlc3RFbGVtZW50ICkucmVtb3ZlKCk7XHJcblxyXG5cdC8vIEFuaW1hdGlvbiBjb21wbGV0ZSBjYWxsYmFja1xyXG5cdCQuZm4uYW5pbWF0aW9uQ29tcGxldGUgPSBmdW5jdGlvbiggY2FsbGJhY2ssIHR5cGUsIGZhbGxiYWNrVGltZSApIHtcclxuXHRcdHZhciB0aW1lciwgZHVyYXRpb24sXHJcblx0XHRcdHRoYXQgPSB0aGlzLFxyXG5cdFx0XHRldmVudEJpbmRpbmcgPSBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdFx0Ly8gQ2xlYXIgdGhlIHRpbWVyIHNvIHdlIGRvbid0IGNhbGwgY2FsbGJhY2sgdHdpY2VcclxuXHRcdFx0XHRjbGVhclRpbWVvdXQoIHRpbWVyICk7XHJcblx0XHRcdFx0Y2FsbGJhY2suYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRhbmltYXRpb25UeXBlID0gKCAhdHlwZSB8fCB0eXBlID09PSBcImFuaW1hdGlvblwiICkgPyBcImFuaW1hdGlvblwiIDogXCJ0cmFuc2l0aW9uXCI7XHJcblxyXG5cdFx0Ly8gTWFrZSBzdXJlIHNlbGVjdGVkIHR5cGUgaXMgc3VwcG9ydGVkIGJ5IGJyb3dzZXJcclxuXHRcdGlmICggKCAkLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnMgJiYgYW5pbWF0aW9uVHlwZSA9PT0gXCJ0cmFuc2l0aW9uXCIgKSB8fFxyXG5cdFx0XHQoICQuc3VwcG9ydC5jc3NBbmltYXRpb25zICYmIGFuaW1hdGlvblR5cGUgPT09IFwiYW5pbWF0aW9uXCIgKSApIHtcclxuXHJcblx0XHRcdC8vIElmIGEgZmFsbGJhY2sgdGltZSB3YXMgbm90IHBhc3NlZCBzZXQgb25lXHJcblx0XHRcdGlmICggZmFsbGJhY2tUaW1lID09PSB1bmRlZmluZWQgKSB7XHJcblxyXG5cdFx0XHRcdC8vIE1ha2Ugc3VyZSB0aGUgd2FzIG5vdCBib3VuZCB0byBkb2N1bWVudCBiZWZvcmUgY2hlY2tpbmcgLmNzc1xyXG5cdFx0XHRcdGlmICggJCggdGhpcyApLmNvbnRleHQgIT09IGRvY3VtZW50ICkge1xyXG5cclxuXHRcdFx0XHRcdC8vIFBhcnNlIHRoZSBkdXJyYXRpb24gc2luY2UgaXRzIGluIHNlY29uZCBtdWx0aXBsZSBieSAxMDAwIGZvciBtaWxsaXNlY29uZHNcclxuXHRcdFx0XHRcdC8vIE11bHRpcGx5IGJ5IDMgdG8gbWFrZSBzdXJlIHdlIGdpdmUgdGhlIGFuaW1hdGlvbiBwbGVudHkgb2YgdGltZS5cclxuXHRcdFx0XHRcdGR1cmF0aW9uID0gcGFyc2VGbG9hdChcclxuXHRcdFx0XHRcdFx0JCggdGhpcyApLmNzcyggcHJvcHNbIGFuaW1hdGlvblR5cGUgXS5kdXJhdGlvbiApXHJcblx0XHRcdFx0XHQpICogMzAwMDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIElmIHdlIGNvdWxkIG5vdCByZWFkIGEgZHVyYXRpb24gdXNlIHRoZSBkZWZhdWx0XHJcblx0XHRcdFx0aWYgKCBkdXJhdGlvbiA9PT0gMCB8fCBkdXJhdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKCBkdXJhdGlvbiApICkge1xyXG5cdFx0XHRcdFx0ZHVyYXRpb24gPSAkLmZuLmFuaW1hdGlvbkNvbXBsZXRlLmRlZmF1bHREdXJhdGlvbjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFNldHMgdXAgdGhlIGZhbGxiYWNrIGlmIGV2ZW50IG5ldmVyIGNvbWVzXHJcblx0XHRcdHRpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JCggdGhhdCApLm9mZiggcHJvcHNbIGFuaW1hdGlvblR5cGUgXS5ldmVudCwgZXZlbnRCaW5kaW5nICk7XHJcblx0XHRcdFx0Y2FsbGJhY2suYXBwbHkoIHRoYXQgKTtcclxuXHRcdFx0fSwgZHVyYXRpb24gKTtcclxuXHJcblx0XHRcdC8vIEJpbmQgdGhlIGV2ZW50XHJcblx0XHRcdHJldHVybiAkKCB0aGlzICkub25lKCBwcm9wc1sgYW5pbWF0aW9uVHlwZSBdLmV2ZW50LCBldmVudEJpbmRpbmcgKTtcclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHQvLyBDU1MgYW5pbWF0aW9uIC8gdHJhbnNpdGlvbnMgbm90IHN1cHBvcnRlZFxyXG5cdFx0XHQvLyBEZWZlciBleGVjdXRpb24gZm9yIGNvbnNpc3RlbmN5IGJldHdlZW4gd2Via2l0L25vbiB3ZWJraXRcclxuXHRcdFx0c2V0VGltZW91dCggJC5wcm94eSggY2FsbGJhY2ssIHRoaXMgKSwgMCApO1xyXG5cdFx0XHRyZXR1cm4gJCggdGhpcyApO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIEFsbG93IGRlZmF1bHQgY2FsbGJhY2sgdG8gYmUgY29uZmlndXJlZCBvbiBtb2JpbGVJbml0XHJcblx0JC5mbi5hbmltYXRpb25Db21wbGV0ZS5kZWZhdWx0RHVyYXRpb24gPSAxMDAwO1xyXG59KSggalF1ZXJ5ICk7XHJcblxyXG4vLyBUaGlzIHBsdWdpbiBpcyBhbiBleHBlcmltZW50IGZvciBhYnN0cmFjdGluZyBhd2F5IHRoZSB0b3VjaCBhbmQgbW91c2VcclxuLy8gZXZlbnRzIHNvIHRoYXQgZGV2ZWxvcGVycyBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IHdoaWNoIG1ldGhvZCBvZiBpbnB1dFxyXG4vLyB0aGUgZGV2aWNlIHRoZWlyIGRvY3VtZW50IGlzIGxvYWRlZCBvbiBzdXBwb3J0cy5cclxuLy9cclxuLy8gVGhlIGlkZWEgaGVyZSBpcyB0byBhbGxvdyB0aGUgZGV2ZWxvcGVyIHRvIHJlZ2lzdGVyIGxpc3RlbmVycyBmb3IgdGhlXHJcbi8vIGJhc2ljIG1vdXNlIGV2ZW50cywgc3VjaCBhcyBtb3VzZWRvd24sIG1vdXNlbW92ZSwgbW91c2V1cCwgYW5kIGNsaWNrLFxyXG4vLyBhbmQgdGhlIHBsdWdpbiB3aWxsIHRha2UgY2FyZSBvZiByZWdpc3RlcmluZyB0aGUgY29ycmVjdCBsaXN0ZW5lcnNcclxuLy8gYmVoaW5kIHRoZSBzY2VuZXMgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciBhdCB0aGUgZmFzdGVzdCBwb3NzaWJsZSB0aW1lXHJcbi8vIGZvciB0aGF0IGRldmljZSwgd2hpbGUgc3RpbGwgcmV0YWluaW5nIHRoZSBvcmRlciBvZiBldmVudCBmaXJpbmcgaW5cclxuLy8gdGhlIHRyYWRpdGlvbmFsIG1vdXNlIGVudmlyb25tZW50LCBzaG91bGQgbXVsdGlwbGUgaGFuZGxlcnMgYmUgcmVnaXN0ZXJlZFxyXG4vLyBvbiB0aGUgc2FtZSBlbGVtZW50IGZvciBkaWZmZXJlbnQgZXZlbnRzLlxyXG4vL1xyXG4vLyBUaGUgY3VycmVudCB2ZXJzaW9uIGV4cG9zZXMgdGhlIGZvbGxvd2luZyB2aXJ0dWFsIGV2ZW50cyB0byBqUXVlcnkgYmluZCBtZXRob2RzOlxyXG4vLyBcInZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsXCJcclxuXHJcbihmdW5jdGlvbiggJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xyXG5cclxudmFyIGRhdGFQcm9wZXJ0eU5hbWUgPSBcInZpcnR1YWxNb3VzZUJpbmRpbmdzXCIsXHJcblx0dG91Y2hUYXJnZXRQcm9wZXJ0eU5hbWUgPSBcInZpcnR1YWxUb3VjaElEXCIsXHJcblx0dmlydHVhbEV2ZW50TmFtZXMgPSBcInZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsXCIuc3BsaXQoIFwiIFwiICksXHJcblx0dG91Y2hFdmVudFByb3BzID0gXCJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZXCIuc3BsaXQoIFwiIFwiICksXHJcblx0bW91c2VIb29rUHJvcHMgPSAkLmV2ZW50Lm1vdXNlSG9va3MgPyAkLmV2ZW50Lm1vdXNlSG9va3MucHJvcHMgOiBbXSxcclxuXHRtb3VzZUV2ZW50UHJvcHMgPSAkLmV2ZW50LnByb3BzLmNvbmNhdCggbW91c2VIb29rUHJvcHMgKSxcclxuXHRhY3RpdmVEb2NIYW5kbGVycyA9IHt9LFxyXG5cdHJlc2V0VGltZXJJRCA9IDAsXHJcblx0c3RhcnRYID0gMCxcclxuXHRzdGFydFkgPSAwLFxyXG5cdGRpZFNjcm9sbCA9IGZhbHNlLFxyXG5cdGNsaWNrQmxvY2tMaXN0ID0gW10sXHJcblx0YmxvY2tNb3VzZVRyaWdnZXJzID0gZmFsc2UsXHJcblx0YmxvY2tUb3VjaFRyaWdnZXJzID0gZmFsc2UsXHJcblx0ZXZlbnRDYXB0dXJlU3VwcG9ydGVkID0gXCJhZGRFdmVudExpc3RlbmVyXCIgaW4gZG9jdW1lbnQsXHJcblx0JGRvY3VtZW50ID0gJCggZG9jdW1lbnQgKSxcclxuXHRuZXh0VG91Y2hJRCA9IDEsXHJcblx0bGFzdFRvdWNoSUQgPSAwLCB0aHJlc2hvbGQsXHJcblx0aTtcclxuXHJcbiQudm1vdXNlID0ge1xyXG5cdG1vdmVEaXN0YW5jZVRocmVzaG9sZDogMTAsXHJcblx0Y2xpY2tEaXN0YW5jZVRocmVzaG9sZDogMTAsXHJcblx0cmVzZXRUaW1lckR1cmF0aW9uOiAxNTAwXHJcbn07XHJcblxyXG5mdW5jdGlvbiBnZXROYXRpdmVFdmVudCggZXZlbnQgKSB7XHJcblxyXG5cdHdoaWxlICggZXZlbnQgJiYgdHlwZW9mIGV2ZW50Lm9yaWdpbmFsRXZlbnQgIT09IFwidW5kZWZpbmVkXCIgKSB7XHJcblx0XHRldmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7XHJcblx0fVxyXG5cdHJldHVybiBldmVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlVmlydHVhbEV2ZW50KCBldmVudCwgZXZlbnRUeXBlICkge1xyXG5cclxuXHR2YXIgdCA9IGV2ZW50LnR5cGUsXHJcblx0XHRvZSwgcHJvcHMsIG5lLCBwcm9wLCBjdCwgdG91Y2gsIGksIGosIGxlbjtcclxuXHJcblx0ZXZlbnQgPSAkLkV2ZW50KCBldmVudCApO1xyXG5cdGV2ZW50LnR5cGUgPSBldmVudFR5cGU7XHJcblxyXG5cdG9lID0gZXZlbnQub3JpZ2luYWxFdmVudDtcclxuXHRwcm9wcyA9ICQuZXZlbnQucHJvcHM7XHJcblxyXG5cdC8vIGFkZHJlc3NlcyBzZXBhcmF0aW9uIG9mICQuZXZlbnQucHJvcHMgaW4gdG8gJC5ldmVudC5tb3VzZUhvb2sucHJvcHMgYW5kIElzc3VlIDMyODBcclxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS1tb2JpbGUvaXNzdWVzLzMyODBcclxuXHRpZiAoIHQuc2VhcmNoKCAvXihtb3VzZXxjbGljaykvICkgPiAtMSApIHtcclxuXHRcdHByb3BzID0gbW91c2VFdmVudFByb3BzO1xyXG5cdH1cclxuXHJcblx0Ly8gY29weSBvcmlnaW5hbCBldmVudCBwcm9wZXJ0aWVzIG92ZXIgdG8gdGhlIG5ldyBldmVudFxyXG5cdC8vIHRoaXMgd291bGQgaGFwcGVuIGlmIHdlIGNvdWxkIGNhbGwgJC5ldmVudC5maXggaW5zdGVhZCBvZiAkLkV2ZW50XHJcblx0Ly8gYnV0IHdlIGRvbid0IGhhdmUgYSB3YXkgdG8gZm9yY2UgYW4gZXZlbnQgdG8gYmUgZml4ZWQgbXVsdGlwbGUgdGltZXNcclxuXHRpZiAoIG9lICkge1xyXG5cdFx0Zm9yICggaSA9IHByb3BzLmxlbmd0aCwgcHJvcDsgaTsgKSB7XHJcblx0XHRcdHByb3AgPSBwcm9wc1sgLS1pIF07XHJcblx0XHRcdGV2ZW50WyBwcm9wIF0gPSBvZVsgcHJvcCBdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gbWFrZSBzdXJlIHRoYXQgaWYgdGhlIG1vdXNlIGFuZCBjbGljayB2aXJ0dWFsIGV2ZW50cyBhcmUgZ2VuZXJhdGVkXHJcblx0Ly8gd2l0aG91dCBhIC53aGljaCBvbmUgaXMgZGVmaW5lZFxyXG5cdGlmICggdC5zZWFyY2goL21vdXNlKGRvd258dXApfGNsaWNrLykgPiAtMSAmJiAhZXZlbnQud2hpY2ggKSB7XHJcblx0XHRldmVudC53aGljaCA9IDE7XHJcblx0fVxyXG5cclxuXHRpZiAoIHQuc2VhcmNoKC9edG91Y2gvKSAhPT0gLTEgKSB7XHJcblx0XHRuZSA9IGdldE5hdGl2ZUV2ZW50KCBvZSApO1xyXG5cdFx0dCA9IG5lLnRvdWNoZXM7XHJcblx0XHRjdCA9IG5lLmNoYW5nZWRUb3VjaGVzO1xyXG5cdFx0dG91Y2ggPSAoIHQgJiYgdC5sZW5ndGggKSA/IHRbMF0gOiAoICggY3QgJiYgY3QubGVuZ3RoICkgPyBjdFsgMCBdIDogdW5kZWZpbmVkICk7XHJcblxyXG5cdFx0aWYgKCB0b3VjaCApIHtcclxuXHRcdFx0Zm9yICggaiA9IDAsIGxlbiA9IHRvdWNoRXZlbnRQcm9wcy5sZW5ndGg7IGogPCBsZW47IGorKykge1xyXG5cdFx0XHRcdHByb3AgPSB0b3VjaEV2ZW50UHJvcHNbIGogXTtcclxuXHRcdFx0XHRldmVudFsgcHJvcCBdID0gdG91Y2hbIHByb3AgXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIGV2ZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRWaXJ0dWFsQmluZGluZ0ZsYWdzKCBlbGVtZW50ICkge1xyXG5cclxuXHR2YXIgZmxhZ3MgPSB7fSxcclxuXHRcdGIsIGs7XHJcblxyXG5cdHdoaWxlICggZWxlbWVudCApIHtcclxuXHJcblx0XHRiID0gJC5kYXRhKCBlbGVtZW50LCBkYXRhUHJvcGVydHlOYW1lICk7XHJcblxyXG5cdFx0Zm9yICggIGsgaW4gYiApIHtcclxuXHRcdFx0aWYgKCBiWyBrIF0gKSB7XHJcblx0XHRcdFx0ZmxhZ3NbIGsgXSA9IGZsYWdzLmhhc1ZpcnR1YWxCaW5kaW5nID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0ZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuXHR9XHJcblx0cmV0dXJuIGZsYWdzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDbG9zZXN0RWxlbWVudFdpdGhWaXJ0dWFsQmluZGluZyggZWxlbWVudCwgZXZlbnRUeXBlICkge1xyXG5cdHZhciBiO1xyXG5cdHdoaWxlICggZWxlbWVudCApIHtcclxuXHJcblx0XHRiID0gJC5kYXRhKCBlbGVtZW50LCBkYXRhUHJvcGVydHlOYW1lICk7XHJcblxyXG5cdFx0aWYgKCBiICYmICggIWV2ZW50VHlwZSB8fCBiWyBldmVudFR5cGUgXSApICkge1xyXG5cdFx0XHRyZXR1cm4gZWxlbWVudDtcclxuXHRcdH1cclxuXHRcdGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcblx0fVxyXG5cdHJldHVybiBudWxsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlbmFibGVUb3VjaEJpbmRpbmdzKCkge1xyXG5cdGJsb2NrVG91Y2hUcmlnZ2VycyA9IGZhbHNlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNhYmxlVG91Y2hCaW5kaW5ncygpIHtcclxuXHRibG9ja1RvdWNoVHJpZ2dlcnMgPSB0cnVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlbmFibGVNb3VzZUJpbmRpbmdzKCkge1xyXG5cdGxhc3RUb3VjaElEID0gMDtcclxuXHRjbGlja0Jsb2NrTGlzdC5sZW5ndGggPSAwO1xyXG5cdGJsb2NrTW91c2VUcmlnZ2VycyA9IGZhbHNlO1xyXG5cclxuXHQvLyBXaGVuIG1vdXNlIGJpbmRpbmdzIGFyZSBlbmFibGVkLCBvdXJcclxuXHQvLyB0b3VjaCBiaW5kaW5ncyBhcmUgZGlzYWJsZWQuXHJcblx0ZGlzYWJsZVRvdWNoQmluZGluZ3MoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzYWJsZU1vdXNlQmluZGluZ3MoKSB7XHJcblx0Ly8gV2hlbiBtb3VzZSBiaW5kaW5ncyBhcmUgZGlzYWJsZWQsIG91clxyXG5cdC8vIHRvdWNoIGJpbmRpbmdzIGFyZSBlbmFibGVkLlxyXG5cdGVuYWJsZVRvdWNoQmluZGluZ3MoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RhcnRSZXNldFRpbWVyKCkge1xyXG5cdGNsZWFyUmVzZXRUaW1lcigpO1xyXG5cdHJlc2V0VGltZXJJRCA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG5cdFx0cmVzZXRUaW1lcklEID0gMDtcclxuXHRcdGVuYWJsZU1vdXNlQmluZGluZ3MoKTtcclxuXHR9LCAkLnZtb3VzZS5yZXNldFRpbWVyRHVyYXRpb24gKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJSZXNldFRpbWVyKCkge1xyXG5cdGlmICggcmVzZXRUaW1lcklEICkge1xyXG5cdFx0Y2xlYXJUaW1lb3V0KCByZXNldFRpbWVySUQgKTtcclxuXHRcdHJlc2V0VGltZXJJRCA9IDA7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiB0cmlnZ2VyVmlydHVhbEV2ZW50KCBldmVudFR5cGUsIGV2ZW50LCBmbGFncyApIHtcclxuXHR2YXIgdmU7XHJcblxyXG5cdGlmICggKCBmbGFncyAmJiBmbGFnc1sgZXZlbnRUeXBlIF0gKSB8fFxyXG5cdFx0XHRcdCggIWZsYWdzICYmIGdldENsb3Nlc3RFbGVtZW50V2l0aFZpcnR1YWxCaW5kaW5nKCBldmVudC50YXJnZXQsIGV2ZW50VHlwZSApICkgKSB7XHJcblxyXG5cdFx0dmUgPSBjcmVhdGVWaXJ0dWFsRXZlbnQoIGV2ZW50LCBldmVudFR5cGUgKTtcclxuXHJcblx0XHQkKCBldmVudC50YXJnZXQpLnRyaWdnZXIoIHZlICk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gdmU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1vdXNlRXZlbnRDYWxsYmFjayggZXZlbnQgKSB7XHJcblx0dmFyIHRvdWNoSUQgPSAkLmRhdGEoIGV2ZW50LnRhcmdldCwgdG91Y2hUYXJnZXRQcm9wZXJ0eU5hbWUgKSxcclxuXHRcdHZlO1xyXG5cclxuXHRpZiAoICFibG9ja01vdXNlVHJpZ2dlcnMgJiYgKCAhbGFzdFRvdWNoSUQgfHwgbGFzdFRvdWNoSUQgIT09IHRvdWNoSUQgKSApIHtcclxuXHRcdHZlID0gdHJpZ2dlclZpcnR1YWxFdmVudCggXCJ2XCIgKyBldmVudC50eXBlLCBldmVudCApO1xyXG5cdFx0aWYgKCB2ZSApIHtcclxuXHRcdFx0aWYgKCB2ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggdmUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcclxuXHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIHZlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XHJcblx0XHRcdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoIGV2ZW50ICkge1xyXG5cclxuXHR2YXIgdG91Y2hlcyA9IGdldE5hdGl2ZUV2ZW50KCBldmVudCApLnRvdWNoZXMsXHJcblx0XHR0YXJnZXQsIGZsYWdzLCB0O1xyXG5cclxuXHRpZiAoIHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT09IDEgKSB7XHJcblxyXG5cdFx0dGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG5cdFx0ZmxhZ3MgPSBnZXRWaXJ0dWFsQmluZGluZ0ZsYWdzKCB0YXJnZXQgKTtcclxuXHJcblx0XHRpZiAoIGZsYWdzLmhhc1ZpcnR1YWxCaW5kaW5nICkge1xyXG5cclxuXHRcdFx0bGFzdFRvdWNoSUQgPSBuZXh0VG91Y2hJRCsrO1xyXG5cdFx0XHQkLmRhdGEoIHRhcmdldCwgdG91Y2hUYXJnZXRQcm9wZXJ0eU5hbWUsIGxhc3RUb3VjaElEICk7XHJcblxyXG5cdFx0XHRjbGVhclJlc2V0VGltZXIoKTtcclxuXHJcblx0XHRcdGRpc2FibGVNb3VzZUJpbmRpbmdzKCk7XHJcblx0XHRcdGRpZFNjcm9sbCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0dCA9IGdldE5hdGl2ZUV2ZW50KCBldmVudCApLnRvdWNoZXNbIDAgXTtcclxuXHRcdFx0c3RhcnRYID0gdC5wYWdlWDtcclxuXHRcdFx0c3RhcnRZID0gdC5wYWdlWTtcclxuXHJcblx0XHRcdHRyaWdnZXJWaXJ0dWFsRXZlbnQoIFwidm1vdXNlb3ZlclwiLCBldmVudCwgZmxhZ3MgKTtcclxuXHRcdFx0dHJpZ2dlclZpcnR1YWxFdmVudCggXCJ2bW91c2Vkb3duXCIsIGV2ZW50LCBmbGFncyApO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKCBldmVudCApIHtcclxuXHRpZiAoIGJsb2NrVG91Y2hUcmlnZ2VycyApIHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGlmICggIWRpZFNjcm9sbCApIHtcclxuXHRcdHRyaWdnZXJWaXJ0dWFsRXZlbnQoIFwidm1vdXNlY2FuY2VsXCIsIGV2ZW50LCBnZXRWaXJ0dWFsQmluZGluZ0ZsYWdzKCBldmVudC50YXJnZXQgKSApO1xyXG5cdH1cclxuXHJcblx0ZGlkU2Nyb2xsID0gdHJ1ZTtcclxuXHRzdGFydFJlc2V0VGltZXIoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKCBldmVudCApIHtcclxuXHRpZiAoIGJsb2NrVG91Y2hUcmlnZ2VycyApIHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdHZhciB0ID0gZ2V0TmF0aXZlRXZlbnQoIGV2ZW50ICkudG91Y2hlc1sgMCBdLFxyXG5cdFx0ZGlkQ2FuY2VsID0gZGlkU2Nyb2xsLFxyXG5cdFx0bW92ZVRocmVzaG9sZCA9ICQudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZCxcclxuXHRcdGZsYWdzID0gZ2V0VmlydHVhbEJpbmRpbmdGbGFncyggZXZlbnQudGFyZ2V0ICk7XHJcblxyXG5cdFx0ZGlkU2Nyb2xsID0gZGlkU2Nyb2xsIHx8XHJcblx0XHRcdCggTWF0aC5hYnMoIHQucGFnZVggLSBzdGFydFggKSA+IG1vdmVUaHJlc2hvbGQgfHxcclxuXHRcdFx0XHRNYXRoLmFicyggdC5wYWdlWSAtIHN0YXJ0WSApID4gbW92ZVRocmVzaG9sZCApO1xyXG5cclxuXHRpZiAoIGRpZFNjcm9sbCAmJiAhZGlkQ2FuY2VsICkge1xyXG5cdFx0dHJpZ2dlclZpcnR1YWxFdmVudCggXCJ2bW91c2VjYW5jZWxcIiwgZXZlbnQsIGZsYWdzICk7XHJcblx0fVxyXG5cclxuXHR0cmlnZ2VyVmlydHVhbEV2ZW50KCBcInZtb3VzZW1vdmVcIiwgZXZlbnQsIGZsYWdzICk7XHJcblx0c3RhcnRSZXNldFRpbWVyKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVRvdWNoRW5kKCBldmVudCApIHtcclxuXHRpZiAoIGJsb2NrVG91Y2hUcmlnZ2VycyApIHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGRpc2FibGVUb3VjaEJpbmRpbmdzKCk7XHJcblxyXG5cdHZhciBmbGFncyA9IGdldFZpcnR1YWxCaW5kaW5nRmxhZ3MoIGV2ZW50LnRhcmdldCApLFxyXG5cdFx0dmUsIHQ7XHJcblx0dHJpZ2dlclZpcnR1YWxFdmVudCggXCJ2bW91c2V1cFwiLCBldmVudCwgZmxhZ3MgKTtcclxuXHJcblx0aWYgKCAhZGlkU2Nyb2xsICkge1xyXG5cdFx0dmUgPSB0cmlnZ2VyVmlydHVhbEV2ZW50KCBcInZjbGlja1wiLCBldmVudCwgZmxhZ3MgKTtcclxuXHRcdGlmICggdmUgJiYgdmUuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7XHJcblx0XHRcdC8vIFRoZSB0YXJnZXQgb2YgdGhlIG1vdXNlIGV2ZW50cyB0aGF0IGZvbGxvdyB0aGUgdG91Y2hlbmRcclxuXHRcdFx0Ly8gZXZlbnQgZG9uJ3QgbmVjZXNzYXJpbHkgbWF0Y2ggdGhlIHRhcmdldCB1c2VkIGR1cmluZyB0aGVcclxuXHRcdFx0Ly8gdG91Y2guIFRoaXMgbWVhbnMgd2UgbmVlZCB0byByZWx5IG9uIGNvb3JkaW5hdGVzIGZvciBibG9ja2luZ1xyXG5cdFx0XHQvLyBhbnkgY2xpY2sgdGhhdCBpcyBnZW5lcmF0ZWQuXHJcblx0XHRcdHQgPSBnZXROYXRpdmVFdmVudCggZXZlbnQgKS5jaGFuZ2VkVG91Y2hlc1sgMCBdO1xyXG5cdFx0XHRjbGlja0Jsb2NrTGlzdC5wdXNoKHtcclxuXHRcdFx0XHR0b3VjaElEOiBsYXN0VG91Y2hJRCxcclxuXHRcdFx0XHR4OiB0LmNsaWVudFgsXHJcblx0XHRcdFx0eTogdC5jbGllbnRZXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gUHJldmVudCBhbnkgbW91c2UgZXZlbnRzIHRoYXQgZm9sbG93IGZyb20gdHJpZ2dlcmluZ1xyXG5cdFx0XHQvLyB2aXJ0dWFsIGV2ZW50IG5vdGlmaWNhdGlvbnMuXHJcblx0XHRcdGJsb2NrTW91c2VUcmlnZ2VycyA9IHRydWU7XHJcblx0XHR9XHJcblx0fVxyXG5cdHRyaWdnZXJWaXJ0dWFsRXZlbnQoIFwidm1vdXNlb3V0XCIsIGV2ZW50LCBmbGFncyk7XHJcblx0ZGlkU2Nyb2xsID0gZmFsc2U7XHJcblxyXG5cdHN0YXJ0UmVzZXRUaW1lcigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYXNWaXJ0dWFsQmluZGluZ3MoIGVsZSApIHtcclxuXHR2YXIgYmluZGluZ3MgPSAkLmRhdGEoIGVsZSwgZGF0YVByb3BlcnR5TmFtZSApLFxyXG5cdFx0aztcclxuXHJcblx0aWYgKCBiaW5kaW5ncyApIHtcclxuXHRcdGZvciAoIGsgaW4gYmluZGluZ3MgKSB7XHJcblx0XHRcdGlmICggYmluZGluZ3NbIGsgXSApIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGR1bW15TW91c2VIYW5kbGVyKCkge31cclxuXHJcbmZ1bmN0aW9uIGdldFNwZWNpYWxFdmVudE9iamVjdCggZXZlbnRUeXBlICkge1xyXG5cdHZhciByZWFsVHlwZSA9IGV2ZW50VHlwZS5zdWJzdHIoIDEgKTtcclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdHNldHVwOiBmdW5jdGlvbigvKiBkYXRhLCBuYW1lc3BhY2UgKi8pIHtcclxuXHRcdFx0Ly8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgdmlydHVhbCBtb3VzZSBiaW5kaW5nIGZvciB0aGlzIGVsZW1lbnQsXHJcblx0XHRcdC8vIGFkZCBhIGJpbmRpbmdzIG9iamVjdCB0byBpdHMgZGF0YS5cclxuXHJcblx0XHRcdGlmICggIWhhc1ZpcnR1YWxCaW5kaW5ncyggdGhpcyApICkge1xyXG5cdFx0XHRcdCQuZGF0YSggdGhpcywgZGF0YVByb3BlcnR5TmFtZSwge30gKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gSWYgc2V0dXAgaXMgY2FsbGVkLCB3ZSBrbm93IGl0IGlzIHRoZSBmaXJzdCBiaW5kaW5nIGZvciB0aGlzXHJcblx0XHRcdC8vIGV2ZW50VHlwZSwgc28gaW5pdGlhbGl6ZSB0aGUgY291bnQgZm9yIHRoZSBldmVudFR5cGUgdG8gemVyby5cclxuXHRcdFx0dmFyIGJpbmRpbmdzID0gJC5kYXRhKCB0aGlzLCBkYXRhUHJvcGVydHlOYW1lICk7XHJcblx0XHRcdGJpbmRpbmdzWyBldmVudFR5cGUgXSA9IHRydWU7XHJcblxyXG5cdFx0XHQvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCB2aXJ0dWFsIG1vdXNlIGV2ZW50IGZvciB0aGlzIHR5cGUsXHJcblx0XHRcdC8vIHJlZ2lzdGVyIGEgZ2xvYmFsIGhhbmRsZXIgb24gdGhlIGRvY3VtZW50LlxyXG5cclxuXHRcdFx0YWN0aXZlRG9jSGFuZGxlcnNbIGV2ZW50VHlwZSBdID0gKCBhY3RpdmVEb2NIYW5kbGVyc1sgZXZlbnRUeXBlIF0gfHwgMCApICsgMTtcclxuXHJcblx0XHRcdGlmICggYWN0aXZlRG9jSGFuZGxlcnNbIGV2ZW50VHlwZSBdID09PSAxICkge1xyXG5cdFx0XHRcdCRkb2N1bWVudC5iaW5kKCByZWFsVHlwZSwgbW91c2VFdmVudENhbGxiYWNrICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFNvbWUgYnJvd3NlcnMsIGxpa2UgT3BlcmEgTWluaSwgd29uJ3QgZGlzcGF0Y2ggbW91c2UvY2xpY2sgZXZlbnRzXHJcblx0XHRcdC8vIGZvciBlbGVtZW50cyB1bmxlc3MgdGhleSBhY3R1YWxseSBoYXZlIGhhbmRsZXJzIHJlZ2lzdGVyZWQgb24gdGhlbS5cclxuXHRcdFx0Ly8gVG8gZ2V0IGFyb3VuZCB0aGlzLCB3ZSByZWdpc3RlciBkdW1teSBoYW5kbGVycyBvbiB0aGUgZWxlbWVudHMuXHJcblxyXG5cdFx0XHQkKCB0aGlzICkuYmluZCggcmVhbFR5cGUsIGR1bW15TW91c2VIYW5kbGVyICk7XHJcblxyXG5cdFx0XHQvLyBGb3Igbm93LCBpZiBldmVudCBjYXB0dXJlIGlzIG5vdCBzdXBwb3J0ZWQsIHdlIHJlbHkgb24gbW91c2UgaGFuZGxlcnMuXHJcblx0XHRcdGlmICggZXZlbnRDYXB0dXJlU3VwcG9ydGVkICkge1xyXG5cdFx0XHRcdC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IHZpcnR1YWwgbW91c2UgYmluZGluZyBmb3IgdGhlIGRvY3VtZW50LFxyXG5cdFx0XHRcdC8vIHJlZ2lzdGVyIG91ciB0b3VjaHN0YXJ0IGhhbmRsZXIgb24gdGhlIGRvY3VtZW50LlxyXG5cclxuXHRcdFx0XHRhY3RpdmVEb2NIYW5kbGVyc1sgXCJ0b3VjaHN0YXJ0XCIgXSA9ICggYWN0aXZlRG9jSGFuZGxlcnNbIFwidG91Y2hzdGFydFwiIF0gfHwgMCkgKyAxO1xyXG5cclxuXHRcdFx0XHRpZiAoIGFjdGl2ZURvY0hhbmRsZXJzWyBcInRvdWNoc3RhcnRcIiBdID09PSAxICkge1xyXG5cdFx0XHRcdFx0JGRvY3VtZW50LmJpbmQoIFwidG91Y2hzdGFydFwiLCBoYW5kbGVUb3VjaFN0YXJ0IClcclxuXHRcdFx0XHRcdFx0LmJpbmQoIFwidG91Y2hlbmRcIiwgaGFuZGxlVG91Y2hFbmQgKVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gT24gdG91Y2ggcGxhdGZvcm1zLCB0b3VjaGluZyB0aGUgc2NyZWVuIGFuZCB0aGVuIGRyYWdnaW5nIHlvdXIgZmluZ2VyXHJcblx0XHRcdFx0XHRcdC8vIGNhdXNlcyB0aGUgd2luZG93IGNvbnRlbnQgdG8gc2Nyb2xsIGFmdGVyIHNvbWUgZGlzdGFuY2UgdGhyZXNob2xkIGlzXHJcblx0XHRcdFx0XHRcdC8vIGV4Y2VlZGVkLiBPbiB0aGVzZSBwbGF0Zm9ybXMsIGEgc2Nyb2xsIHByZXZlbnRzIGEgY2xpY2sgZXZlbnQgZnJvbSBiZWluZ1xyXG5cdFx0XHRcdFx0XHQvLyBkaXNwYXRjaGVkLCBhbmQgb24gc29tZSBwbGF0Zm9ybXMsIGV2ZW4gdGhlIHRvdWNoZW5kIGlzIHN1cHByZXNzZWQuIFRvXHJcblx0XHRcdFx0XHRcdC8vIG1pbWljIHRoZSBzdXBwcmVzc2lvbiBvZiB0aGUgY2xpY2sgZXZlbnQsIHdlIG5lZWQgdG8gd2F0Y2ggZm9yIGEgc2Nyb2xsXHJcblx0XHRcdFx0XHRcdC8vIGV2ZW50LiBVbmZvcnR1bmF0ZWx5LCBzb21lIHBsYXRmb3JtcyBsaWtlIGlPUyBkb24ndCBkaXNwYXRjaCBzY3JvbGxcclxuXHRcdFx0XHRcdFx0Ly8gZXZlbnRzIHVudGlsICpBRlRFUiogdGhlIHVzZXIgbGlmdHMgdGhlaXIgZmluZ2VyICh0b3VjaGVuZCkuIFRoaXMgbWVhbnNcclxuXHRcdFx0XHRcdFx0Ly8gd2UgbmVlZCB0byB3YXRjaCBib3RoIHNjcm9sbCBhbmQgdG91Y2htb3ZlIGV2ZW50cyB0byBmaWd1cmUgb3V0IHdoZXRoZXJcclxuXHRcdFx0XHRcdFx0Ly8gb3Igbm90IGEgc2Nyb2xsIGhhcHBlbmVucyBiZWZvcmUgdGhlIHRvdWNoZW5kIGV2ZW50IGlzIGZpcmVkLlxyXG5cclxuXHRcdFx0XHRcdFx0LmJpbmQoIFwidG91Y2htb3ZlXCIsIGhhbmRsZVRvdWNoTW92ZSApXHJcblx0XHRcdFx0XHRcdC5iaW5kKCBcInNjcm9sbFwiLCBoYW5kbGVTY3JvbGwgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0dGVhcmRvd246IGZ1bmN0aW9uKC8qIGRhdGEsIG5hbWVzcGFjZSAqLykge1xyXG5cdFx0XHQvLyBJZiB0aGlzIGlzIHRoZSBsYXN0IHZpcnR1YWwgYmluZGluZyBmb3IgdGhpcyBldmVudFR5cGUsXHJcblx0XHRcdC8vIHJlbW92ZSBpdHMgZ2xvYmFsIGhhbmRsZXIgZnJvbSB0aGUgZG9jdW1lbnQuXHJcblxyXG5cdFx0XHQtLWFjdGl2ZURvY0hhbmRsZXJzWyBldmVudFR5cGUgXTtcclxuXHJcblx0XHRcdGlmICggIWFjdGl2ZURvY0hhbmRsZXJzWyBldmVudFR5cGUgXSApIHtcclxuXHRcdFx0XHQkZG9jdW1lbnQudW5iaW5kKCByZWFsVHlwZSwgbW91c2VFdmVudENhbGxiYWNrICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggZXZlbnRDYXB0dXJlU3VwcG9ydGVkICkge1xyXG5cdFx0XHRcdC8vIElmIHRoaXMgaXMgdGhlIGxhc3QgdmlydHVhbCBtb3VzZSBiaW5kaW5nIGluIGV4aXN0ZW5jZSxcclxuXHRcdFx0XHQvLyByZW1vdmUgb3VyIGRvY3VtZW50IHRvdWNoc3RhcnQgbGlzdGVuZXIuXHJcblxyXG5cdFx0XHRcdC0tYWN0aXZlRG9jSGFuZGxlcnNbIFwidG91Y2hzdGFydFwiIF07XHJcblxyXG5cdFx0XHRcdGlmICggIWFjdGl2ZURvY0hhbmRsZXJzWyBcInRvdWNoc3RhcnRcIiBdICkge1xyXG5cdFx0XHRcdFx0JGRvY3VtZW50LnVuYmluZCggXCJ0b3VjaHN0YXJ0XCIsIGhhbmRsZVRvdWNoU3RhcnQgKVxyXG5cdFx0XHRcdFx0XHQudW5iaW5kKCBcInRvdWNobW92ZVwiLCBoYW5kbGVUb3VjaE1vdmUgKVxyXG5cdFx0XHRcdFx0XHQudW5iaW5kKCBcInRvdWNoZW5kXCIsIGhhbmRsZVRvdWNoRW5kIClcclxuXHRcdFx0XHRcdFx0LnVuYmluZCggXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgJHRoaXMgPSAkKCB0aGlzICksXHJcblx0XHRcdFx0YmluZGluZ3MgPSAkLmRhdGEoIHRoaXMsIGRhdGFQcm9wZXJ0eU5hbWUgKTtcclxuXHJcblx0XHRcdC8vIHRlYXJkb3duIG1heSBiZSBjYWxsZWQgd2hlbiBhbiBlbGVtZW50IHdhc1xyXG5cdFx0XHQvLyByZW1vdmVkIGZyb20gdGhlIERPTS4gSWYgdGhpcyBpcyB0aGUgY2FzZSxcclxuXHRcdFx0Ly8galF1ZXJ5IGNvcmUgbWF5IGhhdmUgYWxyZWFkeSBzdHJpcHBlZCB0aGUgZWxlbWVudFxyXG5cdFx0XHQvLyBvZiBhbnkgZGF0YSBiaW5kaW5ncyBzbyB3ZSBuZWVkIHRvIGNoZWNrIGl0IGJlZm9yZVxyXG5cdFx0XHQvLyB1c2luZyBpdC5cclxuXHRcdFx0aWYgKCBiaW5kaW5ncyApIHtcclxuXHRcdFx0XHRiaW5kaW5nc1sgZXZlbnRUeXBlIF0gPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gVW5yZWdpc3RlciB0aGUgZHVtbXkgZXZlbnQgaGFuZGxlci5cclxuXHJcblx0XHRcdCR0aGlzLnVuYmluZCggcmVhbFR5cGUsIGR1bW15TW91c2VIYW5kbGVyICk7XHJcblxyXG5cdFx0XHQvLyBJZiB0aGlzIGlzIHRoZSBsYXN0IHZpcnR1YWwgbW91c2UgYmluZGluZyBvbiB0aGVcclxuXHRcdFx0Ly8gZWxlbWVudCwgcmVtb3ZlIHRoZSBiaW5kaW5nIGRhdGEgZnJvbSB0aGUgZWxlbWVudC5cclxuXHJcblx0XHRcdGlmICggIWhhc1ZpcnR1YWxCaW5kaW5ncyggdGhpcyApICkge1xyXG5cdFx0XHRcdCR0aGlzLnJlbW92ZURhdGEoIGRhdGFQcm9wZXJ0eU5hbWUgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbi8vIEV4cG9zZSBvdXIgY3VzdG9tIGV2ZW50cyB0byB0aGUgalF1ZXJ5IGJpbmQvdW5iaW5kIG1lY2hhbmlzbS5cclxuXHJcbmZvciAoIGkgPSAwOyBpIDwgdmlydHVhbEV2ZW50TmFtZXMubGVuZ3RoOyBpKysgKSB7XHJcblx0JC5ldmVudC5zcGVjaWFsWyB2aXJ0dWFsRXZlbnROYW1lc1sgaSBdIF0gPSBnZXRTcGVjaWFsRXZlbnRPYmplY3QoIHZpcnR1YWxFdmVudE5hbWVzWyBpIF0gKTtcclxufVxyXG5cclxuLy8gQWRkIGEgY2FwdHVyZSBjbGljayBoYW5kbGVyIHRvIGJsb2NrIGNsaWNrcy5cclxuLy8gTm90ZSB0aGF0IHdlIHJlcXVpcmUgZXZlbnQgY2FwdHVyZSBzdXBwb3J0IGZvciB0aGlzIHNvIGlmIHRoZSBkZXZpY2VcclxuLy8gZG9lc24ndCBzdXBwb3J0IGl0LCB3ZSBwdW50IGZvciBub3cgYW5kIHJlbHkgc29sZWx5IG9uIG1vdXNlIGV2ZW50cy5cclxuaWYgKCBldmVudENhcHR1cmVTdXBwb3J0ZWQgKSB7XHJcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJjbGlja1wiLCBmdW5jdGlvbiggZSApIHtcclxuXHRcdHZhciBjbnQgPSBjbGlja0Jsb2NrTGlzdC5sZW5ndGgsXHJcblx0XHRcdHRhcmdldCA9IGUudGFyZ2V0LFxyXG5cdFx0XHR4LCB5LCBlbGUsIGksIG8sIHRvdWNoSUQ7XHJcblxyXG5cdFx0aWYgKCBjbnQgKSB7XHJcblx0XHRcdHggPSBlLmNsaWVudFg7XHJcblx0XHRcdHkgPSBlLmNsaWVudFk7XHJcblx0XHRcdHRocmVzaG9sZCA9ICQudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ7XHJcblxyXG5cdFx0XHQvLyBUaGUgaWRlYSBoZXJlIGlzIHRvIHJ1biB0aHJvdWdoIHRoZSBjbGlja0Jsb2NrTGlzdCB0byBzZWUgaWZcclxuXHRcdFx0Ly8gdGhlIGN1cnJlbnQgY2xpY2sgZXZlbnQgaXMgaW4gdGhlIHByb3hpbWl0eSBvZiBvbmUgb2Ygb3VyXHJcblx0XHRcdC8vIHZjbGljayBldmVudHMgdGhhdCBoYWQgcHJldmVudERlZmF1bHQoKSBjYWxsZWQgb24gaXQuIElmIHdlIGZpbmRcclxuXHRcdFx0Ly8gb25lLCB0aGVuIHdlIGJsb2NrIHRoZSBjbGljay5cclxuXHRcdFx0Ly9cclxuXHRcdFx0Ly8gV2h5IGRvIHdlIGhhdmUgdG8gcmVseSBvbiBwcm94aW1pdHk/XHJcblx0XHRcdC8vXHJcblx0XHRcdC8vIEJlY2F1c2UgdGhlIHRhcmdldCBvZiB0aGUgdG91Y2ggZXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIHZjbGlja1xyXG5cdFx0XHQvLyBjYW4gYmUgZGlmZmVyZW50IGZyb20gdGhlIHRhcmdldCBvZiB0aGUgY2xpY2sgZXZlbnQgc3ludGhlc2l6ZWRcclxuXHRcdFx0Ly8gYnkgdGhlIGJyb3dzZXIuIFRoZSB0YXJnZXQgb2YgYSBtb3VzZS9jbGljayBldmVudCB0aGF0IGlzIHN5bnRoZXNpemVkXHJcblx0XHRcdC8vIGZyb20gYSB0b3VjaCBldmVudCBzZWVtcyB0byBiZSBpbXBsZW1lbnRhdGlvbiBzcGVjaWZpYy4gRm9yIGV4YW1wbGUsXHJcblx0XHRcdC8vIHNvbWUgYnJvd3NlcnMgd2lsbCBmaXJlIG1vdXNlL2NsaWNrIGV2ZW50cyBmb3IgYSBsaW5rIHRoYXQgaXMgbmVhclxyXG5cdFx0XHQvLyBhIHRvdWNoIGV2ZW50LCBldmVuIHRob3VnaCB0aGUgdGFyZ2V0IG9mIHRoZSB0b3VjaHN0YXJ0L3RvdWNoZW5kIGV2ZW50XHJcblx0XHRcdC8vIHNheXMgdGhlIHVzZXIgdG91Y2hlZCBvdXRzaWRlIHRoZSBsaW5rLiBBbHNvLCBpdCBzZWVtcyB0aGF0IHdpdGggbW9zdFxyXG5cdFx0XHQvLyBicm93c2VycywgdGhlIHRhcmdldCBvZiB0aGUgbW91c2UvY2xpY2sgZXZlbnQgaXMgbm90IGNhbGN1bGF0ZWQgdW50aWwgdGhlXHJcblx0XHRcdC8vIHRpbWUgaXQgaXMgZGlzcGF0Y2hlZCwgc28gaWYgeW91IHJlcGxhY2UgYW4gZWxlbWVudCB0aGF0IHlvdSB0b3VjaGVkXHJcblx0XHRcdC8vIHdpdGggYW5vdGhlciBlbGVtZW50LCB0aGUgdGFyZ2V0IG9mIHRoZSBtb3VzZS9jbGljayB3aWxsIGJlIHRoZSBuZXdcclxuXHRcdFx0Ly8gZWxlbWVudCB1bmRlcm5lYXRoIHRoYXQgcG9pbnQuXHJcblx0XHRcdC8vXHJcblx0XHRcdC8vIEFzaWRlIGZyb20gcHJveGltaXR5LCB3ZSBhbHNvIGNoZWNrIHRvIHNlZSBpZiB0aGUgdGFyZ2V0IGFuZCBhbnlcclxuXHRcdFx0Ly8gb2YgaXRzIGFuY2VzdG9ycyB3ZXJlIHRoZSBvbmVzIHRoYXQgYmxvY2tlZCBhIGNsaWNrLiBUaGlzIGlzIG5lY2Vzc2FyeVxyXG5cdFx0XHQvLyBiZWNhdXNlIG9mIHRoZSBzdHJhbmdlIG1vdXNlL2NsaWNrIHRhcmdldCBjYWxjdWxhdGlvbiBkb25lIGluIHRoZVxyXG5cdFx0XHQvLyBBbmRyb2lkIDIuMSBicm93c2VyLCB3aGVyZSBpZiB5b3UgY2xpY2sgb24gYW4gZWxlbWVudCwgYW5kIHRoZXJlIGlzIGFcclxuXHRcdFx0Ly8gbW91c2UvY2xpY2sgaGFuZGxlciBvbiBvbmUgb2YgaXRzIGFuY2VzdG9ycywgdGhlIHRhcmdldCB3aWxsIGJlIHRoZVxyXG5cdFx0XHQvLyBpbm5lcm1vc3QgY2hpbGQgb2YgdGhlIHRvdWNoZWQgZWxlbWVudCwgZXZlbiBpZiB0aGF0IGNoaWxkIGlzIG5vIHdoZXJlXHJcblx0XHRcdC8vIG5lYXIgdGhlIHBvaW50IG9mIHRvdWNoLlxyXG5cclxuXHRcdFx0ZWxlID0gdGFyZ2V0O1xyXG5cclxuXHRcdFx0d2hpbGUgKCBlbGUgKSB7XHJcblx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBjbnQ7IGkrKyApIHtcclxuXHRcdFx0XHRcdG8gPSBjbGlja0Jsb2NrTGlzdFsgaSBdO1xyXG5cdFx0XHRcdFx0dG91Y2hJRCA9IDA7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCAoIGVsZSA9PT0gdGFyZ2V0ICYmIE1hdGguYWJzKCBvLnggLSB4ICkgPCB0aHJlc2hvbGQgJiYgTWF0aC5hYnMoIG8ueSAtIHkgKSA8IHRocmVzaG9sZCApIHx8XHJcblx0XHRcdFx0XHRcdFx0XHQkLmRhdGEoIGVsZSwgdG91Y2hUYXJnZXRQcm9wZXJ0eU5hbWUgKSA9PT0gby50b3VjaElEICkge1xyXG5cdFx0XHRcdFx0XHQvLyBYWFg6IFdlIG1heSB3YW50IHRvIGNvbnNpZGVyIHJlbW92aW5nIG1hdGNoZXMgZnJvbSB0aGUgYmxvY2sgbGlzdFxyXG5cdFx0XHRcdFx0XHQvLyAgICAgIGluc3RlYWQgb2Ygd2FpdGluZyBmb3IgdGhlIHJlc2V0IHRpbWVyIHRvIGZpcmUuXHJcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbGUgPSBlbGUucGFyZW50Tm9kZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sIHRydWUpO1xyXG59XHJcbn0pKCBqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQgKTtcclxuXHJcblxyXG4oZnVuY3Rpb24oICQsIHdpbmRvdywgdW5kZWZpbmVkICkge1xyXG5cdHZhciAkZG9jdW1lbnQgPSAkKCBkb2N1bWVudCApLFxyXG5cdFx0c3VwcG9ydFRvdWNoID0gJC5tb2JpbGUuc3VwcG9ydC50b3VjaCxcclxuXHRcdHNjcm9sbEV2ZW50ID0gXCJ0b3VjaG1vdmUgc2Nyb2xsXCIsXHJcblx0XHR0b3VjaFN0YXJ0RXZlbnQgPSBzdXBwb3J0VG91Y2ggPyBcInRvdWNoc3RhcnRcIiA6IFwibW91c2Vkb3duXCIsXHJcblx0XHR0b3VjaFN0b3BFdmVudCA9IHN1cHBvcnRUb3VjaCA/IFwidG91Y2hlbmRcIiA6IFwibW91c2V1cFwiLFxyXG5cdFx0dG91Y2hNb3ZlRXZlbnQgPSBzdXBwb3J0VG91Y2ggPyBcInRvdWNobW92ZVwiIDogXCJtb3VzZW1vdmVcIjtcclxuXHJcblx0Ly8gc2V0dXAgbmV3IGV2ZW50IHNob3J0Y3V0c1xyXG5cdCQuZWFjaCggKCBcInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIFwiICtcclxuXHRcdFwidGFwIHRhcGhvbGQgXCIgK1xyXG5cdFx0XCJzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBcIiArXHJcblx0XHRcInNjcm9sbHN0YXJ0IHNjcm9sbHN0b3BcIiApLnNwbGl0KCBcIiBcIiApLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcclxuXHJcblx0XHQkLmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggZm4gKSB7XHJcblx0XHRcdHJldHVybiBmbiA/IHRoaXMuYmluZCggbmFtZSwgZm4gKSA6IHRoaXMudHJpZ2dlciggbmFtZSApO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBqUXVlcnkgPCAxLjhcclxuXHRcdGlmICggJC5hdHRyRm4gKSB7XHJcblx0XHRcdCQuYXR0ckZuWyBuYW1lIF0gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRmdW5jdGlvbiB0cmlnZ2VyQ3VzdG9tRXZlbnQoIG9iaiwgZXZlbnRUeXBlLCBldmVudCwgYnViYmxlICkge1xyXG5cdFx0dmFyIG9yaWdpbmFsVHlwZSA9IGV2ZW50LnR5cGU7XHJcblx0XHRldmVudC50eXBlID0gZXZlbnRUeXBlO1xyXG5cdFx0aWYgKCBidWJibGUgKSB7XHJcblx0XHRcdCQuZXZlbnQudHJpZ2dlciggZXZlbnQsIHVuZGVmaW5lZCwgb2JqICk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQkLmV2ZW50LmRpc3BhdGNoLmNhbGwoIG9iaiwgZXZlbnQgKTtcclxuXHRcdH1cclxuXHRcdGV2ZW50LnR5cGUgPSBvcmlnaW5hbFR5cGU7XHJcblx0fVxyXG5cclxuXHQvLyBhbHNvIGhhbmRsZXMgc2Nyb2xsc3RvcFxyXG5cdCQuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydCA9IHtcclxuXHJcblx0XHRlbmFibGVkOiB0cnVlLFxyXG5cdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0dmFyIHRoaXNPYmplY3QgPSB0aGlzLFxyXG5cdFx0XHRcdCR0aGlzID0gJCggdGhpc09iamVjdCApLFxyXG5cdFx0XHRcdHNjcm9sbGluZyxcclxuXHRcdFx0XHR0aW1lcjtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIHRyaWdnZXIoIGV2ZW50LCBzdGF0ZSApIHtcclxuXHRcdFx0XHRzY3JvbGxpbmcgPSBzdGF0ZTtcclxuXHRcdFx0XHR0cmlnZ2VyQ3VzdG9tRXZlbnQoIHRoaXNPYmplY3QsIHNjcm9sbGluZyA/IFwic2Nyb2xsc3RhcnRcIiA6IFwic2Nyb2xsc3RvcFwiLCBldmVudCApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBpUGhvbmUgdHJpZ2dlcnMgc2Nyb2xsIGFmdGVyIGEgc21hbGwgZGVsYXk7IHVzZSB0b3VjaG1vdmUgaW5zdGVhZFxyXG5cdFx0XHQkdGhpcy5iaW5kKCBzY3JvbGxFdmVudCwgZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0XHRpZiAoICEkLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCApIHtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICggIXNjcm9sbGluZyApIHtcclxuXHRcdFx0XHRcdHRyaWdnZXIoIGV2ZW50LCB0cnVlICk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjbGVhclRpbWVvdXQoIHRpbWVyICk7XHJcblx0XHRcdFx0dGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHRyaWdnZXIoIGV2ZW50LCBmYWxzZSApO1xyXG5cdFx0XHRcdH0sIDUwICk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0JCggdGhpcyApLnVuYmluZCggc2Nyb2xsRXZlbnQgKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvLyBhbHNvIGhhbmRsZXMgdGFwaG9sZFxyXG5cdCQuZXZlbnQuc3BlY2lhbC50YXAgPSB7XHJcblx0XHR0YXBob2xkVGhyZXNob2xkOiA3NTAsXHJcblx0XHRlbWl0VGFwT25UYXBob2xkOiB0cnVlLFxyXG5cdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgdGhpc09iamVjdCA9IHRoaXMsXHJcblx0XHRcdFx0JHRoaXMgPSAkKCB0aGlzT2JqZWN0ICksXHJcblx0XHRcdFx0aXNUYXBob2xkID0gZmFsc2U7XHJcblxyXG5cdFx0XHQkdGhpcy5iaW5kKCBcInZtb3VzZWRvd25cIiwgZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0XHRcdGlzVGFwaG9sZCA9IGZhbHNlO1xyXG5cdFx0XHRcdGlmICggZXZlbnQud2hpY2ggJiYgZXZlbnQud2hpY2ggIT09IDEgKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR2YXIgb3JpZ1RhcmdldCA9IGV2ZW50LnRhcmdldCxcclxuXHRcdFx0XHRcdHRpbWVyO1xyXG5cclxuXHRcdFx0XHRmdW5jdGlvbiBjbGVhclRhcFRpbWVyKCkge1xyXG5cdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KCB0aW1lciApO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gY2xlYXJUYXBIYW5kbGVycygpIHtcclxuXHRcdFx0XHRcdGNsZWFyVGFwVGltZXIoKTtcclxuXHJcblx0XHRcdFx0XHQkdGhpcy51bmJpbmQoIFwidmNsaWNrXCIsIGNsaWNrSGFuZGxlciApXHJcblx0XHRcdFx0XHRcdC51bmJpbmQoIFwidm1vdXNldXBcIiwgY2xlYXJUYXBUaW1lciApO1xyXG5cdFx0XHRcdFx0JGRvY3VtZW50LnVuYmluZCggXCJ2bW91c2VjYW5jZWxcIiwgY2xlYXJUYXBIYW5kbGVycyApO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0ZnVuY3Rpb24gY2xpY2tIYW5kbGVyKCBldmVudCApIHtcclxuXHRcdFx0XHRcdGNsZWFyVGFwSGFuZGxlcnMoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBPTkxZIHRyaWdnZXIgYSAndGFwJyBldmVudCBpZiB0aGUgc3RhcnQgdGFyZ2V0IGlzXHJcblx0XHRcdFx0XHQvLyB0aGUgc2FtZSBhcyB0aGUgc3RvcCB0YXJnZXQuXHJcblx0XHRcdFx0XHRpZiAoICFpc1RhcGhvbGQgJiYgb3JpZ1RhcmdldCA9PT0gZXZlbnQudGFyZ2V0ICkge1xyXG5cdFx0XHRcdFx0XHR0cmlnZ2VyQ3VzdG9tRXZlbnQoIHRoaXNPYmplY3QsIFwidGFwXCIsIGV2ZW50ICk7XHJcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBpc1RhcGhvbGQgKSB7XHJcblx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQkdGhpcy5iaW5kKCBcInZtb3VzZXVwXCIsIGNsZWFyVGFwVGltZXIgKVxyXG5cdFx0XHRcdFx0LmJpbmQoIFwidmNsaWNrXCIsIGNsaWNrSGFuZGxlciApO1xyXG5cdFx0XHRcdCRkb2N1bWVudC5iaW5kKCBcInZtb3VzZWNhbmNlbFwiLCBjbGVhclRhcEhhbmRsZXJzICk7XHJcblxyXG5cdFx0XHRcdHRpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRpZiAoICEkLmV2ZW50LnNwZWNpYWwudGFwLmVtaXRUYXBPblRhcGhvbGQgKSB7XHJcblx0XHRcdFx0XHRcdGlzVGFwaG9sZCA9IHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0cmlnZ2VyQ3VzdG9tRXZlbnQoIHRoaXNPYmplY3QsIFwidGFwaG9sZFwiLCAkLkV2ZW50KCBcInRhcGhvbGRcIiwgeyB0YXJnZXQ6IG9yaWdUYXJnZXQgfSApICk7XHJcblx0XHRcdFx0fSwgJC5ldmVudC5zcGVjaWFsLnRhcC50YXBob2xkVGhyZXNob2xkICk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0JCggdGhpcyApLnVuYmluZCggXCJ2bW91c2Vkb3duXCIgKS51bmJpbmQoIFwidmNsaWNrXCIgKS51bmJpbmQoIFwidm1vdXNldXBcIiApO1xyXG5cdFx0XHQkZG9jdW1lbnQudW5iaW5kKCBcInZtb3VzZWNhbmNlbFwiICk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gQWxzbyBoYW5kbGVzIHN3aXBlbGVmdCwgc3dpcGVyaWdodFxyXG5cdCQuZXZlbnQuc3BlY2lhbC5zd2lwZSA9IHtcclxuXHJcblx0XHQvLyBNb3JlIHRoYW4gdGhpcyBob3Jpem9udGFsIGRpc3BsYWNlbWVudCwgYW5kIHdlIHdpbGwgc3VwcHJlc3Mgc2Nyb2xsaW5nLlxyXG5cdFx0c2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZDogMzAsXHJcblxyXG5cdFx0Ly8gTW9yZSB0aW1lIHRoYW4gdGhpcywgYW5kIGl0IGlzbid0IGEgc3dpcGUuXHJcblx0XHRkdXJhdGlvblRocmVzaG9sZDogMTAwMCxcclxuXHJcblx0XHQvLyBTd2lwZSBob3Jpem9udGFsIGRpc3BsYWNlbWVudCBtdXN0IGJlIG1vcmUgdGhhbiB0aGlzLlxyXG5cdFx0aG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkOiAzMCxcclxuXHJcblx0XHQvLyBTd2lwZSB2ZXJ0aWNhbCBkaXNwbGFjZW1lbnQgbXVzdCBiZSBsZXNzIHRoYW4gdGhpcy5cclxuXHRcdHZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQ6IDMwLFxyXG5cclxuXHRcdGdldExvY2F0aW9uOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xyXG5cdFx0XHR2YXIgd2luUGFnZVggPSB3aW5kb3cucGFnZVhPZmZzZXQsXHJcblx0XHRcdFx0d2luUGFnZVkgPSB3aW5kb3cucGFnZVlPZmZzZXQsXHJcblx0XHRcdFx0eCA9IGV2ZW50LmNsaWVudFgsXHJcblx0XHRcdFx0eSA9IGV2ZW50LmNsaWVudFk7XHJcblxyXG5cdFx0XHRpZiAoIGV2ZW50LnBhZ2VZID09PSAwICYmIE1hdGguZmxvb3IoIHkgKSA+IE1hdGguZmxvb3IoIGV2ZW50LnBhZ2VZICkgfHxcclxuXHRcdFx0XHRldmVudC5wYWdlWCA9PT0gMCAmJiBNYXRoLmZsb29yKCB4ICkgPiBNYXRoLmZsb29yKCBldmVudC5wYWdlWCApICkge1xyXG5cclxuXHRcdFx0XHQvLyBpT1M0IGNsaWVudFgvY2xpZW50WSBoYXZlIHRoZSB2YWx1ZSB0aGF0IHNob3VsZCBoYXZlIGJlZW5cclxuXHRcdFx0XHQvLyBpbiBwYWdlWC9wYWdlWS4gV2hpbGUgcGFnZVgvcGFnZS8gaGF2ZSB0aGUgdmFsdWUgMFxyXG5cdFx0XHRcdHggPSB4IC0gd2luUGFnZVg7XHJcblx0XHRcdFx0eSA9IHkgLSB3aW5QYWdlWTtcclxuXHRcdFx0fSBlbHNlIGlmICggeSA8ICggZXZlbnQucGFnZVkgLSB3aW5QYWdlWSkgfHwgeCA8ICggZXZlbnQucGFnZVggLSB3aW5QYWdlWCApICkge1xyXG5cclxuXHRcdFx0XHQvLyBTb21lIEFuZHJvaWQgYnJvd3NlcnMgaGF2ZSB0b3RhbGx5IGJvZ3VzIHZhbHVlcyBmb3IgY2xpZW50WC9ZXHJcblx0XHRcdFx0Ly8gd2hlbiBzY3JvbGxpbmcvem9vbWluZyBhIHBhZ2UuIERldGVjdGFibGUgc2luY2UgY2xpZW50WC9jbGllbnRZXHJcblx0XHRcdFx0Ly8gc2hvdWxkIG5ldmVyIGJlIHNtYWxsZXIgdGhhbiBwYWdlWC9wYWdlWSBtaW51cyBwYWdlIHNjcm9sbFxyXG5cdFx0XHRcdHggPSBldmVudC5wYWdlWCAtIHdpblBhZ2VYO1xyXG5cdFx0XHRcdHkgPSBldmVudC5wYWdlWSAtIHdpblBhZ2VZO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHg6IHgsXHJcblx0XHRcdFx0eTogeVxyXG5cdFx0XHR9O1xyXG5cdFx0fSxcclxuXHJcblx0XHRzdGFydDogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0XHR2YXIgZGF0YSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcyA/XHJcblx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbIDAgXSA6IGV2ZW50LFxyXG5cdFx0XHRcdGxvY2F0aW9uID0gJC5ldmVudC5zcGVjaWFsLnN3aXBlLmdldExvY2F0aW9uKCBkYXRhICk7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRcdHRpbWU6ICggbmV3IERhdGUoKSApLmdldFRpbWUoKSxcclxuXHRcdFx0XHRcdFx0Y29vcmRzOiBbIGxvY2F0aW9uLngsIGxvY2F0aW9uLnkgXSxcclxuXHRcdFx0XHRcdFx0b3JpZ2luOiAkKCBldmVudC50YXJnZXQgKVxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdH0sXHJcblxyXG5cdFx0c3RvcDogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0XHR2YXIgZGF0YSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcyA/XHJcblx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbIDAgXSA6IGV2ZW50LFxyXG5cdFx0XHRcdGxvY2F0aW9uID0gJC5ldmVudC5zcGVjaWFsLnN3aXBlLmdldExvY2F0aW9uKCBkYXRhICk7XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRcdHRpbWU6ICggbmV3IERhdGUoKSApLmdldFRpbWUoKSxcclxuXHRcdFx0XHRcdFx0Y29vcmRzOiBbIGxvY2F0aW9uLngsIGxvY2F0aW9uLnkgXVxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdH0sXHJcblxyXG5cdFx0aGFuZGxlU3dpcGU6IGZ1bmN0aW9uKCBzdGFydCwgc3RvcCwgdGhpc09iamVjdCwgb3JpZ1RhcmdldCApIHtcclxuXHRcdFx0aWYgKCBzdG9wLnRpbWUgLSBzdGFydC50aW1lIDwgJC5ldmVudC5zcGVjaWFsLnN3aXBlLmR1cmF0aW9uVGhyZXNob2xkICYmXHJcblx0XHRcdFx0TWF0aC5hYnMoIHN0YXJ0LmNvb3Jkc1sgMCBdIC0gc3RvcC5jb29yZHNbIDAgXSApID4gJC5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCAmJlxyXG5cdFx0XHRcdE1hdGguYWJzKCBzdGFydC5jb29yZHNbIDEgXSAtIHN0b3AuY29vcmRzWyAxIF0gKSA8ICQuZXZlbnQuc3BlY2lhbC5zd2lwZS52ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkICkge1xyXG5cdFx0XHRcdHZhciBkaXJlY3Rpb24gPSBzdGFydC5jb29yZHNbMF0gPiBzdG9wLmNvb3Jkc1sgMCBdID8gXCJzd2lwZWxlZnRcIiA6IFwic3dpcGVyaWdodFwiO1xyXG5cclxuXHRcdFx0XHR0cmlnZ2VyQ3VzdG9tRXZlbnQoIHRoaXNPYmplY3QsIFwic3dpcGVcIiwgJC5FdmVudCggXCJzd2lwZVwiLCB7IHRhcmdldDogb3JpZ1RhcmdldCwgc3dpcGVzdGFydDogc3RhcnQsIHN3aXBlc3RvcDogc3RvcCB9KSwgdHJ1ZSApO1xyXG5cdFx0XHRcdHRyaWdnZXJDdXN0b21FdmVudCggdGhpc09iamVjdCwgZGlyZWN0aW9uLCQuRXZlbnQoIGRpcmVjdGlvbiwgeyB0YXJnZXQ6IG9yaWdUYXJnZXQsIHN3aXBlc3RhcnQ6IHN0YXJ0LCBzd2lwZXN0b3A6IHN0b3AgfSApLCB0cnVlICk7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gVGhpcyBzZXJ2ZXMgYXMgYSBmbGFnIHRvIGVuc3VyZSB0aGF0IGF0IG1vc3Qgb25lIHN3aXBlIGV2ZW50IGV2ZW50IGlzXHJcblx0XHQvLyBpbiB3b3JrIGF0IGFueSBnaXZlbiB0aW1lXHJcblx0XHRldmVudEluUHJvZ3Jlc3M6IGZhbHNlLFxyXG5cclxuXHRcdHNldHVwOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIGV2ZW50cyxcclxuXHRcdFx0XHR0aGlzT2JqZWN0ID0gdGhpcyxcclxuXHRcdFx0XHQkdGhpcyA9ICQoIHRoaXNPYmplY3QgKSxcclxuXHRcdFx0XHRjb250ZXh0ID0ge307XHJcblxyXG5cdFx0XHQvLyBSZXRyaWV2ZSB0aGUgZXZlbnRzIGRhdGEgZm9yIHRoaXMgZWxlbWVudCBhbmQgYWRkIHRoZSBzd2lwZSBjb250ZXh0XHJcblx0XHRcdGV2ZW50cyA9ICQuZGF0YSggdGhpcywgXCJtb2JpbGUtZXZlbnRzXCIgKTtcclxuXHRcdFx0aWYgKCAhZXZlbnRzICkge1xyXG5cdFx0XHRcdGV2ZW50cyA9IHsgbGVuZ3RoOiAwIH07XHJcblx0XHRcdFx0JC5kYXRhKCB0aGlzLCBcIm1vYmlsZS1ldmVudHNcIiwgZXZlbnRzICk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZXZlbnRzLmxlbmd0aCsrO1xyXG5cdFx0XHRldmVudHMuc3dpcGUgPSBjb250ZXh0O1xyXG5cclxuXHRcdFx0Y29udGV4dC5zdGFydCA9IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHJcblx0XHRcdFx0Ly8gQmFpbCBpZiB3ZSdyZSBhbHJlYWR5IHdvcmtpbmcgb24gYSBzd2lwZSBldmVudFxyXG5cdFx0XHRcdGlmICggJC5ldmVudC5zcGVjaWFsLnN3aXBlLmV2ZW50SW5Qcm9ncmVzcyApIHtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0JC5ldmVudC5zcGVjaWFsLnN3aXBlLmV2ZW50SW5Qcm9ncmVzcyA9IHRydWU7XHJcblxyXG5cdFx0XHRcdHZhciBzdG9wLFxyXG5cdFx0XHRcdFx0c3RhcnQgPSAkLmV2ZW50LnNwZWNpYWwuc3dpcGUuc3RhcnQoIGV2ZW50ICksXHJcblx0XHRcdFx0XHRvcmlnVGFyZ2V0ID0gZXZlbnQudGFyZ2V0LFxyXG5cdFx0XHRcdFx0ZW1pdHRlZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRjb250ZXh0Lm1vdmUgPSBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHRcdFx0XHRpZiAoICFzdGFydCB8fCBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHN0b3AgPSAkLmV2ZW50LnNwZWNpYWwuc3dpcGUuc3RvcCggZXZlbnQgKTtcclxuXHRcdFx0XHRcdGlmICggIWVtaXR0ZWQgKSB7XHJcblx0XHRcdFx0XHRcdGVtaXR0ZWQgPSAkLmV2ZW50LnNwZWNpYWwuc3dpcGUuaGFuZGxlU3dpcGUoIHN0YXJ0LCBzdG9wLCB0aGlzT2JqZWN0LCBvcmlnVGFyZ2V0ICk7XHJcblx0XHRcdFx0XHRcdGlmICggZW1pdHRlZCApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gUmVzZXQgdGhlIGNvbnRleHQgdG8gbWFrZSB3YXkgZm9yIHRoZSBuZXh0IHN3aXBlIGV2ZW50XHJcblx0XHRcdFx0XHRcdFx0JC5ldmVudC5zcGVjaWFsLnN3aXBlLmV2ZW50SW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBwcmV2ZW50IHNjcm9sbGluZ1xyXG5cdFx0XHRcdFx0aWYgKCBNYXRoLmFicyggc3RhcnQuY29vcmRzWyAwIF0gLSBzdG9wLmNvb3Jkc1sgMCBdICkgPiAkLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCApIHtcclxuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRjb250ZXh0LnN0b3AgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0ZW1pdHRlZCA9IHRydWU7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBSZXNldCB0aGUgY29udGV4dCB0byBtYWtlIHdheSBmb3IgdGhlIG5leHQgc3dpcGUgZXZlbnRcclxuXHRcdFx0XHRcdFx0JC5ldmVudC5zcGVjaWFsLnN3aXBlLmV2ZW50SW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHQkZG9jdW1lbnQub2ZmKCB0b3VjaE1vdmVFdmVudCwgY29udGV4dC5tb3ZlICk7XHJcblx0XHRcdFx0XHRcdGNvbnRleHQubW92ZSA9IG51bGw7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0JGRvY3VtZW50Lm9uKCB0b3VjaE1vdmVFdmVudCwgY29udGV4dC5tb3ZlIClcclxuXHRcdFx0XHRcdC5vbmUoIHRvdWNoU3RvcEV2ZW50LCBjb250ZXh0LnN0b3AgKTtcclxuXHRcdFx0fTtcclxuXHRcdFx0JHRoaXMub24oIHRvdWNoU3RhcnRFdmVudCwgY29udGV4dC5zdGFydCApO1xyXG5cdFx0fSxcclxuXHJcblx0XHR0ZWFyZG93bjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBldmVudHMsIGNvbnRleHQ7XHJcblxyXG5cdFx0XHRldmVudHMgPSAkLmRhdGEoIHRoaXMsIFwibW9iaWxlLWV2ZW50c1wiICk7XHJcblx0XHRcdGlmICggZXZlbnRzICkge1xyXG5cdFx0XHRcdGNvbnRleHQgPSBldmVudHMuc3dpcGU7XHJcblx0XHRcdFx0ZGVsZXRlIGV2ZW50cy5zd2lwZTtcclxuXHRcdFx0XHRldmVudHMubGVuZ3RoLS07XHJcblx0XHRcdFx0aWYgKCBldmVudHMubGVuZ3RoID09PSAwICkge1xyXG5cdFx0XHRcdFx0JC5yZW1vdmVEYXRhKCB0aGlzLCBcIm1vYmlsZS1ldmVudHNcIiApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBjb250ZXh0ICkge1xyXG5cdFx0XHRcdGlmICggY29udGV4dC5zdGFydCApIHtcclxuXHRcdFx0XHRcdCQoIHRoaXMgKS5vZmYoIHRvdWNoU3RhcnRFdmVudCwgY29udGV4dC5zdGFydCApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoIGNvbnRleHQubW92ZSApIHtcclxuXHRcdFx0XHRcdCRkb2N1bWVudC5vZmYoIHRvdWNoTW92ZUV2ZW50LCBjb250ZXh0Lm1vdmUgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCBjb250ZXh0LnN0b3AgKSB7XHJcblx0XHRcdFx0XHQkZG9jdW1lbnQub2ZmKCB0b3VjaFN0b3BFdmVudCwgY29udGV4dC5zdG9wICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHQkLmVhY2goe1xyXG5cdFx0c2Nyb2xsc3RvcDogXCJzY3JvbGxzdGFydFwiLFxyXG5cdFx0dGFwaG9sZDogXCJ0YXBcIixcclxuXHRcdHN3aXBlbGVmdDogXCJzd2lwZS5sZWZ0XCIsXHJcblx0XHRzd2lwZXJpZ2h0OiBcInN3aXBlLnJpZ2h0XCJcclxuXHR9LCBmdW5jdGlvbiggZXZlbnQsIHNvdXJjZUV2ZW50ICkge1xyXG5cclxuXHRcdCQuZXZlbnQuc3BlY2lhbFsgZXZlbnQgXSA9IHtcclxuXHRcdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCQoIHRoaXMgKS5iaW5kKCBzb3VyY2VFdmVudCwgJC5ub29wICk7XHJcblx0XHRcdH0sXHJcblx0XHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkKCB0aGlzICkudW5iaW5kKCBzb3VyY2VFdmVudCApO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH0pO1xyXG5cclxufSkoIGpRdWVyeSwgdGhpcyApO1xyXG5cclxuXHJcblx0Ly8gdGhyb3R0bGVkIHJlc2l6ZSBldmVudFxyXG5cdChmdW5jdGlvbiggJCApIHtcclxuXHRcdCQuZXZlbnQuc3BlY2lhbC50aHJvdHRsZWRyZXNpemUgPSB7XHJcblx0XHRcdHNldHVwOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkKCB0aGlzICkuYmluZCggXCJyZXNpemVcIiwgaGFuZGxlciApO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHR0ZWFyZG93bjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JCggdGhpcyApLnVuYmluZCggXCJyZXNpemVcIiwgaGFuZGxlciApO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdHZhciB0aHJvdHRsZSA9IDI1MCxcclxuXHRcdFx0aGFuZGxlciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGN1cnIgPSAoIG5ldyBEYXRlKCkgKS5nZXRUaW1lKCk7XHJcblx0XHRcdFx0ZGlmZiA9IGN1cnIgLSBsYXN0Q2FsbDtcclxuXHJcblx0XHRcdFx0aWYgKCBkaWZmID49IHRocm90dGxlICkge1xyXG5cclxuXHRcdFx0XHRcdGxhc3RDYWxsID0gY3VycjtcclxuXHRcdFx0XHRcdCQoIHRoaXMgKS50cmlnZ2VyKCBcInRocm90dGxlZHJlc2l6ZVwiICk7XHJcblxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBoZWxkQ2FsbCApIHtcclxuXHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KCBoZWxkQ2FsbCApO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIFByb21pc2UgYSBoZWxkIGNhbGwgd2lsbCBzdGlsbCBleGVjdXRlXHJcblx0XHRcdFx0XHRoZWxkQ2FsbCA9IHNldFRpbWVvdXQoIGhhbmRsZXIsIHRocm90dGxlIC0gZGlmZiApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0bGFzdENhbGwgPSAwLFxyXG5cdFx0XHRoZWxkQ2FsbCxcclxuXHRcdFx0Y3VycixcclxuXHRcdFx0ZGlmZjtcclxuXHR9KSggalF1ZXJ5ICk7XHJcblxyXG5cclxuKGZ1bmN0aW9uKCAkLCB3aW5kb3cgKSB7XHJcblx0dmFyIHdpbiA9ICQoIHdpbmRvdyApLFxyXG5cdFx0ZXZlbnRfbmFtZSA9IFwib3JpZW50YXRpb25jaGFuZ2VcIixcclxuXHRcdGdldF9vcmllbnRhdGlvbixcclxuXHRcdGxhc3Rfb3JpZW50YXRpb24sXHJcblx0XHRpbml0aWFsX29yaWVudGF0aW9uX2lzX2xhbmRzY2FwZSxcclxuXHRcdGluaXRpYWxfb3JpZW50YXRpb25faXNfZGVmYXVsdCxcclxuXHRcdHBvcnRyYWl0X21hcCA9IHsgXCIwXCI6IHRydWUsIFwiMTgwXCI6IHRydWUgfSxcclxuXHRcdHd3LCB3aCwgbGFuZHNjYXBlX3RocmVzaG9sZDtcclxuXHJcblx0Ly8gSXQgc2VlbXMgdGhhdCBzb21lIGRldmljZS9icm93c2VyIHZlbmRvcnMgdXNlIHdpbmRvdy5vcmllbnRhdGlvbiB2YWx1ZXMgMCBhbmQgMTgwIHRvXHJcblx0Ly8gZGVub3RlIHRoZSBcImRlZmF1bHRcIiBvcmllbnRhdGlvbi4gRm9yIGlPUyBkZXZpY2VzLCBhbmQgbW9zdCBvdGhlciBzbWFydC1waG9uZXMgdGVzdGVkLFxyXG5cdC8vIHRoZSBkZWZhdWx0IG9yaWVudGF0aW9uIGlzIGFsd2F5cyBcInBvcnRyYWl0XCIsIGJ1dCBpbiBzb21lIEFuZHJvaWQgYW5kIFJJTSBiYXNlZCB0YWJsZXRzLFxyXG5cdC8vIHRoZSBkZWZhdWx0IG9yaWVudGF0aW9uIGlzIFwibGFuZHNjYXBlXCIuIFRoZSBmb2xsb3dpbmcgY29kZSBhdHRlbXB0cyB0byB1c2UgdGhlIHdpbmRvd1xyXG5cdC8vIGRpbWVuc2lvbnMgdG8gZmlndXJlIG91dCB3aGF0IHRoZSBjdXJyZW50IG9yaWVudGF0aW9uIGlzLCBhbmQgdGhlbiBtYWtlcyBhZGp1c3RtZW50c1xyXG5cdC8vIHRvIHRoZSB0byB0aGUgcG9ydHJhaXRfbWFwIGlmIG5lY2Vzc2FyeSwgc28gdGhhdCB3ZSBjYW4gcHJvcGVybHkgZGVjb2RlIHRoZVxyXG5cdC8vIHdpbmRvdy5vcmllbnRhdGlvbiB2YWx1ZSB3aGVuZXZlciBnZXRfb3JpZW50YXRpb24oKSBpcyBjYWxsZWQuXHJcblx0Ly9cclxuXHQvLyBOb3RlIHRoYXQgd2UgdXNlZCB0byB1c2UgYSBtZWRpYSBxdWVyeSB0byBmaWd1cmUgb3V0IHdoYXQgdGhlIG9yaWVudGF0aW9uIHRoZSBicm93c2VyXHJcblx0Ly8gdGhpbmtzIGl0IGlzIGluOlxyXG5cdC8vXHJcblx0Ly8gICAgIGluaXRpYWxfb3JpZW50YXRpb25faXNfbGFuZHNjYXBlID0gJC5tb2JpbGUubWVkaWEoXCJhbGwgYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKVwiKTtcclxuXHQvL1xyXG5cdC8vIGJ1dCB0aGVyZSB3YXMgYW4gaVBob25lL2lQb2QgVG91Y2ggYnVnIGJlZ2lubmluZyB3aXRoIGlPUyA0LjIsIHVwIHRocm91Z2ggaU9TIDUuMSxcclxuXHQvLyB3aGVyZSB0aGUgYnJvd3NlciAqQUxXQVlTKiBhcHBsaWVkIHRoZSBsYW5kc2NhcGUgbWVkaWEgcXVlcnkuIFRoaXMgYnVnIGRvZXMgbm90XHJcblx0Ly8gaGFwcGVuIG9uIGlQYWQuXHJcblxyXG5cdGlmICggJC5zdXBwb3J0Lm9yaWVudGF0aW9uICkge1xyXG5cclxuXHRcdC8vIENoZWNrIHRoZSB3aW5kb3cgd2lkdGggYW5kIGhlaWdodCB0byBmaWd1cmUgb3V0IHdoYXQgdGhlIGN1cnJlbnQgb3JpZW50YXRpb25cclxuXHRcdC8vIG9mIHRoZSBkZXZpY2UgaXMgYXQgdGhpcyBtb21lbnQuIE5vdGUgdGhhdCB3ZSd2ZSBpbml0aWFsaXplZCB0aGUgcG9ydHJhaXQgbWFwXHJcblx0XHQvLyB2YWx1ZXMgdG8gMCBhbmQgMTgwLCAqQU5EKiB3ZSBwdXJwb3NlbHkgY2hlY2sgZm9yIGxhbmRzY2FwZSBzbyB0aGF0IGlmIHdlIGd1ZXNzXHJcblx0XHQvLyB3cm9uZywgLCB3ZSBkZWZhdWx0IHRvIHRoZSBhc3N1bXB0aW9uIHRoYXQgcG9ydHJhaXQgaXMgdGhlIGRlZmF1bHQgb3JpZW50YXRpb24uXHJcblx0XHQvLyBXZSB1c2UgYSB0aHJlc2hvbGQgY2hlY2sgYmVsb3cgYmVjYXVzZSBvbiBzb21lIHBsYXRmb3JtcyBsaWtlIGlPUywgdGhlIGlQaG9uZVxyXG5cdFx0Ly8gZm9ybS1mYWN0b3IgY2FuIHJlcG9ydCBhIGxhcmdlciB3aWR0aCB0aGFuIGhlaWdodCBpZiB0aGUgdXNlciB0dXJucyBvbiB0aGVcclxuXHRcdC8vIGRldmVsb3BlciBjb25zb2xlLiBUaGUgYWN0dWFsIHRocmVzaG9sZCB2YWx1ZSBpcyBzb21ld2hhdCBhcmJpdHJhcnksIHdlIGp1c3RcclxuXHRcdC8vIG5lZWQgdG8gbWFrZSBzdXJlIGl0IGlzIGxhcmdlIGVub3VnaCB0byBleGNsdWRlIHRoZSBkZXZlbG9wZXIgY29uc29sZSBjYXNlLlxyXG5cclxuXHRcdHd3ID0gd2luZG93LmlubmVyV2lkdGggfHwgd2luLndpZHRoKCk7XHJcblx0XHR3aCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCB3aW4uaGVpZ2h0KCk7XHJcblx0XHRsYW5kc2NhcGVfdGhyZXNob2xkID0gNTA7XHJcblxyXG5cdFx0aW5pdGlhbF9vcmllbnRhdGlvbl9pc19sYW5kc2NhcGUgPSB3dyA+IHdoICYmICggd3cgLSB3aCApID4gbGFuZHNjYXBlX3RocmVzaG9sZDtcclxuXHJcblx0XHQvLyBOb3cgY2hlY2sgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHdpbmRvdy5vcmllbnRhdGlvbiBpcyAwIG9yIDE4MC5cclxuXHRcdGluaXRpYWxfb3JpZW50YXRpb25faXNfZGVmYXVsdCA9IHBvcnRyYWl0X21hcFsgd2luZG93Lm9yaWVudGF0aW9uIF07XHJcblxyXG5cdFx0Ly8gSWYgdGhlIGluaXRpYWwgb3JpZW50YXRpb24gaXMgbGFuZHNjYXBlLCBidXQgd2luZG93Lm9yaWVudGF0aW9uIHJlcG9ydHMgMCBvciAxODAsICpPUipcclxuXHRcdC8vIGlmIHRoZSBpbml0aWFsIG9yaWVudGF0aW9uIGlzIHBvcnRyYWl0LCBidXQgd2luZG93Lm9yaWVudGF0aW9uIHJlcG9ydHMgOTAgb3IgLTkwLCB3ZVxyXG5cdFx0Ly8gbmVlZCB0byBmbGlwIG91ciBwb3J0cmFpdF9tYXAgdmFsdWVzIGJlY2F1c2UgbGFuZHNjYXBlIGlzIHRoZSBkZWZhdWx0IG9yaWVudGF0aW9uIGZvclxyXG5cdFx0Ly8gdGhpcyBkZXZpY2UvYnJvd3Nlci5cclxuXHRcdGlmICggKCBpbml0aWFsX29yaWVudGF0aW9uX2lzX2xhbmRzY2FwZSAmJiBpbml0aWFsX29yaWVudGF0aW9uX2lzX2RlZmF1bHQgKSB8fCAoICFpbml0aWFsX29yaWVudGF0aW9uX2lzX2xhbmRzY2FwZSAmJiAhaW5pdGlhbF9vcmllbnRhdGlvbl9pc19kZWZhdWx0ICkgKSB7XHJcblx0XHRcdHBvcnRyYWl0X21hcCA9IHsgXCItOTBcIjogdHJ1ZSwgXCI5MFwiOiB0cnVlIH07XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQkLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2UgPSAkLmV4dGVuZCgge30sICQuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZSwge1xyXG5cdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBJZiB0aGUgZXZlbnQgaXMgc3VwcG9ydGVkIG5hdGl2ZWx5LCByZXR1cm4gZmFsc2Ugc28gdGhhdCBqUXVlcnlcclxuXHRcdFx0Ly8gd2lsbCBiaW5kIHRvIHRoZSBldmVudCB1c2luZyBET00gbWV0aG9kcy5cclxuXHRcdFx0aWYgKCAkLnN1cHBvcnQub3JpZW50YXRpb24gJiYgISQuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5kaXNhYmxlZCApIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEdldCB0aGUgY3VycmVudCBvcmllbnRhdGlvbiB0byBhdm9pZCBpbml0aWFsIGRvdWJsZS10cmlnZ2VyaW5nLlxyXG5cdFx0XHRsYXN0X29yaWVudGF0aW9uID0gZ2V0X29yaWVudGF0aW9uKCk7XHJcblxyXG5cdFx0XHQvLyBCZWNhdXNlIHRoZSBvcmllbnRhdGlvbmNoYW5nZSBldmVudCBkb2Vzbid0IGV4aXN0LCBzaW11bGF0ZSB0aGVcclxuXHRcdFx0Ly8gZXZlbnQgYnkgdGVzdGluZyB3aW5kb3cgZGltZW5zaW9ucyBvbiByZXNpemUuXHJcblx0XHRcdHdpbi5iaW5kKCBcInRocm90dGxlZHJlc2l6ZVwiLCBoYW5kbGVyICk7XHJcblx0XHR9LFxyXG5cdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBJZiB0aGUgZXZlbnQgaXMgbm90IHN1cHBvcnRlZCBuYXRpdmVseSwgcmV0dXJuIGZhbHNlIHNvIHRoYXRcclxuXHRcdFx0Ly8galF1ZXJ5IHdpbGwgdW5iaW5kIHRoZSBldmVudCB1c2luZyBET00gbWV0aG9kcy5cclxuXHRcdFx0aWYgKCAkLnN1cHBvcnQub3JpZW50YXRpb24gJiYgISQuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5kaXNhYmxlZCApIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEJlY2F1c2UgdGhlIG9yaWVudGF0aW9uY2hhbmdlIGV2ZW50IGRvZXNuJ3QgZXhpc3QsIHVuYmluZCB0aGVcclxuXHRcdFx0Ly8gcmVzaXplIGV2ZW50IGhhbmRsZXIuXHJcblx0XHRcdHdpbi51bmJpbmQoIFwidGhyb3R0bGVkcmVzaXplXCIsIGhhbmRsZXIgKTtcclxuXHRcdH0sXHJcblx0XHRhZGQ6IGZ1bmN0aW9uKCBoYW5kbGVPYmogKSB7XHJcblx0XHRcdC8vIFNhdmUgYSByZWZlcmVuY2UgdG8gdGhlIGJvdW5kIGV2ZW50IGhhbmRsZXIuXHJcblx0XHRcdHZhciBvbGRfaGFuZGxlciA9IGhhbmRsZU9iai5oYW5kbGVyO1xyXG5cclxuXHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIgPSBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHRcdFx0Ly8gTW9kaWZ5IGV2ZW50IG9iamVjdCwgYWRkaW5nIHRoZSAub3JpZW50YXRpb24gcHJvcGVydHkuXHJcblx0XHRcdFx0ZXZlbnQub3JpZW50YXRpb24gPSBnZXRfb3JpZW50YXRpb24oKTtcclxuXHJcblx0XHRcdFx0Ly8gQ2FsbCB0aGUgb3JpZ2luYWxseS1ib3VuZCBldmVudCBoYW5kbGVyIGFuZCByZXR1cm4gaXRzIHJlc3VsdC5cclxuXHRcdFx0XHRyZXR1cm4gb2xkX2hhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHQvLyBJZiB0aGUgZXZlbnQgaXMgbm90IHN1cHBvcnRlZCBuYXRpdmVseSwgdGhpcyBoYW5kbGVyIHdpbGwgYmUgYm91bmQgdG9cclxuXHQvLyB0aGUgd2luZG93IHJlc2l6ZSBldmVudCB0byBzaW11bGF0ZSB0aGUgb3JpZW50YXRpb25jaGFuZ2UgZXZlbnQuXHJcblx0ZnVuY3Rpb24gaGFuZGxlcigpIHtcclxuXHRcdC8vIEdldCB0aGUgY3VycmVudCBvcmllbnRhdGlvbi5cclxuXHRcdHZhciBvcmllbnRhdGlvbiA9IGdldF9vcmllbnRhdGlvbigpO1xyXG5cclxuXHRcdGlmICggb3JpZW50YXRpb24gIT09IGxhc3Rfb3JpZW50YXRpb24gKSB7XHJcblx0XHRcdC8vIFRoZSBvcmllbnRhdGlvbiBoYXMgY2hhbmdlZCwgc28gdHJpZ2dlciB0aGUgb3JpZW50YXRpb25jaGFuZ2UgZXZlbnQuXHJcblx0XHRcdGxhc3Rfb3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcclxuXHRcdFx0d2luLnRyaWdnZXIoIGV2ZW50X25hbWUgKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEdldCB0aGUgY3VycmVudCBwYWdlIG9yaWVudGF0aW9uLiBUaGlzIG1ldGhvZCBpcyBleHBvc2VkIHB1YmxpY2x5LCBzaG91bGQgaXRcclxuXHQvLyBiZSBuZWVkZWQsIGFzIGpRdWVyeS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uKClcclxuXHQkLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb24gPSBnZXRfb3JpZW50YXRpb24gPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpc1BvcnRyYWl0ID0gdHJ1ZSwgZWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuXHJcblx0XHQvLyBwcmVmZXIgd2luZG93IG9yaWVudGF0aW9uIHRvIHRoZSBjYWxjdWxhdGlvbiBiYXNlZCBvbiBzY3JlZW5zaXplIGFzXHJcblx0XHQvLyB0aGUgYWN0dWFsIHNjcmVlbiByZXNpemUgdGFrZXMgcGxhY2UgYmVmb3JlIG9yIGFmdGVyIHRoZSBvcmllbnRhdGlvbiBjaGFuZ2UgZXZlbnRcclxuXHRcdC8vIGhhcyBiZWVuIGZpcmVkIGRlcGVuZGluZyBvbiBpbXBsZW1lbnRhdGlvbiAoZWcgYW5kcm9pZCAyLjMgaXMgYmVmb3JlLCBpcGhvbmUgYWZ0ZXIpLlxyXG5cdFx0Ly8gTW9yZSB0ZXN0aW5nIGlzIHJlcXVpcmVkIHRvIGRldGVybWluZSBpZiBhIG1vcmUgcmVsaWFibGUgbWV0aG9kIG9mIGRldGVybWluaW5nIHRoZSBuZXcgc2NyZWVuc2l6ZVxyXG5cdFx0Ly8gaXMgcG9zc2libGUgd2hlbiBvcmllbnRhdGlvbmNoYW5nZSBpcyBmaXJlZC4gKGVnLCB1c2UgbWVkaWEgcXVlcmllcyArIGVsZW1lbnQgKyBvcGFjaXR5KVxyXG5cdFx0aWYgKCAkLnN1cHBvcnQub3JpZW50YXRpb24gKSB7XHJcblx0XHRcdC8vIGlmIHRoZSB3aW5kb3cgb3JpZW50YXRpb24gcmVnaXN0ZXJzIGFzIDAgb3IgMTgwIGRlZ3JlZXMgcmVwb3J0XHJcblx0XHRcdC8vIHBvcnRyYWl0LCBvdGhlcndpc2UgbGFuZHNjYXBlXHJcblx0XHRcdGlzUG9ydHJhaXQgPSBwb3J0cmFpdF9tYXBbIHdpbmRvdy5vcmllbnRhdGlvbiBdO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aXNQb3J0cmFpdCA9IGVsZW0gJiYgZWxlbS5jbGllbnRXaWR0aCAvIGVsZW0uY2xpZW50SGVpZ2h0IDwgMS4xO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBpc1BvcnRyYWl0ID8gXCJwb3J0cmFpdFwiIDogXCJsYW5kc2NhcGVcIjtcclxuXHR9O1xyXG5cclxuXHQkLmZuWyBldmVudF9uYW1lIF0gPSBmdW5jdGlvbiggZm4gKSB7XHJcblx0XHRyZXR1cm4gZm4gPyB0aGlzLmJpbmQoIGV2ZW50X25hbWUsIGZuICkgOiB0aGlzLnRyaWdnZXIoIGV2ZW50X25hbWUgKTtcclxuXHR9O1xyXG5cclxuXHQvLyBqUXVlcnkgPCAxLjhcclxuXHRpZiAoICQuYXR0ckZuICkge1xyXG5cdFx0JC5hdHRyRm5bIGV2ZW50X25hbWUgXSA9IHRydWU7XHJcblx0fVxyXG5cclxufSggalF1ZXJ5LCB0aGlzICkpO1xyXG5cclxuXHJcblxyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblxyXG5cdC8vIGV4aXN0aW5nIGJhc2UgdGFnP1xyXG5cdHZhciBiYXNlRWxlbWVudCA9ICQoIFwiaGVhZFwiICkuY2hpbGRyZW4oIFwiYmFzZVwiICksXHJcblxyXG5cdC8vIGJhc2UgZWxlbWVudCBtYW5hZ2VtZW50LCBkZWZpbmVkIGRlcGVuZGluZyBvbiBkeW5hbWljIGJhc2UgdGFnIHN1cHBvcnRcclxuXHQvLyBUT0RPIG1vdmUgdG8gZXh0ZXJuYWwgd2lkZ2V0XHJcblx0YmFzZSA9IHtcclxuXHJcblx0XHQvLyBkZWZpbmUgYmFzZSBlbGVtZW50LCBmb3IgdXNlIGluIHJvdXRpbmcgYXNzZXQgdXJscyB0aGF0IGFyZSByZWZlcmVuY2VkXHJcblx0XHQvLyBpbiBBamF4LXJlcXVlc3RlZCBtYXJrdXBcclxuXHRcdGVsZW1lbnQ6ICggYmFzZUVsZW1lbnQubGVuZ3RoID8gYmFzZUVsZW1lbnQgOlxyXG5cdFx0XHQkKCBcIjxiYXNlPlwiLCB7IGhyZWY6ICQubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2ggfSApLnByZXBlbmRUbyggJCggXCJoZWFkXCIgKSApICksXHJcblxyXG5cdFx0bGlua1NlbGVjdG9yOiBcIltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdXCIsXHJcblxyXG5cdFx0Ly8gc2V0IHRoZSBnZW5lcmF0ZWQgQkFTRSBlbGVtZW50J3MgaHJlZiB0byBhIG5ldyBwYWdlJ3MgYmFzZSBwYXRoXHJcblx0XHRzZXQ6IGZ1bmN0aW9uKCBocmVmICkge1xyXG5cclxuXHRcdFx0Ly8gd2Ugc2hvdWxkIGRvIG5vdGhpbmcgaWYgdGhlIHVzZXIgd2FudHMgdG8gbWFuYWdlIHRoZWlyIHVybCBiYXNlXHJcblx0XHRcdC8vIG1hbnVhbGx5XHJcblx0XHRcdGlmICggISQubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCApIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHdlIHNob3VsZCB1c2UgdGhlIGJhc2UgdGFnIGlmIHdlIGNhbiBtYW5pcHVsYXRlIGl0IGR5bmFtaWNhbGx5XHJcblx0XHRcdGlmICggJC5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnICkge1xyXG5cdFx0XHRcdGJhc2UuZWxlbWVudC5hdHRyKCBcImhyZWZcIixcclxuXHRcdFx0XHRcdCQubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCBocmVmLCAkLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZSApICk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0cmV3cml0ZTogZnVuY3Rpb24oIGhyZWYsIHBhZ2UgKSB7XHJcblx0XHRcdHZhciBuZXdQYXRoID0gJC5tb2JpbGUucGF0aC5nZXQoIGhyZWYgKTtcclxuXHJcblx0XHRcdHBhZ2UuZmluZCggYmFzZS5saW5rU2VsZWN0b3IgKS5lYWNoKGZ1bmN0aW9uKCBpLCBsaW5rICkge1xyXG5cdFx0XHRcdHZhciB0aGlzQXR0ciA9ICQoIGxpbmsgKS5pcyggXCJbaHJlZl1cIiApID8gXCJocmVmXCIgOlxyXG5cdFx0XHRcdFx0JCggbGluayApLmlzKCBcIltzcmNdXCIgKSA/IFwic3JjXCIgOiBcImFjdGlvblwiLFxyXG5cdFx0XHRcdHRoZUxvY2F0aW9uID0gJC5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCksXHJcblx0XHRcdFx0dGhpc1VybCA9ICQoIGxpbmsgKS5hdHRyKCB0aGlzQXR0ciApO1xyXG5cclxuXHRcdFx0XHQvLyBYWFhfamJsYXM6IFdlIG5lZWQgdG8gZml4IHRoaXMgc28gdGhhdCBpdCByZW1vdmVzIHRoZSBkb2N1bWVudFxyXG5cdFx0XHRcdC8vICAgICAgICAgICAgYmFzZSBVUkwsIGFuZCB0aGVuIHByZXBlbmRzIHdpdGggdGhlIG5ldyBwYWdlIFVSTC5cclxuXHRcdFx0XHQvLyBpZiBmdWxsIHBhdGggZXhpc3RzIGFuZCBpcyBzYW1lLCBjaG9wIGl0IC0gaGVscHMgSUUgb3V0XHJcblx0XHRcdFx0dGhpc1VybCA9IHRoaXNVcmwucmVwbGFjZSggdGhlTG9jYXRpb24ucHJvdG9jb2wgKyB0aGVMb2NhdGlvbi5kb3VibGVTbGFzaCArXHJcblx0XHRcdFx0XHR0aGVMb2NhdGlvbi5ob3N0ICsgdGhlTG9jYXRpb24ucGF0aG5hbWUsIFwiXCIgKTtcclxuXHJcblx0XHRcdFx0aWYgKCAhL14oXFx3Kzp8I3xcXC8pLy50ZXN0KCB0aGlzVXJsICkgKSB7XHJcblx0XHRcdFx0XHQkKCBsaW5rICkuYXR0ciggdGhpc0F0dHIsIG5ld1BhdGggKyB0aGlzVXJsICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gc2V0IHRoZSBnZW5lcmF0ZWQgQkFTRSBlbGVtZW50J3MgaHJlZiB0byBhIG5ldyBwYWdlJ3MgYmFzZSBwYXRoXHJcblx0XHRyZXNldDogZnVuY3Rpb24oLyogaHJlZiAqLykge1xyXG5cdFx0XHRiYXNlLmVsZW1lbnQuYXR0ciggXCJocmVmXCIsICQubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb1NlYXJjaCApO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdCQubW9iaWxlLmJhc2UgPSBiYXNlO1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG4kLm1vYmlsZS53aWRnZXRzID0ge307XHJcblxyXG52YXIgb3JpZ2luYWxXaWRnZXQgPSAkLndpZGdldCxcclxuXHJcblx0Ly8gUmVjb3JkIHRoZSBvcmlnaW5hbCwgbm9uLW1vYmlsZWluaXQtbW9kaWZpZWQgdmVyc2lvbiBvZiAkLm1vYmlsZS5rZWVwTmF0aXZlXHJcblx0Ly8gc28gd2UgY2FuIGxhdGVyIGRldGVybWluZSB3aGV0aGVyIHNvbWVvbmUgaGFzIG1vZGlmaWVkICQubW9iaWxlLmtlZXBOYXRpdmVcclxuXHRrZWVwTmF0aXZlRmFjdG9yeURlZmF1bHQgPSAkLm1vYmlsZS5rZWVwTmF0aXZlO1xyXG5cclxuJC53aWRnZXQgPSAoZnVuY3Rpb24oIG9yaWcgKSB7XHJcblx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGNvbnN0cnVjdG9yID0gb3JpZy5hcHBseSggdGhpcywgYXJndW1lbnRzICksXHJcblx0XHRcdG5hbWUgPSBjb25zdHJ1Y3Rvci5wcm90b3R5cGUud2lkZ2V0TmFtZTtcclxuXHJcblx0XHRjb25zdHJ1Y3Rvci5pbml0U2VsZWN0b3IgPSAoICggY29uc3RydWN0b3IucHJvdG90eXBlLmluaXRTZWxlY3RvciAhPT0gdW5kZWZpbmVkICkgP1xyXG5cdFx0XHRjb25zdHJ1Y3Rvci5wcm90b3R5cGUuaW5pdFNlbGVjdG9yIDogXCI6anFtRGF0YShyb2xlPSdcIiArIG5hbWUgKyBcIicpXCIgKTtcclxuXHJcblx0XHQkLm1vYmlsZS53aWRnZXRzWyBuYW1lIF0gPSBjb25zdHJ1Y3RvcjtcclxuXHJcblx0XHRyZXR1cm4gY29uc3RydWN0b3I7XHJcblx0fTtcclxufSkoICQud2lkZ2V0ICk7XHJcblxyXG4vLyBNYWtlIHN1cmUgJC53aWRnZXQgc3RpbGwgaGFzIGJyaWRnZSBhbmQgZXh0ZW5kIG1ldGhvZHNcclxuJC5leHRlbmQoICQud2lkZ2V0LCBvcmlnaW5hbFdpZGdldCApO1xyXG5cclxuLy8gRm9yIGJhY2tjb21wYXQgcmVtb3ZlIGluIDEuNVxyXG4kLm1vYmlsZS5kb2N1bWVudC5vbiggXCJjcmVhdGVcIiwgZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdCQoIGV2ZW50LnRhcmdldCApLmVuaGFuY2VXaXRoaW4oKTtcclxufSk7XHJcblxyXG4kLndpZGdldCggXCJtb2JpbGUucGFnZVwiLCB7XHJcblx0b3B0aW9uczoge1xyXG5cdFx0dGhlbWU6IFwiYVwiLFxyXG5cdFx0ZG9tQ2FjaGU6IGZhbHNlLFxyXG5cclxuXHRcdC8vIERlcHJlY2F0ZWQgaW4gMS40IHJlbW92ZSBpbiAxLjVcclxuXHRcdGtlZXBOYXRpdmVEZWZhdWx0OiAkLm1vYmlsZS5rZWVwTmF0aXZlLFxyXG5cclxuXHRcdC8vIERlcHJlY2F0ZWQgaW4gMS40IHJlbW92ZSBpbiAxLjVcclxuXHRcdGNvbnRlbnRUaGVtZTogbnVsbCxcclxuXHRcdGVuaGFuY2VkOiBmYWxzZVxyXG5cdH0sXHJcblxyXG5cdC8vIERFUFJFQ0FURUQgZm9yID4gMS40XHJcblx0Ly8gVE9ETyByZW1vdmUgYXQgMS41XHJcblx0X2NyZWF0ZVdpZGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHQkLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XHJcblx0XHR0aGlzLl90cmlnZ2VyKCBcImluaXRcIiApO1xyXG5cdH0sXHJcblxyXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0Ly8gSWYgZmFsc2UgaXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrcyBkbyBub3QgY3JlYXRlIHRoZSBwYWdlXHJcblx0XHRpZiAoIHRoaXMuX3RyaWdnZXIoIFwiYmVmb3JlY3JlYXRlXCIgKSA9PT0gZmFsc2UgKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoICF0aGlzLm9wdGlvbnMuZW5oYW5jZWQgKSB7XHJcblx0XHRcdHRoaXMuX2VuaGFuY2UoKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9vbiggdGhpcy5lbGVtZW50LCB7XHJcblx0XHRcdHBhZ2ViZWZvcmVoaWRlOiBcInJlbW92ZUNvbnRhaW5lckJhY2tncm91bmRcIixcclxuXHRcdFx0cGFnZWJlZm9yZXNob3c6IFwiX2hhbmRsZVBhZ2VCZWZvcmVTaG93XCJcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuZWxlbWVudC5lbmhhbmNlV2l0aGluKCk7XHJcblx0XHQvLyBEaWFsb2cgd2lkZ2V0IGlzIGRlcHJlY2F0ZWQgaW4gMS40IHJlbW92ZSB0aGlzIGluIDEuNVxyXG5cdFx0aWYgKCAkLm1vYmlsZS5nZXRBdHRyaWJ1dGUoIHRoaXMuZWxlbWVudFswXSwgXCJyb2xlXCIgKSA9PT0gXCJkaWFsb2dcIiAmJiAkLm1vYmlsZS5kaWFsb2cgKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5kaWFsb2coKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfZW5oYW5jZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyIGF0dHJQcmVmaXggPSBcImRhdGEtXCIgKyAkLm1vYmlsZS5ucyxcclxuXHRcdFx0c2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMucm9sZSApIHtcclxuXHRcdFx0dGhpcy5lbGVtZW50LmF0dHIoIFwiZGF0YS1cIiArICQubW9iaWxlLm5zICsgXCJyb2xlXCIsIHRoaXMub3B0aW9ucy5yb2xlICk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5lbGVtZW50XHJcblx0XHRcdC5hdHRyKCBcInRhYmluZGV4XCIsIFwiMFwiIClcclxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXBhZ2UgdWktcGFnZS10aGVtZS1cIiArIHRoaXMub3B0aW9ucy50aGVtZSApO1xyXG5cclxuXHRcdC8vIE1hbmlwdWxhdGlvbiBvZiBjb250ZW50IG9zIERlcHJlY2F0ZWQgYXMgb2YgMS40IHJlbW92ZSBpbiAxLjVcclxuXHRcdHRoaXMuZWxlbWVudC5maW5kKCBcIltcIiArIGF0dHJQcmVmaXggKyBcInJvbGU9J2NvbnRlbnQnXVwiICkuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciAkdGhpcyA9ICQoIHRoaXMgKSxcclxuXHRcdFx0XHR0aGVtZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCBhdHRyUHJlZml4ICsgXCJ0aGVtZVwiICkgfHwgdW5kZWZpbmVkO1xyXG5cdFx0XHRcdHNlbGYub3B0aW9ucy5jb250ZW50VGhlbWUgPSB0aGVtZSB8fCBzZWxmLm9wdGlvbnMuY29udGVudFRoZW1lIHx8ICggc2VsZi5vcHRpb25zLmRpYWxvZyAmJiBzZWxmLm9wdGlvbnMudGhlbWUgKSB8fCAoIHNlbGYuZWxlbWVudC5qcW1EYXRhKFwicm9sZVwiKSA9PT0gXCJkaWFsb2dcIiAmJiAgc2VsZi5vcHRpb25zLnRoZW1lICk7XHJcblx0XHRcdFx0JHRoaXMuYWRkQ2xhc3MoIFwidWktY29udGVudFwiICk7XHJcblx0XHRcdFx0aWYgKCBzZWxmLm9wdGlvbnMuY29udGVudFRoZW1lICkge1xyXG5cdFx0XHRcdFx0JHRoaXMuYWRkQ2xhc3MoIFwidWktYm9keS1cIiArICggc2VsZi5vcHRpb25zLmNvbnRlbnRUaGVtZSApICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIEFkZCBBUklBIHJvbGVcclxuXHRcdFx0XHQkdGhpcy5hdHRyKCBcInJvbGVcIiwgXCJtYWluXCIgKS5hZGRDbGFzcyggXCJ1aS1jb250ZW50XCIgKTtcclxuXHRcdH0pO1xyXG5cdH0sXHJcblxyXG5cdGJpbmRSZW1vdmU6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcclxuXHRcdHZhciBwYWdlID0gdGhpcy5lbGVtZW50O1xyXG5cclxuXHRcdC8vIHdoZW4gZG9tIGNhY2hpbmcgaXMgbm90IGVuYWJsZWQgb3IgdGhlIHBhZ2UgaXMgZW1iZWRkZWQgYmluZCB0byByZW1vdmUgdGhlIHBhZ2Ugb24gaGlkZVxyXG5cdFx0aWYgKCAhcGFnZS5kYXRhKCBcIm1vYmlsZS1wYWdlXCIgKS5vcHRpb25zLmRvbUNhY2hlICYmXHJcblx0XHRcdHBhZ2UuaXMoIFwiOmpxbURhdGEoZXh0ZXJuYWwtcGFnZT0ndHJ1ZScpXCIgKSApIHtcclxuXHJcblx0XHRcdC8vIFRPRE8gdXNlIF9vbiAtIHRoYXQgaXMsIHNvcnQgb3V0IHdoeSBpdCBkb2Vzbid0IHdvcmsgaW4gdGhpcyBjYXNlXHJcblx0XHRcdHBhZ2UuYmluZCggXCJwYWdlaGlkZS5yZW1vdmVcIiwgY2FsbGJhY2sgfHwgZnVuY3Rpb24oIGUsIGRhdGEgKSB7XHJcblxyXG5cdFx0XHRcdC8vY2hlY2sgaWYgdGhpcyBpcyBhIHNhbWUgcGFnZSB0cmFuc2l0aW9uIGFuZCBpZiBzbyBkb24ndCByZW1vdmUgdGhlIHBhZ2VcclxuXHRcdFx0XHRpZiggIWRhdGEuc2FtZVBhZ2UgKXtcclxuXHRcdFx0XHRcdHZhciAkdGhpcyA9ICQoIHRoaXMgKSxcclxuXHRcdFx0XHRcdFx0cHJFdmVudCA9IG5ldyAkLkV2ZW50KCBcInBhZ2VyZW1vdmVcIiApO1xyXG5cclxuXHRcdFx0XHRcdCR0aGlzLnRyaWdnZXIoIHByRXZlbnQgKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoICFwckV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xyXG5cdFx0XHRcdFx0XHQkdGhpcy5yZW1vdmVXaXRoRGVwZW5kZW50cygpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X3NldE9wdGlvbnM6IGZ1bmN0aW9uKCBvICkge1xyXG5cdFx0aWYgKCBvLnRoZW1lICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyggXCJ1aS1wYWdlLXRoZW1lLVwiICsgdGhpcy5vcHRpb25zLnRoZW1lICkuYWRkQ2xhc3MoIFwidWktcGFnZS10aGVtZS1cIiArIG8udGhlbWUgKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIG8uY29udGVudFRoZW1lICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5maW5kKCBcIltkYXRhLVwiICsgJC5tb2JpbGUubnMgKyBcIj0nY29udGVudCddXCIgKS5yZW1vdmVDbGFzcyggXCJ1aS1ib2R5LVwiICsgdGhpcy5vcHRpb25zLmNvbnRlbnRUaGVtZSApXHJcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLWJvZHktXCIgKyBvLmNvbnRlbnRUaGVtZSApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9oYW5kbGVQYWdlQmVmb3JlU2hvdzogZnVuY3Rpb24oLyogZSAqLykge1xyXG5cdFx0dGhpcy5zZXRDb250YWluZXJCYWNrZ3JvdW5kKCk7XHJcblx0fSxcclxuXHQvLyBEZXByZWNhdGVkIGluIDEuNCByZW1vdmUgaW4gMS41XHJcblx0cmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLmVsZW1lbnQuY2xvc2VzdCggXCI6bW9iaWxlLXBhZ2Vjb250YWluZXJcIiApLnBhZ2Vjb250YWluZXIoeyBcInRoZW1lXCI6IFwibm9uZVwiIH0pO1xyXG5cdH0sXHJcblx0Ly8gRGVwcmVjYXRlZCBpbiAxLjQgcmVtb3ZlIGluIDEuNVxyXG5cdC8vIHNldCB0aGUgcGFnZSBjb250YWluZXIgYmFja2dyb3VuZCB0byB0aGUgcGFnZSB0aGVtZVxyXG5cdHNldENvbnRhaW5lckJhY2tncm91bmQ6IGZ1bmN0aW9uKCB0aGVtZSApIHtcclxuXHRcdHRoaXMuZWxlbWVudC5wYXJlbnQoKS5wYWdlY29udGFpbmVyKCB7IFwidGhlbWVcIjogdGhlbWUgfHwgdGhpcy5vcHRpb25zLnRoZW1lIH0gKTtcclxuXHR9LFxyXG5cdC8vIERlcHJlY2F0ZWQgaW4gMS40IHJlbW92ZSBpbiAxLjVcclxuXHRrZWVwTmF0aXZlU2VsZWN0b3I6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXHJcblx0XHRcdGtlZXBOYXRpdmUgPSAkLnRyaW0oIG9wdGlvbnMua2VlcE5hdGl2ZSB8fCBcIlwiICksXHJcblx0XHRcdGdsb2JhbFZhbHVlID0gJC50cmltKCAkLm1vYmlsZS5rZWVwTmF0aXZlICksXHJcblx0XHRcdG9wdGlvblZhbHVlID0gJC50cmltKCBvcHRpb25zLmtlZXBOYXRpdmVEZWZhdWx0ICksXHJcblxyXG5cdFx0XHQvLyBDaGVjayBpZiAkLm1vYmlsZS5rZWVwTmF0aXZlIGhhcyBjaGFuZ2VkIGZyb20gdGhlIGZhY3RvcnkgZGVmYXVsdFxyXG5cdFx0XHRuZXdEZWZhdWx0ID0gKCBrZWVwTmF0aXZlRmFjdG9yeURlZmF1bHQgPT09IGdsb2JhbFZhbHVlID9cclxuXHRcdFx0XHRcIlwiIDogZ2xvYmFsVmFsdWUgKSxcclxuXHJcblx0XHRcdC8vIElmICQubW9iaWxlLmtlZXBOYXRpdmUgaGFzIG5vdCBjaGFuZ2VkLCB1c2Ugb3B0aW9ucy5rZWVwTmF0aXZlRGVmYXVsdFxyXG5cdFx0XHRvbGREZWZhdWx0ID0gKCBuZXdEZWZhdWx0ID09PSBcIlwiID8gb3B0aW9uVmFsdWUgOiBcIlwiICk7XHJcblxyXG5cdFx0Ly8gQ29uY2F0ZW5hdGUga2VlcE5hdGl2ZSBzZWxlY3RvcnMgZnJvbSBhbGwgc291cmNlcyB3aGVyZSB0aGUgdmFsdWUgaGFzXHJcblx0XHQvLyBjaGFuZ2VkIG9yLCBpZiBub3RoaW5nIGhhcyBjaGFuZ2VkLCByZXR1cm4gdGhlIGRlZmF1bHRcclxuXHRcdHJldHVybiAoICgga2VlcE5hdGl2ZSA/IFsga2VlcE5hdGl2ZSBdIDogW10gKVxyXG5cdFx0XHQuY29uY2F0KCBuZXdEZWZhdWx0ID8gWyBuZXdEZWZhdWx0IF0gOiBbXSApXHJcblx0XHRcdC5jb25jYXQoIG9sZERlZmF1bHQgPyBbIG9sZERlZmF1bHQgXSA6IFtdIClcclxuXHRcdFx0LmpvaW4oIFwiLCBcIiApICk7XHJcblx0fVxyXG59KTtcclxufSkoIGpRdWVyeSApO1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblxyXG5cdCQud2lkZ2V0KCBcIm1vYmlsZS5wYWdlY29udGFpbmVyXCIsIHtcclxuXHRcdG9wdGlvbnM6IHtcclxuXHRcdFx0dGhlbWU6IFwiYVwiXHJcblx0XHR9LFxyXG5cclxuXHRcdGluaXRTZWxlY3RvcjogZmFsc2UsXHJcblxyXG5cdFx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuX3RyaWdnZXIoIFwiYmVmb3JlY3JlYXRlXCIgKTtcclxuXHRcdFx0dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZCA9IHRydWU7XHJcblxyXG5cdFx0XHR0aGlzLl9vbiggdGhpcy53aW5kb3csIHtcclxuXHRcdFx0XHQvLyBkaXNhYmxlIGFuIHNjcm9sbCBzZXR0aW5nIHdoZW4gYSBoYXNoY2hhbmdlIGhhcyBiZWVuIGZpcmVkLFxyXG5cdFx0XHRcdC8vIHRoaXMgb25seSB3b3JrcyBiZWNhdXNlIHRoZSByZWNvcmRpbmcgb2YgdGhlIHNjcm9sbCBwb3NpdGlvblxyXG5cdFx0XHRcdC8vIGlzIGRlbGF5ZWQgZm9yIDEwMG1zIGFmdGVyIHRoZSBicm93c2VyIG1pZ2h0IGhhdmUgY2hhbmdlZCB0aGVcclxuXHRcdFx0XHQvLyBwb3NpdGlvbiBiZWNhdXNlIG9mIHRoZSBoYXNoY2hhbmdlXHJcblx0XHRcdFx0bmF2aWdhdGU6IFwiX2Rpc2FibGVSZWNvcmRTY3JvbGxcIixcclxuXHJcblx0XHRcdFx0Ly8gYmluZCB0byBzY3JvbGxzdG9wIGZvciB0aGUgZmlyc3QgcGFnZSwgXCJwYWdlY2hhbmdlXCIgd29uJ3QgYmVcclxuXHRcdFx0XHQvLyBmaXJlZCBpbiB0aGF0IGNhc2VcclxuXHRcdFx0XHRzY3JvbGxzdG9wOiBcIl9kZWxheWVkUmVjb3JkU2Nyb2xsXCJcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBUT0RPIGNvbnNpZGVyIG1vdmluZyB0aGUgbmF2aWdhdGlvbiBoYW5kbGVyIE9VVCBvZiB3aWRnZXQgaW50b1xyXG5cdFx0XHQvLyAgICAgIHNvbWUgb3RoZXIgb2JqZWN0IGFzIGdsdWUgYmV0d2VlbiB0aGUgbmF2aWdhdGUgZXZlbnQgYW5kIHRoZVxyXG5cdFx0XHQvLyAgICAgIGNvbnRlbnQgd2lkZ2V0IGxvYWQgYW5kIGNoYW5nZSBtZXRob2RzXHJcblx0XHRcdHRoaXMuX29uKCB0aGlzLndpbmRvdywgeyBuYXZpZ2F0ZTogXCJfZmlsdGVyTmF2aWdhdGVFdmVudHNcIiB9KTtcclxuXHJcblx0XHRcdC8vIFRPRE8gbW92ZSBmcm9tIHBhZ2UqIGV2ZW50cyB0byBjb250ZW50KiBldmVudHNcclxuXHRcdFx0dGhpcy5fb24oeyBwYWdlY2hhbmdlOiBcIl9hZnRlckNvbnRlbnRDaGFuZ2VcIiB9KTtcclxuXHJcblx0XHRcdC8vIGhhbmRsZSBpbml0aWFsIGhhc2hjaGFuZ2UgZnJvbSBjaHJvbWUgOihcclxuXHRcdFx0dGhpcy53aW5kb3cub25lKCBcIm5hdmlnYXRlXCIsICQucHJveHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZCA9IHRydWU7XHJcblx0XHRcdH0sIHRoaXMpKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X3NldE9wdGlvbnM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xyXG5cdFx0XHRpZiAoIG9wdGlvbnMudGhlbWUgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLnRoZW1lICE9PSBcIm5vbmVcIiApIHtcclxuXHRcdFx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoIFwidWktb3ZlcmxheS1cIiArIHRoaXMub3B0aW9ucy50aGVtZSApXHJcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktb3ZlcmxheS1cIiArIG9wdGlvbnMudGhlbWUgKTtcclxuXHRcdFx0fSBlbHNlIGlmICggb3B0aW9ucy50aGVtZSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyggXCJ1aS1vdmVybGF5LVwiICsgdGhpcy5vcHRpb25zLnRoZW1lICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuX3N1cGVyKCBvcHRpb25zICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9kaXNhYmxlUmVjb3JkU2Nyb2xsOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZCA9IGZhbHNlO1xyXG5cdFx0fSxcclxuXHJcblx0XHRfZW5hYmxlUmVjb3JkU2Nyb2xsOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZCA9IHRydWU7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIFRPRE8gY29uc2lkZXIgdGhlIG5hbWUgaGVyZSwgc2luY2UgaXQncyBwdXJwb3NlIHNwZWNpZmljXHJcblx0XHRfYWZ0ZXJDb250ZW50Q2hhbmdlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gb25jZSB0aGUgcGFnZSBoYXMgY2hhbmdlZCwgcmUtZW5hYmxlIHRoZSBzY3JvbGwgcmVjb3JkaW5nXHJcblx0XHRcdHRoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQgPSB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gcmVtb3ZlIGFueSBiaW5kaW5nIHRoYXQgcHJldmlvdXNseSBleGlzdGVkIG9uIHRoZSBnZXQgc2Nyb2xsXHJcblx0XHRcdC8vIHdoaWNoIG1heSBvciBtYXkgbm90IGJlIGRpZmZlcmVudCB0aGFuIHRoZSBzY3JvbGwgZWxlbWVudFxyXG5cdFx0XHQvLyBkZXRlcm1pbmVkIGZvciB0aGlzIHBhZ2UgcHJldmlvdXNseVxyXG5cdFx0XHR0aGlzLl9vZmYoIHRoaXMud2luZG93LCBcInNjcm9sbHN0b3BcIiApO1xyXG5cclxuXHRcdFx0Ly8gZGV0ZXJtaW5lIGFuZCBiaW5kIHRvIHRoZSBjdXJyZW50IHNjb2xsIGVsZW1lbnQgd2hpY2ggbWF5IGJlIHRoZVxyXG5cdFx0XHQvLyB3aW5kb3cgb3IgaW4gdGhlIGNhc2Ugb2YgdG91Y2ggb3ZlcmZsb3cgdGhlIGVsZW1lbnQgdG91Y2ggb3ZlcmZsb3dcclxuXHRcdFx0dGhpcy5fb24oIHRoaXMud2luZG93LCB7IHNjcm9sbHN0b3A6IFwiX2RlbGF5ZWRSZWNvcmRTY3JvbGxcIiB9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X3JlY29yZFNjcm9sbDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIHRoaXMgYmFycmllciBwcmV2ZW50cyBzZXR0aW5nIHRoZSBzY3JvbGwgdmFsdWUgYmFzZWQgb25cclxuXHRcdFx0Ly8gdGhlIGJyb3dzZXIgc2Nyb2xsaW5nIHRoZSB3aW5kb3cgYmFzZWQgb24gYSBoYXNoY2hhbmdlXHJcblx0XHRcdGlmICggIXRoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQgKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgYWN0aXZlID0gdGhpcy5fZ2V0QWN0aXZlSGlzdG9yeSgpLFxyXG5cdFx0XHRcdGN1cnJlbnRTY3JvbGwsIG1pblNjcm9sbCwgZGVmYXVsdFNjcm9sbDtcclxuXHJcblx0XHRcdGlmICggYWN0aXZlICkge1xyXG5cdFx0XHRcdGN1cnJlbnRTY3JvbGwgPSB0aGlzLl9nZXRTY3JvbGwoKTtcclxuXHRcdFx0XHRtaW5TY3JvbGwgPSB0aGlzLl9nZXRNaW5TY3JvbGwoKTtcclxuXHRcdFx0XHRkZWZhdWx0U2Nyb2xsID0gdGhpcy5fZ2V0RGVmYXVsdFNjcm9sbCgpO1xyXG5cclxuXHRcdFx0XHQvLyBTZXQgYWN0aXZlIHBhZ2UncyBsYXN0U2Nyb2xsIHByb3AuIElmIHRoZSBsb2NhdGlvbiB3ZSdyZVxyXG5cdFx0XHRcdC8vIHNjcm9sbGluZyB0byBpcyBsZXNzIHRoYW4gbWluU2Nyb2xsQmFjaywgbGV0IGl0IGdvLlxyXG5cdFx0XHRcdGFjdGl2ZS5sYXN0U2Nyb2xsID0gY3VycmVudFNjcm9sbCA8IG1pblNjcm9sbCA/IGRlZmF1bHRTY3JvbGwgOiBjdXJyZW50U2Nyb2xsO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdF9kZWxheWVkUmVjb3JkU2Nyb2xsOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0c2V0VGltZW91dCggJC5wcm94eSh0aGlzLCBcIl9yZWNvcmRTY3JvbGxcIiksIDEwMCApO1xyXG5cdFx0fSxcclxuXHJcblx0XHRfZ2V0U2Nyb2xsOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMud2luZG93LnNjcm9sbFRvcCgpO1xyXG5cdFx0fSxcclxuXHJcblx0XHRfZ2V0TWluU2Nyb2xsOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuICQubW9iaWxlLm1pblNjcm9sbEJhY2s7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9nZXREZWZhdWx0U2Nyb2xsOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuICQubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsO1xyXG5cdFx0fSxcclxuXHJcblx0XHRfZmlsdGVyTmF2aWdhdGVFdmVudHM6IGZ1bmN0aW9uKCBlLCBkYXRhICkge1xyXG5cdFx0XHR2YXIgdXJsO1xyXG5cclxuXHRcdFx0aWYgKCBlLm9yaWdpbmFsRXZlbnQgJiYgZS5vcmlnaW5hbEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dXJsID0gZS5vcmlnaW5hbEV2ZW50LnR5cGUuaW5kZXhPZiggXCJoYXNoY2hhbmdlXCIgKSA+IC0xID8gZGF0YS5zdGF0ZS5oYXNoIDogZGF0YS5zdGF0ZS51cmw7XHJcblxyXG5cdFx0XHRpZiAoICF1cmwgKSB7XHJcblx0XHRcdFx0dXJsID0gdGhpcy5fZ2V0SGFzaCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoICF1cmwgfHwgdXJsID09PSBcIiNcIiB8fCB1cmwuaW5kZXhPZiggXCIjXCIgKyAkLm1vYmlsZS5wYXRoLnVpU3RhdGVLZXkgKSA9PT0gMCApIHtcclxuXHRcdFx0XHR1cmwgPSBsb2NhdGlvbi5ocmVmO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLl9oYW5kbGVOYXZpZ2F0ZSggdXJsLCBkYXRhLnN0YXRlICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9nZXRIYXNoOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuICQubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2g7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIFRPRE8gYWN0aXZlIHBhZ2Ugc2hvdWxkIGJlIG1hbmFnZWQgYnkgdGhlIGNvbnRhaW5lciAoaWUsIGl0IHNob3VsZCBiZSBhIHByb3BlcnR5KVxyXG5cdFx0Z2V0QWN0aXZlUGFnZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmFjdGl2ZVBhZ2U7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIFRPRE8gdGhlIGZpcnN0IHBhZ2Ugc2hvdWxkIGJlIGEgcHJvcGVydHkgc2V0IGR1cmluZyBfY3JlYXRlIHVzaW5nIHRoZSBsb2dpY1xyXG5cdFx0Ly8gICAgICB0aGF0IGN1cnJlbnRseSByZXNpZGVzIGluIGluaXRcclxuXHRcdF9nZXRJbml0aWFsQ29udGVudDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiAkLm1vYmlsZS5maXJzdFBhZ2U7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIFRPRE8gZWFjaCBjb250ZW50IGNvbnRhaW5lciBzaG91bGQgaGF2ZSBhIGhpc3Rvcnkgb2JqZWN0XHJcblx0XHRfZ2V0SGlzdG9yeTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiAkLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5O1xyXG5cdFx0fSxcclxuXHJcblx0XHRfZ2V0QWN0aXZlSGlzdG9yeTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLl9nZXRIaXN0b3J5KCkuZ2V0QWN0aXZlKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIFRPRE8gdGhlIGRvY3VtZW50IGJhc2Ugc2hvdWxkIGJlIGRldGVybWluZWQgYXQgY3JlYXRpb25cclxuXHRcdF9nZXREb2N1bWVudEJhc2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gJC5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2U7XHJcblx0XHR9LFxyXG5cclxuXHRcdGJhY2s6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLmdvKCAtMSApO1xyXG5cdFx0fSxcclxuXHJcblx0XHRmb3J3YXJkOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5nbyggMSApO1xyXG5cdFx0fSxcclxuXHJcblx0XHRnbzogZnVuY3Rpb24oIHN0ZXBzICkge1xyXG5cclxuXHRcdFx0Ly9pZiBoYXNobGlzdGVuaW5nIGlzIGVuYWJsZWQgdXNlIG5hdGl2ZSBoaXN0b3J5IG1ldGhvZFxyXG5cdFx0XHRpZiAoICQubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkICkge1xyXG5cdFx0XHRcdHdpbmRvdy5oaXN0b3J5LmdvKCBzdGVwcyApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHQvL3dlIGFyZSBub3QgbGlzdGVuaW5nIHRvIHRoZSBoYXNoIHNvIGhhbmRsZSBoaXN0b3J5IGludGVybmFsbHlcclxuXHRcdFx0XHR2YXIgYWN0aXZlSW5kZXggPSAkLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4LFxyXG5cdFx0XHRcdFx0aW5kZXggPSBhY3RpdmVJbmRleCArIHBhcnNlSW50KCBzdGVwcywgMTAgKSxcclxuXHRcdFx0XHRcdHVybCA9ICQubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnkuc3RhY2tbIGluZGV4IF0udXJsLFxyXG5cdFx0XHRcdFx0ZGlyZWN0aW9uID0gKCBzdGVwcyA+PSAxICk/IFwiZm9yd2FyZFwiIDogXCJiYWNrXCI7XHJcblxyXG5cdFx0XHRcdC8vdXBkYXRlIHRoZSBoaXN0b3J5IG9iamVjdFxyXG5cdFx0XHRcdCQubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXggPSBpbmRleDtcclxuXHRcdFx0XHQkLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnByZXZpb3VzSW5kZXggPSBhY3RpdmVJbmRleDtcclxuXHJcblx0XHRcdFx0Ly9jaGFuZ2UgdG8gdGhlIG5ldyBwYWdlXHJcblx0XHRcdFx0dGhpcy5jaGFuZ2UoIHVybCwgeyBkaXJlY3Rpb246IGRpcmVjdGlvbiwgY2hhbmdlSGFzaDogZmFsc2UsIGZyb21IYXNoQ2hhbmdlOiB0cnVlIH0gKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBUT0RPIHJlbmFtZSBfaGFuZGxlRGVzdGluYXRpb25cclxuXHRcdF9oYW5kbGVEZXN0aW5hdGlvbjogZnVuY3Rpb24oIHRvICkge1xyXG5cdFx0XHR2YXIgaGlzdG9yeTtcclxuXHJcblx0XHRcdC8vIGNsZWFuIHRoZSBoYXNoIGZvciBjb21wYXJpc29uIGlmIGl0J3MgYSB1cmxcclxuXHRcdFx0aWYgKCAkLnR5cGUodG8pID09PSBcInN0cmluZ1wiICkge1xyXG5cdFx0XHRcdHRvID0gJC5tb2JpbGUucGF0aC5zdHJpcEhhc2goIHRvICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggdG8gKSB7XHJcblx0XHRcdFx0aGlzdG9yeSA9IHRoaXMuX2dldEhpc3RvcnkoKTtcclxuXHJcblx0XHRcdFx0Ly8gQXQgdGhpcyBwb2ludCwgJ3RvJyBjYW4gYmUgb25lIG9mIDMgdGhpbmdzLCBhIGNhY2hlZCBwYWdlXHJcblx0XHRcdFx0Ly8gZWxlbWVudCBmcm9tIGEgaGlzdG9yeSBzdGFjayBlbnRyeSwgYW4gaWQsIG9yIHNpdGUtcmVsYXRpdmUgL1xyXG5cdFx0XHRcdC8vIGFic29sdXRlIFVSTC4gSWYgJ3RvJyBpcyBhbiBpZCwgd2UgbmVlZCB0byByZXNvbHZlIGl0IGFnYWluc3RcclxuXHRcdFx0XHQvLyB0aGUgZG9jdW1lbnRCYXNlLCBub3QgdGhlIGxvY2F0aW9uLmhyZWYsIHNpbmNlIHRoZSBoYXNoY2hhbmdlXHJcblx0XHRcdFx0Ly8gY291bGQndmUgYmVlbiB0aGUgcmVzdWx0IG9mIGEgZm9yd2FyZC9iYWNrd2FyZCBuYXZpZ2F0aW9uXHJcblx0XHRcdFx0Ly8gdGhhdCBjcm9zc2VzIGZyb20gYW4gZXh0ZXJuYWwgcGFnZS9kaWFsb2cgdG8gYW4gaW50ZXJuYWxcclxuXHRcdFx0XHQvLyBwYWdlL2RpYWxvZy5cclxuXHRcdFx0XHQvL1xyXG5cdFx0XHRcdC8vIFRPRE8gbW92ZSBjaGVjayB0byBoaXN0b3J5IG9iamVjdCBvciBwYXRoIG9iamVjdD9cclxuXHRcdFx0XHR0byA9ICEkLm1vYmlsZS5wYXRoLmlzUGF0aCggdG8gKSA/ICggJC5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIFwiI1wiICsgdG8sIHRoaXMuX2dldERvY3VtZW50QmFzZSgpICkgKSA6IHRvO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiB0byB8fCB0aGlzLl9nZXRJbml0aWFsQ29udGVudCgpO1xyXG5cdFx0fSxcclxuXHJcblx0XHRfdHJhbnNpdGlvbkZyb21IaXN0b3J5OiBmdW5jdGlvbiggZGlyZWN0aW9uLCBkZWZhdWx0VHJhbnNpdGlvbiApIHtcclxuXHRcdFx0dmFyIGhpc3RvcnkgPSB0aGlzLl9nZXRIaXN0b3J5KCksXHJcblx0XHRcdFx0ZW50cnkgPSAoIGRpcmVjdGlvbiA9PT0gXCJiYWNrXCIgPyBoaXN0b3J5LmdldExhc3QoKSA6IGhpc3RvcnkuZ2V0QWN0aXZlKCkgKTtcclxuXHJcblx0XHRcdHJldHVybiAoIGVudHJ5ICYmIGVudHJ5LnRyYW5zaXRpb24gKSB8fCBkZWZhdWx0VHJhbnNpdGlvbjtcclxuXHRcdH0sXHJcblxyXG5cdFx0X2hhbmRsZURpYWxvZzogZnVuY3Rpb24oIGNoYW5nZVBhZ2VPcHRpb25zLCBkYXRhICkge1xyXG5cdFx0XHR2YXIgdG8sIGFjdGl2ZSwgYWN0aXZlQ29udGVudCA9IHRoaXMuZ2V0QWN0aXZlUGFnZSgpO1xyXG5cclxuXHRcdFx0Ly8gSWYgY3VycmVudCBhY3RpdmUgcGFnZSBpcyBub3QgYSBkaWFsb2cgc2tpcCB0aGUgZGlhbG9nIGFuZCBjb250aW51ZVxyXG5cdFx0XHQvLyBpbiB0aGUgc2FtZSBkaXJlY3Rpb25cclxuXHRcdFx0Ly8gTm90ZTogVGhlIGRpYWxvZyB3aWRnZXQgaXMgZGVwcmVjYXRlZCBhcyBvZiAxLjQuMCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDEuNS4wLlxyXG5cdFx0XHQvLyBUaHVzLCBhcyBvZiAxLjUuMCBhY3RpdmVDb250ZW50LmRhdGEoIFwibW9iaWxlLWRpYWxvZ1wiICkgd2lsbCBhbHdheXMgZXZhbHVhdGUgdG9cclxuXHRcdFx0Ly8gZmFsc3ksIHNvIHRoZSBzZWNvbmQgY29uZGl0aW9uIGluIHRoZSBpZi1zdGF0ZW1lbnQgYmVsb3cgY2FuIGJlIHJlbW92ZWQgYWx0b2dldGhlci5cclxuXHRcdFx0aWYgKCBhY3RpdmVDb250ZW50ICYmICFhY3RpdmVDb250ZW50LmRhdGEoIFwibW9iaWxlLWRpYWxvZ1wiICkgKSB7XHJcblx0XHRcdFx0Ly8gZGV0ZXJtaW5lIGlmIHdlJ3JlIGhlYWRpbmcgZm9yd2FyZCBvciBiYWNrd2FyZCBhbmQgY29udGludWVcclxuXHRcdFx0XHQvLyBhY2NvcmRpbmdseSBwYXN0IHRoZSBjdXJyZW50IGRpYWxvZ1xyXG5cdFx0XHRcdGlmICggZGF0YS5kaXJlY3Rpb24gPT09IFwiYmFja1wiICkge1xyXG5cdFx0XHRcdFx0dGhpcy5iYWNrKCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRoaXMuZm9yd2FyZCgpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gcHJldmVudCBjaGFuZ2VQYWdlIGNhbGxcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gaWYgdGhlIGN1cnJlbnQgYWN0aXZlIHBhZ2UgaXMgYSBkaWFsb2cgYW5kIHdlJ3JlIG5hdmlnYXRpbmdcclxuXHRcdFx0XHQvLyB0byBhIGRpYWxvZyB1c2UgdGhlIGRpYWxvZyBvYmplY3RlZCBzYXZlZCBpbiB0aGUgc3RhY2tcclxuXHRcdFx0XHR0byA9IGRhdGEucGFnZVVybDtcclxuXHRcdFx0XHRhY3RpdmUgPSB0aGlzLl9nZXRBY3RpdmVIaXN0b3J5KCk7XHJcblxyXG5cdFx0XHRcdC8vIG1ha2Ugc3VyZSB0byBzZXQgdGhlIHJvbGUsIHRyYW5zaXRpb24gYW5kIHJldmVyc2FsXHJcblx0XHRcdFx0Ly8gYXMgbW9zdCBvZiB0aGlzIGlzIGxvc3QgYnkgdGhlIGRvbUNhY2hlIGNsZWFuaW5nXHJcblx0XHRcdFx0JC5leHRlbmQoIGNoYW5nZVBhZ2VPcHRpb25zLCB7XHJcblx0XHRcdFx0XHRyb2xlOiBhY3RpdmUucm9sZSxcclxuXHRcdFx0XHRcdHRyYW5zaXRpb246IHRoaXMuX3RyYW5zaXRpb25Gcm9tSGlzdG9yeShcclxuXHRcdFx0XHRcdFx0ZGF0YS5kaXJlY3Rpb24sXHJcblx0XHRcdFx0XHRcdGNoYW5nZVBhZ2VPcHRpb25zLnRyYW5zaXRpb24gKSxcclxuXHRcdFx0XHRcdHJldmVyc2U6IGRhdGEuZGlyZWN0aW9uID09PSBcImJhY2tcIlxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdG87XHJcblx0XHR9LFxyXG5cclxuXHRcdF9oYW5kbGVOYXZpZ2F0ZTogZnVuY3Rpb24oIHVybCwgZGF0YSApIHtcclxuXHRcdFx0Ly9maW5kIGZpcnN0IHBhZ2UgdmlhIGhhc2hcclxuXHRcdFx0Ly8gVE9ETyBzdHJpcHBpbmcgdGhlIGhhc2ggdHdpY2Ugd2l0aCBoYW5kbGVVcmxcclxuXHRcdFx0dmFyIHRvID0gJC5tb2JpbGUucGF0aC5zdHJpcEhhc2goIHVybCApLCBoaXN0b3J5ID0gdGhpcy5fZ2V0SGlzdG9yeSgpLFxyXG5cclxuXHRcdFx0XHQvLyB0cmFuc2l0aW9uIGlzIGZhbHNlIGlmIGl0J3MgdGhlIGZpcnN0IHBhZ2UsIHVuZGVmaW5lZFxyXG5cdFx0XHRcdC8vIG90aGVyd2lzZSAoYW5kIG1heSBiZSBvdmVycmlkZGVuIGJ5IGRlZmF1bHQpXHJcblx0XHRcdFx0dHJhbnNpdGlvbiA9IGhpc3Rvcnkuc3RhY2subGVuZ3RoID09PSAwID8gXCJub25lXCIgOlxyXG5cdFx0XHRcdFx0dGhpcy5fdHJhbnNpdGlvbkZyb21IaXN0b3J5KCBkYXRhLmRpcmVjdGlvbiApLFxyXG5cclxuXHRcdFx0XHQvLyBkZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSBjaGFuZ1BhZ2UgY2FsbHMgbWFkZSBhZnRlciBleGFtaW5pbmdcclxuXHRcdFx0XHQvLyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgcGFnZSBhbmQgdGhlIGhhc2gsIE5PVEUgdGhhdCB0aGVcclxuXHRcdFx0XHQvLyB0cmFuc2l0aW9uIGlzIGRlcml2ZWQgZnJvbSB0aGUgcHJldmlvdXMgaGlzdG9yeSBlbnRyeVxyXG5cdFx0XHRcdGNoYW5nZVBhZ2VPcHRpb25zID0ge1xyXG5cdFx0XHRcdFx0Y2hhbmdlSGFzaDogZmFsc2UsXHJcblx0XHRcdFx0XHRmcm9tSGFzaENoYW5nZTogdHJ1ZSxcclxuXHRcdFx0XHRcdHJldmVyc2U6IGRhdGEuZGlyZWN0aW9uID09PSBcImJhY2tcIlxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHQkLmV4dGVuZCggY2hhbmdlUGFnZU9wdGlvbnMsIGRhdGEsIHtcclxuXHRcdFx0XHR0cmFuc2l0aW9uOiB0cmFuc2l0aW9uXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gVE9ETyBtb3ZlIHRvIF9oYW5kbGVEZXN0aW5hdGlvbiA/XHJcblx0XHRcdC8vIElmIHRoaXMgaXNuJ3QgdGhlIGZpcnN0IHBhZ2UsIGlmIHRoZSBjdXJyZW50IHVybCBpcyBhIGRpYWxvZyBoYXNoXHJcblx0XHRcdC8vIGtleSwgYW5kIHRoZSBpbml0aWFsIGRlc3RpbmF0aW9uIGlzbid0IGVxdWFsIHRvIHRoZSBjdXJyZW50IHRhcmdldFxyXG5cdFx0XHQvLyBwYWdlLCB1c2UgdGhlIHNwZWNpYWwgZGlhbG9nIGhhbmRsaW5nXHJcblx0XHRcdGlmICggaGlzdG9yeS5hY3RpdmVJbmRleCA+IDAgJiZcclxuXHRcdFx0XHR0by5pbmRleE9mKCAkLm1vYmlsZS5kaWFsb2dIYXNoS2V5ICkgPiAtMSApIHtcclxuXHJcblx0XHRcdFx0dG8gPSB0aGlzLl9oYW5kbGVEaWFsb2coIGNoYW5nZVBhZ2VPcHRpb25zLCBkYXRhICk7XHJcblxyXG5cdFx0XHRcdGlmICggdG8gPT09IGZhbHNlICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5fY2hhbmdlQ29udGVudCggdGhpcy5faGFuZGxlRGVzdGluYXRpb24oIHRvICksIGNoYW5nZVBhZ2VPcHRpb25zICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9jaGFuZ2VDb250ZW50OiBmdW5jdGlvbiggdG8sIG9wdHMgKSB7XHJcblx0XHRcdCQubW9iaWxlLmNoYW5nZVBhZ2UoIHRvLCBvcHRzICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9nZXRCYXNlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuICQubW9iaWxlLmJhc2U7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9nZXROczogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiAkLm1vYmlsZS5ucztcclxuXHRcdH0sXHJcblxyXG5cdFx0X2VuaGFuY2U6IGZ1bmN0aW9uKCBjb250ZW50LCByb2xlICkge1xyXG5cdFx0XHQvLyBUT0RPIGNvbnNpZGVyIHN1cHBvcnRpbmcgYSBjdXN0b20gY2FsbGJhY2ssIGFuZCBwYXNzaW5nIGluXHJcblx0XHRcdC8vIHRoZSBzZXR0aW5ncyB3aGljaCBpbmNsdWRlcyB0aGUgcm9sZVxyXG5cdFx0XHRyZXR1cm4gY29udGVudC5wYWdlKHsgcm9sZTogcm9sZSB9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X2luY2x1ZGU6IGZ1bmN0aW9uKCBwYWdlLCBzZXR0aW5ncyApIHtcclxuXHRcdFx0Ly8gYXBwZW5kIHRvIHBhZ2UgYW5kIGVuaGFuY2VcclxuXHRcdFx0cGFnZS5hcHBlbmRUbyggdGhpcy5lbGVtZW50ICk7XHJcblxyXG5cdFx0XHQvLyB1c2UgdGhlIHBhZ2Ugd2lkZ2V0IHRvIGVuaGFuY2VcclxuXHRcdFx0dGhpcy5fZW5oYW5jZSggcGFnZSwgc2V0dGluZ3Mucm9sZSApO1xyXG5cclxuXHRcdFx0Ly8gcmVtb3ZlIHBhZ2Ugb24gaGlkZVxyXG5cdFx0XHRwYWdlLnBhZ2UoIFwiYmluZFJlbW92ZVwiICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9maW5kOiBmdW5jdGlvbiggYWJzVXJsICkge1xyXG5cdFx0XHQvLyBUT0RPIGNvbnNpZGVyIHN1cHBvcnRpbmcgYSBjdXN0b20gY2FsbGJhY2tcclxuXHRcdFx0dmFyIGZpbGVVcmwgPSB0aGlzLl9jcmVhdGVGaWxlVXJsKCBhYnNVcmwgKSxcclxuXHRcdFx0XHRkYXRhVXJsID0gdGhpcy5fY3JlYXRlRGF0YVVybCggYWJzVXJsICksXHJcblx0XHRcdFx0cGFnZSwgaW5pdGlhbENvbnRlbnQgPSB0aGlzLl9nZXRJbml0aWFsQ29udGVudCgpO1xyXG5cclxuXHRcdFx0Ly8gQ2hlY2sgdG8gc2VlIGlmIHRoZSBwYWdlIGFscmVhZHkgZXhpc3RzIGluIHRoZSBET00uXHJcblx0XHRcdC8vIE5PVEUgZG8gX25vdF8gdXNlIHRoZSA6anFtRGF0YSBwc2V1ZG8gc2VsZWN0b3IgYmVjYXVzZSBwYXJlbnRoZXNpc1xyXG5cdFx0XHQvLyAgICAgIGFyZSBhIHZhbGlkIHVybCBjaGFyIGFuZCBpdCBicmVha3Mgb24gdGhlIGZpcnN0IG9jY3VyZW5jZVxyXG5cdFx0XHRwYWdlID0gdGhpcy5lbGVtZW50XHJcblx0XHRcdFx0LmNoaWxkcmVuKCBcIltkYXRhLVwiICsgdGhpcy5fZ2V0TnMoKSArXHJcblx0XHRcdFx0XHRcInVybD0nXCIgKyAkLm1vYmlsZS5wYXRoLmhhc2hUb1NlbGVjdG9yKCBkYXRhVXJsICkgKyBcIiddXCIgKTtcclxuXHJcblx0XHRcdC8vIElmIHdlIGZhaWxlZCB0byBmaW5kIHRoZSBwYWdlLCBjaGVjayB0byBzZWUgaWYgdGhlIHVybCBpcyBhXHJcblx0XHRcdC8vIHJlZmVyZW5jZSB0byBhbiBlbWJlZGRlZCBwYWdlLiBJZiBzbywgaXQgbWF5IGhhdmUgYmVlbiBkeW5hbWljYWxseVxyXG5cdFx0XHQvLyBpbmplY3RlZCBieSBhIGRldmVsb3BlciwgaW4gd2hpY2ggY2FzZSBpdCB3b3VsZCBiZSBsYWNraW5nIGFcclxuXHRcdFx0Ly8gZGF0YS11cmwgYXR0cmlidXRlIGFuZCBpbiBuZWVkIG9mIGVuaGFuY2VtZW50LlxyXG5cdFx0XHRpZiAoIHBhZ2UubGVuZ3RoID09PSAwICYmIGRhdGFVcmwgJiYgISQubW9iaWxlLnBhdGguaXNQYXRoKCBkYXRhVXJsICkgKSB7XHJcblx0XHRcdFx0cGFnZSA9IHRoaXMuZWxlbWVudC5jaGlsZHJlbiggJC5tb2JpbGUucGF0aC5oYXNoVG9TZWxlY3RvcihcIiNcIiArIGRhdGFVcmwpIClcclxuXHRcdFx0XHRcdC5hdHRyKCBcImRhdGEtXCIgKyB0aGlzLl9nZXROcygpICsgXCJ1cmxcIiwgZGF0YVVybCApXHJcblx0XHRcdFx0XHQuanFtRGF0YSggXCJ1cmxcIiwgZGF0YVVybCApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBJZiB3ZSBmYWlsZWQgdG8gZmluZCBhIHBhZ2UgaW4gdGhlIERPTSwgY2hlY2sgdGhlIFVSTCB0byBzZWUgaWYgaXRcclxuXHRcdFx0Ly8gcmVmZXJzIHRvIHRoZSBmaXJzdCBwYWdlIGluIHRoZSBhcHBsaWNhdGlvbi4gQWxzbyBjaGVjayB0byBtYWtlIHN1cmVcclxuXHRcdFx0Ly8gb3VyIGNhY2hlZC1maXJzdC1wYWdlIGlzIGFjdHVhbGx5IGluIHRoZSBET00uIFNvbWUgdXNlciBkZXBsb3llZFxyXG5cdFx0XHQvLyBhcHBzIGFyZSBwcnVuaW5nIHRoZSBmaXJzdCBwYWdlIGZyb20gdGhlIERPTSBmb3IgdmFyaW91cyByZWFzb25zLlxyXG5cdFx0XHQvLyBXZSBjaGVjayBmb3IgdGhpcyBjYXNlIGhlcmUgYmVjYXVzZSB3ZSBkb24ndCB3YW50IGEgZmlyc3QtcGFnZSB3aXRoXHJcblx0XHRcdC8vIGFuIGlkIGZhbGxpbmcgdGhyb3VnaCB0byB0aGUgbm9uLWV4aXN0ZW50IGVtYmVkZGVkIHBhZ2UgZXJyb3IgY2FzZS5cclxuXHRcdFx0aWYgKCBwYWdlLmxlbmd0aCA9PT0gMCAmJlxyXG5cdFx0XHRcdCQubW9iaWxlLnBhdGguaXNGaXJzdFBhZ2VVcmwoIGZpbGVVcmwgKSAmJlxyXG5cdFx0XHRcdGluaXRpYWxDb250ZW50ICYmXHJcblx0XHRcdFx0aW5pdGlhbENvbnRlbnQucGFyZW50KCkubGVuZ3RoICkge1xyXG5cdFx0XHRcdHBhZ2UgPSAkKCBpbml0aWFsQ29udGVudCApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gcGFnZTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X2dldExvYWRlcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiAkLm1vYmlsZS5sb2FkaW5nKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9zaG93TG9hZGluZzogZnVuY3Rpb24oIGRlbGF5LCB0aGVtZSwgbXNnLCB0ZXh0b25seSApIHtcclxuXHRcdFx0Ly8gVGhpcyBjb25maWd1cmFibGUgdGltZW91dCBhbGxvd3MgY2FjaGVkIHBhZ2VzIGEgYnJpZWZcclxuXHRcdFx0Ly8gZGVsYXkgdG8gbG9hZCB3aXRob3V0IHNob3dpbmcgYSBtZXNzYWdlXHJcblx0XHRcdGlmICggdGhpcy5fbG9hZE1zZyApIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuX2xvYWRNc2cgPSBzZXRUaW1lb3V0KCQucHJveHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKCBcInNob3dcIiwgdGhlbWUsIG1zZywgdGV4dG9ubHkgKTtcclxuXHRcdFx0XHR0aGlzLl9sb2FkTXNnID0gMDtcclxuXHRcdFx0fSwgdGhpcyksIGRlbGF5ICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9oaWRlTG9hZGluZzogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIFN0b3AgbWVzc2FnZSBzaG93IHRpbWVyXHJcblx0XHRcdGNsZWFyVGltZW91dCggdGhpcy5fbG9hZE1zZyApO1xyXG5cdFx0XHR0aGlzLl9sb2FkTXNnID0gMDtcclxuXHJcblx0XHRcdC8vIEhpZGUgbG9hZGluZyBtZXNzYWdlXHJcblx0XHRcdHRoaXMuX2dldExvYWRlcigpLmxvYWRlciggXCJoaWRlXCIgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X3Nob3dFcnJvcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIG1ha2Ugc3VyZSB0byByZW1vdmUgdGhlIGN1cnJlbnQgbG9hZGluZyBtZXNzYWdlXHJcblx0XHRcdHRoaXMuX2hpZGVMb2FkaW5nKCk7XHJcblxyXG5cdFx0XHQvLyBzaG93IHRoZSBlcnJvciBtZXNzYWdlXHJcblx0XHRcdHRoaXMuX3Nob3dMb2FkaW5nKCAwLCAkLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lLCAkLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSwgdHJ1ZSApO1xyXG5cclxuXHRcdFx0Ly8gaGlkZSB0aGUgZXJyb3IgbWVzc2FnZSBhZnRlciBhIGRlbGF5XHJcblx0XHRcdC8vIFRPRE8gY29uZmlndXJhdGlvblxyXG5cdFx0XHRzZXRUaW1lb3V0KCAkLnByb3h5KHRoaXMsIFwiX2hpZGVMb2FkaW5nXCIpLCAxNTAwICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9wYXJzZTogZnVuY3Rpb24oIGh0bWwsIGZpbGVVcmwgKSB7XHJcblx0XHRcdC8vIFRPRE8gY29uc2lkZXIgYWxsb3dpbmcgY3VzdG9taXphdGlvbiBvZiB0aGlzIG1ldGhvZC4gSXQncyB2ZXJ5IEpRTSBzcGVjaWZpY1xyXG5cdFx0XHR2YXIgcGFnZSwgYWxsID0gJCggXCI8ZGl2PjwvZGl2PlwiICk7XHJcblxyXG5cdFx0XHQvL3dvcmthcm91bmQgdG8gYWxsb3cgc2NyaXB0cyB0byBleGVjdXRlIHdoZW4gaW5jbHVkZWQgaW4gcGFnZSBkaXZzXHJcblx0XHRcdGFsbC5nZXQoIDAgKS5pbm5lckhUTUwgPSBodG1sO1xyXG5cclxuXHRcdFx0cGFnZSA9IGFsbC5maW5kKCBcIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJylcIiApLmZpcnN0KCk7XHJcblxyXG5cdFx0XHQvL2lmIHBhZ2UgZWxlbSBjb3VsZG4ndCBiZSBmb3VuZCwgY3JlYXRlIG9uZSBhbmQgaW5zZXJ0IHRoZSBib2R5IGVsZW1lbnQncyBjb250ZW50c1xyXG5cdFx0XHRpZiAoICFwYWdlLmxlbmd0aCApIHtcclxuXHRcdFx0XHRwYWdlID0gJCggXCI8ZGl2IGRhdGEtXCIgKyB0aGlzLl9nZXROcygpICsgXCJyb2xlPSdwYWdlJz5cIiArXHJcblx0XHRcdFx0XHQoIGh0bWwuc3BsaXQoIC88XFwvP2JvZHlbXj5dKj4vZ21pIClbMV0gfHwgXCJcIiApICtcclxuXHRcdFx0XHRcdFwiPC9kaXY+XCIgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gVE9ETyB0YWdnaW5nIGEgcGFnZSB3aXRoIGV4dGVybmFsIHRvIG1ha2Ugc3VyZSB0aGF0IGVtYmVkZGVkIHBhZ2VzIGFyZW4ndFxyXG5cdFx0XHQvLyByZW1vdmVkIGJ5IHRoZSB2YXJpb3VzIHBhZ2UgaGFuZGxpbmcgY29kZSBpcyBiYWQuIEhhdmluZyBwYWdlIGhhbmRsaW5nIGNvZGVcclxuXHRcdFx0Ly8gaW4gbWFueSBwbGFjZXMgaXMgYmFkLiBTb2x1dGlvbnMgcG9zdCAxLjBcclxuXHRcdFx0cGFnZS5hdHRyKCBcImRhdGEtXCIgKyB0aGlzLl9nZXROcygpICsgXCJ1cmxcIiwgdGhpcy5fY3JlYXRlRGF0YVVybCggZmlsZVVybCApIClcclxuXHRcdFx0XHQuYXR0ciggXCJkYXRhLVwiICsgdGhpcy5fZ2V0TnMoKSArIFwiZXh0ZXJuYWwtcGFnZVwiLCB0cnVlICk7XHJcblxyXG5cdFx0XHRyZXR1cm4gcGFnZTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X3NldExvYWRlZFRpdGxlOiBmdW5jdGlvbiggcGFnZSwgaHRtbCApIHtcclxuXHRcdFx0Ly9wYWdlIHRpdGxlIHJlZ2V4cFxyXG5cdFx0XHR2YXIgbmV3UGFnZVRpdGxlID0gaHRtbC5tYXRjaCggLzx0aXRsZVtePl0qPihbXjxdKikvICkgJiYgUmVnRXhwLiQxO1xyXG5cclxuXHRcdFx0aWYgKCBuZXdQYWdlVGl0bGUgJiYgIXBhZ2UuanFtRGF0YShcInRpdGxlXCIpICkge1xyXG5cdFx0XHRcdG5ld1BhZ2VUaXRsZSA9ICQoIFwiPGRpdj5cIiArIG5ld1BhZ2VUaXRsZSArIFwiPC9kaXY+XCIgKS50ZXh0KCk7XHJcblx0XHRcdFx0cGFnZS5qcW1EYXRhKCBcInRpdGxlXCIsIG5ld1BhZ2VUaXRsZSApO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdF9pc1Jld3JpdGFibGVCYXNlVGFnOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuICQubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCAmJiAhJC5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnO1xyXG5cdFx0fSxcclxuXHJcblx0XHRfY3JlYXRlRGF0YVVybDogZnVuY3Rpb24oIGFic29sdXRlVXJsICkge1xyXG5cdFx0XHRyZXR1cm4gJC5tb2JpbGUucGF0aC5jb252ZXJ0VXJsVG9EYXRhVXJsKCBhYnNvbHV0ZVVybCApO1xyXG5cdFx0fSxcclxuXHJcblx0XHRfY3JlYXRlRmlsZVVybDogZnVuY3Rpb24oIGFic29sdXRlVXJsICkge1xyXG5cdFx0XHRyZXR1cm4gJC5tb2JpbGUucGF0aC5nZXRGaWxlUGF0aCggYWJzb2x1dGVVcmwgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X3RyaWdnZXJXaXRoRGVwcmVjYXRlZDogZnVuY3Rpb24oIG5hbWUsIGRhdGEsIHBhZ2UgKSB7XHJcblx0XHRcdHZhciBkZXByZWNhdGVkRXZlbnQgPSAkLkV2ZW50KCBcInBhZ2VcIiArIG5hbWUgKSxcclxuXHRcdFx0XHRuZXdFdmVudCA9ICQuRXZlbnQoIHRoaXMud2lkZ2V0TmFtZSArIG5hbWUgKTtcclxuXHJcblx0XHRcdC8vIERFUFJFQ0FURURcclxuXHRcdFx0Ly8gdHJpZ2dlciB0aGUgb2xkIGRlcHJlY2F0ZWQgZXZlbnQgb24gdGhlIHBhZ2UgaWYgaXQncyBwcm92aWRlZFxyXG5cdFx0XHQoIHBhZ2UgfHwgdGhpcy5lbGVtZW50ICkudHJpZ2dlciggZGVwcmVjYXRlZEV2ZW50LCBkYXRhICk7XHJcblxyXG5cdFx0XHQvLyB1c2UgdGhlIHdpZGdldCB0cmlnZ2VyIG1ldGhvZCBmb3IgdGhlIG5ldyBjb250ZW50KiBldmVudFxyXG5cdFx0XHR0aGlzLl90cmlnZ2VyKCBuYW1lLCBuZXdFdmVudCwgZGF0YSApO1xyXG5cclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRkZXByZWNhdGVkRXZlbnQ6IGRlcHJlY2F0ZWRFdmVudCxcclxuXHRcdFx0XHRldmVudDogbmV3RXZlbnRcclxuXHRcdFx0fTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gVE9ETyBpdCB3b3VsZCBiZSBuaWNlIHRvIHNwbGl0IHRoaXMgdXAgbW9yZSBidXQgZXZlcnl0aGluZyBhcHBlYXJzIHRvIGJlIFwib25lIG9mZlwiXHJcblx0XHQvLyAgICAgIG9yIHJlcXVpcmUgb3JkZXJpbmcgc3VjaCB0aGF0IG90aGVyIGJpdHMgYXJlIHNwcmlua2xlZCBpbiBiZXR3ZWVuIHBhcnRzIHRoYXRcclxuXHRcdC8vICAgICAgY291bGQgYmUgYWJzdHJhY3RlZCBvdXQgYXMgYSBncm91cFxyXG5cdFx0X2xvYWRTdWNjZXNzOiBmdW5jdGlvbiggYWJzVXJsLCB0cmlnZ2VyRGF0YSwgc2V0dGluZ3MsIGRlZmVycmVkICkge1xyXG5cdFx0XHR2YXIgZmlsZVVybCA9IHRoaXMuX2NyZWF0ZUZpbGVVcmwoIGFic1VybCApO1xyXG5cclxuXHRcdFx0cmV0dXJuICQucHJveHkoZnVuY3Rpb24oIGh0bWwsIHRleHRTdGF0dXMsIHhociApIHtcclxuXHRcdFx0XHQvL3ByZS1wYXJzZSBodG1sIHRvIGNoZWNrIGZvciBhIGRhdGEtdXJsLFxyXG5cdFx0XHRcdC8vdXNlIGl0IGFzIHRoZSBuZXcgZmlsZVVybCwgYmFzZSBwYXRoLCBldGNcclxuXHRcdFx0XHR2YXIgY29udGVudCxcclxuXHJcblx0XHRcdFx0XHQvLyBUT0RPIGhhbmRsZSBkaWFsb2dzIGFnYWluXHJcblx0XHRcdFx0XHRwYWdlRWxlbVJlZ2V4ID0gbmV3IFJlZ0V4cCggXCIoPFtePl0rXFxcXGJkYXRhLVwiICsgdGhpcy5fZ2V0TnMoKSArIFwicm9sZT1bXFxcIiddP3BhZ2VbXFxcIiddP1tePl0qPilcIiApLFxyXG5cclxuXHRcdFx0XHRcdGRhdGFVcmxSZWdleCA9IG5ldyBSZWdFeHAoIFwiXFxcXGJkYXRhLVwiICsgdGhpcy5fZ2V0TnMoKSArIFwidXJsPVtcXFwiJ10/KFteXFxcIic+XSopW1xcXCInXT9cIiApO1xyXG5cclxuXHRcdFx0XHQvLyBkYXRhLXVybCBtdXN0IGJlIHByb3ZpZGVkIGZvciB0aGUgYmFzZSB0YWcgc28gcmVzb3VyY2UgcmVxdWVzdHNcclxuXHRcdFx0XHQvLyBjYW4gYmUgZGlyZWN0ZWQgdG8gdGhlIGNvcnJlY3QgdXJsLiBsb2FkaW5nIGludG8gYSB0ZW1wcm9yYXJ5XHJcblx0XHRcdFx0Ly8gZWxlbWVudCBtYWtlcyB0aGVzZSByZXF1ZXN0cyBpbW1lZGlhdGVseVxyXG5cdFx0XHRcdGlmICggcGFnZUVsZW1SZWdleC50ZXN0KCBodG1sICkgJiZcclxuXHRcdFx0XHRcdFJlZ0V4cC4kMSAmJlxyXG5cdFx0XHRcdFx0ZGF0YVVybFJlZ2V4LnRlc3QoIFJlZ0V4cC4kMSApICYmXHJcblx0XHRcdFx0XHRSZWdFeHAuJDEgKSB7XHJcblx0XHRcdFx0XHRmaWxlVXJsID0gJC5tb2JpbGUucGF0aC5nZXRGaWxlUGF0aCggJChcIjxkaXY+XCIgKyBSZWdFeHAuJDEgKyBcIjwvZGl2PlwiKS50ZXh0KCkgKTtcclxuXHJcblx0XHRcdFx0XHQvLyBXZSBzcGVjaWZ5IHRoYXQsIGlmIGEgZGF0YS11cmwgYXR0cmlidXRlIGlzIGdpdmVuIG9uIHRoZSBwYWdlIGRpdiwgaXRzIHZhbHVlXHJcblx0XHRcdFx0XHQvLyBtdXN0IGJlIGdpdmVuIG5vbi1VUkwtZW5jb2RlZC4gSG93ZXZlciwgaW4gdGhpcyBwYXJ0IG9mIHRoZSBjb2RlLCBmaWxlVXJsIGlzXHJcblx0XHRcdFx0XHQvLyBhc3N1bWVkIHRvIGJlIFVSTC1lbmNvZGVkLCBzbyB3ZSBVUkwtZW5jb2RlIHRoZSByZXRyaWV2ZWQgdmFsdWUgaGVyZVxyXG5cdFx0XHRcdFx0ZmlsZVVybCA9IHRoaXMud2luZG93WyAwIF0uZW5jb2RlVVJJQ29tcG9uZW50KCBmaWxlVXJsICk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvL2RvbnQgdXBkYXRlIHRoZSBiYXNlIHRhZyBpZiB3ZSBhcmUgcHJlZmV0Y2hpbmdcclxuXHRcdFx0XHRpZiAoIHNldHRpbmdzLnByZWZldGNoID09PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0XHR0aGlzLl9nZXRCYXNlKCkuc2V0KCBmaWxlVXJsICk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb250ZW50ID0gdGhpcy5fcGFyc2UoIGh0bWwsIGZpbGVVcmwgKTtcclxuXHJcblx0XHRcdFx0dGhpcy5fc2V0TG9hZGVkVGl0bGUoIGNvbnRlbnQsIGh0bWwgKTtcclxuXHJcblx0XHRcdFx0Ly8gQWRkIHRoZSBjb250ZW50IHJlZmVyZW5jZSBhbmQgeGhyIHRvIG91ciB0cmlnZ2VyRGF0YS5cclxuXHRcdFx0XHR0cmlnZ2VyRGF0YS54aHIgPSB4aHI7XHJcblx0XHRcdFx0dHJpZ2dlckRhdGEudGV4dFN0YXR1cyA9IHRleHRTdGF0dXM7XHJcblxyXG5cdFx0XHRcdC8vIERFUFJFQ0FURURcclxuXHRcdFx0XHR0cmlnZ2VyRGF0YS5wYWdlID0gY29udGVudDtcclxuXHJcblx0XHRcdFx0dHJpZ2dlckRhdGEuY29udGVudCA9IGNvbnRlbnQ7XHJcblxyXG5cdFx0XHRcdHRyaWdnZXJEYXRhLnRvUGFnZSA9IGNvbnRlbnQ7XHJcblxyXG5cdFx0XHRcdC8vIElmIHRoZSBkZWZhdWx0IGJlaGF2aW9yIGlzIHByZXZlbnRlZCwgc3RvcCBoZXJlIVxyXG5cdFx0XHRcdC8vIE5vdGUgdGhhdCBpdCBpcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgdGhlIGxpc3RlbmVyL2hhbmRsZXJcclxuXHRcdFx0XHQvLyB0aGF0IGNhbGxlZCBwcmV2ZW50RGVmYXVsdCgpLCB0byByZXNvbHZlL3JlamVjdCB0aGVcclxuXHRcdFx0XHQvLyBkZWZlcnJlZCBvYmplY3Qgd2l0aGluIHRoZSB0cmlnZ2VyRGF0YS5cclxuXHRcdFx0XHRpZiAoIHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCggXCJsb2FkXCIsIHRyaWdnZXJEYXRhICkuZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyByZXdyaXRlIHNyYyBhbmQgaHJlZiBhdHRycyB0byB1c2UgYSBiYXNlIHVybCBpZiB0aGUgYmFzZSB0YWcgd29uJ3Qgd29ya1xyXG5cdFx0XHRcdGlmICggdGhpcy5faXNSZXdyaXRhYmxlQmFzZVRhZygpICYmIGNvbnRlbnQgKSB7XHJcblx0XHRcdFx0XHR0aGlzLl9nZXRCYXNlKCkucmV3cml0ZSggZmlsZVVybCwgY29udGVudCApO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dGhpcy5faW5jbHVkZSggY29udGVudCwgc2V0dGluZ3MgKTtcclxuXHJcblx0XHRcdFx0Ly8gUmVtb3ZlIGxvYWRpbmcgbWVzc2FnZS5cclxuXHRcdFx0XHRpZiAoIHNldHRpbmdzLnNob3dMb2FkTXNnICkge1xyXG5cdFx0XHRcdFx0dGhpcy5faGlkZUxvYWRpbmcoKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoIGFic1VybCwgc2V0dGluZ3MsIGNvbnRlbnQgKTtcclxuXHRcdFx0fSwgdGhpcyk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9sb2FkRGVmYXVsdHM6IHtcclxuXHRcdFx0dHlwZTogXCJnZXRcIixcclxuXHRcdFx0ZGF0YTogdW5kZWZpbmVkLFxyXG5cclxuXHRcdFx0Ly8gREVQUkVDQVRFRFxyXG5cdFx0XHRyZWxvYWRQYWdlOiBmYWxzZSxcclxuXHJcblx0XHRcdHJlbG9hZDogZmFsc2UsXHJcblxyXG5cdFx0XHQvLyBCeSBkZWZhdWx0IHdlIHJlbHkgb24gdGhlIHJvbGUgZGVmaW5lZCBieSB0aGUgQGRhdGEtcm9sZSBhdHRyaWJ1dGUuXHJcblx0XHRcdHJvbGU6IHVuZGVmaW5lZCxcclxuXHJcblx0XHRcdHNob3dMb2FkTXNnOiBmYWxzZSxcclxuXHJcblx0XHRcdC8vIFRoaXMgZGVsYXkgYWxsb3dzIGxvYWRzIHRoYXQgcHVsbCBmcm9tIGJyb3dzZXIgY2FjaGUgdG9cclxuXHRcdFx0Ly8gb2NjdXIgd2l0aG91dCBzaG93aW5nIHRoZSBsb2FkaW5nIG1lc3NhZ2UuXHJcblx0XHRcdGxvYWRNc2dEZWxheTogNTBcclxuXHRcdH0sXHJcblxyXG5cdFx0bG9hZDogZnVuY3Rpb24oIHVybCwgb3B0aW9ucyApIHtcclxuXHRcdFx0Ly8gVGhpcyBmdW5jdGlvbiB1c2VzIGRlZmVycmVkIG5vdGlmaWNhdGlvbnMgdG8gbGV0IGNhbGxlcnNcclxuXHRcdFx0Ly8ga25vdyB3aGVuIHRoZSBjb250ZW50IGlzIGRvbmUgbG9hZGluZywgb3IgaWYgYW4gZXJyb3IgaGFzIG9jY3VycmVkLlxyXG5cdFx0XHR2YXIgZGVmZXJyZWQgPSAoIG9wdGlvbnMgJiYgb3B0aW9ucy5kZWZlcnJlZCApIHx8ICQuRGVmZXJyZWQoKSxcclxuXHJcblx0XHRcdFx0Ly8gRXhhbWluaW5nIHRoZSBvcHRpb24gXCJyZWxvYWRQYWdlXCIgcGFzc2VkIGJ5IHRoZSB1c2VyIGlzIGRlcHJlY2F0ZWQgYXMgb2YgMS40LjBcclxuXHRcdFx0XHQvLyBhbmQgd2lsbCBiZSByZW1vdmVkIGluIDEuNS4wLlxyXG5cdFx0XHRcdC8vIENvcHkgb3B0aW9uIFwicmVsb2FkUGFnZVwiIHRvIFwicmVsb2FkXCIsIGJ1dCBvbmx5IGlmIG9wdGlvbiBcInJlbG9hZFwiIGlzIG5vdCBwcmVzZW50XHJcblx0XHRcdFx0cmVsb2FkT3B0aW9uRXh0ZW5zaW9uID1cclxuXHRcdFx0XHRcdCggKCBvcHRpb25zICYmIG9wdGlvbnMucmVsb2FkID09PSB1bmRlZmluZWQgJiZcclxuXHRcdFx0XHRcdFx0b3B0aW9ucy5yZWxvYWRQYWdlICE9PSB1bmRlZmluZWQgKSA/XHJcblx0XHRcdFx0XHRcdFx0eyByZWxvYWQ6IG9wdGlvbnMucmVsb2FkUGFnZSB9IDoge30gKSxcclxuXHJcblx0XHRcdFx0Ly8gVGhlIGRlZmF1bHQgbG9hZCBvcHRpb25zIHdpdGggb3ZlcnJpZGVzIHNwZWNpZmllZCBieSB0aGUgY2FsbGVyLlxyXG5cdFx0XHRcdHNldHRpbmdzID0gJC5leHRlbmQoIHt9LCB0aGlzLl9sb2FkRGVmYXVsdHMsIG9wdGlvbnMsIHJlbG9hZE9wdGlvbkV4dGVuc2lvbiApLFxyXG5cclxuXHRcdFx0XHQvLyBUaGUgRE9NIGVsZW1lbnQgZm9yIHRoZSBjb250ZW50IGFmdGVyIGl0IGhhcyBiZWVuIGxvYWRlZC5cclxuXHRcdFx0XHRjb250ZW50ID0gbnVsbCxcclxuXHJcblx0XHRcdFx0Ly8gVGhlIGFic29sdXRlIHZlcnNpb24gb2YgdGhlIFVSTCBwYXNzZWQgaW50byB0aGUgZnVuY3Rpb24uIFRoaXNcclxuXHRcdFx0XHQvLyB2ZXJzaW9uIG9mIHRoZSBVUkwgbWF5IGNvbnRhaW4gZGlhbG9nL3N1YmNvbnRlbnQgcGFyYW1zIGluIGl0LlxyXG5cdFx0XHRcdGFic1VybCA9ICQubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCB1cmwsIHRoaXMuX2ZpbmRCYXNlV2l0aERlZmF1bHQoKSApLFxyXG5cdFx0XHRcdGZpbGVVcmwsIGRhdGFVcmwsIHBibEV2ZW50LCB0cmlnZ2VyRGF0YTtcclxuXHJcblx0XHRcdC8vIElmIHRoZSBjYWxsZXIgcHJvdmlkZWQgZGF0YSwgYW5kIHdlJ3JlIHVzaW5nIFwiZ2V0XCIgcmVxdWVzdCxcclxuXHRcdFx0Ly8gYXBwZW5kIHRoZSBkYXRhIHRvIHRoZSBVUkwuXHJcblx0XHRcdGlmICggc2V0dGluZ3MuZGF0YSAmJiBzZXR0aW5ncy50eXBlID09PSBcImdldFwiICkge1xyXG5cdFx0XHRcdGFic1VybCA9ICQubW9iaWxlLnBhdGguYWRkU2VhcmNoUGFyYW1zKCBhYnNVcmwsIHNldHRpbmdzLmRhdGEgKTtcclxuXHRcdFx0XHRzZXR0aW5ncy5kYXRhID0gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBJZiB0aGUgY2FsbGVyIGlzIHVzaW5nIGEgXCJwb3N0XCIgcmVxdWVzdCwgcmVsb2FkIG11c3QgYmUgdHJ1ZVxyXG5cdFx0XHRpZiAoIHNldHRpbmdzLmRhdGEgJiYgc2V0dGluZ3MudHlwZSA9PT0gXCJwb3N0XCIgKSB7XHJcblx0XHRcdFx0c2V0dGluZ3MucmVsb2FkID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gVGhlIGFic29sdXRlIHZlcnNpb24gb2YgdGhlIFVSTCBtaW51cyBhbnkgZGlhbG9nL3N1YmNvbnRlbnQgcGFyYW1zLlxyXG5cdFx0XHQvLyBJbiBvdGhlcndvcmRzIHRoZSByZWFsIFVSTCBvZiB0aGUgY29udGVudCB0byBiZSBsb2FkZWQuXHJcblx0XHRcdGZpbGVVcmwgPSB0aGlzLl9jcmVhdGVGaWxlVXJsKCBhYnNVcmwgKTtcclxuXHJcblx0XHRcdC8vIFRoZSB2ZXJzaW9uIG9mIHRoZSBVcmwgYWN0dWFsbHkgc3RvcmVkIGluIHRoZSBkYXRhLXVybCBhdHRyaWJ1dGUgb2ZcclxuXHRcdFx0Ly8gdGhlIGNvbnRlbnQuIEZvciBlbWJlZGRlZCBjb250ZW50LCBpdCBpcyBqdXN0IHRoZSBpZCBvZiB0aGUgcGFnZS4gRm9yXHJcblx0XHRcdC8vIGNvbnRlbnQgd2l0aGluIHRoZSBzYW1lIGRvbWFpbiBhcyB0aGUgZG9jdW1lbnQgYmFzZSwgaXQgaXMgdGhlIHNpdGVcclxuXHRcdFx0Ly8gcmVsYXRpdmUgcGF0aC4gRm9yIGNyb3NzLWRvbWFpbiBjb250ZW50IChQaG9uZSBHYXAgb25seSkgdGhlIGVudGlyZVxyXG5cdFx0XHQvLyBhYnNvbHV0ZSBVcmwgaXMgdXNlZCB0byBsb2FkIHRoZSBjb250ZW50LlxyXG5cdFx0XHRkYXRhVXJsID0gdGhpcy5fY3JlYXRlRGF0YVVybCggYWJzVXJsICk7XHJcblxyXG5cdFx0XHRjb250ZW50ID0gdGhpcy5fZmluZCggYWJzVXJsICk7XHJcblxyXG5cdFx0XHQvLyBJZiBpdCBpc24ndCBhIHJlZmVyZW5jZSB0byB0aGUgZmlyc3QgY29udGVudCBhbmQgcmVmZXJzIHRvIG1pc3NpbmdcclxuXHRcdFx0Ly8gZW1iZWRkZWQgY29udGVudCByZWplY3QgdGhlIGRlZmVycmVkIGFuZCByZXR1cm5cclxuXHRcdFx0aWYgKCBjb250ZW50Lmxlbmd0aCA9PT0gMCAmJlxyXG5cdFx0XHRcdCQubW9iaWxlLnBhdGguaXNFbWJlZGRlZFBhZ2UoZmlsZVVybCkgJiZcclxuXHRcdFx0XHQhJC5tb2JpbGUucGF0aC5pc0ZpcnN0UGFnZVVybChmaWxlVXJsKSApIHtcclxuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoIGFic1VybCwgc2V0dGluZ3MgKTtcclxuXHRcdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBSZXNldCBiYXNlIHRvIHRoZSBkZWZhdWx0IGRvY3VtZW50IGJhc2VcclxuXHRcdFx0Ly8gVE9ETyBmaWd1cmUgb3V0IHdoeSB3ZSBkb2UgdGhpc1xyXG5cdFx0XHR0aGlzLl9nZXRCYXNlKCkucmVzZXQoKTtcclxuXHJcblx0XHRcdC8vIElmIHRoZSBjb250ZW50IHdlIGFyZSBpbnRlcmVzdGVkIGluIGlzIGFscmVhZHkgaW4gdGhlIERPTSxcclxuXHRcdFx0Ly8gYW5kIHRoZSBjYWxsZXIgZGlkIG5vdCBpbmRpY2F0ZSB0aGF0IHdlIHNob3VsZCBmb3JjZSBhXHJcblx0XHRcdC8vIHJlbG9hZCBvZiB0aGUgZmlsZSwgd2UgYXJlIGRvbmUuIFJlc29sdmUgdGhlIGRlZmVycnJlZCBzbyB0aGF0XHJcblx0XHRcdC8vIHVzZXJzIGNhbiBiaW5kIHRvIC5kb25lIG9uIHRoZSBwcm9taXNlXHJcblx0XHRcdGlmICggY29udGVudC5sZW5ndGggJiYgIXNldHRpbmdzLnJlbG9hZCApIHtcclxuXHRcdFx0XHR0aGlzLl9lbmhhbmNlKCBjb250ZW50LCBzZXR0aW5ncy5yb2xlICk7XHJcblx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZSggYWJzVXJsLCBzZXR0aW5ncywgY29udGVudCApO1xyXG5cclxuXHRcdFx0XHQvL2lmIHdlIGFyZSByZWxvYWRpbmcgdGhlIGNvbnRlbnQgbWFrZSBzdXJlIHdlIHVwZGF0ZVxyXG5cdFx0XHRcdC8vIHRoZSBiYXNlIGlmIGl0cyBub3QgYSBwcmVmZXRjaFxyXG5cdFx0XHRcdGlmICggIXNldHRpbmdzLnByZWZldGNoICkge1xyXG5cdFx0XHRcdFx0dGhpcy5fZ2V0QmFzZSgpLnNldCh1cmwpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dHJpZ2dlckRhdGEgPSB7XHJcblx0XHRcdFx0dXJsOiB1cmwsXHJcblx0XHRcdFx0YWJzVXJsOiBhYnNVcmwsXHJcblx0XHRcdFx0dG9QYWdlOiB1cmwsXHJcblx0XHRcdFx0cHJldlBhZ2U6IG9wdGlvbnMgPyBvcHRpb25zLmZyb21QYWdlIDogdW5kZWZpbmVkLFxyXG5cdFx0XHRcdGRhdGFVcmw6IGRhdGFVcmwsXHJcblx0XHRcdFx0ZGVmZXJyZWQ6IGRlZmVycmVkLFxyXG5cdFx0XHRcdG9wdGlvbnM6IHNldHRpbmdzXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBMZXQgbGlzdGVuZXJzIGtub3cgd2UncmUgYWJvdXQgdG8gbG9hZCBjb250ZW50LlxyXG5cdFx0XHRwYmxFdmVudCA9IHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCggXCJiZWZvcmVsb2FkXCIsIHRyaWdnZXJEYXRhICk7XHJcblxyXG5cdFx0XHQvLyBJZiB0aGUgZGVmYXVsdCBiZWhhdmlvciBpcyBwcmV2ZW50ZWQsIHN0b3AgaGVyZSFcclxuXHRcdFx0aWYgKCBwYmxFdmVudC5kZXByZWNhdGVkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgfHxcclxuXHRcdFx0XHRwYmxFdmVudC5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcclxuXHRcdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIHNldHRpbmdzLnNob3dMb2FkTXNnICkge1xyXG5cdFx0XHRcdHRoaXMuX3Nob3dMb2FkaW5nKCBzZXR0aW5ncy5sb2FkTXNnRGVsYXkgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gUmVzZXQgYmFzZSB0byB0aGUgZGVmYXVsdCBkb2N1bWVudCBiYXNlLlxyXG5cdFx0XHQvLyBvbmx5IHJlc2V0IGlmIHdlIGFyZSBub3QgcHJlZmV0Y2hpbmdcclxuXHRcdFx0aWYgKCBzZXR0aW5ncy5wcmVmZXRjaCA9PT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdHRoaXMuX2dldEJhc2UoKS5yZXNldCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoICEoICQubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyB8fFxyXG5cdFx0XHRcdCQubW9iaWxlLnBhdGguaXNTYW1lRG9tYWluKCQubW9iaWxlLnBhdGguZG9jdW1lbnRVcmwsIGFic1VybCApICkgKSB7XHJcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KCBhYnNVcmwsIHNldHRpbmdzICk7XHJcblx0XHRcdFx0cmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gTG9hZCB0aGUgbmV3IGNvbnRlbnQuXHJcblx0XHRcdCQuYWpheCh7XHJcblx0XHRcdFx0dXJsOiBmaWxlVXJsLFxyXG5cdFx0XHRcdHR5cGU6IHNldHRpbmdzLnR5cGUsXHJcblx0XHRcdFx0ZGF0YTogc2V0dGluZ3MuZGF0YSxcclxuXHRcdFx0XHRjb250ZW50VHlwZTogc2V0dGluZ3MuY29udGVudFR5cGUsXHJcblx0XHRcdFx0ZGF0YVR5cGU6IFwiaHRtbFwiLFxyXG5cdFx0XHRcdHN1Y2Nlc3M6IHRoaXMuX2xvYWRTdWNjZXNzKCBhYnNVcmwsIHRyaWdnZXJEYXRhLCBzZXR0aW5ncywgZGVmZXJyZWQgKSxcclxuXHRcdFx0XHRlcnJvcjogdGhpcy5fbG9hZEVycm9yKCBhYnNVcmwsIHRyaWdnZXJEYXRhLCBzZXR0aW5ncywgZGVmZXJyZWQgKVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9sb2FkRXJyb3I6IGZ1bmN0aW9uKCBhYnNVcmwsIHRyaWdnZXJEYXRhLCBzZXR0aW5ncywgZGVmZXJyZWQgKSB7XHJcblx0XHRcdHJldHVybiAkLnByb3h5KGZ1bmN0aW9uKCB4aHIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duICkge1xyXG5cdFx0XHRcdC8vc2V0IGJhc2UgYmFjayB0byBjdXJyZW50IHBhdGhcclxuXHRcdFx0XHR0aGlzLl9nZXRCYXNlKCkuc2V0KCAkLm1vYmlsZS5wYXRoLmdldCgpICk7XHJcblxyXG5cdFx0XHRcdC8vIEFkZCBlcnJvciBpbmZvIHRvIG91ciB0cmlnZ2VyRGF0YS5cclxuXHRcdFx0XHR0cmlnZ2VyRGF0YS54aHIgPSB4aHI7XHJcblx0XHRcdFx0dHJpZ2dlckRhdGEudGV4dFN0YXR1cyA9IHRleHRTdGF0dXM7XHJcblx0XHRcdFx0dHJpZ2dlckRhdGEuZXJyb3JUaHJvd24gPSBlcnJvclRocm93bjtcclxuXHJcblx0XHRcdFx0Ly8gTGV0IGxpc3RlbmVycyBrbm93IHRoZSBwYWdlIGxvYWQgZmFpbGVkLlxyXG5cdFx0XHRcdHZhciBwbGZFdmVudCA9IHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCggXCJsb2FkZmFpbGVkXCIsIHRyaWdnZXJEYXRhICk7XHJcblxyXG5cdFx0XHRcdC8vIElmIHRoZSBkZWZhdWx0IGJlaGF2aW9yIGlzIHByZXZlbnRlZCwgc3RvcCBoZXJlIVxyXG5cdFx0XHRcdC8vIE5vdGUgdGhhdCBpdCBpcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgdGhlIGxpc3RlbmVyL2hhbmRsZXJcclxuXHRcdFx0XHQvLyB0aGF0IGNhbGxlZCBwcmV2ZW50RGVmYXVsdCgpLCB0byByZXNvbHZlL3JlamVjdCB0aGVcclxuXHRcdFx0XHQvLyBkZWZlcnJlZCBvYmplY3Qgd2l0aGluIHRoZSB0cmlnZ2VyRGF0YS5cclxuXHRcdFx0XHRpZiAoIHBsZkV2ZW50LmRlcHJlY2F0ZWRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fFxyXG5cdFx0XHRcdFx0cGxmRXZlbnQuZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBSZW1vdmUgbG9hZGluZyBtZXNzYWdlLlxyXG5cdFx0XHRcdGlmICggc2V0dGluZ3Muc2hvd0xvYWRNc2cgKSB7XHJcblx0XHRcdFx0XHR0aGlzLl9zaG93RXJyb3IoKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGRlZmVycmVkLnJlamVjdCggYWJzVXJsLCBzZXR0aW5ncyApO1xyXG5cdFx0XHR9LCB0aGlzKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X2dldFRyYW5zaXRpb25IYW5kbGVyOiBmdW5jdGlvbiggdHJhbnNpdGlvbiApIHtcclxuXHRcdFx0dHJhbnNpdGlvbiA9ICQubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKCB0cmFuc2l0aW9uICk7XHJcblxyXG5cdFx0XHQvL2ZpbmQgdGhlIHRyYW5zaXRpb24gaGFuZGxlciBmb3IgdGhlIHNwZWNpZmllZCB0cmFuc2l0aW9uLiBJZiB0aGVyZVxyXG5cdFx0XHQvL2lzbid0IG9uZSBpbiBvdXIgdHJhbnNpdGlvbkhhbmRsZXJzIGRpY3Rpb25hcnksIHVzZSB0aGUgZGVmYXVsdCBvbmUuXHJcblx0XHRcdC8vY2FsbCB0aGUgaGFuZGxlciBpbW1lZGlhdGVseSB0byBraWNrLW9mZiB0aGUgdHJhbnNpdGlvbi5cclxuXHRcdFx0cmV0dXJuICQubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1sgdHJhbnNpdGlvbiBdIHx8ICQubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcjtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gVE9ETyBtb3ZlIGludG8gdHJhbnNpdGlvbiBoYW5kbGVycz9cclxuXHRcdF90cmlnZ2VyQ3NzVHJhbnNpdGlvbkV2ZW50czogZnVuY3Rpb24oIHRvLCBmcm9tLCBwcmVmaXggKSB7XHJcblx0XHRcdHZhciBzYW1lUGFnZSA9IGZhbHNlO1xyXG5cclxuXHRcdFx0cHJlZml4ID0gcHJlZml4IHx8IFwiXCI7XHJcblxyXG5cdFx0XHQvLyBUT0RPIGRlY2lkZSBpZiB0aGVzZSBldmVudHMgc2hvdWxkIGluIGZhY3QgYmUgdHJpZ2dlcmVkIG9uIHRoZSBjb250YWluZXJcclxuXHRcdFx0aWYgKCBmcm9tICkge1xyXG5cclxuXHRcdFx0XHQvL0NoZWNrIGlmIHRoaXMgaXMgYSBzYW1lIHBhZ2UgdHJhbnNpdGlvbiBhbmQgdGVsbCB0aGUgaGFuZGxlciBpbiBwYWdlXHJcblx0XHRcdFx0aWYoIHRvWzBdID09PSBmcm9tWzBdICl7XHJcblx0XHRcdFx0XHRzYW1lUGFnZSA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvL3RyaWdnZXIgYmVmb3JlIHNob3cvaGlkZSBldmVudHNcclxuXHRcdFx0XHQvLyBUT0RPIGRlcHJlY2F0ZSBuZXh0UGFnZSBpbiBmYXZvciBvZiBuZXh0XHJcblx0XHRcdFx0dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCBwcmVmaXggKyBcImhpZGVcIiwge1xyXG5cclxuXHRcdFx0XHRcdC8vIERlcHJlY2F0ZWQgaW4gMS40IHJlbW92ZSBpbiAxLjVcclxuXHRcdFx0XHRcdG5leHRQYWdlOiB0byxcclxuXHRcdFx0XHRcdHRvUGFnZTogdG8sXHJcblx0XHRcdFx0XHRwcmV2UGFnZTogZnJvbSxcclxuXHRcdFx0XHRcdHNhbWVQYWdlOiBzYW1lUGFnZVxyXG5cdFx0XHRcdH0sIGZyb20gKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gVE9ETyBkZXByZWNhdGUgcHJldlBhZ2UgaW4gZmF2b3Igb2YgcHJldmlvdXNcclxuXHRcdFx0dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCBwcmVmaXggKyBcInNob3dcIiwge1xyXG5cdFx0XHRcdHByZXZQYWdlOiBmcm9tIHx8ICQoIFwiXCIgKSxcclxuXHRcdFx0XHR0b1BhZ2U6IHRvXHJcblx0XHRcdH0sIHRvICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIFRPRE8gbWFrZSBwcml2YXRlIG9uY2UgY2hhbmdlIGhhcyBiZWVuIGRlZmluZWQgaW4gdGhlIHdpZGdldFxyXG5cdFx0X2Nzc1RyYW5zaXRpb246IGZ1bmN0aW9uKCB0bywgZnJvbSwgb3B0aW9ucyApIHtcclxuXHRcdFx0dmFyIHRyYW5zaXRpb24gPSBvcHRpb25zLnRyYW5zaXRpb24sXHJcblx0XHRcdFx0cmV2ZXJzZSA9IG9wdGlvbnMucmV2ZXJzZSxcclxuXHRcdFx0XHRkZWZlcnJlZCA9IG9wdGlvbnMuZGVmZXJyZWQsXHJcblx0XHRcdFx0VHJhbnNpdGlvbkhhbmRsZXIsXHJcblx0XHRcdFx0cHJvbWlzZTtcclxuXHJcblx0XHRcdHRoaXMuX3RyaWdnZXJDc3NUcmFuc2l0aW9uRXZlbnRzKCB0bywgZnJvbSwgXCJiZWZvcmVcIiApO1xyXG5cclxuXHRcdFx0Ly8gVE9ETyBwdXQgdGhpcyBpbiBhIGJpbmRpbmcgdG8gZXZlbnRzICpvdXRzaWRlKiB0aGUgd2lkZ2V0XHJcblx0XHRcdHRoaXMuX2hpZGVMb2FkaW5nKCk7XHJcblxyXG5cdFx0XHRUcmFuc2l0aW9uSGFuZGxlciA9IHRoaXMuX2dldFRyYW5zaXRpb25IYW5kbGVyKCB0cmFuc2l0aW9uICk7XHJcblxyXG5cdFx0XHRwcm9taXNlID0gKCBuZXcgVHJhbnNpdGlvbkhhbmRsZXIoIHRyYW5zaXRpb24sIHJldmVyc2UsIHRvLCBmcm9tICkgKS50cmFuc2l0aW9uKCk7XHJcblxyXG5cdFx0XHRwcm9taXNlLmRvbmUoICQucHJveHkoIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHRoaXMuX3RyaWdnZXJDc3NUcmFuc2l0aW9uRXZlbnRzKCB0bywgZnJvbSApO1xyXG5cdFx0XHR9LCB0aGlzICkpO1xyXG5cclxuXHRcdFx0Ly8gVE9ETyB0ZW1wb3JhcnkgYWNjb21vZGF0aW9uIG9mIGFyZ3VtZW50IGRlZmVycmVkXHJcblx0XHRcdHByb21pc2UuZG9uZShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlLmFwcGx5KCBkZWZlcnJlZCwgYXJndW1lbnRzICk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHRfcmVsZWFzZVRyYW5zaXRpb25Mb2NrOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly9yZWxlYXNlIHRyYW5zaXRpb24gbG9jayBzbyBuYXZpZ2F0aW9uIGlzIGZyZWUgYWdhaW5cclxuXHRcdFx0aXNQYWdlVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xyXG5cdFx0XHRpZiAoIHBhZ2VUcmFuc2l0aW9uUXVldWUubGVuZ3RoID4gMCApIHtcclxuXHRcdFx0XHQkLm1vYmlsZS5jaGFuZ2VQYWdlLmFwcGx5KCBudWxsLCBwYWdlVHJhbnNpdGlvblF1ZXVlLnBvcCgpICk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0X3JlbW92ZUFjdGl2ZUxpbmtDbGFzczogZnVuY3Rpb24oIGZvcmNlICkge1xyXG5cdFx0XHQvL2NsZWFyIG91dCB0aGUgYWN0aXZlIGJ1dHRvbiBzdGF0ZVxyXG5cdFx0XHQkLm1vYmlsZS5yZW1vdmVBY3RpdmVMaW5rQ2xhc3MoIGZvcmNlICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9sb2FkVXJsOiBmdW5jdGlvbiggdG8sIHRyaWdnZXJEYXRhLCBzZXR0aW5ncyApIHtcclxuXHRcdFx0Ly8gcHJlc2VydmUgdGhlIG9yaWdpbmFsIHRhcmdldCBhcyB0aGUgZGF0YVVybCB2YWx1ZSB3aWxsIGJlXHJcblx0XHRcdC8vIHNpbXBsaWZpZWQgZWcsIHJlbW92aW5nIHVpLXN0YXRlLCBhbmQgcmVtb3ZpbmcgcXVlcnkgcGFyYW1zXHJcblx0XHRcdC8vIGZyb20gdGhlIGhhc2ggdGhpcyBpcyBzbyB0aGF0IHVzZXJzIHdobyB3YW50IHRvIHVzZSBxdWVyeVxyXG5cdFx0XHQvLyBwYXJhbXMgaGF2ZSBhY2Nlc3MgdG8gdGhlbSBpbiB0aGUgZXZlbnQgYmluZGluZ3MgZm9yIHRoZSBwYWdlXHJcblx0XHRcdC8vIGxpZmUgY3ljbGUgU2VlIGlzc3VlICM1MDg1XHJcblx0XHRcdHNldHRpbmdzLnRhcmdldCA9IHRvO1xyXG5cdFx0XHRzZXR0aW5ncy5kZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcclxuXHJcblx0XHRcdHRoaXMubG9hZCggdG8sIHNldHRpbmdzICk7XHJcblxyXG5cdFx0XHRzZXR0aW5ncy5kZWZlcnJlZC5kb25lKCQucHJveHkoZnVuY3Rpb24oIHVybCwgb3B0aW9ucywgY29udGVudCApIHtcclxuXHRcdFx0XHRpc1BhZ2VUcmFuc2l0aW9uaW5nID0gZmFsc2U7XHJcblxyXG5cdFx0XHRcdC8vIHN0b3JlIHRoZSBvcmlnaW5hbCBhYnNvbHV0ZSB1cmwgc28gdGhhdCBpdCBjYW4gYmUgcHJvdmlkZWRcclxuXHRcdFx0XHQvLyB0byBldmVudHMgaW4gdGhlIHRyaWdnZXJEYXRhIG9mIHRoZSBzdWJzZXF1ZW50IGNoYW5nZVBhZ2UgY2FsbFxyXG5cdFx0XHRcdG9wdGlvbnMuYWJzVXJsID0gdHJpZ2dlckRhdGEuYWJzVXJsO1xyXG5cclxuXHRcdFx0XHR0aGlzLnRyYW5zaXRpb24oIGNvbnRlbnQsIHRyaWdnZXJEYXRhLCBvcHRpb25zICk7XHJcblx0XHRcdH0sIHRoaXMpKTtcclxuXHJcblx0XHRcdHNldHRpbmdzLmRlZmVycmVkLmZhaWwoJC5wcm94eShmdW5jdGlvbigvKiB1cmwsIG9wdGlvbnMgKi8pIHtcclxuXHRcdFx0XHR0aGlzLl9yZW1vdmVBY3RpdmVMaW5rQ2xhc3MoIHRydWUgKTtcclxuXHRcdFx0XHR0aGlzLl9yZWxlYXNlVHJhbnNpdGlvbkxvY2soKTtcclxuXHRcdFx0XHR0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoIFwiY2hhbmdlZmFpbGVkXCIsIHRyaWdnZXJEYXRhICk7XHJcblx0XHRcdH0sIHRoaXMpKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X3RyaWdnZXJQYWdlQmVmb3JlQ2hhbmdlOiBmdW5jdGlvbiggdG8sIHRyaWdnZXJEYXRhLCBzZXR0aW5ncyApIHtcclxuXHRcdFx0dmFyIHJldHVybkV2ZW50cztcclxuXHJcblx0XHRcdHRyaWdnZXJEYXRhLnByZXZQYWdlID0gdGhpcy5hY3RpdmVQYWdlO1xyXG5cdFx0XHQkLmV4dGVuZCggdHJpZ2dlckRhdGEsIHtcclxuXHRcdFx0XHR0b1BhZ2U6IHRvLFxyXG5cdFx0XHRcdG9wdGlvbnM6IHNldHRpbmdzXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gTk9URTogcHJlc2VydmUgdGhlIG9yaWdpbmFsIHRhcmdldCBhcyB0aGUgZGF0YVVybCB2YWx1ZSB3aWxsIGJlXHJcblx0XHRcdC8vIHNpbXBsaWZpZWQgZWcsIHJlbW92aW5nIHVpLXN0YXRlLCBhbmQgcmVtb3ZpbmcgcXVlcnkgcGFyYW1zIGZyb21cclxuXHRcdFx0Ly8gdGhlIGhhc2ggdGhpcyBpcyBzbyB0aGF0IHVzZXJzIHdobyB3YW50IHRvIHVzZSBxdWVyeSBwYXJhbXMgaGF2ZVxyXG5cdFx0XHQvLyBhY2Nlc3MgdG8gdGhlbSBpbiB0aGUgZXZlbnQgYmluZGluZ3MgZm9yIHRoZSBwYWdlIGxpZmUgY3ljbGVcclxuXHRcdFx0Ly8gU2VlIGlzc3VlICM1MDg1XHJcblx0XHRcdGlmICggJC50eXBlKHRvKSA9PT0gXCJzdHJpbmdcIiApIHtcclxuXHRcdFx0XHQvLyBpZiB0aGUgdG9QYWdlIGlzIGEgc3RyaW5nIHNpbXBseSBjb252ZXJ0IGl0XHJcblx0XHRcdFx0dHJpZ2dlckRhdGEuYWJzVXJsID0gJC5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIHRvLCB0aGlzLl9maW5kQmFzZVdpdGhEZWZhdWx0KCkgKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBpZiB0aGUgdG9QYWdlIGlzIGEgalF1ZXJ5IG9iamVjdCBncmFiIHRoZSBhYnNvbHV0ZSB1cmwgc3RvcmVkXHJcblx0XHRcdFx0Ly8gaW4gdGhlIGxvYWRQYWdlIGNhbGxiYWNrIHdoZXJlIGl0IGV4aXN0c1xyXG5cdFx0XHRcdHRyaWdnZXJEYXRhLmFic1VybCA9IHNldHRpbmdzLmFic1VybDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gTGV0IGxpc3RlbmVycyBrbm93IHdlJ3JlIGFib3V0IHRvIGNoYW5nZSB0aGUgY3VycmVudCBwYWdlLlxyXG5cdFx0XHRyZXR1cm5FdmVudHMgPSB0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoIFwiYmVmb3JlY2hhbmdlXCIsIHRyaWdnZXJEYXRhICk7XHJcblxyXG5cdFx0XHQvLyBJZiB0aGUgZGVmYXVsdCBiZWhhdmlvciBpcyBwcmV2ZW50ZWQsIHN0b3AgaGVyZSFcclxuXHRcdFx0aWYgKCByZXR1cm5FdmVudHMuZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgfHxcclxuXHRcdFx0XHRyZXR1cm5FdmVudHMuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9LFxyXG5cclxuXHRcdGNoYW5nZTogZnVuY3Rpb24oIHRvLCBvcHRpb25zICkge1xyXG5cdFx0XHQvLyBJZiB3ZSBhcmUgaW4gdGhlIG1pZHN0IG9mIGEgdHJhbnNpdGlvbiwgcXVldWUgdGhlIGN1cnJlbnQgcmVxdWVzdC5cclxuXHRcdFx0Ly8gV2UnbGwgY2FsbCBjaGFuZ2VQYWdlKCkgb25jZSB3ZSdyZSBkb25lIHdpdGggdGhlIGN1cnJlbnQgdHJhbnNpdGlvblxyXG5cdFx0XHQvLyB0byBzZXJ2aWNlIHRoZSByZXF1ZXN0LlxyXG5cdFx0XHRpZiAoIGlzUGFnZVRyYW5zaXRpb25pbmcgKSB7XHJcblx0XHRcdFx0cGFnZVRyYW5zaXRpb25RdWV1ZS51bnNoaWZ0KCBhcmd1bWVudHMgKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKCB7fSwgJC5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cywgb3B0aW9ucyApLFxyXG5cdFx0XHRcdHRyaWdnZXJEYXRhID0ge307XHJcblxyXG5cdFx0XHQvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIGZyb21QYWdlLlxyXG5cdFx0XHRzZXR0aW5ncy5mcm9tUGFnZSA9IHNldHRpbmdzLmZyb21QYWdlIHx8IHRoaXMuYWN0aXZlUGFnZTtcclxuXHJcblx0XHRcdC8vIGlmIHRoZSBwYWdlIGJlZm9yZWNoYW5nZSBkZWZhdWx0IGlzIHByZXZlbnRlZCByZXR1cm4gZWFybHlcclxuXHRcdFx0aWYgKCAhdGhpcy5fdHJpZ2dlclBhZ2VCZWZvcmVDaGFuZ2UodG8sIHRyaWdnZXJEYXRhLCBzZXR0aW5ncykgKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBXZSBhbGxvdyBcInBhZ2ViZWZvcmVjaGFuZ2VcIiBvYnNlcnZlcnMgdG8gbW9kaWZ5IHRoZSB0byBpblxyXG5cdFx0XHQvLyB0aGUgdHJpZ2dlciBkYXRhIHRvIGFsbG93IGZvciByZWRpcmVjdHMuIE1ha2Ugc3VyZSBvdXIgdG8gaXNcclxuXHRcdFx0Ly8gdXBkYXRlZC4gV2UgYWxzbyBuZWVkIHRvIHJlLWV2YWx1YXRlIHdoZXRoZXIgaXQgaXMgYSBzdHJpbmcsXHJcblx0XHRcdC8vIGJlY2F1c2UgYW4gb2JqZWN0IGNhbiBhbHNvIGJlIHJlcGxhY2VkIGJ5IGEgc3RyaW5nXHJcblx0XHRcdHRvID0gdHJpZ2dlckRhdGEudG9QYWdlO1xyXG5cclxuXHRcdFx0Ly8gSWYgdGhlIGNhbGxlciBwYXNzZWQgdXMgYSB1cmwsIGNhbGwgbG9hZFBhZ2UoKVxyXG5cdFx0XHQvLyB0byBtYWtlIHN1cmUgaXQgaXMgbG9hZGVkIGludG8gdGhlIERPTS4gV2UnbGwgbGlzdGVuXHJcblx0XHRcdC8vIHRvIHRoZSBwcm9taXNlIG9iamVjdCBpdCByZXR1cm5zIHNvIHdlIGtub3cgd2hlblxyXG5cdFx0XHQvLyBpdCBpcyBkb25lIGxvYWRpbmcgb3IgaWYgYW4gZXJyb3Igb2N1cnJlZC5cclxuXHRcdFx0aWYgKCAkLnR5cGUodG8pID09PSBcInN0cmluZ1wiICkge1xyXG5cdFx0XHRcdC8vIFNldCB0aGUgaXNQYWdlVHJhbnNpdGlvbmluZyBmbGFnIHRvIHByZXZlbnQgYW55IHJlcXVlc3RzIGZyb21cclxuXHRcdFx0XHQvLyBlbnRlcmluZyB0aGlzIG1ldGhvZCB3aGlsZSB3ZSBhcmUgaW4gdGhlIG1pZHN0IG9mIGxvYWRpbmcgYSBwYWdlXHJcblx0XHRcdFx0Ly8gb3IgdHJhbnNpdGlvbmluZy5cclxuXHRcdFx0XHRpc1BhZ2VUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0dGhpcy5fbG9hZFVybCggdG8sIHRyaWdnZXJEYXRhLCBzZXR0aW5ncyApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMudHJhbnNpdGlvbiggdG8sIHRyaWdnZXJEYXRhLCBzZXR0aW5ncyApO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdHRyYW5zaXRpb246IGZ1bmN0aW9uKCB0b1BhZ2UsIHRyaWdnZXJEYXRhLCBzZXR0aW5ncyApIHtcclxuXHRcdFx0dmFyIGZyb21QYWdlLCB1cmwsIHBhZ2VVcmwsIGZpbGVVcmwsXHJcblx0XHRcdFx0YWN0aXZlLCBhY3RpdmVJc0luaXRpYWxQYWdlLFxyXG5cdFx0XHRcdGhpc3RvcnlEaXIsIHBhZ2VUaXRsZSwgaXNEaWFsb2csXHJcblx0XHRcdFx0YWxyZWFkeVRoZXJlLCBuZXdQYWdlVGl0bGUsXHJcblx0XHRcdFx0cGFyYW1zLFx0Y3NzVHJhbnNpdGlvbkRlZmVycmVkLFxyXG5cdFx0XHRcdGJlZm9yZVRyYW5zaXRpb247XHJcblxyXG5cdFx0XHQvLyBJZiB3ZSBhcmUgaW4gdGhlIG1pZHN0IG9mIGEgdHJhbnNpdGlvbiwgcXVldWUgdGhlIGN1cnJlbnQgcmVxdWVzdC5cclxuXHRcdFx0Ly8gV2UnbGwgY2FsbCBjaGFuZ2VQYWdlKCkgb25jZSB3ZSdyZSBkb25lIHdpdGggdGhlIGN1cnJlbnQgdHJhbnNpdGlvblxyXG5cdFx0XHQvLyB0byBzZXJ2aWNlIHRoZSByZXF1ZXN0LlxyXG5cdFx0XHRpZiAoIGlzUGFnZVRyYW5zaXRpb25pbmcgKSB7XHJcblx0XHRcdFx0Ly8gbWFrZSBzdXJlIHRvIG9ubHkgcXVldWUgdGhlIHRvIGFuZCBzZXR0aW5ncyB2YWx1ZXMgc28gdGhlIGFyZ3VtZW50c1xyXG5cdFx0XHRcdC8vIHdvcmsgd2l0aCBhIGNhbGwgdG8gdGhlIGNoYW5nZSBtZXRob2RcclxuXHRcdFx0XHRwYWdlVHJhbnNpdGlvblF1ZXVlLnVuc2hpZnQoIFt0b1BhZ2UsIHNldHRpbmdzXSApO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gREVQUkVDQVRFRCAtIHRoaXMgY2FsbCBvbmx5LCBpbiBmYXZvciBvZiB0aGUgYmVmb3JlIHRyYW5zaXRpb25cclxuXHRcdFx0Ly8gaWYgdGhlIHBhZ2UgYmVmb3JlY2hhbmdlIGRlZmF1bHQgaXMgcHJldmVudGVkIHJldHVybiBlYXJseVxyXG5cdFx0XHRpZiAoICF0aGlzLl90cmlnZ2VyUGFnZUJlZm9yZUNoYW5nZSh0b1BhZ2UsIHRyaWdnZXJEYXRhLCBzZXR0aW5ncykgKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0cmlnZ2VyRGF0YS5wcmV2UGFnZSA9IHNldHRpbmdzLmZyb21QYWdlO1xyXG5cdFx0XHQvLyBpZiB0aGUgKGNvbnRlbnR8cGFnZSliZWZvcmV0cmFuc2l0aW9uIGRlZmF1bHQgaXMgcHJldmVudGVkIHJldHVybiBlYXJseVxyXG5cdFx0XHQvLyBOb3RlLCB3ZSBoYXZlIHRvIGNoZWNrIGZvciBib3RoIHRoZSBkZXByZWNhdGVkIGFuZCBuZXcgZXZlbnRzXHJcblx0XHRcdGJlZm9yZVRyYW5zaXRpb24gPSB0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoIFwiYmVmb3JldHJhbnNpdGlvblwiLCB0cmlnZ2VyRGF0YSApO1xyXG5cdFx0XHRpZiAoYmVmb3JlVHJhbnNpdGlvbi5kZXByZWNhdGVkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgfHxcclxuXHRcdFx0XHRiZWZvcmVUcmFuc2l0aW9uLmV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU2V0IHRoZSBpc1BhZ2VUcmFuc2l0aW9uaW5nIGZsYWcgdG8gcHJldmVudCBhbnkgcmVxdWVzdHMgZnJvbVxyXG5cdFx0XHQvLyBlbnRlcmluZyB0aGlzIG1ldGhvZCB3aGlsZSB3ZSBhcmUgaW4gdGhlIG1pZHN0IG9mIGxvYWRpbmcgYSBwYWdlXHJcblx0XHRcdC8vIG9yIHRyYW5zaXRpb25pbmcuXHJcblx0XHRcdGlzUGFnZVRyYW5zaXRpb25pbmcgPSB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBmaXJzdC1wYWdlIG9mIHRoZSBhcHBsaWNhdGlvbiwgd2UgbmVlZCB0byBtYWtlXHJcblx0XHRcdC8vIHN1cmUgc2V0dGluZ3MuZGF0YVVybCBpcyBzZXQgdG8gdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50IHVybC4gVGhpcyBhbGxvd3NcclxuXHRcdFx0Ly8gdXMgdG8gYXZvaWQgZ2VuZXJhdGluZyBhIGRvY3VtZW50IHVybCB3aXRoIGFuIGlkIGhhc2ggaW4gdGhlIGNhc2Ugd2hlcmUgdGhlXHJcblx0XHRcdC8vIGZpcnN0LXBhZ2Ugb2YgdGhlIGRvY3VtZW50IGhhcyBhbiBpZCBhdHRyaWJ1dGUgc3BlY2lmaWVkLlxyXG5cdFx0XHRpZiAoIHRvUGFnZVsgMCBdID09PSAkLm1vYmlsZS5maXJzdFBhZ2VbIDAgXSAmJiAhc2V0dGluZ3MuZGF0YVVybCApIHtcclxuXHRcdFx0XHRzZXR0aW5ncy5kYXRhVXJsID0gJC5tb2JpbGUucGF0aC5kb2N1bWVudFVybC5ocmVmTm9IYXNoO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBUaGUgY2FsbGVyIHBhc3NlZCB1cyBhIHJlYWwgcGFnZSBET00gZWxlbWVudC4gVXBkYXRlIG91clxyXG5cdFx0XHQvLyBpbnRlcm5hbCBzdGF0ZSBhbmQgdGhlbiB0cmlnZ2VyIGEgdHJhbnNpdGlvbiB0byB0aGUgcGFnZS5cclxuXHRcdFx0ZnJvbVBhZ2UgPSBzZXR0aW5ncy5mcm9tUGFnZTtcclxuXHRcdFx0dXJsID0gKCBzZXR0aW5ncy5kYXRhVXJsICYmICQubW9iaWxlLnBhdGguY29udmVydFVybFRvRGF0YVVybChzZXR0aW5ncy5kYXRhVXJsKSApIHx8XHJcblx0XHRcdFx0dG9QYWdlLmpxbURhdGEoIFwidXJsXCIgKTtcclxuXHJcblx0XHRcdC8vIFRoZSBwYWdlVXJsIHZhciBpcyB1c3VhbGx5IHRoZSBzYW1lIGFzIHVybCwgZXhjZXB0IHdoZW4gdXJsIGlzIG9ic2N1cmVkXHJcblx0XHRcdC8vIGFzIGEgZGlhbG9nIHVybC4gcGFnZVVybCBhbHdheXMgY29udGFpbnMgdGhlIGZpbGUgcGF0aFxyXG5cdFx0XHRwYWdlVXJsID0gdXJsO1xyXG5cdFx0XHRmaWxlVXJsID0gJC5tb2JpbGUucGF0aC5nZXRGaWxlUGF0aCggdXJsICk7XHJcblx0XHRcdGFjdGl2ZSA9ICQubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCk7XHJcblx0XHRcdGFjdGl2ZUlzSW5pdGlhbFBhZ2UgPSAkLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4ID09PSAwO1xyXG5cdFx0XHRoaXN0b3J5RGlyID0gMDtcclxuXHRcdFx0cGFnZVRpdGxlID0gZG9jdW1lbnQudGl0bGU7XHJcblx0XHRcdGlzRGlhbG9nID0gKCBzZXR0aW5ncy5yb2xlID09PSBcImRpYWxvZ1wiIHx8XHJcblx0XHRcdFx0dG9QYWdlLmpxbURhdGEoIFwicm9sZVwiICkgPT09IFwiZGlhbG9nXCIgKSAmJlxyXG5cdFx0XHRcdHRvUGFnZS5qcW1EYXRhKCBcImRpYWxvZ1wiICkgIT09IHRydWU7XHJcblxyXG5cdFx0XHQvLyBCeSBkZWZhdWx0LCB3ZSBwcmV2ZW50IGNoYW5nZVBhZ2UgcmVxdWVzdHMgd2hlbiB0aGUgZnJvbVBhZ2UgYW5kIHRvUGFnZVxyXG5cdFx0XHQvLyBhcmUgdGhlIHNhbWUgZWxlbWVudCwgYnV0IGZvbGtzIHRoYXQgZ2VuZXJhdGUgY29udGVudFxyXG5cdFx0XHQvLyBtYW51YWxseS9keW5hbWljYWxseSBhbmQgcmV1c2UgcGFnZXMgd2FudCB0byBiZSBhYmxlIHRvIHRyYW5zaXRpb24gdG9cclxuXHRcdFx0Ly8gdGhlIHNhbWUgcGFnZS4gVG8gYWxsb3cgdGhpcywgdGhleSB3aWxsIG5lZWQgdG8gY2hhbmdlIHRoZSBkZWZhdWx0XHJcblx0XHRcdC8vIHZhbHVlIG9mIGFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uIHRvIHRydWUsICpPUiosIHBhc3MgaXQgaW4gYXMgYW5cclxuXHRcdFx0Ly8gb3B0aW9uIHdoZW4gdGhleSBtYW51YWxseSBjYWxsIGNoYW5nZVBhZ2UoKS4gSXQgc2hvdWxkIGJlIG5vdGVkIHRoYXRcclxuXHRcdFx0Ly8gb3VyIGRlZmF1bHQgdHJhbnNpdGlvbiBhbmltYXRpb25zIGFzc3VtZSB0aGF0IHRoZSBmb3JtUGFnZSBhbmQgdG9QYWdlXHJcblx0XHRcdC8vIGFyZSBkaWZmZXJlbnQgZWxlbWVudHMsIHNvIHRoZXkgbWF5IGJlaGF2ZSB1bmV4cGVjdGVkbHkuIEl0IGlzIHVwIHRvXHJcblx0XHRcdC8vIHRoZSBkZXZlbG9wZXIgdGhhdCB0dXJucyBvbiB0aGUgYWxsb3dTYW1lUGFnZVRyYW5zaXRpb25hIG9wdGlvbiB0b1xyXG5cdFx0XHQvLyBlaXRoZXIgdHVybiBvZmYgdHJhbnNpdGlvbiBhbmltYXRpb25zLCBvciBtYWtlIHN1cmUgdGhhdCBhbiBhcHByb3ByaWF0ZVxyXG5cdFx0XHQvLyBhbmltYXRpb24gdHJhbnNpdGlvbiBpcyB1c2VkLlxyXG5cdFx0XHRpZiAoIGZyb21QYWdlICYmIGZyb21QYWdlWzBdID09PSB0b1BhZ2VbMF0gJiZcclxuXHRcdFx0XHQhc2V0dGluZ3MuYWxsb3dTYW1lUGFnZVRyYW5zaXRpb24gKSB7XHJcblxyXG5cdFx0XHRcdGlzUGFnZVRyYW5zaXRpb25pbmcgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoIFwidHJhbnNpdGlvblwiLCB0cmlnZ2VyRGF0YSApO1xyXG5cdFx0XHRcdHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCggXCJjaGFuZ2VcIiwgdHJpZ2dlckRhdGEgKTtcclxuXHJcblx0XHRcdFx0Ly8gRXZlbiBpZiB0aGVyZSBpcyBubyBwYWdlIGNoYW5nZSB0byBiZSBkb25lLCB3ZSBzaG91bGQga2VlcCB0aGVcclxuXHRcdFx0XHQvLyB1cmxIaXN0b3J5IGluIHN5bmMgd2l0aCB0aGUgaGFzaCBjaGFuZ2VzXHJcblx0XHRcdFx0aWYgKCBzZXR0aW5ncy5mcm9tSGFzaENoYW5nZSApIHtcclxuXHRcdFx0XHRcdCQubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZGlyZWN0KHsgdXJsOiB1cmwgfSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoZSBwYWdlIHdlIGFyZSBnaXZlbiBoYXMgYWxyZWFkeSBiZWVuIGVuaGFuY2VkLlxyXG5cdFx0XHR0b1BhZ2UucGFnZSh7IHJvbGU6IHNldHRpbmdzLnJvbGUgfSk7XHJcblxyXG5cdFx0XHQvLyBJZiB0aGUgY2hhbmdlUGFnZSByZXF1ZXN0IHdhcyBzZW50IGZyb20gYSBoYXNoQ2hhbmdlIGV2ZW50LCBjaGVjayB0b1xyXG5cdFx0XHQvLyBzZWUgaWYgdGhlIHBhZ2UgaXMgYWxyZWFkeSB3aXRoaW4gdGhlIHVybEhpc3Rvcnkgc3RhY2suIElmIHNvLCB3ZSdsbFxyXG5cdFx0XHQvLyBhc3N1bWUgdGhlIHVzZXIgaGl0IHRoZSBmb3J3YXJkL2JhY2sgYnV0dG9uIGFuZCB3aWxsIHRyeSB0byBtYXRjaCB0aGVcclxuXHRcdFx0Ly8gdHJhbnNpdGlvbiBhY2NvcmRpbmdseS5cclxuXHRcdFx0aWYgKCBzZXR0aW5ncy5mcm9tSGFzaENoYW5nZSApIHtcclxuXHRcdFx0XHRoaXN0b3J5RGlyID0gc2V0dGluZ3MuZGlyZWN0aW9uID09PSBcImJhY2tcIiA/IC0xIDogMTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gS2lsbCB0aGUga2V5Ym9hcmQuXHJcblx0XHRcdC8vIFhYWF9qYmxhczogV2UgbmVlZCB0byBzdG9wIGNyYXdsaW5nIHRoZSBlbnRpcmUgZG9jdW1lbnQgdG8ga2lsbCBmb2N1cy5cclxuXHRcdFx0Ly8gICAgICAgICAgICBJbnN0ZWFkLCB3ZSBzaG91bGQgYmUgdHJhY2tpbmcgZm9jdXMgd2l0aCBhIGRlbGVnYXRlKClcclxuXHRcdFx0Ly8gICAgICAgICAgICBoYW5kbGVyIHNvIHdlIGFscmVhZHkgaGF2ZSB0aGUgZWxlbWVudCBpbiBoYW5kIGF0IHRoaXNcclxuXHRcdFx0Ly8gICAgICAgICAgICBwb2ludC5cclxuXHRcdFx0Ly8gV3JhcCB0aGlzIGluIGEgdHJ5L2NhdGNoIGJsb2NrIHNpbmNlIElFOSB0aHJvdyBcIlVuc3BlY2lmaWVkIGVycm9yXCIgaWZcclxuXHRcdFx0Ly8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpcyB1bmRlZmluZWQgd2hlbiB3ZSBhcmUgaW4gYW4gSUZyYW1lLlxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGlmICggZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJlxyXG5cdFx0XHRcdFx0ZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcImJvZHlcIiApIHtcclxuXHJcblx0XHRcdFx0XHQkKCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICkuYmx1cigpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQkKCBcImlucHV0OmZvY3VzLCB0ZXh0YXJlYTpmb2N1cywgc2VsZWN0OmZvY3VzXCIgKS5ibHVyKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGNhdGNoKCBlICkge31cclxuXHJcblx0XHRcdC8vIFJlY29yZCB3aGV0aGVyIHdlIGFyZSBhdCBhIHBsYWNlIGluIGhpc3Rvcnkgd2hlcmUgYSBkaWFsb2cgdXNlZCB0byBiZSAtXHJcblx0XHRcdC8vIGlmIHNvLCBkbyBub3QgYWRkIGEgbmV3IGhpc3RvcnkgZW50cnkgYW5kIGRvIG5vdCBjaGFuZ2UgdGhlIGhhc2ggZWl0aGVyXHJcblx0XHRcdGFscmVhZHlUaGVyZSA9IGZhbHNlO1xyXG5cclxuXHRcdFx0Ly8gSWYgd2UncmUgZGlzcGxheWluZyB0aGUgcGFnZSBhcyBhIGRpYWxvZywgd2UgZG9uJ3Qgd2FudCB0aGUgdXJsXHJcblx0XHRcdC8vIGZvciB0aGUgZGlhbG9nIGNvbnRlbnQgdG8gYmUgdXNlZCBpbiB0aGUgaGFzaC4gSW5zdGVhZCwgd2Ugd2FudFxyXG5cdFx0XHQvLyB0byBhcHBlbmQgdGhlIGRpYWxvZ0hhc2hLZXkgdG8gdGhlIHVybCBvZiB0aGUgY3VycmVudCBwYWdlLlxyXG5cdFx0XHRpZiAoIGlzRGlhbG9nICYmIGFjdGl2ZSApIHtcclxuXHRcdFx0XHQvLyBvbiB0aGUgaW5pdGlhbCBwYWdlIGxvYWQgYWN0aXZlLnVybCBpcyB1bmRlZmluZWQgYW5kIGluIHRoYXQgY2FzZVxyXG5cdFx0XHRcdC8vIHNob3VsZCBiZSBhbiBlbXB0eSBzdHJpbmcuIE1vdmluZyB0aGUgdW5kZWZpbmVkIC0+IGVtcHR5IHN0cmluZyBiYWNrXHJcblx0XHRcdFx0Ly8gaW50byB1cmxIaXN0b3J5LmFkZE5ldyBzZWVtZWQgaW1wcnVkZW50IGdpdmVuIHVuZGVmaW5lZCBiZXR0ZXJcclxuXHRcdFx0XHQvLyByZXByZXNlbnRzIHRoZSB1cmwgc3RhdGVcclxuXHJcblx0XHRcdFx0Ly8gSWYgd2UgYXJlIGF0IGEgcGxhY2UgaW4gaGlzdG9yeSB0aGF0IG9uY2UgYmVsb25nZWQgdG8gYSBkaWFsb2csIHJldXNlXHJcblx0XHRcdFx0Ly8gdGhpcyBzdGF0ZSB3aXRob3V0IGFkZGluZyB0byB1cmxIaXN0b3J5IGFuZCB3aXRob3V0IG1vZGlmeWluZyB0aGVcclxuXHRcdFx0XHQvLyBoYXNoLiBIb3dldmVyLCBpZiBhIGRpYWxvZyBpcyBhbHJlYWR5IGRpc3BsYXllZCBhdCB0aGlzIHBvaW50LCBhbmRcclxuXHRcdFx0XHQvLyB3ZSdyZSBhYm91dCB0byBkaXNwbGF5IGFub3RoZXIgZGlhbG9nLCB0aGVuIHdlIG11c3QgYWRkIGFub3RoZXIgaGFzaFxyXG5cdFx0XHRcdC8vIGFuZCBoaXN0b3J5IGVudHJ5IG9uIHRvcCBzbyB0aGF0IG9uZSBtYXkgbmF2aWdhdGUgYmFjayB0byB0aGVcclxuXHRcdFx0XHQvLyBvcmlnaW5hbCBkaWFsb2dcclxuXHRcdFx0XHRpZiAoIGFjdGl2ZS51cmwgJiZcclxuXHRcdFx0XHRcdGFjdGl2ZS51cmwuaW5kZXhPZiggJC5tb2JpbGUuZGlhbG9nSGFzaEtleSApID4gLTEgJiZcclxuXHRcdFx0XHRcdHRoaXMuYWN0aXZlUGFnZSAmJlxyXG5cdFx0XHRcdFx0IXRoaXMuYWN0aXZlUGFnZS5oYXNDbGFzcyggXCJ1aS1kaWFsb2dcIiApICYmXHJcblx0XHRcdFx0XHQkLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFjdGl2ZUluZGV4ID4gMCApIHtcclxuXHJcblx0XHRcdFx0XHRzZXR0aW5ncy5jaGFuZ2VIYXNoID0gZmFsc2U7XHJcblx0XHRcdFx0XHRhbHJlYWR5VGhlcmUgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gTm9ybWFsbHksIHdlIHRhY2sgb24gYSBkaWFsb2cgaGFzaCBrZXksIGJ1dCBpZiB0aGlzIGlzIHRoZSBsb2NhdGlvblxyXG5cdFx0XHRcdC8vIG9mIGEgc3RhbGUgZGlhbG9nLCB3ZSByZXVzZSB0aGUgVVJMIGZyb20gdGhlIGVudHJ5XHJcblx0XHRcdFx0dXJsID0gKCBhY3RpdmUudXJsIHx8IFwiXCIgKTtcclxuXHJcblx0XHRcdFx0Ly8gYWNjb3VudCBmb3IgYWJzb2x1dGUgdXJscyBpbnN0ZWFkIG9mIGp1c3QgcmVsYXRpdmUgdXJscyB1c2UgYXMgaGFzaGVzXHJcblx0XHRcdFx0aWYgKCAhYWxyZWFkeVRoZXJlICYmIHVybC5pbmRleE9mKFwiI1wiKSA+IC0xICkge1xyXG5cdFx0XHRcdFx0dXJsICs9ICQubW9iaWxlLmRpYWxvZ0hhc2hLZXk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHVybCArPSBcIiNcIiArICQubW9iaWxlLmRpYWxvZ0hhc2hLZXk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBpZiB0aXRsZSBlbGVtZW50IHdhc24ndCBmb3VuZCwgdHJ5IHRoZSBwYWdlIGRpdiBkYXRhIGF0dHIgdG9vXHJcblx0XHRcdC8vIElmIHRoaXMgaXMgYSBkZWVwLWxpbmsgb3IgYSByZWxvYWQgKCBhY3RpdmUgPT09IHVuZGVmaW5lZCApIHRoZW4ganVzdFxyXG5cdFx0XHQvLyB1c2UgcGFnZVRpdGxlXHJcblx0XHRcdG5ld1BhZ2VUaXRsZSA9ICggIWFjdGl2ZSApID8gcGFnZVRpdGxlIDogdG9QYWdlLmpxbURhdGEoIFwidGl0bGVcIiApIHx8XHJcblx0XHRcdFx0dG9QYWdlLmNoaWxkcmVuKCBcIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpXCIgKS5maW5kKCBcIi51aS10aXRsZVwiICkudGV4dCgpO1xyXG5cdFx0XHRpZiAoICEhbmV3UGFnZVRpdGxlICYmIHBhZ2VUaXRsZSA9PT0gZG9jdW1lbnQudGl0bGUgKSB7XHJcblx0XHRcdFx0cGFnZVRpdGxlID0gbmV3UGFnZVRpdGxlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggIXRvUGFnZS5qcW1EYXRhKCBcInRpdGxlXCIgKSApIHtcclxuXHRcdFx0XHR0b1BhZ2UuanFtRGF0YSggXCJ0aXRsZVwiLCBwYWdlVGl0bGUgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gTWFrZSBzdXJlIHdlIGhhdmUgYSB0cmFuc2l0aW9uIGRlZmluZWQuXHJcblx0XHRcdHNldHRpbmdzLnRyYW5zaXRpb24gPSBzZXR0aW5ncy50cmFuc2l0aW9uIHx8XHJcblx0XHRcdFx0KCAoIGhpc3RvcnlEaXIgJiYgIWFjdGl2ZUlzSW5pdGlhbFBhZ2UgKSA/IGFjdGl2ZS50cmFuc2l0aW9uIDogdW5kZWZpbmVkICkgfHxcclxuXHRcdFx0XHQoIGlzRGlhbG9nID8gJC5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb24gOiAkLm1vYmlsZS5kZWZhdWx0UGFnZVRyYW5zaXRpb24gKTtcclxuXHJcblx0XHRcdC8vYWRkIHBhZ2UgdG8gaGlzdG9yeSBzdGFjayBpZiBpdCdzIG5vdCBiYWNrIG9yIGZvcndhcmRcclxuXHRcdFx0aWYgKCAhaGlzdG9yeURpciAmJiBhbHJlYWR5VGhlcmUgKSB7XHJcblx0XHRcdFx0JC5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5nZXRBY3RpdmUoKS5wYWdlVXJsID0gcGFnZVVybDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU2V0IHRoZSBsb2NhdGlvbiBoYXNoLlxyXG5cdFx0XHRpZiAoIHVybCAmJiAhc2V0dGluZ3MuZnJvbUhhc2hDaGFuZ2UgKSB7XHJcblxyXG5cdFx0XHRcdC8vIHJlYnVpbGRpbmcgdGhlIGhhc2ggaGVyZSBzaW5jZSB3ZSBsb29zZSBpdCBlYXJsaWVyIG9uXHJcblx0XHRcdFx0Ly8gVE9ETyBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWxseSBwYXNzZWQgaW4gcGF0aFxyXG5cdFx0XHRcdGlmICggISQubW9iaWxlLnBhdGguaXNQYXRoKCB1cmwgKSAmJiB1cmwuaW5kZXhPZiggXCIjXCIgKSA8IDAgKSB7XHJcblx0XHRcdFx0XHR1cmwgPSBcIiNcIiArIHVybDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFRPRE8gdGhlIHByb3BlcnR5IG5hbWVzIGhlcmUgYXJlIGp1c3Qgc2lsbHlcclxuXHRcdFx0XHRwYXJhbXMgPSB7XHJcblx0XHRcdFx0XHR0cmFuc2l0aW9uOiBzZXR0aW5ncy50cmFuc2l0aW9uLFxyXG5cdFx0XHRcdFx0dGl0bGU6IHBhZ2VUaXRsZSxcclxuXHRcdFx0XHRcdHBhZ2VVcmw6IHBhZ2VVcmwsXHJcblx0XHRcdFx0XHRyb2xlOiBzZXR0aW5ncy5yb2xlXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0aWYgKCBzZXR0aW5ncy5jaGFuZ2VIYXNoICE9PSBmYWxzZSAmJiAkLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCApIHtcclxuXHRcdFx0XHRcdCQubW9iaWxlLm5hdmlnYXRlKCB0aGlzLndpbmRvd1sgMCBdLmVuY29kZVVSSSggdXJsICksIHBhcmFtcywgdHJ1ZSk7XHJcblx0XHRcdFx0fSBlbHNlIGlmICggdG9QYWdlWyAwIF0gIT09ICQubW9iaWxlLmZpcnN0UGFnZVsgMCBdICkge1xyXG5cdFx0XHRcdFx0JC5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hZGQoIHVybCwgcGFyYW1zICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvL3NldCBwYWdlIHRpdGxlXHJcblx0XHRcdGRvY3VtZW50LnRpdGxlID0gcGFnZVRpdGxlO1xyXG5cclxuXHRcdFx0Ly9zZXQgXCJ0b1BhZ2VcIiBhcyBhY3RpdmVQYWdlIGRlcHJlY2F0ZWQgaW4gMS40IHJlbW92ZSBpbiAxLjVcclxuXHRcdFx0JC5tb2JpbGUuYWN0aXZlUGFnZSA9IHRvUGFnZTtcclxuXHJcblx0XHRcdC8vbmV3IHdheSB0byBoYW5kbGUgYWN0aXZlUGFnZVxyXG5cdFx0XHR0aGlzLmFjdGl2ZVBhZ2UgPSB0b1BhZ2U7XHJcblxyXG5cdFx0XHQvLyBJZiB3ZSdyZSBuYXZpZ2F0aW5nIGJhY2sgaW4gdGhlIFVSTCBoaXN0b3J5LCBzZXQgcmV2ZXJzZSBhY2NvcmRpbmdseS5cclxuXHRcdFx0c2V0dGluZ3MucmV2ZXJzZSA9IHNldHRpbmdzLnJldmVyc2UgfHwgaGlzdG9yeURpciA8IDA7XHJcblxyXG5cdFx0XHRjc3NUcmFuc2l0aW9uRGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XHJcblxyXG5cdFx0XHR0aGlzLl9jc3NUcmFuc2l0aW9uKHRvUGFnZSwgZnJvbVBhZ2UsIHtcclxuXHRcdFx0XHR0cmFuc2l0aW9uOiBzZXR0aW5ncy50cmFuc2l0aW9uLFxyXG5cdFx0XHRcdHJldmVyc2U6IHNldHRpbmdzLnJldmVyc2UsXHJcblx0XHRcdFx0ZGVmZXJyZWQ6IGNzc1RyYW5zaXRpb25EZWZlcnJlZFxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGNzc1RyYW5zaXRpb25EZWZlcnJlZC5kb25lKCQucHJveHkoZnVuY3Rpb24oIG5hbWUsIHJldmVyc2UsICR0bywgJGZyb20sIGFscmVhZHlGb2N1c2VkICkge1xyXG5cdFx0XHRcdCQubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcygpO1xyXG5cclxuXHRcdFx0XHQvL2lmIHRoZXJlJ3MgYSBkdXBsaWNhdGVDYWNoZWRQYWdlLCByZW1vdmUgaXQgZnJvbSB0aGUgRE9NIG5vdyB0aGF0IGl0J3MgaGlkZGVuXHJcblx0XHRcdFx0aWYgKCBzZXR0aW5ncy5kdXBsaWNhdGVDYWNoZWRQYWdlICkge1xyXG5cdFx0XHRcdFx0c2V0dGluZ3MuZHVwbGljYXRlQ2FjaGVkUGFnZS5yZW1vdmUoKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIGRlc3BpdGUgdmlzaWJpbGl0eTogaGlkZGVuIGFkZHJlc3NlcyBpc3N1ZSAjMjk2NVxyXG5cdFx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5LW1vYmlsZS9pc3N1ZXMvMjk2NVxyXG5cdFx0XHRcdGlmICggIWFscmVhZHlGb2N1c2VkICkge1xyXG5cdFx0XHRcdFx0JC5tb2JpbGUuZm9jdXNQYWdlKCB0b1BhZ2UgKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHRoaXMuX3JlbGVhc2VUcmFuc2l0aW9uTG9jaygpO1xyXG5cdFx0XHRcdHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZCggXCJ0cmFuc2l0aW9uXCIsIHRyaWdnZXJEYXRhICk7XHJcblx0XHRcdFx0dGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKCBcImNoYW5nZVwiLCB0cmlnZ2VyRGF0YSApO1xyXG5cdFx0XHR9LCB0aGlzKSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIGRldGVybWluZSB0aGUgY3VycmVudCBiYXNlIHVybFxyXG5cdFx0X2ZpbmRCYXNlV2l0aERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgY2xvc2VzdEJhc2UgPSAoIHRoaXMuYWN0aXZlUGFnZSAmJlxyXG5cdFx0XHQkLm1vYmlsZS5nZXRDbG9zZXN0QmFzZVVybCggdGhpcy5hY3RpdmVQYWdlICkgKTtcclxuXHRcdHJldHVybiBjbG9zZXN0QmFzZSB8fCAkLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHQvLyBUaGUgZm9sbG93aW5nIGhhbmRsZXJzIHNob3VsZCBiZSBib3VuZCBhZnRlciBtb2JpbGVpbml0IGhhcyBiZWVuIHRyaWdnZXJlZFxyXG5cdC8vIHRoZSBmb2xsb3dpbmcgZGVmZXJyZWQgaXMgcmVzb2x2ZWQgaW4gdGhlIGluaXQgZmlsZVxyXG5cdCQubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XHJcblxyXG5cdC8vdGhlc2UgdmFyaWFibGVzIG1ha2UgYWxsIHBhZ2UgY29udGFpbmVycyB1c2UgdGhlIHNhbWUgcXVldWUgYW5kIG9ubHkgbmF2aWdhdGUgb25lIGF0IGEgdGltZVxyXG5cdC8vIHF1ZXVlIHRvIGhvbGQgc2ltdWx0YW5pb3VzIHBhZ2UgdHJhbnNpdGlvbnNcclxuXHR2YXIgcGFnZVRyYW5zaXRpb25RdWV1ZSA9IFtdLFxyXG5cclxuXHRcdC8vIGluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCBwYWdlIGlzIGluIHByb2Nlc3Mgb2YgdHJhbnNpdGlvbmluZ1xyXG5cdFx0aXNQYWdlVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblxyXG5cdFx0Ly8gcmVzb2x2ZWQgb24gZG9tcmVhZHlcclxuXHR2YXIgZG9tcmVhZHlEZWZlcnJlZCA9ICQuRGVmZXJyZWQoKSxcclxuXHJcblx0XHQvLyByZXNvbHZlZCBhbmQgbnVsbGVkIG9uIHdpbmRvdy5sb2FkKClcclxuXHRcdGxvYWREZWZlcnJlZCA9ICQuRGVmZXJyZWQoKSxcclxuXHJcblx0XHQvLyBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBhYm92ZSBkZWZlcnJlZFxyXG5cdFx0cGFnZUlzRnVsbHlMb2FkZWQgPSBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdC8vIFJlc29sdmUgYW5kIG51bGwgdGhlIGRlZmVycmVkXHJcblx0XHRcdGxvYWREZWZlcnJlZC5yZXNvbHZlKCk7XHJcblx0XHRcdGxvYWREZWZlcnJlZCA9IG51bGw7XHJcblx0XHR9LFxyXG5cclxuXHRcdGRvY3VtZW50VXJsID0gJC5tb2JpbGUucGF0aC5kb2N1bWVudFVybCxcclxuXHJcblx0XHQvLyB1c2VkIHRvIHRyYWNrIGxhc3QgdmNsaWNrZWQgZWxlbWVudCB0byBtYWtlIHN1cmUgaXRzIHZhbHVlIGlzIGFkZGVkIHRvIGZvcm0gZGF0YVxyXG5cdFx0JGxhc3RWQ2xpY2tlZCA9IG51bGw7XHJcblxyXG5cdC8qIEV2ZW50IEJpbmRpbmdzIC0gaGFzaGNoYW5nZSwgc3VibWl0LCBhbmQgY2xpY2sgKi9cclxuXHRmdW5jdGlvbiBmaW5kQ2xvc2VzdExpbmsoIGVsZSApXHR7XHJcblx0XHR3aGlsZSAoIGVsZSApIHtcclxuXHRcdFx0Ly8gTG9vayBmb3IgdGhlIGNsb3Nlc3QgZWxlbWVudCB3aXRoIGEgbm9kZU5hbWUgb2YgXCJhXCIuXHJcblx0XHRcdC8vIE5vdGUgdGhhdCB3ZSBhcmUgY2hlY2tpbmcgaWYgd2UgaGF2ZSBhIHZhbGlkIG5vZGVOYW1lXHJcblx0XHRcdC8vIGJlZm9yZSBhdHRlbXB0aW5nIHRvIGFjY2VzcyBpdC4gVGhpcyBpcyBiZWNhdXNlIHRoZVxyXG5cdFx0XHQvLyBub2RlIHdlIGdldCBjYWxsZWQgd2l0aCBjb3VsZCBoYXZlIG9yaWdpbmF0ZWQgZnJvbSB3aXRoaW5cclxuXHRcdFx0Ly8gYW4gZW1iZWRkZWQgU1ZHIGRvY3VtZW50IHdoZXJlIHNvbWUgc3ltYm9sIGluc3RhbmNlIGVsZW1lbnRzXHJcblx0XHRcdC8vIGRvbid0IGhhdmUgbm9kZU5hbWUgZGVmaW5lZCBvbiB0aGVtLCBvciBzdHJpbmdzIGFyZSBvZiB0eXBlXHJcblx0XHRcdC8vIFNWR0FuaW1hdGVkU3RyaW5nLlxyXG5cdFx0XHRpZiAoICggdHlwZW9mIGVsZS5ub2RlTmFtZSA9PT0gXCJzdHJpbmdcIiApICYmIGVsZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImFcIiApIHtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRlbGUgPSBlbGUucGFyZW50Tm9kZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBlbGU7XHJcblx0fVxyXG5cclxuXHQkLm1vYmlsZS5sb2FkUGFnZSA9IGZ1bmN0aW9uKCB1cmwsIG9wdHMgKSB7XHJcblx0XHR2YXIgY29udGFpbmVyO1xyXG5cclxuXHRcdG9wdHMgPSBvcHRzIHx8IHt9O1xyXG5cdFx0Y29udGFpbmVyID0gKCBvcHRzLnBhZ2VDb250YWluZXIgfHwgJC5tb2JpbGUucGFnZUNvbnRhaW5lciApO1xyXG5cclxuXHRcdC8vIGNyZWF0ZSB0aGUgZGVmZXJyZWQgdGhhdCB3aWxsIGJlIHN1cHBsaWVkIHRvIGxvYWRQYWdlIGNhbGxlcnNcclxuXHRcdC8vIGFuZCByZXNvbHZlZCBieSB0aGUgY29udGVudCB3aWRnZXQncyBsb2FkIG1ldGhvZFxyXG5cdFx0b3B0cy5kZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcclxuXHJcblx0XHQvLyBQcmVmZXJyaW5nIHRvIGFsbG93IGV4Y2VwdGlvbnMgZm9yIHVuaW5pdGlhbGl6ZWQgb3B0cy5wYWdlQ29udGFpbmVyXHJcblx0XHQvLyB3aWRnZXRzIHNvIHdlIGtub3cgaWYgd2UgbmVlZCB0byBmb3JjZSBpbml0IGhlcmUgZm9yIHVzZXJzXHJcblx0XHRjb250YWluZXIucGFnZWNvbnRhaW5lciggXCJsb2FkXCIsIHVybCwgb3B0cyApO1xyXG5cclxuXHRcdC8vIHByb3ZpZGUgdGhlIGRlZmVycmVkXHJcblx0XHRyZXR1cm4gb3B0cy5kZWZlcnJlZC5wcm9taXNlKCk7XHJcblx0fTtcclxuXHJcblx0Ly9kZWZpbmUgdmFycyBmb3IgaW50ZXJhbCB1c2VcclxuXHJcblx0LyogaW50ZXJuYWwgdXRpbGl0eSBmdW5jdGlvbnMgKi9cclxuXHJcblx0Ly8gTk9URSBJc3N1ZSAjNDk1MCBBbmRyb2lkIHBob25lZ2FwIGRvZXNuJ3QgbmF2aWdhdGUgYmFjayBwcm9wZXJseVxyXG5cdC8vICAgICAgd2hlbiBhIGZ1bGwgcGFnZSByZWZyZXNoIGhhcyB0YWtlbiBwbGFjZS4gSXQgYXBwZWFycyB0aGF0IGhhc2hjaGFuZ2VcclxuXHQvLyAgICAgIGFuZCByZXBsYWNlc3RhdGUgaGlzdG9yeSBhbHRlcmF0aW9ucyB3b3JrIGZpbmUgYnV0IHdlIG5lZWQgdG8gc3VwcG9ydFxyXG5cdC8vICAgICAgYm90aCBmb3JtcyBvZiBoaXN0b3J5IHRyYXZlcnNhbCBpbiBvdXIgY29kZSB0aGF0IHVzZXMgYmFja3dhcmQgaGlzdG9yeVxyXG5cdC8vICAgICAgbW92ZW1lbnRcclxuXHQkLm1vYmlsZS5iYWNrID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgbmF2ID0gd2luZG93Lm5hdmlnYXRvcjtcclxuXHJcblx0XHQvLyBpZiB0aGUgc2V0dGluZyBpcyBvbiBhbmQgdGhlIG5hdmlnYXRvciBvYmplY3QgaXNcclxuXHRcdC8vIGF2YWlsYWJsZSB1c2UgdGhlIHBob25lZ2FwIG5hdmlnYXRpb24gY2FwYWJpbGl0eVxyXG5cdFx0aWYgKCB0aGlzLnBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQgJiZcclxuXHRcdFx0bmF2ICYmXHJcblx0XHRcdG5hdi5hcHAgJiZcclxuXHRcdFx0bmF2LmFwcC5iYWNrSGlzdG9yeSApIHtcclxuXHRcdFx0bmF2LmFwcC5iYWNrSGlzdG9yeSgpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0JC5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKCBcImJhY2tcIiApO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdC8vIERpcmVjdCBmb2N1cyB0byB0aGUgcGFnZSB0aXRsZSwgb3Igb3RoZXJ3aXNlIGZpcnN0IGZvY3VzYWJsZSBlbGVtZW50XHJcblx0JC5tb2JpbGUuZm9jdXNQYWdlID0gZnVuY3Rpb24gKCBwYWdlICkge1xyXG5cdFx0dmFyIGF1dG9mb2N1cyA9IHBhZ2UuZmluZCggXCJbYXV0b2ZvY3VzXVwiICksXHJcblx0XHRcdHBhZ2VUaXRsZSA9IHBhZ2UuZmluZCggXCIudWktdGl0bGU6ZXEoMClcIiApO1xyXG5cclxuXHRcdGlmICggYXV0b2ZvY3VzLmxlbmd0aCApIHtcclxuXHRcdFx0YXV0b2ZvY3VzLmZvY3VzKCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIHBhZ2VUaXRsZS5sZW5ndGggKSB7XHJcblx0XHRcdHBhZ2VUaXRsZS5mb2N1cygpO1xyXG5cdFx0fSBlbHNle1xyXG5cdFx0XHRwYWdlLmZvY3VzKCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gTm8tb3AgaW1wbGVtZW50YXRpb24gb2YgdHJhbnNpdGlvbiBkZWdyYWRhdGlvblxyXG5cdCQubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uID0gJC5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24gfHwgZnVuY3Rpb24oIHRyYW5zaXRpb24gKSB7XHJcblx0XHRyZXR1cm4gdHJhbnNpdGlvbjtcclxuXHR9O1xyXG5cclxuXHQvLyBFeHBvc2VkICQubW9iaWxlIG1ldGhvZHNcclxuXHJcblx0JC5tb2JpbGUuY2hhbmdlUGFnZSA9IGZ1bmN0aW9uKCB0bywgb3B0aW9ucyApIHtcclxuXHRcdCQubW9iaWxlLnBhZ2VDb250YWluZXIucGFnZWNvbnRhaW5lciggXCJjaGFuZ2VcIiwgdG8sIG9wdGlvbnMgKTtcclxuXHR9O1xyXG5cclxuXHQkLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzID0ge1xyXG5cdFx0dHJhbnNpdGlvbjogdW5kZWZpbmVkLFxyXG5cdFx0cmV2ZXJzZTogZmFsc2UsXHJcblx0XHRjaGFuZ2VIYXNoOiB0cnVlLFxyXG5cdFx0ZnJvbUhhc2hDaGFuZ2U6IGZhbHNlLFxyXG5cdFx0cm9sZTogdW5kZWZpbmVkLCAvLyBCeSBkZWZhdWx0IHdlIHJlbHkgb24gdGhlIHJvbGUgZGVmaW5lZCBieSB0aGUgQGRhdGEtcm9sZSBhdHRyaWJ1dGUuXHJcblx0XHRkdXBsaWNhdGVDYWNoZWRQYWdlOiB1bmRlZmluZWQsXHJcblx0XHRwYWdlQ29udGFpbmVyOiB1bmRlZmluZWQsXHJcblx0XHRzaG93TG9hZE1zZzogdHJ1ZSwgLy9sb2FkaW5nIG1lc3NhZ2Ugc2hvd3MgYnkgZGVmYXVsdCB3aGVuIHBhZ2VzIGFyZSBiZWluZyBmZXRjaGVkIGR1cmluZyBjaGFuZ2VQYWdlXHJcblx0XHRkYXRhVXJsOiB1bmRlZmluZWQsXHJcblx0XHRmcm9tUGFnZTogdW5kZWZpbmVkLFxyXG5cdFx0YWxsb3dTYW1lUGFnZVRyYW5zaXRpb246IGZhbHNlXHJcblx0fTtcclxuXHJcblx0JC5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBnZXRBamF4Rm9ybURhdGEgPSBmdW5jdGlvbiggJGZvcm0sIGNhbGN1bGF0ZU9ubHkgKSB7XHJcblx0XHRcdHZhciB1cmwsIHJldCA9IHRydWUsIGZvcm1EYXRhLCB2Y2xpY2tlZE5hbWUsIG1ldGhvZDtcclxuXHRcdFx0aWYgKCAhJC5tb2JpbGUuYWpheEVuYWJsZWQgfHxcclxuXHRcdFx0XHRcdC8vIHRlc3QgdGhhdCB0aGUgZm9ybSBpcywgaXRzZWxmLCBhamF4IGZhbHNlXHJcblx0XHRcdFx0XHQkZm9ybS5pcyggXCI6anFtRGF0YShhamF4PSdmYWxzZScpXCIgKSB8fFxyXG5cdFx0XHRcdFx0Ly8gdGVzdCB0aGF0ICQubW9iaWxlLmlnbm9yZUNvbnRlbnRFbmFibGVkIGlzIHNldCBhbmRcclxuXHRcdFx0XHRcdC8vIHRoZSBmb3JtIG9yIG9uZSBvZiBpdCdzIHBhcmVudHMgaXMgYWpheD1mYWxzZVxyXG5cdFx0XHRcdFx0ISRmb3JtLmpxbUhpamFja2FibGUoKS5sZW5ndGggfHxcclxuXHRcdFx0XHRcdCRmb3JtLmF0dHIoIFwidGFyZ2V0XCIgKSApIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHVybCA9ICggJGxhc3RWQ2xpY2tlZCAmJiAkbGFzdFZDbGlja2VkLmF0dHIoIFwiZm9ybWFjdGlvblwiICkgKSB8fFxyXG5cdFx0XHRcdCRmb3JtLmF0dHIoIFwiYWN0aW9uXCIgKTtcclxuXHRcdFx0bWV0aG9kID0gKCAkZm9ybS5hdHRyKCBcIm1ldGhvZFwiICkgfHwgXCJnZXRcIiApLnRvTG93ZXJDYXNlKCk7XHJcblxyXG5cdFx0XHQvLyBJZiBubyBhY3Rpb24gaXMgc3BlY2lmaWVkLCBicm93c2VycyBkZWZhdWx0IHRvIHVzaW5nIHRoZVxyXG5cdFx0XHQvLyBVUkwgb2YgdGhlIGRvY3VtZW50IGNvbnRhaW5pbmcgdGhlIGZvcm0uIFNpbmNlIHdlIGR5bmFtaWNhbGx5XHJcblx0XHRcdC8vIHB1bGwgaW4gcGFnZXMgZnJvbSBleHRlcm5hbCBkb2N1bWVudHMsIHRoZSBmb3JtIHNob3VsZCBzdWJtaXRcclxuXHRcdFx0Ly8gdG8gdGhlIFVSTCBmb3IgdGhlIHNvdXJjZSBkb2N1bWVudCBvZiB0aGUgcGFnZSBjb250YWluaW5nXHJcblx0XHRcdC8vIHRoZSBmb3JtLlxyXG5cdFx0XHRpZiAoICF1cmwgKSB7XHJcblx0XHRcdFx0Ly8gR2V0IHRoZSBAZGF0YS11cmwgZm9yIHRoZSBwYWdlIGNvbnRhaW5pbmcgdGhlIGZvcm0uXHJcblx0XHRcdFx0dXJsID0gJC5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwoICRmb3JtICk7XHJcblxyXG5cdFx0XHRcdC8vIE5PVEU6IElmIHRoZSBtZXRob2QgaXMgXCJnZXRcIiwgd2UgbmVlZCB0byBzdHJpcCBvZmYgdGhlIHF1ZXJ5IHN0cmluZ1xyXG5cdFx0XHRcdC8vIGJlY2F1c2UgaXQgd2lsbCBnZXQgcmVwbGFjZWQgd2l0aCB0aGUgbmV3IGZvcm0gZGF0YS4gU2VlIGlzc3VlICM1NzEwLlxyXG5cdFx0XHRcdGlmICggbWV0aG9kID09PSBcImdldFwiICkge1xyXG5cdFx0XHRcdFx0dXJsID0gJC5tb2JpbGUucGF0aC5wYXJzZVVybCggdXJsICkuaHJlZk5vU2VhcmNoO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKCB1cmwgPT09ICQubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2ggKSB7XHJcblx0XHRcdFx0XHQvLyBUaGUgdXJsIHdlIGdvdCBiYWNrIG1hdGNoZXMgdGhlIGRvY3VtZW50IGJhc2UsXHJcblx0XHRcdFx0XHQvLyB3aGljaCBtZWFucyB0aGUgcGFnZSBtdXN0IGJlIGFuIGludGVybmFsL2VtYmVkZGVkIHBhZ2UsXHJcblx0XHRcdFx0XHQvLyBzbyBkZWZhdWx0IHRvIHVzaW5nIHRoZSBhY3R1YWwgZG9jdW1lbnQgdXJsIGFzIGEgYnJvd3NlclxyXG5cdFx0XHRcdFx0Ly8gd291bGQuXHJcblx0XHRcdFx0XHR1cmwgPSBkb2N1bWVudFVybC5ocmVmTm9TZWFyY2g7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR1cmwgPSAkLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZSggIHVybCwgJC5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwoICRmb3JtICkgKTtcclxuXHJcblx0XHRcdGlmICggKCAkLm1vYmlsZS5wYXRoLmlzRXh0ZXJuYWwoIHVybCApICYmICEkLm1vYmlsZS5wYXRoLmlzUGVybWl0dGVkQ3Jvc3NEb21haW5SZXF1ZXN0KCBkb2N1bWVudFVybCwgdXJsICkgKSApIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggIWNhbGN1bGF0ZU9ubHkgKSB7XHJcblx0XHRcdFx0Zm9ybURhdGEgPSAkZm9ybS5zZXJpYWxpemVBcnJheSgpO1xyXG5cclxuXHRcdFx0XHRpZiAoICRsYXN0VkNsaWNrZWQgJiYgJGxhc3RWQ2xpY2tlZFsgMCBdLmZvcm0gPT09ICRmb3JtWyAwIF0gKSB7XHJcblx0XHRcdFx0XHR2Y2xpY2tlZE5hbWUgPSAkbGFzdFZDbGlja2VkLmF0dHIoIFwibmFtZVwiICk7XHJcblx0XHRcdFx0XHRpZiAoIHZjbGlja2VkTmFtZSApIHtcclxuXHRcdFx0XHRcdFx0Ly8gTWFrZSBzdXJlIHRoZSBsYXN0IGNsaWNrZWQgZWxlbWVudCBpcyBpbmNsdWRlZCBpbiB0aGUgZm9ybVxyXG5cdFx0XHRcdFx0XHQkLmVhY2goIGZvcm1EYXRhLCBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIHZhbHVlLm5hbWUgPT09IHZjbGlja2VkTmFtZSApIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIFVuc2V0IHZjbGlja2VkTmFtZSAtIHdlJ3ZlIGZvdW5kIGl0IGluIHRoZSBzZXJpYWxpemVkIGRhdGEgYWxyZWFkeVxyXG5cdFx0XHRcdFx0XHRcdFx0dmNsaWNrZWROYW1lID0gXCJcIjtcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRpZiAoIHZjbGlja2VkTmFtZSApIHtcclxuXHRcdFx0XHRcdFx0XHRmb3JtRGF0YS5wdXNoKCB7IG5hbWU6IHZjbGlja2VkTmFtZSwgdmFsdWU6ICRsYXN0VkNsaWNrZWQuYXR0ciggXCJ2YWx1ZVwiICkgfSApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXQgPSB7XHJcblx0XHRcdFx0XHR1cmw6IHVybCxcclxuXHRcdFx0XHRcdG9wdGlvbnM6IHtcclxuXHRcdFx0XHRcdFx0dHlwZTpcdFx0bWV0aG9kLFxyXG5cdFx0XHRcdFx0XHRkYXRhOlx0XHQkLnBhcmFtKCBmb3JtRGF0YSApLFxyXG5cdFx0XHRcdFx0XHR0cmFuc2l0aW9uOlx0JGZvcm0uanFtRGF0YSggXCJ0cmFuc2l0aW9uXCIgKSxcclxuXHRcdFx0XHRcdFx0cmV2ZXJzZTpcdCRmb3JtLmpxbURhdGEoIFwiZGlyZWN0aW9uXCIgKSA9PT0gXCJyZXZlcnNlXCIsXHJcblx0XHRcdFx0XHRcdHJlbG9hZFBhZ2U6XHR0cnVlXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHJldDtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly9iaW5kIHRvIGZvcm0gc3VibWl0IGV2ZW50cywgaGFuZGxlIHdpdGggQWpheFxyXG5cdFx0JC5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIFwiZm9ybVwiLCBcInN1Ym1pdFwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHRcdHZhciBmb3JtRGF0YTtcclxuXHJcblx0XHRcdGlmICggIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xyXG5cdFx0XHRcdGZvcm1EYXRhID0gZ2V0QWpheEZvcm1EYXRhKCAkKCB0aGlzICkgKTtcclxuXHRcdFx0XHRpZiAoIGZvcm1EYXRhICkge1xyXG5cdFx0XHRcdFx0JC5tb2JpbGUuY2hhbmdlUGFnZSggZm9ybURhdGEudXJsLCBmb3JtRGF0YS5vcHRpb25zICk7XHJcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly9hZGQgYWN0aXZlIHN0YXRlIG9uIHZjbGlja1xyXG5cdFx0JC5tb2JpbGUuZG9jdW1lbnQuYmluZCggXCJ2Y2xpY2tcIiwgZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0XHR2YXIgJGJ0biwgYnRuRWxzLCB0YXJnZXQgPSBldmVudC50YXJnZXQsIG5lZWRDbG9zZXN0ID0gZmFsc2U7XHJcblx0XHRcdC8vIGlmIHRoaXMgaXNuJ3QgYSBsZWZ0IGNsaWNrIHdlIGRvbid0IGNhcmUuIEl0cyBpbXBvcnRhbnQgdG8gbm90ZVxyXG5cdFx0XHQvLyB0aGF0IHdoZW4gdGhlIHZpcnR1YWwgZXZlbnQgaXMgZ2VuZXJhdGVkIGl0IHdpbGwgY3JlYXRlIHRoZSB3aGljaCBhdHRyXHJcblx0XHRcdGlmICggZXZlbnQud2hpY2ggPiAxIHx8ICEkLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQgKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBSZWNvcmQgdGhhdCB0aGlzIGVsZW1lbnQgd2FzIGNsaWNrZWQsIGluIGNhc2Ugd2UgbmVlZCBpdCBmb3IgY29ycmVjdFxyXG5cdFx0XHQvLyBmb3JtIHN1Ym1pc3Npb24gZHVyaW5nIHRoZSBcInN1Ym1pdFwiIGhhbmRsZXIgYWJvdmVcclxuXHRcdFx0JGxhc3RWQ2xpY2tlZCA9ICQoIHRhcmdldCApO1xyXG5cclxuXHRcdFx0Ly8gVHJ5IHRvIGZpbmQgYSB0YXJnZXQgZWxlbWVudCB0byB3aGljaCB0aGUgYWN0aXZlIGNsYXNzIHdpbGwgYmUgYXBwbGllZFxyXG5cdFx0XHRpZiAoICQuZGF0YSggdGFyZ2V0LCBcIm1vYmlsZS1idXR0b25cIiApICkge1xyXG5cdFx0XHRcdC8vIElmIHRoZSBmb3JtIHdpbGwgbm90IGJlIHN1Ym1pdHRlZCB2aWEgQUpBWCwgZG8gbm90IGFkZCBhY3RpdmUgY2xhc3NcclxuXHRcdFx0XHRpZiAoICFnZXRBamF4Rm9ybURhdGEoICQoIHRhcmdldCApLmNsb3Nlc3QoIFwiZm9ybVwiICksIHRydWUgKSApIHtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gV2Ugd2lsbCBhcHBseSB0aGUgYWN0aXZlIHN0YXRlIHRvIHRoaXMgYnV0dG9uIHdpZGdldCAtIHRoZSBwYXJlbnRcclxuXHRcdFx0XHQvLyBvZiB0aGUgaW5wdXQgdGhhdCB3YXMgY2xpY2tlZCB3aWxsIGhhdmUgdGhlIGFzc29jaWF0ZWQgZGF0YVxyXG5cdFx0XHRcdGlmICggdGFyZ2V0LnBhcmVudE5vZGUgKSB7XHJcblx0XHRcdFx0XHR0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGFyZ2V0ID0gZmluZENsb3Nlc3RMaW5rKCB0YXJnZXQgKTtcclxuXHRcdFx0XHRpZiAoICEoIHRhcmdldCAmJiAkLm1vYmlsZS5wYXRoLnBhcnNlVXJsKCB0YXJnZXQuZ2V0QXR0cmlidXRlKCBcImhyZWZcIiApIHx8IFwiI1wiICkuaGFzaCAhPT0gXCIjXCIgKSApIHtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFRPRE8gdGVhY2ggJC5tb2JpbGUuaGlqYWNrYWJsZSB0byBvcGVyYXRlIG9uIHJhdyBkb20gZWxlbWVudHMgc28gdGhlXHJcblx0XHRcdFx0Ly8gbGluayB3cmFwcGluZyBjYW4gYmUgYXZvaWRlZFxyXG5cdFx0XHRcdGlmICggISQoIHRhcmdldCApLmpxbUhpamFja2FibGUoKS5sZW5ndGggKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBBdm9pZCBjYWxsaW5nIC5jbG9zZXN0IGJ5IHVzaW5nIHRoZSBkYXRhIHNldCBkdXJpbmcgLmJ1dHRvbk1hcmt1cCgpXHJcblx0XHRcdC8vIExpc3QgaXRlbXMgaGF2ZSB0aGUgYnV0dG9uIGRhdGEgaW4gdGhlIHBhcmVudCBvZiB0aGUgZWxlbWVudCBjbGlja2VkXHJcblx0XHRcdGlmICggISF+dGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKCBcInVpLWxpbmstaW5oZXJpdFwiICkgKSB7XHJcblx0XHRcdFx0aWYgKCB0YXJnZXQucGFyZW50Tm9kZSApIHtcclxuXHRcdFx0XHRcdGJ0bkVscyA9ICQuZGF0YSggdGFyZ2V0LnBhcmVudE5vZGUsIFwiYnV0dG9uRWxlbWVudHNcIiApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCBsb29rIGZvciB0aGUgZGF0YSBvbiB0aGUgdGFyZ2V0IGl0c2VsZlxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGJ0bkVscyA9ICQuZGF0YSggdGFyZ2V0LCBcImJ1dHRvbkVsZW1lbnRzXCIgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBJZiBmb3VuZCwgZ3JhYiB0aGUgYnV0dG9uJ3Mgb3V0ZXIgZWxlbWVudFxyXG5cdFx0XHRpZiAoIGJ0bkVscyApIHtcclxuXHRcdFx0XHR0YXJnZXQgPSBidG5FbHMub3V0ZXI7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bmVlZENsb3Nlc3QgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkYnRuID0gJCggdGFyZ2V0ICk7XHJcblx0XHRcdC8vIElmIHRoZSBvdXRlciBlbGVtZW50IHdhc24ndCBmb3VuZCBieSB0aGUgb3VyIGhldXJpc3RpY3MsIHVzZSAuY2xvc2VzdCgpXHJcblx0XHRcdGlmICggbmVlZENsb3Nlc3QgKSB7XHJcblx0XHRcdFx0JGJ0biA9ICRidG4uY2xvc2VzdCggXCIudWktYnRuXCIgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCAkYnRuLmxlbmd0aCA+IDAgJiZcclxuXHRcdFx0XHQhKCAkYnRuLmhhc0NsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIgfHxcclxuXHJcblx0XHRcdFx0XHQvLyBERVBSRUNBVEVEIGFzIG9mIDEuNC4wIC0gcmVtb3ZlIGFmdGVyIDEuNC4wIHJlbGVhc2VcclxuXHRcdFx0XHRcdC8vIG9ubHkgdWktc3RhdGUtZGlzYWJsZWQgc2hvdWxkIGJlIHByZXNlbnQgdGhlcmVhZnRlclxyXG5cdFx0XHRcdFx0JGJ0bi5oYXNDbGFzcyggXCJ1aS1kaXNhYmxlZFwiICkgKSApICkge1xyXG5cdFx0XHRcdCQubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyggdHJ1ZSApO1xyXG5cdFx0XHRcdCQubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rID0gJGJ0bjtcclxuXHRcdFx0XHQkLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluay5hZGRDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gY2xpY2sgcm91dGluZyAtIGRpcmVjdCB0byBIVFRQIG9yIEFqYXgsIGFjY29yZGluZ2x5XHJcblx0XHQkLm1vYmlsZS5kb2N1bWVudC5iaW5kKCBcImNsaWNrXCIsIGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdFx0aWYgKCAhJC5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkIHx8IGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIGxpbmsgPSBmaW5kQ2xvc2VzdExpbmsoIGV2ZW50LnRhcmdldCApLFxyXG5cdFx0XHRcdCRsaW5rID0gJCggbGluayApLFxyXG5cclxuXHRcdFx0XHQvL3JlbW92ZSBhY3RpdmUgbGluayBjbGFzcyBpZiBleHRlcm5hbCAodGhlbiBpdCB3b24ndCBiZSB0aGVyZSBpZiB5b3UgY29tZSBiYWNrKVxyXG5cdFx0XHRcdGh0dHBDbGVhbnVwID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsgJC5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKCB0cnVlICk7IH0sIDIwMCApO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0YmFzZVVybCwgaHJlZixcclxuXHRcdFx0XHR1c2VEZWZhdWx0VXJsSGFuZGxpbmcsIGlzRXh0ZXJuYWwsXHJcblx0XHRcdFx0dHJhbnNpdGlvbiwgcmV2ZXJzZSwgcm9sZTtcclxuXHJcblx0XHRcdC8vIElmIGEgYnV0dG9uIHdhcyBjbGlja2VkLCBjbGVhbiB1cCB0aGUgYWN0aXZlIGNsYXNzIGFkZGVkIGJ5IHZjbGljayBhYm92ZVxyXG5cdFx0XHRpZiAoICQubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rICYmXHJcblx0XHRcdFx0JC5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmtbIDAgXSA9PT0gZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUgKSB7XHJcblx0XHRcdFx0aHR0cENsZWFudXAoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gSWYgdGhlcmUgaXMgbm8gbGluayBhc3NvY2lhdGVkIHdpdGggdGhlIGNsaWNrIG9yIGl0cyBub3QgYSBsZWZ0XHJcblx0XHRcdC8vIGNsaWNrIHdlIHdhbnQgdG8gaWdub3JlIHRoZSBjbGlja1xyXG5cdFx0XHQvLyBUT0RPIHRlYWNoICQubW9iaWxlLmhpamFja2FibGUgdG8gb3BlcmF0ZSBvbiByYXcgZG9tIGVsZW1lbnRzIHNvIHRoZSBsaW5rIHdyYXBwaW5nXHJcblx0XHRcdC8vIGNhbiBiZSBhdm9pZGVkXHJcblx0XHRcdGlmICggIWxpbmsgfHwgZXZlbnQud2hpY2ggPiAxIHx8ICEkbGluay5qcW1IaWphY2thYmxlKCkubGVuZ3RoICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9pZiB0aGVyZSdzIGEgZGF0YS1yZWw9YmFjayBhdHRyLCBnbyBiYWNrIGluIGhpc3RvcnlcclxuXHRcdFx0aWYgKCAkbGluay5pcyggXCI6anFtRGF0YShyZWw9J2JhY2snKVwiICkgKSB7XHJcblx0XHRcdFx0JC5tb2JpbGUuYmFjaygpO1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0YmFzZVVybCA9ICQubW9iaWxlLmdldENsb3Nlc3RCYXNlVXJsKCAkbGluayApO1xyXG5cclxuXHRcdFx0Ly9nZXQgaHJlZiwgaWYgZGVmaW5lZCwgb3RoZXJ3aXNlIGRlZmF1bHQgdG8gZW1wdHkgaGFzaFxyXG5cdFx0XHRocmVmID0gJC5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoICRsaW5rLmF0dHIoIFwiaHJlZlwiICkgfHwgXCIjXCIsIGJhc2VVcmwgKTtcclxuXHJcblx0XHRcdC8vaWYgYWpheCBpcyBkaXNhYmxlZCwgZXhpdCBlYXJseVxyXG5cdFx0XHRpZiAoICEkLm1vYmlsZS5hamF4RW5hYmxlZCAmJiAhJC5tb2JpbGUucGF0aC5pc0VtYmVkZGVkUGFnZSggaHJlZiApICkge1xyXG5cdFx0XHRcdGh0dHBDbGVhbnVwKCk7XHJcblx0XHRcdFx0Ly91c2UgZGVmYXVsdCBjbGljayBoYW5kbGluZ1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gWFhYX2pibGFzOiBJZGVhbGx5IGxpbmtzIHRvIGFwcGxpY2F0aW9uIHBhZ2VzIHNob3VsZCBiZSBzcGVjaWZpZWQgYXNcclxuXHRcdFx0Ly8gICAgICAgICAgICBhbiB1cmwgdG8gdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50IHdpdGggYSBoYXNoIHRoYXQgaXMgZWl0aGVyXHJcblx0XHRcdC8vICAgICAgICAgICAgdGhlIHNpdGUgcmVsYXRpdmUgcGF0aCBvciBpZCB0byB0aGUgcGFnZS4gQnV0IHNvbWUgb2YgdGhlXHJcblx0XHRcdC8vICAgICAgICAgICAgaW50ZXJuYWwgY29kZSB0aGF0IGR5bmFtaWNhbGx5IGdlbmVyYXRlcyBzdWItcGFnZXMgZm9yIG5lc3RlZFxyXG5cdFx0XHQvLyAgICAgICAgICAgIGxpc3RzIGFuZCBzZWxlY3QgZGlhbG9ncywganVzdCB3cml0ZSBhIGhhc2ggaW4gdGhlIGxpbmsgdGhleVxyXG5cdFx0XHQvLyAgICAgICAgICAgIGNyZWF0ZS4gVGhpcyBtZWFucyB0aGUgYWN0dWFsIFVSTCBwYXRoIGlzIGJhc2VkIG9uIHdoYXRldmVyXHJcblx0XHRcdC8vICAgICAgICAgICAgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGJhc2UgdGFnIGlzIGF0IHRoZSB0aW1lIHRoaXMgY29kZVxyXG5cdFx0XHQvLyAgICAgICAgICAgIGlzIGNhbGxlZC5cclxuXHRcdFx0aWYgKCBocmVmLnNlYXJjaCggXCIjXCIgKSAhPT0gLTEgJiZcclxuXHRcdFx0XHQhKCAkLm1vYmlsZS5wYXRoLmlzRXh0ZXJuYWwoIGhyZWYgKSAmJiAkLm1vYmlsZS5wYXRoLmlzQWJzb2x1dGVVcmwoIGhyZWYgKSApICkge1xyXG5cclxuXHRcdFx0XHRocmVmID0gaHJlZi5yZXBsYWNlKCAvW14jXSojLywgXCJcIiApO1xyXG5cdFx0XHRcdGlmICggIWhyZWYgKSB7XHJcblx0XHRcdFx0XHQvL2xpbmsgd2FzIGFuIGVtcHR5IGhhc2ggbWVhbnQgcHVyZWx5XHJcblx0XHRcdFx0XHQvL2ZvciBpbnRlcmFjdGlvbiwgc28gd2UgaWdub3JlIGl0LlxyXG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKCAkLm1vYmlsZS5wYXRoLmlzUGF0aCggaHJlZiApICkge1xyXG5cdFx0XHRcdFx0Ly93ZSBoYXZlIGFwYXRoIHNvIG1ha2UgaXQgdGhlIGhyZWYgd2Ugd2FudCB0byBsb2FkLlxyXG5cdFx0XHRcdFx0aHJlZiA9ICQubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCBocmVmLCBiYXNlVXJsICk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdC8vd2UgaGF2ZSBhIHNpbXBsZSBpZCBzbyB1c2UgdGhlIGRvY3VtZW50VXJsIGFzIGl0cyBiYXNlLlxyXG5cdFx0XHRcdFx0aHJlZiA9ICQubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKCBcIiNcIiArIGhyZWYsIGRvY3VtZW50VXJsLmhyZWZOb0hhc2ggKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFNob3VsZCB3ZSBoYW5kbGUgdGhpcyBsaW5rLCBvciBsZXQgdGhlIGJyb3dzZXIgZGVhbCB3aXRoIGl0P1xyXG5cdFx0XHR1c2VEZWZhdWx0VXJsSGFuZGxpbmcgPSAkbGluay5pcyggXCJbcmVsPSdleHRlcm5hbCddXCIgKSB8fCAkbGluay5pcyggXCI6anFtRGF0YShhamF4PSdmYWxzZScpXCIgKSB8fCAkbGluay5pcyggXCJbdGFyZ2V0XVwiICk7XHJcblxyXG5cdFx0XHQvLyBTb21lIGVtYmVkZGVkIGJyb3dzZXJzLCBsaWtlIHRoZSB3ZWIgdmlldyBpbiBQaG9uZSBHYXAsIGFsbG93IGNyb3NzLWRvbWFpbiBYSFJcclxuXHRcdFx0Ly8gcmVxdWVzdHMgaWYgdGhlIGRvY3VtZW50IGRvaW5nIHRoZSByZXF1ZXN0IHdhcyBsb2FkZWQgdmlhIHRoZSBmaWxlOi8vIHByb3RvY29sLlxyXG5cdFx0XHQvLyBUaGlzIGlzIHVzdWFsbHkgdG8gYWxsb3cgdGhlIGFwcGxpY2F0aW9uIHRvIFwicGhvbmUgaG9tZVwiIGFuZCBmZXRjaCBhcHAgc3BlY2lmaWNcclxuXHRcdFx0Ly8gZGF0YS4gV2Ugbm9ybWFsbHkgbGV0IHRoZSBicm93c2VyIGhhbmRsZSBleHRlcm5hbC9jcm9zcy1kb21haW4gdXJscywgYnV0IGlmIHRoZVxyXG5cdFx0XHQvLyBhbGxvd0Nyb3NzRG9tYWluUGFnZXMgb3B0aW9uIGlzIHRydWUsIHdlIHdpbGwgYWxsb3cgY3Jvc3MtZG9tYWluIGh0dHAvaHR0cHNcclxuXHRcdFx0Ly8gcmVxdWVzdHMgdG8gZ28gdGhyb3VnaCBvdXIgcGFnZSBsb2FkaW5nIGxvZ2ljLlxyXG5cclxuXHRcdFx0Ly9jaGVjayBmb3IgcHJvdG9jb2wgb3IgcmVsIGFuZCBpdHMgbm90IGFuIGVtYmVkZGVkIHBhZ2VcclxuXHRcdFx0Ly9UT0RPIG92ZXJsYXAgaW4gbG9naWMgZnJvbSBpc0V4dGVybmFsLCByZWw9ZXh0ZXJuYWwgY2hlY2sgc2hvdWxkIGJlXHJcblx0XHRcdC8vICAgICBtb3ZlZCBpbnRvIG1vcmUgY29tcHJlaGVuc2l2ZSBpc0V4dGVybmFsTGlua1xyXG5cdFx0XHRpc0V4dGVybmFsID0gdXNlRGVmYXVsdFVybEhhbmRsaW5nIHx8ICggJC5tb2JpbGUucGF0aC5pc0V4dGVybmFsKCBocmVmICkgJiYgISQubW9iaWxlLnBhdGguaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QoIGRvY3VtZW50VXJsLCBocmVmICkgKTtcclxuXHJcblx0XHRcdGlmICggaXNFeHRlcm5hbCApIHtcclxuXHRcdFx0XHRodHRwQ2xlYW51cCgpO1xyXG5cdFx0XHRcdC8vdXNlIGRlZmF1bHQgY2xpY2sgaGFuZGxpbmdcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vdXNlIGFqYXhcclxuXHRcdFx0dHJhbnNpdGlvbiA9ICRsaW5rLmpxbURhdGEoIFwidHJhbnNpdGlvblwiICk7XHJcblx0XHRcdHJldmVyc2UgPSAkbGluay5qcW1EYXRhKCBcImRpcmVjdGlvblwiICkgPT09IFwicmV2ZXJzZVwiIHx8XHJcblx0XHRcdFx0XHRcdC8vIGRlcHJlY2F0ZWQgLSByZW1vdmUgYnkgMS4wXHJcblx0XHRcdFx0XHRcdCRsaW5rLmpxbURhdGEoIFwiYmFja1wiICk7XHJcblxyXG5cdFx0XHQvL3RoaXMgbWF5IG5lZWQgdG8gYmUgbW9yZSBzcGVjaWZpYyBhcyB3ZSB1c2UgZGF0YS1yZWwgbW9yZVxyXG5cdFx0XHRyb2xlID0gJGxpbmsuYXR0ciggXCJkYXRhLVwiICsgJC5tb2JpbGUubnMgKyBcInJlbFwiICkgfHwgdW5kZWZpbmVkO1xyXG5cclxuXHRcdFx0JC5tb2JpbGUuY2hhbmdlUGFnZSggaHJlZiwgeyB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uLCByZXZlcnNlOiByZXZlcnNlLCByb2xlOiByb2xlLCBsaW5rOiAkbGluayB9ICk7XHJcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvL3ByZWZldGNoIHBhZ2VzIHdoZW4gYW5jaG9ycyB3aXRoIGRhdGEtcHJlZmV0Y2ggYXJlIGVuY291bnRlcmVkXHJcblx0XHQkLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZSggXCIudWktcGFnZVwiLCBcInBhZ2VzaG93LnByZWZldGNoXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgdXJscyA9IFtdO1xyXG5cdFx0XHQkKCB0aGlzICkuZmluZCggXCJhOmpxbURhdGEocHJlZmV0Y2gpXCIgKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciAkbGluayA9ICQoIHRoaXMgKSxcclxuXHRcdFx0XHRcdHVybCA9ICRsaW5rLmF0dHIoIFwiaHJlZlwiICk7XHJcblxyXG5cdFx0XHRcdGlmICggdXJsICYmICQuaW5BcnJheSggdXJsLCB1cmxzICkgPT09IC0xICkge1xyXG5cdFx0XHRcdFx0dXJscy5wdXNoKCB1cmwgKTtcclxuXHJcblx0XHRcdFx0XHQkLm1vYmlsZS5sb2FkUGFnZSggdXJsLCB7IHJvbGU6ICRsaW5rLmF0dHIoIFwiZGF0YS1cIiArICQubW9iaWxlLm5zICsgXCJyZWxcIiApLHByZWZldGNoOiB0cnVlIH0gKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gVE9ETyBlbnN1cmUgdGhhdCB0aGUgbmF2aWdhdGUgYmluZGluZyBpbiB0aGUgY29udGVudCB3aWRnZXQgaGFwcGVucyBhdCB0aGUgcmlnaHQgdGltZVxyXG5cdFx0JC5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKCk7XHJcblxyXG5cdFx0Ly9zZXQgcGFnZSBtaW4taGVpZ2h0cyB0byBiZSBkZXZpY2Ugc3BlY2lmaWNcclxuXHRcdCQubW9iaWxlLmRvY3VtZW50LmJpbmQoIFwicGFnZXNob3dcIiwgZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHQvLyBXZSBuZWVkIHRvIHdhaXQgZm9yIHdpbmRvdy5sb2FkIHRvIG1ha2Ugc3VyZSB0aGF0IHN0eWxlcyBoYXZlIGFscmVhZHkgYmVlbiByZW5kZXJlZCxcclxuXHRcdFx0Ly8gb3RoZXJ3aXNlIGhlaWdodHMgb2YgZXh0ZXJuYWwgdG9vbGJhcnMgd2lsbCBoYXZlIHRoZSB3cm9uZyB2YWx1ZVxyXG5cdFx0XHRpZiAoIGxvYWREZWZlcnJlZCApIHtcclxuXHRcdFx0XHRsb2FkRGVmZXJyZWQuZG9uZSggJC5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0ICk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JC5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0JC5tb2JpbGUud2luZG93LmJpbmQoIFwidGhyb3R0bGVkcmVzaXplXCIsICQubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCApO1xyXG5cclxuXHR9Oy8vbmF2cmVhZHlEZWZlcnJlZCBkb25lIGNhbGxiYWNrXHJcblxyXG5cdCQoIGZ1bmN0aW9uKCkgeyBkb21yZWFkeURlZmVycmVkLnJlc29sdmUoKTsgfSApO1xyXG5cclxuXHQvLyBBY2NvdW50IGZvciB0aGUgcG9zc2liaWxpdHkgdGhhdCB0aGUgbG9hZCBldmVudCBoYXMgYWxyZWFkeSBmaXJlZFxyXG5cdGlmICggZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiICkge1xyXG5cdFx0cGFnZUlzRnVsbHlMb2FkZWQoKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0JC5tb2JpbGUud2luZG93LmxvYWQoIHBhZ2VJc0Z1bGx5TG9hZGVkICk7XHJcblx0fVxyXG5cclxuXHQkLndoZW4oIGRvbXJlYWR5RGVmZXJyZWQsICQubW9iaWxlLm5hdnJlYWR5RGVmZXJyZWQgKS5kb25lKCBmdW5jdGlvbigpIHsgJC5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHMoKTsgfSApO1xyXG59KSggalF1ZXJ5ICk7XHJcblxyXG5cclxuKGZ1bmN0aW9uKCAkLCB3aW5kb3csIHVuZGVmaW5lZCApIHtcclxuXHJcblx0Ly8gVE9ETyByZW1vdmUgZGlyZWN0IHJlZmVyZW5jZXMgdG8gJC5tb2JpbGUgYW5kIHByb3BlcnRpZXMsIHdlIHNob3VsZFxyXG5cdC8vICAgICAgZmF2b3IgaW5qZWN0aW9uIHdpdGggcGFyYW1zIHRvIHRoZSBjb25zdHJ1Y3RvclxyXG5cdCQubW9iaWxlLlRyYW5zaXRpb24gPSBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuaW5pdC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XHJcblx0fTtcclxuXHJcblx0JC5leHRlbmQoJC5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUsIHtcclxuXHRcdHRvUHJlQ2xhc3M6IFwiIHVpLXBhZ2UtcHJlLWluXCIsXHJcblxyXG5cdFx0aW5pdDogZnVuY3Rpb24oIG5hbWUsIHJldmVyc2UsICR0bywgJGZyb20gKSB7XHJcblx0XHRcdCQuZXh0ZW5kKHRoaXMsIHtcclxuXHRcdFx0XHRuYW1lOiBuYW1lLFxyXG5cdFx0XHRcdHJldmVyc2U6IHJldmVyc2UsXHJcblx0XHRcdFx0JHRvOiAkdG8sXHJcblx0XHRcdFx0JGZyb206ICRmcm9tLFxyXG5cdFx0XHRcdGRlZmVycmVkOiBuZXcgJC5EZWZlcnJlZCgpXHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHRjbGVhbkZyb206IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLiRmcm9tXHJcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCAkLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MgKyBcIiBvdXQgaW4gcmV2ZXJzZSBcIiArIHRoaXMubmFtZSApXHJcblx0XHRcdFx0LmhlaWdodCggXCJcIiApO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBOT1RFIG92ZXJyaWRkZW4gYnkgY2hpbGQgb2JqZWN0IHByb3RvdHlwZXMsIG5vb3AnZCBoZXJlIGFzIGRlZmF1bHRzXHJcblx0XHRiZWZvcmVEb25lSW46IGZ1bmN0aW9uKCkge30sXHJcblx0XHRiZWZvcmVEb25lT3V0OiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0YmVmb3JlU3RhcnRPdXQ6IGZ1bmN0aW9uKCkge30sXHJcblxyXG5cdFx0ZG9uZUluOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5iZWZvcmVEb25lSW4oKTtcclxuXHJcblx0XHRcdHRoaXMuJHRvLnJlbW92ZUNsYXNzKCBcIm91dCBpbiByZXZlcnNlIFwiICsgdGhpcy5uYW1lICkuaGVpZ2h0KCBcIlwiICk7XHJcblxyXG5cdFx0XHR0aGlzLnRvZ2dsZVZpZXdwb3J0Q2xhc3MoKTtcclxuXHJcblx0XHRcdC8vIEluIHNvbWUgYnJvd3NlcnMgKGlPUzUpLCAzRCB0cmFuc2l0aW9ucyBibG9jayB0aGUgYWJpbGl0eSB0byBzY3JvbGwgdG8gdGhlIGRlc2lyZWQgbG9jYXRpb24gZHVyaW5nIHRyYW5zaXRpb25cclxuXHRcdFx0Ly8gVGhpcyBlbnN1cmVzIHdlIGp1bXAgdG8gdGhhdCBzcG90IGFmdGVyIHRoZSBmYWN0LCBpZiB3ZSBhcmVuJ3QgdGhlcmUgYWxyZWFkeS5cclxuXHRcdFx0aWYgKCAkLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkgIT09IHRoaXMudG9TY3JvbGwgKSB7XHJcblx0XHRcdFx0dGhpcy5zY3JvbGxQYWdlKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCAhdGhpcy5zZXF1ZW50aWFsICkge1xyXG5cdFx0XHRcdHRoaXMuJHRvLmFkZENsYXNzKCAkLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLmRlZmVycmVkLnJlc29sdmUoIHRoaXMubmFtZSwgdGhpcy5yZXZlcnNlLCB0aGlzLiR0bywgdGhpcy4kZnJvbSwgdHJ1ZSApO1xyXG5cdFx0fSxcclxuXHJcblx0XHRkb25lT3V0OiBmdW5jdGlvbiggc2NyZWVuSGVpZ2h0LCByZXZlcnNlQ2xhc3MsIG5vbmUsIHByZXZlbnRGb2N1cyApIHtcclxuXHRcdFx0dGhpcy5iZWZvcmVEb25lT3V0KCk7XHJcblx0XHRcdHRoaXMuc3RhcnRJbiggc2NyZWVuSGVpZ2h0LCByZXZlcnNlQ2xhc3MsIG5vbmUsIHByZXZlbnRGb2N1cyApO1xyXG5cdFx0fSxcclxuXHJcblx0XHRoaWRlSW46IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcclxuXHRcdFx0Ly8gUHJldmVudCBmbGlja2VyaW5nIGluIHBob25lZ2FwIGNvbnRhaW5lcjogc2VlIGNvbW1lbnRzIGF0ICM0MDI0IHJlZ2FyZGluZyBpT1NcclxuXHRcdFx0dGhpcy4kdG8uY3NzKCBcInotaW5kZXhcIiwgLTEwICk7XHJcblx0XHRcdGNhbGxiYWNrLmNhbGwoIHRoaXMgKTtcclxuXHRcdFx0dGhpcy4kdG8uY3NzKCBcInotaW5kZXhcIiwgXCJcIiApO1xyXG5cdFx0fSxcclxuXHJcblx0XHRzY3JvbGxQYWdlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Ly8gQnkgdXNpbmcgc2Nyb2xsVG8gaW5zdGVhZCBvZiBzaWxlbnRTY3JvbGwsIHdlIGNhbiBrZWVwIHRoaW5ncyBiZXR0ZXIgaW4gb3JkZXJcclxuXHRcdFx0Ly8gSnVzdCB0byBiZSBwcmVjYXV0aW9zLCBkaXNhYmxlIHNjcm9sbHN0YXJ0IGxpc3RlbmluZyBsaWtlIHNpbGVudFNjcm9sbCB3b3VsZFxyXG5cdFx0XHQkLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCA9IGZhbHNlO1xyXG5cdFx0XHQvL2lmIHdlIGFyZSBoaWRpbmcgdGhlIHVybCBiYXIgb3IgdGhlIHBhZ2Ugd2FzIHByZXZpb3VzbHkgc2Nyb2xsZWQgc2Nyb2xsIHRvIGhpZGUgb3IgcmV0dXJuIHRvIHBvc2l0aW9uXHJcblx0XHRcdGlmICggJC5tb2JpbGUuaGlkZVVybEJhciB8fCB0aGlzLnRvU2Nyb2xsICE9PSAkLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCApIHtcclxuXHRcdFx0XHR3aW5kb3cuc2Nyb2xsVG8oIDAsIHRoaXMudG9TY3JvbGwgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gcmVlbmFibGUgc2Nyb2xsc3RhcnQgbGlzdGVuaW5nIGxpa2Ugc2lsZW50U2Nyb2xsIHdvdWxkXHJcblx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCQuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkID0gdHJ1ZTtcclxuXHRcdFx0fSwgMTUwICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdHN0YXJ0SW46IGZ1bmN0aW9uKCBzY3JlZW5IZWlnaHQsIHJldmVyc2VDbGFzcywgbm9uZSwgcHJldmVudEZvY3VzICkge1xyXG5cdFx0XHR0aGlzLmhpZGVJbihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR0aGlzLiR0by5hZGRDbGFzcyggJC5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzICsgdGhpcy50b1ByZUNsYXNzICk7XHJcblxyXG5cdFx0XHRcdC8vIFNlbmQgZm9jdXMgdG8gcGFnZSBhcyBpdCBpcyBub3cgZGlzcGxheTogYmxvY2tcclxuXHRcdFx0XHRpZiAoICFwcmV2ZW50Rm9jdXMgKSB7XHJcblx0XHRcdFx0XHQkLm1vYmlsZS5mb2N1c1BhZ2UoIHRoaXMuJHRvICk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBTZXQgdG8gcGFnZSBoZWlnaHRcclxuXHRcdFx0XHR0aGlzLiR0by5oZWlnaHQoIHNjcmVlbkhlaWdodCArIHRoaXMudG9TY3JvbGwgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoICFub25lICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsUGFnZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHRoaXMuJHRvXHJcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCB0aGlzLnRvUHJlQ2xhc3MgKVxyXG5cdFx0XHRcdC5hZGRDbGFzcyggdGhpcy5uYW1lICsgXCIgaW4gXCIgKyByZXZlcnNlQ2xhc3MgKTtcclxuXHJcblx0XHRcdGlmICggIW5vbmUgKSB7XHJcblx0XHRcdFx0dGhpcy4kdG8uYW5pbWF0aW9uQ29tcGxldGUoICQucHJveHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHR0aGlzLmRvbmVJbigpO1xyXG5cdFx0XHRcdH0sIHRoaXMgKSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5kb25lSW4oKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0sXHJcblxyXG5cdFx0c3RhcnRPdXQ6IGZ1bmN0aW9uKCBzY3JlZW5IZWlnaHQsIHJldmVyc2VDbGFzcywgbm9uZSApIHtcclxuXHRcdFx0dGhpcy5iZWZvcmVTdGFydE91dCggc2NyZWVuSGVpZ2h0LCByZXZlcnNlQ2xhc3MsIG5vbmUgKTtcclxuXHJcblx0XHRcdC8vIFNldCB0aGUgZnJvbSBwYWdlJ3MgaGVpZ2h0IGFuZCBzdGFydCBpdCB0cmFuc2l0aW9uaW5nIG91dFxyXG5cdFx0XHQvLyBOb3RlOiBzZXR0aW5nIGFuIGV4cGxpY2l0IGhlaWdodCBoZWxwcyBlbGltaW5hdGUgdGlsaW5nIGluIHRoZSB0cmFuc2l0aW9uc1xyXG5cdFx0XHR0aGlzLiRmcm9tXHJcblx0XHRcdFx0LmhlaWdodCggc2NyZWVuSGVpZ2h0ICsgJC5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpIClcclxuXHRcdFx0XHQuYWRkQ2xhc3MoIHRoaXMubmFtZSArIFwiIG91dFwiICsgcmV2ZXJzZUNsYXNzICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdHRvZ2dsZVZpZXdwb3J0Q2xhc3M6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQkLm1vYmlsZS5wYWdlQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCBcInVpLW1vYmlsZS12aWV3cG9ydC10cmFuc2l0aW9uaW5nIHZpZXdwb3J0LVwiICsgdGhpcy5uYW1lICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdHRyYW5zaXRpb246IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBOT1RFIG1hbnkgb2YgdGhlc2UgY291bGQgYmUgY2FsY3VsYXRlZC9yZWNvcmRlZCBpbiB0aGUgY29uc3RydWN0b3IsIGl0J3MgbXlcclxuXHRcdFx0Ly8gICAgICBvcGluaW9uIHRoYXQgYmluZGluZyB0aGVtIGFzIGxhdGUgYXMgcG9zc2libGUgaGFzIHZhbHVlIHdpdGggcmVnYXJkcyB0b1xyXG5cdFx0XHQvLyAgICAgIGJldHRlciB0cmFuc2l0aW9ucyB3aXRoIGZld2VyIGJ1Z3MuIEllLCBpdCdzIG5vdCBndWFyYW50ZWVkIHRoYXQgdGhlXHJcblx0XHRcdC8vICAgICAgb2JqZWN0IHdpbGwgYmUgY3JlYXRlZCBhbmQgdHJhbnNpdGlvbiB3aWxsIGJlIHJ1biBpbW1lZGlhdGVseSBhZnRlciBhc1xyXG5cdFx0XHQvLyAgICAgIGl0IGlzIHRvZGF5LiBTbyB3ZSB3YWl0IHVudGlsIHRyYW5zaXRpb24gaXMgaW52b2tlZCB0byBnYXRoZXIgdGhlIGZvbGxvd2luZ1xyXG5cdFx0XHR2YXIgbm9uZSxcclxuXHRcdFx0XHRyZXZlcnNlQ2xhc3MgPSB0aGlzLnJldmVyc2UgPyBcIiByZXZlcnNlXCIgOiBcIlwiLFxyXG5cdFx0XHRcdHNjcmVlbkhlaWdodCA9ICQubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpLFxyXG5cdFx0XHRcdG1heFRyYW5zaXRpb25PdmVycmlkZSA9ICQubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCAhPT0gZmFsc2UgJiZcclxuXHRcdFx0XHRcdCQubW9iaWxlLndpbmRvdy53aWR0aCgpID4gJC5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoO1xyXG5cclxuXHRcdFx0dGhpcy50b1Njcm9sbCA9ICQubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCkubGFzdFNjcm9sbCB8fCAkLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbDtcclxuXHJcblx0XHRcdG5vbmUgPSAhJC5zdXBwb3J0LmNzc1RyYW5zaXRpb25zIHx8ICEkLnN1cHBvcnQuY3NzQW5pbWF0aW9ucyB8fFxyXG5cdFx0XHRcdG1heFRyYW5zaXRpb25PdmVycmlkZSB8fCAhdGhpcy5uYW1lIHx8IHRoaXMubmFtZSA9PT0gXCJub25lXCIgfHxcclxuXHRcdFx0XHRNYXRoLm1heCggJC5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLCB0aGlzLnRvU2Nyb2xsICkgPlxyXG5cdFx0XHRcdFx0JC5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbigpO1xyXG5cclxuXHRcdFx0dGhpcy50b2dnbGVWaWV3cG9ydENsYXNzKCk7XHJcblxyXG5cdFx0XHRpZiAoIHRoaXMuJGZyb20gJiYgIW5vbmUgKSB7XHJcblx0XHRcdFx0dGhpcy5zdGFydE91dCggc2NyZWVuSGVpZ2h0LCByZXZlcnNlQ2xhc3MsIG5vbmUgKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmRvbmVPdXQoIHNjcmVlbkhlaWdodCwgcmV2ZXJzZUNsYXNzLCBub25lLCB0cnVlICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB0aGlzLmRlZmVycmVkLnByb21pc2UoKTtcclxuXHRcdH1cclxuXHR9KTtcclxufSkoIGpRdWVyeSwgdGhpcyApO1xyXG5cclxuXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcblx0JC5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0fTtcclxuXHJcblx0JC5leHRlbmQoJC5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbi5wcm90b3R5cGUsICQubW9iaWxlLlRyYW5zaXRpb24ucHJvdG90eXBlLCB7XHJcblx0XHRzZXF1ZW50aWFsOiB0cnVlLFxyXG5cclxuXHRcdGJlZm9yZURvbmVPdXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoIHRoaXMuJGZyb20gKSB7XHJcblx0XHRcdFx0dGhpcy5jbGVhbkZyb20oKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRiZWZvcmVTdGFydE91dDogZnVuY3Rpb24oIHNjcmVlbkhlaWdodCwgcmV2ZXJzZUNsYXNzLCBub25lICkge1xyXG5cdFx0XHR0aGlzLiRmcm9tLmFuaW1hdGlvbkNvbXBsZXRlKCQucHJveHkoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dGhpcy5kb25lT3V0KCBzY3JlZW5IZWlnaHQsIHJldmVyc2VDbGFzcywgbm9uZSApO1xyXG5cdFx0XHR9LCB0aGlzICkpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHJcblx0JC5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb24gPSBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdH07XHJcblxyXG5cdCQuZXh0ZW5kKCQubW9iaWxlLkNvbmN1cnJlbnRUcmFuc2l0aW9uLnByb3RvdHlwZSwgJC5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUsIHtcclxuXHRcdHNlcXVlbnRpYWw6IGZhbHNlLFxyXG5cclxuXHRcdGJlZm9yZURvbmVJbjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICggdGhpcy4kZnJvbSApIHtcclxuXHRcdFx0XHR0aGlzLmNsZWFuRnJvbSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdGJlZm9yZVN0YXJ0T3V0OiBmdW5jdGlvbiggc2NyZWVuSGVpZ2h0LCByZXZlcnNlQ2xhc3MsIG5vbmUgKSB7XHJcblx0XHRcdHRoaXMuZG9uZU91dCggc2NyZWVuSGVpZ2h0LCByZXZlcnNlQ2xhc3MsIG5vbmUgKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcblxyXG4oZnVuY3Rpb24oICQgKSB7XHJcblxyXG5cdC8vIGdlbmVyYXRlIHRoZSBoYW5kbGVycyBmcm9tIHRoZSBhYm92ZVxyXG5cdHZhciBkZWZhdWx0R2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuICQubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpICogMztcclxuXHR9O1xyXG5cclxuXHQvL3RyYW5zaXRpb24gaGFuZGxlciBkaWN0aW9uYXJ5IGZvciAzcmQgcGFydHkgdHJhbnNpdGlvbnNcclxuXHQkLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMgPSB7XHJcblx0XHRcInNlcXVlbnRpYWxcIjogJC5tb2JpbGUuU2VyaWFsVHJhbnNpdGlvbixcclxuXHRcdFwic2ltdWx0YW5lb3VzXCI6ICQubW9iaWxlLkNvbmN1cnJlbnRUcmFuc2l0aW9uXHJcblx0fTtcclxuXHJcblx0Ly8gTWFrZSBvdXIgdHJhbnNpdGlvbiBoYW5kbGVyIHRoZSBwdWJsaWMgZGVmYXVsdC5cclxuXHQkLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIgPSAkLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2VxdWVudGlhbDtcclxuXHJcblx0JC5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcyA9IHt9O1xyXG5cclxuXHQvLyBJZiB0cmFuc2l0aW9uIGlzIGRlZmluZWQsIGNoZWNrIGlmIGNzcyAzRCB0cmFuc2Zvcm1zIGFyZSBzdXBwb3J0ZWQsIGFuZCBpZiBub3QsIGlmIGEgZmFsbGJhY2sgaXMgc3BlY2lmaWVkXHJcblx0JC5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24gPSBmdW5jdGlvbiggdHJhbnNpdGlvbiApIHtcclxuXHRcdGlmICggdHJhbnNpdGlvbiAmJiAhJC5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkICYmICQubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbIHRyYW5zaXRpb24gXSApIHtcclxuXHRcdFx0dHJhbnNpdGlvbiA9ICQubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbIHRyYW5zaXRpb24gXTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJhbnNpdGlvbjtcclxuXHR9O1xyXG5cclxuXHQvLyBTZXQgdGhlIGdldE1heFNjcm9sbEZvclRyYW5zaXRpb24gdG8gZGVmYXVsdCBpZiBubyBpbXBsZW1lbnRhdGlvbiB3YXMgc2V0IGJ5IHVzZXJcclxuXHQkLm1vYmlsZS5nZXRNYXhTY3JvbGxGb3JUcmFuc2l0aW9uID0gJC5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbiB8fCBkZWZhdWx0R2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbjtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbi8qXHJcbiogZmFsbGJhY2sgdHJhbnNpdGlvbiBmb3IgZmxpcCBpbiBub24tM0Qgc3VwcG9ydGluZyBicm93c2VycyAod2hpY2ggdGVuZCB0byBoYW5kbGUgY29tcGxleCB0cmFuc2l0aW9ucyBwb29ybHkgaW4gZ2VuZXJhbFxyXG4qL1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB3aW5kb3csIHVuZGVmaW5lZCApIHtcclxuXHJcbiQubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxpcCA9IFwiZmFkZVwiO1xyXG5cclxufSkoIGpRdWVyeSwgdGhpcyApO1xyXG5cclxuLypcclxuKiBmYWxsYmFjayB0cmFuc2l0aW9uIGZvciBmbG93IGluIG5vbi0zRCBzdXBwb3J0aW5nIGJyb3dzZXJzICh3aGljaCB0ZW5kIHRvIGhhbmRsZSBjb21wbGV4IHRyYW5zaXRpb25zIHBvb3JseSBpbiBnZW5lcmFsXHJcbiovXHJcblxyXG4oZnVuY3Rpb24oICQsIHdpbmRvdywgdW5kZWZpbmVkICkge1xyXG5cclxuJC5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbG93ID0gXCJmYWRlXCI7XHJcblxyXG59KSggalF1ZXJ5LCB0aGlzICk7XHJcblxyXG4vKlxyXG4qIGZhbGxiYWNrIHRyYW5zaXRpb24gZm9yIHBvcCBpbiBub24tM0Qgc3VwcG9ydGluZyBicm93c2VycyAod2hpY2ggdGVuZCB0byBoYW5kbGUgY29tcGxleCB0cmFuc2l0aW9ucyBwb29ybHkgaW4gZ2VuZXJhbFxyXG4qL1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB3aW5kb3csIHVuZGVmaW5lZCApIHtcclxuXHJcbiQubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MucG9wID0gXCJmYWRlXCI7XHJcblxyXG59KSggalF1ZXJ5LCB0aGlzICk7XHJcblxyXG4vKlxyXG4qIGZhbGxiYWNrIHRyYW5zaXRpb24gZm9yIHNsaWRlIGluIG5vbi0zRCBzdXBwb3J0aW5nIGJyb3dzZXJzICh3aGljaCB0ZW5kIHRvIGhhbmRsZSBjb21wbGV4IHRyYW5zaXRpb25zIHBvb3JseSBpbiBnZW5lcmFsXHJcbiovXHJcblxyXG4oZnVuY3Rpb24oICQsIHdpbmRvdywgdW5kZWZpbmVkICkge1xyXG5cclxuLy8gVXNlIHRoZSBzaW11bHRhbmVvdXMgdHJhbnNpdGlvbnMgaGFuZGxlciBmb3Igc2xpZGUgdHJhbnNpdGlvbnNcclxuJC5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNsaWRlID0gJC5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNpbXVsdGFuZW91cztcclxuXHJcbi8vIFNldCB0aGUgc2xpZGUgdHJhbnNpdGlvbnMncyBmYWxsYmFjayB0byBcImZhZGVcIlxyXG4kLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlID0gXCJmYWRlXCI7XHJcblxyXG59KSggalF1ZXJ5LCB0aGlzICk7XHJcblxyXG4vKlxyXG4qIGZhbGxiYWNrIHRyYW5zaXRpb24gZm9yIHNsaWRlZG93biBpbiBub24tM0Qgc3VwcG9ydGluZyBicm93c2VycyAod2hpY2ggdGVuZCB0byBoYW5kbGUgY29tcGxleCB0cmFuc2l0aW9ucyBwb29ybHkgaW4gZ2VuZXJhbFxyXG4qL1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB3aW5kb3csIHVuZGVmaW5lZCApIHtcclxuXHJcbiQubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVkb3duID0gXCJmYWRlXCI7XHJcblxyXG59KSggalF1ZXJ5LCB0aGlzICk7XHJcblxyXG4vKlxyXG4qIGZhbGxiYWNrIHRyYW5zaXRpb24gZm9yIHNsaWRlZmFkZSBpbiBub24tM0Qgc3VwcG9ydGluZyBicm93c2VycyAod2hpY2ggdGVuZCB0byBoYW5kbGUgY29tcGxleCB0cmFuc2l0aW9ucyBwb29ybHkgaW4gZ2VuZXJhbFxyXG4qL1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB3aW5kb3csIHVuZGVmaW5lZCApIHtcclxuXHJcbi8vIFNldCB0aGUgc2xpZGUgdHJhbnNpdGlvbnMncyBmYWxsYmFjayB0byBcImZhZGVcIlxyXG4kLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlZmFkZSA9IFwiZmFkZVwiO1xyXG5cclxufSkoIGpRdWVyeSwgdGhpcyApO1xyXG5cclxuLypcclxuKiBmYWxsYmFjayB0cmFuc2l0aW9uIGZvciBzbGlkZXVwIGluIG5vbi0zRCBzdXBwb3J0aW5nIGJyb3dzZXJzICh3aGljaCB0ZW5kIHRvIGhhbmRsZSBjb21wbGV4IHRyYW5zaXRpb25zIHBvb3JseSBpbiBnZW5lcmFsXHJcbiovXHJcblxyXG4oZnVuY3Rpb24oICQsIHdpbmRvdywgdW5kZWZpbmVkICkge1xyXG5cclxuJC5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZXVwID0gXCJmYWRlXCI7XHJcblxyXG59KSggalF1ZXJ5LCB0aGlzICk7XHJcblxyXG4vKlxyXG4qIGZhbGxiYWNrIHRyYW5zaXRpb24gZm9yIHR1cm4gaW4gbm9uLTNEIHN1cHBvcnRpbmcgYnJvd3NlcnMgKHdoaWNoIHRlbmQgdG8gaGFuZGxlIGNvbXBsZXggdHJhbnNpdGlvbnMgcG9vcmx5IGluIGdlbmVyYWxcclxuKi9cclxuXHJcbihmdW5jdGlvbiggJCwgd2luZG93LCB1bmRlZmluZWQgKSB7XHJcblxyXG4kLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnR1cm4gPSBcImZhZGVcIjtcclxuXHJcbn0pKCBqUXVlcnksIHRoaXMgKTtcclxuXHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcbiQubW9iaWxlLmRlZ3JhZGVJbnB1dHMgPSB7XHJcblx0Y29sb3I6IGZhbHNlLFxyXG5cdGRhdGU6IGZhbHNlLFxyXG5cdGRhdGV0aW1lOiBmYWxzZSxcclxuXHRcImRhdGV0aW1lLWxvY2FsXCI6IGZhbHNlLFxyXG5cdGVtYWlsOiBmYWxzZSxcclxuXHRtb250aDogZmFsc2UsXHJcblx0bnVtYmVyOiBmYWxzZSxcclxuXHRyYW5nZTogXCJudW1iZXJcIixcclxuXHRzZWFyY2g6IFwidGV4dFwiLFxyXG5cdHRlbDogZmFsc2UsXHJcblx0dGltZTogZmFsc2UsXHJcblx0dXJsOiBmYWxzZSxcclxuXHR3ZWVrOiBmYWxzZVxyXG59O1xyXG4vLyBCYWNrY29tcGF0IHJlbW92ZSBpbiAxLjVcclxuJC5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzID0gJC5tb2JpbGUuZGVncmFkZUlucHV0cztcclxuXHJcbi8vIEF1dG8gc2VsZi1pbml0IHdpZGdldHNcclxuJC5tb2JpbGUuZGVncmFkZUlucHV0c1dpdGhpbiA9IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XHJcblxyXG5cdHRhcmdldCA9ICQoIHRhcmdldCApO1xyXG5cclxuXHQvLyBEZWdyYWRlIGlucHV0cyB0byBhdm9pZCBwb29ybHkgaW1wbGVtZW50ZWQgbmF0aXZlIGZ1bmN0aW9uYWxpdHlcclxuXHR0YXJnZXQuZmluZCggXCJpbnB1dFwiICkubm90KCAkLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5rZWVwTmF0aXZlU2VsZWN0b3IoKSApLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgZWxlbWVudCA9ICQoIHRoaXMgKSxcclxuXHRcdFx0dHlwZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCBcInR5cGVcIiApLFxyXG5cdFx0XHRvcHRUeXBlID0gJC5tb2JpbGUuZGVncmFkZUlucHV0c1sgdHlwZSBdIHx8IFwidGV4dFwiLFxyXG5cdFx0XHRodG1sLCBoYXNUeXBlLCBmaW5kc3RyLCByZXBzdHI7XHJcblxyXG5cdFx0aWYgKCAkLm1vYmlsZS5kZWdyYWRlSW5wdXRzWyB0eXBlIF0gKSB7XHJcblx0XHRcdGh0bWwgPSAkKCBcIjxkaXY+XCIgKS5odG1sKCBlbGVtZW50LmNsb25lKCkgKS5odG1sKCk7XHJcblx0XHRcdC8vIEluIElFIGJyb3dzZXJzLCB0aGUgdHlwZSBzb21ldGltZXMgZG9lc24ndCBleGlzdCBpbiB0aGUgY2xvbmVkIG1hcmt1cCwgc28gd2UgcmVwbGFjZSB0aGUgY2xvc2luZyB0YWcgaW5zdGVhZFxyXG5cdFx0XHRoYXNUeXBlID0gaHRtbC5pbmRleE9mKCBcIiB0eXBlPVwiICkgPiAtMTtcclxuXHRcdFx0ZmluZHN0ciA9IGhhc1R5cGUgPyAvXFxzK3R5cGU9W1wiJ10/XFx3K1snXCJdPy8gOiAvXFwvPz4vO1xyXG5cdFx0XHRyZXBzdHIgPSBcIiB0eXBlPVxcXCJcIiArIG9wdFR5cGUgKyBcIlxcXCIgZGF0YS1cIiArICQubW9iaWxlLm5zICsgXCJ0eXBlPVxcXCJcIiArIHR5cGUgKyBcIlxcXCJcIiArICggaGFzVHlwZSA/IFwiXCIgOiBcIj5cIiApO1xyXG5cclxuXHRcdFx0ZWxlbWVudC5yZXBsYWNlV2l0aCggaHRtbC5yZXBsYWNlKCBmaW5kc3RyLCByZXBzdHIgKSApO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxufTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgd2luZG93LCB1bmRlZmluZWQgKSB7XHJcblxyXG4kLndpZGdldCggXCJtb2JpbGUucGFnZVwiLCAkLm1vYmlsZS5wYWdlLCB7XHJcblx0b3B0aW9uczoge1xyXG5cclxuXHRcdC8vIEFjY2VwdHMgbGVmdCwgcmlnaHQgYW5kIG5vbmVcclxuXHRcdGNsb3NlQnRuOiBcImxlZnRcIixcclxuXHRcdGNsb3NlQnRuVGV4dDogXCJDbG9zZVwiLFxyXG5cdFx0b3ZlcmxheVRoZW1lOiBcImFcIixcclxuXHRcdGNvcm5lcnM6IHRydWUsXHJcblx0XHRkaWFsb2c6IGZhbHNlXHJcblx0fSxcclxuXHJcblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLl9zdXBlcigpO1xyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGlhbG9nICkge1xyXG5cclxuXHRcdFx0JC5leHRlbmQoIHRoaXMsIHtcclxuXHRcdFx0XHRfaW5uZXI6IHRoaXMuZWxlbWVudC5jaGlsZHJlbigpLFxyXG5cdFx0XHRcdF9oZWFkZXJDbG9zZUJ1dHRvbjogbnVsbFxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmICggIXRoaXMub3B0aW9ucy5lbmhhbmNlZCApIHtcclxuXHRcdFx0XHR0aGlzLl9zZXRDbG9zZUJ0biggdGhpcy5vcHRpb25zLmNsb3NlQnRuICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfZW5oYW5jZTogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLl9zdXBlcigpO1xyXG5cclxuXHRcdC8vIENsYXNzIHRoZSBtYXJrdXAgZm9yIGRpYWxvZyBzdHlsaW5nIGFuZCB3cmFwIGludGVyaW9yXHJcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaWFsb2cgKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyggXCJ1aS1kaWFsb2dcIiApXHJcblx0XHRcdFx0LndyYXBJbm5lciggJCggXCI8ZGl2Lz5cIiwge1xyXG5cclxuXHRcdFx0XHRcdC8vIEFSSUEgcm9sZVxyXG5cdFx0XHRcdFx0XCJyb2xlXCIgOiBcImRpYWxvZ1wiLFxyXG5cdFx0XHRcdFx0XCJjbGFzc1wiIDogXCJ1aS1kaWFsb2ctY29udGFpbiB1aS1vdmVybGF5LXNoYWRvd1wiICtcclxuXHRcdFx0XHRcdFx0KCB0aGlzLm9wdGlvbnMuY29ybmVycyA/IFwiIHVpLWNvcm5lci1hbGxcIiA6IFwiXCIgKVxyXG5cdFx0XHRcdH0pKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfc2V0T3B0aW9uczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XHJcblx0XHR2YXIgY2xvc2VCdXR0b25Mb2NhdGlvbiwgY2xvc2VCdXR0b25UZXh0LFxyXG5cdFx0XHRjdXJyZW50T3B0cyA9IHRoaXMub3B0aW9ucztcclxuXHJcblx0XHRpZiAoIG9wdGlvbnMuY29ybmVycyAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHR0aGlzLl9pbm5lci50b2dnbGVDbGFzcyggXCJ1aS1jb3JuZXItYWxsXCIsICEhb3B0aW9ucy5jb3JuZXJzICk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBvcHRpb25zLm92ZXJsYXlUaGVtZSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRpZiAoICQubW9iaWxlLmFjdGl2ZVBhZ2VbIDAgXSA9PT0gdGhpcy5lbGVtZW50WyAwIF0gKSB7XHJcblx0XHRcdFx0Y3VycmVudE9wdHMub3ZlcmxheVRoZW1lID0gb3B0aW9ucy5vdmVybGF5VGhlbWU7XHJcblx0XHRcdFx0dGhpcy5faGFuZGxlUGFnZUJlZm9yZVNob3coKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0aW9ucy5jbG9zZUJ0blRleHQgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0Y2xvc2VCdXR0b25Mb2NhdGlvbiA9IGN1cnJlbnRPcHRzLmNsb3NlQnRuO1xyXG5cdFx0XHRjbG9zZUJ1dHRvblRleHQgPSBvcHRpb25zLmNsb3NlQnRuVGV4dDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIG9wdGlvbnMuY2xvc2VCdG4gIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0Y2xvc2VCdXR0b25Mb2NhdGlvbiA9IG9wdGlvbnMuY2xvc2VCdG47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBjbG9zZUJ1dHRvbkxvY2F0aW9uICkge1xyXG5cdFx0XHR0aGlzLl9zZXRDbG9zZUJ0biggY2xvc2VCdXR0b25Mb2NhdGlvbiwgY2xvc2VCdXR0b25UZXh0ICk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fc3VwZXIoIG9wdGlvbnMgKTtcclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlUGFnZUJlZm9yZVNob3c6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICggdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSAmJiB0aGlzLm9wdGlvbnMuZGlhbG9nICkge1xyXG5cdFx0XHR0aGlzLnJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQoKTtcclxuXHRcdFx0dGhpcy5zZXRDb250YWluZXJCYWNrZ3JvdW5kKCB0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lICk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLl9zdXBlcigpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9zZXRDbG9zZUJ0bjogZnVuY3Rpb24oIGxvY2F0aW9uLCB0ZXh0ICkge1xyXG5cdFx0dmFyIGRzdCxcclxuXHRcdFx0YnRuID0gdGhpcy5faGVhZGVyQ2xvc2VCdXR0b247XHJcblxyXG5cdFx0Ly8gU2FuaXRpemUgdmFsdWVcclxuXHRcdGxvY2F0aW9uID0gXCJsZWZ0XCIgPT09IGxvY2F0aW9uID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCIgPT09IGxvY2F0aW9uID8gXCJyaWdodFwiIDogXCJub25lXCI7XHJcblxyXG5cdFx0aWYgKCBcIm5vbmVcIiA9PT0gbG9jYXRpb24gKSB7XHJcblx0XHRcdGlmICggYnRuICkge1xyXG5cdFx0XHRcdGJ0bi5yZW1vdmUoKTtcclxuXHRcdFx0XHRidG4gPSBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKCBidG4gKSB7XHJcblx0XHRcdGJ0bi5yZW1vdmVDbGFzcyggXCJ1aS1idG4tbGVmdCB1aS1idG4tcmlnaHRcIiApLmFkZENsYXNzKCBcInVpLWJ0bi1cIiArIGxvY2F0aW9uICk7XHJcblx0XHRcdGlmICggdGV4dCApIHtcclxuXHRcdFx0XHRidG4udGV4dCggdGV4dCApO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRkc3QgPSB0aGlzLl9pbm5lci5maW5kKCBcIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpXCIgKS5maXJzdCgpO1xyXG5cdFx0XHRidG4gPSAkKCBcIjxhPjwvYT5cIiwge1xyXG5cdFx0XHRcdFx0XCJocmVmXCI6IFwiI1wiLFxyXG5cdFx0XHRcdFx0XCJjbGFzc1wiOiBcInVpLWJ0biB1aS1jb3JuZXItYWxsIHVpLWljb24tZGVsZXRlIHVpLWJ0bi1pY29uLW5vdGV4dCB1aS1idG4tXCIgKyBsb2NhdGlvblxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LmF0dHIoIFwiZGF0YS1cIiArICQubW9iaWxlLm5zICsgXCJyZWxcIiwgXCJiYWNrXCIgKVxyXG5cdFx0XHRcdC50ZXh0KCB0ZXh0IHx8IHRoaXMub3B0aW9ucy5jbG9zZUJ0blRleHQgfHwgXCJcIiApXHJcblx0XHRcdFx0LnByZXBlbmRUbyggZHN0ICk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5faGVhZGVyQ2xvc2VCdXR0b24gPSBidG47XHJcblx0fVxyXG59KTtcclxuXHJcbn0pKCBqUXVlcnksIHRoaXMgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgd2luZG93LCB1bmRlZmluZWQgKSB7XHJcblxyXG4kLndpZGdldCggXCJtb2JpbGUuZGlhbG9nXCIsIHtcclxuXHRvcHRpb25zOiB7XHJcblxyXG5cdFx0Ly8gQWNjZXB0cyBsZWZ0LCByaWdodCBhbmQgbm9uZVxyXG5cdFx0Y2xvc2VCdG46IFwibGVmdFwiLFxyXG5cdFx0Y2xvc2VCdG5UZXh0OiBcIkNsb3NlXCIsXHJcblx0XHRvdmVybGF5VGhlbWU6IFwiYVwiLFxyXG5cdFx0Y29ybmVyczogdHJ1ZVxyXG5cdH0sXHJcblxyXG5cdC8vIE92ZXJyaWRlIHRoZSB0aGVtZSBzZXQgYnkgdGhlIHBhZ2UgcGx1Z2luIG9uIHBhZ2VzaG93XHJcblx0X2hhbmRsZVBhZ2VCZWZvcmVTaG93OiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuX2lzQ2xvc2VhYmxlID0gdHJ1ZTtcclxuXHRcdGlmICggdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSApIHtcclxuXHRcdFx0dGhpcy5lbGVtZW50XHJcblx0XHRcdFx0LnBhZ2UoIFwicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZFwiIClcclxuXHRcdFx0XHQucGFnZSggXCJzZXRDb250YWluZXJCYWNrZ3JvdW5kXCIsIHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUgKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlUGFnZUJlZm9yZUhpZGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5faXNDbG9zZWFibGUgPSBmYWxzZTtcclxuXHR9LFxyXG5cclxuXHQvLyBjbGljayBhbmQgc3VibWl0IGV2ZW50czpcclxuXHQvLyAtIGNsaWNrcyBhbmQgc3VibWl0cyBzaG91bGQgdXNlIHRoZSBjbG9zaW5nIHRyYW5zaXRpb24gdGhhdCB0aGUgZGlhbG9nXHJcblx0Ly8gICBvcGVuZWQgd2l0aCB1bmxlc3MgYSBkYXRhLXRyYW5zaXRpb24gaXMgc3BlY2lmaWVkIG9uIHRoZSBsaW5rL2Zvcm1cclxuXHQvLyAtIGlmIHRoZSBjbGljayB3YXMgb24gdGhlIGNsb3NlIGJ1dHRvbiwgb3IgdGhlIGxpbmsgaGFzIGEgZGF0YS1yZWw9XCJiYWNrXCJcclxuXHQvLyAgIGl0J2xsIGdvIGJhY2sgaW4gaGlzdG9yeSBuYXR1cmFsbHlcclxuXHRfaGFuZGxlVkNsaWNrU3VibWl0OiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHR2YXIgYXR0cnMsXHJcblx0XHRcdCR0YXJnZXQgPSAkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCBldmVudC50eXBlID09PSBcInZjbGlja1wiID8gXCJhXCIgOiBcImZvcm1cIiApO1xyXG5cclxuXHRcdGlmICggJHRhcmdldC5sZW5ndGggJiYgISR0YXJnZXQuanFtRGF0YSggXCJ0cmFuc2l0aW9uXCIgKSApIHtcclxuXHRcdFx0YXR0cnMgPSB7fTtcclxuXHRcdFx0YXR0cnNbIFwiZGF0YS1cIiArICQubW9iaWxlLm5zICsgXCJ0cmFuc2l0aW9uXCIgXSA9XHJcblx0XHRcdFx0KCAkLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpIHx8IHt9IClbIFwidHJhbnNpdGlvblwiIF0gfHxcclxuXHRcdFx0XHQkLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjtcclxuXHRcdFx0YXR0cnNbIFwiZGF0YS1cIiArICQubW9iaWxlLm5zICsgXCJkaXJlY3Rpb25cIiBdID0gXCJyZXZlcnNlXCI7XHJcblx0XHRcdCR0YXJnZXQuYXR0ciggYXR0cnMgKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBlbGVtID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHRvcHRzID0gdGhpcy5vcHRpb25zO1xyXG5cclxuXHRcdC8vIENsYXNzIHRoZSBtYXJrdXAgZm9yIGRpYWxvZyBzdHlsaW5nIGFuZCB3cmFwIGludGVyaW9yXHJcblx0XHRlbGVtLmFkZENsYXNzKCBcInVpLWRpYWxvZ1wiIClcclxuXHRcdFx0LndyYXBJbm5lciggJCggXCI8ZGl2Lz5cIiwge1xyXG5cclxuXHRcdFx0XHQvLyBBUklBIHJvbGVcclxuXHRcdFx0XHRcInJvbGVcIiA6IFwiZGlhbG9nXCIsXHJcblx0XHRcdFx0XCJjbGFzc1wiIDogXCJ1aS1kaWFsb2ctY29udGFpbiB1aS1vdmVybGF5LXNoYWRvd1wiICtcclxuXHRcdFx0XHRcdCggISFvcHRzLmNvcm5lcnMgPyBcIiB1aS1jb3JuZXItYWxsXCIgOiBcIlwiIClcclxuXHRcdFx0fSkpO1xyXG5cclxuXHRcdCQuZXh0ZW5kKCB0aGlzLCB7XHJcblx0XHRcdF9pc0Nsb3NlYWJsZTogZmFsc2UsXHJcblx0XHRcdF9pbm5lcjogZWxlbS5jaGlsZHJlbigpLFxyXG5cdFx0XHRfaGVhZGVyQ2xvc2VCdXR0b246IG51bGxcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuX29uKCBlbGVtLCB7XHJcblx0XHRcdHZjbGljazogXCJfaGFuZGxlVkNsaWNrU3VibWl0XCIsXHJcblx0XHRcdHN1Ym1pdDogXCJfaGFuZGxlVkNsaWNrU3VibWl0XCIsXHJcblx0XHRcdHBhZ2ViZWZvcmVzaG93OiBcIl9oYW5kbGVQYWdlQmVmb3JlU2hvd1wiLFxyXG5cdFx0XHRwYWdlYmVmb3JlaGlkZTogXCJfaGFuZGxlUGFnZUJlZm9yZUhpZGVcIlxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5fc2V0Q2xvc2VCdG4oIG9wdHMuY2xvc2VCdG4gKTtcclxuXHR9LFxyXG5cclxuXHRfc2V0T3B0aW9uczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XHJcblx0XHR2YXIgY2xvc2VCdXR0b25Mb2NhdGlvbiwgY2xvc2VCdXR0b25UZXh0LFxyXG5cdFx0XHRjdXJyZW50T3B0cyA9IHRoaXMub3B0aW9ucztcclxuXHJcblx0XHRpZiAoIG9wdGlvbnMuY29ybmVycyAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHR0aGlzLl9pbm5lci50b2dnbGVDbGFzcyggXCJ1aS1jb3JuZXItYWxsXCIsICEhb3B0aW9ucy5jb3JuZXJzICk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBvcHRpb25zLm92ZXJsYXlUaGVtZSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRpZiAoICQubW9iaWxlLmFjdGl2ZVBhZ2VbIDAgXSA9PT0gdGhpcy5lbGVtZW50WyAwIF0gKSB7XHJcblx0XHRcdFx0Y3VycmVudE9wdHMub3ZlcmxheVRoZW1lID0gb3B0aW9ucy5vdmVybGF5VGhlbWU7XHJcblx0XHRcdFx0dGhpcy5faGFuZGxlUGFnZUJlZm9yZVNob3coKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0aW9ucy5jbG9zZUJ0blRleHQgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0Y2xvc2VCdXR0b25Mb2NhdGlvbiA9IGN1cnJlbnRPcHRzLmNsb3NlQnRuO1xyXG5cdFx0XHRjbG9zZUJ1dHRvblRleHQgPSBvcHRpb25zLmNsb3NlQnRuVGV4dDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIG9wdGlvbnMuY2xvc2VCdG4gIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0Y2xvc2VCdXR0b25Mb2NhdGlvbiA9IG9wdGlvbnMuY2xvc2VCdG47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBjbG9zZUJ1dHRvbkxvY2F0aW9uICkge1xyXG5cdFx0XHR0aGlzLl9zZXRDbG9zZUJ0biggY2xvc2VCdXR0b25Mb2NhdGlvbiwgY2xvc2VCdXR0b25UZXh0ICk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fc3VwZXIoIG9wdGlvbnMgKTtcclxuXHR9LFxyXG5cclxuXHRfc2V0Q2xvc2VCdG46IGZ1bmN0aW9uKCBsb2NhdGlvbiwgdGV4dCApIHtcclxuXHRcdHZhciBkc3QsXHJcblx0XHRcdGJ0biA9IHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uO1xyXG5cclxuXHRcdC8vIFNhbml0aXplIHZhbHVlXHJcblx0XHRsb2NhdGlvbiA9IFwibGVmdFwiID09PSBsb2NhdGlvbiA/IFwibGVmdFwiIDogXCJyaWdodFwiID09PSBsb2NhdGlvbiA/IFwicmlnaHRcIiA6IFwibm9uZVwiO1xyXG5cclxuXHRcdGlmICggXCJub25lXCIgPT09IGxvY2F0aW9uICkge1xyXG5cdFx0XHRpZiAoIGJ0biApIHtcclxuXHRcdFx0XHRidG4ucmVtb3ZlKCk7XHJcblx0XHRcdFx0YnRuID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIGlmICggYnRuICkge1xyXG5cdFx0XHRidG4ucmVtb3ZlQ2xhc3MoIFwidWktYnRuLWxlZnQgdWktYnRuLXJpZ2h0XCIgKS5hZGRDbGFzcyggXCJ1aS1idG4tXCIgKyBsb2NhdGlvbiApO1xyXG5cdFx0XHRpZiAoIHRleHQgKSB7XHJcblx0XHRcdFx0YnRuLnRleHQoIHRleHQgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZHN0ID0gdGhpcy5faW5uZXIuZmluZCggXCI6anFtRGF0YShyb2xlPSdoZWFkZXInKVwiICkuZmlyc3QoKTtcclxuXHRcdFx0YnRuID0gJCggXCI8YT48L2E+XCIsIHtcclxuXHRcdFx0XHRcdFwicm9sZVwiOiBcImJ1dHRvblwiLFxyXG5cdFx0XHRcdFx0XCJocmVmXCI6IFwiI1wiLFxyXG5cdFx0XHRcdFx0XCJjbGFzc1wiOiBcInVpLWJ0biB1aS1jb3JuZXItYWxsIHVpLWljb24tZGVsZXRlIHVpLWJ0bi1pY29uLW5vdGV4dCB1aS1idG4tXCIgKyBsb2NhdGlvblxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0LnRleHQoIHRleHQgfHwgdGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dCB8fCBcIlwiIClcclxuXHRcdFx0XHQucHJlcGVuZFRvKCBkc3QgKTtcclxuXHRcdFx0dGhpcy5fb24oIGJ0biwgeyBjbGljazogXCJjbG9zZVwiIH0gKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9oZWFkZXJDbG9zZUJ1dHRvbiA9IGJ0bjtcclxuXHR9LFxyXG5cclxuXHQvLyBDbG9zZSBtZXRob2QgZ29lcyBiYWNrIGluIGhpc3RvcnlcclxuXHRjbG9zZTogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaGlzdCA9ICQubW9iaWxlLm5hdmlnYXRlLmhpc3Rvcnk7XHJcblxyXG5cdFx0aWYgKCB0aGlzLl9pc0Nsb3NlYWJsZSApIHtcclxuXHRcdFx0dGhpcy5faXNDbG9zZWFibGUgPSBmYWxzZTtcclxuXHRcdFx0Ly8gSWYgdGhlIGhhc2ggbGlzdGVuaW5nIGlzIGVuYWJsZWQgYW5kIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBwcmVjZWRpbmcgaGlzdG9yeVxyXG5cdFx0XHQvLyBlbnRyeSBpdCdzIG9rIHRvIGdvIGJhY2suIEluaXRpYWwgcGFnZXMgd2l0aCB0aGUgZGlhbG9nIGhhc2ggc3RhdGUgYXJlIGFuIGV4YW1wbGVcclxuXHRcdFx0Ly8gd2hlcmUgdGhlIHN0YWNrIGNoZWNrIGlzIG5lY2Vzc2FyeVxyXG5cdFx0XHRpZiAoICQubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkICYmIGhpc3QuYWN0aXZlSW5kZXggPiAwICkge1xyXG5cdFx0XHRcdCQubW9iaWxlLmJhY2soKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkLm1vYmlsZS5wYWdlQ29udGFpbmVyLnBhZ2Vjb250YWluZXIoIFwiYmFja1wiICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxufSkoIGpRdWVyeSwgdGhpcyApO1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblxyXG52YXIgckluaXRpYWxMZXR0ZXIgPSAvKFtBLVpdKS9nLFxyXG5cclxuXHQvLyBDb25zdHJ1Y3QgaWNvbnBvcyBjbGFzcyBmcm9tIGljb25wb3MgdmFsdWVcclxuXHRpY29ucG9zQ2xhc3MgPSBmdW5jdGlvbiggaWNvbnBvcyApIHtcclxuXHRcdHJldHVybiAoIFwidWktYnRuLWljb24tXCIgKyAoIGljb25wb3MgPT09IG51bGwgPyBcImxlZnRcIiA6IGljb25wb3MgKSApO1xyXG5cdH07XHJcblxyXG4kLndpZGdldCggXCJtb2JpbGUuY29sbGFwc2libGVcIiwge1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdGVuaGFuY2VkOiBmYWxzZSxcclxuXHRcdGV4cGFuZEN1ZVRleHQ6IG51bGwsXHJcblx0XHRjb2xsYXBzZUN1ZVRleHQ6IG51bGwsXHJcblx0XHRjb2xsYXBzZWQ6IHRydWUsXHJcblx0XHRoZWFkaW5nOiBcImgxLGgyLGgzLGg0LGg1LGg2LGxlZ2VuZFwiLFxyXG5cdFx0Y29sbGFwc2VkSWNvbjogbnVsbCxcclxuXHRcdGV4cGFuZGVkSWNvbjogbnVsbCxcclxuXHRcdGljb25wb3M6IG51bGwsXHJcblx0XHR0aGVtZTogbnVsbCxcclxuXHRcdGNvbnRlbnRUaGVtZTogbnVsbCxcclxuXHRcdGluc2V0OiBudWxsLFxyXG5cdFx0Y29ybmVyczogbnVsbCxcclxuXHRcdG1pbmk6IG51bGxcclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBlbGVtID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHR1aSA9IHtcclxuXHRcdFx0XHRhY2NvcmRpb246IGVsZW1cclxuXHRcdFx0XHRcdC5jbG9zZXN0KCBcIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpLFwiICtcclxuXHRcdFx0XHRcdFx0XCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZXNldCcpXCIgK1xyXG5cdFx0XHRcdFx0XHQoICQubW9iaWxlLmNvbGxhcHNpYmxlc2V0ID8gXCIsIDptb2JpbGUtY29sbGFwc2libGVzZXRcIiA6XHJcblx0XHRcdFx0XHRcdFx0XCJcIiApIClcclxuXHRcdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1jb2xsYXBzaWJsZS1zZXRcIiApXHJcblx0XHRcdH07XHJcblxyXG5cdFx0dGhpcy5fdWkgPSB1aTtcclxuXHRcdHRoaXMuX3JlbmRlcmVkT3B0aW9ucyA9IHRoaXMuX2dldE9wdGlvbnMoIHRoaXMub3B0aW9ucyApO1xyXG5cclxuXHRcdGlmICggdGhpcy5vcHRpb25zLmVuaGFuY2VkICkge1xyXG5cdFx0XHR1aS5oZWFkaW5nID0gdGhpcy5lbGVtZW50LmNoaWxkcmVuKCBcIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nXCIgKTtcclxuXHRcdFx0dWkuY29udGVudCA9IHVpLmhlYWRpbmcubmV4dCgpO1xyXG5cdFx0XHR1aS5hbmNob3IgPSB1aS5oZWFkaW5nLmNoaWxkcmVuKCk7XHJcblx0XHRcdHVpLnN0YXR1cyA9IHVpLmFuY2hvci5jaGlsZHJlbiggXCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXNcIiApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5fZW5oYW5jZSggZWxlbSwgdWkgKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9vbiggdWkuaGVhZGluZywge1xyXG5cdFx0XHRcInRhcFwiOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR1aS5oZWFkaW5nLmZpbmQoIFwiYVwiICkuZmlyc3QoKS5hZGRDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdFwiY2xpY2tcIjogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0XHRcdHRoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCAhdWkuaGVhZGluZy5oYXNDbGFzcyggXCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZFwiICkgKTtcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHQvLyBBZGp1c3QgdGhlIGtleXMgaW5zaWRlIG9wdGlvbnMgZm9yIGluaGVyaXRlZCB2YWx1ZXNcclxuXHRfZ2V0T3B0aW9uczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XHJcblx0XHR2YXIga2V5LFxyXG5cdFx0XHRhY2NvcmRpb24gPSB0aGlzLl91aS5hY2NvcmRpb24sXHJcblx0XHRcdGFjY29yZGlvbldpZGdldCA9IHRoaXMuX3VpLmFjY29yZGlvbldpZGdldDtcclxuXHJcblx0XHQvLyBDb3B5IG9wdGlvbnNcclxuXHRcdG9wdGlvbnMgPSAkLmV4dGVuZCgge30sIG9wdGlvbnMgKTtcclxuXHJcblx0XHRpZiAoIGFjY29yZGlvbi5sZW5ndGggJiYgIWFjY29yZGlvbldpZGdldCApIHtcclxuXHRcdFx0dGhpcy5fdWkuYWNjb3JkaW9uV2lkZ2V0ID1cclxuXHRcdFx0YWNjb3JkaW9uV2lkZ2V0ID0gYWNjb3JkaW9uLmRhdGEoIFwibW9iaWxlLWNvbGxhcHNpYmxlc2V0XCIgKTtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKCBrZXkgaW4gb3B0aW9ucyApIHtcclxuXHJcblx0XHRcdC8vIFJldHJpZXZlIHRoZSBvcHRpb24gdmFsdWUgZmlyc3QgZnJvbSB0aGUgb3B0aW9ucyBvYmplY3QgcGFzc2VkIGluIGFuZCwgaWZcclxuXHRcdFx0Ly8gbnVsbCwgZnJvbSB0aGUgcGFyZW50IGFjY29yZGlvbiBvciwgaWYgdGhhdCdzIG51bGwgdG9vLCBvciBpZiB0aGVyZSdzIG5vXHJcblx0XHRcdC8vIHBhcmVudCBhY2NvcmRpb24sIHRoZW4gZnJvbSB0aGUgZGVmYXVsdHMuXHJcblx0XHRcdG9wdGlvbnNbIGtleSBdID1cclxuXHRcdFx0XHQoIG9wdGlvbnNbIGtleSBdICE9IG51bGwgKSA/IG9wdGlvbnNbIGtleSBdIDpcclxuXHRcdFx0XHQoIGFjY29yZGlvbldpZGdldCApID8gYWNjb3JkaW9uV2lkZ2V0Lm9wdGlvbnNbIGtleSBdIDpcclxuXHRcdFx0XHRhY2NvcmRpb24ubGVuZ3RoID8gJC5tb2JpbGUuZ2V0QXR0cmlidXRlKCBhY2NvcmRpb25bIDAgXSxcclxuXHRcdFx0XHRcdGtleS5yZXBsYWNlKCBySW5pdGlhbExldHRlciwgXCItJDFcIiApLnRvTG93ZXJDYXNlKCkgKTpcclxuXHRcdFx0XHRudWxsO1xyXG5cclxuXHRcdFx0aWYgKCBudWxsID09IG9wdGlvbnNbIGtleSBdICkge1xyXG5cdFx0XHRcdG9wdGlvbnNbIGtleSBdID0gJC5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHNbIGtleSBdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG9wdGlvbnM7XHJcblx0fSxcclxuXHJcblx0X3RoZW1lQ2xhc3NGcm9tT3B0aW9uOiBmdW5jdGlvbiggcHJlZml4LCB2YWx1ZSApIHtcclxuXHRcdHJldHVybiAoIHZhbHVlID8gKCB2YWx1ZSA9PT0gXCJub25lXCIgPyBcIlwiIDogcHJlZml4ICsgdmFsdWUgKSA6IFwiXCIgKTtcclxuXHR9LFxyXG5cclxuXHRfZW5oYW5jZTogZnVuY3Rpb24oIGVsZW0sIHVpICkge1xyXG5cdFx0dmFyIGljb25jbGFzcyxcclxuXHRcdFx0b3B0cyA9IHRoaXMuX3JlbmRlcmVkT3B0aW9ucyxcclxuXHRcdFx0Y29udGVudFRoZW1lQ2xhc3MgPSB0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbiggXCJ1aS1ib2R5LVwiLCBvcHRzLmNvbnRlbnRUaGVtZSApO1xyXG5cclxuXHRcdGVsZW0uYWRkQ2xhc3MoIFwidWktY29sbGFwc2libGUgXCIgK1xyXG5cdFx0XHQoIG9wdHMuaW5zZXQgPyBcInVpLWNvbGxhcHNpYmxlLWluc2V0IFwiIDogXCJcIiApICtcclxuXHRcdFx0KCBvcHRzLmluc2V0ICYmIG9wdHMuY29ybmVycyA/IFwidWktY29ybmVyLWFsbCBcIiA6IFwiXCIgKSArXHJcblx0XHRcdCggY29udGVudFRoZW1lQ2xhc3MgPyBcInVpLWNvbGxhcHNpYmxlLXRoZW1lZC1jb250ZW50IFwiIDogXCJcIiApICk7XHJcblx0XHR1aS5vcmlnaW5hbEhlYWRpbmcgPSBlbGVtLmNoaWxkcmVuKCB0aGlzLm9wdGlvbnMuaGVhZGluZyApLmZpcnN0KCksXHJcblx0XHR1aS5jb250ZW50ID0gZWxlbVxyXG5cdFx0XHQud3JhcElubmVyKCBcIjxkaXYgXCIgK1xyXG5cdFx0XHRcdFwiY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWNvbnRlbnQgXCIgK1xyXG5cdFx0XHRcdGNvbnRlbnRUaGVtZUNsYXNzICsgXCInPjwvZGl2PlwiIClcclxuXHRcdFx0LmNoaWxkcmVuKCBcIi51aS1jb2xsYXBzaWJsZS1jb250ZW50XCIgKSxcclxuXHRcdHVpLmhlYWRpbmcgPSB1aS5vcmlnaW5hbEhlYWRpbmc7XHJcblxyXG5cdFx0Ly8gUmVwbGFjZSBjb2xsYXBzaWJsZUhlYWRpbmcgaWYgaXQncyBhIGxlZ2VuZFxyXG5cdFx0aWYgKCB1aS5oZWFkaW5nLmlzKCBcImxlZ2VuZFwiICkgKSB7XHJcblx0XHRcdHVpLmhlYWRpbmcgPSAkKCBcIjxkaXYgcm9sZT0naGVhZGluZyc+XCIrIHVpLmhlYWRpbmcuaHRtbCgpICtcIjwvZGl2PlwiICk7XHJcblx0XHRcdHVpLnBsYWNlaG9sZGVyID0gJCggXCI8ZGl2PjwhLS0gcGxhY2Vob2xkZXIgZm9yIGxlZ2VuZCAtLT48L2Rpdj5cIiApLmluc2VydEJlZm9yZSggdWkub3JpZ2luYWxIZWFkaW5nICk7XHJcblx0XHRcdHVpLm9yaWdpbmFsSGVhZGluZy5yZW1vdmUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpY29uY2xhc3MgPSAoIG9wdHMuY29sbGFwc2VkID8gKCBvcHRzLmNvbGxhcHNlZEljb24gPyBcInVpLWljb24tXCIgKyBvcHRzLmNvbGxhcHNlZEljb24gOiBcIlwiICk6XHJcblx0XHRcdCggb3B0cy5leHBhbmRlZEljb24gPyBcInVpLWljb24tXCIgKyBvcHRzLmV4cGFuZGVkSWNvbiA6IFwiXCIgKSApO1xyXG5cclxuXHRcdHVpLnN0YXR1cyA9ICQoIFwiPHNwYW4gY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzJz48L3NwYW4+XCIgKTtcclxuXHRcdHVpLmFuY2hvciA9IHVpLmhlYWRpbmdcclxuXHRcdFx0LmRldGFjaCgpXHJcblx0XHRcdC8vbW9kaWZ5IG1hcmt1cCAmIGF0dHJpYnV0ZXNcclxuXHRcdFx0LmFkZENsYXNzKCBcInVpLWNvbGxhcHNpYmxlLWhlYWRpbmdcIiApXHJcblx0XHRcdC5hcHBlbmQoIHVpLnN0YXR1cyApXHJcblx0XHRcdC53cmFwSW5uZXIoIFwiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+XCIgKVxyXG5cdFx0XHQuZmluZCggXCJhXCIgKVxyXG5cdFx0XHRcdC5maXJzdCgpXHJcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLWJ0biBcIiArXHJcblx0XHRcdFx0XHQoIGljb25jbGFzcyA/IGljb25jbGFzcyArIFwiIFwiIDogXCJcIiApICtcclxuXHRcdFx0XHRcdCggaWNvbmNsYXNzID8gaWNvbnBvc0NsYXNzKCBvcHRzLmljb25wb3MgKSArXHJcblx0XHRcdFx0XHRcdFwiIFwiIDogXCJcIiApICtcclxuXHRcdFx0XHRcdHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCBcInVpLWJ0bi1cIiwgb3B0cy50aGVtZSApICsgXCIgXCIgK1xyXG5cdFx0XHRcdFx0KCBvcHRzLm1pbmkgPyBcInVpLW1pbmkgXCIgOiBcIlwiICkgKTtcclxuXHJcblx0XHQvL2Ryb3AgaGVhZGluZyBpbiBiZWZvcmUgY29udGVudFxyXG5cdFx0dWkuaGVhZGluZy5pbnNlcnRCZWZvcmUoIHVpLmNvbnRlbnQgKTtcclxuXHJcblx0XHR0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZSggdGhpcy5vcHRpb25zLmNvbGxhcHNlZCApO1xyXG5cclxuXHRcdHJldHVybiB1aTtcclxuXHR9LFxyXG5cclxuXHRyZWZyZXNoOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuX2FwcGx5T3B0aW9ucyggdGhpcy5vcHRpb25zICk7XHJcblx0XHR0aGlzLl9yZW5kZXJlZE9wdGlvbnMgPSB0aGlzLl9nZXRPcHRpb25zKCB0aGlzLm9wdGlvbnMgKTtcclxuXHR9LFxyXG5cclxuXHRfYXBwbHlPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcclxuXHRcdHZhciBpc0NvbGxhcHNlZCwgbmV3VGhlbWUsIG9sZFRoZW1lLCBoYXNDb3JuZXJzLCBoYXNJY29uLFxyXG5cdFx0XHRlbGVtID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHRjdXJyZW50T3B0cyA9IHRoaXMuX3JlbmRlcmVkT3B0aW9ucyxcclxuXHRcdFx0dWkgPSB0aGlzLl91aSxcclxuXHRcdFx0YW5jaG9yID0gdWkuYW5jaG9yLFxyXG5cdFx0XHRzdGF0dXMgPSB1aS5zdGF0dXMsXHJcblx0XHRcdG9wdHMgPSB0aGlzLl9nZXRPcHRpb25zKCBvcHRpb25zICk7XHJcblxyXG5cdFx0Ly8gRmlyc3QgYW5kIGZvcmVtb3N0IHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoZSBjb2xsYXBzaWJsZSBpcyBpbiB0aGUgcHJvcGVyXHJcblx0XHQvLyBzdGF0ZSwgaW4gY2FzZSBzb21lYm9keSBkZWNpZGVkIHRvIGNoYW5nZSB0aGUgY29sbGFwc2VkIG9wdGlvbiBhdCB0aGVcclxuXHRcdC8vIHNhbWUgdGltZSBhcyBhbm90aGVyIG9wdGlvblxyXG5cdFx0aWYgKCBvcHRpb25zLmNvbGxhcHNlZCAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHR0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZSggb3B0aW9ucy5jb2xsYXBzZWQgKTtcclxuXHRcdH1cclxuXHJcblx0XHRpc0NvbGxhcHNlZCA9IGVsZW0uaGFzQ2xhc3MoIFwidWktY29sbGFwc2libGUtY29sbGFwc2VkXCIgKTtcclxuXHJcblx0XHQvLyBXZSBvbmx5IG5lZWQgdG8gYXBwbHkgdGhlIGN1ZSB0ZXh0IGZvciB0aGUgY3VycmVudCBzdGF0ZSByaWdodCBhd2F5LlxyXG5cdFx0Ly8gVGhlIGN1ZSB0ZXh0IGZvciB0aGUgYWx0ZXJuYXRlIHN0YXRlIHdpbGwgYmUgc3RvcmVkIGluIHRoZSBvcHRpb25zXHJcblx0XHQvLyBhbmQgYXBwbGllZCB0aGUgbmV4dCB0aW1lIHRoZSBjb2xsYXBzaWJsZSdzIHN0YXRlIGlzIHRvZ2dsZWRcclxuXHRcdGlmICggaXNDb2xsYXBzZWQgKSB7XHJcblx0XHRcdGlmICggb3B0cy5leHBhbmRDdWVUZXh0ICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0c3RhdHVzLnRleHQoIG9wdHMuZXhwYW5kQ3VlVGV4dCApO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAoIG9wdHMuY29sbGFwc2VDdWVUZXh0ICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0c3RhdHVzLnRleHQoIG9wdHMuY29sbGFwc2VDdWVUZXh0ICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBVcGRhdGUgaWNvblxyXG5cclxuXHRcdC8vIElzIGl0IHN1cHBvc2VkIHRvIGhhdmUgYW4gaWNvbj9cclxuXHRcdGhhc0ljb24gPVxyXG5cclxuXHRcdFx0Ly8gSWYgdGhlIGNvbGxhcHNlZEljb24gaXMgYmVpbmcgc2V0LCBjb25zdWx0IHRoYXRcclxuXHRcdFx0KCBvcHRzLmNvbGxhcHNlZEljb24gIT09IHVuZGVmaW5lZCA/IG9wdHMuY29sbGFwc2VkSWNvbiAhPT0gZmFsc2UgOlxyXG5cclxuXHRcdFx0XHQvLyBPdGhlcndpc2UgY29uc3VsdCB0aGUgZXhpc3Rpbmcgb3B0aW9uIHZhbHVlXHJcblx0XHRcdFx0Y3VycmVudE9wdHMuY29sbGFwc2VkSWNvbiAhPT0gZmFsc2UgKTtcclxuXHJcblxyXG5cdFx0Ly8gSWYgYW55IGljb24tcmVsYXRlZCBvcHRpb25zIGhhdmUgY2hhbmdlZCwgbWFrZSBzdXJlIHRoZSBuZXcgaWNvblxyXG5cdFx0Ly8gc3RhdGUgaXMgcmVmbGVjdGVkIGJ5IGZpcnN0IHJlbW92aW5nIGFsbCBpY29uLXJlbGF0ZWQgY2xhc3Nlc1xyXG5cdFx0Ly8gcmVmbGVjdGluZyB0aGUgY3VycmVudCBzdGF0ZSBhbmQgdGhlbiBhZGRpbmcgYWxsIGljb24tcmVsYXRlZFxyXG5cdFx0Ly8gY2xhc3NlcyBmb3IgdGhlIG5ldyBzdGF0ZVxyXG5cdFx0aWYgKCAhKCBvcHRzLmljb25wb3MgPT09IHVuZGVmaW5lZCAmJlxyXG5cdFx0XHRvcHRzLmNvbGxhcHNlZEljb24gPT09IHVuZGVmaW5lZCAmJlxyXG5cdFx0XHRvcHRzLmV4cGFuZGVkSWNvbiA9PT0gdW5kZWZpbmVkICkgKSB7XHJcblxyXG5cdFx0XHQvLyBSZW1vdmUgYWxsIGN1cnJlbnQgaWNvbi1yZWxhdGVkIGNsYXNzZXNcclxuXHRcdFx0YW5jaG9yLnJlbW92ZUNsYXNzKCBbIGljb25wb3NDbGFzcyggY3VycmVudE9wdHMuaWNvbnBvcyApIF1cclxuXHRcdFx0XHQuY29uY2F0KCAoIGN1cnJlbnRPcHRzLmV4cGFuZGVkSWNvbiA/XHJcblx0XHRcdFx0XHRbIFwidWktaWNvbi1cIiArIGN1cnJlbnRPcHRzLmV4cGFuZGVkSWNvbiBdIDogW10gKSApXHJcblx0XHRcdFx0LmNvbmNhdCggKCBjdXJyZW50T3B0cy5jb2xsYXBzZWRJY29uID9cclxuXHRcdFx0XHRcdFsgXCJ1aS1pY29uLVwiICsgY3VycmVudE9wdHMuY29sbGFwc2VkSWNvbiBdIDogW10gKSApXHJcblx0XHRcdFx0LmpvaW4oIFwiIFwiICkgKTtcclxuXHJcblx0XHRcdC8vIEFkZCBuZXcgY2xhc3NlcyBpZiBhbiBpY29uIGlzIHN1cHBvc2VkIHRvIGJlIHByZXNlbnRcclxuXHRcdFx0aWYgKCBoYXNJY29uICkge1xyXG5cdFx0XHRcdGFuY2hvci5hZGRDbGFzcyhcclxuXHRcdFx0XHRcdFsgaWNvbnBvc0NsYXNzKCBvcHRzLmljb25wb3MgIT09IHVuZGVmaW5lZCA/XHJcblx0XHRcdFx0XHRcdG9wdHMuaWNvbnBvcyA6IGN1cnJlbnRPcHRzLmljb25wb3MgKSBdXHJcblx0XHRcdFx0XHRcdC5jb25jYXQoIGlzQ29sbGFwc2VkID9cclxuXHRcdFx0XHRcdFx0XHRbIFwidWktaWNvbi1cIiArICggb3B0cy5jb2xsYXBzZWRJY29uICE9PSB1bmRlZmluZWQgP1xyXG5cdFx0XHRcdFx0XHRcdFx0b3B0cy5jb2xsYXBzZWRJY29uIDpcclxuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRPcHRzLmNvbGxhcHNlZEljb24gKSBdIDpcclxuXHRcdFx0XHRcdFx0XHRbIFwidWktaWNvbi1cIiArICggb3B0cy5leHBhbmRlZEljb24gIT09IHVuZGVmaW5lZCA/XHJcblx0XHRcdFx0XHRcdFx0XHRvcHRzLmV4cGFuZGVkSWNvbiA6XHJcblx0XHRcdFx0XHRcdFx0XHRjdXJyZW50T3B0cy5leHBhbmRlZEljb24gKSBdIClcclxuXHRcdFx0XHRcdFx0LmpvaW4oIFwiIFwiICkgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0cy50aGVtZSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRvbGRUaGVtZSA9IHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCBcInVpLWJ0bi1cIiwgY3VycmVudE9wdHMudGhlbWUgKTtcclxuXHRcdFx0bmV3VGhlbWUgPSB0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbiggXCJ1aS1idG4tXCIsIG9wdHMudGhlbWUgKTtcclxuXHRcdFx0YW5jaG9yLnJlbW92ZUNsYXNzKCBvbGRUaGVtZSApLmFkZENsYXNzKCBuZXdUaGVtZSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0cy5jb250ZW50VGhlbWUgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0b2xkVGhlbWUgPSB0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbiggXCJ1aS1ib2R5LVwiLFxyXG5cdFx0XHRcdGN1cnJlbnRPcHRzLmNvbnRlbnRUaGVtZSApO1xyXG5cdFx0XHRuZXdUaGVtZSA9IHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCBcInVpLWJvZHktXCIsXHJcblx0XHRcdFx0b3B0cy5jb250ZW50VGhlbWUgKTtcclxuXHRcdFx0dWkuY29udGVudC5yZW1vdmVDbGFzcyggb2xkVGhlbWUgKS5hZGRDbGFzcyggbmV3VGhlbWUgKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIG9wdHMuaW5zZXQgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0ZWxlbS50b2dnbGVDbGFzcyggXCJ1aS1jb2xsYXBzaWJsZS1pbnNldFwiLCBvcHRzLmluc2V0ICk7XHJcblx0XHRcdGhhc0Nvcm5lcnMgPSAhISggb3B0cy5pbnNldCAmJiAoIG9wdHMuY29ybmVycyB8fCBjdXJyZW50T3B0cy5jb3JuZXJzICkgKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIG9wdHMuY29ybmVycyAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRoYXNDb3JuZXJzID0gISEoIG9wdHMuY29ybmVycyAmJiAoIG9wdHMuaW5zZXQgfHwgY3VycmVudE9wdHMuaW5zZXQgKSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggaGFzQ29ybmVycyAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRlbGVtLnRvZ2dsZUNsYXNzKCBcInVpLWNvcm5lci1hbGxcIiwgaGFzQ29ybmVycyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0cy5taW5pICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdGFuY2hvci50b2dnbGVDbGFzcyggXCJ1aS1taW5pXCIsIG9wdHMubWluaSApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcclxuXHRcdHRoaXMuX2FwcGx5T3B0aW9ucyggb3B0aW9ucyApO1xyXG5cdFx0dGhpcy5fc3VwZXIoIG9wdGlvbnMgKTtcclxuXHRcdHRoaXMuX3JlbmRlcmVkT3B0aW9ucyA9IHRoaXMuX2dldE9wdGlvbnMoIHRoaXMub3B0aW9ucyApO1xyXG5cdH0sXHJcblxyXG5cdF9oYW5kbGVFeHBhbmRDb2xsYXBzZTogZnVuY3Rpb24oIGlzQ29sbGFwc2UgKSB7XHJcblx0XHR2YXIgb3B0cyA9IHRoaXMuX3JlbmRlcmVkT3B0aW9ucyxcclxuXHRcdFx0dWkgPSB0aGlzLl91aTtcclxuXHJcblx0XHR1aS5zdGF0dXMudGV4dCggaXNDb2xsYXBzZSA/IG9wdHMuZXhwYW5kQ3VlVGV4dCA6IG9wdHMuY29sbGFwc2VDdWVUZXh0ICk7XHJcblx0XHR1aS5oZWFkaW5nXHJcblx0XHRcdC50b2dnbGVDbGFzcyggXCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZFwiLCBpc0NvbGxhcHNlIClcclxuXHRcdFx0LmZpbmQoIFwiYVwiICkuZmlyc3QoKVxyXG5cdFx0XHQudG9nZ2xlQ2xhc3MoIFwidWktaWNvbi1cIiArIG9wdHMuZXhwYW5kZWRJY29uLCAhaXNDb2xsYXBzZSApXHJcblxyXG5cdFx0XHQvLyBsb2dpYyBvciBjYXVzZSBzYW1lIGljb24gZm9yIGV4cGFuZGVkL2NvbGxhcHNlZCBzdGF0ZSB3b3VsZCByZW1vdmUgdGhlIHVpLWljb24tY2xhc3NcclxuXHRcdFx0LnRvZ2dsZUNsYXNzKCBcInVpLWljb24tXCIgKyBvcHRzLmNvbGxhcHNlZEljb24sICggaXNDb2xsYXBzZSB8fCBvcHRzLmV4cGFuZGVkSWNvbiA9PT0gb3B0cy5jb2xsYXBzZWRJY29uICkgKVxyXG5cdFx0XHQucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7XHJcblxyXG5cdFx0dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCBcInVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZFwiLCBpc0NvbGxhcHNlICk7XHJcblx0XHR1aS5jb250ZW50XHJcblx0XHRcdC50b2dnbGVDbGFzcyggXCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZFwiLCBpc0NvbGxhcHNlIClcclxuXHRcdFx0LmF0dHIoIFwiYXJpYS1oaWRkZW5cIiwgaXNDb2xsYXBzZSApXHJcblx0XHRcdC50cmlnZ2VyKCBcInVwZGF0ZWxheW91dFwiICk7XHJcblx0XHR0aGlzLm9wdGlvbnMuY29sbGFwc2VkID0gaXNDb2xsYXBzZTtcclxuXHRcdHRoaXMuX3RyaWdnZXIoIGlzQ29sbGFwc2UgPyBcImNvbGxhcHNlXCIgOiBcImV4cGFuZFwiICk7XHJcblx0fSxcclxuXHJcblx0ZXhwYW5kOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCBmYWxzZSApO1xyXG5cdH0sXHJcblxyXG5cdGNvbGxhcHNlOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCB0cnVlICk7XHJcblx0fSxcclxuXHJcblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHVpID0gdGhpcy5fdWksXHJcblx0XHRcdG9wdHMgPSB0aGlzLm9wdGlvbnM7XHJcblxyXG5cdFx0aWYgKCBvcHRzLmVuaGFuY2VkICkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCB1aS5wbGFjZWhvbGRlciApIHtcclxuXHRcdFx0dWkub3JpZ2luYWxIZWFkaW5nLmluc2VydEJlZm9yZSggdWkucGxhY2Vob2xkZXIgKTtcclxuXHRcdFx0dWkucGxhY2Vob2xkZXIucmVtb3ZlKCk7XHJcblx0XHRcdHVpLmhlYWRpbmcucmVtb3ZlKCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR1aS5zdGF0dXMucmVtb3ZlKCk7XHJcblx0XHRcdHVpLmhlYWRpbmdcclxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktY29sbGFwc2libGUtaGVhZGluZyB1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZFwiIClcclxuXHRcdFx0XHQuY2hpbGRyZW4oKVxyXG5cdFx0XHRcdFx0LmNvbnRlbnRzKClcclxuXHRcdFx0XHRcdFx0LnVud3JhcCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHVpLmFuY2hvci5jb250ZW50cygpLnVud3JhcCgpO1xyXG5cdFx0dWkuY29udGVudC5jb250ZW50cygpLnVud3JhcCgpO1xyXG5cdFx0dGhpcy5lbGVtZW50XHJcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1jb2xsYXBzaWJsZSB1aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQgXCIgK1xyXG5cdFx0XHRcdFwidWktY29sbGFwc2libGUtdGhlbWVkLWNvbnRlbnQgdWktY29sbGFwc2libGUtaW5zZXQgdWktY29ybmVyLWFsbFwiICk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIERlZmF1bHRzIHRvIGJlIHVzZWQgYnkgYWxsIGluc3RhbmNlcyBvZiBjb2xsYXBzaWJsZSBpZiBwZXItaW5zdGFuY2UgdmFsdWVzXHJcbi8vIGFyZSB1bnNldCBvciBpZiBub3RoaW5nIGlzIHNwZWNpZmllZCBieSB3YXkgb2YgaW5oZXJpdGFuY2UgZnJvbSBhbiBhY2NvcmRpb24uXHJcbi8vIE5vdGUgdGhhdCB0aGlzIGhhc2ggZG9lcyBub3QgY29udGFpbiBvcHRpb25zIFwiY29sbGFwc2VkXCIgb3IgXCJoZWFkaW5nXCIsXHJcbi8vIGJlY2F1c2UgdGhvc2UgYXJlIG5vdCBpbmhlcml0YWJsZS5cclxuJC5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHMgPSB7XHJcblx0ZXhwYW5kQ3VlVGV4dDogXCIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzXCIsXHJcblx0Y29sbGFwc2VDdWVUZXh0OiBcIiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50c1wiLFxyXG5cdGNvbGxhcHNlZEljb246IFwicGx1c1wiLFxyXG5cdGNvbnRlbnRUaGVtZTogXCJpbmhlcml0XCIsXHJcblx0ZXhwYW5kZWRJY29uOiBcIm1pbnVzXCIsXHJcblx0aWNvbnBvczogXCJsZWZ0XCIsXHJcblx0aW5zZXQ6IHRydWUsXHJcblx0Y29ybmVyczogdHJ1ZSxcclxuXHR0aGVtZTogXCJpbmhlcml0XCIsXHJcblx0bWluaTogZmFsc2VcclxufTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxudmFyIHVpU2NyZWVuSGlkZGVuUmVnZXggPSAvXFxidWktc2NyZWVuLWhpZGRlblxcYi87XHJcbmZ1bmN0aW9uIG5vSGlkZGVuQ2xhc3MoIGVsZW1lbnRzICkge1xyXG5cdHZhciBpbmRleCxcclxuXHRcdGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aCxcclxuXHRcdHJlc3VsdCA9IFtdO1xyXG5cclxuXHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xyXG5cdFx0aWYgKCAhZWxlbWVudHNbIGluZGV4IF0uY2xhc3NOYW1lLm1hdGNoKCB1aVNjcmVlbkhpZGRlblJlZ2V4ICkgKSB7XHJcblx0XHRcdHJlc3VsdC5wdXNoKCBlbGVtZW50c1sgaW5kZXggXSApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuICQoIHJlc3VsdCApO1xyXG59XHJcblxyXG4kLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcyA9IHtcclxuXHRfZ2V0VmlzaWJsZXM6IGZ1bmN0aW9uKCAkZWxzLCBjcmVhdGUgKSB7XHJcblx0XHR2YXIgdmlzaWJsZXM7XHJcblxyXG5cdFx0aWYgKCBjcmVhdGUgKSB7XHJcblx0XHRcdHZpc2libGVzID0gbm9IaWRkZW5DbGFzcyggJGVscyApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmlzaWJsZXMgPSAkZWxzLmZpbHRlciggXCI6dmlzaWJsZVwiICk7XHJcblx0XHRcdGlmICggdmlzaWJsZXMubGVuZ3RoID09PSAwICkge1xyXG5cdFx0XHRcdHZpc2libGVzID0gbm9IaWRkZW5DbGFzcyggJGVscyApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHZpc2libGVzO1xyXG5cdH0sXHJcblxyXG5cdF9hZGRGaXJzdExhc3RDbGFzc2VzOiBmdW5jdGlvbiggJGVscywgJHZpc2libGVzLCBjcmVhdGUgKSB7XHJcblx0XHQkZWxzLnJlbW92ZUNsYXNzKCBcInVpLWZpcnN0LWNoaWxkIHVpLWxhc3QtY2hpbGRcIiApO1xyXG5cdFx0JHZpc2libGVzLmVxKCAwICkuYWRkQ2xhc3MoIFwidWktZmlyc3QtY2hpbGRcIiApLmVuZCgpLmxhc3QoKS5hZGRDbGFzcyggXCJ1aS1sYXN0LWNoaWxkXCIgKTtcclxuXHRcdGlmICggIWNyZWF0ZSApIHtcclxuXHRcdFx0dGhpcy5lbGVtZW50LnRyaWdnZXIoIFwidXBkYXRlbGF5b3V0XCIgKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfcmVtb3ZlRmlyc3RMYXN0Q2xhc3NlczogZnVuY3Rpb24oICRlbHMgKSB7XHJcblx0XHQkZWxzLnJlbW92ZUNsYXNzKCBcInVpLWZpcnN0LWNoaWxkIHVpLWxhc3QtY2hpbGRcIiApO1xyXG5cdH1cclxufTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxudmFyIGNoaWxkQ29sbGFwc2libGVzU2VsZWN0b3IgPSBcIjptb2JpbGUtY29sbGFwc2libGUsIFwiICsgJC5tb2JpbGUuY29sbGFwc2libGUuaW5pdFNlbGVjdG9yO1xyXG5cclxuJC53aWRnZXQoIFwibW9iaWxlLmNvbGxhcHNpYmxlc2V0XCIsICQuZXh0ZW5kKCB7XHJcblxyXG5cdC8vIFRoZSBpbml0U2VsZWN0b3IgaXMgZGVwcmVjYXRlZCBhcyBvZiAxLjQuMC4gSW4gMS41LjAgd2Ugd2lsbCB1c2VcclxuXHQvLyA6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZXNldCcpIHdoaWNoIHdpbGwgYWxsb3cgdXMgdG8gZ2V0IHJpZCBvZiB0aGUgbGluZVxyXG5cdC8vIGJlbG93IGFsdG9nZXRoZXIsIGJlY2F1c2UgdGhlIGF1dG9pbml0IHdpbGwgZ2VuZXJhdGUgc3VjaCBhbiBpbml0U2VsZWN0b3JcclxuXHRpbml0U2VsZWN0b3I6IFwiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JyksOmpxbURhdGEocm9sZT0nY29sbGFwc2libGVzZXQnKVwiLFxyXG5cclxuXHRvcHRpb25zOiAkLmV4dGVuZCgge1xyXG5cdFx0ZW5oYW5jZWQ6IGZhbHNlXHJcblx0fSwgJC5tb2JpbGUuY29sbGFwc2libGUuZGVmYXVsdHMgKSxcclxuXHJcblx0X2hhbmRsZUNvbGxhcHNpYmxlRXhwYW5kOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHR2YXIgY2xvc2VzdENvbGxhcHNpYmxlID0gJCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggXCIudWktY29sbGFwc2libGVcIiApO1xyXG5cclxuXHRcdGlmICggY2xvc2VzdENvbGxhcHNpYmxlLnBhcmVudCgpLmlzKCBcIjptb2JpbGUtY29sbGFwc2libGVzZXQsIDpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpXCIgKSApIHtcclxuXHRcdFx0Y2xvc2VzdENvbGxhcHNpYmxlXHJcblx0XHRcdFx0LnNpYmxpbmdzKCBcIi51aS1jb2xsYXBzaWJsZTpub3QoLnVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZClcIiApXHJcblx0XHRcdFx0LmNvbGxhcHNpYmxlKCBcImNvbGxhcHNlXCIgKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBlbGVtID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHRvcHRzID0gdGhpcy5vcHRpb25zO1xyXG5cclxuXHRcdCQuZXh0ZW5kKCB0aGlzLCB7XHJcblx0XHRcdF9jbGFzc2VzOiBcIlwiXHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAoICFvcHRzLmVuaGFuY2VkICkge1xyXG5cdFx0XHRlbGVtLmFkZENsYXNzKCBcInVpLWNvbGxhcHNpYmxlLXNldCBcIiArXHJcblx0XHRcdFx0dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oIFwidWktZ3JvdXAtdGhlbWUtXCIsIG9wdHMudGhlbWUgKSArIFwiIFwiICtcclxuXHRcdFx0XHQoIG9wdHMuY29ybmVycyAmJiBvcHRzLmluc2V0ID8gXCJ1aS1jb3JuZXItYWxsIFwiIDogXCJcIiApICk7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5maW5kKCAkLm1vYmlsZS5jb2xsYXBzaWJsZS5pbml0U2VsZWN0b3IgKS5jb2xsYXBzaWJsZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX29uKCBlbGVtLCB7IGNvbGxhcHNpYmxlZXhwYW5kOiBcIl9oYW5kbGVDb2xsYXBzaWJsZUV4cGFuZFwiIH0gKTtcclxuXHR9LFxyXG5cclxuXHRfdGhlbWVDbGFzc0Zyb21PcHRpb246IGZ1bmN0aW9uKCBwcmVmaXgsIHZhbHVlICkge1xyXG5cdFx0cmV0dXJuICggdmFsdWUgPyAoIHZhbHVlID09PSBcIm5vbmVcIiA/IFwiXCIgOiBwcmVmaXggKyB2YWx1ZSApIDogXCJcIiApO1xyXG5cdH0sXHJcblxyXG5cdF9pbml0OiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuX3JlZnJlc2goIHRydWUgKTtcclxuXHJcblx0XHQvLyBCZWNhdXNlIHRoZSBjb3JuZXJzIGFyZSBoYW5kbGVkIGJ5IHRoZSBjb2xsYXBzaWJsZSBpdHNlbGYgYW5kIHRoZSBkZWZhdWx0IHN0YXRlIGlzIGNvbGxhcHNlZFxyXG5cdFx0Ly8gVGhhdCB3YXMgY2F1c2luZyBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS1tb2JpbGUvaXNzdWVzLzQxMTZcclxuXHRcdHRoaXMuZWxlbWVudFxyXG5cdFx0XHQuY2hpbGRyZW4oIGNoaWxkQ29sbGFwc2libGVzU2VsZWN0b3IgKVxyXG5cdFx0XHQuZmlsdGVyKCBcIjpqcW1EYXRhKGNvbGxhcHNlZD0nZmFsc2UnKVwiIClcclxuXHRcdFx0LmNvbGxhcHNpYmxlKCBcImV4cGFuZFwiICk7XHJcblx0fSxcclxuXHJcblx0X3NldE9wdGlvbnM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xyXG5cdFx0dmFyIHJldCwgaGFzQ29ybmVycyxcclxuXHRcdFx0ZWxlbSA9IHRoaXMuZWxlbWVudCxcclxuXHRcdFx0dGhlbWVDbGFzcyA9IHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCBcInVpLWdyb3VwLXRoZW1lLVwiLCBvcHRpb25zLnRoZW1lICk7XHJcblxyXG5cdFx0aWYgKCB0aGVtZUNsYXNzICkge1xyXG5cdFx0XHRlbGVtXHJcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCB0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbiggXCJ1aS1ncm91cC10aGVtZS1cIiwgdGhpcy5vcHRpb25zLnRoZW1lICkgKVxyXG5cdFx0XHRcdC5hZGRDbGFzcyggdGhlbWVDbGFzcyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0aW9ucy5pbnNldCAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRoYXNDb3JuZXJzID0gISEoIG9wdGlvbnMuaW5zZXQgJiYgKCBvcHRpb25zLmNvcm5lcnMgfHwgdGhpcy5vcHRpb25zLmNvcm5lcnMgKSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0aW9ucy5jb3JuZXJzICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdGhhc0Nvcm5lcnMgPSAhISggb3B0aW9ucy5jb3JuZXJzICYmICggb3B0aW9ucy5pbnNldCB8fCB0aGlzLm9wdGlvbnMuaW5zZXQgKSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggaGFzQ29ybmVycyAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRlbGVtLnRvZ2dsZUNsYXNzKCBcInVpLWNvcm5lci1hbGxcIiwgaGFzQ29ybmVycyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldCA9IHRoaXMuX3N1cGVyKCBvcHRpb25zICk7XHJcblx0XHR0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIFwiOm1vYmlsZS1jb2xsYXBzaWJsZVwiICkuY29sbGFwc2libGUoIFwicmVmcmVzaFwiICk7XHJcblx0XHRyZXR1cm4gcmV0O1xyXG5cdH0sXHJcblxyXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBlbCA9IHRoaXMuZWxlbWVudDtcclxuXHJcblx0XHR0aGlzLl9yZW1vdmVGaXJzdExhc3RDbGFzc2VzKCBlbC5jaGlsZHJlbiggY2hpbGRDb2xsYXBzaWJsZXNTZWxlY3RvciApICk7XHJcblx0XHRlbFxyXG5cdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktY29sbGFwc2libGUtc2V0IHVpLWNvcm5lci1hbGwgXCIgK1xyXG5cdFx0XHRcdHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCBcInVpLWdyb3VwLXRoZW1lLVwiLCB0aGlzLm9wdGlvbnMudGhlbWUgKSApXHJcblx0XHRcdC5jaGlsZHJlbiggXCI6bW9iaWxlLWNvbGxhcHNpYmxlXCIgKVxyXG5cdFx0XHQuY29sbGFwc2libGUoIFwiZGVzdHJveVwiICk7XHJcblx0fSxcclxuXHJcblx0X3JlZnJlc2g6IGZ1bmN0aW9uKCBjcmVhdGUgKSB7XHJcblx0XHR2YXIgY29sbGFwc2libGVzSW5TZXQgPSB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIGNoaWxkQ29sbGFwc2libGVzU2VsZWN0b3IgKTtcclxuXHJcblx0XHR0aGlzLmVsZW1lbnQuZmluZCggJC5tb2JpbGUuY29sbGFwc2libGUuaW5pdFNlbGVjdG9yICkubm90KCBcIi51aS1jb2xsYXBzaWJsZVwiICkuY29sbGFwc2libGUoKTtcclxuXHJcblx0XHR0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKCBjb2xsYXBzaWJsZXNJblNldCwgdGhpcy5fZ2V0VmlzaWJsZXMoIGNvbGxhcHNpYmxlc0luU2V0LCBjcmVhdGUgKSwgY3JlYXRlICk7XHJcblx0fSxcclxuXHJcblx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLl9yZWZyZXNoKCBmYWxzZSApO1xyXG5cdH1cclxufSwgJC5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMgKSApO1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblxyXG4vLyBEZXByZWNhdGVkIGluIDEuNFxyXG4kLmZuLmZpZWxkY29udGFpbiA9IGZ1bmN0aW9uKC8qIG9wdGlvbnMgKi8pIHtcclxuXHRyZXR1cm4gdGhpcy5hZGRDbGFzcyggXCJ1aS1maWVsZC1jb250YWluXCIgKTtcclxufTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxuJC5mbi5ncmlkID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XHJcblx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuXHJcblx0XHR2YXIgJHRoaXMgPSAkKCB0aGlzICksXHJcblx0XHRcdG8gPSAkLmV4dGVuZCh7XHJcblx0XHRcdFx0Z3JpZDogbnVsbFxyXG5cdFx0XHR9LCBvcHRpb25zICksXHJcblx0XHRcdCRraWRzID0gJHRoaXMuY2hpbGRyZW4oKSxcclxuXHRcdFx0Z3JpZENvbHMgPSB7IHNvbG86MSwgYToyLCBiOjMsIGM6NCwgZDo1IH0sXHJcblx0XHRcdGdyaWQgPSBvLmdyaWQsXHJcblx0XHRcdGl0ZXJhdG9yLFxyXG5cdFx0XHRsZXR0ZXI7XHJcblxyXG5cdFx0XHRpZiAoICFncmlkICkge1xyXG5cdFx0XHRcdGlmICggJGtpZHMubGVuZ3RoIDw9IDUgKSB7XHJcblx0XHRcdFx0XHRmb3IgKCBsZXR0ZXIgaW4gZ3JpZENvbHMgKSB7XHJcblx0XHRcdFx0XHRcdGlmICggZ3JpZENvbHNbIGxldHRlciBdID09PSAka2lkcy5sZW5ndGggKSB7XHJcblx0XHRcdFx0XHRcdFx0Z3JpZCA9IGxldHRlcjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRncmlkID0gXCJhXCI7XHJcblx0XHRcdFx0XHQkdGhpcy5hZGRDbGFzcyggXCJ1aS1ncmlkLWR1b1wiICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGl0ZXJhdG9yID0gZ3JpZENvbHNbZ3JpZF07XHJcblxyXG5cdFx0JHRoaXMuYWRkQ2xhc3MoIFwidWktZ3JpZC1cIiArIGdyaWQgKTtcclxuXHJcblx0XHQka2lkcy5maWx0ZXIoIFwiOm50aC1jaGlsZChcIiArIGl0ZXJhdG9yICsgXCJuKzEpXCIgKS5hZGRDbGFzcyggXCJ1aS1ibG9jay1hXCIgKTtcclxuXHJcblx0XHRpZiAoIGl0ZXJhdG9yID4gMSApIHtcclxuXHRcdFx0JGtpZHMuZmlsdGVyKCBcIjpudGgtY2hpbGQoXCIgKyBpdGVyYXRvciArIFwibisyKVwiICkuYWRkQ2xhc3MoIFwidWktYmxvY2stYlwiICk7XHJcblx0XHR9XHJcblx0XHRpZiAoIGl0ZXJhdG9yID4gMiApIHtcclxuXHRcdFx0JGtpZHMuZmlsdGVyKCBcIjpudGgtY2hpbGQoXCIgKyBpdGVyYXRvciArIFwibiszKVwiICkuYWRkQ2xhc3MoIFwidWktYmxvY2stY1wiICk7XHJcblx0XHR9XHJcblx0XHRpZiAoIGl0ZXJhdG9yID4gMyApIHtcclxuXHRcdFx0JGtpZHMuZmlsdGVyKCBcIjpudGgtY2hpbGQoXCIgKyBpdGVyYXRvciArIFwibis0KVwiICkuYWRkQ2xhc3MoIFwidWktYmxvY2stZFwiICk7XHJcblx0XHR9XHJcblx0XHRpZiAoIGl0ZXJhdG9yID4gNCApIHtcclxuXHRcdFx0JGtpZHMuZmlsdGVyKCBcIjpudGgtY2hpbGQoXCIgKyBpdGVyYXRvciArIFwibis1KVwiICkuYWRkQ2xhc3MoIFwidWktYmxvY2stZVwiICk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn07XHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxuJC53aWRnZXQoIFwibW9iaWxlLm5hdmJhclwiLCB7XHJcblx0b3B0aW9uczoge1xyXG5cdFx0aWNvbnBvczogXCJ0b3BcIixcclxuXHRcdGdyaWQ6IG51bGxcclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHJcblx0XHR2YXIgJG5hdmJhciA9IHRoaXMuZWxlbWVudCxcclxuXHRcdFx0JG5hdmJ0bnMgPSAkbmF2YmFyLmZpbmQoIFwiYSwgYnV0dG9uXCIgKSxcclxuXHRcdFx0aWNvbnBvcyA9ICRuYXZidG5zLmZpbHRlciggXCI6anFtRGF0YShpY29uKVwiICkubGVuZ3RoID8gdGhpcy5vcHRpb25zLmljb25wb3MgOiB1bmRlZmluZWQ7XHJcblxyXG5cdFx0JG5hdmJhci5hZGRDbGFzcyggXCJ1aS1uYXZiYXJcIiApXHJcblx0XHRcdC5hdHRyKCBcInJvbGVcIiwgXCJuYXZpZ2F0aW9uXCIgKVxyXG5cdFx0XHQuZmluZCggXCJ1bFwiIClcclxuXHRcdFx0LmpxbUVuaGFuY2VhYmxlKClcclxuXHRcdFx0LmdyaWQoeyBncmlkOiB0aGlzLm9wdGlvbnMuZ3JpZCB9KTtcclxuXHJcblx0XHQkbmF2YnRuc1xyXG5cdFx0XHQuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyIGljb24gPSAkLm1vYmlsZS5nZXRBdHRyaWJ1dGUoIHRoaXMsIFwiaWNvblwiICksXHJcblx0XHRcdFx0XHR0aGVtZSA9ICQubW9iaWxlLmdldEF0dHJpYnV0ZSggdGhpcywgXCJ0aGVtZVwiICksXHJcblx0XHRcdFx0XHRjbGFzc2VzID0gXCJ1aS1idG5cIjtcclxuXHJcblx0XHRcdFx0aWYgKCB0aGVtZSApIHtcclxuXHRcdFx0XHRcdGNsYXNzZXMgKz0gXCIgdWktYnRuLVwiICsgdGhlbWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICggaWNvbiApIHtcclxuXHRcdFx0XHRcdGNsYXNzZXMgKz0gXCIgdWktaWNvbi1cIiArIGljb24gKyBcIiB1aS1idG4taWNvbi1cIiArIGljb25wb3M7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCQoIHRoaXMgKS5hZGRDbGFzcyggY2xhc3NlcyApO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQkbmF2YmFyLmRlbGVnYXRlKCBcImFcIiwgXCJ2Y2xpY2tcIiwgZnVuY3Rpb24oIC8qIGV2ZW50ICovICkge1xyXG5cdFx0XHR2YXIgYWN0aXZlQnRuID0gJCggdGhpcyApO1xyXG5cclxuXHRcdFx0aWYgKCAhKCBhY3RpdmVCdG4uaGFzQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiApIHx8XHJcblxyXG5cdFx0XHRcdC8vIERFUFJFQ0FURUQgYXMgb2YgMS40LjAgLSByZW1vdmUgYWZ0ZXIgMS40LjAgcmVsZWFzZVxyXG5cdFx0XHRcdC8vIG9ubHkgdWktc3RhdGUtZGlzYWJsZWQgc2hvdWxkIGJlIHByZXNlbnQgdGhlcmVhZnRlclxyXG5cdFx0XHRcdGFjdGl2ZUJ0bi5oYXNDbGFzcyggXCJ1aS1kaXNhYmxlZFwiICkgfHxcclxuXHRcdFx0XHRhY3RpdmVCdG4uaGFzQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICkgKSApIHtcclxuXHJcblx0XHRcdFx0JG5hdmJ0bnMucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7XHJcblx0XHRcdFx0YWN0aXZlQnRuLmFkZENsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApO1xyXG5cclxuXHRcdFx0XHQvLyBUaGUgY29kZSBiZWxvdyBpcyBhIHdvcmthcm91bmQgdG8gZml4ICMxMTgxXHJcblx0XHRcdFx0JCggZG9jdW1lbnQgKS5vbmUoIFwicGFnZWhpZGVcIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRhY3RpdmVCdG4ucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIEJ1dHRvbnMgaW4gdGhlIG5hdmJhciB3aXRoIHVpLXN0YXRlLXBlcnNpc3QgY2xhc3Mgc2hvdWxkIHJlZ2FpbiB0aGVpciBhY3RpdmUgc3RhdGUgYmVmb3JlIHBhZ2Ugc2hvd1xyXG5cdFx0JG5hdmJhci5jbG9zZXN0KCBcIi51aS1wYWdlXCIgKS5iaW5kKCBcInBhZ2ViZWZvcmVzaG93XCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQkbmF2YnRucy5maWx0ZXIoIFwiLnVpLXN0YXRlLXBlcnNpc3RcIiApLmFkZENsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59KTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxudmFyIGdldEF0dHIgPSAkLm1vYmlsZS5nZXRBdHRyaWJ1dGU7XHJcblxyXG4kLndpZGdldCggXCJtb2JpbGUubGlzdHZpZXdcIiwgJC5leHRlbmQoIHtcclxuXHJcblx0b3B0aW9uczoge1xyXG5cdFx0dGhlbWU6IG51bGwsXHJcblx0XHRjb3VudFRoZW1lOiBudWxsLCAvKiBEZXByZWNhdGVkIGluIDEuNCAqL1xyXG5cdFx0ZGl2aWRlclRoZW1lOiBudWxsLFxyXG5cdFx0aWNvbjogXCJjYXJhdC1yXCIsXHJcblx0XHRzcGxpdEljb246IFwiY2FyYXQtclwiLFxyXG5cdFx0c3BsaXRUaGVtZTogbnVsbCxcclxuXHRcdGNvcm5lcnM6IHRydWUsXHJcblx0XHRzaGFkb3c6IHRydWUsXHJcblx0XHRpbnNldDogZmFsc2VcclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciB0ID0gdGhpcyxcclxuXHRcdFx0bGlzdHZpZXdDbGFzc2VzID0gXCJcIjtcclxuXHJcblx0XHRsaXN0dmlld0NsYXNzZXMgKz0gdC5vcHRpb25zLmluc2V0ID8gXCIgdWktbGlzdHZpZXctaW5zZXRcIiA6IFwiXCI7XHJcblxyXG5cdFx0aWYgKCAhIXQub3B0aW9ucy5pbnNldCApIHtcclxuXHRcdFx0bGlzdHZpZXdDbGFzc2VzICs9IHQub3B0aW9ucy5jb3JuZXJzID8gXCIgdWktY29ybmVyLWFsbFwiIDogXCJcIjtcclxuXHRcdFx0bGlzdHZpZXdDbGFzc2VzICs9IHQub3B0aW9ucy5zaGFkb3cgPyBcIiB1aS1zaGFkb3dcIiA6IFwiXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY3JlYXRlIGxpc3R2aWV3IG1hcmt1cFxyXG5cdFx0dC5lbGVtZW50LmFkZENsYXNzKCBcIiB1aS1saXN0dmlld1wiICsgbGlzdHZpZXdDbGFzc2VzICk7XHJcblxyXG5cdFx0dC5yZWZyZXNoKCB0cnVlICk7XHJcblx0fSxcclxuXHJcblx0Ly8gVE9ETzogUmVtb3ZlIGluIDEuNVxyXG5cdF9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lOiBmdW5jdGlvbiggZWxlLCBuZXh0UHJvcCwgbGNOYW1lLCB1Y05hbWUgKSB7XHJcblx0XHR2YXIgZGljdCA9IHt9O1xyXG5cdFx0ZGljdFsgbGNOYW1lIF0gPSBkaWN0WyB1Y05hbWUgXSA9IHRydWU7XHJcblx0XHR3aGlsZSAoIGVsZSApIHtcclxuXHRcdFx0aWYgKCBkaWN0WyBlbGUubm9kZU5hbWUgXSApIHtcclxuXHRcdFx0XHRyZXR1cm4gZWxlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsZSA9IGVsZVsgbmV4dFByb3AgXTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH0sXHJcblx0Ly8gVE9ETzogUmVtb3ZlIGluIDEuNVxyXG5cdF9hZGRUaHVtYkNsYXNzZXM6IGZ1bmN0aW9uKCBjb250YWluZXJzICkge1xyXG5cdFx0dmFyIGksIGltZywgbGVuID0gY29udGFpbmVycy5sZW5ndGg7XHJcblx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xyXG5cdFx0XHRpbWcgPSAkKCB0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKCBjb250YWluZXJzWyBpIF0uZmlyc3RDaGlsZCwgXCJuZXh0U2libGluZ1wiLCBcImltZ1wiLCBcIklNR1wiICkgKTtcclxuXHRcdFx0aWYgKCBpbWcubGVuZ3RoICkge1xyXG5cdFx0XHRcdCQoIHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoIGltZ1sgMCBdLnBhcmVudE5vZGUsIFwicGFyZW50Tm9kZVwiLCBcImxpXCIsIFwiTElcIiApICkuYWRkQ2xhc3MoIGltZy5oYXNDbGFzcyggXCJ1aS1saS1pY29uXCIgKSA/IFwidWktbGktaGFzLWljb25cIiA6IFwidWktbGktaGFzLXRodW1iXCIgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9nZXRDaGlsZHJlbkJ5VGFnTmFtZTogZnVuY3Rpb24oIGVsZSwgbGNOYW1lLCB1Y05hbWUgKSB7XHJcblx0XHR2YXIgcmVzdWx0cyA9IFtdLFxyXG5cdFx0XHRkaWN0ID0ge307XHJcblx0XHRkaWN0WyBsY05hbWUgXSA9IGRpY3RbIHVjTmFtZSBdID0gdHJ1ZTtcclxuXHRcdGVsZSA9IGVsZS5maXJzdENoaWxkO1xyXG5cdFx0d2hpbGUgKCBlbGUgKSB7XHJcblx0XHRcdGlmICggZGljdFsgZWxlLm5vZGVOYW1lIF0gKSB7XHJcblx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGUgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbGUgPSBlbGUubmV4dFNpYmxpbmc7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gJCggcmVzdWx0cyApO1xyXG5cdH0sXHJcblxyXG5cdF9iZWZvcmVMaXN0dmlld1JlZnJlc2g6ICQubm9vcCxcclxuXHRfYWZ0ZXJMaXN0dmlld1JlZnJlc2g6ICQubm9vcCxcclxuXHJcblx0cmVmcmVzaDogZnVuY3Rpb24oIGNyZWF0ZSApIHtcclxuXHRcdHZhciBidXR0b25DbGFzcywgcG9zLCBudW1saSwgaXRlbSwgaXRlbUNsYXNzLCBpdGVtVGhlbWUsIGl0ZW1JY29uLCBpY29uLCBhLFxyXG5cdFx0XHRpc0RpdmlkZXIsIHN0YXJ0Q291bnQsIG5ld1N0YXJ0Q291bnQsIHZhbHVlLCBsYXN0LCBzcGxpdHRoZW1lLCBzcGxpdFRoZW1lQ2xhc3MsIHNwbGl0aWNvbixcclxuXHRcdFx0YWx0QnV0dG9uQ2xhc3MsIGRpdmlkZXJUaGVtZSwgbGksXHJcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnMsXHJcblx0XHRcdCRsaXN0ID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHRvbCA9ICEhJC5ub2RlTmFtZSggJGxpc3RbIDAgXSwgXCJvbFwiICksXHJcblx0XHRcdHN0YXJ0ID0gJGxpc3QuYXR0ciggXCJzdGFydFwiICksXHJcblx0XHRcdGl0ZW1DbGFzc0RpY3QgPSB7fSxcclxuXHRcdFx0Y291bnRCdWJibGVzID0gJGxpc3QuZmluZCggXCIudWktbGktY291bnRcIiApLFxyXG5cdFx0XHRjb3VudFRoZW1lID0gZ2V0QXR0ciggJGxpc3RbIDAgXSwgXCJjb3VudHRoZW1lXCIgKSB8fCB0aGlzLm9wdGlvbnMuY291bnRUaGVtZSxcclxuXHRcdFx0Y291bnRUaGVtZUNsYXNzID0gY291bnRUaGVtZSA/IFwidWktYm9keS1cIiArIGNvdW50VGhlbWUgOiBcInVpLWJvZHktaW5oZXJpdFwiO1xyXG5cclxuXHRcdGlmICggby50aGVtZSApIHtcclxuXHRcdFx0JGxpc3QuYWRkQ2xhc3MoIFwidWktZ3JvdXAtdGhlbWUtXCIgKyBvLnRoZW1lICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ2hlY2sgaWYgYSBzdGFydCBhdHRyaWJ1dGUgaGFzIGJlZW4gc2V0IHdoaWxlIHRha2luZyBhIHZhbHVlIG9mIDAgaW50byBhY2NvdW50XHJcblx0XHRpZiAoIG9sICYmICggc3RhcnQgfHwgc3RhcnQgPT09IDAgKSApIHtcclxuXHRcdFx0c3RhcnRDb3VudCA9IHBhcnNlSW50KCBzdGFydCwgMTAgKSAtIDE7XHJcblx0XHRcdCRsaXN0LmNzcyggXCJjb3VudGVyLXJlc2V0XCIsIFwibGlzdG51bWJlcmluZyBcIiArIHN0YXJ0Q291bnQgKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9iZWZvcmVMaXN0dmlld1JlZnJlc2goKTtcclxuXHJcblx0XHRsaSA9IHRoaXMuX2dldENoaWxkcmVuQnlUYWdOYW1lKCAkbGlzdFsgMCBdLCBcImxpXCIsIFwiTElcIiApO1xyXG5cclxuXHRcdGZvciAoIHBvcyA9IDAsIG51bWxpID0gbGkubGVuZ3RoOyBwb3MgPCBudW1saTsgcG9zKysgKSB7XHJcblx0XHRcdGl0ZW0gPSBsaS5lcSggcG9zICk7XHJcblx0XHRcdGl0ZW1DbGFzcyA9IFwiXCI7XHJcblxyXG5cdFx0XHRpZiAoIGNyZWF0ZSB8fCBpdGVtWyAwIF0uY2xhc3NOYW1lLnNlYXJjaCggL1xcYnVpLWxpLXN0YXRpY1xcYnxcXGJ1aS1saS1kaXZpZGVyXFxiLyApIDwgMCApIHtcclxuXHRcdFx0XHRhID0gdGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoIGl0ZW1bIDAgXSwgXCJhXCIsIFwiQVwiICk7XHJcblx0XHRcdFx0aXNEaXZpZGVyID0gKCBnZXRBdHRyKCBpdGVtWyAwIF0sIFwicm9sZVwiICkgPT09IFwibGlzdC1kaXZpZGVyXCIgKTtcclxuXHRcdFx0XHR2YWx1ZSA9IGl0ZW0uYXR0ciggXCJ2YWx1ZVwiICk7XHJcblx0XHRcdFx0aXRlbVRoZW1lID0gZ2V0QXR0ciggaXRlbVsgMCBdLCBcInRoZW1lXCIgKTtcclxuXHJcblx0XHRcdFx0aWYgKCBhLmxlbmd0aCAmJiBhWyAwIF0uY2xhc3NOYW1lLnNlYXJjaCggL1xcYnVpLWJ0blxcYi8gKSA8IDAgJiYgIWlzRGl2aWRlciApIHtcclxuXHRcdFx0XHRcdGl0ZW1JY29uID0gZ2V0QXR0ciggaXRlbVsgMCBdLCBcImljb25cIiApO1xyXG5cdFx0XHRcdFx0aWNvbiA9ICggaXRlbUljb24gPT09IGZhbHNlICkgPyBmYWxzZSA6ICggaXRlbUljb24gfHwgby5pY29uICk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gVE9ETzogUmVtb3ZlIGluIDEuNSB0b2dldGhlciB3aXRoIGxpbmtzLmpzIChsaW5rcy5qcyAvIC51aS1saW5rIGRlcHJlY2F0ZWQgaW4gMS40KVxyXG5cdFx0XHRcdFx0YS5yZW1vdmVDbGFzcyggXCJ1aS1saW5rXCIgKTtcclxuXHJcblx0XHRcdFx0XHRidXR0b25DbGFzcyA9IFwidWktYnRuXCI7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBpdGVtVGhlbWUgKSB7XHJcblx0XHRcdFx0XHRcdGJ1dHRvbkNsYXNzICs9IFwiIHVpLWJ0bi1cIiArIGl0ZW1UaGVtZTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoIGEubGVuZ3RoID4gMSApIHtcclxuXHRcdFx0XHRcdFx0aXRlbUNsYXNzID0gXCJ1aS1saS1oYXMtYWx0XCI7XHJcblxyXG5cdFx0XHRcdFx0XHRsYXN0ID0gYS5sYXN0KCk7XHJcblx0XHRcdFx0XHRcdHNwbGl0dGhlbWUgPSBnZXRBdHRyKCBsYXN0WyAwIF0sIFwidGhlbWVcIiApIHx8IG8uc3BsaXRUaGVtZSB8fCBnZXRBdHRyKCBpdGVtWyAwIF0sIFwidGhlbWVcIiwgdHJ1ZSApO1xyXG5cdFx0XHRcdFx0XHRzcGxpdFRoZW1lQ2xhc3MgPSBzcGxpdHRoZW1lID8gXCIgdWktYnRuLVwiICsgc3BsaXR0aGVtZSA6IFwiXCI7XHJcblx0XHRcdFx0XHRcdHNwbGl0aWNvbiA9IGdldEF0dHIoIGxhc3RbIDAgXSwgXCJpY29uXCIgKSB8fCBnZXRBdHRyKCBpdGVtWyAwIF0sIFwiaWNvblwiICkgfHwgby5zcGxpdEljb247XHJcblx0XHRcdFx0XHRcdGFsdEJ1dHRvbkNsYXNzID0gXCJ1aS1idG4gdWktYnRuLWljb24tbm90ZXh0IHVpLWljb24tXCIgKyBzcGxpdGljb24gKyBzcGxpdFRoZW1lQ2xhc3M7XHJcblxyXG5cdFx0XHRcdFx0XHRsYXN0XHJcblx0XHRcdFx0XHRcdFx0LmF0dHIoIFwidGl0bGVcIiwgJC50cmltKCBsYXN0LmdldEVuY29kZWRUZXh0KCkgKSApXHJcblx0XHRcdFx0XHRcdFx0LmFkZENsYXNzKCBhbHRCdXR0b25DbGFzcyApXHJcblx0XHRcdFx0XHRcdFx0LmVtcHR5KCk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBSZWR1Y2UgdG8gdGhlIGZpcnN0IGFuY2hvciwgYmVjYXVzZSBvbmx5IHRoZSBmaXJzdCBnZXRzIHRoZSBidXR0b25DbGFzc1xyXG5cdFx0XHRcdFx0XHRhID0gYS5maXJzdCgpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIGlmICggaWNvbiApIHtcclxuXHRcdFx0XHRcdFx0YnV0dG9uQ2xhc3MgKz0gXCIgdWktYnRuLWljb24tcmlnaHQgdWktaWNvbi1cIiArIGljb247XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gQXBwbHkgYnV0dG9uQ2xhc3MgdG8gdGhlIChmaXJzdCkgYW5jaG9yXHJcblx0XHRcdFx0XHRhLmFkZENsYXNzKCBidXR0b25DbGFzcyApO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoIGlzRGl2aWRlciApIHtcclxuXHRcdFx0XHRcdGRpdmlkZXJUaGVtZSA9ICggZ2V0QXR0ciggaXRlbVsgMCBdLCBcInRoZW1lXCIgKSB8fCBvLmRpdmlkZXJUaGVtZSB8fCBvLnRoZW1lICk7XHJcblxyXG5cdFx0XHRcdFx0aXRlbUNsYXNzID0gXCJ1aS1saS1kaXZpZGVyIHVpLWJhci1cIiArICggZGl2aWRlclRoZW1lID8gZGl2aWRlclRoZW1lIDogXCJpbmhlcml0XCIgKTtcclxuXHJcblx0XHRcdFx0XHRpdGVtLmF0dHIoIFwicm9sZVwiLCBcImhlYWRpbmdcIiApO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoIGEubGVuZ3RoIDw9IDAgKSB7XHJcblx0XHRcdFx0XHRpdGVtQ2xhc3MgPSBcInVpLWxpLXN0YXRpYyB1aS1ib2R5LVwiICsgKCBpdGVtVGhlbWUgPyBpdGVtVGhlbWUgOiBcImluaGVyaXRcIiApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoIG9sICYmIHZhbHVlICkge1xyXG5cdFx0XHRcdFx0bmV3U3RhcnRDb3VudCA9IHBhcnNlSW50KCB2YWx1ZSAsIDEwICkgLSAxO1xyXG5cclxuXHRcdFx0XHRcdGl0ZW0uY3NzKCBcImNvdW50ZXItcmVzZXRcIiwgXCJsaXN0bnVtYmVyaW5nIFwiICsgbmV3U3RhcnRDb3VudCApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gSW5zdGVhZCBvZiBzZXR0aW5nIGl0ZW0gY2xhc3MgZGlyZWN0bHkgb24gdGhlIGxpc3QgaXRlbVxyXG5cdFx0XHQvLyBhdCB0aGlzIHBvaW50IGluIHRpbWUsIHB1c2ggdGhlIGl0ZW0gaW50byBhIGRpY3Rpb25hcnlcclxuXHRcdFx0Ly8gdGhhdCB0ZWxscyB1cyB3aGF0IGNsYXNzIHRvIHNldCBvbiBpdCBzbyB3ZSBjYW4gZG8gdGhpcyBhZnRlciB0aGlzXHJcblx0XHRcdC8vIHByb2Nlc3NpbmcgbG9vcCBpcyBmaW5pc2hlZC5cclxuXHJcblx0XHRcdGlmICggIWl0ZW1DbGFzc0RpY3RbIGl0ZW1DbGFzcyBdICkge1xyXG5cdFx0XHRcdGl0ZW1DbGFzc0RpY3RbIGl0ZW1DbGFzcyBdID0gW107XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGl0ZW1DbGFzc0RpY3RbIGl0ZW1DbGFzcyBdLnB1c2goIGl0ZW1bIDAgXSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNldCB0aGUgYXBwcm9wcmlhdGUgbGlzdHZpZXcgaXRlbSBjbGFzc2VzIG9uIGVhY2ggbGlzdCBpdGVtLlxyXG5cdFx0Ly8gVGhlIG1haW4gcmVhc29uIHdlIGRpZG4ndCBkbyB0aGlzXHJcblx0XHQvLyBpbiB0aGUgZm9yLWxvb3AgYWJvdmUgaXMgYmVjYXVzZSB3ZSBjYW4gZWxpbWluYXRlIHBlci1pdGVtIGZ1bmN0aW9uIG92ZXJoZWFkXHJcblx0XHQvLyBieSBjYWxsaW5nIGFkZENsYXNzKCkgYW5kIGNoaWxkcmVuKCkgb25jZSBvciB0d2ljZSBhZnRlcndhcmRzLiBUaGlzXHJcblx0XHQvLyBjYW4gZ2l2ZSB1cyBhIHNpZ25pZmljYW50IGJvb3N0IG9uIHBsYXRmb3JtcyBsaWtlIFdQNy41LlxyXG5cclxuXHRcdGZvciAoIGl0ZW1DbGFzcyBpbiBpdGVtQ2xhc3NEaWN0ICkge1xyXG5cdFx0XHQkKCBpdGVtQ2xhc3NEaWN0WyBpdGVtQ2xhc3MgXSApLmFkZENsYXNzKCBpdGVtQ2xhc3MgKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb3VudEJ1YmJsZXMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdCQoIHRoaXMgKS5jbG9zZXN0KCBcImxpXCIgKS5hZGRDbGFzcyggXCJ1aS1saS1oYXMtY291bnRcIiApO1xyXG5cdFx0fSk7XHJcblx0XHRpZiAoIGNvdW50VGhlbWVDbGFzcyApIHtcclxuXHRcdFx0Y291bnRCdWJibGVzLm5vdCggXCJbY2xhc3MqPSd1aS1ib2R5LSddXCIgKS5hZGRDbGFzcyggY291bnRUaGVtZUNsYXNzICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRGVwcmVjYXRlZCBpbiAxLjQuIEZyb20gMS41IHlvdSBoYXZlIHRvIGFkZCBjbGFzcyB1aS1saS1oYXMtdGh1bWIgb3IgdWktbGktaGFzLWljb24gdG8gdGhlIExJLlxyXG5cdFx0dGhpcy5fYWRkVGh1bWJDbGFzc2VzKCBsaSApO1xyXG5cdFx0dGhpcy5fYWRkVGh1bWJDbGFzc2VzKCBsaS5maW5kKCBcIi51aS1idG5cIiApICk7XHJcblxyXG5cdFx0dGhpcy5fYWZ0ZXJMaXN0dmlld1JlZnJlc2goKTtcclxuXHJcblx0XHR0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKCBsaSwgdGhpcy5fZ2V0VmlzaWJsZXMoIGxpLCBjcmVhdGUgKSwgY3JlYXRlICk7XHJcblx0fVxyXG59LCAkLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcyApICk7XHJcblxyXG59KSggalF1ZXJ5ICk7XHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcbmZ1bmN0aW9uIGRlZmF1bHRBdXRvZGl2aWRlcnNTZWxlY3RvciggZWx0ICkge1xyXG5cdC8vIGxvb2sgZm9yIHRoZSB0ZXh0IGluIHRoZSBnaXZlbiBlbGVtZW50XHJcblx0dmFyIHRleHQgPSAkLnRyaW0oIGVsdC50ZXh0KCkgKSB8fCBudWxsO1xyXG5cclxuXHRpZiAoICF0ZXh0ICkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHQvLyBjcmVhdGUgdGhlIHRleHQgZm9yIHRoZSBkaXZpZGVyIChmaXJzdCB1cHBlcmNhc2VkIGxldHRlcilcclxuXHR0ZXh0ID0gdGV4dC5zbGljZSggMCwgMSApLnRvVXBwZXJDYXNlKCk7XHJcblxyXG5cdHJldHVybiB0ZXh0O1xyXG59XHJcblxyXG4kLndpZGdldCggXCJtb2JpbGUubGlzdHZpZXdcIiwgJC5tb2JpbGUubGlzdHZpZXcsIHtcclxuXHRvcHRpb25zOiB7XHJcblx0XHRhdXRvZGl2aWRlcnM6IGZhbHNlLFxyXG5cdFx0YXV0b2RpdmlkZXJzU2VsZWN0b3I6IGRlZmF1bHRBdXRvZGl2aWRlcnNTZWxlY3RvclxyXG5cdH0sXHJcblxyXG5cdF9iZWZvcmVMaXN0dmlld1JlZnJlc2g6IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuYXV0b2RpdmlkZXJzICkge1xyXG5cdFx0XHR0aGlzLl9yZXBsYWNlRGl2aWRlcnMoKTtcclxuXHRcdFx0dGhpcy5fc3VwZXJBcHBseSggYXJndW1lbnRzICk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X3JlcGxhY2VEaXZpZGVyczogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaSwgbGlzLCBsaSwgZGl2aWRlclRleHQsXHJcblx0XHRcdGxhc3REaXZpZGVyVGV4dCA9IG51bGwsXHJcblx0XHRcdGxpc3QgPSB0aGlzLmVsZW1lbnQsXHJcblx0XHRcdGRpdmlkZXI7XHJcblxyXG5cdFx0bGlzdC5jaGlsZHJlbiggXCJsaTpqcW1EYXRhKHJvbGU9J2xpc3QtZGl2aWRlcicpXCIgKS5yZW1vdmUoKTtcclxuXHJcblx0XHRsaXMgPSBsaXN0LmNoaWxkcmVuKCBcImxpXCIgKTtcclxuXHJcblx0XHRmb3IgKCBpID0gMDsgaSA8IGxpcy5sZW5ndGggOyBpKysgKSB7XHJcblx0XHRcdGxpID0gbGlzWyBpIF07XHJcblx0XHRcdGRpdmlkZXJUZXh0ID0gdGhpcy5vcHRpb25zLmF1dG9kaXZpZGVyc1NlbGVjdG9yKCAkKCBsaSApICk7XHJcblxyXG5cdFx0XHRpZiAoIGRpdmlkZXJUZXh0ICYmIGxhc3REaXZpZGVyVGV4dCAhPT0gZGl2aWRlclRleHQgKSB7XHJcblx0XHRcdFx0ZGl2aWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwibGlcIiApO1xyXG5cdFx0XHRcdGRpdmlkZXIuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCBkaXZpZGVyVGV4dCApICk7XHJcblx0XHRcdFx0ZGl2aWRlci5zZXRBdHRyaWJ1dGUoIFwiZGF0YS1cIiArICQubW9iaWxlLm5zICsgXCJyb2xlXCIsIFwibGlzdC1kaXZpZGVyXCIgKTtcclxuXHRcdFx0XHRsaS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZGl2aWRlciwgbGkgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGFzdERpdmlkZXJUZXh0ID0gZGl2aWRlclRleHQ7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxudmFyIHJkaXZpZGVyID0gLyhefFxccyl1aS1saS1kaXZpZGVyKCR8XFxzKS8sXHJcblx0cmhpZGRlbiA9IC8oXnxcXHMpdWktc2NyZWVuLWhpZGRlbigkfFxccykvO1xyXG5cclxuJC53aWRnZXQoIFwibW9iaWxlLmxpc3R2aWV3XCIsICQubW9iaWxlLmxpc3R2aWV3LCB7XHJcblx0b3B0aW9uczoge1xyXG5cdFx0aGlkZURpdmlkZXJzOiBmYWxzZVxyXG5cdH0sXHJcblxyXG5cdF9hZnRlckxpc3R2aWV3UmVmcmVzaDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaXRlbXMsIGlkeCwgaXRlbSwgaGlkZURpdmlkZXIgPSB0cnVlO1xyXG5cclxuXHRcdHRoaXMuX3N1cGVyQXBwbHkoIGFyZ3VtZW50cyApO1xyXG5cclxuXHRcdGlmICggdGhpcy5vcHRpb25zLmhpZGVEaXZpZGVycyApIHtcclxuXHRcdFx0aXRlbXMgPSB0aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZSggdGhpcy5lbGVtZW50WyAwIF0sIFwibGlcIiwgXCJMSVwiICk7XHJcblx0XHRcdGZvciAoIGlkeCA9IGl0ZW1zLmxlbmd0aCAtIDEgOyBpZHggPiAtMSA7IGlkeC0tICkge1xyXG5cdFx0XHRcdGl0ZW0gPSBpdGVtc1sgaWR4IF07XHJcblx0XHRcdFx0aWYgKCBpdGVtLmNsYXNzTmFtZS5tYXRjaCggcmRpdmlkZXIgKSApIHtcclxuXHRcdFx0XHRcdGlmICggaGlkZURpdmlkZXIgKSB7XHJcblx0XHRcdFx0XHRcdGl0ZW0uY2xhc3NOYW1lID0gaXRlbS5jbGFzc05hbWUgKyBcIiB1aS1zY3JlZW4taGlkZGVuXCI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRoaWRlRGl2aWRlciA9IHRydWU7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGlmICggIWl0ZW0uY2xhc3NOYW1lLm1hdGNoKCByaGlkZGVuICkgKSB7XHJcblx0XHRcdFx0XHRcdGhpZGVEaXZpZGVyID0gZmFsc2U7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxuJC5tb2JpbGUubm9qcyA9IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XHJcblx0JCggXCI6anFtRGF0YShyb2xlPSdub2pzJylcIiwgdGFyZ2V0ICkuYWRkQ2xhc3MoIFwidWktbm9qc1wiICk7XHJcbn07XHJcblxyXG59KSggalF1ZXJ5ICk7XHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcbiQubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQgPSB7XHJcblx0X2hhbmRsZUZvcm1SZXNldDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLl9vbiggdGhpcy5lbGVtZW50LmNsb3Nlc3QoIFwiZm9ybVwiICksIHtcclxuXHRcdFx0cmVzZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHRoaXMuX2RlbGF5KCBcIl9yZXNldFwiICk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxufTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbi8qXHJcbiogXCJjaGVja2JveHJhZGlvXCIgcGx1Z2luXHJcbiovXHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcbnZhciBlc2NhcGVJZCA9ICQubW9iaWxlLnBhdGguaGFzaFRvU2VsZWN0b3I7XHJcblxyXG4kLndpZGdldCggXCJtb2JpbGUuY2hlY2tib3hyYWRpb1wiLCAkLmV4dGVuZCgge1xyXG5cclxuXHRpbml0U2VsZWN0b3I6IFwiaW5wdXQ6bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJyApIClbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddOm5vdCggOmpxbURhdGEocm9sZT0nZmxpcHN3aXRjaCcgKSlcIixcclxuXHJcblx0b3B0aW9uczoge1xyXG5cdFx0dGhlbWU6IFwiaW5oZXJpdFwiLFxyXG5cdFx0bWluaTogZmFsc2UsXHJcblx0XHR3cmFwcGVyQ2xhc3M6IG51bGwsXHJcblx0XHRlbmhhbmNlZDogZmFsc2UsXHJcblx0XHRpY29ucG9zOiBcImxlZnRcIlxyXG5cclxuXHR9LFxyXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGlucHV0ID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHRvID0gdGhpcy5vcHRpb25zLFxyXG5cdFx0XHRpbmhlcml0QXR0ciA9IGZ1bmN0aW9uKCBpbnB1dCwgZGF0YUF0dHIgKSB7XHJcblx0XHRcdFx0cmV0dXJuIGlucHV0LmpxbURhdGEoIGRhdGFBdHRyICkgfHxcclxuXHRcdFx0XHRcdGlucHV0LmNsb3Nlc3QoIFwiZm9ybSwgZmllbGRzZXRcIiApLmpxbURhdGEoIGRhdGFBdHRyICk7XHJcblx0XHRcdH0sXHJcblx0XHRcdGxhYmVsID0gdGhpcy5vcHRpb25zLmVuaGFuY2VkID9cclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRlbGVtZW50OiB0aGlzLmVsZW1lbnQuc2libGluZ3MoIFwibGFiZWxcIiApLFxyXG5cdFx0XHRcdFx0aXNQYXJlbnQ6IGZhbHNlXHJcblx0XHRcdFx0fSA6XHJcblx0XHRcdFx0dGhpcy5fZmluZExhYmVsKCksXHJcblx0XHRcdGlucHV0dHlwZSA9IGlucHV0WzBdLnR5cGUsXHJcblx0XHRcdGNoZWNrZWRDbGFzcyA9IFwidWktXCIgKyBpbnB1dHR5cGUgKyBcIi1vblwiLFxyXG5cdFx0XHR1bmNoZWNrZWRDbGFzcyA9IFwidWktXCIgKyBpbnB1dHR5cGUgKyBcIi1vZmZcIjtcclxuXHJcblx0XHRpZiAoIGlucHV0dHlwZSAhPT0gXCJjaGVja2JveFwiICYmIGlucHV0dHlwZSAhPT0gXCJyYWRpb1wiICkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCB0aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQgKSB7XHJcblx0XHRcdHRoaXMub3B0aW9ucy5kaXNhYmxlZCA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0by5pY29ucG9zID0gaW5oZXJpdEF0dHIoIGlucHV0LCBcImljb25wb3NcIiApIHx8XHJcblx0XHRcdGxhYmVsLmVsZW1lbnQuYXR0ciggXCJkYXRhLVwiICsgJC5tb2JpbGUubnMgKyBcImljb25wb3NcIiApIHx8IG8uaWNvbnBvcyxcclxuXHJcblx0XHQvLyBFc3RhYmxpc2ggb3B0aW9uc1xyXG5cdFx0by5taW5pID0gaW5oZXJpdEF0dHIoIGlucHV0LCBcIm1pbmlcIiApIHx8IG8ubWluaTtcclxuXHJcblx0XHQvLyBFeHBvc2UgZm9yIG90aGVyIG1ldGhvZHNcclxuXHRcdCQuZXh0ZW5kKCB0aGlzLCB7XHJcblx0XHRcdGlucHV0OiBpbnB1dCxcclxuXHRcdFx0bGFiZWw6IGxhYmVsLmVsZW1lbnQsXHJcblx0XHRcdGxhYmVsSXNQYXJlbnQ6IGxhYmVsLmlzUGFyZW50LFxyXG5cdFx0XHRpbnB1dHR5cGU6IGlucHV0dHlwZSxcclxuXHRcdFx0Y2hlY2tlZENsYXNzOiBjaGVja2VkQ2xhc3MsXHJcblx0XHRcdHVuY2hlY2tlZENsYXNzOiB1bmNoZWNrZWRDbGFzc1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKCAhdGhpcy5vcHRpb25zLmVuaGFuY2VkICkge1xyXG5cdFx0XHR0aGlzLl9lbmhhbmNlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fb24oIGxhYmVsLmVsZW1lbnQsIHtcclxuXHRcdFx0dm1vdXNlb3ZlcjogXCJfaGFuZGxlTGFiZWxWTW91c2VPdmVyXCIsXHJcblx0XHRcdHZjbGljazogXCJfaGFuZGxlTGFiZWxWQ2xpY2tcIlxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5fb24oIGlucHV0LCB7XHJcblx0XHRcdHZtb3VzZWRvd246IFwiX2NhY2hlVmFsc1wiLFxyXG5cdFx0XHR2Y2xpY2s6IFwiX2hhbmRsZUlucHV0VkNsaWNrXCIsXHJcblx0XHRcdGZvY3VzOiBcIl9oYW5kbGVJbnB1dEZvY3VzXCIsXHJcblx0XHRcdGJsdXI6IFwiX2hhbmRsZUlucHV0Qmx1clwiXHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLl9oYW5kbGVGb3JtUmVzZXQoKTtcclxuXHRcdHRoaXMucmVmcmVzaCgpO1xyXG5cdH0sXHJcblxyXG5cdF9maW5kTGFiZWw6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHBhcmVudExhYmVsLCBsYWJlbCwgaXNQYXJlbnQsXHJcblx0XHRcdGlucHV0ID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHRsYWJlbHNMaXN0ID0gaW5wdXRbIDAgXS5sYWJlbHM7XHJcblxyXG5cdFx0aWYoIGxhYmVsc0xpc3QgJiYgbGFiZWxzTGlzdC5sZW5ndGggPiAwICkge1xyXG5cdFx0XHRsYWJlbCA9ICQoIGxhYmVsc0xpc3RbIDAgXSApO1xyXG5cdFx0XHRpc1BhcmVudCA9ICQuY29udGFpbnMoIGxhYmVsWyAwIF0sIGlucHV0WyAwIF0gKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHBhcmVudExhYmVsID0gaW5wdXQuY2xvc2VzdCggXCJsYWJlbFwiICk7XHJcblx0XHRcdGlzUGFyZW50ID0gKCBwYXJlbnRMYWJlbC5sZW5ndGggPiAwICk7XHJcblxyXG5cdFx0XHQvLyBOT1RFOiBXaW5kb3dzIFBob25lIGNvdWxkIG5vdCBmaW5kIHRoZSBsYWJlbCB0aHJvdWdoIGEgc2VsZWN0b3JcclxuXHRcdFx0Ly8gZmlsdGVyIHdvcmtzIHRob3VnaC5cclxuXHRcdFx0bGFiZWwgPSBpc1BhcmVudCA/IHBhcmVudExhYmVsIDpcclxuXHRcdFx0XHQkKCB0aGlzLmRvY3VtZW50WyAwIF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFwibGFiZWxcIiApIClcclxuXHRcdFx0XHRcdC5maWx0ZXIoIFwiW2Zvcj0nXCIgKyBlc2NhcGVJZCggaW5wdXRbIDAgXS5pZCApICsgXCInXVwiIClcclxuXHRcdFx0XHRcdC5maXJzdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGVsZW1lbnQ6IGxhYmVsLFxyXG5cdFx0XHRpc1BhcmVudDogaXNQYXJlbnRcclxuXHRcdH07XHJcblx0fSxcclxuXHJcblx0X2VuaGFuY2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5sYWJlbC5hZGRDbGFzcyggXCJ1aS1idG4gdWktY29ybmVyLWFsbFwiKTtcclxuXHJcblx0XHRpZiAoIHRoaXMubGFiZWxJc1BhcmVudCApIHtcclxuXHRcdFx0dGhpcy5pbnB1dC5hZGQoIHRoaXMubGFiZWwgKS53cmFwQWxsKCB0aGlzLl93cmFwcGVyKCkgKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vdGhpcy5lbGVtZW50LnJlcGxhY2VXaXRoKCB0aGlzLmlucHV0LmFkZCggdGhpcy5sYWJlbCApLndyYXBBbGwoIHRoaXMuX3dyYXBwZXIoKSApICk7XHJcblx0XHRcdHRoaXMuZWxlbWVudC53cmFwKCB0aGlzLl93cmFwcGVyKCkgKTtcclxuXHRcdFx0dGhpcy5lbGVtZW50LnBhcmVudCgpLnByZXBlbmQoIHRoaXMubGFiZWwgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBXcmFwIHRoZSBpbnB1dCArIGxhYmVsIGluIGEgZGl2XHJcblxyXG5cdFx0dGhpcy5fc2V0T3B0aW9ucyh7XHJcblx0XHRcdFwidGhlbWVcIjogdGhpcy5vcHRpb25zLnRoZW1lLFxyXG5cdFx0XHRcImljb25wb3NcIjogdGhpcy5vcHRpb25zLmljb25wb3MsXHJcblx0XHRcdFwibWluaVwiOiB0aGlzLm9wdGlvbnMubWluaVxyXG5cdFx0fSk7XHJcblxyXG5cdH0sXHJcblxyXG5cdF93cmFwcGVyOiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiAkKCBcIjxkaXYgY2xhc3M9J1wiICArXHJcblx0XHRcdCggdGhpcy5vcHRpb25zLndyYXBwZXJDbGFzcyA/IHRoaXMub3B0aW9ucy53cmFwcGVyQ2xhc3MgOiBcIlwiICkgK1xyXG5cdFx0XHRcIiB1aS1cIiArIHRoaXMuaW5wdXR0eXBlICtcclxuXHRcdFx0KCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgPyBcIiB1aS1zdGF0ZS1kaXNhYmxlZFwiIDogXCJcIiApICsgXCInID48L2Rpdj5cIiApO1xyXG5cdH0sXHJcblxyXG5cdF9oYW5kbGVJbnB1dEZvY3VzOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMubGFiZWwuYWRkQ2xhc3MoICQubW9iaWxlLmZvY3VzQ2xhc3MgKTtcclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlSW5wdXRCbHVyOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMubGFiZWwucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmZvY3VzQ2xhc3MgKTtcclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlSW5wdXRWQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG5cdFx0Ly8gQWRkcyBjaGVja2VkIGF0dHJpYnV0ZSB0byBjaGVja2VkIGlucHV0IHdoZW4ga2V5Ym9hcmQgaXMgdXNlZFxyXG5cdFx0dGhpcy5lbGVtZW50LnByb3AoIFwiY2hlY2tlZFwiLCB0aGlzLmVsZW1lbnQuaXMoIFwiOmNoZWNrZWRcIiApICk7XHJcblx0XHR0aGlzLl9nZXRJbnB1dFNldCgpLm5vdCggdGhpcy5lbGVtZW50ICkucHJvcCggXCJjaGVja2VkXCIsIGZhbHNlICk7XHJcblx0XHR0aGlzLl91cGRhdGVBbGwoIHRydWUgKTtcclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlTGFiZWxWTW91c2VPdmVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHRpZiAoIHRoaXMubGFiZWwucGFyZW50KCkuaGFzQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiApICkge1xyXG5cdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlTGFiZWxWQ2xpY2s6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdHZhciBpbnB1dCA9IHRoaXMuZWxlbWVudDtcclxuXHJcblx0XHRpZiAoIGlucHV0LmlzKCBcIjpkaXNhYmxlZFwiICkgKSB7XHJcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9jYWNoZVZhbHMoKTtcclxuXHJcblx0XHRpbnB1dC5wcm9wKCBcImNoZWNrZWRcIiwgdGhpcy5pbnB1dHR5cGUgPT09IFwicmFkaW9cIiAmJiB0cnVlIHx8ICFpbnB1dC5wcm9wKCBcImNoZWNrZWRcIiApICk7XHJcblxyXG5cdFx0Ly8gdHJpZ2dlciBjbGljayBoYW5kbGVyJ3MgYm91bmQgZGlyZWN0bHkgdG8gdGhlIGlucHV0IGFzIGEgc3Vic3RpdHV0ZSBmb3JcclxuXHRcdC8vIGhvdyBsYWJlbCBjbGlja3MgYmVoYXZlIG5vcm1hbGx5IGluIHRoZSBicm93c2Vyc1xyXG5cdFx0Ly8gVE9ETzogaXQgd291bGQgYmUgbmljZSB0byBsZXQgdGhlIGJyb3dzZXIncyBoYW5kbGUgdGhlIGNsaWNrcyBhbmQgcGFzcyB0aGVtXHJcblx0XHQvLyAgICAgICB0aHJvdWdoIHRvIHRoZSBhc3NvY2lhdGUgaW5wdXQuIHdlIGNhbiBzd2FsbG93IHRoYXQgY2xpY2sgYXQgdGhlIHBhcmVudFxyXG5cdFx0Ly8gICAgICAgd3JhcHBlciBlbGVtZW50IGxldmVsXHJcblx0XHRpbnB1dC50cmlnZ2VySGFuZGxlciggXCJjbGlja1wiICk7XHJcblxyXG5cdFx0Ly8gSW5wdXQgc2V0IGZvciBjb21tb24gcmFkaW8gYnV0dG9ucyB3aWxsIGNvbnRhaW4gYWxsIHRoZSByYWRpb1xyXG5cdFx0Ly8gYnV0dG9ucywgYnV0IHdpbGwgbm90IGZvciBjaGVja2JveGVzLiBjbGVhcmluZyB0aGUgY2hlY2tlZCBzdGF0dXNcclxuXHRcdC8vIG9mIG90aGVyIHJhZGlvcyBlbnN1cmVzIHRoZSBhY3RpdmUgYnV0dG9uIHN0YXRlIGlzIGFwcGxpZWQgcHJvcGVybHlcclxuXHRcdHRoaXMuX2dldElucHV0U2V0KCkubm90KCBpbnB1dCApLnByb3AoIFwiY2hlY2tlZFwiLCBmYWxzZSApO1xyXG5cclxuXHRcdHRoaXMuX3VwZGF0ZUFsbCgpO1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH0sXHJcblxyXG5cdF9jYWNoZVZhbHM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0JCggdGhpcyApLmF0dHIoXCJkYXRhLVwiICsgJC5tb2JpbGUubnMgKyBcImNhY2hlVmFsXCIsIHRoaXMuY2hlY2tlZCApO1xyXG5cdFx0fSk7XHJcblx0fSxcclxuXHJcblx0Ly8gUmV0dXJucyB0aG9zZSByYWRpbyBidXR0b25zIHRoYXQgYXJlIHN1cHBvc2VkIHRvIGJlIGluIHRoZSBzYW1lIGdyb3VwIGFzXHJcblx0Ly8gdGhpcyByYWRpbyBidXR0b24uIEluIHRoZSBjYXNlIG9mIGEgY2hlY2tib3ggb3IgYSByYWRpbyBsYWNraW5nIGEgbmFtZVxyXG5cdC8vIGF0dHJpYnV0ZSwgaXQgcmV0dXJucyB0aGlzLmVsZW1lbnQuXHJcblx0X2dldElucHV0U2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBzZWxlY3RvciwgZm9ybUlkLFxyXG5cdFx0XHRyYWRpbyA9IHRoaXMuZWxlbWVudFsgMCBdLFxyXG5cdFx0XHRuYW1lID0gcmFkaW8ubmFtZSxcclxuXHRcdFx0Zm9ybSA9IHJhZGlvLmZvcm0sXHJcblx0XHRcdGRvYyA9IHRoaXMuZWxlbWVudC5wYXJlbnRzKCkubGFzdCgpLmdldCggMCApLFxyXG5cclxuXHRcdFx0Ly8gQSByYWRpbyBpcyBhbHdheXMgYSBtZW1iZXIgb2YgaXRzIG93biBncm91cFxyXG5cdFx0XHRyYWRpb3MgPSB0aGlzLmVsZW1lbnQ7XHJcblxyXG5cdFx0Ly8gT25seSBzdGFydCBydW5uaW5nIHNlbGVjdG9ycyBpZiB0aGlzIGlzIGFuIGF0dGFjaGVkIHJhZGlvIGJ1dHRvbiB3aXRoIGEgbmFtZVxyXG5cdFx0aWYgKCBuYW1lICYmIHRoaXMuaW5wdXR0eXBlID09PSBcInJhZGlvXCIgJiYgZG9jICkge1xyXG5cdFx0XHRzZWxlY3RvciA9IFwiaW5wdXRbdHlwZT0ncmFkaW8nXVtuYW1lPSdcIiArIGVzY2FwZUlkKCBuYW1lICkgKyBcIiddXCI7XHJcblxyXG5cdFx0XHQvLyBJZiB3ZSdyZSBpbnNpZGUgYSBmb3JtXHJcblx0XHRcdGlmICggZm9ybSApIHtcclxuXHRcdFx0XHRmb3JtSWQgPSBmb3JtLmdldEF0dHJpYnV0ZSggXCJpZFwiICk7XHJcblxyXG5cdFx0XHRcdC8vIElmIHRoZSBmb3JtIGhhcyBhbiBJRCwgY29sbGVjdCByYWRpb3Mgc2NhdHRlcmVkIHRocm91Z2h0IHRoZSBkb2N1bWVudCB3aGljaFxyXG5cdFx0XHRcdC8vIG5ldmVydGhlbGVzcyBhcmUgcGFydCBvZiB0aGUgZm9ybSBieSB3YXkgb2YgdGhlIHZhbHVlIG9mIHRoZWlyIGZvcm0gYXR0cmlidXRlXHJcblx0XHRcdFx0aWYgKCBmb3JtSWQgKSB7XHJcblx0XHRcdFx0XHRyYWRpb3MgPSAkKCBzZWxlY3RvciArIFwiW2Zvcm09J1wiICsgZXNjYXBlSWQoIGZvcm1JZCApICsgXCInXVwiLCBkb2MgKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIEFsc28gYWRkIHRvIHRob3NlIHRoZSByYWRpb3MgaW4gdGhlIGZvcm0gaXRzZWxmXHJcblx0XHRcdFx0cmFkaW9zID0gJCggZm9ybSApLmZpbmQoIHNlbGVjdG9yICkuZmlsdGVyKCBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdFx0XHQvLyBTb21lIHJhZGlvcyBpbnNpZGUgdGhlIGZvcm0gbWF5IGJlbG9uZyB0byBzb21lIG90aGVyIGZvcm0gYnkgdmlydHVlIG9mXHJcblx0XHRcdFx0XHQvLyBoYXZpbmcgYSBmb3JtIGF0dHJpYnV0ZSBkZWZpbmVkIG9uIHRoZW0sIHNvIHdlIG11c3QgZmlsdGVyIHRoZW0gb3V0IGhlcmVcclxuXHRcdFx0XHRcdHJldHVybiAoIHRoaXMuZm9ybSA9PT0gZm9ybSApO1xyXG5cdFx0XHRcdH0pLmFkZCggcmFkaW9zICk7XHJcblxyXG5cdFx0XHQvLyBJZiB3ZSdyZSBvdXRzaWRlIGEgZm9ybVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHQvLyBDb2xsZWN0IGFsbCB0aG9zZSByYWRpb3Mgd2hpY2ggYXJlIGFsc28gb3V0c2lkZSBvZiBhIGZvcm0gYW5kIG1hdGNoIG91ciBuYW1lXHJcblx0XHRcdFx0cmFkaW9zID0gJCggc2VsZWN0b3IsIGRvYyApLmZpbHRlciggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gIXRoaXMuZm9ybTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJhZGlvcztcclxuXHR9LFxyXG5cclxuXHRfdXBkYXRlQWxsOiBmdW5jdGlvbiggY2hhbmdlVHJpZ2dlcmVkICkge1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdHRoaXMuX2dldElucHV0U2V0KCkuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciAkdGhpcyA9ICQoIHRoaXMgKTtcclxuXHJcblx0XHRcdGlmICggKCB0aGlzLmNoZWNrZWQgfHwgc2VsZi5pbnB1dHR5cGUgPT09IFwiY2hlY2tib3hcIiApICYmICFjaGFuZ2VUcmlnZ2VyZWQgKSB7XHJcblx0XHRcdFx0JHRoaXMudHJpZ2dlciggXCJjaGFuZ2VcIiApO1xyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdFx0LmNoZWNrYm94cmFkaW8oIFwicmVmcmVzaFwiICk7XHJcblx0fSxcclxuXHJcblx0X3Jlc2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMucmVmcmVzaCgpO1xyXG5cdH0sXHJcblxyXG5cdC8vIElzIHRoZSB3aWRnZXQgc3VwcG9zZWQgdG8gZGlzcGxheSBhbiBpY29uP1xyXG5cdF9oYXNJY29uOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBjb250cm9sZ3JvdXAsIGNvbnRyb2xncm91cFdpZGdldCxcclxuXHRcdFx0Y29udHJvbGdyb3VwQ29uc3RydWN0b3IgPSAkLm1vYmlsZS5jb250cm9sZ3JvdXA7XHJcblxyXG5cdFx0Ly8gSWYgdGhlIGNvbnRyb2xncm91cCB3aWRnZXQgaXMgZGVmaW5lZCAuLi5cclxuXHRcdGlmICggY29udHJvbGdyb3VwQ29uc3RydWN0b3IgKSB7XHJcblx0XHRcdGNvbnRyb2xncm91cCA9IHRoaXMuZWxlbWVudC5jbG9zZXN0KFxyXG5cdFx0XHRcdFwiOm1vYmlsZS1jb250cm9sZ3JvdXAsXCIgK1xyXG5cdFx0XHRcdGNvbnRyb2xncm91cENvbnN0cnVjdG9yLnByb3RvdHlwZS5pbml0U2VsZWN0b3IgKTtcclxuXHJcblx0XHRcdC8vIC4uLiBhbmQgdGhlIGNoZWNrYm94IGlzIGluIGEgY29udHJvbGdyb3VwIC4uLlxyXG5cdFx0XHRpZiAoIGNvbnRyb2xncm91cC5sZW5ndGggPiAwICkge1xyXG5cclxuXHRcdFx0XHQvLyAuLi4gbG9vayBmb3IgYSBjb250cm9sZ3JvdXAgd2lkZ2V0IGluc3RhbmNlLCBhbmQgLi4uXHJcblx0XHRcdFx0Y29udHJvbGdyb3VwV2lkZ2V0ID0gJC5kYXRhKCBjb250cm9sZ3JvdXBbIDAgXSwgXCJtb2JpbGUtY29udHJvbGdyb3VwXCIgKTtcclxuXHJcblx0XHRcdFx0Ly8gLi4uIGlmIGZvdW5kLCBkZWNpZGUgYmFzZWQgb24gdGhlIG9wdGlvbiB2YWx1ZSwgLi4uXHJcblx0XHRcdFx0cmV0dXJuICggKCBjb250cm9sZ3JvdXBXaWRnZXQgPyBjb250cm9sZ3JvdXBXaWRnZXQub3B0aW9ucy50eXBlIDpcclxuXHJcblx0XHRcdFx0XHQvLyAuLi4gb3RoZXJ3aXNlIGRlY2lkZSBiYXNlZCBvbiB0aGUgXCJ0eXBlXCIgZGF0YSBhdHRyaWJ1dGUuXHJcblx0XHRcdFx0XHRjb250cm9sZ3JvdXAuYXR0ciggXCJkYXRhLVwiICsgJC5tb2JpbGUubnMgKyBcInR5cGVcIiApICkgIT09IFwiaG9yaXpvbnRhbFwiICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBOb3JtYWxseSwgdGhlIHdpZGdldCBkaXNwbGF5cyBhbiBpY29uLlxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSxcclxuXHJcblx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaXNDaGVja2VkID0gdGhpcy5lbGVtZW50WyAwIF0uY2hlY2tlZCxcclxuXHRcdFx0YWN0aXZlID0gJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MsXHJcblx0XHRcdGljb25wb3NDbGFzcyA9IFwidWktYnRuLWljb24tXCIgKyB0aGlzLm9wdGlvbnMuaWNvbnBvcyxcclxuXHRcdFx0YWRkQ2xhc3NlcyA9IFtdLFxyXG5cdFx0XHRyZW1vdmVDbGFzc2VzID0gW107XHJcblxyXG5cdFx0aWYgKCB0aGlzLl9oYXNJY29uKCkgKSB7XHJcblx0XHRcdHJlbW92ZUNsYXNzZXMucHVzaCggYWN0aXZlICk7XHJcblx0XHRcdGFkZENsYXNzZXMucHVzaCggaWNvbnBvc0NsYXNzICk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZW1vdmVDbGFzc2VzLnB1c2goIGljb25wb3NDbGFzcyApO1xyXG5cdFx0XHQoIGlzQ2hlY2tlZCA/IGFkZENsYXNzZXMgOiByZW1vdmVDbGFzc2VzICkucHVzaCggYWN0aXZlICk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBpc0NoZWNrZWQgKSB7XHJcblx0XHRcdGFkZENsYXNzZXMucHVzaCggdGhpcy5jaGVja2VkQ2xhc3MgKTtcclxuXHRcdFx0cmVtb3ZlQ2xhc3Nlcy5wdXNoKCB0aGlzLnVuY2hlY2tlZENsYXNzICk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRhZGRDbGFzc2VzLnB1c2goIHRoaXMudW5jaGVja2VkQ2xhc3MgKTtcclxuXHRcdFx0cmVtb3ZlQ2xhc3Nlcy5wdXNoKCB0aGlzLmNoZWNrZWRDbGFzcyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgdGhpcy5lbGVtZW50LnByb3AoIFwiZGlzYWJsZWRcIiApICk7XHJcblxyXG5cdFx0dGhpcy5sYWJlbFxyXG5cdFx0XHQuYWRkQ2xhc3MoIGFkZENsYXNzZXMuam9pbiggXCIgXCIgKSApXHJcblx0XHRcdC5yZW1vdmVDbGFzcyggcmVtb3ZlQ2xhc3Nlcy5qb2luKCBcIiBcIiApICk7XHJcblx0fSxcclxuXHJcblx0d2lkZ2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB0aGlzLmxhYmVsLnBhcmVudCgpO1xyXG5cdH0sXHJcblxyXG5cdF9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcclxuXHRcdHZhciBsYWJlbCA9IHRoaXMubGFiZWwsXHJcblx0XHRcdGN1cnJlbnRPcHRpb25zID0gdGhpcy5vcHRpb25zLFxyXG5cdFx0XHRvdXRlciA9IHRoaXMud2lkZ2V0KCksXHJcblx0XHRcdGhhc0ljb24gPSB0aGlzLl9oYXNJY29uKCk7XHJcblxyXG5cdFx0aWYgKCBvcHRpb25zLmRpc2FibGVkICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHRoaXMuaW5wdXQucHJvcCggXCJkaXNhYmxlZFwiLCAhIW9wdGlvbnMuZGlzYWJsZWQgKTtcclxuXHRcdFx0b3V0ZXIudG9nZ2xlQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgISFvcHRpb25zLmRpc2FibGVkICk7XHJcblx0XHR9XHJcblx0XHRpZiAoIG9wdGlvbnMubWluaSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRvdXRlci50b2dnbGVDbGFzcyggXCJ1aS1taW5pXCIsICEhb3B0aW9ucy5taW5pICk7XHJcblx0XHR9XHJcblx0XHRpZiAoIG9wdGlvbnMudGhlbWUgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0bGFiZWxcclxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktYnRuLVwiICsgY3VycmVudE9wdGlvbnMudGhlbWUgKVxyXG5cdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1idG4tXCIgKyBvcHRpb25zLnRoZW1lICk7XHJcblx0XHR9XHJcblx0XHRpZiAoIG9wdGlvbnMud3JhcHBlckNsYXNzICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdG91dGVyXHJcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCBjdXJyZW50T3B0aW9ucy53cmFwcGVyQ2xhc3MgKVxyXG5cdFx0XHRcdC5hZGRDbGFzcyggb3B0aW9ucy53cmFwcGVyQ2xhc3MgKTtcclxuXHRcdH1cclxuXHRcdGlmICggb3B0aW9ucy5pY29ucG9zICE9PSB1bmRlZmluZWQgJiYgaGFzSWNvbiApIHtcclxuXHRcdFx0bGFiZWwucmVtb3ZlQ2xhc3MoIFwidWktYnRuLWljb24tXCIgKyBjdXJyZW50T3B0aW9ucy5pY29ucG9zICkuYWRkQ2xhc3MoIFwidWktYnRuLWljb24tXCIgKyBvcHRpb25zLmljb25wb3MgKTtcclxuXHRcdH0gZWxzZSBpZiAoICFoYXNJY29uICkge1xyXG5cdFx0XHRsYWJlbC5yZW1vdmVDbGFzcyggXCJ1aS1idG4taWNvbi1cIiArIGN1cnJlbnRPcHRpb25zLmljb25wb3MgKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuX3N1cGVyKCBvcHRpb25zICk7XHJcblx0fVxyXG5cclxufSwgJC5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCApICk7XHJcblxyXG59KSggalF1ZXJ5ICk7XHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcbiQud2lkZ2V0KCBcIm1vYmlsZS5idXR0b25cIiwge1xyXG5cclxuXHRpbml0U2VsZWN0b3I6IFwiaW5wdXRbdHlwZT0nYnV0dG9uJ10sIGlucHV0W3R5cGU9J3N1Ym1pdCddLCBpbnB1dFt0eXBlPSdyZXNldCddXCIsXHJcblxyXG5cdG9wdGlvbnM6IHtcclxuXHRcdHRoZW1lOiBudWxsLFxyXG5cdFx0aWNvbjogbnVsbCxcclxuXHRcdGljb25wb3M6IFwibGVmdFwiLFxyXG5cdFx0aWNvbnNoYWRvdzogZmFsc2UsIC8qIFRPRE86IERlcHJlY2F0ZWQgaW4gMS40LCByZW1vdmUgaW4gMS41LiAqL1xyXG5cdFx0Y29ybmVyczogdHJ1ZSxcclxuXHRcdHNoYWRvdzogdHJ1ZSxcclxuXHRcdGlubGluZTogbnVsbCxcclxuXHRcdG1pbmk6IG51bGwsXHJcblx0XHR3cmFwcGVyQ2xhc3M6IG51bGwsXHJcblx0XHRlbmhhbmNlZDogZmFsc2VcclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRpZiAoIHRoaXMuZWxlbWVudC5pcyggXCI6ZGlzYWJsZWRcIiApICkge1xyXG5cdFx0XHR0aGlzLm9wdGlvbnMuZGlzYWJsZWQgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggIXRoaXMub3B0aW9ucy5lbmhhbmNlZCApIHtcclxuXHRcdFx0dGhpcy5fZW5oYW5jZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdCQuZXh0ZW5kKCB0aGlzLCB7XHJcblx0XHRcdHdyYXBwZXI6IHRoaXMuZWxlbWVudC5wYXJlbnQoKVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5fb24oIHtcclxuXHRcdFx0Zm9jdXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHRoaXMud2lkZ2V0KCkuYWRkQ2xhc3MoICQubW9iaWxlLmZvY3VzQ2xhc3MgKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdGJsdXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHRoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmZvY3VzQ2xhc3MgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5yZWZyZXNoKCB0cnVlICk7XHJcblx0fSxcclxuXHJcblx0X2VuaGFuY2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5lbGVtZW50LndyYXAoIHRoaXMuX2J1dHRvbigpICk7XHJcblx0fSxcclxuXHJcblx0X2J1dHRvbjogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcclxuXHRcdFx0aWNvbkNsYXNzZXMgPSB0aGlzLl9nZXRJY29uQ2xhc3NlcyggdGhpcy5vcHRpb25zICk7XHJcblxyXG5cdFx0cmV0dXJuICQoXCI8ZGl2IGNsYXNzPSd1aS1idG4gdWktaW5wdXQtYnRuXCIgK1xyXG5cdFx0XHQoIG9wdGlvbnMud3JhcHBlckNsYXNzID8gXCIgXCIgKyBvcHRpb25zLndyYXBwZXJDbGFzcyA6IFwiXCIgKSArXHJcblx0XHRcdCggb3B0aW9ucy50aGVtZSA/IFwiIHVpLWJ0bi1cIiArIG9wdGlvbnMudGhlbWUgOiBcIlwiICkgK1xyXG5cdFx0XHQoIG9wdGlvbnMuY29ybmVycyA/IFwiIHVpLWNvcm5lci1hbGxcIiA6IFwiXCIgKSArXHJcblx0XHRcdCggb3B0aW9ucy5zaGFkb3cgPyBcIiB1aS1zaGFkb3dcIiA6IFwiXCIgKSArXHJcblx0XHRcdCggb3B0aW9ucy5pbmxpbmUgPyBcIiB1aS1idG4taW5saW5lXCIgOiBcIlwiICkgK1xyXG5cdFx0XHQoIG9wdGlvbnMubWluaSA/IFwiIHVpLW1pbmlcIiA6IFwiXCIgKSArXHJcblx0XHRcdCggb3B0aW9ucy5kaXNhYmxlZCA/IFwiIHVpLXN0YXRlLWRpc2FibGVkXCIgOiBcIlwiICkgK1xyXG5cdFx0XHQoIGljb25DbGFzc2VzID8gKCBcIiBcIiArIGljb25DbGFzc2VzICkgOiBcIlwiICkgK1xyXG5cdFx0XHRcIicgPlwiICsgdGhpcy5lbGVtZW50LnZhbCgpICsgXCI8L2Rpdj5cIiApO1xyXG5cdH0sXHJcblxyXG5cdHdpZGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy53cmFwcGVyO1xyXG5cdH0sXHJcblxyXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5lbGVtZW50Lmluc2VydEJlZm9yZSggdGhpcy53cmFwcGVyICk7XHJcblx0XHRcdHRoaXMud3JhcHBlci5yZW1vdmUoKTtcclxuXHR9LFxyXG5cclxuXHRfZ2V0SWNvbkNsYXNzZXM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xyXG5cdFx0cmV0dXJuICggb3B0aW9ucy5pY29uID8gKCBcInVpLWljb24tXCIgKyBvcHRpb25zLmljb24gK1xyXG5cdFx0XHQoIG9wdGlvbnMuaWNvbnNoYWRvdyA/IFwiIHVpLXNoYWRvdy1pY29uXCIgOiBcIlwiICkgKyAvKiBUT0RPOiBEZXByZWNhdGVkIGluIDEuNCwgcmVtb3ZlIGluIDEuNS4gKi9cclxuXHRcdFx0XCIgdWktYnRuLWljb24tXCIgKyBvcHRpb25zLmljb25wb3MgKSA6IFwiXCIgKTtcclxuXHR9LFxyXG5cclxuXHRfc2V0T3B0aW9uczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XHJcblx0XHR2YXIgb3V0ZXIgPSB0aGlzLndpZGdldCgpO1xyXG5cclxuXHRcdGlmICggb3B0aW9ucy50aGVtZSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRvdXRlclxyXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyggdGhpcy5vcHRpb25zLnRoZW1lIClcclxuXHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktYnRuLVwiICsgb3B0aW9ucy50aGVtZSApO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCBvcHRpb25zLmNvcm5lcnMgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0b3V0ZXIudG9nZ2xlQ2xhc3MoIFwidWktY29ybmVyLWFsbFwiLCBvcHRpb25zLmNvcm5lcnMgKTtcclxuXHRcdH1cclxuXHRcdGlmICggb3B0aW9ucy5zaGFkb3cgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0b3V0ZXIudG9nZ2xlQ2xhc3MoIFwidWktc2hhZG93XCIsIG9wdGlvbnMuc2hhZG93ICk7XHJcblx0XHR9XHJcblx0XHRpZiAoIG9wdGlvbnMuaW5saW5lICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdG91dGVyLnRvZ2dsZUNsYXNzKCBcInVpLWJ0bi1pbmxpbmVcIiwgb3B0aW9ucy5pbmxpbmUgKTtcclxuXHRcdH1cclxuXHRcdGlmICggb3B0aW9ucy5taW5pICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdG91dGVyLnRvZ2dsZUNsYXNzKCBcInVpLW1pbmlcIiwgb3B0aW9ucy5taW5pICk7XHJcblx0XHR9XHJcblx0XHRpZiAoIG9wdGlvbnMuZGlzYWJsZWQgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0dGhpcy5lbGVtZW50LnByb3AoIFwiZGlzYWJsZWRcIiwgb3B0aW9ucy5kaXNhYmxlZCApO1xyXG5cdFx0XHRvdXRlci50b2dnbGVDbGFzcyggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLCBvcHRpb25zLmRpc2FibGVkICk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBvcHRpb25zLmljb24gIT09IHVuZGVmaW5lZCB8fFxyXG5cdFx0XHRcdG9wdGlvbnMuaWNvbnNoYWRvdyAhPT0gdW5kZWZpbmVkIHx8IC8qIFRPRE86IERlcHJlY2F0ZWQgaW4gMS40LCByZW1vdmUgaW4gMS41LiAqL1xyXG5cdFx0XHRcdG9wdGlvbnMuaWNvbnBvcyAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRvdXRlclxyXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyggdGhpcy5fZ2V0SWNvbkNsYXNzZXMoIHRoaXMub3B0aW9ucyApIClcclxuXHRcdFx0XHQuYWRkQ2xhc3MoIHRoaXMuX2dldEljb25DbGFzc2VzKFxyXG5cdFx0XHRcdFx0JC5leHRlbmQoIHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMgKSApICk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fc3VwZXIoIG9wdGlvbnMgKTtcclxuXHR9LFxyXG5cclxuXHRyZWZyZXNoOiBmdW5jdGlvbiggY3JlYXRlICkge1xyXG5cdFx0dmFyIG9yaWdpbmFsRWxlbWVudCxcclxuXHRcdFx0aXNEaXNhYmxlZCA9IHRoaXMuZWxlbWVudC5wcm9wKCBcImRpc2FibGVkXCIgKTtcclxuXHJcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5pY29uICYmIHRoaXMub3B0aW9ucy5pY29ucG9zID09PSBcIm5vdGV4dFwiICYmIHRoaXMuZWxlbWVudC5hdHRyKCBcInRpdGxlXCIgKSApIHtcclxuXHRcdFx0dGhpcy5lbGVtZW50LmF0dHIoIFwidGl0bGVcIiwgdGhpcy5lbGVtZW50LnZhbCgpICk7XHJcblx0XHR9XHJcblx0XHRpZiAoICFjcmVhdGUgKSB7XHJcblx0XHRcdG9yaWdpbmFsRWxlbWVudCA9IHRoaXMuZWxlbWVudC5kZXRhY2goKTtcclxuXHRcdFx0JCggdGhpcy53cmFwcGVyICkudGV4dCggdGhpcy5lbGVtZW50LnZhbCgpICkuYXBwZW5kKCBvcmlnaW5hbEVsZW1lbnQgKTtcclxuXHRcdH1cclxuXHRcdGlmICggdGhpcy5vcHRpb25zLmRpc2FibGVkICE9PSBpc0Rpc2FibGVkICkge1xyXG5cdFx0XHR0aGlzLl9zZXRPcHRpb25zKHsgZGlzYWJsZWQ6IGlzRGlzYWJsZWQgfSk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbihmdW5jdGlvbiggJCApIHtcclxuXHR2YXJcdG1ldGEgPSAkKCBcIm1ldGFbbmFtZT12aWV3cG9ydF1cIiApLFxyXG5cdFx0aW5pdGlhbENvbnRlbnQgPSBtZXRhLmF0dHIoIFwiY29udGVudFwiICksXHJcblx0XHRkaXNhYmxlZFpvb20gPSBpbml0aWFsQ29udGVudCArIFwiLG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ub1wiLFxyXG5cdFx0ZW5hYmxlZFpvb20gPSBpbml0aWFsQ29udGVudCArIFwiLG1heGltdW0tc2NhbGU9MTAsIHVzZXItc2NhbGFibGU9eWVzXCIsXHJcblx0XHRkaXNhYmxlZEluaXRpYWxseSA9IC8odXNlci1zY2FsYWJsZVtcXHNdKj1bXFxzXSpubyl8KG1heGltdW0tc2NhbGVbXFxzXSo9W1xcc10qMSlbJCxcXHNdLy50ZXN0KCBpbml0aWFsQ29udGVudCApO1xyXG5cclxuXHQkLm1vYmlsZS56b29tID0gJC5leHRlbmQoIHt9LCB7XHJcblx0XHRlbmFibGVkOiAhZGlzYWJsZWRJbml0aWFsbHksXHJcblx0XHRsb2NrZWQ6IGZhbHNlLFxyXG5cdFx0ZGlzYWJsZTogZnVuY3Rpb24oIGxvY2sgKSB7XHJcblx0XHRcdGlmICggIWRpc2FibGVkSW5pdGlhbGx5ICYmICEkLm1vYmlsZS56b29tLmxvY2tlZCApIHtcclxuXHRcdFx0XHRtZXRhLmF0dHIoIFwiY29udGVudFwiLCBkaXNhYmxlZFpvb20gKTtcclxuXHRcdFx0XHQkLm1vYmlsZS56b29tLmVuYWJsZWQgPSBmYWxzZTtcclxuXHRcdFx0XHQkLm1vYmlsZS56b29tLmxvY2tlZCA9IGxvY2sgfHwgZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRlbmFibGU6IGZ1bmN0aW9uKCB1bmxvY2sgKSB7XHJcblx0XHRcdGlmICggIWRpc2FibGVkSW5pdGlhbGx5ICYmICggISQubW9iaWxlLnpvb20ubG9ja2VkIHx8IHVubG9jayA9PT0gdHJ1ZSApICkge1xyXG5cdFx0XHRcdG1ldGEuYXR0ciggXCJjb250ZW50XCIsIGVuYWJsZWRab29tICk7XHJcblx0XHRcdFx0JC5tb2JpbGUuem9vbS5lbmFibGVkID0gdHJ1ZTtcclxuXHRcdFx0XHQkLm1vYmlsZS56b29tLmxvY2tlZCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0cmVzdG9yZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICggIWRpc2FibGVkSW5pdGlhbGx5ICkge1xyXG5cdFx0XHRcdG1ldGEuYXR0ciggXCJjb250ZW50XCIsIGluaXRpYWxDb250ZW50ICk7XHJcblx0XHRcdFx0JC5tb2JpbGUuem9vbS5lbmFibGVkID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxufSggalF1ZXJ5ICkpO1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblxyXG4kLndpZGdldCggXCJtb2JpbGUudGV4dGlucHV0XCIsIHtcclxuXHRpbml0U2VsZWN0b3I6IFwiaW5wdXRbdHlwZT0ndGV4dCddLFwiICtcclxuXHRcdFwiaW5wdXRbdHlwZT0nc2VhcmNoJ10sXCIgK1xyXG5cdFx0XCI6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSxcIiArXHJcblx0XHRcImlucHV0W3R5cGU9J251bWJlciddLFwiICtcclxuXHRcdFwiOmpxbURhdGEodHlwZT0nbnVtYmVyJyksXCIgK1xyXG5cdFx0XCJpbnB1dFt0eXBlPSdwYXNzd29yZCddLFwiICtcclxuXHRcdFwiaW5wdXRbdHlwZT0nZW1haWwnXSxcIiArXHJcblx0XHRcImlucHV0W3R5cGU9J3VybCddLFwiICtcclxuXHRcdFwiaW5wdXRbdHlwZT0ndGVsJ10sXCIgK1xyXG5cdFx0XCJ0ZXh0YXJlYSxcIiArXHJcblx0XHRcImlucHV0W3R5cGU9J3RpbWUnXSxcIiArXHJcblx0XHRcImlucHV0W3R5cGU9J2RhdGUnXSxcIiArXHJcblx0XHRcImlucHV0W3R5cGU9J21vbnRoJ10sXCIgK1xyXG5cdFx0XCJpbnB1dFt0eXBlPSd3ZWVrJ10sXCIgK1xyXG5cdFx0XCJpbnB1dFt0eXBlPSdkYXRldGltZSddLFwiICtcclxuXHRcdFwiaW5wdXRbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSxcIiArXHJcblx0XHRcImlucHV0W3R5cGU9J2NvbG9yJ10sXCIgK1xyXG5cdFx0XCJpbnB1dDpub3QoW3R5cGVdKSxcIiArXHJcblx0XHRcImlucHV0W3R5cGU9J2ZpbGUnXVwiLFxyXG5cclxuXHRvcHRpb25zOiB7XHJcblx0XHR0aGVtZTogbnVsbCxcclxuXHRcdGNvcm5lcnM6IHRydWUsXHJcblx0XHRtaW5pOiBmYWxzZSxcclxuXHRcdC8vIFRoaXMgb3B0aW9uIGRlZmF1bHRzIHRvIHRydWUgb24gaU9TIGRldmljZXMuXHJcblx0XHRwcmV2ZW50Rm9jdXNab29tOiAvaVBob25lfGlQYWR8aVBvZC8udGVzdCggbmF2aWdhdG9yLnBsYXRmb3JtICkgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCBcIkFwcGxlV2ViS2l0XCIgKSA+IC0xLFxyXG5cdFx0d3JhcHBlckNsYXNzOiBcIlwiLFxyXG5cdFx0ZW5oYW5jZWQ6IGZhbHNlXHJcblx0fSxcclxuXHJcblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXHJcblx0XHRcdGlzU2VhcmNoID0gdGhpcy5lbGVtZW50LmlzKCBcIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJylcIiApLFxyXG5cdFx0XHRpc1RleHRhcmVhID0gdGhpcy5lbGVtZW50WyAwIF0udGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiLFxyXG5cdFx0XHRpc1JhbmdlID0gdGhpcy5lbGVtZW50LmlzKCBcIltkYXRhLVwiICsgKCAkLm1vYmlsZS5ucyB8fCBcIlwiICkgKyBcInR5cGU9J3JhbmdlJ11cIiApLFxyXG5cdFx0XHRpbnB1dE5lZWRzV3JhcCA9ICggKHRoaXMuZWxlbWVudC5pcyggXCJpbnB1dFwiICkgfHxcclxuXHRcdFx0XHR0aGlzLmVsZW1lbnQuaXMoIFwiW2RhdGEtXCIgKyAoICQubW9iaWxlLm5zIHx8IFwiXCIgKSArIFwidHlwZT0nc2VhcmNoJ11cIiApICkgJiZcclxuXHRcdFx0XHRcdCFpc1JhbmdlICk7XHJcblxyXG5cdFx0aWYgKCB0aGlzLmVsZW1lbnQucHJvcCggXCJkaXNhYmxlZFwiICkgKSB7XHJcblx0XHRcdG9wdGlvbnMuZGlzYWJsZWQgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdCQuZXh0ZW5kKCB0aGlzLCB7XHJcblx0XHRcdGNsYXNzZXM6IHRoaXMuX2NsYXNzZXNGcm9tT3B0aW9ucygpLFxyXG5cdFx0XHRpc1NlYXJjaDogaXNTZWFyY2gsXHJcblx0XHRcdGlzVGV4dGFyZWE6IGlzVGV4dGFyZWEsXHJcblx0XHRcdGlzUmFuZ2U6IGlzUmFuZ2UsXHJcblx0XHRcdGlucHV0TmVlZHNXcmFwOiBpbnB1dE5lZWRzV3JhcFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5fYXV0b0NvcnJlY3QoKTtcclxuXHJcblx0XHRpZiAoICFvcHRpb25zLmVuaGFuY2VkICkge1xyXG5cdFx0XHR0aGlzLl9lbmhhbmNlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fb24oIHtcclxuXHRcdFx0XCJmb2N1c1wiOiBcIl9oYW5kbGVGb2N1c1wiLFxyXG5cdFx0XHRcImJsdXJcIjogXCJfaGFuZGxlQmx1clwiXHJcblx0XHR9KTtcclxuXHJcblx0fSxcclxuXHJcblx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLnNldE9wdGlvbnMoe1xyXG5cdFx0XHRcImRpc2FibGVkXCIgOiB0aGlzLmVsZW1lbnQuaXMoIFwiOmRpc2FibGVkXCIgKVxyXG5cdFx0fSk7XHJcblx0fSxcclxuXHJcblx0X2VuaGFuY2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGVsZW1lbnRDbGFzc2VzID0gW107XHJcblxyXG5cdFx0aWYgKCB0aGlzLmlzVGV4dGFyZWEgKSB7XHJcblx0XHRcdGVsZW1lbnRDbGFzc2VzLnB1c2goIFwidWktaW5wdXQtdGV4dFwiICk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCB0aGlzLmlzVGV4dGFyZWEgfHwgdGhpcy5pc1JhbmdlICkge1xyXG5cdFx0XHRlbGVtZW50Q2xhc3Nlcy5wdXNoKCBcInVpLXNoYWRvdy1pbnNldFwiICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9cInNlYXJjaFwiIGFuZCBcInRleHRcIiBpbnB1dCB3aWRnZXRzXHJcblx0XHRpZiAoIHRoaXMuaW5wdXROZWVkc1dyYXAgKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC53cmFwKCB0aGlzLl93cmFwKCkgKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGVsZW1lbnRDbGFzc2VzID0gZWxlbWVudENsYXNzZXMuY29uY2F0KCB0aGlzLmNsYXNzZXMgKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoIGVsZW1lbnRDbGFzc2VzLmpvaW4oIFwiIFwiICkgKTtcclxuXHR9LFxyXG5cclxuXHR3aWRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuICggdGhpcy5pbnB1dE5lZWRzV3JhcCApID8gdGhpcy5lbGVtZW50LnBhcmVudCgpIDogdGhpcy5lbGVtZW50O1xyXG5cdH0sXHJcblxyXG5cdF9jbGFzc2VzRnJvbU9wdGlvbnM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXHJcblx0XHRcdGNsYXNzZXMgPSBbXTtcclxuXHJcblx0XHRjbGFzc2VzLnB1c2goIFwidWktYm9keS1cIiArICggKCBvcHRpb25zLnRoZW1lID09PSBudWxsICkgPyBcImluaGVyaXRcIiA6IG9wdGlvbnMudGhlbWUgKSApO1xyXG5cdFx0aWYgKCBvcHRpb25zLmNvcm5lcnMgKSB7XHJcblx0XHRcdGNsYXNzZXMucHVzaCggXCJ1aS1jb3JuZXItYWxsXCIgKTtcclxuXHRcdH1cclxuXHRcdGlmICggb3B0aW9ucy5taW5pICkge1xyXG5cdFx0XHRjbGFzc2VzLnB1c2goIFwidWktbWluaVwiICk7XHJcblx0XHR9XHJcblx0XHRpZiAoIG9wdGlvbnMuZGlzYWJsZWQgKSB7XHJcblx0XHRcdGNsYXNzZXMucHVzaCggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiICk7XHJcblx0XHR9XHJcblx0XHRpZiAoIG9wdGlvbnMud3JhcHBlckNsYXNzICkge1xyXG5cdFx0XHRjbGFzc2VzLnB1c2goIG9wdGlvbnMud3JhcHBlckNsYXNzICk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGNsYXNzZXM7XHJcblx0fSxcclxuXHJcblx0X3dyYXA6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuICQoIFwiPGRpdiBjbGFzcz0nXCIgK1xyXG5cdFx0XHQoIHRoaXMuaXNTZWFyY2ggPyBcInVpLWlucHV0LXNlYXJjaCBcIiA6IFwidWktaW5wdXQtdGV4dCBcIiApICtcclxuXHRcdFx0dGhpcy5jbGFzc2VzLmpvaW4oIFwiIFwiICkgKyBcIiBcIiArXHJcblx0XHRcdFwidWktc2hhZG93LWluc2V0Jz48L2Rpdj5cIiApO1xyXG5cdH0sXHJcblxyXG5cdF9hdXRvQ29ycmVjdDogZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBYWFg6IFRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBpc3N1ZSA3ODUgKEFwcGxlIGJ1ZyA4OTEwNTg5KS5cclxuXHRcdC8vICAgICAgVHVybiBvZmYgYXV0b2NvcnJlY3QgYW5kIGF1dG9jb21wbGV0ZSBvbiBub24taU9TIDUgZGV2aWNlc1xyXG5cdFx0Ly8gICAgICBzaW5jZSB0aGUgcG9wdXAgdGhleSB1c2UgY2FuJ3QgYmUgZGlzbWlzc2VkIGJ5IHRoZSB1c2VyLiBOb3RlXHJcblx0XHQvLyAgICAgIHRoYXQgd2UgdGVzdCBmb3IgdGhlIHByZXNlbmNlIG9mIHRoZSBmZWF0dXJlIGJ5IGxvb2tpbmcgZm9yXHJcblx0XHQvLyAgICAgIHRoZSBhdXRvY29ycmVjdCBwcm9wZXJ0eSBvbiB0aGUgaW5wdXQgZWxlbWVudC4gV2UgY3VycmVudGx5XHJcblx0XHQvLyAgICAgIGhhdmUgbm8gdGVzdCBmb3IgaU9TIDUgb3IgbmV3ZXIgc28gd2UncmUgdGVtcG9yYXJpbHkgdXNpbmdcclxuXHRcdC8vICAgICAgdGhlIHRvdWNoT3ZlcmZsb3cgc3VwcG9ydCBmbGFnIGZvciBqUU0gMS4wLiBZZXMsIEkgZmVlbCBkaXJ0eS5cclxuXHRcdC8vICAgICAgLSBqYmxhc1xyXG5cdFx0aWYgKCB0eXBlb2YgdGhpcy5lbGVtZW50WzBdLmF1dG9jb3JyZWN0ICE9PSBcInVuZGVmaW5lZFwiICYmXHJcblx0XHRcdCEkLnN1cHBvcnQudG91Y2hPdmVyZmxvdyApIHtcclxuXHJcblx0XHRcdC8vIFNldCB0aGUgYXR0cmlidXRlIGluc3RlYWQgb2YgdGhlIHByb3BlcnR5IGp1c3QgaW4gY2FzZSB0aGVyZVxyXG5cdFx0XHQvLyBpcyBjb2RlIHRoYXQgYXR0ZW1wdHMgdG8gbWFrZSBtb2RpZmljYXRpb25zIHZpYSBIVE1MLlxyXG5cdFx0XHR0aGlzLmVsZW1lbnRbMF0uc2V0QXR0cmlidXRlKCBcImF1dG9jb3JyZWN0XCIsIFwib2ZmXCIgKTtcclxuXHRcdFx0dGhpcy5lbGVtZW50WzBdLnNldEF0dHJpYnV0ZSggXCJhdXRvY29tcGxldGVcIiwgXCJvZmZcIiApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9oYW5kbGVCbHVyOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmZvY3VzQ2xhc3MgKTtcclxuXHRcdGlmICggdGhpcy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20gKSB7XHJcblx0XHRcdCQubW9iaWxlLnpvb20uZW5hYmxlKCB0cnVlICk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2hhbmRsZUZvY3VzOiBmdW5jdGlvbigpIHtcclxuXHRcdC8vIEluIG1hbnkgc2l0dWF0aW9ucywgaU9TIHdpbGwgem9vbSBpbnRvIHRoZSBpbnB1dCB1cG9uIHRhcCwgdGhpc1xyXG5cdFx0Ly8gcHJldmVudHMgdGhhdCBmcm9tIGhhcHBlbmluZ1xyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSApIHtcclxuXHRcdFx0JC5tb2JpbGUuem9vbS5kaXNhYmxlKCB0cnVlICk7XHJcblx0XHR9XHJcblx0XHR0aGlzLndpZGdldCgpLmFkZENsYXNzKCAkLm1vYmlsZS5mb2N1c0NsYXNzICk7XHJcblx0fSxcclxuXHJcblx0X3NldE9wdGlvbnM6IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcclxuXHRcdHZhciBvdXRlciA9IHRoaXMud2lkZ2V0KCk7XHJcblxyXG5cdFx0dGhpcy5fc3VwZXIoIG9wdGlvbnMgKTtcclxuXHJcblx0XHRpZiAoICEoIG9wdGlvbnMuZGlzYWJsZWQgPT09IHVuZGVmaW5lZCAmJlxyXG5cdFx0XHRvcHRpb25zLm1pbmkgPT09IHVuZGVmaW5lZCAmJlxyXG5cdFx0XHRvcHRpb25zLmNvcm5lcnMgPT09IHVuZGVmaW5lZCAmJlxyXG5cdFx0XHRvcHRpb25zLnRoZW1lID09PSB1bmRlZmluZWQgJiZcclxuXHRcdFx0b3B0aW9ucy53cmFwcGVyQ2xhc3MgPT09IHVuZGVmaW5lZCApICkge1xyXG5cclxuXHRcdFx0b3V0ZXIucmVtb3ZlQ2xhc3MoIHRoaXMuY2xhc3Nlcy5qb2luKCBcIiBcIiApICk7XHJcblx0XHRcdHRoaXMuY2xhc3NlcyA9IHRoaXMuX2NsYXNzZXNGcm9tT3B0aW9ucygpO1xyXG5cdFx0XHRvdXRlci5hZGRDbGFzcyggdGhpcy5jbGFzc2VzLmpvaW4oIFwiIFwiICkgKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIG9wdGlvbnMuZGlzYWJsZWQgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0dGhpcy5lbGVtZW50LnByb3AoIFwiZGlzYWJsZWRcIiwgISFvcHRpb25zLmRpc2FibGVkICk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZW5oYW5jZWQgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGlmICggdGhpcy5pbnB1dE5lZWRzV3JhcCApIHtcclxuXHRcdFx0dGhpcy5lbGVtZW50LnVud3JhcCgpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCBcInVpLWlucHV0LXRleHQgXCIgKyB0aGlzLmNsYXNzZXMuam9pbiggXCIgXCIgKSApO1xyXG5cdH1cclxufSk7XHJcblxyXG59KSggalF1ZXJ5ICk7XHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcbiQud2lkZ2V0KCBcIm1vYmlsZS5zbGlkZXJcIiwgJC5leHRlbmQoIHtcclxuXHRpbml0U2VsZWN0b3I6IFwiaW5wdXRbdHlwZT0ncmFuZ2UnXSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSwgOmpxbURhdGEocm9sZT0nc2xpZGVyJylcIixcclxuXHJcblx0d2lkZ2V0RXZlbnRQcmVmaXg6IFwic2xpZGVcIixcclxuXHJcblx0b3B0aW9uczoge1xyXG5cdFx0dGhlbWU6IG51bGwsXHJcblx0XHR0cmFja1RoZW1lOiBudWxsLFxyXG5cdFx0Y29ybmVyczogdHJ1ZSxcclxuXHRcdG1pbmk6IGZhbHNlLFxyXG5cdFx0aGlnaGxpZ2h0OiBmYWxzZVxyXG5cdH0sXHJcblxyXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdC8vIFRPRE86IEVhY2ggb2YgdGhlc2Ugc2hvdWxkIGhhdmUgY29tbWVudHMgZXhwbGFpbiB3aGF0IHRoZXkncmUgZm9yXHJcblx0XHR2YXIgc2VsZiA9IHRoaXMsXHJcblx0XHRcdGNvbnRyb2wgPSB0aGlzLmVsZW1lbnQsXHJcblx0XHRcdHRyYWNrVGhlbWUgPSB0aGlzLm9wdGlvbnMudHJhY2tUaGVtZSB8fCAkLm1vYmlsZS5nZXRBdHRyaWJ1dGUoIGNvbnRyb2xbIDAgXSwgXCJ0aGVtZVwiICksXHJcblx0XHRcdHRyYWNrVGhlbWVDbGFzcyA9IHRyYWNrVGhlbWUgPyBcIiB1aS1iYXItXCIgKyB0cmFja1RoZW1lIDogXCIgdWktYmFyLWluaGVyaXRcIixcclxuXHRcdFx0Y29ybmVyQ2xhc3MgPSAoIHRoaXMub3B0aW9ucy5jb3JuZXJzIHx8IGNvbnRyb2wuanFtRGF0YSggXCJjb3JuZXJzXCIgKSApID8gXCIgdWktY29ybmVyLWFsbFwiIDogXCJcIixcclxuXHRcdFx0bWluaUNsYXNzID0gKCB0aGlzLm9wdGlvbnMubWluaSB8fCBjb250cm9sLmpxbURhdGEoIFwibWluaVwiICkgKSA/IFwiIHVpLW1pbmlcIiA6IFwiXCIsXHJcblx0XHRcdGNUeXBlID0gY29udHJvbFsgMCBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXHJcblx0XHRcdGlzVG9nZ2xlU3dpdGNoID0gKCBjVHlwZSA9PT0gXCJzZWxlY3RcIiApLFxyXG5cdFx0XHRpc1Jhbmdlc2xpZGVyID0gY29udHJvbC5wYXJlbnQoKS5pcyggXCI6anFtRGF0YShyb2xlPSdyYW5nZXNsaWRlcicpXCIgKSxcclxuXHRcdFx0c2VsZWN0Q2xhc3MgPSAoIGlzVG9nZ2xlU3dpdGNoICkgPyBcInVpLXNsaWRlci1zd2l0Y2hcIiA6IFwiXCIsXHJcblx0XHRcdGNvbnRyb2xJRCA9IGNvbnRyb2wuYXR0ciggXCJpZFwiICksXHJcblx0XHRcdCRsYWJlbCA9ICQoIFwiW2Zvcj0nXCIgKyBjb250cm9sSUQgKyBcIiddXCIgKSxcclxuXHRcdFx0bGFiZWxJRCA9ICRsYWJlbC5hdHRyKCBcImlkXCIgKSB8fCBjb250cm9sSUQgKyBcIi1sYWJlbFwiLFxyXG5cdFx0XHRtaW4gPSAhaXNUb2dnbGVTd2l0Y2ggPyBwYXJzZUZsb2F0KCBjb250cm9sLmF0dHIoIFwibWluXCIgKSApIDogMCxcclxuXHRcdFx0bWF4ID0gICFpc1RvZ2dsZVN3aXRjaCA/IHBhcnNlRmxvYXQoIGNvbnRyb2wuYXR0ciggXCJtYXhcIiApICkgOiBjb250cm9sLmZpbmQoIFwib3B0aW9uXCIgKS5sZW5ndGgtMSxcclxuXHRcdFx0c3RlcCA9IHdpbmRvdy5wYXJzZUZsb2F0KCBjb250cm9sLmF0dHIoIFwic3RlcFwiICkgfHwgMSApLFxyXG5cdFx0XHRkb21IYW5kbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApLFxyXG5cdFx0XHRoYW5kbGUgPSAkKCBkb21IYW5kbGUgKSxcclxuXHRcdFx0ZG9tU2xpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLFxyXG5cdFx0XHRzbGlkZXIgPSAkKCBkb21TbGlkZXIgKSxcclxuXHRcdFx0dmFsdWViZyA9IHRoaXMub3B0aW9ucy5oaWdobGlnaHQgJiYgIWlzVG9nZ2xlU3dpdGNoID8gKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciBiZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcclxuXHRcdFx0XHRiZy5jbGFzc05hbWUgPSBcInVpLXNsaWRlci1iZyBcIiArICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzO1xyXG5cdFx0XHRcdHJldHVybiAkKCBiZyApLnByZXBlbmRUbyggc2xpZGVyICk7XHJcblx0XHRcdH0pKCkgOiBmYWxzZSxcclxuXHRcdFx0b3B0aW9ucyxcclxuXHRcdFx0d3JhcHBlcixcclxuXHRcdFx0aiwgbGVuZ3RoLFxyXG5cdFx0XHRpLCBvcHRpb25zQ291bnQsIG9yaWdUYWJJbmRleCxcclxuXHRcdFx0c2lkZSwgYWN0aXZlQ2xhc3MsIHNsaWRlckltZztcclxuXHJcblx0XHQkbGFiZWwuYXR0ciggXCJpZFwiLCBsYWJlbElEICk7XHJcblx0XHR0aGlzLmlzVG9nZ2xlU3dpdGNoID0gaXNUb2dnbGVTd2l0Y2g7XHJcblxyXG5cdFx0ZG9tSGFuZGxlLnNldEF0dHJpYnV0ZSggXCJocmVmXCIsIFwiI1wiICk7XHJcblx0XHRkb21TbGlkZXIuc2V0QXR0cmlidXRlKCBcInJvbGVcIiwgXCJhcHBsaWNhdGlvblwiICk7XHJcblx0XHRkb21TbGlkZXIuY2xhc3NOYW1lID0gWyB0aGlzLmlzVG9nZ2xlU3dpdGNoID8gXCJ1aS1zbGlkZXIgdWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldCBcIiA6IFwidWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldCBcIiwgc2VsZWN0Q2xhc3MsIHRyYWNrVGhlbWVDbGFzcywgY29ybmVyQ2xhc3MsIG1pbmlDbGFzcyBdLmpvaW4oIFwiXCIgKTtcclxuXHRcdGRvbUhhbmRsZS5jbGFzc05hbWUgPSBcInVpLXNsaWRlci1oYW5kbGVcIjtcclxuXHRcdGRvbVNsaWRlci5hcHBlbmRDaGlsZCggZG9tSGFuZGxlICk7XHJcblxyXG5cdFx0aGFuZGxlLmF0dHIoe1xyXG5cdFx0XHRcInJvbGVcIjogXCJzbGlkZXJcIixcclxuXHRcdFx0XCJhcmlhLXZhbHVlbWluXCI6IG1pbixcclxuXHRcdFx0XCJhcmlhLXZhbHVlbWF4XCI6IG1heCxcclxuXHRcdFx0XCJhcmlhLXZhbHVlbm93XCI6IHRoaXMuX3ZhbHVlKCksXHJcblx0XHRcdFwiYXJpYS12YWx1ZXRleHRcIjogdGhpcy5fdmFsdWUoKSxcclxuXHRcdFx0XCJ0aXRsZVwiOiB0aGlzLl92YWx1ZSgpLFxyXG5cdFx0XHRcImFyaWEtbGFiZWxsZWRieVwiOiBsYWJlbElEXHJcblx0XHR9KTtcclxuXHJcblx0XHQkLmV4dGVuZCggdGhpcywge1xyXG5cdFx0XHRzbGlkZXI6IHNsaWRlcixcclxuXHRcdFx0aGFuZGxlOiBoYW5kbGUsXHJcblx0XHRcdGNvbnRyb2w6IGNvbnRyb2wsXHJcblx0XHRcdHR5cGU6IGNUeXBlLFxyXG5cdFx0XHRzdGVwOiBzdGVwLFxyXG5cdFx0XHRtYXg6IG1heCxcclxuXHRcdFx0bWluOiBtaW4sXHJcblx0XHRcdHZhbHVlYmc6IHZhbHVlYmcsXHJcblx0XHRcdGlzUmFuZ2VzbGlkZXI6IGlzUmFuZ2VzbGlkZXIsXHJcblx0XHRcdGRyYWdnaW5nOiBmYWxzZSxcclxuXHRcdFx0YmVmb3JlU3RhcnQ6IG51bGwsXHJcblx0XHRcdHVzZXJNb2RpZmllZDogZmFsc2UsXHJcblx0XHRcdG1vdXNlTW92ZWQ6IGZhbHNlXHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAoIGlzVG9nZ2xlU3dpdGNoICkge1xyXG5cdFx0XHQvLyBUT0RPOiByZXN0b3JlIG9yaWdpbmFsIHRhYmluZGV4IChpZiBhbnkpIGluIGEgZGVzdHJveSBtZXRob2RcclxuXHRcdFx0b3JpZ1RhYkluZGV4ID0gY29udHJvbC5hdHRyKCBcInRhYmluZGV4XCIgKTtcclxuXHRcdFx0aWYgKCBvcmlnVGFiSW5kZXggKSB7XHJcblx0XHRcdFx0aGFuZGxlLmF0dHIoIFwidGFiaW5kZXhcIiwgb3JpZ1RhYkluZGV4ICk7XHJcblx0XHRcdH1cclxuXHRcdFx0Y29udHJvbC5hdHRyKCBcInRhYmluZGV4XCIsIFwiLTFcIiApLmZvY3VzKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdCQoIHRoaXMgKS5ibHVyKCk7XHJcblx0XHRcdFx0aGFuZGxlLmZvY3VzKCk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0d3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcclxuXHRcdFx0d3JhcHBlci5jbGFzc05hbWUgPSBcInVpLXNsaWRlci1pbm5lcm9mZnNldFwiO1xyXG5cclxuXHRcdFx0Zm9yICggaiA9IDAsIGxlbmd0aCA9IGRvbVNsaWRlci5jaGlsZE5vZGVzLmxlbmd0aDsgaiA8IGxlbmd0aDsgaisrICkge1xyXG5cdFx0XHRcdHdyYXBwZXIuYXBwZW5kQ2hpbGQoIGRvbVNsaWRlci5jaGlsZE5vZGVzW2pdICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGRvbVNsaWRlci5hcHBlbmRDaGlsZCggd3JhcHBlciApO1xyXG5cclxuXHRcdFx0Ly8gc2xpZGVyLndyYXBJbm5lciggXCI8ZGl2IGNsYXNzPSd1aS1zbGlkZXItaW5uZXJvZmZzZXQnPjwvZGl2PlwiICk7XHJcblxyXG5cdFx0XHQvLyBtYWtlIHRoZSBoYW5kbGUgbW92ZSB3aXRoIGEgc21vb3RoIHRyYW5zaXRpb25cclxuXHRcdFx0aGFuZGxlLmFkZENsYXNzKCBcInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmdcIiApO1xyXG5cclxuXHRcdFx0b3B0aW9ucyA9IGNvbnRyb2wuZmluZCggXCJvcHRpb25cIiApO1xyXG5cclxuXHRcdFx0Zm9yICggaSA9IDAsIG9wdGlvbnNDb3VudCA9IG9wdGlvbnMubGVuZ3RoOyBpIDwgb3B0aW9uc0NvdW50OyBpKysgKSB7XHJcblx0XHRcdFx0c2lkZSA9ICFpID8gXCJiXCIgOiBcImFcIjtcclxuXHRcdFx0XHRhY3RpdmVDbGFzcyA9ICFpID8gXCJcIiA6IFwiIFwiICsgJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3M7XHJcblx0XHRcdFx0c2xpZGVySW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJzcGFuXCIgKTtcclxuXHJcblx0XHRcdFx0c2xpZGVySW1nLmNsYXNzTmFtZSA9IFsgXCJ1aS1zbGlkZXItbGFiZWwgdWktc2xpZGVyLWxhYmVsLVwiLCBzaWRlLCBhY3RpdmVDbGFzcyBdLmpvaW4oIFwiXCIgKTtcclxuXHRcdFx0XHRzbGlkZXJJbWcuc2V0QXR0cmlidXRlKCBcInJvbGVcIiwgXCJpbWdcIiApO1xyXG5cdFx0XHRcdHNsaWRlckltZy5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIG9wdGlvbnNbaV0uaW5uZXJIVE1MICkgKTtcclxuXHRcdFx0XHQkKCBzbGlkZXJJbWcgKS5wcmVwZW5kVG8oIHNsaWRlciApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzZWxmLl9sYWJlbHMgPSAkKCBcIi51aS1zbGlkZXItbGFiZWxcIiwgc2xpZGVyICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIG1vbml0b3IgdGhlIGlucHV0IGZvciB1cGRhdGVkIHZhbHVlc1xyXG5cdFx0Y29udHJvbC5hZGRDbGFzcyggaXNUb2dnbGVTd2l0Y2ggPyBcInVpLXNsaWRlci1zd2l0Y2hcIiA6IFwidWktc2xpZGVyLWlucHV0XCIgKTtcclxuXHJcblx0XHR0aGlzLl9vbiggY29udHJvbCwge1xyXG5cdFx0XHRcImNoYW5nZVwiOiBcIl9jb250cm9sQ2hhbmdlXCIsXHJcblx0XHRcdFwia2V5dXBcIjogXCJfY29udHJvbEtleXVwXCIsXHJcblx0XHRcdFwiYmx1clwiOiBcIl9jb250cm9sQmx1clwiLFxyXG5cdFx0XHRcInZtb3VzZXVwXCI6IFwiX2NvbnRyb2xWTW91c2VVcFwiXHJcblx0XHR9KTtcclxuXHJcblx0XHRzbGlkZXIuYmluZCggXCJ2bW91c2Vkb3duXCIsICQucHJveHkoIHRoaXMuX3NsaWRlclZNb3VzZURvd24sIHRoaXMgKSApXHJcblx0XHRcdC5iaW5kKCBcInZjbGlja1wiLCBmYWxzZSApO1xyXG5cclxuXHRcdC8vIFdlIGhhdmUgdG8gaW5zdGFudGlhdGUgYSBuZXcgZnVuY3Rpb24gb2JqZWN0IGZvciB0aGUgdW5iaW5kIHRvIHdvcmsgcHJvcGVybHlcclxuXHRcdC8vIHNpbmNlIHRoZSBtZXRob2QgaXRzZWxmIGlzIGRlZmluZWQgaW4gdGhlIHByb3RvdHlwZSAoY2F1c2luZyBpdCB0byB1bmJpbmQgZXZlcnl0aGluZylcclxuXHRcdHRoaXMuX29uKCBkb2N1bWVudCwgeyBcInZtb3VzZW1vdmVcIjogXCJfcHJldmVudERvY3VtZW50RHJhZ1wiIH0pO1xyXG5cdFx0dGhpcy5fb24oIHNsaWRlci5hZGQoIGRvY3VtZW50ICksIHsgXCJ2bW91c2V1cFwiOiBcIl9zbGlkZXJWTW91c2VVcFwiIH0pO1xyXG5cclxuXHRcdHNsaWRlci5pbnNlcnRBZnRlciggY29udHJvbCApO1xyXG5cclxuXHRcdC8vIHdyYXAgaW4gYSBkaXYgZm9yIHN0eWxpbmcgcHVycG9zZXNcclxuXHRcdGlmICggIWlzVG9nZ2xlU3dpdGNoICYmICFpc1Jhbmdlc2xpZGVyICkge1xyXG5cdFx0XHR3cmFwcGVyID0gdGhpcy5vcHRpb25zLm1pbmkgPyBcIjxkaXYgY2xhc3M9J3VpLXNsaWRlciB1aS1taW5pJz5cIiA6IFwiPGRpdiBjbGFzcz0ndWktc2xpZGVyJz5cIjtcclxuXHJcblx0XHRcdGNvbnRyb2wuYWRkKCBzbGlkZXIgKS53cmFwQWxsKCB3cmFwcGVyICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gYmluZCB0aGUgaGFuZGxlIGV2ZW50IGNhbGxiYWNrcyBhbmQgc2V0IHRoZSBjb250ZXh0IHRvIHRoZSB3aWRnZXQgaW5zdGFuY2VcclxuXHRcdHRoaXMuX29uKCB0aGlzLmhhbmRsZSwge1xyXG5cdFx0XHRcInZtb3VzZWRvd25cIjogXCJfaGFuZGxlVk1vdXNlRG93blwiLFxyXG5cdFx0XHRcImtleWRvd25cIjogXCJfaGFuZGxlS2V5ZG93blwiLFxyXG5cdFx0XHRcImtleXVwXCI6IFwiX2hhbmRsZUtleXVwXCJcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuaGFuZGxlLmJpbmQoIFwidmNsaWNrXCIsIGZhbHNlICk7XHJcblxyXG5cdFx0dGhpcy5faGFuZGxlRm9ybVJlc2V0KCk7XHJcblxyXG5cdFx0dGhpcy5yZWZyZXNoKCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJ1ZSApO1xyXG5cdH0sXHJcblxyXG5cdF9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcclxuXHRcdGlmICggb3B0aW9ucy50aGVtZSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHR0aGlzLl9zZXRUaGVtZSggb3B0aW9ucy50aGVtZSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0aW9ucy50cmFja1RoZW1lICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHRoaXMuX3NldFRyYWNrVGhlbWUoIG9wdGlvbnMudHJhY2tUaGVtZSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0aW9ucy5jb3JuZXJzICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHRoaXMuX3NldENvcm5lcnMoIG9wdGlvbnMuY29ybmVycyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0aW9ucy5taW5pICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHRoaXMuX3NldE1pbmkoIG9wdGlvbnMubWluaSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0aW9ucy5oaWdobGlnaHQgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0dGhpcy5fc2V0SGlnaGxpZ2h0KCBvcHRpb25zLmhpZ2hsaWdodCApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0aW9ucy5kaXNhYmxlZCAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHR0aGlzLl9zZXREaXNhYmxlZCggb3B0aW9ucy5kaXNhYmxlZCApO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5fc3VwZXIoIG9wdGlvbnMgKTtcclxuXHR9LFxyXG5cclxuXHRfY29udHJvbENoYW5nZTogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0Ly8gaWYgdGhlIHVzZXIgZHJhZ2dlZCB0aGUgaGFuZGxlLCB0aGUgXCJjaGFuZ2VcIiBldmVudCB3YXMgdHJpZ2dlcmVkIGZyb20gaW5zaWRlIHJlZnJlc2goKTsgZG9uJ3QgY2FsbCByZWZyZXNoKCkgYWdhaW5cclxuXHRcdGlmICggdGhpcy5fdHJpZ2dlciggXCJjb250cm9sY2hhbmdlXCIsIGV2ZW50ICkgPT09IGZhbHNlICkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRpZiAoICF0aGlzLm1vdXNlTW92ZWQgKSB7XHJcblx0XHRcdHRoaXMucmVmcmVzaCggdGhpcy5fdmFsdWUoKSwgdHJ1ZSApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9jb250cm9sS2V5dXA6IGZ1bmN0aW9uKC8qIGV2ZW50ICovKSB7IC8vIG5lY2Vzc2FyeT9cclxuXHRcdHRoaXMucmVmcmVzaCggdGhpcy5fdmFsdWUoKSwgdHJ1ZSwgdHJ1ZSApO1xyXG5cdH0sXHJcblxyXG5cdF9jb250cm9sQmx1cjogZnVuY3Rpb24oLyogZXZlbnQgKi8pIHtcclxuXHRcdHRoaXMucmVmcmVzaCggdGhpcy5fdmFsdWUoKSwgdHJ1ZSApO1xyXG5cdH0sXHJcblxyXG5cdC8vIGl0IGFwcGVhcnMgdGhlIGNsaWNraW5nIHRoZSB1cCBhbmQgZG93biBidXR0b25zIGluIGNocm9tZSBvblxyXG5cdC8vIHJhbmdlL251bWJlciBpbnB1dHMgZG9lc24ndCB0cmlnZ2VyIGEgY2hhbmdlIHVudGlsIHRoZSBmaWVsZCBpc1xyXG5cdC8vIGJsdXJyZWQuIEhlcmUgd2UgY2hlY2sgdGhpZiB0aGUgdmFsdWUgaGFzIGNoYW5nZWQgYW5kIHJlZnJlc2hcclxuXHRfY29udHJvbFZNb3VzZVVwOiBmdW5jdGlvbigvKiBldmVudCAqLykge1xyXG5cdFx0dGhpcy5fY2hlY2tlZFJlZnJlc2goKTtcclxuXHR9LFxyXG5cclxuXHQvLyBOT1RFIGZvcmNlIGZvY3VzIG9uIGhhbmRsZVxyXG5cdF9oYW5kbGVWTW91c2VEb3duOiBmdW5jdGlvbigvKiBldmVudCAqLykge1xyXG5cdFx0dGhpcy5oYW5kbGUuZm9jdXMoKTtcclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlS2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0dmFyIGluZGV4ID0gdGhpcy5fdmFsdWUoKTtcclxuXHRcdGlmICggdGhpcy5vcHRpb25zLmRpc2FibGVkICkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSW4gYWxsIGNhc2VzIHByZXZlbnQgdGhlIGRlZmF1bHQgYW5kIG1hcmsgdGhlIGhhbmRsZSBhcyBhY3RpdmVcclxuXHRcdHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XHJcblx0XHRcdGNhc2UgJC5tb2JpbGUua2V5Q29kZS5IT01FOlxyXG5cdFx0XHRjYXNlICQubW9iaWxlLmtleUNvZGUuRU5EOlxyXG5cdFx0XHRjYXNlICQubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpcclxuXHRcdFx0Y2FzZSAkLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpcclxuXHRcdFx0Y2FzZSAkLm1vYmlsZS5rZXlDb2RlLlVQOlxyXG5cdFx0XHRjYXNlICQubW9iaWxlLmtleUNvZGUuUklHSFQ6XHJcblx0XHRcdGNhc2UgJC5tb2JpbGUua2V5Q29kZS5ET1dOOlxyXG5cdFx0XHRjYXNlICQubW9iaWxlLmtleUNvZGUuTEVGVDpcclxuXHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0XHRpZiAoICF0aGlzLl9rZXlTbGlkaW5nICkge1xyXG5cdFx0XHRcdFx0dGhpcy5fa2V5U2xpZGluZyA9IHRydWU7XHJcblx0XHRcdFx0XHR0aGlzLmhhbmRsZS5hZGRDbGFzcyggXCJ1aS1zdGF0ZS1hY3RpdmVcIiApOyAvKiBUT0RPOiBXZSBkb24ndCB1c2UgdGhpcyBjbGFzcyBmb3Igc3R5bGluZy4gRG8gd2UgbmVlZCB0byBhZGQgaXQ/ICovXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBtb3ZlIHRoZSBzbGlkZXIgYWNjb3JkaW5nIHRvIHRoZSBrZXlwcmVzc1xyXG5cdFx0c3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcclxuXHRcdFx0Y2FzZSAkLm1vYmlsZS5rZXlDb2RlLkhPTUU6XHJcblx0XHRcdFx0dGhpcy5yZWZyZXNoKCB0aGlzLm1pbiApO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICQubW9iaWxlLmtleUNvZGUuRU5EOlxyXG5cdFx0XHRcdHRoaXMucmVmcmVzaCggdGhpcy5tYXggKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAkLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6XHJcblx0XHRcdGNhc2UgJC5tb2JpbGUua2V5Q29kZS5VUDpcclxuXHRcdFx0Y2FzZSAkLm1vYmlsZS5rZXlDb2RlLlJJR0hUOlxyXG5cdFx0XHRcdHRoaXMucmVmcmVzaCggaW5kZXggKyB0aGlzLnN0ZXAgKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAkLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpcclxuXHRcdFx0Y2FzZSAkLm1vYmlsZS5rZXlDb2RlLkRPV046XHJcblx0XHRcdGNhc2UgJC5tb2JpbGUua2V5Q29kZS5MRUZUOlxyXG5cdFx0XHRcdHRoaXMucmVmcmVzaCggaW5kZXggLSB0aGlzLnN0ZXAgKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHR9LCAvLyByZW1vdmUgYWN0aXZlIG1hcmtcclxuXHJcblx0X2hhbmRsZUtleXVwOiBmdW5jdGlvbigvKiBldmVudCAqLykge1xyXG5cdFx0aWYgKCB0aGlzLl9rZXlTbGlkaW5nICkge1xyXG5cdFx0XHR0aGlzLl9rZXlTbGlkaW5nID0gZmFsc2U7XHJcblx0XHRcdHRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWFjdGl2ZVwiICk7IC8qIFNlZSBjb21tZW50IGFib3ZlLiAqL1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9zbGlkZXJWTW91c2VEb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHQvLyBOT1RFOiB3ZSBkb24ndCBkbyB0aGlzIGluIHJlZnJlc2ggYmVjYXVzZSB3ZSBzdGlsbCB3YW50IHRvXHJcblx0XHQvLyAgICAgICBzdXBwb3J0IHByb2dyYW1tYXRpYyBhbHRlcmF0aW9uIG9mIGRpc2FibGVkIGlucHV0c1xyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgfHwgISggZXZlbnQud2hpY2ggPT09IDEgfHwgZXZlbnQud2hpY2ggPT09IDAgfHwgZXZlbnQud2hpY2ggPT09IHVuZGVmaW5lZCApICkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRpZiAoIHRoaXMuX3RyaWdnZXIoIFwiYmVmb3Jlc3RhcnRcIiwgZXZlbnQgKSA9PT0gZmFsc2UgKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xyXG5cdFx0dGhpcy51c2VyTW9kaWZpZWQgPSBmYWxzZTtcclxuXHRcdHRoaXMubW91c2VNb3ZlZCA9IGZhbHNlO1xyXG5cclxuXHRcdGlmICggdGhpcy5pc1RvZ2dsZVN3aXRjaCApIHtcclxuXHRcdFx0dGhpcy5iZWZvcmVTdGFydCA9IHRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4O1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMucmVmcmVzaCggZXZlbnQgKTtcclxuXHRcdHRoaXMuX3RyaWdnZXIoIFwic3RhcnRcIiApO1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH0sXHJcblxyXG5cdF9zbGlkZXJWTW91c2VVcDogZnVuY3Rpb24oKSB7XHJcblx0XHRpZiAoIHRoaXMuZHJhZ2dpbmcgKSB7XHJcblx0XHRcdHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcclxuXHJcblx0XHRcdGlmICggdGhpcy5pc1RvZ2dsZVN3aXRjaCApIHtcclxuXHRcdFx0XHQvLyBtYWtlIHRoZSBoYW5kbGUgbW92ZSB3aXRoIGEgc21vb3RoIHRyYW5zaXRpb25cclxuXHRcdFx0XHR0aGlzLmhhbmRsZS5hZGRDbGFzcyggXCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nXCIgKTtcclxuXHJcblx0XHRcdFx0aWYgKCB0aGlzLm1vdXNlTW92ZWQgKSB7XHJcblx0XHRcdFx0XHQvLyB0aGlzIGlzIGEgZHJhZywgY2hhbmdlIHRoZSB2YWx1ZSBvbmx5IGlmIHVzZXIgZHJhZ2dlZCBlbm91Z2hcclxuXHRcdFx0XHRcdGlmICggdGhpcy51c2VyTW9kaWZpZWQgKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMucmVmcmVzaCggdGhpcy5iZWZvcmVTdGFydCA9PT0gMCA/IDEgOiAwICk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlZnJlc2goIHRoaXMuYmVmb3JlU3RhcnQgKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Ly8gdGhpcyBpcyBqdXN0IGEgY2xpY2ssIGNoYW5nZSB0aGUgdmFsdWVcclxuXHRcdFx0XHRcdHRoaXMucmVmcmVzaCggdGhpcy5iZWZvcmVTdGFydCA9PT0gMCA/IDEgOiAwICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLm1vdXNlTW92ZWQgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy5fdHJpZ2dlciggXCJzdG9wXCIgKTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9wcmV2ZW50RG9jdW1lbnREcmFnOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHRcdC8vIE5PVEU6IHdlIGRvbid0IGRvIHRoaXMgaW4gcmVmcmVzaCBiZWNhdXNlIHdlIHN0aWxsIHdhbnQgdG9cclxuXHRcdFx0Ly8gICAgICAgc3VwcG9ydCBwcm9ncmFtbWF0aWMgYWx0ZXJhdGlvbiBvZiBkaXNhYmxlZCBpbnB1dHNcclxuXHRcdFx0aWYgKCB0aGlzLl90cmlnZ2VyKCBcImRyYWdcIiwgZXZlbnQgKSA9PT0gZmFsc2UpIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCB0aGlzLmRyYWdnaW5nICYmICF0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKSB7XHJcblxyXG5cdFx0XHRcdC8vIHRoaXMubW91c2VNb3ZlZCBtdXN0IGJlIHVwZGF0ZWQgYmVmb3JlIHJlZnJlc2goKSBiZWNhdXNlIGl0IHdpbGwgYmUgdXNlZCBpbiB0aGUgY29udHJvbCBcImNoYW5nZVwiIGV2ZW50XHJcblx0XHRcdFx0dGhpcy5tb3VzZU1vdmVkID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0aWYgKCB0aGlzLmlzVG9nZ2xlU3dpdGNoICkge1xyXG5cdFx0XHRcdFx0Ly8gbWFrZSB0aGUgaGFuZGxlIG1vdmUgaW4gc3luYyB3aXRoIHRoZSBtb3VzZVxyXG5cdFx0XHRcdFx0dGhpcy5oYW5kbGUucmVtb3ZlQ2xhc3MoIFwidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZ1wiICk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR0aGlzLnJlZnJlc2goIGV2ZW50ICk7XHJcblxyXG5cdFx0XHRcdC8vIG9ubHkgYWZ0ZXIgcmVmcmVzaCgpIHlvdSBjYW4gY2FsY3VsYXRlIHRoaXMudXNlck1vZGlmaWVkXHJcblx0XHRcdFx0dGhpcy51c2VyTW9kaWZpZWQgPSB0aGlzLmJlZm9yZVN0YXJ0ICE9PSB0aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleDtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdF9jaGVja2VkUmVmcmVzaDogZnVuY3Rpb24oKSB7XHJcblx0XHRpZiAoIHRoaXMudmFsdWUgIT09IHRoaXMuX3ZhbHVlKCkgKSB7XHJcblx0XHRcdHRoaXMucmVmcmVzaCggdGhpcy5fdmFsdWUoKSApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF92YWx1ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gIHRoaXMuaXNUb2dnbGVTd2l0Y2ggPyB0aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCA6IHBhcnNlRmxvYXQoIHRoaXMuZWxlbWVudC52YWwoKSApIDtcclxuXHR9LFxyXG5cclxuXHRfcmVzZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5yZWZyZXNoKCB1bmRlZmluZWQsIGZhbHNlLCB0cnVlICk7XHJcblx0fSxcclxuXHJcblx0cmVmcmVzaDogZnVuY3Rpb24oIHZhbCwgaXNmcm9tQ29udHJvbCwgcHJldmVudElucHV0VXBkYXRlICkge1xyXG5cdFx0Ly8gTk9URTogd2UgZG9uJ3QgcmV0dXJuIGhlcmUgYmVjYXVzZSB3ZSB3YW50IHRvIHN1cHBvcnQgcHJvZ3JhbW1hdGljXHJcblx0XHQvLyAgICAgICBhbHRlcmF0aW9uIG9mIHRoZSBpbnB1dCB2YWx1ZSwgd2hpY2ggc2hvdWxkIHN0aWxsIHVwZGF0ZSB0aGUgc2xpZGVyXHJcblxyXG5cdFx0dmFyIHNlbGYgPSB0aGlzLFxyXG5cdFx0XHRwYXJlbnRUaGVtZSA9ICQubW9iaWxlLmdldEF0dHJpYnV0ZSggdGhpcy5lbGVtZW50WyAwIF0sIFwidGhlbWVcIiApLFxyXG5cdFx0XHR0aGVtZSA9IHRoaXMub3B0aW9ucy50aGVtZSB8fCBwYXJlbnRUaGVtZSxcclxuXHRcdFx0dGhlbWVDbGFzcyA9ICB0aGVtZSA/IFwiIHVpLWJ0bi1cIiArIHRoZW1lIDogXCJcIixcclxuXHRcdFx0dHJhY2tUaGVtZSA9IHRoaXMub3B0aW9ucy50cmFja1RoZW1lIHx8IHBhcmVudFRoZW1lLFxyXG5cdFx0XHR0cmFja1RoZW1lQ2xhc3MgPSB0cmFja1RoZW1lID8gXCIgdWktYmFyLVwiICsgdHJhY2tUaGVtZSA6IFwiIHVpLWJhci1pbmhlcml0XCIsXHJcblx0XHRcdGNvcm5lckNsYXNzID0gdGhpcy5vcHRpb25zLmNvcm5lcnMgPyBcIiB1aS1jb3JuZXItYWxsXCIgOiBcIlwiLFxyXG5cdFx0XHRtaW5pQ2xhc3MgPSB0aGlzLm9wdGlvbnMubWluaSA/IFwiIHVpLW1pbmlcIiA6IFwiXCIsXHJcblx0XHRcdGxlZnQsIHdpZHRoLCBkYXRhLCB0b2wsXHJcblx0XHRcdHB4U3RlcCwgcGVyY2VudCxcclxuXHRcdFx0Y29udHJvbCwgaXNJbnB1dCwgb3B0aW9uRWxlbWVudHMsIG1pbiwgbWF4LCBzdGVwLFxyXG5cdFx0XHRuZXd2YWwsIHZhbE1vZFN0ZXAsIGFsaWduVmFsdWUsIHBlcmNlbnRQZXJTdGVwLFxyXG5cdFx0XHRoYW5kbGVQZXJjZW50LCBhUGVyY2VudCwgYlBlcmNlbnQsXHJcblx0XHRcdHZhbHVlQ2hhbmdlZDtcclxuXHJcblx0XHRzZWxmLnNsaWRlclswXS5jbGFzc05hbWUgPSBbIHRoaXMuaXNUb2dnbGVTd2l0Y2ggPyBcInVpLXNsaWRlciB1aS1zbGlkZXItc3dpdGNoIHVpLXNsaWRlci10cmFjayB1aS1zaGFkb3ctaW5zZXRcIiA6IFwidWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldFwiLCB0cmFja1RoZW1lQ2xhc3MsIGNvcm5lckNsYXNzLCBtaW5pQ2xhc3MgXS5qb2luKCBcIlwiICk7XHJcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCB8fCB0aGlzLmVsZW1lbnQucHJvcCggXCJkaXNhYmxlZFwiICkgKSB7XHJcblx0XHRcdHRoaXMuZGlzYWJsZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHNldCB0aGUgc3RvcmVkIHZhbHVlIGZvciBjb21wYXJpc29uIGxhdGVyXHJcblx0XHR0aGlzLnZhbHVlID0gdGhpcy5fdmFsdWUoKTtcclxuXHRcdGlmICggdGhpcy5vcHRpb25zLmhpZ2hsaWdodCAmJiAhdGhpcy5pc1RvZ2dsZVN3aXRjaCAmJiB0aGlzLnNsaWRlci5maW5kKCBcIi51aS1zbGlkZXItYmdcIiApLmxlbmd0aCA9PT0gMCApIHtcclxuXHRcdFx0dGhpcy52YWx1ZWJnID0gKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciBiZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcclxuXHRcdFx0XHRiZy5jbGFzc05hbWUgPSBcInVpLXNsaWRlci1iZyBcIiArICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzO1xyXG5cdFx0XHRcdHJldHVybiAkKCBiZyApLnByZXBlbmRUbyggc2VsZi5zbGlkZXIgKTtcclxuXHRcdFx0fSkoKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuaGFuZGxlLmFkZENsYXNzKCBcInVpLWJ0blwiICsgdGhlbWVDbGFzcyArIFwiIHVpLXNoYWRvd1wiICk7XHJcblxyXG5cdFx0Y29udHJvbCA9IHRoaXMuZWxlbWVudDtcclxuXHRcdGlzSW5wdXQgPSAhdGhpcy5pc1RvZ2dsZVN3aXRjaDtcclxuXHRcdG9wdGlvbkVsZW1lbnRzID0gaXNJbnB1dCA/IFtdIDogY29udHJvbC5maW5kKCBcIm9wdGlvblwiICk7XHJcblx0XHRtaW4gPSAgaXNJbnB1dCA/IHBhcnNlRmxvYXQoIGNvbnRyb2wuYXR0ciggXCJtaW5cIiApICkgOiAwO1xyXG5cdFx0bWF4ID0gaXNJbnB1dCA/IHBhcnNlRmxvYXQoIGNvbnRyb2wuYXR0ciggXCJtYXhcIiApICkgOiBvcHRpb25FbGVtZW50cy5sZW5ndGggLSAxO1xyXG5cdFx0c3RlcCA9ICggaXNJbnB1dCAmJiBwYXJzZUZsb2F0KCBjb250cm9sLmF0dHIoIFwic3RlcFwiICkgKSA+IDAgKSA/IHBhcnNlRmxvYXQoIGNvbnRyb2wuYXR0ciggXCJzdGVwXCIgKSApIDogMTtcclxuXHJcblx0XHRpZiAoIHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCIgKSB7XHJcblx0XHRcdGRhdGEgPSB2YWw7XHJcblx0XHRcdC8vIGEgc2xpZ2h0IHRvbGVyYW5jZSBoZWxwZWQgZ2V0IHRvIHRoZSBlbmRzIG9mIHRoZSBzbGlkZXJcclxuXHRcdFx0dG9sID0gODtcclxuXHJcblx0XHRcdGxlZnQgPSB0aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0O1xyXG5cdFx0XHR3aWR0aCA9IHRoaXMuc2xpZGVyLndpZHRoKCk7XHJcblx0XHRcdHB4U3RlcCA9IHdpZHRoLygobWF4LW1pbikvc3RlcCk7XHJcblx0XHRcdGlmICggIXRoaXMuZHJhZ2dpbmcgfHxcclxuXHRcdFx0XHRcdGRhdGEucGFnZVggPCBsZWZ0IC0gdG9sIHx8XHJcblx0XHRcdFx0XHRkYXRhLnBhZ2VYID4gbGVmdCArIHdpZHRoICsgdG9sICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIHB4U3RlcCA+IDEgKSB7XHJcblx0XHRcdFx0cGVyY2VudCA9ICggKCBkYXRhLnBhZ2VYIC0gbGVmdCApIC8gd2lkdGggKSAqIDEwMDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRwZXJjZW50ID0gTWF0aC5yb3VuZCggKCAoIGRhdGEucGFnZVggLSBsZWZ0ICkgLyB3aWR0aCApICogMTAwICk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmICggdmFsID09IG51bGwgKSB7XHJcblx0XHRcdFx0dmFsID0gaXNJbnB1dCA/IHBhcnNlRmxvYXQoIGNvbnRyb2wudmFsKCkgfHwgMCApIDogY29udHJvbFswXS5zZWxlY3RlZEluZGV4O1xyXG5cdFx0XHR9XHJcblx0XHRcdHBlcmNlbnQgPSAoIHBhcnNlRmxvYXQoIHZhbCApIC0gbWluICkgLyAoIG1heCAtIG1pbiApICogMTAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggaXNOYU4oIHBlcmNlbnQgKSApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdG5ld3ZhbCA9ICggcGVyY2VudCAvIDEwMCApICogKCBtYXggLSBtaW4gKSArIG1pbjtcclxuXHJcblx0XHQvL2Zyb20galF1ZXJ5IFVJIHNsaWRlciwgdGhlIGZvbGxvd2luZyBzb3VyY2Ugd2lsbCByb3VuZCB0byB0aGUgbmVhcmVzdCBzdGVwXHJcblx0XHR2YWxNb2RTdGVwID0gKCBuZXd2YWwgLSBtaW4gKSAlIHN0ZXA7XHJcblx0XHRhbGlnblZhbHVlID0gbmV3dmFsIC0gdmFsTW9kU3RlcDtcclxuXHJcblx0XHRpZiAoIE1hdGguYWJzKCB2YWxNb2RTdGVwICkgKiAyID49IHN0ZXAgKSB7XHJcblx0XHRcdGFsaWduVmFsdWUgKz0gKCB2YWxNb2RTdGVwID4gMCApID8gc3RlcCA6ICggLXN0ZXAgKTtcclxuXHRcdH1cclxuXHJcblx0XHRwZXJjZW50UGVyU3RlcCA9IDEwMC8oKG1heC1taW4pL3N0ZXApO1xyXG5cdFx0Ly8gU2luY2UgSmF2YVNjcmlwdCBoYXMgcHJvYmxlbXMgd2l0aCBsYXJnZSBmbG9hdHMsIHJvdW5kXHJcblx0XHQvLyB0aGUgZmluYWwgdmFsdWUgdG8gNSBkaWdpdHMgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQgKHNlZSBqUXVlcnlVSTogIzQxMjQpXHJcblx0XHRuZXd2YWwgPSBwYXJzZUZsb2F0KCBhbGlnblZhbHVlLnRvRml4ZWQoNSkgKTtcclxuXHJcblx0XHRpZiAoIHR5cGVvZiBweFN0ZXAgPT09IFwidW5kZWZpbmVkXCIgKSB7XHJcblx0XHRcdHB4U3RlcCA9IHdpZHRoIC8gKCAobWF4LW1pbikgLyBzdGVwICk7XHJcblx0XHR9XHJcblx0XHRpZiAoIHB4U3RlcCA+IDEgJiYgaXNJbnB1dCApIHtcclxuXHRcdFx0cGVyY2VudCA9ICggbmV3dmFsIC0gbWluICkgKiBwZXJjZW50UGVyU3RlcCAqICggMSAvIHN0ZXAgKTtcclxuXHRcdH1cclxuXHRcdGlmICggcGVyY2VudCA8IDAgKSB7XHJcblx0XHRcdHBlcmNlbnQgPSAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggcGVyY2VudCA+IDEwMCApIHtcclxuXHRcdFx0cGVyY2VudCA9IDEwMDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIG5ld3ZhbCA8IG1pbiApIHtcclxuXHRcdFx0bmV3dmFsID0gbWluO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggbmV3dmFsID4gbWF4ICkge1xyXG5cdFx0XHRuZXd2YWwgPSBtYXg7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5oYW5kbGUuY3NzKCBcImxlZnRcIiwgcGVyY2VudCArIFwiJVwiICk7XHJcblxyXG5cdFx0dGhpcy5oYW5kbGVbMF0uc2V0QXR0cmlidXRlKCBcImFyaWEtdmFsdWVub3dcIiwgaXNJbnB1dCA/IG5ld3ZhbCA6IG9wdGlvbkVsZW1lbnRzLmVxKCBuZXd2YWwgKS5hdHRyKCBcInZhbHVlXCIgKSApO1xyXG5cclxuXHRcdHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZSggXCJhcmlhLXZhbHVldGV4dFwiLCBpc0lucHV0ID8gbmV3dmFsIDogb3B0aW9uRWxlbWVudHMuZXEoIG5ld3ZhbCApLmdldEVuY29kZWRUZXh0KCkgKTtcclxuXHJcblx0XHR0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoIFwidGl0bGVcIiwgaXNJbnB1dCA/IG5ld3ZhbCA6IG9wdGlvbkVsZW1lbnRzLmVxKCBuZXd2YWwgKS5nZXRFbmNvZGVkVGV4dCgpICk7XHJcblxyXG5cdFx0aWYgKCB0aGlzLnZhbHVlYmcgKSB7XHJcblx0XHRcdHRoaXMudmFsdWViZy5jc3MoIFwid2lkdGhcIiwgcGVyY2VudCArIFwiJVwiICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZHJhZyB0aGUgbGFiZWwgd2lkdGhzXHJcblx0XHRpZiAoIHRoaXMuX2xhYmVscyApIHtcclxuXHRcdFx0aGFuZGxlUGVyY2VudCA9IHRoaXMuaGFuZGxlLndpZHRoKCkgLyB0aGlzLnNsaWRlci53aWR0aCgpICogMTAwO1xyXG5cdFx0XHRhUGVyY2VudCA9IHBlcmNlbnQgJiYgaGFuZGxlUGVyY2VudCArICggMTAwIC0gaGFuZGxlUGVyY2VudCApICogcGVyY2VudCAvIDEwMDtcclxuXHRcdFx0YlBlcmNlbnQgPSBwZXJjZW50ID09PSAxMDAgPyAwIDogTWF0aC5taW4oIGhhbmRsZVBlcmNlbnQgKyAxMDAgLSBhUGVyY2VudCwgMTAwICk7XHJcblxyXG5cdFx0XHR0aGlzLl9sYWJlbHMuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgYWIgPSAkKCB0aGlzICkuaGFzQ2xhc3MoIFwidWktc2xpZGVyLWxhYmVsLWFcIiApO1xyXG5cdFx0XHRcdCQoIHRoaXMgKS53aWR0aCggKCBhYiA/IGFQZXJjZW50IDogYlBlcmNlbnQgICkgKyBcIiVcIiApO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoICFwcmV2ZW50SW5wdXRVcGRhdGUgKSB7XHJcblx0XHRcdHZhbHVlQ2hhbmdlZCA9IGZhbHNlO1xyXG5cclxuXHRcdFx0Ly8gdXBkYXRlIGNvbnRyb2xcInMgdmFsdWVcclxuXHRcdFx0aWYgKCBpc0lucHV0ICkge1xyXG5cdFx0XHRcdHZhbHVlQ2hhbmdlZCA9IHBhcnNlRmxvYXQoIGNvbnRyb2wudmFsKCkgKSAhPT0gbmV3dmFsO1xyXG5cdFx0XHRcdGNvbnRyb2wudmFsKCBuZXd2YWwgKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR2YWx1ZUNoYW5nZWQgPSBjb250cm9sWyAwIF0uc2VsZWN0ZWRJbmRleCAhPT0gbmV3dmFsO1xyXG5cdFx0XHRcdGNvbnRyb2xbIDAgXS5zZWxlY3RlZEluZGV4ID0gbmV3dmFsO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggdGhpcy5fdHJpZ2dlciggXCJiZWZvcmVjaGFuZ2VcIiwgdmFsICkgPT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCAhaXNmcm9tQ29udHJvbCAmJiB2YWx1ZUNoYW5nZWQgKSB7XHJcblx0XHRcdFx0Y29udHJvbC50cmlnZ2VyKCBcImNoYW5nZVwiICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfc2V0SGlnaGxpZ2h0OiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcblx0XHR2YWx1ZSA9ICEhdmFsdWU7XHJcblx0XHRpZiAoIHZhbHVlICkge1xyXG5cdFx0XHR0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0ID0gISF2YWx1ZTtcclxuXHRcdFx0dGhpcy5yZWZyZXNoKCk7XHJcblx0XHR9IGVsc2UgaWYgKCB0aGlzLnZhbHVlYmcgKSB7XHJcblx0XHRcdHRoaXMudmFsdWViZy5yZW1vdmUoKTtcclxuXHRcdFx0dGhpcy52YWx1ZWJnID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X3NldFRoZW1lOiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcblx0XHR0aGlzLmhhbmRsZVxyXG5cdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktYnRuLVwiICsgdGhpcy5vcHRpb25zLnRoZW1lIClcclxuXHRcdFx0LmFkZENsYXNzKCBcInVpLWJ0bi1cIiArIHZhbHVlICk7XHJcblxyXG5cdFx0dmFyIGN1cnJlbnRUaGVtZSA9IHRoaXMub3B0aW9ucy50aGVtZSA/IHRoaXMub3B0aW9ucy50aGVtZSA6IFwiaW5oZXJpdFwiLFxyXG5cdFx0XHRuZXdUaGVtZSA9IHZhbHVlID8gdmFsdWUgOiBcImluaGVyaXRcIjtcclxuXHJcblx0XHR0aGlzLmNvbnRyb2xcclxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWJvZHktXCIgKyBjdXJyZW50VGhlbWUgKVxyXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktYm9keS1cIiArIG5ld1RoZW1lICk7XHJcblx0fSxcclxuXHJcblx0X3NldFRyYWNrVGhlbWU6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuXHRcdHZhciBjdXJyZW50VHJhY2tUaGVtZSA9IHRoaXMub3B0aW9ucy50cmFja1RoZW1lID8gdGhpcy5vcHRpb25zLnRyYWNrVGhlbWUgOiBcImluaGVyaXRcIixcclxuXHRcdFx0bmV3VHJhY2tUaGVtZSA9IHZhbHVlID8gdmFsdWUgOiBcImluaGVyaXRcIjtcclxuXHJcblx0XHR0aGlzLnNsaWRlclxyXG5cdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktYm9keS1cIiArIGN1cnJlbnRUcmFja1RoZW1lIClcclxuXHRcdFx0LmFkZENsYXNzKCBcInVpLWJvZHktXCIgKyBuZXdUcmFja1RoZW1lICk7XHJcblx0fSxcclxuXHJcblx0X3NldE1pbmk6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuXHRcdHZhbHVlID0gISF2YWx1ZTtcclxuXHRcdGlmICggIXRoaXMuaXNUb2dnbGVTd2l0Y2ggJiYgIXRoaXMuaXNSYW5nZXNsaWRlciApIHtcclxuXHRcdFx0dGhpcy5zbGlkZXIucGFyZW50KCkudG9nZ2xlQ2xhc3MoIFwidWktbWluaVwiLCB2YWx1ZSApO1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoIFwidWktbWluaVwiLCB2YWx1ZSApO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5zbGlkZXIudG9nZ2xlQ2xhc3MoIFwidWktbWluaVwiLCB2YWx1ZSApO1xyXG5cdH0sXHJcblxyXG5cdF9zZXRDb3JuZXJzOiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcblx0XHR0aGlzLnNsaWRlci50b2dnbGVDbGFzcyggXCJ1aS1jb3JuZXItYWxsXCIsIHZhbHVlICk7XHJcblxyXG5cdFx0aWYgKCAhdGhpcy5pc1RvZ2dsZVN3aXRjaCApIHtcclxuXHRcdFx0dGhpcy5jb250cm9sLnRvZ2dsZUNsYXNzKCBcInVpLWNvcm5lci1hbGxcIiwgdmFsdWUgKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfc2V0RGlzYWJsZWQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuXHRcdHZhbHVlID0gISF2YWx1ZTtcclxuXHRcdHRoaXMuZWxlbWVudC5wcm9wKCBcImRpc2FibGVkXCIsIHZhbHVlICk7XHJcblx0XHR0aGlzLnNsaWRlclxyXG5cdFx0XHQudG9nZ2xlQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgdmFsdWUgKVxyXG5cdFx0XHQuYXR0ciggXCJhcmlhLWRpc2FibGVkXCIsIHZhbHVlICk7XHJcblxyXG5cdFx0dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIsIHZhbHVlICk7XHJcblx0fVxyXG5cclxufSwgJC5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCApICk7XHJcblxyXG59KSggalF1ZXJ5ICk7XHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcbnZhciBwb3B1cDtcclxuXHJcbmZ1bmN0aW9uIGdldFBvcHVwKCkge1xyXG5cdGlmICggIXBvcHVwICkge1xyXG5cdFx0cG9wdXAgPSAkKCBcIjxkaXY+PC9kaXY+XCIsIHtcclxuXHRcdFx0XCJjbGFzc1wiOiBcInVpLXNsaWRlci1wb3B1cCB1aS1zaGFkb3cgdWktY29ybmVyLWFsbFwiXHJcblx0XHR9KTtcclxuXHR9XHJcblx0cmV0dXJuIHBvcHVwLmNsb25lKCk7XHJcbn1cclxuXHJcbiQud2lkZ2V0KCBcIm1vYmlsZS5zbGlkZXJcIiwgJC5tb2JpbGUuc2xpZGVyLCB7XHJcblx0b3B0aW9uczoge1xyXG5cdFx0cG9wdXBFbmFibGVkOiBmYWxzZSxcclxuXHRcdHNob3dWYWx1ZTogZmFsc2VcclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuX3N1cGVyKCk7XHJcblxyXG5cdFx0JC5leHRlbmQoIHRoaXMsIHtcclxuXHRcdFx0X2N1cnJlbnRWYWx1ZTogbnVsbCxcclxuXHRcdFx0X3BvcHVwOiBudWxsLFxyXG5cdFx0XHRfcG9wdXBWaXNpYmxlOiBmYWxzZVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5fc2V0T3B0aW9uKCBcInBvcHVwRW5hYmxlZFwiLCB0aGlzLm9wdGlvbnMucG9wdXBFbmFibGVkICk7XHJcblxyXG5cdFx0dGhpcy5fb24oIHRoaXMuaGFuZGxlLCB7IFwidm1vdXNlZG93blwiIDogXCJfc2hvd1BvcHVwXCIgfSApO1xyXG5cdFx0dGhpcy5fb24oIHRoaXMuc2xpZGVyLmFkZCggdGhpcy5kb2N1bWVudCApLCB7IFwidm1vdXNldXBcIiA6IFwiX2hpZGVQb3B1cFwiIH0gKTtcclxuXHRcdHRoaXMuX3JlZnJlc2goKTtcclxuXHR9LFxyXG5cclxuXHQvLyBwb3NpdGlvbiB0aGUgcG9wdXAgY2VudGVyZWQgNXB4IGFib3ZlIHRoZSBoYW5kbGVcclxuXHRfcG9zaXRpb25Qb3B1cDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgZHN0T2Zmc2V0ID0gdGhpcy5oYW5kbGUub2Zmc2V0KCk7XHJcblxyXG5cdFx0dGhpcy5fcG9wdXAub2Zmc2V0KCB7XHJcblx0XHRcdGxlZnQ6IGRzdE9mZnNldC5sZWZ0ICsgKCB0aGlzLmhhbmRsZS53aWR0aCgpIC0gdGhpcy5fcG9wdXAud2lkdGgoKSApIC8gMixcclxuXHRcdFx0dG9wOiBkc3RPZmZzZXQudG9wIC0gdGhpcy5fcG9wdXAub3V0ZXJIZWlnaHQoKSAtIDVcclxuXHRcdH0pO1xyXG5cdH0sXHJcblxyXG5cdF9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xyXG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUgKTtcclxuXHJcblx0XHRpZiAoIGtleSA9PT0gXCJzaG93VmFsdWVcIiApIHtcclxuXHRcdFx0dGhpcy5oYW5kbGUuaHRtbCggdmFsdWUgJiYgIXRoaXMub3B0aW9ucy5taW5pID8gdGhpcy5fdmFsdWUoKSA6IFwiXCIgKTtcclxuXHRcdH0gZWxzZSBpZiAoIGtleSA9PT0gXCJwb3B1cEVuYWJsZWRcIiApIHtcclxuXHRcdFx0aWYgKCB2YWx1ZSAmJiAhdGhpcy5fcG9wdXAgKSB7XHJcblx0XHRcdFx0dGhpcy5fcG9wdXAgPSBnZXRQb3B1cCgpXHJcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktYm9keS1cIiArICggdGhpcy5vcHRpb25zLnRoZW1lIHx8IFwiYVwiICkgKVxyXG5cdFx0XHRcdFx0LmhpZGUoKVxyXG5cdFx0XHRcdFx0Lmluc2VydEJlZm9yZSggdGhpcy5lbGVtZW50ICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBzaG93IHZhbHVlIG9uIHRoZSBoYW5kbGUgYW5kIGluIHBvcHVwXHJcblx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLl9zdXBlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XHJcblx0XHR0aGlzLl9yZWZyZXNoKCk7XHJcblx0fSxcclxuXHJcblx0X3JlZnJlc2g6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIG8gPSB0aGlzLm9wdGlvbnMsIG5ld1ZhbHVlO1xyXG5cclxuXHRcdGlmICggby5wb3B1cEVuYWJsZWQgKSB7XHJcblx0XHRcdC8vIHJlbW92ZSB0aGUgdGl0bGUgYXR0cmlidXRlIGZyb20gdGhlIGhhbmRsZSAod2hpY2ggaXNcclxuXHRcdFx0Ly8gcmVzcG9uc2libGUgZm9yIHRoZSBhbm5veWluZyB0b29sdGlwKTsgTkIgd2UgaGF2ZVxyXG5cdFx0XHQvLyB0byBkbyBpdCBoZXJlIGFzIHRoZSBqcW0gc2xpZGVyIHNldHMgaXQgZXZlcnkgdGltZVxyXG5cdFx0XHQvLyB0aGUgc2xpZGVyJ3MgdmFsdWUgY2hhbmdlcyA6KFxyXG5cdFx0XHR0aGlzLmhhbmRsZS5yZW1vdmVBdHRyKCBcInRpdGxlXCIgKTtcclxuXHRcdH1cclxuXHJcblx0XHRuZXdWYWx1ZSA9IHRoaXMuX3ZhbHVlKCk7XHJcblx0XHRpZiAoIG5ld1ZhbHVlID09PSB0aGlzLl9jdXJyZW50VmFsdWUgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdHRoaXMuX2N1cnJlbnRWYWx1ZSA9IG5ld1ZhbHVlO1xyXG5cclxuXHRcdGlmICggby5wb3B1cEVuYWJsZWQgJiYgdGhpcy5fcG9wdXAgKSB7XHJcblx0XHRcdHRoaXMuX3Bvc2l0aW9uUG9wdXAoKTtcclxuXHRcdFx0dGhpcy5fcG9wdXAuaHRtbCggbmV3VmFsdWUgKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIG8uc2hvd1ZhbHVlICYmICF0aGlzLm9wdGlvbnMubWluaSApIHtcclxuXHRcdFx0dGhpcy5oYW5kbGUuaHRtbCggbmV3VmFsdWUgKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfc2hvd1BvcHVwOiBmdW5jdGlvbigpIHtcclxuXHRcdGlmICggdGhpcy5vcHRpb25zLnBvcHVwRW5hYmxlZCAmJiAhdGhpcy5fcG9wdXBWaXNpYmxlICkge1xyXG5cdFx0XHR0aGlzLmhhbmRsZS5odG1sKCBcIlwiICk7XHJcblx0XHRcdHRoaXMuX3BvcHVwLnNob3coKTtcclxuXHRcdFx0dGhpcy5fcG9zaXRpb25Qb3B1cCgpO1xyXG5cdFx0XHR0aGlzLl9wb3B1cFZpc2libGUgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9oaWRlUG9wdXA6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIG8gPSB0aGlzLm9wdGlvbnM7XHJcblxyXG5cdFx0aWYgKCBvLnBvcHVwRW5hYmxlZCAmJiB0aGlzLl9wb3B1cFZpc2libGUgKSB7XHJcblx0XHRcdGlmICggby5zaG93VmFsdWUgJiYgIW8ubWluaSApIHtcclxuXHRcdFx0XHR0aGlzLmhhbmRsZS5odG1sKCB0aGlzLl92YWx1ZSgpICk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5fcG9wdXAuaGlkZSgpO1xyXG5cdFx0XHR0aGlzLl9wb3B1cFZpc2libGUgPSBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblxyXG4kLndpZGdldCggXCJtb2JpbGUuZmxpcHN3aXRjaFwiLCAkLmV4dGVuZCh7XHJcblxyXG5cdG9wdGlvbnM6IHtcclxuXHRcdG9uVGV4dDogXCJPblwiLFxyXG5cdFx0b2ZmVGV4dDogXCJPZmZcIixcclxuXHRcdHRoZW1lOiBudWxsLFxyXG5cdFx0ZW5oYW5jZWQ6IGZhbHNlLFxyXG5cdFx0d3JhcHBlckNsYXNzOiBudWxsLFxyXG5cdFx0Y29ybmVyczogdHJ1ZSxcclxuXHRcdG1pbmk6IGZhbHNlXHJcblx0fSxcclxuXHJcblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICggIXRoaXMub3B0aW9ucy5lbmhhbmNlZCApIHtcclxuXHRcdFx0XHR0aGlzLl9lbmhhbmNlKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JC5leHRlbmQoIHRoaXMsIHtcclxuXHRcdFx0XHRcdGZsaXBzd2l0Y2g6IHRoaXMuZWxlbWVudC5wYXJlbnQoKSxcclxuXHRcdFx0XHRcdG9uOiB0aGlzLmVsZW1lbnQuZmluZCggXCIudWktZmxpcHN3aXRjaC1vblwiICkuZXEoIDAgKSxcclxuXHRcdFx0XHRcdG9mZjogdGhpcy5lbGVtZW50LmZpbmQoIFwiLnVpLWZsaXBzd2l0Y2gtb2ZmXCIgKS5lcSgwKSxcclxuXHRcdFx0XHRcdHR5cGU6IHRoaXMuZWxlbWVudC5nZXQoIDAgKS50YWdOYW1lXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpO1xyXG5cclxuXHRcdFx0Ly8gVHJhbnNmZXIgdGFiaW5kZXggdG8gXCJvblwiIGVsZW1lbnQgYW5kIG1ha2UgaW5wdXQgdW5mb2N1c2FibGVcclxuXHRcdFx0dGhpcy5fb3JpZ2luYWxUYWJJbmRleCA9IHRoaXMuZWxlbWVudC5hdHRyKCBcInRhYmluZGV4XCIgKTtcclxuXHRcdFx0aWYgKCB0aGlzLl9vcmlnaW5hbFRhYkluZGV4ICE9IG51bGwgKSB7XHJcblx0XHRcdFx0dGhpcy5vbi5hdHRyKCBcInRhYmluZGV4XCIsIHRoaXMuX29yaWdpbmFsVGFiSW5kZXggKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLmVsZW1lbnQuYXR0ciggXCJ0YWJpbmRleFwiLCBcIi0xXCIgKTtcclxuXHRcdFx0dGhpcy5fb24oe1xyXG5cdFx0XHRcdFwiZm9jdXNcIiA6IFwiX2hhbmRsZUlucHV0Rm9jdXNcIlxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmICggdGhpcy5lbGVtZW50LmlzKCBcIjpkaXNhYmxlZFwiICkgKSB7XHJcblx0XHRcdFx0dGhpcy5fc2V0T3B0aW9ucyh7XHJcblx0XHRcdFx0XHRcImRpc2FibGVkXCI6IHRydWVcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5fb24oIHRoaXMuZmxpcHN3aXRjaCwge1xyXG5cdFx0XHRcdFwiY2xpY2tcIjogXCJfdG9nZ2xlXCIsXHJcblx0XHRcdFx0XCJzd2lwZWxlZnRcIjogXCJfbGVmdFwiLFxyXG5cdFx0XHRcdFwic3dpcGVyaWdodFwiOiBcIl9yaWdodFwiXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dGhpcy5fb24oIHRoaXMub24sIHtcclxuXHRcdFx0XHRcImtleWRvd25cIjogXCJfa2V5ZG93blwiXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dGhpcy5fb24oIHtcclxuXHRcdFx0XHRcImNoYW5nZVwiOiBcInJlZnJlc2hcIlxyXG5cdFx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlSW5wdXRGb2N1czogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLm9uLmZvY3VzKCk7XHJcblx0fSxcclxuXHJcblx0d2lkZ2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB0aGlzLmZsaXBzd2l0Y2g7XHJcblx0fSxcclxuXHJcblx0X2xlZnQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5mbGlwc3dpdGNoLnJlbW92ZUNsYXNzKCBcInVpLWZsaXBzd2l0Y2gtYWN0aXZlXCIgKTtcclxuXHRcdGlmICggdGhpcy50eXBlID09PSBcIlNFTEVDVFwiICkge1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQuZ2V0KCAwICkuc2VsZWN0ZWRJbmRleCA9IDA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQucHJvcCggXCJjaGVja2VkXCIsIGZhbHNlICk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmVsZW1lbnQudHJpZ2dlciggXCJjaGFuZ2VcIiApO1xyXG5cdH0sXHJcblxyXG5cdF9yaWdodDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLmZsaXBzd2l0Y2guYWRkQ2xhc3MoIFwidWktZmxpcHN3aXRjaC1hY3RpdmVcIiApO1xyXG5cdFx0aWYgKCB0aGlzLnR5cGUgPT09IFwiU0VMRUNUXCIgKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5nZXQoIDAgKS5zZWxlY3RlZEluZGV4ID0gMTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5wcm9wKCBcImNoZWNrZWRcIiwgdHJ1ZSApO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5lbGVtZW50LnRyaWdnZXIoIFwiY2hhbmdlXCIgKTtcclxuXHR9LFxyXG5cclxuXHRfZW5oYW5jZTogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgZmxpcHN3aXRjaCA9ICQoIFwiPGRpdj5cIiApLFxyXG5cdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxyXG5cdFx0XHRlbGVtZW50ID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHR0aGVtZSA9IG9wdGlvbnMudGhlbWUgPyBvcHRpb25zLnRoZW1lIDogXCJpbmhlcml0XCIsXHJcblxyXG5cdFx0XHQvLyBUaGUgXCJvblwiIGJ1dHRvbiBpcyBhbiBhbmNob3Igc28gaXQncyBmb2N1c2FibGVcclxuXHRcdFx0b24gPSAkKCBcIjxhPjwvYT5cIiwge1xyXG5cdFx0XHRcdFwiaHJlZlwiOiBcIiNcIlxyXG5cdFx0XHR9KSxcclxuXHRcdFx0b2ZmID0gJCggXCI8c3Bhbj48L3NwYW4+XCIgKSxcclxuXHRcdFx0dHlwZSA9IGVsZW1lbnQuZ2V0KCAwICkudGFnTmFtZSxcclxuXHRcdFx0b25UZXh0ID0gKCB0eXBlID09PSBcIklOUFVUXCIgKSA/XHJcblx0XHRcdFx0b3B0aW9ucy5vblRleHQgOiBlbGVtZW50LmZpbmQoIFwib3B0aW9uXCIgKS5lcSggMSApLnRleHQoKSxcclxuXHRcdFx0b2ZmVGV4dCA9ICggdHlwZSA9PT0gXCJJTlBVVFwiICkgP1xyXG5cdFx0XHRcdG9wdGlvbnMub2ZmVGV4dCA6IGVsZW1lbnQuZmluZCggXCJvcHRpb25cIiApLmVxKCAwICkudGV4dCgpO1xyXG5cclxuXHRcdFx0b25cclxuXHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktZmxpcHN3aXRjaC1vbiB1aS1idG4gdWktc2hhZG93IHVpLWJ0bi1pbmhlcml0XCIgKVxyXG5cdFx0XHRcdC50ZXh0KCBvblRleHQgKTtcclxuXHRcdFx0b2ZmXHJcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLWZsaXBzd2l0Y2gtb2ZmXCIgKVxyXG5cdFx0XHRcdC50ZXh0KCBvZmZUZXh0ICk7XHJcblxyXG5cdFx0XHRmbGlwc3dpdGNoXHJcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLWZsaXBzd2l0Y2ggdWktc2hhZG93LWluc2V0IFwiICtcclxuXHRcdFx0XHRcdFwidWktYmFyLVwiICsgdGhlbWUgKyBcIiBcIiArXHJcblx0XHRcdFx0XHQoIG9wdGlvbnMud3JhcHBlckNsYXNzID8gb3B0aW9ucy53cmFwcGVyQ2xhc3MgOiBcIlwiICkgKyBcIiBcIiArXHJcblx0XHRcdFx0XHQoICggZWxlbWVudC5pcyggXCI6Y2hlY2tlZFwiICkgfHxcclxuXHRcdFx0XHRcdFx0ZWxlbWVudFxyXG5cdFx0XHRcdFx0XHRcdC5maW5kKCBcIm9wdGlvblwiIClcclxuXHRcdFx0XHRcdFx0XHQuZXEoIDEgKVxyXG5cdFx0XHRcdFx0XHRcdC5pcyggXCI6c2VsZWN0ZWRcIiApICkgPyBcInVpLWZsaXBzd2l0Y2gtYWN0aXZlXCIgOiBcIlwiICkgK1xyXG5cdFx0XHRcdFx0KCBlbGVtZW50LmlzKFwiOmRpc2FibGVkXCIpID8gXCIgdWktc3RhdGUtZGlzYWJsZWRcIjogXCJcIikgK1xyXG5cdFx0XHRcdFx0KCBvcHRpb25zLmNvcm5lcnMgPyBcIiB1aS1jb3JuZXItYWxsXCI6IFwiXCIgKSArXHJcblx0XHRcdFx0XHQoIG9wdGlvbnMubWluaSA/IFwiIHVpLW1pbmlcIjogXCJcIiApIClcclxuXHRcdFx0XHQuYXBwZW5kKCBvbiwgb2ZmICk7XHJcblxyXG5cdFx0XHRlbGVtZW50XHJcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLWZsaXBzd2l0Y2gtaW5wdXRcIiApXHJcblx0XHRcdFx0LmFmdGVyKCBmbGlwc3dpdGNoIClcclxuXHRcdFx0XHQuYXBwZW5kVG8oIGZsaXBzd2l0Y2ggKTtcclxuXHJcblx0XHQkLmV4dGVuZCggdGhpcywge1xyXG5cdFx0XHRmbGlwc3dpdGNoOiBmbGlwc3dpdGNoLFxyXG5cdFx0XHRvbjogb24sXHJcblx0XHRcdG9mZjogb2ZmLFxyXG5cdFx0XHR0eXBlOiB0eXBlXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRfcmVzZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5yZWZyZXNoKCk7XHJcblx0fSxcclxuXHJcblx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgZGlyZWN0aW9uLFxyXG5cdFx0XHRleGlzdGluZ0RpcmVjdGlvbiA9IHRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcyggXCJ1aS1mbGlwc3dpdGNoLWFjdGl2ZVwiICkgPyBcIl9yaWdodFwiIDogXCJfbGVmdFwiO1xyXG5cclxuXHRcdGlmICggdGhpcy50eXBlID09PSBcIlNFTEVDVFwiICkge1xyXG5cdFx0XHRkaXJlY3Rpb24gPSAoIHRoaXMuZWxlbWVudC5nZXQoIDAgKS5zZWxlY3RlZEluZGV4ID4gMCApID8gXCJfcmlnaHRcIjogXCJfbGVmdFwiO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZGlyZWN0aW9uID0gdGhpcy5lbGVtZW50LnByb3AoIFwiY2hlY2tlZFwiICkgPyBcIl9yaWdodFwiOiBcIl9sZWZ0XCI7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBkaXJlY3Rpb24gIT09IGV4aXN0aW5nRGlyZWN0aW9uICkge1xyXG5cdFx0XHR0aGlzWyBkaXJlY3Rpb24gXSgpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF90b2dnbGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGRpcmVjdGlvbiA9IHRoaXMuZmxpcHN3aXRjaC5oYXNDbGFzcyggXCJ1aS1mbGlwc3dpdGNoLWFjdGl2ZVwiICkgPyBcIl9sZWZ0XCIgOiBcIl9yaWdodFwiO1xyXG5cclxuXHRcdHRoaXNbIGRpcmVjdGlvbiBdKCk7XHJcblx0fSxcclxuXHJcblx0X2tleWRvd246IGZ1bmN0aW9uKCBlICkge1xyXG5cdFx0aWYgKCBlLndoaWNoID09PSAkLm1vYmlsZS5rZXlDb2RlLkxFRlQgKSB7XHJcblx0XHRcdHRoaXMuX2xlZnQoKTtcclxuXHRcdH0gZWxzZSBpZiAoIGUud2hpY2ggPT09ICQubW9iaWxlLmtleUNvZGUuUklHSFQgKSB7XHJcblx0XHRcdHRoaXMuX3JpZ2h0KCk7XHJcblx0XHR9IGVsc2UgaWYgKCBlLndoaWNoID09PSAkLm1vYmlsZS5rZXlDb2RlLlNQQUNFICkge1xyXG5cdFx0XHR0aGlzLl90b2dnbGUoKTtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcclxuXHRcdGlmICggb3B0aW9ucy50aGVtZSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHR2YXIgY3VycmVudFRoZW1lID0gb3B0aW9ucy50aGVtZSA/IG9wdGlvbnMudGhlbWUgOiBcImluaGVyaXRcIixcclxuXHRcdFx0XHRuZXdUaGVtZSA9IG9wdGlvbnMudGhlbWUgPyBvcHRpb25zLnRoZW1lIDogXCJpbmhlcml0XCI7XHJcblxyXG5cdFx0XHR0aGlzLndpZGdldCgpXHJcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWJhci1cIiArIGN1cnJlbnRUaGVtZSApXHJcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLWJhci1cIiArIG5ld1RoZW1lICk7XHJcblx0XHR9XHJcblx0XHRpZiAoIG9wdGlvbnMub25UZXh0ICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHRoaXMub24udGV4dCggb3B0aW9ucy5vblRleHQgKTtcclxuXHRcdH1cclxuXHRcdGlmICggb3B0aW9ucy5vZmZUZXh0ICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHRoaXMub2ZmLnRleHQoIG9wdGlvbnMub2ZmVGV4dCApO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCBvcHRpb25zLmRpc2FibGVkICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiwgb3B0aW9ucy5kaXNhYmxlZCApO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCBvcHRpb25zLm1pbmkgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0dGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyggXCJ1aS1taW5pXCIsIG9wdGlvbnMubWluaSApO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCBvcHRpb25zLmNvcm5lcnMgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0dGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyggXCJ1aS1jb3JuZXItYWxsXCIsIG9wdGlvbnMuY29ybmVycyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX3N1cGVyKCBvcHRpb25zICk7XHJcblx0fSxcclxuXHJcblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZW5oYW5jZWQgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGlmICggdGhpcy5fb3JpZ2luYWxUYWJJbmRleCAhPSBudWxsICkge1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQuYXR0ciggXCJ0YWJpbmRleFwiLCB0aGlzLl9vcmlnaW5hbFRhYkluZGV4ICk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQXR0ciggXCJ0YWJpbmRleFwiICk7XHJcblx0XHR9XHJcblx0XHR0aGlzLm9uLnJlbW92ZSgpO1xyXG5cdFx0dGhpcy5vZmYucmVtb3ZlKCk7XHJcblx0XHR0aGlzLmVsZW1lbnQudW53cmFwKCk7XHJcblx0XHR0aGlzLmZsaXBzd2l0Y2gucmVtb3ZlKCk7XHJcblx0XHR0aGlzLnJlbW92ZUNsYXNzKCBcInVpLWZsaXBzd2l0Y2gtaW5wdXRcIiApO1xyXG5cdH1cclxuXHJcbn0sICQubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQgKSApO1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblx0JC53aWRnZXQoIFwibW9iaWxlLnJhbmdlc2xpZGVyXCIsICQuZXh0ZW5kKCB7XHJcblxyXG5cdFx0b3B0aW9uczoge1xyXG5cdFx0XHR0aGVtZTogbnVsbCxcclxuXHRcdFx0dHJhY2tUaGVtZTogbnVsbCxcclxuXHRcdFx0Y29ybmVyczogdHJ1ZSxcclxuXHRcdFx0bWluaTogZmFsc2UsXHJcblx0XHRcdGhpZ2hsaWdodDogdHJ1ZVxyXG5cdFx0fSxcclxuXHJcblx0XHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyICRlbCA9IHRoaXMuZWxlbWVudCxcclxuXHRcdFx0ZWxDbGFzcyA9IHRoaXMub3B0aW9ucy5taW5pID8gXCJ1aS1yYW5nZXNsaWRlciB1aS1taW5pXCIgOiBcInVpLXJhbmdlc2xpZGVyXCIsXHJcblx0XHRcdF9pbnB1dEZpcnN0ID0gJGVsLmZpbmQoIFwiaW5wdXRcIiApLmZpcnN0KCksXHJcblx0XHRcdF9pbnB1dExhc3QgPSAkZWwuZmluZCggXCJpbnB1dFwiICkubGFzdCgpLFxyXG5cdFx0XHRfbGFiZWwgPSAkZWwuZmluZCggXCJsYWJlbFwiICkuZmlyc3QoKSxcclxuXHRcdFx0X3NsaWRlcldpZGdldEZpcnN0ID0gJC5kYXRhKCBfaW5wdXRGaXJzdC5nZXQoIDAgKSwgXCJtb2JpbGUtc2xpZGVyXCIgKSB8fFxyXG5cdFx0XHRcdCQuZGF0YSggX2lucHV0Rmlyc3Quc2xpZGVyKCkuZ2V0KCAwICksIFwibW9iaWxlLXNsaWRlclwiICksXHJcblx0XHRcdF9zbGlkZXJXaWRnZXRMYXN0ID0gJC5kYXRhKCBfaW5wdXRMYXN0LmdldCgwKSwgXCJtb2JpbGUtc2xpZGVyXCIgKSB8fFxyXG5cdFx0XHRcdCQuZGF0YSggX2lucHV0TGFzdC5zbGlkZXIoKS5nZXQoIDAgKSwgXCJtb2JpbGUtc2xpZGVyXCIgKSxcclxuXHRcdFx0X3NsaWRlckZpcnN0ID0gX3NsaWRlcldpZGdldEZpcnN0LnNsaWRlcixcclxuXHRcdFx0X3NsaWRlckxhc3QgPSBfc2xpZGVyV2lkZ2V0TGFzdC5zbGlkZXIsXHJcblx0XHRcdGZpcnN0SGFuZGxlID0gX3NsaWRlcldpZGdldEZpcnN0LmhhbmRsZSxcclxuXHRcdFx0X3NsaWRlcnMgPSAkKCBcIjxkaXYgY2xhc3M9J3VpLXJhbmdlc2xpZGVyLXNsaWRlcnMnIC8+XCIgKS5hcHBlbmRUbyggJGVsICk7XHJcblxyXG5cdFx0XHRfaW5wdXRGaXJzdC5hZGRDbGFzcyggXCJ1aS1yYW5nZXNsaWRlci1maXJzdFwiICk7XHJcblx0XHRcdF9pbnB1dExhc3QuYWRkQ2xhc3MoIFwidWktcmFuZ2VzbGlkZXItbGFzdFwiICk7XHJcblx0XHRcdCRlbC5hZGRDbGFzcyggZWxDbGFzcyApO1xyXG5cclxuXHRcdFx0X3NsaWRlckZpcnN0LmFwcGVuZFRvKCBfc2xpZGVycyApO1xyXG5cdFx0XHRfc2xpZGVyTGFzdC5hcHBlbmRUbyggX3NsaWRlcnMgKTtcclxuXHRcdFx0X2xhYmVsLmluc2VydEJlZm9yZSggJGVsICk7XHJcblx0XHRcdGZpcnN0SGFuZGxlLnByZXBlbmRUbyggX3NsaWRlckxhc3QgKTtcclxuXHJcblx0XHRcdCQuZXh0ZW5kKCB0aGlzLCB7XHJcblx0XHRcdFx0X2lucHV0Rmlyc3Q6IF9pbnB1dEZpcnN0LFxyXG5cdFx0XHRcdF9pbnB1dExhc3Q6IF9pbnB1dExhc3QsXHJcblx0XHRcdFx0X3NsaWRlckZpcnN0OiBfc2xpZGVyRmlyc3QsXHJcblx0XHRcdFx0X3NsaWRlckxhc3Q6IF9zbGlkZXJMYXN0LFxyXG5cdFx0XHRcdF9sYWJlbDogX2xhYmVsLFxyXG5cdFx0XHRcdF90YXJnZXRWYWw6IG51bGwsXHJcblx0XHRcdFx0X3NsaWRlclRhcmdldDogZmFsc2UsXHJcblx0XHRcdFx0X3NsaWRlcnM6IF9zbGlkZXJzLFxyXG5cdFx0XHRcdF9wcm94eTogZmFsc2VcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR0aGlzLnJlZnJlc2goKTtcclxuXHRcdFx0dGhpcy5fb24oIHRoaXMuZWxlbWVudC5maW5kKCBcImlucHV0LnVpLXNsaWRlci1pbnB1dFwiICksIHtcclxuXHRcdFx0XHRcInNsaWRlYmVmb3Jlc3RhcnRcIjogXCJfc2xpZGViZWZvcmVzdGFydFwiLFxyXG5cdFx0XHRcdFwic2xpZGVzdG9wXCI6IFwiX3NsaWRlc3RvcFwiLFxyXG5cdFx0XHRcdFwic2xpZGVkcmFnXCI6IFwiX3NsaWRlZHJhZ1wiLFxyXG5cdFx0XHRcdFwic2xpZGViZWZvcmVjaGFuZ2VcIjogXCJfY2hhbmdlXCIsXHJcblx0XHRcdFx0XCJibHVyXCI6IFwiX2NoYW5nZVwiLFxyXG5cdFx0XHRcdFwia2V5dXBcIjogXCJfY2hhbmdlXCJcclxuXHRcdFx0fSk7XHJcblx0XHRcdHRoaXMuX29uKHtcclxuXHRcdFx0XHRcIm1vdXNlZG93blwiOlwiX2NoYW5nZVwiXHJcblx0XHRcdH0pO1xyXG5cdFx0XHR0aGlzLl9vbiggdGhpcy5lbGVtZW50LmNsb3Nlc3QoIFwiZm9ybVwiICksIHtcclxuXHRcdFx0XHRcInJlc2V0XCI6XCJfaGFuZGxlUmVzZXRcIlxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dGhpcy5fb24oIGZpcnN0SGFuZGxlLCB7XHJcblx0XHRcdFx0XCJ2bW91c2Vkb3duXCI6IFwiX2RyYWdGaXJzdEhhbmRsZVwiXHJcblx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHRcdF9oYW5kbGVSZXNldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcztcclxuXHRcdFx0Ly93ZSBtdXN0IHdhaXQgZm9yIHRoZSBzdGFjayB0byB1bndpbmQgYmVmb3JlIHVwZGF0ZWluZyBvdGhlciB3aXNlIHNsaWRlcnMgd2lsbCBub3QgaGF2ZSB1cGRhdGVkIHlldFxyXG5cdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRzZWxmLl91cGRhdGVIaWdobGlnaHQoKTtcclxuXHRcdFx0fSwwKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X2RyYWdGaXJzdEhhbmRsZTogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0XHQvL2lmIHRoZSBmaXJzdCBoYW5kbGUgaXMgZHJhZ2dlZCBzZW5kIHRoZSBldmVudCB0byB0aGUgZmlyc3Qgc2xpZGVyXHJcblx0XHRcdCQuZGF0YSggdGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIFwibW9iaWxlLXNsaWRlclwiICkuZHJhZ2dpbmcgPSB0cnVlO1xyXG5cdFx0XHQkLmRhdGEoIHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCBcIm1vYmlsZS1zbGlkZXJcIiApLnJlZnJlc2goIGV2ZW50ICk7XHJcblx0XHRcdCQuZGF0YSggdGhpcy5faW5wdXRGaXJzdC5nZXQoMCksIFwibW9iaWxlLXNsaWRlclwiICkuX3RyaWdnZXIoIFwic3RhcnRcIiApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9zbGlkZWRyYWc6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdFx0dmFyIGZpcnN0ID0gJCggZXZlbnQudGFyZ2V0ICkuaXMoIHRoaXMuX2lucHV0Rmlyc3QgKSxcclxuXHRcdFx0XHRvdGhlclNsaWRlciA9ICggZmlyc3QgKSA/IHRoaXMuX2lucHV0TGFzdCA6IHRoaXMuX2lucHV0Rmlyc3Q7XHJcblxyXG5cdFx0XHR0aGlzLl9zbGlkZXJUYXJnZXQgPSBmYWxzZTtcclxuXHRcdFx0Ly9pZiB0aGUgZHJhZyB3YXMgaW5pdGlhdGVkIG9uIGFuIGV4dHJlbWUgYW5kIHRoZSBvdGhlciBoYW5kbGUgaXMgZm9jdXNlZCBzZW5kIHRoZSBldmVudHMgdG9cclxuXHRcdFx0Ly90aGUgY2xvc2VzdCBoYW5kbGVcclxuXHRcdFx0aWYgKCAoIHRoaXMuX3Byb3h5ID09PSBcImZpcnN0XCIgJiYgZmlyc3QgKSB8fCAoIHRoaXMuX3Byb3h5ID09PSBcImxhc3RcIiAmJiAhZmlyc3QgKSApIHtcclxuXHRcdFx0XHQkLmRhdGEoIG90aGVyU2xpZGVyLmdldCgwKSwgXCJtb2JpbGUtc2xpZGVyXCIgKS5kcmFnZ2luZyA9IHRydWU7XHJcblx0XHRcdFx0JC5kYXRhKCBvdGhlclNsaWRlci5nZXQoMCksIFwibW9iaWxlLXNsaWRlclwiICkucmVmcmVzaCggZXZlbnQgKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0X3NsaWRlc3RvcDogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0XHR2YXIgZmlyc3QgPSAkKCBldmVudC50YXJnZXQgKS5pcyggdGhpcy5faW5wdXRGaXJzdCApO1xyXG5cclxuXHRcdFx0dGhpcy5fcHJveHkgPSBmYWxzZTtcclxuXHRcdFx0Ly90aGlzIHN0b3BzIGRyYWdnaW5nIG9mIHRoZSBoYW5kbGUgYW5kIGJyaW5ncyB0aGUgYWN0aXZlIHRyYWNrIHRvIHRoZSBmcm9udFxyXG5cdFx0XHQvL3RoaXMgbWFrZXMgY2xpY2tzIG9uIHRoZSB0cmFjayBnbyB0aGUgdGhlIGxhc3QgaGFuZGxlIHVzZWRcclxuXHRcdFx0dGhpcy5lbGVtZW50LmZpbmQoIFwiaW5wdXRcIiApLnRyaWdnZXIoIFwidm1vdXNldXBcIiApO1xyXG5cdFx0XHR0aGlzLl9zbGlkZXJGaXJzdC5jc3MoIFwiei1pbmRleFwiLCBmaXJzdCA/IDEgOiBcIlwiICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9zbGlkZWJlZm9yZXN0YXJ0OiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHRcdHRoaXMuX3NsaWRlclRhcmdldCA9IGZhbHNlO1xyXG5cdFx0XHQvL2lmIHRoZSB0cmFjayBpcyB0aGUgdGFyZ2V0IHJlbWVtYmVyIHRoaXMgYW5kIHRoZSBvcmlnaW5hbCB2YWx1ZVxyXG5cdFx0XHRpZiAoICQoIGV2ZW50Lm9yaWdpbmFsRXZlbnQudGFyZ2V0ICkuaGFzQ2xhc3MoIFwidWktc2xpZGVyLXRyYWNrXCIgKSApIHtcclxuXHRcdFx0XHR0aGlzLl9zbGlkZXJUYXJnZXQgPSB0cnVlO1xyXG5cdFx0XHRcdHRoaXMuX3RhcmdldFZhbCA9ICQoIGV2ZW50LnRhcmdldCApLnZhbCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdF9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcclxuXHRcdFx0aWYgKCBvcHRpb25zLnRoZW1lICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0dGhpcy5fc2V0VGhlbWUoIG9wdGlvbnMudGhlbWUgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBvcHRpb25zLnRyYWNrVGhlbWUgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHR0aGlzLl9zZXRUcmFja1RoZW1lKCBvcHRpb25zLnRyYWNrVGhlbWUgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBvcHRpb25zLm1pbmkgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHR0aGlzLl9zZXRNaW5pKCBvcHRpb25zLm1pbmkgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBvcHRpb25zLmhpZ2hsaWdodCAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdHRoaXMuX3NldEhpZ2hsaWdodCggb3B0aW9ucy5oaWdobGlnaHQgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBvcHRpb25zLmRpc2FibGVkICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0dGhpcy5fc2V0RGlzYWJsZWQoIG9wdGlvbnMuZGlzYWJsZWQgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5fc3VwZXIoIG9wdGlvbnMgKTtcclxuXHRcdFx0dGhpcy5yZWZyZXNoKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgJGVsID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHRcdG8gPSB0aGlzLm9wdGlvbnM7XHJcblxyXG5cdFx0XHRpZiAoIHRoaXMuX2lucHV0Rmlyc3QuaXMoIFwiOmRpc2FibGVkXCIgKSB8fCB0aGlzLl9pbnB1dExhc3QuaXMoIFwiOmRpc2FibGVkXCIgKSApIHtcclxuXHRcdFx0XHR0aGlzLm9wdGlvbnMuZGlzYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkZWwuZmluZCggXCJpbnB1dFwiICkuc2xpZGVyKHtcclxuXHRcdFx0XHR0aGVtZTogby50aGVtZSxcclxuXHRcdFx0XHR0cmFja1RoZW1lOiBvLnRyYWNrVGhlbWUsXHJcblx0XHRcdFx0ZGlzYWJsZWQ6IG8uZGlzYWJsZWQsXHJcblx0XHRcdFx0Y29ybmVyczogby5jb3JuZXJzLFxyXG5cdFx0XHRcdG1pbmk6IG8ubWluaSxcclxuXHRcdFx0XHRoaWdobGlnaHQ6IG8uaGlnaGxpZ2h0XHJcblx0XHRcdH0pLnNsaWRlciggXCJyZWZyZXNoXCIgKTtcclxuXHRcdFx0dGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9jaGFuZ2U6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdFx0aWYgKCBldmVudC50eXBlID09PSBcImtleXVwXCIgKSB7XHJcblx0XHRcdFx0dGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXHJcblx0XHRcdFx0bWluID0gcGFyc2VGbG9hdCggdGhpcy5faW5wdXRGaXJzdC52YWwoKSwgMTAgKSxcclxuXHRcdFx0XHRtYXggPSBwYXJzZUZsb2F0KCB0aGlzLl9pbnB1dExhc3QudmFsKCksIDEwICksXHJcblx0XHRcdFx0Zmlyc3QgPSAkKCBldmVudC50YXJnZXQgKS5oYXNDbGFzcyggXCJ1aS1yYW5nZXNsaWRlci1maXJzdFwiICksXHJcblx0XHRcdFx0dGhpc1NsaWRlciA9IGZpcnN0ID8gdGhpcy5faW5wdXRGaXJzdCA6IHRoaXMuX2lucHV0TGFzdCxcclxuXHRcdFx0XHRvdGhlclNsaWRlciA9IGZpcnN0ID8gdGhpcy5faW5wdXRMYXN0IDogdGhpcy5faW5wdXRGaXJzdDtcclxuXHJcblx0XHRcdGlmICggKCB0aGlzLl9pbnB1dEZpcnN0LnZhbCgpID4gdGhpcy5faW5wdXRMYXN0LnZhbCgpICYmIGV2ZW50LnR5cGUgPT09IFwibW91c2Vkb3duXCIgJiYgISQoZXZlbnQudGFyZ2V0KS5oYXNDbGFzcyhcInVpLXNsaWRlci1oYW5kbGVcIikpICkge1xyXG5cdFx0XHRcdHRoaXNTbGlkZXIuYmx1cigpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCBldmVudC50eXBlID09PSBcIm1vdXNlZG93blwiICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIG1pbiA+IG1heCAmJiAhdGhpcy5fc2xpZGVyVGFyZ2V0ICkge1xyXG5cdFx0XHRcdC8vdGhpcyBwcmV2ZW50cyBtaW4gZnJvbSBiZWluZyBncmVhdGVyIHRoZW4gbWF4XHJcblx0XHRcdFx0dGhpc1NsaWRlci52YWwoIGZpcnN0ID8gbWF4OiBtaW4gKS5zbGlkZXIoIFwicmVmcmVzaFwiICk7XHJcblx0XHRcdFx0dGhpcy5fdHJpZ2dlciggXCJub3JtYWxpemVcIiApO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCBtaW4gPiBtYXggKSB7XHJcblx0XHRcdFx0Ly90aGlzIG1ha2VzIGl0IHNvIGNsaWNrcyBvbiB0aGUgdGFyZ2V0IG9uIGVpdGhlciBleHRyZW1lIGdvIHRvIHRoZSBjbG9zZXN0IGhhbmRsZVxyXG5cdFx0XHRcdHRoaXNTbGlkZXIudmFsKCB0aGlzLl90YXJnZXRWYWwgKS5zbGlkZXIoIFwicmVmcmVzaFwiICk7XHJcblxyXG5cdFx0XHRcdC8vWW91IG11c3Qgd2FpdCBmb3IgdGhlIHN0YWNrIHRvIHVud2luZCBzbyBmaXJzdCBzbGlkZXIgaXMgdXBkYXRlZCBiZWZvcmUgdXBkYXRpbmcgc2Vjb25kXHJcblx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRvdGhlclNsaWRlci52YWwoIGZpcnN0ID8gbWluOiBtYXggKS5zbGlkZXIoIFwicmVmcmVzaFwiICk7XHJcblx0XHRcdFx0XHQkLmRhdGEoIG90aGVyU2xpZGVyLmdldCgwKSwgXCJtb2JpbGUtc2xpZGVyXCIgKS5oYW5kbGUuZm9jdXMoKTtcclxuXHRcdFx0XHRcdHNlbGYuX3NsaWRlckZpcnN0LmNzcyggXCJ6LWluZGV4XCIsIGZpcnN0ID8gXCJcIiA6IDEgKTtcclxuXHRcdFx0XHRcdHNlbGYuX3RyaWdnZXIoIFwibm9ybWFsaXplXCIgKTtcclxuXHRcdFx0XHR9LCAwICk7XHJcblx0XHRcdFx0dGhpcy5fcHJveHkgPSAoIGZpcnN0ICkgPyBcImZpcnN0XCIgOiBcImxhc3RcIjtcclxuXHRcdFx0fVxyXG5cdFx0XHQvL2ZpeGVzIGlzc3VlIHdoZXJlIHdoZW4gYm90aCBfc2xpZGVycyBhcmUgYXQgbWluIHRoZXkgY2Fubm90IGJlIGFkanVzdGVkXHJcblx0XHRcdGlmICggbWluID09PSBtYXggKSB7XHJcblx0XHRcdFx0JC5kYXRhKCB0aGlzU2xpZGVyLmdldCgwKSwgXCJtb2JpbGUtc2xpZGVyXCIgKS5oYW5kbGUuY3NzKCBcInotaW5kZXhcIiwgMSApO1xyXG5cdFx0XHRcdCQuZGF0YSggb3RoZXJTbGlkZXIuZ2V0KDApLCBcIm1vYmlsZS1zbGlkZXJcIiApLmhhbmRsZS5jc3MoIFwiei1pbmRleFwiLCAwICk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JC5kYXRhKCBvdGhlclNsaWRlci5nZXQoMCksIFwibW9iaWxlLXNsaWRlclwiICkuaGFuZGxlLmNzcyggXCJ6LWluZGV4XCIsIFwiXCIgKTtcclxuXHRcdFx0XHQkLmRhdGEoIHRoaXNTbGlkZXIuZ2V0KDApLCBcIm1vYmlsZS1zbGlkZXJcIiApLmhhbmRsZS5jc3MoIFwiei1pbmRleFwiLCBcIlwiICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpO1xyXG5cclxuXHRcdFx0aWYgKCBtaW4gPj0gbWF4ICkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRfdXBkYXRlSGlnaGxpZ2h0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIG1pbiA9IHBhcnNlSW50KCAkLmRhdGEoIHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLCBcIm1vYmlsZS1zbGlkZXJcIiApLmhhbmRsZS5nZXQoMCkuc3R5bGUubGVmdCwgMTAgKSxcclxuXHRcdFx0XHRtYXggPSBwYXJzZUludCggJC5kYXRhKCB0aGlzLl9pbnB1dExhc3QuZ2V0KDApLCBcIm1vYmlsZS1zbGlkZXJcIiApLmhhbmRsZS5nZXQoMCkuc3R5bGUubGVmdCwgMTAgKSxcclxuXHRcdFx0XHR3aWR0aCA9IChtYXggLSBtaW4pO1xyXG5cclxuXHRcdFx0dGhpcy5lbGVtZW50LmZpbmQoIFwiLnVpLXNsaWRlci1iZ1wiICkuY3NzKHtcclxuXHRcdFx0XHRcIm1hcmdpbi1sZWZ0XCI6IG1pbiArIFwiJVwiLFxyXG5cdFx0XHRcdFwid2lkdGhcIjogd2lkdGggKyBcIiVcIlxyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X3NldFRoZW1lOiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcblx0XHRcdHRoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKCBcIm9wdGlvblwiLCBcInRoZW1lXCIsIHZhbHVlICk7XHJcblx0XHRcdHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoIFwib3B0aW9uXCIsIFwidGhlbWVcIiwgdmFsdWUgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X3NldFRyYWNrVGhlbWU6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuXHRcdFx0dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoIFwib3B0aW9uXCIsIFwidHJhY2tUaGVtZVwiLCB2YWx1ZSApO1xyXG5cdFx0XHR0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCBcIm9wdGlvblwiLCBcInRyYWNrVGhlbWVcIiwgdmFsdWUgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X3NldE1pbmk6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuXHRcdFx0dGhpcy5faW5wdXRGaXJzdC5zbGlkZXIoIFwib3B0aW9uXCIsIFwibWluaVwiLCB2YWx1ZSApO1xyXG5cdFx0XHR0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCBcIm9wdGlvblwiLCBcIm1pbmlcIiwgdmFsdWUgKTtcclxuXHRcdFx0dGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKCBcInVpLW1pbmlcIiwgISF2YWx1ZSApO1xyXG5cdFx0fSxcclxuXHJcblx0XHRfc2V0SGlnaGxpZ2h0OiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcblx0XHRcdHRoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKCBcIm9wdGlvblwiLCBcImhpZ2hsaWdodFwiLCB2YWx1ZSApO1xyXG5cdFx0XHR0aGlzLl9pbnB1dExhc3Quc2xpZGVyKCBcIm9wdGlvblwiLCBcImhpZ2hsaWdodFwiLCB2YWx1ZSApO1xyXG5cdFx0fSxcclxuXHJcblx0XHRfc2V0RGlzYWJsZWQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuXHRcdFx0dGhpcy5faW5wdXRGaXJzdC5wcm9wKCBcImRpc2FibGVkXCIsIHZhbHVlICk7XHJcblx0XHRcdHRoaXMuX2lucHV0TGFzdC5wcm9wKCBcImRpc2FibGVkXCIsIHZhbHVlICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5fbGFiZWwucHJlcGVuZFRvKCB0aGlzLmVsZW1lbnQgKTtcclxuXHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCBcInVpLXJhbmdlc2xpZGVyIHVpLW1pbmlcIiApO1xyXG5cdFx0XHR0aGlzLl9pbnB1dEZpcnN0LmFmdGVyKCB0aGlzLl9zbGlkZXJGaXJzdCApO1xyXG5cdFx0XHR0aGlzLl9pbnB1dExhc3QuYWZ0ZXIoIHRoaXMuX3NsaWRlckxhc3QgKTtcclxuXHRcdFx0dGhpcy5fc2xpZGVycy5yZW1vdmUoKTtcclxuXHRcdFx0dGhpcy5lbGVtZW50LmZpbmQoIFwiaW5wdXRcIiApLnJlbW92ZUNsYXNzKCBcInVpLXJhbmdlc2xpZGVyLWZpcnN0IHVpLXJhbmdlc2xpZGVyLWxhc3RcIiApLnNsaWRlciggXCJkZXN0cm95XCIgKTtcclxuXHRcdH1cclxuXHJcblx0fSwgJC5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCApICk7XHJcblxyXG59KSggalF1ZXJ5ICk7XHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcblx0JC53aWRnZXQoIFwibW9iaWxlLnRleHRpbnB1dFwiLCAkLm1vYmlsZS50ZXh0aW5wdXQsIHtcclxuXHRcdG9wdGlvbnM6IHtcclxuXHRcdFx0Y2xlYXJCdG46IGZhbHNlLFxyXG5cdFx0XHRjbGVhckJ0blRleHQ6IFwiQ2xlYXIgdGV4dFwiXHJcblx0XHR9LFxyXG5cclxuXHRcdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLl9zdXBlcigpO1xyXG5cclxuXHRcdFx0aWYgKCB0aGlzLmlzU2VhcmNoICkge1xyXG5cdFx0XHRcdHRoaXMub3B0aW9ucy5jbGVhckJ0biA9IHRydWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggISF0aGlzLm9wdGlvbnMuY2xlYXJCdG4gJiYgdGhpcy5pbnB1dE5lZWRzV3JhcCApIHtcclxuXHRcdFx0XHR0aGlzLl9hZGRDbGVhckJ0bigpO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdGNsZWFyQnV0dG9uOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuICQoIFwiPGEgaHJlZj0nIycgdGFiaW5kZXg9Jy0xJyBhcmlhLWhpZGRlbj0ndHJ1ZScgXCIgK1xyXG5cdFx0XHRcdFwiY2xhc3M9J3VpLWlucHV0LWNsZWFyIHVpLWJ0biB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktY29ybmVyLWFsbCc+XCIgK1xyXG5cdFx0XHRcdFwiPC9hPlwiIClcclxuXHRcdFx0XHRcdC5hdHRyKCBcInRpdGxlXCIsIHRoaXMub3B0aW9ucy5jbGVhckJ0blRleHQgKVxyXG5cdFx0XHRcdFx0LnRleHQoIHRoaXMub3B0aW9ucy5jbGVhckJ0blRleHQgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X2NsZWFyQnRuQ2xpY2s6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdFx0dGhpcy5lbGVtZW50LnZhbCggXCJcIiApXHJcblx0XHRcdFx0XHQuZm9jdXMoKVxyXG5cdFx0XHRcdFx0LnRyaWdnZXIoIFwiY2hhbmdlXCIgKTtcclxuXHJcblx0XHRcdHRoaXMuX2NsZWFyQnRuLmFkZENsYXNzKCBcInVpLWlucHV0LWNsZWFyLWhpZGRlblwiICk7XHJcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9hZGRDbGVhckJ0bjogZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHRpZiAoICF0aGlzLm9wdGlvbnMuZW5oYW5jZWQgKSB7XHJcblx0XHRcdFx0dGhpcy5fZW5oYW5jZUNsZWFyKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCQuZXh0ZW5kKCB0aGlzLCB7XHJcblx0XHRcdFx0X2NsZWFyQnRuOiB0aGlzLndpZGdldCgpLmZpbmQoXCJhLnVpLWlucHV0LWNsZWFyXCIpXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dGhpcy5fYmluZENsZWFyRXZlbnRzKCk7XHJcblxyXG5cdFx0XHR0aGlzLl90b2dnbGVDbGVhcigpO1xyXG5cclxuXHRcdH0sXHJcblxyXG5cdFx0X2VuaGFuY2VDbGVhcjogZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHR0aGlzLmNsZWFyQnV0dG9uKCkuYXBwZW5kVG8oIHRoaXMud2lkZ2V0KCkgKTtcclxuXHRcdFx0dGhpcy53aWRnZXQoKS5hZGRDbGFzcyggXCJ1aS1pbnB1dC1oYXMtY2xlYXJcIiApO1xyXG5cclxuXHRcdH0sXHJcblxyXG5cdFx0X2JpbmRDbGVhckV2ZW50czogZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHR0aGlzLl9vbiggdGhpcy5fY2xlYXJCdG4sIHtcclxuXHRcdFx0XHRcImNsaWNrXCI6IFwiX2NsZWFyQnRuQ2xpY2tcIlxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHRoaXMuX29uKHtcclxuXHRcdFx0XHRcImtleXVwXCI6IFwiX3RvZ2dsZUNsZWFyXCIsXHJcblx0XHRcdFx0XCJjaGFuZ2VcIjogXCJfdG9nZ2xlQ2xlYXJcIixcclxuXHRcdFx0XHRcImlucHV0XCI6IFwiX3RvZ2dsZUNsZWFyXCIsXHJcblx0XHRcdFx0XCJmb2N1c1wiOiBcIl90b2dnbGVDbGVhclwiLFxyXG5cdFx0XHRcdFwiYmx1clwiOiBcIl90b2dnbGVDbGVhclwiLFxyXG5cdFx0XHRcdFwiY3V0XCI6IFwiX3RvZ2dsZUNsZWFyXCIsXHJcblx0XHRcdFx0XCJwYXN0ZVwiOiBcIl90b2dnbGVDbGVhclwiXHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9LFxyXG5cclxuXHRcdF91bmJpbmRDbGVhcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuX29mZiggdGhpcy5fY2xlYXJCdG4sIFwiY2xpY2tcIik7XHJcblx0XHRcdHRoaXMuX29mZiggdGhpcy5lbGVtZW50LCBcImtleXVwIGNoYW5nZSBpbnB1dCBmb2N1cyBibHVyIGN1dCBwYXN0ZVwiICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHtcclxuXHRcdFx0dGhpcy5fc3VwZXIoIG9wdGlvbnMgKTtcclxuXHJcblx0XHRcdGlmICggb3B0aW9ucy5jbGVhckJ0biAhPT0gdW5kZWZpbmVkICYmXHJcblx0XHRcdFx0IXRoaXMuZWxlbWVudC5pcyggXCJ0ZXh0YXJlYSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKVwiICkgKSB7XHJcblx0XHRcdFx0aWYgKCBvcHRpb25zLmNsZWFyQnRuICkge1xyXG5cdFx0XHRcdFx0dGhpcy5fYWRkQ2xlYXJCdG4oKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0dGhpcy5fZGVzdHJveUNsZWFyKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIG9wdGlvbnMuY2xlYXJCdG5UZXh0ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fY2xlYXJCdG4gIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHR0aGlzLl9jbGVhckJ0bi50ZXh0KCBvcHRpb25zLmNsZWFyQnRuVGV4dCApXHJcblx0XHRcdFx0XHQuYXR0cihcInRpdGxlXCIsIG9wdGlvbnMuY2xlYXJCdG5UZXh0KTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRfdG9nZ2xlQ2xlYXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLl9kZWxheSggXCJfdG9nZ2xlQ2xlYXJDbGFzc1wiLCAwICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF90b2dnbGVDbGVhckNsYXNzOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5fY2xlYXJCdG4udG9nZ2xlQ2xhc3MoIFwidWktaW5wdXQtY2xlYXItaGlkZGVuXCIsICF0aGlzLmVsZW1lbnQudmFsKCkgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X2Rlc3Ryb3lDbGVhcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoIFwidWktaW5wdXQtaGFzLWNsZWFyXCIgKTtcclxuXHRcdFx0dGhpcy5fdW5iaW5kQ2xlYXIoKTtcclxuXHRcdFx0dGhpcy5fY2xlYXJCdG4ucmVtb3ZlKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5fc3VwZXIoKTtcclxuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMuY2xlYXJCdG4gKSB7XHJcblx0XHRcdFx0dGhpcy5fZGVzdHJveUNsZWFyKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0fSk7XHJcblxyXG59KSggalF1ZXJ5ICk7XHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcblx0JC53aWRnZXQoIFwibW9iaWxlLnRleHRpbnB1dFwiLCAkLm1vYmlsZS50ZXh0aW5wdXQsIHtcclxuXHRcdG9wdGlvbnM6IHtcclxuXHRcdFx0YXV0b2dyb3c6dHJ1ZSxcclxuXHRcdFx0a2V5dXBUaW1lb3V0QnVmZmVyOiAxMDBcclxuXHRcdH0sXHJcblxyXG5cdFx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuX3N1cGVyKCk7XHJcblxyXG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5hdXRvZ3JvdyAmJiB0aGlzLmlzVGV4dGFyZWEgKSB7XHJcblx0XHRcdFx0dGhpcy5fYXV0b2dyb3coKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRfYXV0b2dyb3c6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoIFwidWktdGV4dGlucHV0LWF1dG9ncm93XCIgKTtcclxuXHJcblx0XHRcdHRoaXMuX29uKHtcclxuXHRcdFx0XHRcImtleXVwXCI6IFwiX3RpbWVvdXRcIixcclxuXHRcdFx0XHRcImNoYW5nZVwiOiBcIl90aW1lb3V0XCIsXHJcblx0XHRcdFx0XCJpbnB1dFwiOiBcIl90aW1lb3V0XCIsXHJcblx0XHRcdFx0XCJwYXN0ZVwiOiBcIl90aW1lb3V0XCJcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBBdHRhY2ggdG8gdGhlIHZhcmlvdXMgeW91LWhhdmUtYmVjb21lLXZpc2libGUgbm90aWZpY2F0aW9ucyB0aGF0IHRoZVxyXG5cdFx0XHQvLyB2YXJpb3VzIGZyYW1ld29yayBlbGVtZW50cyBlbWl0LlxyXG5cdFx0XHQvLyBUT0RPOiBSZW1vdmUgYWxsIGJ1dCB0aGUgdXBkYXRlbGF5b3V0IGhhbmRsZXIgb25jZSAjNjQyNiBpcyBmaXhlZC5cclxuXHRcdFx0dGhpcy5fb24oIHRydWUsIHRoaXMuZG9jdW1lbnQsIHtcclxuXHJcblx0XHRcdFx0Ly8gVE9ETzogTW92ZSB0byBub24tZGVwcmVjYXRlZCBldmVudFxyXG5cdFx0XHRcdFwicGFnZXNob3dcIjogXCJfaGFuZGxlU2hvd1wiLFxyXG5cdFx0XHRcdFwicG9wdXBiZWZvcmVwb3NpdGlvblwiOiBcIl9oYW5kbGVTaG93XCIsXHJcblx0XHRcdFx0XCJ1cGRhdGVsYXlvdXRcIjogXCJfaGFuZGxlU2hvd1wiLFxyXG5cdFx0XHRcdFwicGFuZWxvcGVuXCI6IFwiX2hhbmRsZVNob3dcIlxyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gU3luY2hyb25vdXNseSBmaXggdGhlIHdpZGdldCBoZWlnaHQgaWYgdGhpcyB3aWRnZXQncyBwYXJlbnRzIGFyZSBzdWNoXHJcblx0XHQvLyB0aGF0IHRoZXkgc2hvdy9oaWRlIGNvbnRlbnQgYXQgcnVudGltZS4gV2Ugc3RpbGwgbmVlZCB0byBjaGVjayB3aGV0aGVyXHJcblx0XHQvLyB0aGUgd2lkZ2V0IGlzIGFjdHVhbGx5IHZpc2libGUgaW4gY2FzZSBpdCBpcyBjb250YWluZWQgaW5zaWRlIG11bHRpcGxlXHJcblx0XHQvLyBzdWNoIGNvbnRhaW5lcnMuIEZvciBleGFtcGxlOiBwYW5lbCBjb250YWlucyBjb2xsYXBzaWJsZSBjb250YWluc1xyXG5cdFx0Ly8gYXV0b2dyb3cgdGV4dGlucHV0LiBUaGUgcGFuZWwgbWF5IGVtaXQgXCJwYW5lbG9wZW5cIiBpbmRpY2F0aW5nIHRoYXQgaXRzXHJcblx0XHQvLyBjb250ZW50IGhhcyBiZWNvbWUgdmlzaWJsZSwgYnV0IHRoZSBjb2xsYXBzaWJsZSBpcyBzdGlsbCBjb2xsYXBzZWQsIHNvXHJcblx0XHQvLyB0aGUgYXV0b2dyb3cgdGV4dGFyZWEgaXMgc3RpbGwgbm90IHZpc2libGUuXHJcblx0XHRfaGFuZGxlU2hvdzogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0XHRpZiAoICQuY29udGFpbnMoIGV2ZW50LnRhcmdldCwgdGhpcy5lbGVtZW50WyAwIF0gKSAmJlxyXG5cdFx0XHRcdHRoaXMuZWxlbWVudC5pcyggXCI6dmlzaWJsZVwiICkgKSB7XHJcblxyXG5cdFx0XHRcdGlmICggZXZlbnQudHlwZSAhPT0gXCJwb3B1cGJlZm9yZXBvc2l0aW9uXCIgKSB7XHJcblx0XHRcdFx0XHR0aGlzLmVsZW1lbnRcclxuXHRcdFx0XHRcdFx0LmFkZENsYXNzKCBcInVpLXRleHRpbnB1dC1hdXRvZ3Jvdy1yZXNpemVcIiApXHJcblx0XHRcdFx0XHRcdC5hbmltYXRpb25Db21wbGV0ZShcclxuXHRcdFx0XHRcdFx0XHQkLnByb3h5KCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyggXCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3ctcmVzaXplXCIgKTtcclxuXHRcdFx0XHRcdFx0XHR9LCB0aGlzICksXHJcblx0XHRcdFx0XHRcdFwidHJhbnNpdGlvblwiICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMuX3ByZXBhcmVIZWlnaHRVcGRhdGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRfdW5iaW5kQXV0b2dyb3c6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoIFwidWktdGV4dGlucHV0LWF1dG9ncm93XCIgKTtcclxuXHRcdFx0dGhpcy5fb2ZmKCB0aGlzLmVsZW1lbnQsIFwia2V5dXAgY2hhbmdlIGlucHV0IHBhc3RlXCIgKTtcclxuXHRcdFx0dGhpcy5fb2ZmKCB0aGlzLmRvY3VtZW50LFxyXG5cdFx0XHRcdFwicGFnZXNob3cgcG9wdXBiZWZvcmVwb3NpdGlvbiB1cGRhdGVsYXlvdXQgcGFuZWxvcGVuXCIgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0a2V5dXBUaW1lb3V0OiBudWxsLFxyXG5cclxuXHRcdF9wcmVwYXJlSGVpZ2h0VXBkYXRlOiBmdW5jdGlvbiggZGVsYXkgKSB7XHJcblx0XHRcdGlmICggdGhpcy5rZXl1cFRpbWVvdXQgKSB7XHJcblx0XHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLmtleXVwVGltZW91dCApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggZGVsYXkgPT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHR0aGlzLl91cGRhdGVIZWlnaHQoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmtleXVwVGltZW91dCA9IHRoaXMuX2RlbGF5KCBcIl91cGRhdGVIZWlnaHRcIiwgZGVsYXkgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRfdGltZW91dDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuX3ByZXBhcmVIZWlnaHRVcGRhdGUoIHRoaXMub3B0aW9ucy5rZXl1cFRpbWVvdXRCdWZmZXIgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X3VwZGF0ZUhlaWdodDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBwYWRkaW5nVG9wLCBwYWRkaW5nQm90dG9tLCBwYWRkaW5nSGVpZ2h0LCBzY3JvbGxIZWlnaHQsIGNsaWVudEhlaWdodCxcclxuXHRcdFx0XHRib3JkZXJUb3AsIGJvcmRlckJvdHRvbSwgYm9yZGVySGVpZ2h0LCBoZWlnaHQsXHJcblx0XHRcdFx0c2Nyb2xsVG9wID0gdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCk7XHJcblx0XHRcdHRoaXMua2V5dXBUaW1lb3V0ID0gMDtcclxuXHJcblx0XHRcdC8vIElFOCB0ZXh0YXJlYXMgaGF2ZSB0aGUgb25wYWdlIHByb3BlcnR5IC0gb3RoZXJzIGRvIG5vdFxyXG5cdFx0XHRpZiAoICEoIFwib25wYWdlXCIgaW4gdGhpcy5lbGVtZW50WyAwIF0gKSApIHtcclxuXHRcdFx0XHR0aGlzLmVsZW1lbnQuY3NzKHtcclxuXHRcdFx0XHRcdFwiaGVpZ2h0XCI6IDAsXHJcblx0XHRcdFx0XHRcIm1pbi1oZWlnaHRcIjogMCxcclxuXHRcdFx0XHRcdFwibWF4LWhlaWdodFwiOiAwXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNjcm9sbEhlaWdodCA9IHRoaXMuZWxlbWVudFsgMCBdLnNjcm9sbEhlaWdodDtcclxuXHRcdFx0Y2xpZW50SGVpZ2h0ID0gdGhpcy5lbGVtZW50WyAwIF0uY2xpZW50SGVpZ2h0O1xyXG5cdFx0XHRib3JkZXJUb3AgPSBwYXJzZUZsb2F0KCB0aGlzLmVsZW1lbnQuY3NzKCBcImJvcmRlci10b3Atd2lkdGhcIiApICk7XHJcblx0XHRcdGJvcmRlckJvdHRvbSA9IHBhcnNlRmxvYXQoIHRoaXMuZWxlbWVudC5jc3MoIFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiICkgKTtcclxuXHRcdFx0Ym9yZGVySGVpZ2h0ID0gYm9yZGVyVG9wICsgYm9yZGVyQm90dG9tO1xyXG5cdFx0XHRoZWlnaHQgPSBzY3JvbGxIZWlnaHQgKyBib3JkZXJIZWlnaHQgKyAxNTtcclxuXHJcblx0XHRcdC8vIElzc3VlIDYxNzk6IFBhZGRpbmcgaXMgbm90IGluY2x1ZGVkIGluIHNjcm9sbEhlaWdodCBhbmRcclxuXHRcdFx0Ly8gY2xpZW50SGVpZ2h0IGJ5IEZpcmVmb3ggaWYgbm8gc2Nyb2xsYmFyIGlzIHZpc2libGUuIEJlY2F1c2VcclxuXHRcdFx0Ly8gdGV4dGFyZWFzIHVzZSB0aGUgYm9yZGVyLWJveCBib3gtc2l6aW5nIG1vZGVsLCBwYWRkaW5nIHNob3VsZCBiZVxyXG5cdFx0XHQvLyBpbmNsdWRlZCBpbiB0aGUgbmV3IChhc3NpZ25lZCkgaGVpZ2h0LiBCZWNhdXNlIHRoZSBoZWlnaHQgaXMgc2V0XHJcblx0XHRcdC8vIHRvIDAsIGNsaWVudEhlaWdodCA9PSAwIGluIEZpcmVmb3guIFRoZXJlZm9yZSwgd2UgY2FuIHVzZSB0aGlzIHRvXHJcblx0XHRcdC8vIGNoZWNrIGlmIHBhZGRpbmcgbXVzdCBiZSBhZGRlZC5cclxuXHRcdFx0aWYgKCBjbGllbnRIZWlnaHQgPT09IDAgKSB7XHJcblx0XHRcdFx0cGFkZGluZ1RvcCA9IHBhcnNlRmxvYXQoIHRoaXMuZWxlbWVudC5jc3MoIFwicGFkZGluZy10b3BcIiApICk7XHJcblx0XHRcdFx0cGFkZGluZ0JvdHRvbSA9IHBhcnNlRmxvYXQoIHRoaXMuZWxlbWVudC5jc3MoIFwicGFkZGluZy1ib3R0b21cIiApICk7XHJcblx0XHRcdFx0cGFkZGluZ0hlaWdodCA9IHBhZGRpbmdUb3AgKyBwYWRkaW5nQm90dG9tO1xyXG5cclxuXHRcdFx0XHRoZWlnaHQgKz0gcGFkZGluZ0hlaWdodDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5lbGVtZW50LmNzcyh7XHJcblx0XHRcdFx0XCJoZWlnaHRcIjogaGVpZ2h0LFxyXG5cdFx0XHRcdFwibWluLWhlaWdodFwiOiBcIlwiLFxyXG5cdFx0XHRcdFwibWF4LWhlaWdodFwiOiBcIlwiXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dGhpcy53aW5kb3cuc2Nyb2xsVG9wKCBzY3JvbGxUb3AgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLmF1dG9ncm93ICYmIHRoaXMuaXNUZXh0YXJlYSApIHtcclxuXHRcdFx0XHR0aGlzLl91cGRhdGVIZWlnaHQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRfc2V0T3B0aW9uczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XHJcblxyXG5cdFx0XHR0aGlzLl9zdXBlciggb3B0aW9ucyApO1xyXG5cclxuXHRcdFx0aWYgKCBvcHRpb25zLmF1dG9ncm93ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5pc1RleHRhcmVhICkge1xyXG5cdFx0XHRcdGlmICggb3B0aW9ucy5hdXRvZ3JvdyApIHtcclxuXHRcdFx0XHRcdHRoaXMuX2F1dG9ncm93KCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRoaXMuX3VuYmluZEF1dG9ncm93KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdH0pO1xyXG59KSggalF1ZXJ5ICk7XHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcbiQud2lkZ2V0KCBcIm1vYmlsZS5zZWxlY3RtZW51XCIsICQuZXh0ZW5kKCB7XHJcblx0aW5pdFNlbGVjdG9yOiBcInNlbGVjdDpub3QoIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpKTpub3QoIDpqcW1EYXRhKHJvbGU9J2ZsaXBzd2l0Y2gnKSApXCIsXHJcblxyXG5cdG9wdGlvbnM6IHtcclxuXHRcdHRoZW1lOiBudWxsLFxyXG5cdFx0aWNvbjogXCJjYXJhdC1kXCIsXHJcblx0XHRpY29ucG9zOiBcInJpZ2h0XCIsXHJcblx0XHRpbmxpbmU6IGZhbHNlLFxyXG5cdFx0Y29ybmVyczogdHJ1ZSxcclxuXHRcdHNoYWRvdzogdHJ1ZSxcclxuXHRcdGljb25zaGFkb3c6IGZhbHNlLCAvKiBUT0RPOiBEZXByZWNhdGVkIGluIDEuNCwgcmVtb3ZlIGluIDEuNS4gKi9cclxuXHRcdG92ZXJsYXlUaGVtZTogbnVsbCxcclxuXHRcdGRpdmlkZXJUaGVtZTogbnVsbCxcclxuXHRcdGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczogdHJ1ZSxcclxuXHRcdGNsb3NlVGV4dDogXCJDbG9zZVwiLFxyXG5cdFx0bmF0aXZlTWVudTogdHJ1ZSxcclxuXHRcdC8vIFRoaXMgb3B0aW9uIGRlZmF1bHRzIHRvIHRydWUgb24gaU9TIGRldmljZXMuXHJcblx0XHRwcmV2ZW50Rm9jdXNab29tOiAvaVBob25lfGlQYWR8aVBvZC8udGVzdCggbmF2aWdhdG9yLnBsYXRmb3JtICkgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCBcIkFwcGxlV2ViS2l0XCIgKSA+IC0xLFxyXG5cdFx0bWluaTogZmFsc2VcclxuXHR9LFxyXG5cclxuXHRfYnV0dG9uOiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiAkKCBcIjxkaXYvPlwiICk7XHJcblx0fSxcclxuXHJcblx0X3NldERpc2FibGVkOiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcblx0XHR0aGlzLmVsZW1lbnQuYXR0ciggXCJkaXNhYmxlZFwiLCB2YWx1ZSApO1xyXG5cdFx0dGhpcy5idXR0b24uYXR0ciggXCJhcmlhLWRpc2FibGVkXCIsIHZhbHVlICk7XHJcblx0XHRyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCBcImRpc2FibGVkXCIsIHZhbHVlICk7XHJcblx0fSxcclxuXHJcblx0X2ZvY3VzQnV0dG9uIDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdHNlbGYuYnV0dG9uLmZvY3VzKCk7XHJcblx0XHR9LCA0MCk7XHJcblx0fSxcclxuXHJcblx0X3NlbGVjdE9wdGlvbnM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuc2VsZWN0LmZpbmQoIFwib3B0aW9uXCIgKTtcclxuXHR9LFxyXG5cclxuXHQvLyBzZXR1cCBpdGVtcyB0aGF0IGFyZSBnZW5lcmFsbHkgbmVjZXNzYXJ5IGZvciBzZWxlY3QgbWVudSBleHRlbnNpb25cclxuXHRfcHJlRXh0ZW5zaW9uOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpbmxpbmUgPSB0aGlzLm9wdGlvbnMuaW5saW5lIHx8IHRoaXMuZWxlbWVudC5qcW1EYXRhKCBcImlubGluZVwiICksXHJcblx0XHRcdG1pbmkgPSB0aGlzLm9wdGlvbnMubWluaSB8fCB0aGlzLmVsZW1lbnQuanFtRGF0YSggXCJtaW5pXCIgKSxcclxuXHRcdFx0Y2xhc3NlcyA9IFwiXCI7XHJcblx0XHQvLyBUT0RPOiBQb3N0IDEuMS0tb25jZSB3ZSBoYXZlIHRpbWUgdG8gdGVzdCB0aG9yb3VnaGx5LS1hbnkgY2xhc3NlcyBtYW51YWxseSBhcHBsaWVkIHRvIHRoZSBvcmlnaW5hbCBlbGVtZW50IHNob3VsZCBiZSBjYXJyaWVkIG92ZXIgdG8gdGhlIGVuaGFuY2VkIGVsZW1lbnQsIHdpdGggYW4gYC1lbmhhbmNlZGAgc3VmZml4LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnktbW9iaWxlL2lzc3Vlcy8zNTc3XHJcblx0XHQvKiBpZiAoICRlbFswXS5jbGFzc05hbWUubGVuZ3RoICkge1xyXG5cdFx0XHRjbGFzc2VzID0gJGVsWzBdLmNsYXNzTmFtZTtcclxuXHRcdH0gKi9cclxuXHRcdGlmICggISF+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCBcInVpLWJ0bi1sZWZ0XCIgKSApIHtcclxuXHRcdFx0Y2xhc3NlcyA9IFwiIHVpLWJ0bi1sZWZ0XCI7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCAgISF+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKCBcInVpLWJ0bi1yaWdodFwiICkgKSB7XHJcblx0XHRcdGNsYXNzZXMgPSBcIiB1aS1idG4tcmlnaHRcIjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIGlubGluZSApIHtcclxuXHRcdFx0Y2xhc3NlcyArPSBcIiB1aS1idG4taW5saW5lXCI7XHJcblx0XHR9XHJcblx0XHRpZiAoIG1pbmkgKSB7XHJcblx0XHRcdGNsYXNzZXMgKz0gXCIgdWktbWluaVwiO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc2VsZWN0ID0gdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCBcInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodFwiICkud3JhcCggXCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3RcIiArIGNsYXNzZXMgKyBcIic+XCIgKTtcclxuXHRcdHRoaXMuc2VsZWN0SWQgID0gdGhpcy5zZWxlY3QuYXR0ciggXCJpZFwiICkgfHwgKCBcInNlbGVjdC1cIiArIHRoaXMudXVpZCApO1xyXG5cdFx0dGhpcy5idXR0b25JZCA9IHRoaXMuc2VsZWN0SWQgKyBcIi1idXR0b25cIjtcclxuXHRcdHRoaXMubGFiZWwgPSAkKCBcImxhYmVsW2Zvcj0nXCIrIHRoaXMuc2VsZWN0SWQgK1wiJ11cIiApO1xyXG5cdFx0dGhpcy5pc011bHRpcGxlID0gdGhpcy5zZWxlY3RbIDAgXS5tdWx0aXBsZTtcclxuXHR9LFxyXG5cclxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgd3JhcHBlciA9IHRoaXMuZWxlbWVudC5wYXJlbnRzKCBcIi51aS1zZWxlY3RcIiApO1xyXG5cdFx0aWYgKCB3cmFwcGVyLmxlbmd0aCA+IDAgKSB7XHJcblx0XHRcdGlmICggd3JhcHBlci5pcyggXCIudWktYnRuLWxlZnQsIC51aS1idG4tcmlnaHRcIiApICkge1xyXG5cdFx0XHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyggd3JhcHBlci5oYXNDbGFzcyggXCJ1aS1idG4tbGVmdFwiICkgPyBcInVpLWJ0bi1sZWZ0XCIgOiBcInVpLWJ0bi1yaWdodFwiICk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5lbGVtZW50Lmluc2VydEFmdGVyKCB3cmFwcGVyICk7XHJcblx0XHRcdHdyYXBwZXIucmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLl9wcmVFeHRlbnNpb24oKTtcclxuXHJcblx0XHR0aGlzLmJ1dHRvbiA9IHRoaXMuX2J1dHRvbigpO1xyXG5cclxuXHRcdHZhciBzZWxmID0gdGhpcyxcclxuXHJcblx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXHJcblxyXG5cdFx0XHRpY29ucG9zID0gb3B0aW9ucy5pY29uID8gKCBvcHRpb25zLmljb25wb3MgfHwgdGhpcy5zZWxlY3QuanFtRGF0YSggXCJpY29ucG9zXCIgKSApIDogZmFsc2UsXHJcblxyXG5cdFx0XHRidXR0b24gPSB0aGlzLmJ1dHRvblxyXG5cdFx0XHRcdC5pbnNlcnRCZWZvcmUoIHRoaXMuc2VsZWN0IClcclxuXHRcdFx0XHQuYXR0ciggXCJpZFwiLCB0aGlzLmJ1dHRvbklkIClcclxuXHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktYnRuXCIgK1xyXG5cdFx0XHRcdFx0KCBvcHRpb25zLmljb24gPyAoIFwiIHVpLWljb24tXCIgKyBvcHRpb25zLmljb24gKyBcIiB1aS1idG4taWNvbi1cIiArIGljb25wb3MgK1xyXG5cdFx0XHRcdFx0KCBvcHRpb25zLmljb25zaGFkb3cgPyBcIiB1aS1zaGFkb3ctaWNvblwiIDogXCJcIiApICkgOlx0XCJcIiApICsgLyogVE9ETzogUmVtb3ZlIGluIDEuNS4gKi9cclxuXHRcdFx0XHRcdCggb3B0aW9ucy50aGVtZSA/IFwiIHVpLWJ0bi1cIiArIG9wdGlvbnMudGhlbWUgOiBcIlwiICkgK1xyXG5cdFx0XHRcdFx0KCBvcHRpb25zLmNvcm5lcnMgPyBcIiB1aS1jb3JuZXItYWxsXCIgOiBcIlwiICkgK1xyXG5cdFx0XHRcdFx0KCBvcHRpb25zLnNoYWRvdyA/IFwiIHVpLXNoYWRvd1wiIDogXCJcIiApICk7XHJcblxyXG5cdFx0dGhpcy5zZXRCdXR0b25UZXh0KCk7XHJcblxyXG5cdFx0Ly8gT3BlcmEgZG9lcyBub3QgcHJvcGVybHkgc3VwcG9ydCBvcGFjaXR5IG9uIHNlbGVjdCBlbGVtZW50c1xyXG5cdFx0Ly8gSW4gTWluaSwgaXQgaGlkZXMgdGhlIGVsZW1lbnQsIGJ1dCBub3QgaXRzIHRleHRcclxuXHRcdC8vIE9uIHRoZSBkZXNrdG9wLGl0IHNlZW1zIHRvIGRvIHRoZSBvcHBvc2l0ZVxyXG5cdFx0Ly8gZm9yIHRoZXNlIHJlYXNvbnMsIHVzaW5nIHRoZSBuYXRpdmVNZW51IG9wdGlvbiByZXN1bHRzIGluIGEgZnVsbCBuYXRpdmUgc2VsZWN0IGluIE9wZXJhXHJcblx0XHRpZiAoIG9wdGlvbnMubmF0aXZlTWVudSAmJiB3aW5kb3cub3BlcmEgJiYgd2luZG93Lm9wZXJhLnZlcnNpb24gKSB7XHJcblx0XHRcdGJ1dHRvbi5hZGRDbGFzcyggXCJ1aS1zZWxlY3QtbmF0aXZlb25seVwiICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQWRkIGNvdW50ZXIgZm9yIG11bHRpIHNlbGVjdHNcclxuXHRcdGlmICggdGhpcy5pc011bHRpcGxlICkge1xyXG5cdFx0XHR0aGlzLmJ1dHRvbkNvdW50ID0gJCggXCI8c3Bhbj5cIiApXHJcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLWxpLWNvdW50IHVpLWJvZHktaW5oZXJpdFwiIClcclxuXHRcdFx0XHQuaGlkZSgpXHJcblx0XHRcdFx0LmFwcGVuZFRvKCBidXR0b24uYWRkQ2xhc3MoIFwidWktbGktaGFzLWNvdW50XCIgKSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIERpc2FibGUgaWYgc3BlY2lmaWVkXHJcblx0XHRpZiAoIG9wdGlvbnMuZGlzYWJsZWQgfHwgdGhpcy5lbGVtZW50LmF0dHIoIFwiZGlzYWJsZWRcIiApKSB7XHJcblx0XHRcdHRoaXMuZGlzYWJsZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEV2ZW50cyBvbiBuYXRpdmUgc2VsZWN0XHJcblx0XHR0aGlzLnNlbGVjdC5jaGFuZ2UoZnVuY3Rpb24oKSB7XHJcblx0XHRcdHNlbGYucmVmcmVzaCgpO1xyXG5cclxuXHRcdFx0aWYgKCAhIW9wdGlvbnMubmF0aXZlTWVudSApIHtcclxuXHRcdFx0XHRzZWxmLl9kZWxheSggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRzZWxmLnNlbGVjdC5ibHVyKCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpO1xyXG5cclxuXHRcdHRoaXMuX29uKCB0aGlzLmJ1dHRvbiwge1xyXG5cdFx0XHRrZXlkb3duOiBcIl9oYW5kbGVLZXlkb3duXCJcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYnVpbGQoKTtcclxuXHR9LFxyXG5cclxuXHRidWlsZDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0dGhpcy5zZWxlY3RcclxuXHRcdFx0LmFwcGVuZFRvKCBzZWxmLmJ1dHRvbiApXHJcblx0XHRcdC5iaW5kKCBcInZtb3VzZWRvd25cIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Ly8gQWRkIGFjdGl2ZSBjbGFzcyB0byBidXR0b25cclxuXHRcdFx0XHRzZWxmLmJ1dHRvbi5hZGRDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LmJpbmQoIFwiZm9jdXNcIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c2VsZi5idXR0b24uYWRkQ2xhc3MoICQubW9iaWxlLmZvY3VzQ2xhc3MgKTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LmJpbmQoIFwiYmx1clwiLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRzZWxmLmJ1dHRvbi5yZW1vdmVDbGFzcyggJC5tb2JpbGUuZm9jdXNDbGFzcyApO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQuYmluZCggXCJmb2N1cyB2bW91c2VvdmVyXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNlbGYuYnV0dG9uLnRyaWdnZXIoIFwidm1vdXNlb3ZlclwiICk7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5iaW5kKCBcInZtb3VzZW1vdmVcIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Ly8gUmVtb3ZlIGFjdGl2ZSBjbGFzcyBvbiBzY3JvbGwvdG91Y2htb3ZlXHJcblx0XHRcdFx0c2VsZi5idXR0b24ucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5iaW5kKCBcImNoYW5nZSBibHVyIHZtb3VzZW91dFwiLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRzZWxmLmJ1dHRvbi50cmlnZ2VyKCBcInZtb3VzZW91dFwiIClcclxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0Ly8gSW4gbWFueSBzaXR1YXRpb25zLCBpT1Mgd2lsbCB6b29tIGludG8gdGhlIHNlbGVjdCB1cG9uIHRhcCwgdGhpcyBwcmV2ZW50cyB0aGF0IGZyb20gaGFwcGVuaW5nXHJcblx0XHRzZWxmLmJ1dHRvbi5iaW5kKCBcInZtb3VzZWRvd25cIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICggc2VsZi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20gKSB7XHJcblx0XHRcdFx0XHQkLm1vYmlsZS56b29tLmRpc2FibGUoIHRydWUgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRzZWxmLmxhYmVsLmJpbmQoIFwiY2xpY2sgZm9jdXNcIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICggc2VsZi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20gKSB7XHJcblx0XHRcdFx0XHQkLm1vYmlsZS56b29tLmRpc2FibGUoIHRydWUgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRzZWxmLnNlbGVjdC5iaW5kKCBcImZvY3VzXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoIHNlbGYub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tICkge1xyXG5cdFx0XHRcdFx0JC5tb2JpbGUuem9vbS5kaXNhYmxlKCB0cnVlICk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0c2VsZi5idXR0b24uYmluZCggXCJtb3VzZXVwXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoIHNlbGYub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tICkge1xyXG5cdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHQkLm1vYmlsZS56b29tLmVuYWJsZSggdHJ1ZSApO1xyXG5cdFx0XHRcdH0sIDAgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRzZWxmLnNlbGVjdC5iaW5kKCBcImJsdXJcIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICggc2VsZi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20gKSB7XHJcblx0XHRcdFx0JC5tb2JpbGUuem9vbS5lbmFibGUoIHRydWUgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdH0sXHJcblxyXG5cdHNlbGVjdGVkOiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKCBcIjpzZWxlY3RlZFwiICk7XHJcblx0fSxcclxuXHJcblx0c2VsZWN0ZWRJbmRpY2VzOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5zZWxlY3RlZCgpLm1hcChmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHNlbGYuX3NlbGVjdE9wdGlvbnMoKS5pbmRleCggdGhpcyApO1xyXG5cdFx0fSkuZ2V0KCk7XHJcblx0fSxcclxuXHJcblx0c2V0QnV0dG9uVGV4dDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgc2VsZiA9IHRoaXMsXHJcblx0XHRcdHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZCgpLFxyXG5cdFx0XHR0ZXh0ID0gdGhpcy5wbGFjZWhvbGRlcixcclxuXHRcdFx0c3BhbiA9ICQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwic3BhblwiICkgKTtcclxuXHJcblx0XHR0aGlzLmJ1dHRvbi5jaGlsZHJlbiggXCJzcGFuXCIgKS5ub3QoIFwiLnVpLWxpLWNvdW50XCIgKS5yZW1vdmUoKS5lbmQoKS5lbmQoKS5wcmVwZW5kKCAoZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICggc2VsZWN0ZWQubGVuZ3RoICkge1xyXG5cdFx0XHRcdHRleHQgPSBzZWxlY3RlZC5tYXAoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gJCggdGhpcyApLnRleHQoKTtcclxuXHRcdFx0XHR9KS5nZXQoKS5qb2luKCBcIiwgXCIgKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0ZXh0ID0gc2VsZi5wbGFjZWhvbGRlcjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCB0ZXh0ICkge1xyXG5cdFx0XHRcdHNwYW4udGV4dCggdGV4dCApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHQvLyBTZXQgdGhlIGNvbnRlbnRzIHRvICZuYnNwOyB3aGljaCB3ZSB3cml0ZSBhcyAmIzE2MDsgdG8gYmUgWEhUTUwgY29tcGxpYW50IC0gc2VlIGdoLTY2OTlcclxuXHRcdFx0XHRzcGFuLmh0bWwoIFwiJiMxNjA7XCIgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gVE9ETyBwb3NzaWJseSBhZ2dyZWdhdGUgbXVsdGlwbGUgc2VsZWN0IG9wdGlvbiBjbGFzc2VzXHJcblx0XHRcdHJldHVybiBzcGFuXHJcblx0XHRcdFx0LmFkZENsYXNzKCBzZWxmLnNlbGVjdC5hdHRyKCBcImNsYXNzXCIgKSApXHJcblx0XHRcdFx0LmFkZENsYXNzKCBzZWxlY3RlZC5hdHRyKCBcImNsYXNzXCIgKSApXHJcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXNjcmVlbi1oaWRkZW5cIiApO1xyXG5cdFx0fSkoKSk7XHJcblx0fSxcclxuXHJcblx0c2V0QnV0dG9uQ291bnQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZCgpO1xyXG5cclxuXHRcdC8vIG11bHRpcGxlIGNvdW50IGluc2lkZSBidXR0b25cclxuXHRcdGlmICggdGhpcy5pc011bHRpcGxlICkge1xyXG5cdFx0XHR0aGlzLmJ1dHRvbkNvdW50WyBzZWxlY3RlZC5sZW5ndGggPiAxID8gXCJzaG93XCIgOiBcImhpZGVcIiBdKCkudGV4dCggc2VsZWN0ZWQubGVuZ3RoICk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2hhbmRsZUtleWRvd246IGZ1bmN0aW9uKCAvKiBldmVudCAqLyApIHtcclxuXHRcdHRoaXMuX2RlbGF5KCBcIl9yZWZyZXNoQnV0dG9uXCIgKTtcclxuXHR9LFxyXG5cclxuXHRfcmVzZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5yZWZyZXNoKCk7XHJcblx0fSxcclxuXHJcblx0X3JlZnJlc2hCdXR0b246IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5zZXRCdXR0b25UZXh0KCk7XHJcblx0XHR0aGlzLnNldEJ1dHRvbkNvdW50KCk7XHJcblx0fSxcclxuXHJcblx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLl9yZWZyZXNoQnV0dG9uKCk7XHJcblx0fSxcclxuXHJcblx0Ly8gb3BlbiBhbmQgY2xvc2UgcHJlc2VydmVkIGluIG5hdGl2ZSBzZWxlY3RzXHJcblx0Ly8gdG8gc2ltcGxpZnkgdXNlcnMgY29kZSB3aGVuIGxvb3Bpbmcgb3ZlciBzZWxlY3RzXHJcblx0b3BlbjogJC5ub29wLFxyXG5cdGNsb3NlOiAkLm5vb3AsXHJcblxyXG5cdGRpc2FibGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5fc2V0RGlzYWJsZWQoIHRydWUgKTtcclxuXHRcdHRoaXMuYnV0dG9uLmFkZENsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIgKTtcclxuXHR9LFxyXG5cclxuXHRlbmFibGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5fc2V0RGlzYWJsZWQoIGZhbHNlICk7XHJcblx0XHR0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiICk7XHJcblx0fVxyXG59LCAkLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0ICkgKTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxuJC5tb2JpbGUubGlua3MgPSBmdW5jdGlvbiggdGFyZ2V0ICkge1xyXG5cclxuXHQvL2xpbmtzIHdpdGhpbiBjb250ZW50IGFyZWFzLCB0ZXN0cyBpbmNsdWRlZCB3aXRoIHBhZ2VcclxuXHQkKCB0YXJnZXQgKVxyXG5cdFx0LmZpbmQoIFwiYVwiIClcclxuXHRcdC5qcW1FbmhhbmNlYWJsZSgpXHJcblx0XHQuZmlsdGVyKCBcIjpqcW1EYXRhKHJlbD0ncG9wdXAnKVtocmVmXVtocmVmIT0nJ11cIiApXHJcblx0XHQuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIEFjY2Vzc2liaWxpdHkgaW5mbyBmb3IgcG9wdXBzXHJcblx0XHRcdHZhciBlbGVtZW50ID0gdGhpcyxcclxuXHRcdFx0XHRpZHJlZiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCBcImhyZWZcIiApLnN1YnN0cmluZyggMSApO1xyXG5cclxuXHRcdFx0aWYgKCBpZHJlZiApIHtcclxuXHRcdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZSggXCJhcmlhLWhhc3BvcHVwXCIsIHRydWUgKTtcclxuXHRcdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZSggXCJhcmlhLW93bnNcIiwgaWRyZWYgKTtcclxuXHRcdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZSggXCJhcmlhLWV4cGFuZGVkXCIsIGZhbHNlICk7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0XHQuZW5kKClcclxuXHRcdC5ub3QoIFwiLnVpLWJ0biwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJylcIiApXHJcblx0XHQuYWRkQ2xhc3MoIFwidWktbGlua1wiICk7XHJcblxyXG59O1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxuZnVuY3Rpb24gZml0U2VnbWVudEluc2lkZVNlZ21lbnQoIHdpbmRvd1NpemUsIHNlZ21lbnRTaXplLCBvZmZzZXQsIGRlc2lyZWQgKSB7XHJcblx0dmFyIHJldHVyblZhbHVlID0gZGVzaXJlZDtcclxuXHJcblx0aWYgKCB3aW5kb3dTaXplIDwgc2VnbWVudFNpemUgKSB7XHJcblx0XHQvLyBDZW50ZXIgc2VnbWVudCBpZiBpdCdzIGJpZ2dlciB0aGFuIHRoZSB3aW5kb3dcclxuXHRcdHJldHVyblZhbHVlID0gb2Zmc2V0ICsgKCB3aW5kb3dTaXplIC0gc2VnbWVudFNpemUgKSAvIDI7XHJcblx0fSBlbHNlIHtcclxuXHRcdC8vIE90aGVyd2lzZSBjZW50ZXIgaXQgYXQgdGhlIGRlc2lyZWQgY29vcmRpbmF0ZSB3aGlsZSBrZWVwaW5nIGl0IGNvbXBsZXRlbHkgaW5zaWRlIHRoZSB3aW5kb3dcclxuXHRcdHJldHVyblZhbHVlID0gTWF0aC5taW4oIE1hdGgubWF4KCBvZmZzZXQsIGRlc2lyZWQgLSBzZWdtZW50U2l6ZSAvIDIgKSwgb2Zmc2V0ICsgd2luZG93U2l6ZSAtIHNlZ21lbnRTaXplICk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gcmV0dXJuVmFsdWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFdpbmRvd0Nvb3JkaW5hdGVzKCB0aGVXaW5kb3cgKSB7XHJcblx0cmV0dXJuIHtcclxuXHRcdHg6IHRoZVdpbmRvdy5zY3JvbGxMZWZ0KCksXHJcblx0XHR5OiB0aGVXaW5kb3cuc2Nyb2xsVG9wKCksXHJcblx0XHRjeDogKCB0aGVXaW5kb3dbIDAgXS5pbm5lcldpZHRoIHx8IHRoZVdpbmRvdy53aWR0aCgpICksXHJcblx0XHRjeTogKCB0aGVXaW5kb3dbIDAgXS5pbm5lckhlaWdodCB8fCB0aGVXaW5kb3cuaGVpZ2h0KCkgKVxyXG5cdH07XHJcbn1cclxuXHJcbiQud2lkZ2V0KCBcIm1vYmlsZS5wb3B1cFwiLCB7XHJcblx0b3B0aW9uczoge1xyXG5cdFx0d3JhcHBlckNsYXNzOiBudWxsLFxyXG5cdFx0dGhlbWU6IG51bGwsXHJcblx0XHRvdmVybGF5VGhlbWU6IG51bGwsXHJcblx0XHRzaGFkb3c6IHRydWUsXHJcblx0XHRjb3JuZXJzOiB0cnVlLFxyXG5cdFx0dHJhbnNpdGlvbjogXCJub25lXCIsXHJcblx0XHRwb3NpdGlvblRvOiBcIm9yaWdpblwiLFxyXG5cdFx0dG9sZXJhbmNlOiBudWxsLFxyXG5cdFx0Y2xvc2VMaW5rU2VsZWN0b3I6IFwiYTpqcW1EYXRhKHJlbD0nYmFjaycpXCIsXHJcblx0XHRjbG9zZUxpbmtFdmVudHM6IFwiY2xpY2sucG9wdXBcIixcclxuXHRcdG5hdmlnYXRlRXZlbnRzOiBcIm5hdmlnYXRlLnBvcHVwXCIsXHJcblx0XHRjbG9zZUV2ZW50czogXCJuYXZpZ2F0ZS5wb3B1cCBwYWdlYmVmb3JlY2hhbmdlLnBvcHVwXCIsXHJcblx0XHRkaXNtaXNzaWJsZTogdHJ1ZSxcclxuXHRcdGVuaGFuY2VkOiBmYWxzZSxcclxuXHJcblx0XHQvLyBOT1RFIFdpbmRvd3MgUGhvbmUgNyBoYXMgYSBzY3JvbGwgcG9zaXRpb24gY2FjaGluZyBpc3N1ZSB0aGF0XHJcblx0XHQvLyAgICAgIHJlcXVpcmVzIHVzIHRvIGRpc2FibGUgcG9wdXAgaGlzdG9yeSBtYW5hZ2VtZW50IGJ5IGRlZmF1bHRcclxuXHRcdC8vICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnktbW9iaWxlL2lzc3Vlcy80Nzg0XHJcblx0XHQvL1xyXG5cdFx0Ly8gTk9URSB0aGlzIG9wdGlvbiBpcyBtb2RpZmllZCBpbiBfY3JlYXRlIVxyXG5cdFx0aGlzdG9yeTogISQubW9iaWxlLmJyb3dzZXIub2xkSUVcclxuXHR9LFxyXG5cclxuXHQvLyBXaGVuIHRoZSB1c2VyIGRlcHJlc3NlcyB0aGUgbW91c2UvZmluZ2VyIG9uIGFuIGVsZW1lbnQgaW5zaWRlIHRoZSBwb3B1cCB3aGlsZSB0aGUgcG9wdXAgaXNcclxuXHQvLyBvcGVuLCB3ZSBpZ25vcmUgcmVzaXplIGV2ZW50cyBmb3IgYSBzaG9ydCB3aGlsZS4gVGhpcyBwcmV2ZW50cyAjNjk2MS5cclxuXHRfaGFuZGxlRG9jdW1lbnRWbW91c2Vkb3duOiBmdW5jdGlvbiggdGhlRXZlbnQgKSB7XHJcblx0XHRpZiAoIHRoaXMuX2lzT3BlbiAmJiAkLmNvbnRhaW5zKCB0aGlzLl91aS5jb250YWluZXJbIDAgXSwgdGhlRXZlbnQudGFyZ2V0ICkgKSB7XHJcblx0XHRcdHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHRoZUVsZW1lbnQgPSB0aGlzLmVsZW1lbnQsXHJcblx0XHRcdG15SWQgPSB0aGVFbGVtZW50LmF0dHIoIFwiaWRcIiApLFxyXG5cdFx0XHRjdXJyZW50T3B0aW9ucyA9IHRoaXMub3B0aW9ucztcclxuXHJcblx0XHQvLyBXZSBuZWVkIHRvIGFkanVzdCB0aGUgaGlzdG9yeSBvcHRpb24gdG8gYmUgZmFsc2UgaWYgdGhlcmUncyBubyBBSkFYIG5hdi5cclxuXHRcdC8vIFdlIGNhbid0IGRvIGl0IGluIHRoZSBvcHRpb24gZGVjbGFyYXRpb25zIGJlY2F1c2UgdGhvc2UgYXJlIHJ1biBiZWZvcmVcclxuXHRcdC8vIGl0IGlzIGRldGVybWluZWQgd2hldGhlciB0aGVyZSBzaGFsbCBiZSBBSkFYIG5hdi5cclxuXHRcdGN1cnJlbnRPcHRpb25zLmhpc3RvcnkgPSBjdXJyZW50T3B0aW9ucy5oaXN0b3J5ICYmICQubW9iaWxlLmFqYXhFbmFibGVkICYmICQubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkO1xyXG5cclxuXHRcdHRoaXMuX29uKCB0aGlzLmRvY3VtZW50LCB7XHJcblx0XHRcdFwidm1vdXNlZG93blwiOiBcIl9oYW5kbGVEb2N1bWVudFZtb3VzZWRvd25cIlxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gRGVmaW5lIGluc3RhbmNlIHZhcmlhYmxlc1xyXG5cdFx0JC5leHRlbmQoIHRoaXMsIHtcclxuXHRcdFx0X3Njcm9sbFRvcDogMCxcclxuXHRcdFx0X3BhZ2U6IHRoZUVsZW1lbnQuY2xvc2VzdCggXCIudWktcGFnZVwiICksXHJcblx0XHRcdF91aTogbnVsbCxcclxuXHRcdFx0X2ZhbGxiYWNrVHJhbnNpdGlvbjogXCJcIixcclxuXHRcdFx0X2N1cnJlbnRUcmFuc2l0aW9uOiBmYWxzZSxcclxuXHRcdFx0X3ByZXJlcXVpc2l0ZXM6IG51bGwsXHJcblx0XHRcdF9pc09wZW46IGZhbHNlLFxyXG5cdFx0XHRfdG9sZXJhbmNlOiBudWxsLFxyXG5cdFx0XHRfcmVzaXplRGF0YTogbnVsbCxcclxuXHRcdFx0X2lnbm9yZVJlc2l6ZVRvOiAwLFxyXG5cdFx0XHRfb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzOiBmYWxzZVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKCB0aGlzLl9wYWdlLmxlbmd0aCA9PT0gMCApIHtcclxuXHRcdFx0dGhpcy5fcGFnZSA9ICQoIFwiYm9keVwiICk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBjdXJyZW50T3B0aW9ucy5lbmhhbmNlZCApIHtcclxuXHRcdFx0dGhpcy5fdWkgPSB7XHJcblx0XHRcdFx0Y29udGFpbmVyOiB0aGVFbGVtZW50LnBhcmVudCgpLFxyXG5cdFx0XHRcdHNjcmVlbjogdGhlRWxlbWVudC5wYXJlbnQoKS5wcmV2KCksXHJcblx0XHRcdFx0cGxhY2Vob2xkZXI6ICQoIHRoaXMuZG9jdW1lbnRbIDAgXS5nZXRFbGVtZW50QnlJZCggbXlJZCArIFwiLXBsYWNlaG9sZGVyXCIgKSApXHJcblx0XHRcdH07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLl91aSA9IHRoaXMuX2VuaGFuY2UoIHRoZUVsZW1lbnQsIG15SWQgKTtcclxuXHRcdFx0dGhpcy5fYXBwbHlUcmFuc2l0aW9uKCBjdXJyZW50T3B0aW9ucy50cmFuc2l0aW9uICk7XHJcblx0XHR9XHJcblx0XHR0aGlzXHJcblx0XHRcdC5fc2V0VG9sZXJhbmNlKCBjdXJyZW50T3B0aW9ucy50b2xlcmFuY2UgKVxyXG5cdFx0XHQuX3VpLmZvY3VzRWxlbWVudCA9IHRoaXMuX3VpLmNvbnRhaW5lcjtcclxuXHJcblx0XHQvLyBFdmVudCBoYW5kbGVyc1xyXG5cdFx0dGhpcy5fb24oIHRoaXMuX3VpLnNjcmVlbiwgeyBcInZjbGlja1wiOiBcIl9lYXRFdmVudEFuZENsb3NlXCIgfSApO1xyXG5cdFx0dGhpcy5fb24oIHRoaXMud2luZG93LCB7XHJcblx0XHRcdG9yaWVudGF0aW9uY2hhbmdlOiAkLnByb3h5KCB0aGlzLCBcIl9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZVwiICksXHJcblx0XHRcdHJlc2l6ZTogJC5wcm94eSggdGhpcywgXCJfaGFuZGxlV2luZG93UmVzaXplXCIgKSxcclxuXHRcdFx0a2V5dXA6ICQucHJveHkoIHRoaXMsIFwiX2hhbmRsZVdpbmRvd0tleVVwXCIgKVxyXG5cdFx0fSk7XHJcblx0XHR0aGlzLl9vbiggdGhpcy5kb2N1bWVudCwgeyBcImZvY3VzaW5cIjogXCJfaGFuZGxlRG9jdW1lbnRGb2N1c0luXCIgfSApO1xyXG5cdH0sXHJcblxyXG5cdF9lbmhhbmNlOiBmdW5jdGlvbiggdGhlRWxlbWVudCwgbXlJZCApIHtcclxuXHRcdHZhciBjdXJyZW50T3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcclxuXHRcdFx0d3JhcHBlckNsYXNzID0gY3VycmVudE9wdGlvbnMud3JhcHBlckNsYXNzLFxyXG5cdFx0XHR1aSA9IHtcclxuXHRcdFx0XHRzY3JlZW46ICQoIFwiPGRpdiBjbGFzcz0ndWktc2NyZWVuLWhpZGRlbiB1aS1wb3B1cC1zY3JlZW4gXCIgK1xyXG5cdFx0XHRcdHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCBcInVpLW92ZXJsYXktXCIsIGN1cnJlbnRPcHRpb25zLm92ZXJsYXlUaGVtZSApICsgXCInPjwvZGl2PlwiICksXHJcblx0XHRcdFx0cGxhY2Vob2xkZXI6ICQoIFwiPGRpdiBzdHlsZT0nZGlzcGxheTogbm9uZTsnPjwhLS0gcGxhY2Vob2xkZXIgLS0+PC9kaXY+XCIgKSxcclxuXHRcdFx0XHRjb250YWluZXI6ICQoIFwiPGRpdiBjbGFzcz0ndWktcG9wdXAtY29udGFpbmVyIHVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZVwiICtcclxuXHRcdFx0XHRcdCggd3JhcHBlckNsYXNzID8gKCBcIiBcIiArIHdyYXBwZXJDbGFzcyApIDogXCJcIiApICsgXCInPjwvZGl2PlwiIClcclxuXHRcdFx0fSxcclxuXHRcdFx0ZnJhZ21lbnQgPSB0aGlzLmRvY3VtZW50WyAwIF0uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cclxuXHRcdGZyYWdtZW50LmFwcGVuZENoaWxkKCB1aS5zY3JlZW5bIDAgXSApO1xyXG5cdFx0ZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIHVpLmNvbnRhaW5lclsgMCBdICk7XHJcblxyXG5cdFx0aWYgKCBteUlkICkge1xyXG5cdFx0XHR1aS5zY3JlZW4uYXR0ciggXCJpZFwiLCBteUlkICsgXCItc2NyZWVuXCIgKTtcclxuXHRcdFx0dWkuY29udGFpbmVyLmF0dHIoIFwiaWRcIiwgbXlJZCArIFwiLXBvcHVwXCIgKTtcclxuXHRcdFx0dWkucGxhY2Vob2xkZXJcclxuXHRcdFx0XHQuYXR0ciggXCJpZFwiLCBteUlkICsgXCItcGxhY2Vob2xkZXJcIiApXHJcblx0XHRcdFx0Lmh0bWwoIFwiPCEtLSBwbGFjZWhvbGRlciBmb3IgXCIgKyBteUlkICsgXCIgLS0+XCIgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBBcHBseSB0aGUgcHJvdG9cclxuXHRcdHRoaXMuX3BhZ2VbIDAgXS5hcHBlbmRDaGlsZCggZnJhZ21lbnQgKTtcclxuXHRcdC8vIExlYXZlIGEgcGxhY2Vob2xkZXIgd2hlcmUgdGhlIGVsZW1lbnQgdXNlZCB0byBiZVxyXG5cdFx0dWkucGxhY2Vob2xkZXIuaW5zZXJ0QWZ0ZXIoIHRoZUVsZW1lbnQgKTtcclxuXHRcdHRoZUVsZW1lbnRcclxuXHRcdFx0LmRldGFjaCgpXHJcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1wb3B1cCBcIiArXHJcblx0XHRcdFx0dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oIFwidWktYm9keS1cIiwgY3VycmVudE9wdGlvbnMudGhlbWUgKSArIFwiIFwiICtcclxuXHRcdFx0XHQoIGN1cnJlbnRPcHRpb25zLnNoYWRvdyA/IFwidWktb3ZlcmxheS1zaGFkb3cgXCIgOiBcIlwiICkgK1xyXG5cdFx0XHRcdCggY3VycmVudE9wdGlvbnMuY29ybmVycyA/IFwidWktY29ybmVyLWFsbCBcIiA6IFwiXCIgKSApXHJcblx0XHRcdC5hcHBlbmRUbyggdWkuY29udGFpbmVyICk7XHJcblxyXG5cdFx0cmV0dXJuIHVpO1xyXG5cdH0sXHJcblxyXG5cdF9lYXRFdmVudEFuZENsb3NlOiBmdW5jdGlvbiggdGhlRXZlbnQgKSB7XHJcblx0XHR0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0dGhlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSApIHtcclxuXHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH0sXHJcblxyXG5cdC8vIE1ha2Ugc3VyZSB0aGUgc2NyZWVuIGNvdmVycyB0aGUgZW50aXJlIGRvY3VtZW50IC0gQ1NTIGlzIHNvbWV0aW1lcyBub3RcclxuXHQvLyBlbm91Z2ggdG8gYWNjb21wbGlzaCB0aGlzLlxyXG5cdF9yZXNpemVTY3JlZW46IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHNjcmVlbiA9IHRoaXMuX3VpLnNjcmVlbixcclxuXHRcdFx0cG9wdXBIZWlnaHQgPSB0aGlzLl91aS5jb250YWluZXIub3V0ZXJIZWlnaHQoIHRydWUgKSxcclxuXHRcdFx0c2NyZWVuSGVpZ2h0ID0gc2NyZWVuLnJlbW92ZUF0dHIoIFwic3R5bGVcIiApLmhlaWdodCgpLFxyXG5cclxuXHRcdFx0Ly8gU3VidHJhY3RpbmcgMSBoZXJlIGlzIG5lY2Vzc2FyeSBmb3IgYW4gb2JzY3VyZSBBbmRyZG9pZCA0LjAgYnVnIHdoZXJlXHJcblx0XHRcdC8vIHRoZSBicm93c2VyIGhhbmdzIGlmIHRoZSBzY3JlZW4gY292ZXJzIHRoZSBlbnRpcmUgZG9jdW1lbnQgOi9cclxuXHRcdFx0ZG9jdW1lbnRIZWlnaHQgPSB0aGlzLmRvY3VtZW50LmhlaWdodCgpIC0gMTtcclxuXHJcblx0XHRpZiAoIHNjcmVlbkhlaWdodCA8IGRvY3VtZW50SGVpZ2h0ICkge1xyXG5cdFx0XHRzY3JlZW4uaGVpZ2h0KCBkb2N1bWVudEhlaWdodCApO1xyXG5cdFx0fSBlbHNlIGlmICggcG9wdXBIZWlnaHQgPiBzY3JlZW5IZWlnaHQgKSB7XHJcblx0XHRcdHNjcmVlbi5oZWlnaHQoIHBvcHVwSGVpZ2h0ICk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2hhbmRsZVdpbmRvd0tleVVwOiBmdW5jdGlvbiggdGhlRXZlbnQgKSB7XHJcblx0XHRpZiAoIHRoaXMuX2lzT3BlbiAmJiB0aGVFdmVudC5rZXlDb2RlID09PSAkLm1vYmlsZS5rZXlDb2RlLkVTQ0FQRSApIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX2VhdEV2ZW50QW5kQ2xvc2UoIHRoZUV2ZW50ICk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2V4cGVjdFJlc2l6ZUV2ZW50OiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciB3aW5kb3dDb29yZGluYXRlcyA9IGdldFdpbmRvd0Nvb3JkaW5hdGVzKCB0aGlzLndpbmRvdyApO1xyXG5cclxuXHRcdGlmICggdGhpcy5fcmVzaXplRGF0YSApIHtcclxuXHRcdFx0aWYgKCB3aW5kb3dDb29yZGluYXRlcy54ID09PSB0aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLnggJiZcclxuXHRcdFx0XHR3aW5kb3dDb29yZGluYXRlcy55ID09PSB0aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLnkgJiZcclxuXHRcdFx0XHR3aW5kb3dDb29yZGluYXRlcy5jeCA9PT0gdGhpcy5fcmVzaXplRGF0YS53aW5kb3dDb29yZGluYXRlcy5jeCAmJlxyXG5cdFx0XHRcdHdpbmRvd0Nvb3JkaW5hdGVzLmN5ID09PSB0aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLmN5ICkge1xyXG5cdFx0XHRcdC8vIHRpbWVvdXQgbm90IHJlZnJlc2hlZFxyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBjbGVhciBleGlzdGluZyB0aW1lb3V0IC0gaXQgd2lsbCBiZSByZWZyZXNoZWQgYmVsb3dcclxuXHRcdFx0XHRjbGVhclRpbWVvdXQoIHRoaXMuX3Jlc2l6ZURhdGEudGltZW91dElkICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9yZXNpemVEYXRhID0ge1xyXG5cdFx0XHR0aW1lb3V0SWQ6IHRoaXMuX2RlbGF5KCBcIl9yZXNpemVUaW1lb3V0XCIsIDIwMCApLFxyXG5cdFx0XHR3aW5kb3dDb29yZGluYXRlczogd2luZG93Q29vcmRpbmF0ZXNcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSxcclxuXHJcblx0X3Jlc2l6ZVRpbWVvdXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKCB0aGlzLl9pc09wZW4gKSB7XHJcblx0XHRcdGlmICggIXRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCkgKSB7XHJcblx0XHRcdFx0aWYgKCB0aGlzLl91aS5jb250YWluZXIuaGFzQ2xhc3MoIFwidWktcG9wdXAtaGlkZGVuXCIgKSApIHtcclxuXHRcdFx0XHRcdC8vIGVmZmVjdGl2ZWx5IHJhcGlkLW9wZW4gdGhlIHBvcHVwIHdoaWxlIGxlYXZpbmcgdGhlIHNjcmVlbiBpbnRhY3RcclxuXHRcdFx0XHRcdHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyggXCJ1aS1wb3B1cC1oaWRkZW4gdWktcG9wdXAtdHJ1bmNhdGVcIiApO1xyXG5cdFx0XHRcdFx0dGhpcy5yZXBvc2l0aW9uKCB7IHBvc2l0aW9uVG86IFwid2luZG93XCIgfSApO1xyXG5cdFx0XHRcdFx0dGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR0aGlzLl9yZXNpemVTY3JlZW4oKTtcclxuXHRcdFx0XHR0aGlzLl9yZXNpemVEYXRhID0gbnVsbDtcclxuXHRcdFx0XHR0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5fcmVzaXplRGF0YSA9IG51bGw7XHJcblx0XHRcdHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9zdG9wSWdub3JpbmdSZXNpemVFdmVudHM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5faWdub3JlUmVzaXplVG8gPSAwO1xyXG5cdH0sXHJcblxyXG5cdF9pZ25vcmVSZXNpemVFdmVudHM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKCB0aGlzLl9pZ25vcmVSZXNpemVUbyApIHtcclxuXHRcdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLl9pZ25vcmVSZXNpemVUbyApO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5faWdub3JlUmVzaXplVG8gPSB0aGlzLl9kZWxheSggXCJfc3RvcElnbm9yaW5nUmVzaXplRXZlbnRzXCIsIDEwMDAgKTtcclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlV2luZG93UmVzaXplOiBmdW5jdGlvbigvKiB0aGVFdmVudCAqLykge1xyXG5cdFx0aWYgKCB0aGlzLl9pc09wZW4gJiYgdGhpcy5faWdub3JlUmVzaXplVG8gPT09IDAgKSB7XHJcblx0XHRcdGlmICggKCB0aGlzLl9leHBlY3RSZXNpemVFdmVudCgpIHx8IHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcyApICYmXHJcblx0XHRcdFx0IXRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcyggXCJ1aS1wb3B1cC1oaWRkZW5cIiApICkge1xyXG5cdFx0XHRcdC8vIGVmZmVjdGl2ZWx5IHJhcGlkLWNsb3NlIHRoZSBwb3B1cCB3aGlsZSBsZWF2aW5nIHRoZSBzY3JlZW4gaW50YWN0XHJcblx0XHRcdFx0dGhpcy5fdWkuY29udGFpbmVyXHJcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlXCIgKVxyXG5cdFx0XHRcdFx0LnJlbW92ZUF0dHIoIFwic3R5bGVcIiApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2hhbmRsZVdpbmRvd09yaWVudGF0aW9uY2hhbmdlOiBmdW5jdGlvbigvKiB0aGVFdmVudCAqLykge1xyXG5cdFx0aWYgKCAhdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzICYmIHRoaXMuX2lzT3BlbiAmJiB0aGlzLl9pZ25vcmVSZXNpemVUbyA9PT0gMCApIHtcclxuXHRcdFx0dGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKTtcclxuXHRcdFx0dGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBXaGVuIHRoZSBwb3B1cCBpcyBvcGVuLCBhdHRlbXB0aW5nIHRvIGZvY3VzIG9uIGFuIGVsZW1lbnQgdGhhdCBpcyBub3QgYVxyXG5cdC8vIGNoaWxkIG9mIHRoZSBwb3B1cCB3aWxsIHJlZGlyZWN0IGZvY3VzIHRvIHRoZSBwb3B1cFxyXG5cdF9oYW5kbGVEb2N1bWVudEZvY3VzSW46IGZ1bmN0aW9uKCB0aGVFdmVudCApIHtcclxuXHRcdHZhciB0YXJnZXQsXHJcblx0XHRcdHRhcmdldEVsZW1lbnQgPSB0aGVFdmVudC50YXJnZXQsXHJcblx0XHRcdHVpID0gdGhpcy5fdWk7XHJcblxyXG5cdFx0aWYgKCAhdGhpcy5faXNPcGVuICkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCB0YXJnZXRFbGVtZW50ICE9PSB1aS5jb250YWluZXJbIDAgXSApIHtcclxuXHRcdFx0dGFyZ2V0ID0gJCggdGFyZ2V0RWxlbWVudCApO1xyXG5cdFx0XHRpZiAoICEkLmNvbnRhaW5zKCB1aS5jb250YWluZXJbIDAgXSwgdGFyZ2V0RWxlbWVudCApICkge1xyXG5cdFx0XHRcdCQoIHRoaXMuZG9jdW1lbnRbIDAgXS5hY3RpdmVFbGVtZW50ICkub25lKCBcImZvY3VzXCIsICQucHJveHkoIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dGhpcy5fc2FmZWx5Qmx1ciggdGFyZ2V0RWxlbWVudCApO1xyXG5cdFx0XHRcdH0sIHRoaXMgKSApO1xyXG5cdFx0XHRcdHVpLmZvY3VzRWxlbWVudC5mb2N1cygpO1xyXG5cdFx0XHRcdHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0dGhlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCB1aS5mb2N1c0VsZW1lbnRbIDAgXSA9PT0gdWkuY29udGFpbmVyWyAwIF0gKSB7XHJcblx0XHRcdFx0dWkuZm9jdXNFbGVtZW50ID0gdGFyZ2V0O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCk7XHJcblx0fSxcclxuXHJcblx0X3RoZW1lQ2xhc3NGcm9tT3B0aW9uOiBmdW5jdGlvbiggcHJlZml4LCB2YWx1ZSApIHtcclxuXHRcdHJldHVybiAoIHZhbHVlID8gKCB2YWx1ZSA9PT0gXCJub25lXCIgPyBcIlwiIDogKCBwcmVmaXggKyB2YWx1ZSApICkgOiAoIHByZWZpeCArIFwiaW5oZXJpdFwiICkgKTtcclxuXHR9LFxyXG5cclxuXHRfYXBwbHlUcmFuc2l0aW9uOiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcblx0XHRpZiAoIHZhbHVlICkge1xyXG5cdFx0XHR0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3MoIHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbiApO1xyXG5cdFx0XHRpZiAoIHZhbHVlICE9PSBcIm5vbmVcIiApIHtcclxuXHRcdFx0XHR0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24gPSAkLm1vYmlsZS5fbWF5YmVEZWdyYWRlVHJhbnNpdGlvbiggdmFsdWUgKTtcclxuXHRcdFx0XHRpZiAoIHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbiA9PT0gXCJub25lXCIgKSB7XHJcblx0XHRcdFx0XHR0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24gPSBcIlwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoIHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbiApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X3NldE9wdGlvbnM6IGZ1bmN0aW9uKCBuZXdPcHRpb25zICkge1xyXG5cdFx0dmFyIGN1cnJlbnRPcHRpb25zID0gdGhpcy5vcHRpb25zLFxyXG5cdFx0XHR0aGVFbGVtZW50ID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHRzY3JlZW4gPSB0aGlzLl91aS5zY3JlZW47XHJcblxyXG5cdFx0aWYgKCBuZXdPcHRpb25zLndyYXBwZXJDbGFzcyAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHR0aGlzLl91aS5jb250YWluZXJcclxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIGN1cnJlbnRPcHRpb25zLndyYXBwZXJDbGFzcyApXHJcblx0XHRcdFx0LmFkZENsYXNzKCBuZXdPcHRpb25zLndyYXBwZXJDbGFzcyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggbmV3T3B0aW9ucy50aGVtZSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHR0aGVFbGVtZW50XHJcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCB0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbiggXCJ1aS1ib2R5LVwiLCBjdXJyZW50T3B0aW9ucy50aGVtZSApIClcclxuXHRcdFx0XHQuYWRkQ2xhc3MoIHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCBcInVpLWJvZHktXCIsIG5ld09wdGlvbnMudGhlbWUgKSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggbmV3T3B0aW9ucy5vdmVybGF5VGhlbWUgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0c2NyZWVuXHJcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCB0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbiggXCJ1aS1vdmVybGF5LVwiLCBjdXJyZW50T3B0aW9ucy5vdmVybGF5VGhlbWUgKSApXHJcblx0XHRcdFx0LmFkZENsYXNzKCB0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbiggXCJ1aS1vdmVybGF5LVwiLCBuZXdPcHRpb25zLm92ZXJsYXlUaGVtZSApICk7XHJcblxyXG5cdFx0XHRpZiAoIHRoaXMuX2lzT3BlbiApIHtcclxuXHRcdFx0XHRzY3JlZW4uYWRkQ2xhc3MoIFwiaW5cIiApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBuZXdPcHRpb25zLnNoYWRvdyAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHR0aGVFbGVtZW50LnRvZ2dsZUNsYXNzKCBcInVpLW92ZXJsYXktc2hhZG93XCIsIG5ld09wdGlvbnMuc2hhZG93ICk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBuZXdPcHRpb25zLmNvcm5lcnMgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0dGhlRWxlbWVudC50b2dnbGVDbGFzcyggXCJ1aS1jb3JuZXItYWxsXCIsIG5ld09wdGlvbnMuY29ybmVycyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggbmV3T3B0aW9ucy50cmFuc2l0aW9uICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdGlmICggIXRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uICkge1xyXG5cdFx0XHRcdHRoaXMuX2FwcGx5VHJhbnNpdGlvbiggbmV3T3B0aW9ucy50cmFuc2l0aW9uICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIG5ld09wdGlvbnMudG9sZXJhbmNlICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHRoaXMuX3NldFRvbGVyYW5jZSggbmV3T3B0aW9ucy50b2xlcmFuY2UgKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIG5ld09wdGlvbnMuZGlzYWJsZWQgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0aWYgKCBuZXdPcHRpb25zLmRpc2FibGVkICkge1xyXG5cdFx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLl9zdXBlciggbmV3T3B0aW9ucyApO1xyXG5cdH0sXHJcblxyXG5cdF9zZXRUb2xlcmFuY2U6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuXHRcdHZhciB0b2wgPSB7IHQ6IDMwLCByOiAxNSwgYjogMzAsIGw6IDE1IH0sXHJcblx0XHRcdGFyO1xyXG5cclxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0YXIgPSBTdHJpbmcoIHZhbHVlICkuc3BsaXQoIFwiLFwiICk7XHJcblxyXG5cdFx0XHQkLmVhY2goIGFyLCBmdW5jdGlvbiggaWR4LCB2YWwgKSB7IGFyWyBpZHggXSA9IHBhcnNlSW50KCB2YWwsIDEwICk7IH0gKTtcclxuXHJcblx0XHRcdHN3aXRjaCggYXIubGVuZ3RoICkge1xyXG5cdFx0XHRcdC8vIEFsbCB2YWx1ZXMgYXJlIHRvIGJlIHRoZSBzYW1lXHJcblx0XHRcdFx0Y2FzZSAxOlxyXG5cdFx0XHRcdFx0aWYgKCAhaXNOYU4oIGFyWyAwIF0gKSApIHtcclxuXHRcdFx0XHRcdFx0dG9sLnQgPSB0b2wuciA9IHRvbC5iID0gdG9sLmwgPSBhclsgMCBdO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdC8vIFRoZSBmaXJzdCB2YWx1ZSBkZW5vdGVzIHRvcC9ib3R0b20gdG9sZXJhbmNlLCBhbmQgdGhlIHNlY29uZCB2YWx1ZSBkZW5vdGVzIGxlZnQvcmlnaHQgdG9sZXJhbmNlXHJcblx0XHRcdFx0Y2FzZSAyOlxyXG5cdFx0XHRcdFx0aWYgKCAhaXNOYU4oIGFyWyAwIF0gKSApIHtcclxuXHRcdFx0XHRcdFx0dG9sLnQgPSB0b2wuYiA9IGFyWyAwIF07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoICFpc05hTiggYXJbIDEgXSApICkge1xyXG5cdFx0XHRcdFx0XHR0b2wubCA9IHRvbC5yID0gYXJbIDEgXTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHQvLyBUaGUgYXJyYXkgY29udGFpbnMgdmFsdWVzIGluIHRoZSBvcmRlciB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnRcclxuXHRcdFx0XHRjYXNlIDQ6XHJcblx0XHRcdFx0XHRpZiAoICFpc05hTiggYXJbIDAgXSApICkge1xyXG5cdFx0XHRcdFx0XHR0b2wudCA9IGFyWyAwIF07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoICFpc05hTiggYXJbIDEgXSApICkge1xyXG5cdFx0XHRcdFx0XHR0b2wuciA9IGFyWyAxIF07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoICFpc05hTiggYXJbIDIgXSApICkge1xyXG5cdFx0XHRcdFx0XHR0b2wuYiA9IGFyWyAyIF07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoICFpc05hTiggYXJbIDMgXSApICkge1xyXG5cdFx0XHRcdFx0XHR0b2wubCA9IGFyWyAzIF07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fdG9sZXJhbmNlID0gdG9sO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X2NsYW1wUG9wdXBXaWR0aDogZnVuY3Rpb24oIGluZm9Pbmx5ICkge1xyXG5cdFx0dmFyIG1lbnVTaXplLFxyXG5cdFx0XHR3aW5kb3dDb29yZGluYXRlcyA9IGdldFdpbmRvd0Nvb3JkaW5hdGVzKCB0aGlzLndpbmRvdyApLFxyXG5cdFx0XHQvLyByZWN0YW5nbGUgd2l0aGluIHdoaWNoIHRoZSBwb3B1cCBtdXN0IGZpdFxyXG5cdFx0XHRyZWN0YW5nbGUgPSB7XHJcblx0XHRcdFx0eDogdGhpcy5fdG9sZXJhbmNlLmwsXHJcblx0XHRcdFx0eTogd2luZG93Q29vcmRpbmF0ZXMueSArIHRoaXMuX3RvbGVyYW5jZS50LFxyXG5cdFx0XHRcdGN4OiB3aW5kb3dDb29yZGluYXRlcy5jeCAtIHRoaXMuX3RvbGVyYW5jZS5sIC0gdGhpcy5fdG9sZXJhbmNlLnIsXHJcblx0XHRcdFx0Y3k6IHdpbmRvd0Nvb3JkaW5hdGVzLmN5IC0gdGhpcy5fdG9sZXJhbmNlLnQgLSB0aGlzLl90b2xlcmFuY2UuYlxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdGlmICggIWluZm9Pbmx5ICkge1xyXG5cdFx0XHQvLyBDbGFtcCB0aGUgd2lkdGggb2YgdGhlIG1lbnUgYmVmb3JlIGdyYWJiaW5nIGl0cyBzaXplXHJcblx0XHRcdHRoaXMuX3VpLmNvbnRhaW5lci5jc3MoIFwibWF4LXdpZHRoXCIsIHJlY3RhbmdsZS5jeCApO1xyXG5cdFx0fVxyXG5cclxuXHRcdG1lbnVTaXplID0ge1xyXG5cdFx0XHRjeDogdGhpcy5fdWkuY29udGFpbmVyLm91dGVyV2lkdGgoIHRydWUgKSxcclxuXHRcdFx0Y3k6IHRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCggdHJ1ZSApXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiB7IHJjOiByZWN0YW5nbGUsIG1lbnVTaXplOiBtZW51U2l6ZSB9O1xyXG5cdH0sXHJcblxyXG5cdF9jYWxjdWxhdGVGaW5hbExvY2F0aW9uOiBmdW5jdGlvbiggZGVzaXJlZCwgY2xhbXBJbmZvICkge1xyXG5cdFx0dmFyIHJldHVyblZhbHVlLFxyXG5cdFx0XHRyZWN0YW5nbGUgPSBjbGFtcEluZm8ucmMsXHJcblx0XHRcdG1lbnVTaXplID0gY2xhbXBJbmZvLm1lbnVTaXplO1xyXG5cclxuXHRcdC8vIENlbnRlciB0aGUgbWVudSBvdmVyIHRoZSBkZXNpcmVkIGNvb3JkaW5hdGVzLCB3aGlsZSBub3QgZ29pbmcgb3V0c2lkZVxyXG5cdFx0Ly8gdGhlIHdpbmRvdyB0b2xlcmFuY2VzLiBUaGlzIHdpbGwgY2VudGVyIHdydC4gdGhlIHdpbmRvdyBpZiB0aGUgcG9wdXAgaXNcclxuXHRcdC8vIHRvbyBsYXJnZS5cclxuXHRcdHJldHVyblZhbHVlID0ge1xyXG5cdFx0XHRsZWZ0OiBmaXRTZWdtZW50SW5zaWRlU2VnbWVudCggcmVjdGFuZ2xlLmN4LCBtZW51U2l6ZS5jeCwgcmVjdGFuZ2xlLngsIGRlc2lyZWQueCApLFxyXG5cdFx0XHR0b3A6IGZpdFNlZ21lbnRJbnNpZGVTZWdtZW50KCByZWN0YW5nbGUuY3ksIG1lbnVTaXplLmN5LCByZWN0YW5nbGUueSwgZGVzaXJlZC55IClcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gTWFrZSBzdXJlIHRoZSB0b3Agb2YgdGhlIG1lbnUgaXMgdmlzaWJsZVxyXG5cdFx0cmV0dXJuVmFsdWUudG9wID0gTWF0aC5tYXgoIDAsIHJldHVyblZhbHVlLnRvcCApO1xyXG5cclxuXHRcdC8vIElmIHRoZSBoZWlnaHQgb2YgdGhlIG1lbnUgaXMgc21hbGxlciB0aGFuIHRoZSBoZWlnaHQgb2YgdGhlIGRvY3VtZW50XHJcblx0XHQvLyBhbGlnbiB0aGUgYm90dG9tIHdpdGggdGhlIGJvdHRvbSBvZiB0aGUgZG9jdW1lbnRcclxuXHJcblx0XHRyZXR1cm5WYWx1ZS50b3AgLT0gTWF0aC5taW4oIHJldHVyblZhbHVlLnRvcCxcclxuXHRcdFx0TWF0aC5tYXgoIDAsIHJldHVyblZhbHVlLnRvcCArIG1lbnVTaXplLmN5IC0gdGhpcy5kb2N1bWVudC5oZWlnaHQoKSApICk7XHJcblxyXG5cdFx0cmV0dXJuIHJldHVyblZhbHVlO1xyXG5cdH0sXHJcblxyXG5cdC8vIFRyeSBhbmQgY2VudGVyIHRoZSBvdmVybGF5IG92ZXIgdGhlIGdpdmVuIGNvb3JkaW5hdGVzXHJcblx0X3BsYWNlbWVudENvb3JkczogZnVuY3Rpb24oIGRlc2lyZWQgKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fY2FsY3VsYXRlRmluYWxMb2NhdGlvbiggZGVzaXJlZCwgdGhpcy5fY2xhbXBQb3B1cFdpZHRoKCkgKTtcclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlUHJlcmVxdWlzaXRlczogZnVuY3Rpb24oIHNjcmVlblByZXJlcXVpc2l0ZSwgY29udGFpbmVyUHJlcmVxdWlzaXRlLCB3aGVuRG9uZSApIHtcclxuXHRcdHZhciBwcmVyZXF1aXNpdGVzLFxyXG5cdFx0XHRzZWxmID0gdGhpcztcclxuXHJcblx0XHQvLyBJdCBpcyBpbXBvcnRhbnQgdG8gbWFpbnRhaW4gYm90aCB0aGUgbG9jYWwgdmFyaWFibGUgcHJlcmVxdWlzaXRlcyBhbmRcclxuXHRcdC8vIHNlbGYuX3ByZXJlcXVpc2l0ZXMuIFRoZSBsb2NhbCB2YXJpYWJsZSByZW1haW5zIGluIHRoZSBjbG9zdXJlIG9mIHRoZVxyXG5cdFx0Ly8gZnVuY3Rpb25zIHdoaWNoIGNhbGwgdGhlIGNhbGxiYWNrcyBwYXNzZWQgaW4uIFRoZSBjb21wYXJpc29uIGJldHdlZW4gdGhlXHJcblx0XHQvLyBsb2NhbCB2YXJpYWJsZSBhbmQgc2VsZi5fcHJlcmVxdWlzaXRlcyBpcyBuZWNlc3NhcnksIGJlY2F1c2Ugb25jZSBhXHJcblx0XHQvLyBmdW5jdGlvbiBoYXMgYmVlbiBwYXNzZWQgdG8gLmFuaW1hdGlvbkNvbXBsZXRlKCkgaXQgd2lsbCBiZSBjYWxsZWQgbmV4dFxyXG5cdFx0Ly8gdGltZSBhbiBhbmltYXRpb24gY29tcGxldGVzLCBldmVuIGlmIHRoYXQncyBub3QgdGhlIGFuaW1hdGlvbiB3aG9zZSBlbmRcclxuXHRcdC8vIHRoZSBmdW5jdGlvbiB3YXMgc3VwcG9zZWQgdG8gY2F0Y2ggKGZvciBleGFtcGxlLCBpZiBhbiBhYm9ydCBoYXBwZW5zXHJcblx0XHQvLyBkdXJpbmcgdGhlIG9wZW5pbmcgYW5pbWF0aW9uLCB0aGUgLmFuaW1hdGlvbkNvbXBsZXRlIGhhbmRsZXIgaXMgbm90XHJcblx0XHQvLyBjYWxsZWQgZm9yIHRoYXQgYW5pbWF0aW9uIGFueW1vcmUsIGJ1dCB0aGUgaGFuZGxlciByZW1haW5zIGF0dGFjaGVkLCBzb1xyXG5cdFx0Ly8gaXQgaXMgY2FsbGVkIHRoZSBuZXh0IHRpbWUgdGhlIHBvcHVwIGlzIG9wZW5lZCAtIG1ha2luZyBpdCBzdGFsZS5cclxuXHRcdC8vIENvbXBhcmluZyB0aGUgbG9jYWwgdmFyaWFibGUgcHJlcmVxdWlzaXRlcyB0byB0aGUgd2lkZ2V0LWxldmVsIHZhcmlhYmxlXHJcblx0XHQvLyBzZWxmLl9wcmVyZXF1aXNpdGVzIGVuc3VyZXMgdGhhdCBjYWxsYmFja3MgdHJpZ2dlcmVkIGJ5IGEgc3RhbGVcclxuXHRcdC8vIC5hbmltYXRpb25Db21wbGV0ZSB3aWxsIGJlIGlnbm9yZWQuXHJcblxyXG5cdFx0cHJlcmVxdWlzaXRlcyA9IHtcclxuXHRcdFx0c2NyZWVuOiAkLkRlZmVycmVkKCksXHJcblx0XHRcdGNvbnRhaW5lcjogJC5EZWZlcnJlZCgpXHJcblx0XHR9O1xyXG5cclxuXHRcdHByZXJlcXVpc2l0ZXMuc2NyZWVuLnRoZW4oIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoIHByZXJlcXVpc2l0ZXMgPT09IHNlbGYuX3ByZXJlcXVpc2l0ZXMgKSB7XHJcblx0XHRcdFx0c2NyZWVuUHJlcmVxdWlzaXRlKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHByZXJlcXVpc2l0ZXMuY29udGFpbmVyLnRoZW4oIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoIHByZXJlcXVpc2l0ZXMgPT09IHNlbGYuX3ByZXJlcXVpc2l0ZXMgKSB7XHJcblx0XHRcdFx0Y29udGFpbmVyUHJlcmVxdWlzaXRlKCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdCQud2hlbiggcHJlcmVxdWlzaXRlcy5zY3JlZW4sIHByZXJlcXVpc2l0ZXMuY29udGFpbmVyICkuZG9uZSggZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICggcHJlcmVxdWlzaXRlcyA9PT0gc2VsZi5fcHJlcmVxdWlzaXRlcyApIHtcclxuXHRcdFx0XHRzZWxmLl9wcmVyZXF1aXNpdGVzID0gbnVsbDtcclxuXHRcdFx0XHR3aGVuRG9uZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRzZWxmLl9wcmVyZXF1aXNpdGVzID0gcHJlcmVxdWlzaXRlcztcclxuXHR9LFxyXG5cclxuXHRfYW5pbWF0ZTogZnVuY3Rpb24oIGFyZ3MgKSB7XHJcblx0XHQvLyBOT1RFIGJlZm9yZSByZW1vdmluZyB0aGUgZGVmYXVsdCBhbmltYXRpb24gb2YgdGhlIHNjcmVlblxyXG5cdFx0Ly8gICAgICB0aGlzIGhhZCBhbiBhbmltYXRlIGNhbGxiYWNrIHRoYXQgd291bGQgcmVzb2x2ZSB0aGUgZGVmZXJyZWRcclxuXHRcdC8vICAgICAgbm93IHRoZSBkZWZlcnJlZCBpcyByZXNvbHZlZCBpbW1lZGlhdGVseVxyXG5cdFx0Ly8gVE9ETyByZW1vdmUgdGhlIGRlcGVuZGVuY3kgb24gdGhlIHNjcmVlbiBkZWZlcnJlZFxyXG5cdFx0dGhpcy5fdWkuc2NyZWVuXHJcblx0XHRcdC5yZW1vdmVDbGFzcyggYXJncy5jbGFzc1RvUmVtb3ZlIClcclxuXHRcdFx0LmFkZENsYXNzKCBhcmdzLnNjcmVlbkNsYXNzVG9BZGQgKTtcclxuXHJcblx0XHRhcmdzLnByZXJlcXVpc2l0ZXMuc2NyZWVuLnJlc29sdmUoKTtcclxuXHJcblx0XHRpZiAoIGFyZ3MudHJhbnNpdGlvbiAmJiBhcmdzLnRyYW5zaXRpb24gIT09IFwibm9uZVwiICkge1xyXG5cdFx0XHRpZiAoIGFyZ3MuYXBwbHlUcmFuc2l0aW9uICkge1xyXG5cdFx0XHRcdHRoaXMuX2FwcGx5VHJhbnNpdGlvbiggYXJncy50cmFuc2l0aW9uICk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCB0aGlzLl9mYWxsYmFja1RyYW5zaXRpb24gKSB7XHJcblx0XHRcdFx0dGhpcy5fdWkuY29udGFpbmVyXHJcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIGFyZ3MuY29udGFpbmVyQ2xhc3NUb0FkZCApXHJcblx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoIGFyZ3MuY2xhc3NUb1JlbW92ZSApXHJcblx0XHRcdFx0XHQuYW5pbWF0aW9uQ29tcGxldGUoICQucHJveHkoIGFyZ3MucHJlcmVxdWlzaXRlcy5jb250YWluZXIsIFwicmVzb2x2ZVwiICkgKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyggYXJncy5jbGFzc1RvUmVtb3ZlICk7XHJcblx0XHRhcmdzLnByZXJlcXVpc2l0ZXMuY29udGFpbmVyLnJlc29sdmUoKTtcclxuXHR9LFxyXG5cclxuXHQvLyBUaGUgZGVzaXJlZCBjb29yZGluYXRlcyBwYXNzZWQgaW4gd2lsbCBiZSByZXR1cm5lZCB1bnRvdWNoZWQgaWYgbm8gcmVmZXJlbmNlIGVsZW1lbnQgY2FuIGJlIGlkZW50aWZpZWQgdmlhXHJcblx0Ly8gZGVzaXJlZFBvc2l0aW9uLnBvc2l0aW9uVG8uIE5ldmVydGhlbGVzcywgdGhpcyBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgaXRzIHJldHVybiB2YWx1ZSBhbHdheXMgY29udGFpbnMgdmFsaWRcclxuXHQvLyB4IGFuZCB5IGNvb3JkaW5hdGVzIGJ5IHNwZWNpZnlpbmcgdGhlIGNlbnRlciBtaWRkbGUgb2YgdGhlIHdpbmRvdyBpZiB0aGUgY29vcmRpbmF0ZXMgYXJlIGFic2VudC5cclxuXHQvLyBvcHRpb25zOiB7IHg6IGNvb3JkaW5hdGUsIHk6IGNvb3JkaW5hdGUsIHBvc2l0aW9uVG86IHN0cmluZzogXCJvcmlnaW5cIiwgXCJ3aW5kb3dcIiwgb3IgalF1ZXJ5IHNlbGVjdG9yXHJcblx0X2Rlc2lyZWRDb29yZHM6IGZ1bmN0aW9uKCBvcGVuT3B0aW9ucyApIHtcclxuXHRcdHZhciBvZmZzZXQsXHJcblx0XHRcdGRzdCA9IG51bGwsXHJcblx0XHRcdHdpbmRvd0Nvb3JkaW5hdGVzID0gZ2V0V2luZG93Q29vcmRpbmF0ZXMoIHRoaXMud2luZG93ICksXHJcblx0XHRcdHggPSBvcGVuT3B0aW9ucy54LFxyXG5cdFx0XHR5ID0gb3Blbk9wdGlvbnMueSxcclxuXHRcdFx0cFRvID0gb3Blbk9wdGlvbnMucG9zaXRpb25UbztcclxuXHJcblx0XHQvLyBFc3RhYmxpc2ggd2hpY2ggZWxlbWVudCB3aWxsIHNlcnZlIGFzIHRoZSByZWZlcmVuY2VcclxuXHRcdGlmICggcFRvICYmIHBUbyAhPT0gXCJvcmlnaW5cIiApIHtcclxuXHRcdFx0aWYgKCBwVG8gPT09IFwid2luZG93XCIgKSB7XHJcblx0XHRcdFx0eCA9IHdpbmRvd0Nvb3JkaW5hdGVzLmN4IC8gMiArIHdpbmRvd0Nvb3JkaW5hdGVzLng7XHJcblx0XHRcdFx0eSA9IHdpbmRvd0Nvb3JkaW5hdGVzLmN5IC8gMiArIHdpbmRvd0Nvb3JkaW5hdGVzLnk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdGRzdCA9ICQoIHBUbyApO1xyXG5cdFx0XHRcdH0gY2F0Y2goIGVyciApIHtcclxuXHRcdFx0XHRcdGRzdCA9IG51bGw7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICggZHN0ICkge1xyXG5cdFx0XHRcdFx0ZHN0LmZpbHRlciggXCI6dmlzaWJsZVwiICk7XHJcblx0XHRcdFx0XHRpZiAoIGRzdC5sZW5ndGggPT09IDAgKSB7XHJcblx0XHRcdFx0XHRcdGRzdCA9IG51bGw7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSWYgYW4gZWxlbWVudCB3YXMgZm91bmQsIGNlbnRlciBvdmVyIGl0XHJcblx0XHRpZiAoIGRzdCApIHtcclxuXHRcdFx0b2Zmc2V0ID0gZHN0Lm9mZnNldCgpO1xyXG5cdFx0XHR4ID0gb2Zmc2V0LmxlZnQgKyBkc3Qub3V0ZXJXaWR0aCgpIC8gMjtcclxuXHRcdFx0eSA9IG9mZnNldC50b3AgKyBkc3Qub3V0ZXJIZWlnaHQoKSAvIDI7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTWFrZSBzdXJlIHggYW5kIHkgYXJlIHZhbGlkIG51bWJlcnMgLSBjZW50ZXIgb3ZlciB0aGUgd2luZG93XHJcblx0XHRpZiAoICQudHlwZSggeCApICE9PSBcIm51bWJlclwiIHx8IGlzTmFOKCB4ICkgKSB7XHJcblx0XHRcdHggPSB3aW5kb3dDb29yZGluYXRlcy5jeCAvIDIgKyB3aW5kb3dDb29yZGluYXRlcy54O1xyXG5cdFx0fVxyXG5cdFx0aWYgKCAkLnR5cGUoIHkgKSAhPT0gXCJudW1iZXJcIiB8fCBpc05hTiggeSApICkge1xyXG5cdFx0XHR5ID0gd2luZG93Q29vcmRpbmF0ZXMuY3kgLyAyICsgd2luZG93Q29vcmRpbmF0ZXMueTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4geyB4OiB4LCB5OiB5IH07XHJcblx0fSxcclxuXHJcblx0X3JlcG9zaXRpb246IGZ1bmN0aW9uKCBvcGVuT3B0aW9ucyApIHtcclxuXHRcdC8vIFdlIG9ubHkgY2FyZSBhYm91dCBwb3NpdGlvbi1yZWxhdGVkIHBhcmFtZXRlcnMgZm9yIHJlcG9zaXRpb25pbmdcclxuXHRcdG9wZW5PcHRpb25zID0ge1xyXG5cdFx0XHR4OiBvcGVuT3B0aW9ucy54LFxyXG5cdFx0XHR5OiBvcGVuT3B0aW9ucy55LFxyXG5cdFx0XHRwb3NpdGlvblRvOiBvcGVuT3B0aW9ucy5wb3NpdGlvblRvXHJcblx0XHR9O1xyXG5cdFx0dGhpcy5fdHJpZ2dlciggXCJiZWZvcmVwb3NpdGlvblwiLCB1bmRlZmluZWQsIG9wZW5PcHRpb25zICk7XHJcblx0XHR0aGlzLl91aS5jb250YWluZXIub2Zmc2V0KCB0aGlzLl9wbGFjZW1lbnRDb29yZHMoIHRoaXMuX2Rlc2lyZWRDb29yZHMoIG9wZW5PcHRpb25zICkgKSApO1xyXG5cdH0sXHJcblxyXG5cdHJlcG9zaXRpb246IGZ1bmN0aW9uKCBvcGVuT3B0aW9ucyApIHtcclxuXHRcdGlmICggdGhpcy5faXNPcGVuICkge1xyXG5cdFx0XHR0aGlzLl9yZXBvc2l0aW9uKCBvcGVuT3B0aW9ucyApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9zYWZlbHlCbHVyOiBmdW5jdGlvbiggY3VycmVudEVsZW1lbnQgKXtcclxuXHRcdGlmICggY3VycmVudEVsZW1lbnQgIT09IHRoaXMud2luZG93WyAwIF0gJiZcclxuXHRcdFx0Y3VycmVudEVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJib2R5XCIgKSB7XHJcblx0XHRcdFx0JCggY3VycmVudEVsZW1lbnQgKS5ibHVyKCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X29wZW5QcmVyZXF1aXNpdGVzQ29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGlkID0gdGhpcy5lbGVtZW50LmF0dHIoIFwiaWRcIiApLFxyXG5cdFx0XHRmaXJzdEZvY3VzID0gdGhpcy5fdWkuY29udGFpbmVyLmZpbmQoIFwiOmZvY3VzYWJsZVwiICkuZmlyc3QoKTtcclxuXHJcblx0XHR0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoIFwidWktcG9wdXAtYWN0aXZlXCIgKTtcclxuXHRcdHRoaXMuX2lzT3BlbiA9IHRydWU7XHJcblx0XHR0aGlzLl9yZXNpemVTY3JlZW4oKTtcclxuXHJcblx0XHQvLyBDaGVjayB0byBzZWUgaWYgY3VyckVsZW1lbnQgaXMgbm90IGEgY2hpbGQgb2YgdGhlIGNvbnRhaW5lci4gIElmIGl0J3Mgbm90LCBibHVyXHJcblx0XHRpZiAoICEkLmNvbnRhaW5zKCB0aGlzLl91aS5jb250YWluZXJbIDAgXSwgdGhpcy5kb2N1bWVudFsgMCBdLmFjdGl2ZUVsZW1lbnQgKSApIHtcclxuXHRcdFx0dGhpcy5fc2FmZWx5Qmx1ciggdGhpcy5kb2N1bWVudFsgMCBdLmFjdGl2ZUVsZW1lbnQgKTtcclxuXHRcdH1cclxuXHRcdGlmICggZmlyc3RGb2N1cy5sZW5ndGggPiAwICkge1xyXG5cdFx0XHR0aGlzLl91aS5mb2N1c0VsZW1lbnQgPSBmaXJzdEZvY3VzO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5faWdub3JlUmVzaXplRXZlbnRzKCk7XHJcblx0XHRpZiAoIGlkICkge1xyXG5cdFx0XHR0aGlzLmRvY3VtZW50LmZpbmQoIFwiW2FyaWEtaGFzcG9wdXA9J3RydWUnXVthcmlhLW93bnM9J1wiICsgIGlkICsgXCInXVwiICkuYXR0ciggXCJhcmlhLWV4cGFuZGVkXCIsIHRydWUgKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuX3RyaWdnZXIoIFwiYWZ0ZXJvcGVuXCIgKTtcclxuXHR9LFxyXG5cclxuXHRfb3BlbjogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XHJcblx0XHR2YXIgb3Blbk9wdGlvbnMgPSAkLmV4dGVuZCgge30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyApLFxyXG5cdFx0XHQvLyBUT0RPIG1vdmUgYmxhY2tsaXN0IHRvIHByaXZhdGUgbWV0aG9kXHJcblx0XHRcdGFuZHJvaWRCbGFja2xpc3QgPSAoIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQsXHJcblx0XHRcdFx0XHQvLyBSZW5kZXJpbmcgZW5naW5lIGlzIFdlYmtpdCwgYW5kIGNhcHR1cmUgbWFqb3IgdmVyc2lvblxyXG5cdFx0XHRcdFx0d2ttYXRjaCA9IHVhLm1hdGNoKCAvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS8gKSxcclxuXHRcdFx0XHRcdHdrdmVyc2lvbiA9ICEhd2ttYXRjaCAmJiB3a21hdGNoWyAxIF0sXHJcblx0XHRcdFx0XHRhbmRyb2lkbWF0Y2ggPSB1YS5tYXRjaCggL0FuZHJvaWQgKFxcZCsoPzpcXC5cXGQrKSkvICksXHJcblx0XHRcdFx0XHRhbmR2ZXJzaW9uID0gISFhbmRyb2lkbWF0Y2ggJiYgYW5kcm9pZG1hdGNoWyAxIF0sXHJcblx0XHRcdFx0XHRjaHJvbWVtYXRjaCA9IHVhLmluZGV4T2YoIFwiQ2hyb21lXCIgKSA+IC0xO1xyXG5cclxuXHRcdFx0XHQvLyBQbGF0Zm9ybSBpcyBBbmRyb2lkLCBXZWJLaXQgdmVyc2lvbiBpcyBncmVhdGVyIHRoYW4gNTM0LjEzICggQW5kcm9pZCAzLjIuMSApIGFuZCBub3QgQ2hyb21lLlxyXG5cdFx0XHRcdGlmICggYW5kcm9pZG1hdGNoICE9PSBudWxsICYmIGFuZHZlcnNpb24gPT09IFwiNC4wXCIgJiYgd2t2ZXJzaW9uICYmIHdrdmVyc2lvbiA+IDUzNC4xMyAmJiAhY2hyb21lbWF0Y2ggKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9KCkpO1xyXG5cclxuXHRcdC8vIENvdW50IGRvd24gdG8gdHJpZ2dlcmluZyBcInBvcHVwYWZ0ZXJvcGVuXCIgLSB3ZSBoYXZlIHR3byBwcmVyZXF1aXNpdGVzOlxyXG5cdFx0Ly8gMS4gVGhlIHBvcHVwIHdpbmRvdyBhbmltYXRpb24gY29tcGxldGVzIChjb250YWluZXIoKSlcclxuXHRcdC8vIDIuIFRoZSBzY3JlZW4gb3BhY2l0eSBhbmltYXRpb24gY29tcGxldGVzIChzY3JlZW4oKSlcclxuXHRcdHRoaXMuX2NyZWF0ZVByZXJlcXVpc2l0ZXMoXHJcblx0XHRcdCQubm9vcCxcclxuXHRcdFx0JC5ub29wLFxyXG5cdFx0XHQkLnByb3h5KCB0aGlzLCBcIl9vcGVuUHJlcmVxdWlzaXRlc0NvbXBsZXRlXCIgKSApO1xyXG5cclxuXHRcdHRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uID0gb3Blbk9wdGlvbnMudHJhbnNpdGlvbjtcclxuXHRcdHRoaXMuX2FwcGx5VHJhbnNpdGlvbiggb3Blbk9wdGlvbnMudHJhbnNpdGlvbiApO1xyXG5cclxuXHRcdHRoaXMuX3VpLnNjcmVlbi5yZW1vdmVDbGFzcyggXCJ1aS1zY3JlZW4taGlkZGVuXCIgKTtcclxuXHRcdHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyggXCJ1aS1wb3B1cC10cnVuY2F0ZVwiICk7XHJcblxyXG5cdFx0Ly8gR2l2ZSBhcHBsaWNhdGlvbnMgYSBjaGFuY2UgdG8gbW9kaWZ5IHRoZSBjb250ZW50cyBvZiB0aGUgY29udGFpbmVyIGJlZm9yZSBpdCBhcHBlYXJzXHJcblx0XHR0aGlzLl9yZXBvc2l0aW9uKCBvcGVuT3B0aW9ucyApO1xyXG5cclxuXHRcdHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyggXCJ1aS1wb3B1cC1oaWRkZW5cIiApO1xyXG5cclxuXHRcdGlmICggdGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSAmJiBhbmRyb2lkQmxhY2tsaXN0ICkge1xyXG5cdFx0XHQvKiBUT0RPOiBUaGUgbmF0aXZlIGJyb3dzZXIgb24gQW5kcm9pZCA0LjAuWCAoXCJJY2UgQ3JlYW0gU2FuZHdpY2hcIikgc3VmZmVycyBmcm9tIGFuIGlzc3VlIHdoZXJlIHRoZSBwb3B1cCBvdmVybGF5IGFwcGVhcnMgdG8gYmUgei1pbmRleGVkIGFib3ZlIHRoZSBwb3B1cCBpdHNlbGYgd2hlbiBjZXJ0YWluIG90aGVyIHN0eWxlcyBleGlzdCBvbiB0aGUgc2FtZSBwYWdlIC0tIG5hbWVseSwgYW55IGVsZW1lbnQgc2V0IHRvIGBwb3NpdGlvbjogZml4ZWRgIGFuZCBjZXJ0YWluIHR5cGVzIG9mIGlucHV0LiBUaGVzZSBpc3N1ZXMgYXJlIHJlbWluaXNjZW50IG9mIHByZXZpb3VzbHkgdW5jb3ZlcmVkIGJ1Z3MgaW4gb2xkZXIgdmVyc2lvbnMgb2YgQW5kcm9pZCdzIG5hdGl2ZSBicm93c2VyOiBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRqZWhsL0RldmljZS1CdWdzL2lzc3Vlcy8zXHJcblx0XHRcdFRoaXMgZml4IGNsb3NlcyB0aGUgZm9sbG93aW5nIGJ1Z3MgKCBJIHVzZSBcImNsb3Nlc1wiIHdpdGggcmVsdWN0YW5jZSwgYW5kIHN0cmVzcyB0aGF0IHRoaXMgaXNzdWUgc2hvdWxkIGJlIHJldmlzaXRlZCBhcyBzb29uIGFzIHBvc3NpYmxlICk6XHJcblx0XHRcdGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5LW1vYmlsZS9pc3N1ZXMvNDgxNlxyXG5cdFx0XHRodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS1tb2JpbGUvaXNzdWVzLzQ4NDRcclxuXHRcdFx0aHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnktbW9iaWxlL2lzc3Vlcy80ODc0XHJcblx0XHRcdCovXHJcblxyXG5cdFx0XHQvLyBUT0RPIHNvcnQgb3V0IHdoeSB0aGlzLl9wYWdlIGlzbid0IHdvcmtpbmdcclxuXHRcdFx0dGhpcy5lbGVtZW50LmNsb3Nlc3QoIFwiLnVpLXBhZ2VcIiApLmFkZENsYXNzKCBcInVpLXBvcHVwLW9wZW5cIiApO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5fYW5pbWF0ZSh7XHJcblx0XHRcdGFkZGl0aW9uYWxDb25kaXRpb246IHRydWUsXHJcblx0XHRcdHRyYW5zaXRpb246IG9wZW5PcHRpb25zLnRyYW5zaXRpb24sXHJcblx0XHRcdGNsYXNzVG9SZW1vdmU6IFwiXCIsXHJcblx0XHRcdHNjcmVlbkNsYXNzVG9BZGQ6IFwiaW5cIixcclxuXHRcdFx0Y29udGFpbmVyQ2xhc3NUb0FkZDogXCJpblwiLFxyXG5cdFx0XHRhcHBseVRyYW5zaXRpb246IGZhbHNlLFxyXG5cdFx0XHRwcmVyZXF1aXNpdGVzOiB0aGlzLl9wcmVyZXF1aXNpdGVzXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRfY2xvc2VQcmVyZXF1aXNpdGVTY3JlZW46IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5fdWkuc2NyZWVuXHJcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJvdXRcIiApXHJcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1zY3JlZW4taGlkZGVuXCIgKTtcclxuXHR9LFxyXG5cclxuXHRfY2xvc2VQcmVyZXF1aXNpdGVDb250YWluZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5fdWkuY29udGFpbmVyXHJcblx0XHRcdC5yZW1vdmVDbGFzcyggXCJyZXZlcnNlIG91dFwiIClcclxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZVwiIClcclxuXHRcdFx0LnJlbW92ZUF0dHIoIFwic3R5bGVcIiApO1xyXG5cdH0sXHJcblxyXG5cdF9jbG9zZVByZXJlcXVpc2l0ZXNEb25lOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBjb250YWluZXIgPSB0aGlzLl91aS5jb250YWluZXIsXHJcblx0XHRcdGlkID0gdGhpcy5lbGVtZW50LmF0dHIoIFwiaWRcIiApO1xyXG5cclxuXHRcdC8vIHJlbW92ZSB0aGUgZ2xvYmFsIG11dGV4IGZvciBwb3B1cHNcclxuXHRcdCQubW9iaWxlLnBvcHVwLmFjdGl2ZSA9IHVuZGVmaW5lZDtcclxuXHJcblx0XHQvLyBCbHVyIGVsZW1lbnRzIGluc2lkZSB0aGUgY29udGFpbmVyLCBpbmNsdWRpbmcgdGhlIGNvbnRhaW5lclxyXG5cdFx0JCggXCI6Zm9jdXNcIiwgY29udGFpbmVyWyAwIF0gKS5hZGQoIGNvbnRhaW5lclsgMCBdICkuYmx1cigpO1xyXG5cclxuXHRcdGlmICggaWQgKSB7XHJcblx0XHRcdHRoaXMuZG9jdW1lbnQuZmluZCggXCJbYXJpYS1oYXNwb3B1cD0ndHJ1ZSddW2FyaWEtb3ducz0nXCIgKyAgaWQgKyBcIiddXCIgKS5hdHRyKCBcImFyaWEtZXhwYW5kZWRcIiwgZmFsc2UgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBhbGVydCB1c2VycyB0aGF0IHRoZSBwb3B1cCBpcyBjbG9zZWRcclxuXHRcdHRoaXMuX3RyaWdnZXIoIFwiYWZ0ZXJjbG9zZVwiICk7XHJcblx0fSxcclxuXHJcblx0X2Nsb3NlOiBmdW5jdGlvbiggaW1tZWRpYXRlICkge1xyXG5cdFx0dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCBcInVpLXBvcHVwLWFjdGl2ZVwiICk7XHJcblx0XHR0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKCBcInVpLXBvcHVwLW9wZW5cIiApO1xyXG5cclxuXHRcdHRoaXMuX2lzT3BlbiA9IGZhbHNlO1xyXG5cclxuXHRcdC8vIENvdW50IGRvd24gdG8gdHJpZ2dlcmluZyBcInBvcHVwYWZ0ZXJjbG9zZVwiIC0gd2UgaGF2ZSB0d28gcHJlcmVxdWlzaXRlczpcclxuXHRcdC8vIDEuIFRoZSBwb3B1cCB3aW5kb3cgcmV2ZXJzZSBhbmltYXRpb24gY29tcGxldGVzIChjb250YWluZXIoKSlcclxuXHRcdC8vIDIuIFRoZSBzY3JlZW4gb3BhY2l0eSBhbmltYXRpb24gY29tcGxldGVzIChzY3JlZW4oKSlcclxuXHRcdHRoaXMuX2NyZWF0ZVByZXJlcXVpc2l0ZXMoXHJcblx0XHRcdCQucHJveHkoIHRoaXMsIFwiX2Nsb3NlUHJlcmVxdWlzaXRlU2NyZWVuXCIgKSxcclxuXHRcdFx0JC5wcm94eSggdGhpcywgXCJfY2xvc2VQcmVyZXF1aXNpdGVDb250YWluZXJcIiApLFxyXG5cdFx0XHQkLnByb3h5KCB0aGlzLCBcIl9jbG9zZVByZXJlcXVpc2l0ZXNEb25lXCIgKSApO1xyXG5cclxuXHRcdHRoaXMuX2FuaW1hdGUoIHtcclxuXHRcdFx0YWRkaXRpb25hbENvbmRpdGlvbjogdGhpcy5fdWkuc2NyZWVuLmhhc0NsYXNzKCBcImluXCIgKSxcclxuXHRcdFx0dHJhbnNpdGlvbjogKCBpbW1lZGlhdGUgPyBcIm5vbmVcIiA6ICggdGhpcy5fY3VycmVudFRyYW5zaXRpb24gKSApLFxyXG5cdFx0XHRjbGFzc1RvUmVtb3ZlOiBcImluXCIsXHJcblx0XHRcdHNjcmVlbkNsYXNzVG9BZGQ6IFwib3V0XCIsXHJcblx0XHRcdGNvbnRhaW5lckNsYXNzVG9BZGQ6IFwicmV2ZXJzZSBvdXRcIixcclxuXHRcdFx0YXBwbHlUcmFuc2l0aW9uOiB0cnVlLFxyXG5cdFx0XHRwcmVyZXF1aXNpdGVzOiB0aGlzLl9wcmVyZXF1aXNpdGVzXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRfdW5lbmhhbmNlOiBmdW5jdGlvbigpIHtcclxuXHRcdGlmICggdGhpcy5vcHRpb25zLmVuaGFuY2VkICkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUHV0IHRoZSBlbGVtZW50IGJhY2sgdG8gd2hlcmUgdGhlIHBsYWNlaG9sZGVyIHdhcyBhbmQgcmVtb3ZlIHRoZSBcInVpLXBvcHVwXCIgY2xhc3NcclxuXHRcdHRoaXMuX3NldE9wdGlvbnMoIHsgdGhlbWU6ICQubW9iaWxlLnBvcHVwLnByb3RvdHlwZS5vcHRpb25zLnRoZW1lIH0gKTtcclxuXHRcdHRoaXMuZWxlbWVudFxyXG5cdFx0XHQvLyBDYW5ub3QgZGlyZWN0bHkgaW5zZXJ0QWZ0ZXIoKSAtIHdlIG5lZWQgdG8gZGV0YWNoKCkgZmlyc3QsIGJlY2F1c2VcclxuXHRcdFx0Ly8gaW5zZXJ0QWZ0ZXIoKSB3aWxsIGRvIG5vdGhpbmcgaWYgdGhlIHBheWxvYWQgZGl2IHdhcyBub3QgYXR0YWNoZWRcclxuXHRcdFx0Ly8gdG8gdGhlIERPTSBhdCB0aGUgdGltZSB0aGUgd2lkZ2V0IHdhcyBjcmVhdGVkLCBhbmQgc28gdGhlIHBheWxvYWRcclxuXHRcdFx0Ly8gd2lsbCByZW1haW4gaW5zaWRlIHRoZSBjb250YWluZXIgZXZlbiBhZnRlciB3ZSBjYWxsIGluc2VydEFmdGVyKCkuXHJcblx0XHRcdC8vIElmIHRoYXQgaGFwcGVucyBhbmQgd2UgcmVtb3ZlIHRoZSBjb250YWluZXIgYSBmZXcgbGluZXMgYmVsb3csIHdlXHJcblx0XHRcdC8vIHdpbGwgY2F1c2UgYW4gaW5maW5pdGUgcmVjdXJzaW9uIC0gIzUyNDRcclxuXHRcdFx0LmRldGFjaCgpXHJcblx0XHRcdC5pbnNlcnRBZnRlciggdGhpcy5fdWkucGxhY2Vob2xkZXIgKVxyXG5cdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktcG9wdXAgdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCB1aS1ib2R5LWluaGVyaXRcIiApO1xyXG5cdFx0dGhpcy5fdWkuc2NyZWVuLnJlbW92ZSgpO1xyXG5cdFx0dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZSgpO1xyXG5cdFx0dGhpcy5fdWkucGxhY2Vob2xkZXIucmVtb3ZlKCk7XHJcblx0fSxcclxuXHJcblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKCAkLm1vYmlsZS5wb3B1cC5hY3RpdmUgPT09IHRoaXMgKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5vbmUoIFwicG9wdXBhZnRlcmNsb3NlXCIsICQucHJveHkoIHRoaXMsIFwiX3VuZW5oYW5jZVwiICkgKTtcclxuXHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5fdW5lbmhhbmNlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fSxcclxuXHJcblx0X2Nsb3NlUG9wdXA6IGZ1bmN0aW9uKCB0aGVFdmVudCwgZGF0YSApIHtcclxuXHRcdHZhciBwYXJzZWREc3QsIHRvVXJsLFxyXG5cdFx0XHRjdXJyZW50T3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcclxuXHRcdFx0aW1tZWRpYXRlID0gZmFsc2U7XHJcblxyXG5cdFx0aWYgKCAoIHRoZUV2ZW50ICYmIHRoZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkgfHwgJC5tb2JpbGUucG9wdXAuYWN0aXZlICE9PSB0aGlzICkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gcmVzdG9yZSBsb2NhdGlvbiBvbiBzY3JlZW5cclxuXHRcdHdpbmRvdy5zY3JvbGxUbyggMCwgdGhpcy5fc2Nyb2xsVG9wICk7XHJcblxyXG5cdFx0aWYgKCB0aGVFdmVudCAmJiB0aGVFdmVudC50eXBlID09PSBcInBhZ2ViZWZvcmVjaGFuZ2VcIiAmJiBkYXRhICkge1xyXG5cdFx0XHQvLyBEZXRlcm1pbmUgd2hldGhlciB3ZSBuZWVkIHRvIHJhcGlkLWNsb3NlIHRoZSBwb3B1cCwgb3Igd2hldGhlciB3ZSBjYW5cclxuXHRcdFx0Ly8gdGFrZSB0aGUgdGltZSB0byBydW4gdGhlIGNsb3NpbmcgdHJhbnNpdGlvblxyXG5cdFx0XHRpZiAoIHR5cGVvZiBkYXRhLnRvUGFnZSA9PT0gXCJzdHJpbmdcIiApIHtcclxuXHRcdFx0XHRwYXJzZWREc3QgPSBkYXRhLnRvUGFnZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRwYXJzZWREc3QgPSBkYXRhLnRvUGFnZS5qcW1EYXRhKCBcInVybFwiICk7XHJcblx0XHRcdH1cclxuXHRcdFx0cGFyc2VkRHN0ID0gJC5tb2JpbGUucGF0aC5wYXJzZVVybCggcGFyc2VkRHN0ICk7XHJcblx0XHRcdHRvVXJsID0gcGFyc2VkRHN0LnBhdGhuYW1lICsgcGFyc2VkRHN0LnNlYXJjaCArIHBhcnNlZERzdC5oYXNoO1xyXG5cclxuXHRcdFx0aWYgKCB0aGlzLl9teVVybCAhPT0gJC5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIHRvVXJsICkgKSB7XHJcblx0XHRcdFx0Ly8gR29pbmcgdG8gYSBkaWZmZXJlbnQgcGFnZSAtIGNsb3NlIGltbWVkaWF0ZWx5XHJcblx0XHRcdFx0aW1tZWRpYXRlID0gdHJ1ZTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gcmVtb3ZlIG5hdiBiaW5kaW5nc1xyXG5cdFx0dGhpcy53aW5kb3cub2ZmKCBjdXJyZW50T3B0aW9ucy5jbG9zZUV2ZW50cyApO1xyXG5cdFx0Ly8gdW5iaW5kIGNsaWNrIGhhbmRsZXJzIGFkZGVkIHdoZW4gaGlzdG9yeSBpcyBkaXNhYmxlZFxyXG5cdFx0dGhpcy5lbGVtZW50LnVuZGVsZWdhdGUoIGN1cnJlbnRPcHRpb25zLmNsb3NlTGlua1NlbGVjdG9yLCBjdXJyZW50T3B0aW9ucy5jbG9zZUxpbmtFdmVudHMgKTtcclxuXHJcblx0XHR0aGlzLl9jbG9zZSggaW1tZWRpYXRlICk7XHJcblx0fSxcclxuXHJcblx0Ly8gYW55IG5hdmlnYXRpb24gZXZlbnQgYWZ0ZXIgYSBwb3B1cCBpcyBvcGVuZWQgc2hvdWxkIGNsb3NlIHRoZSBwb3B1cFxyXG5cdC8vIE5PVEUgdGhlIHBhZ2ViZWZvcmVjaGFuZ2UgaXMgYm91bmQgdG8gY2F0Y2ggbmF2aWdhdGlvbiBldmVudHMgdGhhdCBkb24ndFxyXG5cdC8vICAgICAgYWx0ZXIgdGhlIHVybCAoZWcsIGRpYWxvZ3MgZnJvbSBwb3B1cHMpXHJcblx0X2JpbmRDb250YWluZXJDbG9zZTogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLndpbmRvd1xyXG5cdFx0XHQub24oIHRoaXMub3B0aW9ucy5jbG9zZUV2ZW50cywgJC5wcm94eSggdGhpcywgXCJfY2xvc2VQb3B1cFwiICkgKTtcclxuXHR9LFxyXG5cclxuXHR3aWRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3VpLmNvbnRhaW5lcjtcclxuXHR9LFxyXG5cclxuXHQvLyBUT0RPIG5vIGNsZWFyIGRlbGluaWF0aW9uIG9mIHdoYXQgc2hvdWxkIGJlIGhlcmUgYW5kXHJcblx0Ly8gd2hhdCBzaG91bGQgYmUgaW4gX29wZW4uIFNlZW1zIHRvIGJlIFwidmlzdWFsXCIgdnMgXCJoaXN0b3J5XCIgZm9yIG5vd1xyXG5cdG9wZW46IGZ1bmN0aW9uKCBvcHRpb25zICkge1xyXG5cdFx0dmFyIHVybCwgaGFzaGtleSwgYWN0aXZlUGFnZSwgY3VycmVudElzRGlhbG9nLCBoYXNIYXNoLCB1cmxIaXN0b3J5LFxyXG5cdFx0XHRzZWxmID0gdGhpcyxcclxuXHRcdFx0Y3VycmVudE9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XHJcblxyXG5cdFx0Ly8gbWFrZSBzdXJlIG9wZW4gaXMgaWRlbXBvdGVudFxyXG5cdFx0aWYgKCAkLm1vYmlsZS5wb3B1cC5hY3RpdmUgfHwgY3VycmVudE9wdGlvbnMuZGlzYWJsZWQgKSB7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHNldCB0aGUgZ2xvYmFsIHBvcHVwIG11dGV4XHJcblx0XHQkLm1vYmlsZS5wb3B1cC5hY3RpdmUgPSB0aGlzO1xyXG5cdFx0dGhpcy5fc2Nyb2xsVG9wID0gdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCk7XHJcblxyXG5cdFx0Ly8gaWYgaGlzdG9yeSBhbHRlcmF0aW9uIGlzIGRpc2FibGVkIGNsb3NlIG9uIG5hdmlnYXRlIGV2ZW50c1xyXG5cdFx0Ly8gYW5kIGxlYXZlIHRoZSB1cmwgYXMgaXNcclxuXHRcdGlmICggISggY3VycmVudE9wdGlvbnMuaGlzdG9yeSApICkge1xyXG5cdFx0XHRzZWxmLl9vcGVuKCBvcHRpb25zICk7XHJcblx0XHRcdHNlbGYuX2JpbmRDb250YWluZXJDbG9zZSgpO1xyXG5cclxuXHRcdFx0Ly8gV2hlbiBoaXN0b3kgaXMgZGlzYWJsZWQgd2UgaGF2ZSB0byBncmFiIHRoZSBkYXRhLXJlbFxyXG5cdFx0XHQvLyBiYWNrIGxpbmsgY2xpY2tzIHNvIHdlIGNhbiBjbG9zZSB0aGUgcG9wdXAgaW5zdGVhZCBvZlxyXG5cdFx0XHQvLyByZWx5aW5nIG9uIGhpc3RvcnkgdG8gZG8gaXQgZm9yIHVzXHJcblx0XHRcdHNlbGYuZWxlbWVudFxyXG5cdFx0XHRcdC5kZWxlZ2F0ZSggY3VycmVudE9wdGlvbnMuY2xvc2VMaW5rU2VsZWN0b3IsIGN1cnJlbnRPcHRpb25zLmNsb3NlTGlua0V2ZW50cywgZnVuY3Rpb24oIHRoZUV2ZW50ICkge1xyXG5cdFx0XHRcdFx0c2VsZi5jbG9zZSgpO1xyXG5cdFx0XHRcdFx0dGhlRXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNhY2hlIHNvbWUgdmFsdWVzIGZvciBtaW4vcmVhZGFiaWxpdHlcclxuXHRcdHVybEhpc3RvcnkgPSAkLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5O1xyXG5cdFx0aGFzaGtleSA9ICQubW9iaWxlLmRpYWxvZ0hhc2hLZXk7XHJcblx0XHRhY3RpdmVQYWdlID0gJC5tb2JpbGUuYWN0aXZlUGFnZTtcclxuXHRcdGN1cnJlbnRJc0RpYWxvZyA9ICggYWN0aXZlUGFnZSA/IGFjdGl2ZVBhZ2UuaGFzQ2xhc3MoIFwidWktZGlhbG9nXCIgKSA6IGZhbHNlICk7XHJcblx0XHR0aGlzLl9teVVybCA9IHVybCA9IHVybEhpc3RvcnkuZ2V0QWN0aXZlKCkudXJsO1xyXG5cdFx0aGFzSGFzaCA9ICggdXJsLmluZGV4T2YoIGhhc2hrZXkgKSA+IC0xICkgJiYgIWN1cnJlbnRJc0RpYWxvZyAmJiAoIHVybEhpc3RvcnkuYWN0aXZlSW5kZXggPiAwICk7XHJcblxyXG5cdFx0aWYgKCBoYXNIYXNoICkge1xyXG5cdFx0XHRzZWxmLl9vcGVuKCBvcHRpb25zICk7XHJcblx0XHRcdHNlbGYuX2JpbmRDb250YWluZXJDbG9zZSgpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBpZiB0aGUgY3VycmVudCB1cmwgaGFzIG5vIGRpYWxvZyBoYXNoIGtleSBwcm9jZWVkIGFzIG5vcm1hbFxyXG5cdFx0Ly8gb3RoZXJ3aXNlLCBpZiB0aGUgcGFnZSBpcyBhIGRpYWxvZyBzaW1wbHkgdGFjayBvbiB0aGUgaGFzaCBrZXlcclxuXHRcdGlmICggdXJsLmluZGV4T2YoIGhhc2hrZXkgKSA9PT0gLTEgJiYgIWN1cnJlbnRJc0RpYWxvZyApIHtcclxuXHRcdFx0dXJsID0gdXJsICsgKHVybC5pbmRleE9mKCBcIiNcIiApID4gLTEgPyBoYXNoa2V5IDogXCIjXCIgKyBoYXNoa2V5KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHVybCA9ICQubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2ggKyBoYXNoa2V5O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHN3YWxsb3cgdGhlIHRoZSBpbml0aWFsIG5hdmlnYXRpb24gZXZlbnQsIGFuZCBiaW5kIGZvciB0aGUgbmV4dFxyXG5cdFx0dGhpcy53aW5kb3cub25lKCBcImJlZm9yZW5hdmlnYXRlXCIsIGZ1bmN0aW9uKCB0aGVFdmVudCApIHtcclxuXHRcdFx0dGhlRXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0c2VsZi5fb3Blbiggb3B0aW9ucyApO1xyXG5cdFx0XHRzZWxmLl9iaW5kQ29udGFpbmVyQ2xvc2UoKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMudXJsQWx0ZXJlZCA9IHRydWU7XHJcblx0XHQkLm1vYmlsZS5uYXZpZ2F0ZSggdXJsLCB7IHJvbGU6IFwiZGlhbG9nXCIgfSApO1xyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdGNsb3NlOiBmdW5jdGlvbigpIHtcclxuXHRcdC8vIG1ha2Ugc3VyZSBjbG9zZSBpcyBpZGVtcG90ZW50XHJcblx0XHRpZiAoICQubW9iaWxlLnBvcHVwLmFjdGl2ZSAhPT0gdGhpcyApIHtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fc2Nyb2xsVG9wID0gdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCk7XHJcblxyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuaGlzdG9yeSAmJiB0aGlzLnVybEFsdGVyZWQgKSB7XHJcblx0XHRcdCQubW9iaWxlLmJhY2soKTtcclxuXHRcdFx0dGhpcy51cmxBbHRlcmVkID0gZmFsc2U7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBzaW11bGF0ZSB0aGUgbmF2IGJpbmRpbmdzIGhhdmluZyBmaXJlZFxyXG5cdFx0XHR0aGlzLl9jbG9zZVBvcHVwKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIFRPRE8gdGhpcyBjYW4gYmUgbW92ZWQgaW5zaWRlIHRoZSB3aWRnZXRcclxuJC5tb2JpbGUucG9wdXAuaGFuZGxlTGluayA9IGZ1bmN0aW9uKCAkbGluayApIHtcclxuXHR2YXIgb2Zmc2V0LFxyXG5cdFx0cGF0aCA9ICQubW9iaWxlLnBhdGgsXHJcblxyXG5cdFx0Ly8gTk9URSBtYWtlIHN1cmUgdG8gZ2V0IG9ubHkgdGhlIGhhc2ggZnJvbSB0aGUgaHJlZiBiZWNhdXNlIGllNyAod3A3KVxyXG5cdFx0Ly8gICAgICByZXR1cm5zIHRoZSBhYnNvbHV0ZSBocmVmIGluIHRoaXMgY2FzZSBydWluaW5nIHRoZSBlbGVtZW50IHNlbGVjdGlvblxyXG5cdFx0cG9wdXAgPSAkKCBwYXRoLmhhc2hUb1NlbGVjdG9yKCBwYXRoLnBhcnNlVXJsKCAkbGluay5hdHRyKCBcImhyZWZcIiApICkuaGFzaCApICkuZmlyc3QoKTtcclxuXHJcblx0aWYgKCBwb3B1cC5sZW5ndGggPiAwICYmIHBvcHVwLmRhdGEoIFwibW9iaWxlLXBvcHVwXCIgKSApIHtcclxuXHRcdG9mZnNldCA9ICRsaW5rLm9mZnNldCgpO1xyXG5cdFx0cG9wdXAucG9wdXAoIFwib3BlblwiLCB7XHJcblx0XHRcdHg6IG9mZnNldC5sZWZ0ICsgJGxpbmsub3V0ZXJXaWR0aCgpIC8gMixcclxuXHRcdFx0eTogb2Zmc2V0LnRvcCArICRsaW5rLm91dGVySGVpZ2h0KCkgLyAyLFxyXG5cdFx0XHR0cmFuc2l0aW9uOiAkbGluay5qcW1EYXRhKCBcInRyYW5zaXRpb25cIiApLFxyXG5cdFx0XHRwb3NpdGlvblRvOiAkbGluay5qcW1EYXRhKCBcInBvc2l0aW9uLXRvXCIgKVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvL3JlbW92ZSBhZnRlciBkZWxheVxyXG5cdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xyXG5cdFx0JGxpbmsucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7XHJcblx0fSwgMzAwICk7XHJcbn07XHJcblxyXG4vLyBUT0RPIG1vdmUgaW5zaWRlIF9jcmVhdGVcclxuJC5tb2JpbGUuZG9jdW1lbnQub24oIFwicGFnZWJlZm9yZWNoYW5nZVwiLCBmdW5jdGlvbiggdGhlRXZlbnQsIGRhdGEgKSB7XHJcblx0aWYgKCBkYXRhLm9wdGlvbnMucm9sZSA9PT0gXCJwb3B1cFwiICkge1xyXG5cdFx0JC5tb2JpbGUucG9wdXAuaGFuZGxlTGluayggZGF0YS5vcHRpb25zLmxpbmsgKTtcclxuXHRcdHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0fVxyXG59KTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbi8qXHJcbiogY3VzdG9tIFwic2VsZWN0bWVudVwiIHBsdWdpblxyXG4qL1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblxyXG52YXIgdW5mb2N1c2FibGVJdGVtU2VsZWN0b3IgPSBcIi51aS1kaXNhYmxlZCwudWktc3RhdGUtZGlzYWJsZWQsLnVpLWxpLWRpdmlkZXIsLnVpLXNjcmVlbi1oaWRkZW4sOmpxbURhdGEocm9sZT0ncGxhY2Vob2xkZXInKVwiLFxyXG5cdGdvVG9BZGphY2VudEl0ZW0gPSBmdW5jdGlvbiggaXRlbSwgdGFyZ2V0LCBkaXJlY3Rpb24gKSB7XHJcblx0XHR2YXIgYWRqYWNlbnQgPSBpdGVtWyBkaXJlY3Rpb24gKyBcIkFsbFwiIF0oKVxyXG5cdFx0XHQubm90KCB1bmZvY3VzYWJsZUl0ZW1TZWxlY3RvciApXHJcblx0XHRcdC5maXJzdCgpO1xyXG5cclxuXHRcdC8vIGlmIHRoZXJlJ3MgYSBwcmV2aW91cyBvcHRpb24sIGZvY3VzIGl0XHJcblx0XHRpZiAoIGFkamFjZW50Lmxlbmd0aCApIHtcclxuXHRcdFx0dGFyZ2V0XHJcblx0XHRcdFx0LmJsdXIoKVxyXG5cdFx0XHRcdC5hdHRyKCBcInRhYmluZGV4XCIsIFwiLTFcIiApO1xyXG5cclxuXHRcdFx0YWRqYWNlbnQuZmluZCggXCJhXCIgKS5maXJzdCgpLmZvY3VzKCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcbiQud2lkZ2V0KCBcIm1vYmlsZS5zZWxlY3RtZW51XCIsICQubW9iaWxlLnNlbGVjdG1lbnUsIHtcclxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBvID0gdGhpcy5vcHRpb25zO1xyXG5cclxuXHRcdC8vIEN1c3RvbSBzZWxlY3RzIGNhbm5vdCBleGlzdCBpbnNpZGUgcG9wdXBzLCBzbyByZXZlcnQgdGhlIFwibmF0aXZlTWVudVwiXHJcblx0XHQvLyBvcHRpb24gdG8gdHJ1ZSBpZiBhIHBhcmVudCBpcyBhIHBvcHVwXHJcblx0XHRvLm5hdGl2ZU1lbnUgPSBvLm5hdGl2ZU1lbnUgfHwgKCB0aGlzLmVsZW1lbnQucGFyZW50cyggXCI6anFtRGF0YShyb2xlPSdwb3B1cCcpLDptb2JpbGUtcG9wdXBcIiApLmxlbmd0aCA+IDAgKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5fc3VwZXIoKTtcclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlU2VsZWN0Rm9jdXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5lbGVtZW50LmJsdXIoKTtcclxuXHRcdHRoaXMuYnV0dG9uLmZvY3VzKCk7XHJcblx0fSxcclxuXHJcblx0X2hhbmRsZUtleWRvd246IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdHRoaXMuX3N1cGVyKCBldmVudCApO1xyXG5cdFx0dGhpcy5faGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93biggZXZlbnQgKTtcclxuXHR9LFxyXG5cclxuXHRfaGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgfHwgdGhpcy5pc09wZW4gfHwgdGhpcy5vcHRpb25zLm5hdGl2ZU1lbnUgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoZXZlbnQudHlwZSA9PT0gXCJ2Y2xpY2tcIiB8fFxyXG5cdFx0XHRcdGV2ZW50LmtleUNvZGUgJiYgKGV2ZW50LmtleUNvZGUgPT09ICQubW9iaWxlLmtleUNvZGUuRU5URVIgfHwgZXZlbnQua2V5Q29kZSA9PT0gJC5tb2JpbGUua2V5Q29kZS5TUEFDRSkpIHtcclxuXHJcblx0XHRcdHRoaXMuX2RlY2lkZUZvcm1hdCgpO1xyXG5cdFx0XHRpZiAoIHRoaXMubWVudVR5cGUgPT09IFwib3ZlcmxheVwiICkge1xyXG5cdFx0XHRcdHRoaXMuYnV0dG9uLmF0dHIoIFwiaHJlZlwiLCBcIiNcIiArIHRoaXMucG9wdXBJZCApLmF0dHIoIFwiZGF0YS1cIiArICggJC5tb2JpbGUubnMgfHwgXCJcIiApICsgXCJyZWxcIiwgXCJwb3B1cFwiICk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5idXR0b24uYXR0ciggXCJocmVmXCIsIFwiI1wiICsgdGhpcy5kaWFsb2dJZCApLmF0dHIoIFwiZGF0YS1cIiArICggJC5tb2JpbGUubnMgfHwgXCJcIiApICsgXCJyZWxcIiwgXCJkaWFsb2dcIiApO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuaXNPcGVuID0gdHJ1ZTtcclxuXHRcdFx0Ly8gRG8gbm90IHByZXZlbnQgZGVmYXVsdCwgc28gdGhlIG5hdmlnYXRpb24gbWF5IGhhdmUgYSBjaGFuY2UgdG8gYWN0dWFsbHkgb3BlbiB0aGUgY2hvc2VuIGZvcm1hdFxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9oYW5kbGVMaXN0Rm9jdXM6IGZ1bmN0aW9uKCBlICkge1xyXG5cdFx0dmFyIHBhcmFtcyA9ICggZS50eXBlID09PSBcImZvY3VzaW5cIiApID9cclxuXHRcdFx0eyB0YWJpbmRleDogXCIwXCIsIGV2ZW50OiBcInZtb3VzZW92ZXJcIiB9OlxyXG5cdFx0XHR7IHRhYmluZGV4OiBcIi0xXCIsIGV2ZW50OiBcInZtb3VzZW91dFwiIH07XHJcblxyXG5cdFx0JCggZS50YXJnZXQgKVxyXG5cdFx0XHQuYXR0ciggXCJ0YWJpbmRleFwiLCBwYXJhbXMudGFiaW5kZXggKVxyXG5cdFx0XHQudHJpZ2dlciggcGFyYW1zLmV2ZW50ICk7XHJcblx0fSxcclxuXHJcblx0X2hhbmRsZUxpc3RLZXlkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHR2YXIgdGFyZ2V0ID0gJCggZXZlbnQudGFyZ2V0ICksXHJcblx0XHRcdGxpID0gdGFyZ2V0LmNsb3Nlc3QoIFwibGlcIiApO1xyXG5cclxuXHRcdC8vIHN3aXRjaCBsb2dpYyBiYXNlZCBvbiB3aGljaCBrZXkgd2FzIHByZXNzZWRcclxuXHRcdHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XHJcblx0XHRcdC8vIHVwIG9yIGxlZnQgYXJyb3cga2V5c1xyXG5cdFx0Y2FzZSAzODpcclxuXHRcdFx0Z29Ub0FkamFjZW50SXRlbSggbGksIHRhcmdldCwgXCJwcmV2XCIgKTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHQvLyBkb3duIG9yIHJpZ2h0IGFycm93IGtleXNcclxuXHRcdGNhc2UgNDA6XHJcblx0XHRcdGdvVG9BZGphY2VudEl0ZW0oIGxpLCB0YXJnZXQsIFwibmV4dFwiICk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0Ly8gSWYgZW50ZXIgb3Igc3BhY2UgaXMgcHJlc3NlZCwgdHJpZ2dlciBjbGlja1xyXG5cdFx0Y2FzZSAxMzpcclxuXHRcdGNhc2UgMzI6XHJcblx0XHRcdHRhcmdldC50cmlnZ2VyKCBcImNsaWNrXCIgKTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9oYW5kbGVNZW51UGFnZUhpZGU6IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdC8vIEFmdGVyIHRoZSBkaWFsb2cncyBkb25lLCB3ZSBtYXkgd2FudCB0byB0cmlnZ2VyIGNoYW5nZSBpZiB0aGUgdmFsdWUgaGFzIGFjdHVhbGx5IGNoYW5nZWRcclxuXHRcdHRoaXMuX2RlbGF5ZWRUcmlnZ2VyKCk7XHJcblxyXG5cdFx0Ly8gVE9ETyBjZW50cmFsaXplIHBhZ2UgcmVtb3ZhbCBiaW5kaW5nIC8gaGFuZGxpbmcgaW4gdGhlIHBhZ2UgcGx1Z2luLlxyXG5cdFx0Ly8gU3VnZ2VzdGlvbiBmcm9tIEBqYmxhcyB0byBkbyByZWZjb3VudGluZ1xyXG5cdFx0Ly9cclxuXHRcdC8vIFRPRE8gZXh0cmVtZWx5IGNvbmZ1c2luZyBkZXBlbmRlbmN5IG9uIHRoZSBvcGVuIG1ldGhvZCB3aGVyZSB0aGUgcGFnZWhpZGUucmVtb3ZlXHJcblx0XHQvLyBiaW5kaW5ncyBhcmUgc3RyaXBwZWQgdG8gcHJldmVudCB0aGUgcGFyZW50IHBhZ2UgZnJvbSBkaXNhcHBlYXJpbmcuIFRoZSB3YXlcclxuXHRcdC8vIHdlJ3JlIGtlZXBpbmcgcGFnZXMgaW4gdGhlIERPTSByaWdodCBub3cgc3Vja3NcclxuXHRcdC8vXHJcblx0XHQvLyByZWJpbmQgdGhlIHBhZ2UgcmVtb3ZlIHRoYXQgd2FzIHVuYm91bmQgaW4gdGhlIG9wZW4gZnVuY3Rpb25cclxuXHRcdC8vIHRvIGFsbG93IGZvciB0aGUgcGFyZW50IHBhZ2UgcmVtb3ZhbCBmcm9tIGFjdGlvbnMgb3RoZXIgdGhhbiB0aGUgdXNlXHJcblx0XHQvLyBvZiBhIGRpYWxvZyBzaXplZCBjdXN0b20gc2VsZWN0XHJcblx0XHQvL1xyXG5cdFx0Ly8gZG9pbmcgdGhpcyBoZXJlIHByb3ZpZGVzIGZvciB0aGUgYmFjayBidXR0b24gb24gdGhlIGN1c3RvbSBzZWxlY3QgZGlhbG9nXHJcblx0XHR0aGlzLnRoaXNQYWdlLnBhZ2UoIFwiYmluZFJlbW92ZVwiICk7XHJcblx0fSxcclxuXHJcblx0X2hhbmRsZUhlYWRlckNsb3NlQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKCB0aGlzLm1lbnVUeXBlID09PSBcIm92ZXJsYXlcIiApIHtcclxuXHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2hhbmRsZUxpc3RJdGVtQ2xpY2s6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdHZhciBsaXN0SXRlbSA9ICQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIFwibGlcIiApLFxyXG5cclxuXHRcdFx0Ly8gSW5kZXggb2Ygb3B0aW9uIHRhZyB0byBiZSBzZWxlY3RlZFxyXG5cdFx0XHRvbGRJbmRleCA9IHRoaXMuc2VsZWN0WyAwIF0uc2VsZWN0ZWRJbmRleCxcclxuXHRcdFx0bmV3SW5kZXggPSAkLm1vYmlsZS5nZXRBdHRyaWJ1dGUoIGxpc3RJdGVtLCBcIm9wdGlvbi1pbmRleFwiICksXHJcblx0XHRcdG9wdGlvbiA9IHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5lcSggbmV3SW5kZXggKVsgMCBdO1xyXG5cclxuXHRcdC8vIFRvZ2dsZSBzZWxlY3RlZCBzdGF0dXMgb24gdGhlIHRhZyBmb3IgbXVsdGkgc2VsZWN0c1xyXG5cdFx0b3B0aW9uLnNlbGVjdGVkID0gdGhpcy5pc011bHRpcGxlID8gIW9wdGlvbi5zZWxlY3RlZCA6IHRydWU7XHJcblxyXG5cdFx0Ly8gVG9nZ2xlIGNoZWNrYm94IGNsYXNzIGZvciBtdWx0aXBsZSBzZWxlY3RzXHJcblx0XHRpZiAoIHRoaXMuaXNNdWx0aXBsZSApIHtcclxuXHRcdFx0bGlzdEl0ZW0uZmluZCggXCJhXCIgKVxyXG5cdFx0XHRcdC50b2dnbGVDbGFzcyggXCJ1aS1jaGVja2JveC1vblwiLCBvcHRpb24uc2VsZWN0ZWQgKVxyXG5cdFx0XHRcdC50b2dnbGVDbGFzcyggXCJ1aS1jaGVja2JveC1vZmZcIiwgIW9wdGlvbi5zZWxlY3RlZCApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIElmIGl0J3Mgbm90IGEgbXVsdGlwbGUgc2VsZWN0LCB0cmlnZ2VyIGNoYW5nZSBhZnRlciBpdCBoYXMgZmluaXNoZWQgY2xvc2luZ1xyXG5cdFx0aWYgKCAhdGhpcy5pc011bHRpcGxlICYmIG9sZEluZGV4ICE9PSBuZXdJbmRleCApIHtcclxuXHRcdFx0dGhpcy5fdHJpZ2dlckNoYW5nZSA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVHJpZ2dlciBjaGFuZ2UgaWYgaXQncyBhIG11bHRpcGxlIHNlbGVjdFxyXG5cdFx0Ly8gSGlkZSBjdXN0b20gc2VsZWN0IGZvciBzaW5nbGUgc2VsZWN0cyBvbmx5IC0gb3RoZXJ3aXNlIGZvY3VzIGNsaWNrZWQgaXRlbVxyXG5cdFx0Ly8gV2UgbmVlZCB0byBncmFiIHRoZSBjbGlja2VkIGl0ZW0gdGhlIGhhcmQgd2F5LCBiZWNhdXNlIHRoZSBsaXN0IG1heSBoYXZlIGJlZW4gcmVidWlsdFxyXG5cdFx0aWYgKCB0aGlzLmlzTXVsdGlwbGUgKSB7XHJcblx0XHRcdHRoaXMuc2VsZWN0LnRyaWdnZXIoIFwiY2hhbmdlXCIgKTtcclxuXHRcdFx0dGhpcy5saXN0LmZpbmQoIFwibGk6bm90KC51aS1saS1kaXZpZGVyKVwiICkuZXEoIG5ld0luZGV4IClcclxuXHRcdFx0XHQuZmluZCggXCJhXCIgKS5maXJzdCgpLmZvY3VzKCk7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0fSxcclxuXHJcblx0YnVpbGQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHNlbGVjdElkLCBwb3B1cElkLCBkaWFsb2dJZCwgbGFiZWwsIHRoaXNQYWdlLCBpc011bHRpcGxlLCBtZW51SWQsXHJcblx0XHRcdHRoZW1lQXR0ciwgb3ZlcmxheVRoZW1lLCBvdmVybGF5VGhlbWVBdHRyLCBkaXZpZGVyVGhlbWVBdHRyLFxyXG5cdFx0XHRtZW51UGFnZSwgbGlzdGJveCwgbGlzdCwgaGVhZGVyLCBoZWFkZXJUaXRsZSwgbWVudVBhZ2VDb250ZW50LFxyXG5cdFx0XHRtZW51UGFnZUNsb3NlLCBoZWFkZXJDbG9zZSxcclxuXHRcdFx0byA9IHRoaXMub3B0aW9ucztcclxuXHJcblx0XHRpZiAoIG8ubmF0aXZlTWVudSApIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX3N1cGVyKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0c2VsZWN0SWQgPSB0aGlzLnNlbGVjdElkO1xyXG5cdFx0cG9wdXBJZCA9IHNlbGVjdElkICsgXCItbGlzdGJveFwiO1xyXG5cdFx0ZGlhbG9nSWQgPSBzZWxlY3RJZCArIFwiLWRpYWxvZ1wiO1xyXG5cdFx0bGFiZWwgPSB0aGlzLmxhYmVsO1xyXG5cdFx0dGhpc1BhZ2UgPSB0aGlzLmVsZW1lbnQuY2xvc2VzdCggXCIudWktcGFnZVwiICk7XHJcblx0XHRpc011bHRpcGxlID0gdGhpcy5lbGVtZW50WyAwIF0ubXVsdGlwbGU7XHJcblx0XHRtZW51SWQgPSBzZWxlY3RJZCArIFwiLW1lbnVcIjtcclxuXHRcdHRoZW1lQXR0ciA9IG8udGhlbWUgPyAoIFwiIGRhdGEtXCIgKyAkLm1vYmlsZS5ucyArIFwidGhlbWU9J1wiICsgby50aGVtZSArIFwiJ1wiICkgOiBcIlwiO1xyXG5cdFx0b3ZlcmxheVRoZW1lID0gby5vdmVybGF5VGhlbWUgfHwgby50aGVtZSB8fCBudWxsO1xyXG5cdFx0b3ZlcmxheVRoZW1lQXR0ciA9IG92ZXJsYXlUaGVtZSA/ICggXCIgZGF0YS1cIiArICQubW9iaWxlLm5zICtcclxuXHRcdFx0XCJvdmVybGF5LXRoZW1lPSdcIiArIG92ZXJsYXlUaGVtZSArIFwiJ1wiICkgOiBcIlwiO1xyXG5cdFx0ZGl2aWRlclRoZW1lQXR0ciA9ICggby5kaXZpZGVyVGhlbWUgJiYgaXNNdWx0aXBsZSApID8gKCBcIiBkYXRhLVwiICsgJC5tb2JpbGUubnMgKyBcImRpdmlkZXItdGhlbWU9J1wiICsgby5kaXZpZGVyVGhlbWUgKyBcIidcIiApIDogXCJcIjtcclxuXHRcdG1lbnVQYWdlID0gJCggXCI8ZGl2IGRhdGEtXCIgKyAkLm1vYmlsZS5ucyArIFwicm9sZT0nZGlhbG9nJyBjbGFzcz0ndWktc2VsZWN0bWVudScgaWQ9J1wiICsgZGlhbG9nSWQgKyBcIidcIiArIHRoZW1lQXR0ciArIG92ZXJsYXlUaGVtZUF0dHIgKyBcIj5cIiArXHJcblx0XHRcdFwiPGRpdiBkYXRhLVwiICsgJC5tb2JpbGUubnMgKyBcInJvbGU9J2hlYWRlcic+XCIgK1xyXG5cdFx0XHRcIjxkaXYgY2xhc3M9J3VpLXRpdGxlJz48L2Rpdj5cIitcclxuXHRcdFx0XCI8L2Rpdj5cIitcclxuXHRcdFx0XCI8ZGl2IGRhdGEtXCIgKyAkLm1vYmlsZS5ucyArIFwicm9sZT0nY29udGVudCc+PC9kaXY+XCIrXHJcblx0XHRcdFwiPC9kaXY+XCIgKTtcclxuXHRcdGxpc3Rib3ggPSAkKCBcIjxkaXZcIiArIHRoZW1lQXR0ciArIG92ZXJsYXlUaGVtZUF0dHIgKyBcIiBpZD0nXCIgKyBwb3B1cElkICtcclxuXHRcdFx0XHRcIicgY2xhc3M9J3VpLXNlbGVjdG1lbnUnPjwvZGl2PlwiIClcclxuXHRcdFx0Lmluc2VydEFmdGVyKCB0aGlzLnNlbGVjdCApXHJcblx0XHRcdC5wb3B1cCgpO1xyXG5cdFx0bGlzdCA9ICQoIFwiPHVsIGNsYXNzPSd1aS1zZWxlY3RtZW51LWxpc3QnIGlkPSdcIiArIG1lbnVJZCArIFwiJyByb2xlPSdsaXN0Ym94JyBhcmlhLWxhYmVsbGVkYnk9J1wiICsgdGhpcy5idXR0b25JZCArIFwiJ1wiICsgdGhlbWVBdHRyICsgZGl2aWRlclRoZW1lQXR0ciArIFwiPjwvdWw+XCIgKS5hcHBlbmRUbyggbGlzdGJveCApO1xyXG5cdFx0aGVhZGVyID0gJCggXCI8ZGl2IGNsYXNzPSd1aS1oZWFkZXIgdWktYmFyLVwiICsgKCBvLnRoZW1lID8gby50aGVtZSA6IFwiaW5oZXJpdFwiICkgKyBcIic+PC9kaXY+XCIgKS5wcmVwZW5kVG8oIGxpc3Rib3ggKTtcclxuXHRcdGhlYWRlclRpdGxlID0gJCggXCI8aDEgY2xhc3M9J3VpLXRpdGxlJz48L2gxPlwiICkuYXBwZW5kVG8oIGhlYWRlciApO1xyXG5cclxuXHRcdGlmICggdGhpcy5pc011bHRpcGxlICkge1xyXG5cdFx0XHRoZWFkZXJDbG9zZSA9ICQoIFwiPGE+XCIsIHtcclxuXHRcdFx0XHRcInJvbGVcIjogXCJidXR0b25cIixcclxuXHRcdFx0XHRcInRleHRcIjogby5jbG9zZVRleHQsXHJcblx0XHRcdFx0XCJocmVmXCI6IFwiI1wiLFxyXG5cdFx0XHRcdFwiY2xhc3NcIjogXCJ1aS1idG4gdWktY29ybmVyLWFsbCB1aS1idG4tbGVmdCB1aS1idG4taWNvbi1ub3RleHQgdWktaWNvbi1kZWxldGVcIlxyXG5cdFx0XHR9KS5hcHBlbmRUbyggaGVhZGVyICk7XHJcblx0XHR9XHJcblxyXG5cdFx0JC5leHRlbmQoIHRoaXMsIHtcclxuXHRcdFx0c2VsZWN0SWQ6IHNlbGVjdElkLFxyXG5cdFx0XHRtZW51SWQ6IG1lbnVJZCxcclxuXHRcdFx0cG9wdXBJZDogcG9wdXBJZCxcclxuXHRcdFx0ZGlhbG9nSWQ6IGRpYWxvZ0lkLFxyXG5cdFx0XHR0aGlzUGFnZTogdGhpc1BhZ2UsXHJcblx0XHRcdG1lbnVQYWdlOiBtZW51UGFnZSxcclxuXHRcdFx0bGFiZWw6IGxhYmVsLFxyXG5cdFx0XHRpc011bHRpcGxlOiBpc011bHRpcGxlLFxyXG5cdFx0XHR0aGVtZTogby50aGVtZSxcclxuXHRcdFx0bGlzdGJveDogbGlzdGJveCxcclxuXHRcdFx0bGlzdDogbGlzdCxcclxuXHRcdFx0aGVhZGVyOiBoZWFkZXIsXHJcblx0XHRcdGhlYWRlclRpdGxlOiBoZWFkZXJUaXRsZSxcclxuXHRcdFx0aGVhZGVyQ2xvc2U6IGhlYWRlckNsb3NlLFxyXG5cdFx0XHRtZW51UGFnZUNvbnRlbnQ6IG1lbnVQYWdlQ29udGVudCxcclxuXHRcdFx0bWVudVBhZ2VDbG9zZTogbWVudVBhZ2VDbG9zZSxcclxuXHRcdFx0cGxhY2Vob2xkZXI6IFwiXCJcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIENyZWF0ZSBsaXN0IGZyb20gc2VsZWN0LCB1cGRhdGUgc3RhdGVcclxuXHRcdHRoaXMucmVmcmVzaCgpO1xyXG5cclxuXHRcdGlmICggdGhpcy5fb3JpZ1RhYkluZGV4ID09PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdC8vIE1hcCB1bmRlZmluZWQgdG8gZmFsc2UsIGJlY2F1c2UgdGhpcy5fb3JpZ1RhYkluZGV4ID09PSB1bmRlZmluZWRcclxuXHRcdFx0Ly8gaW5kaWNhdGVzIHRoYXQgd2UgaGF2ZSBub3QgeWV0IGNoZWNrZWQgd2hldGhlciB0aGUgc2VsZWN0IGhhc1xyXG5cdFx0XHQvLyBvcmlnaW5hbGx5IGhhZCBhIHRhYmluZGV4IGF0dHJpYnV0ZSwgd2hlcmVhcyBmYWxzZSBpbmRpY2F0ZXMgdGhhdFxyXG5cdFx0XHQvLyB3ZSBoYXZlIGNoZWNrZWQgdGhlIHNlbGVjdCBmb3Igc3VjaCBhbiBhdHRyaWJ1dGUsIGFuZCBoYXZlIGZvdW5kXHJcblx0XHRcdC8vIG5vbmUgcHJlc2VudC5cclxuXHRcdFx0dGhpcy5fb3JpZ1RhYkluZGV4ID0gKCB0aGlzLnNlbGVjdFsgMCBdLmdldEF0dHJpYnV0ZSggXCJ0YWJpbmRleFwiICkgPT09IG51bGwgKSA/IGZhbHNlIDogdGhpcy5zZWxlY3QuYXR0ciggXCJ0YWJpbmRleFwiICk7XHJcblx0XHR9XHJcblx0XHR0aGlzLnNlbGVjdC5hdHRyKCBcInRhYmluZGV4XCIsIFwiLTFcIiApO1xyXG5cdFx0dGhpcy5fb24oIHRoaXMuc2VsZWN0LCB7IGZvY3VzIDogXCJfaGFuZGxlU2VsZWN0Rm9jdXNcIiB9ICk7XHJcblxyXG5cdFx0Ly8gQnV0dG9uIGV2ZW50c1xyXG5cdFx0dGhpcy5fb24oIHRoaXMuYnV0dG9uLCB7XHJcblx0XHRcdHZjbGljazogXCJfaGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93blwiXHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBFdmVudHMgZm9yIGxpc3QgaXRlbXNcclxuXHRcdHRoaXMubGlzdC5hdHRyKCBcInJvbGVcIiwgXCJsaXN0Ym94XCIgKTtcclxuXHRcdHRoaXMuX29uKCB0aGlzLmxpc3QsIHtcclxuXHRcdFx0XCJmb2N1c2luXCI6IFwiX2hhbmRsZUxpc3RGb2N1c1wiLFxyXG5cdFx0XHRcImZvY3Vzb3V0XCI6IFwiX2hhbmRsZUxpc3RGb2N1c1wiLFxyXG5cdFx0XHRcImtleWRvd25cIjogXCJfaGFuZGxlTGlzdEtleWRvd25cIixcclxuXHRcdFx0XCJjbGljayBsaTpub3QoLnVpLWRpc2FibGVkLC51aS1zdGF0ZS1kaXNhYmxlZCwudWktbGktZGl2aWRlcilcIjogXCJfaGFuZGxlTGlzdEl0ZW1DbGlja1wiXHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBidXR0b24gcmVmb2N1cyBlbnN1cmVzIHByb3BlciBoZWlnaHQgY2FsY3VsYXRpb25cclxuXHRcdC8vIGJ5IHJlbW92aW5nIHRoZSBpbmxpbmUgc3R5bGUgYW5kIGVuc3VyaW5nIHBhZ2UgaW5jbHVzaW9uXHJcblx0XHR0aGlzLl9vbiggdGhpcy5tZW51UGFnZSwgeyBwYWdlaGlkZTogXCJfaGFuZGxlTWVudVBhZ2VIaWRlXCIgfSApO1xyXG5cclxuXHRcdC8vIEV2ZW50cyBvbiB0aGUgcG9wdXBcclxuXHRcdHRoaXMuX29uKCB0aGlzLmxpc3Rib3gsIHsgcG9wdXBhZnRlcmNsb3NlOiBcIl9wb3B1cENsb3NlZFwiIH0gKTtcclxuXHJcblx0XHQvLyBDbG9zZSBidXR0b24gb24gc21hbGwgb3ZlcmxheXNcclxuXHRcdGlmICggdGhpcy5pc011bHRpcGxlICkge1xyXG5cdFx0XHR0aGlzLl9vbiggdGhpcy5oZWFkZXJDbG9zZSwgeyBjbGljazogXCJfaGFuZGxlSGVhZGVyQ2xvc2VDbGlja1wiIH0gKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHRfcG9wdXBDbG9zZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0dGhpcy5fZGVsYXllZFRyaWdnZXIoKTtcclxuXHR9LFxyXG5cclxuXHRfZGVsYXllZFRyaWdnZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKCB0aGlzLl90cmlnZ2VyQ2hhbmdlICkge1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQudHJpZ2dlciggXCJjaGFuZ2VcIiApO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5fdHJpZ2dlckNoYW5nZSA9IGZhbHNlO1xyXG5cdH0sXHJcblxyXG5cdF9pc1JlYnVpbGRSZXF1aXJlZDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgbGlzdCA9IHRoaXMubGlzdC5maW5kKCBcImxpXCIgKSxcclxuXHRcdFx0b3B0aW9ucyA9IHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5ub3QoIFwiLnVpLXNjcmVlbi1oaWRkZW5cIiApO1xyXG5cclxuXHRcdC8vIFRPRE8gZXhjZWVkaW5nbHkgbmFpdmUgbWV0aG9kIHRvIGRldGVybWluZSBkaWZmZXJlbmNlXHJcblx0XHQvLyBpZ25vcmVzIHZhbHVlIGNoYW5nZXMgZXRjIGluIGZhdm9yIG9mIGEgZm9yY2VkUmVidWlsZFxyXG5cdFx0Ly8gZnJvbSB0aGUgdXNlciBpbiB0aGUgcmVmcmVzaCBtZXRob2RcclxuXHRcdHJldHVybiBvcHRpb25zLnRleHQoKSAhPT0gbGlzdC50ZXh0KCk7XHJcblx0fSxcclxuXHJcblx0c2VsZWN0ZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5maWx0ZXIoIFwiOnNlbGVjdGVkOm5vdCggOmpxbURhdGEocGxhY2Vob2xkZXI9J3RydWUnKSApXCIgKTtcclxuXHR9LFxyXG5cclxuXHRyZWZyZXNoOiBmdW5jdGlvbiggZm9yY2UgKSB7XHJcblx0XHR2YXIgc2VsZiwgaW5kaWNlcztcclxuXHJcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5uYXRpdmVNZW51ICkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5fc3VwZXIoIGZvcmNlICk7XHJcblx0XHR9XHJcblxyXG5cdFx0c2VsZiA9IHRoaXM7XHJcblx0XHRpZiAoIGZvcmNlIHx8IHRoaXMuX2lzUmVidWlsZFJlcXVpcmVkKCkgKSB7XHJcblx0XHRcdHNlbGYuX2J1aWxkTGlzdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGluZGljZXMgPSB0aGlzLnNlbGVjdGVkSW5kaWNlcygpO1xyXG5cclxuXHRcdHNlbGYuc2V0QnV0dG9uVGV4dCgpO1xyXG5cdFx0c2VsZi5zZXRCdXR0b25Db3VudCgpO1xyXG5cclxuXHRcdHNlbGYubGlzdC5maW5kKCBcImxpOm5vdCgudWktbGktZGl2aWRlcilcIiApXHJcblx0XHRcdC5maW5kKCBcImFcIiApLnJlbW92ZUNsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApLmVuZCgpXHJcblx0XHRcdC5hdHRyKCBcImFyaWEtc2VsZWN0ZWRcIiwgZmFsc2UgKVxyXG5cdFx0XHQuZWFjaChmdW5jdGlvbiggaSApIHtcclxuXHRcdFx0XHR2YXIgaXRlbSA9ICQoIHRoaXMgKTtcclxuXHRcdFx0XHRpZiAoICQuaW5BcnJheSggaSwgaW5kaWNlcyApID4gLTEgKSB7XHJcblxyXG5cdFx0XHRcdFx0Ly8gQXJpYSBzZWxlY3RlZCBhdHRyXHJcblx0XHRcdFx0XHRpdGVtLmF0dHIoIFwiYXJpYS1zZWxlY3RlZFwiLCB0cnVlICk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gTXVsdGlwbGUgc2VsZWN0czogYWRkIHRoZSBcIm9uXCIgY2hlY2tib3ggc3RhdGUgdG8gdGhlIGljb25cclxuXHRcdFx0XHRcdGlmICggc2VsZi5pc011bHRpcGxlICkge1xyXG5cdFx0XHRcdFx0XHRpdGVtLmZpbmQoIFwiYVwiICkucmVtb3ZlQ2xhc3MoIFwidWktY2hlY2tib3gtb2ZmXCIgKS5hZGRDbGFzcyggXCJ1aS1jaGVja2JveC1vblwiICk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRpZiAoIGl0ZW0uaGFzQ2xhc3MoIFwidWktc2NyZWVuLWhpZGRlblwiICkgKSB7XHJcblx0XHRcdFx0XHRcdFx0aXRlbS5uZXh0KCkuZmluZCggXCJhXCIgKS5hZGRDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRpdGVtLmZpbmQoIFwiYVwiICkuYWRkQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKCBzZWxmLmlzTXVsdGlwbGUgKSB7XHJcblx0XHRcdFx0XHRpdGVtLmZpbmQoIFwiYVwiICkucmVtb3ZlQ2xhc3MoIFwidWktY2hlY2tib3gtb25cIiApLmFkZENsYXNzKCBcInVpLWNoZWNrYm94LW9mZlwiICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRjbG9zZTogZnVuY3Rpb24oKSB7XHJcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCB8fCAhdGhpcy5pc09wZW4gKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdFx0aWYgKCBzZWxmLm1lbnVUeXBlID09PSBcInBhZ2VcIiApIHtcclxuXHRcdFx0c2VsZi5tZW51UGFnZS5kaWFsb2coIFwiY2xvc2VcIiApO1xyXG5cdFx0XHRzZWxmLmxpc3QuYXBwZW5kVG8oIHNlbGYubGlzdGJveCApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c2VsZi5saXN0Ym94LnBvcHVwKCBcImNsb3NlXCIgKTtcclxuXHRcdH1cclxuXHJcblx0XHRzZWxmLl9mb2N1c0J1dHRvbigpO1xyXG5cdFx0Ly8gYWxsb3cgdGhlIGRpYWxvZyB0byBiZSBjbG9zZWQgYWdhaW5cclxuXHRcdHNlbGYuaXNPcGVuID0gZmFsc2U7XHJcblx0fSxcclxuXHJcblx0b3BlbjogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLmJ1dHRvbi5jbGljaygpO1xyXG5cdH0sXHJcblxyXG5cdF9mb2N1c01lbnVJdGVtOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBzZWxlY3RvciA9IHRoaXMubGlzdC5maW5kKCBcImEuXCIgKyAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApO1xyXG5cdFx0aWYgKCBzZWxlY3Rvci5sZW5ndGggPT09IDAgKSB7XHJcblx0XHRcdHNlbGVjdG9yID0gdGhpcy5saXN0LmZpbmQoIFwibGk6bm90KFwiICsgdW5mb2N1c2FibGVJdGVtU2VsZWN0b3IgKyBcIikgYS51aS1idG5cIiApO1xyXG5cdFx0fVxyXG5cdFx0c2VsZWN0b3IuZmlyc3QoKS5mb2N1cygpO1xyXG5cdH0sXHJcblxyXG5cdF9kZWNpZGVGb3JtYXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzLFxyXG5cdFx0XHQkd2luZG93ID0gdGhpcy53aW5kb3csXHJcblx0XHRcdHNlbGZMaXN0UGFyZW50ID0gc2VsZi5saXN0LnBhcmVudCgpLFxyXG5cdFx0XHRtZW51SGVpZ2h0ID0gc2VsZkxpc3RQYXJlbnQub3V0ZXJIZWlnaHQoKSxcclxuXHRcdFx0c2Nyb2xsVG9wID0gJHdpbmRvdy5zY3JvbGxUb3AoKSxcclxuXHRcdFx0YnRuT2Zmc2V0ID0gc2VsZi5idXR0b24ub2Zmc2V0KCkudG9wLFxyXG5cdFx0XHRzY3JlZW5IZWlnaHQgPSAkd2luZG93LmhlaWdodCgpO1xyXG5cclxuXHRcdGlmICggbWVudUhlaWdodCA+IHNjcmVlbkhlaWdodCAtIDgwIHx8ICEkLnN1cHBvcnQuc2Nyb2xsVG9wICkge1xyXG5cclxuXHRcdFx0c2VsZi5tZW51UGFnZS5hcHBlbmRUbyggJC5tb2JpbGUucGFnZUNvbnRhaW5lciApLnBhZ2UoKTtcclxuXHRcdFx0c2VsZi5tZW51UGFnZUNvbnRlbnQgPSBzZWxmLm1lbnVQYWdlLmZpbmQoIFwiLnVpLWNvbnRlbnRcIiApO1xyXG5cdFx0XHRzZWxmLm1lbnVQYWdlQ2xvc2UgPSBzZWxmLm1lbnVQYWdlLmZpbmQoIFwiLnVpLWhlYWRlciBhXCIgKTtcclxuXHJcblx0XHRcdC8vIHByZXZlbnQgdGhlIHBhcmVudCBwYWdlIGZyb20gYmVpbmcgcmVtb3ZlZCBmcm9tIHRoZSBET00sXHJcblx0XHRcdC8vIG90aGVyd2lzZSB0aGUgcmVzdWx0cyBvZiBzZWxlY3RpbmcgYSBsaXN0IGl0ZW0gaW4gdGhlIGRpYWxvZ1xyXG5cdFx0XHQvLyBmYWxsIGludG8gYSBibGFjayBob2xlXHJcblx0XHRcdHNlbGYudGhpc1BhZ2UudW5iaW5kKCBcInBhZ2VoaWRlLnJlbW92ZVwiICk7XHJcblxyXG5cdFx0XHQvL2ZvciBXZWJPUy9PcGVyYSBNaW5pIChzZXQgbGFzdHNjcm9sbCB1c2luZyBidXR0b24gb2Zmc2V0KVxyXG5cdFx0XHRpZiAoIHNjcm9sbFRvcCA9PT0gMCAmJiBidG5PZmZzZXQgPiBzY3JlZW5IZWlnaHQgKSB7XHJcblx0XHRcdFx0c2VsZi50aGlzUGFnZS5vbmUoIFwicGFnZWhpZGVcIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHQkKCB0aGlzICkuanFtRGF0YSggXCJsYXN0U2Nyb2xsXCIsIGJ0bk9mZnNldCApO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRzZWxmLm1lbnVQYWdlLm9uZSgge1xyXG5cdFx0XHRcdHBhZ2VzaG93OiAkLnByb3h5KCB0aGlzLCBcIl9mb2N1c01lbnVJdGVtXCIgKSxcclxuXHRcdFx0XHRwYWdlaGlkZTogJC5wcm94eSggdGhpcywgXCJjbG9zZVwiIClcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRzZWxmLm1lbnVUeXBlID0gXCJwYWdlXCI7XHJcblx0XHRcdHNlbGYubWVudVBhZ2VDb250ZW50LmFwcGVuZCggc2VsZi5saXN0ICk7XHJcblx0XHRcdHNlbGYubWVudVBhZ2VcclxuXHRcdFx0XHQuZmluZCggXCJkaXYgLnVpLXRpdGxlXCIgKVxyXG5cdFx0XHRcdFx0LnRleHQoIHNlbGYubGFiZWwuZ2V0RW5jb2RlZFRleHQoKSB8fCBzZWxmLnBsYWNlaG9sZGVyICk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzZWxmLm1lbnVUeXBlID0gXCJvdmVybGF5XCI7XHJcblxyXG5cdFx0XHRzZWxmLmxpc3Rib3gub25lKCB7IHBvcHVwYWZ0ZXJvcGVuOiAkLnByb3h5KCB0aGlzLCBcIl9mb2N1c01lbnVJdGVtXCIgKSB9ICk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2J1aWxkTGlzdDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgc2VsZiA9IHRoaXMsXHJcblx0XHRcdG8gPSB0aGlzLm9wdGlvbnMsXHJcblx0XHRcdHBsYWNlaG9sZGVyID0gdGhpcy5wbGFjZWhvbGRlcixcclxuXHRcdFx0bmVlZFBsYWNlaG9sZGVyID0gdHJ1ZSxcclxuXHRcdFx0ZGF0YUljb24gPSBcImZhbHNlXCIsXHJcblx0XHRcdCRvcHRpb25zLCBudW1PcHRpb25zLCBzZWxlY3QsXHJcblx0XHRcdGRhdGFQcmVmaXggPSBcImRhdGEtXCIgKyAkLm1vYmlsZS5ucyxcclxuXHRcdFx0ZGF0YUluZGV4QXR0ciA9IGRhdGFQcmVmaXggKyBcIm9wdGlvbi1pbmRleFwiLFxyXG5cdFx0XHRkYXRhSWNvbkF0dHIgPSBkYXRhUHJlZml4ICsgXCJpY29uXCIsXHJcblx0XHRcdGRhdGFSb2xlQXR0ciA9IGRhdGFQcmVmaXggKyBcInJvbGVcIixcclxuXHRcdFx0ZGF0YVBsYWNlaG9sZGVyQXR0ciA9IGRhdGFQcmVmaXggKyBcInBsYWNlaG9sZGVyXCIsXHJcblx0XHRcdGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxyXG5cdFx0XHRpc1BsYWNlaG9sZGVySXRlbSA9IGZhbHNlLFxyXG5cdFx0XHRvcHRHcm91cCxcclxuXHRcdFx0aSxcclxuXHRcdFx0b3B0aW9uLCAkb3B0aW9uLCBwYXJlbnQsIHRleHQsIGFuY2hvciwgY2xhc3NlcyxcclxuXHRcdFx0b3B0TGFiZWwsIGRpdmlkZXIsIGl0ZW07XHJcblxyXG5cdFx0c2VsZi5saXN0LmVtcHR5KCkuZmlsdGVyKCBcIi51aS1saXN0dmlld1wiICkubGlzdHZpZXcoIFwiZGVzdHJveVwiICk7XHJcblx0XHQkb3B0aW9ucyA9IHRoaXMuX3NlbGVjdE9wdGlvbnMoKTtcclxuXHRcdG51bU9wdGlvbnMgPSAkb3B0aW9ucy5sZW5ndGg7XHJcblx0XHRzZWxlY3QgPSB0aGlzLnNlbGVjdFsgMCBdO1xyXG5cclxuXHRcdGZvciAoIGkgPSAwOyBpIDwgbnVtT3B0aW9ucztpKyssIGlzUGxhY2Vob2xkZXJJdGVtID0gZmFsc2UpIHtcclxuXHRcdFx0b3B0aW9uID0gJG9wdGlvbnNbaV07XHJcblx0XHRcdCRvcHRpb24gPSAkKCBvcHRpb24gKTtcclxuXHJcblx0XHRcdC8vIERvIG5vdCBjcmVhdGUgb3B0aW9ucyBiYXNlZCBvbiB1aS1zY3JlZW4taGlkZGVuIHNlbGVjdCBvcHRpb25zXHJcblx0XHRcdGlmICggJG9wdGlvbi5oYXNDbGFzcyggXCJ1aS1zY3JlZW4taGlkZGVuXCIgKSApIHtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cGFyZW50ID0gb3B0aW9uLnBhcmVudE5vZGU7XHJcblx0XHRcdGNsYXNzZXMgPSBbXTtcclxuXHJcblx0XHRcdC8vIEFsdGhvdWdoIHVzaW5nIC50ZXh0KCkgaGVyZSByYWlzZXMgdGhlIHJpc2sgdGhhdCwgd2hlbiB3ZSBsYXRlciBwYXN0ZSB0aGlzIGludG8gdGhlXHJcblx0XHRcdC8vIGxpc3QgaXRlbSB3ZSBlbmQgdXAgcGFzdGluZyBwb3NzaWJseSBtYWxpY2lvdXMgdGhpbmdzIGxpa2UgPHNjcmlwdD4gdGFncywgdGhhdCByaXNrXHJcblx0XHRcdC8vIG9ubHkgYXJpc2VzIGlmIHdlIGRvIHNvbWV0aGluZyBsaWtlICQoIFwiPGxpPjxhIGhyZWY9JyMnPlwiICsgdGV4dCArIFwiPC9hPjwvbGk+XCIgKS4gV2VcclxuXHRcdFx0Ly8gZG9uJ3QgZG8gdGhhdC4gV2UgZG8gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIHRleHQgKSBpbnN0ZWFkLCB3aGljaCBndWFyYW50ZWVzIHRoYXRcclxuXHRcdFx0Ly8gd2hhdGV2ZXIgd2UgcGFzdGUgaW4gd2lsbCBlbmQgdXAgYXMgdGV4dCwgd2l0aCBjaGFyYWN0ZXJzIGxpa2UgPCwgPiBhbmQgJiBlc2NhcGVkLlxyXG5cdFx0XHR0ZXh0ID0gJG9wdGlvbi50ZXh0KCk7XHJcblx0XHRcdGFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XHJcblx0XHRcdGFuY2hvci5zZXRBdHRyaWJ1dGUoIFwiaHJlZlwiLCBcIiNcIiApO1xyXG5cdFx0XHRhbmNob3IuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCB0ZXh0ICkgKTtcclxuXHJcblx0XHRcdC8vIEFyZSB3ZSBpbnNpZGUgYW4gb3B0Z3JvdXA/XHJcblx0XHRcdGlmICggcGFyZW50ICE9PSBzZWxlY3QgJiYgcGFyZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwib3B0Z3JvdXBcIiApIHtcclxuXHRcdFx0XHRvcHRMYWJlbCA9IHBhcmVudC5nZXRBdHRyaWJ1dGUoIFwibGFiZWxcIiApO1xyXG5cdFx0XHRcdGlmICggb3B0TGFiZWwgIT09IG9wdEdyb3VwICkge1xyXG5cdFx0XHRcdFx0ZGl2aWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwibGlcIiApO1xyXG5cdFx0XHRcdFx0ZGl2aWRlci5zZXRBdHRyaWJ1dGUoIGRhdGFSb2xlQXR0ciwgXCJsaXN0LWRpdmlkZXJcIiApO1xyXG5cdFx0XHRcdFx0ZGl2aWRlci5zZXRBdHRyaWJ1dGUoIFwicm9sZVwiLCBcIm9wdGlvblwiICk7XHJcblx0XHRcdFx0XHRkaXZpZGVyLnNldEF0dHJpYnV0ZSggXCJ0YWJpbmRleFwiLCBcIi0xXCIgKTtcclxuXHRcdFx0XHRcdGRpdmlkZXIuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCBvcHRMYWJlbCApICk7XHJcblx0XHRcdFx0XHRmcmFnbWVudC5hcHBlbmRDaGlsZCggZGl2aWRlciApO1xyXG5cdFx0XHRcdFx0b3B0R3JvdXAgPSBvcHRMYWJlbDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggbmVlZFBsYWNlaG9sZGVyICYmICggIW9wdGlvbi5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApIHx8IHRleHQubGVuZ3RoID09PSAwIHx8ICRvcHRpb24uanFtRGF0YSggXCJwbGFjZWhvbGRlclwiICkgKSApIHtcclxuXHRcdFx0XHRuZWVkUGxhY2Vob2xkZXIgPSBmYWxzZTtcclxuXHRcdFx0XHRpc1BsYWNlaG9sZGVySXRlbSA9IHRydWU7XHJcblxyXG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgaWRlbnRpZmllZCBhIHBsYWNlaG9sZGVyLCByZWNvcmQgdGhlIGZhY3QgdGhhdCBpdCB3YXNcclxuXHRcdFx0XHQvLyB1cyB3aG8gaGF2ZSBhZGRlZCB0aGUgcGxhY2Vob2xkZXIgdG8gdGhlIG9wdGlvbiBhbmQgbWFyayBpdFxyXG5cdFx0XHRcdC8vIHJldHJvYWN0aXZlbHkgaW4gdGhlIHNlbGVjdCBhcyB3ZWxsXHJcblx0XHRcdFx0aWYgKCBudWxsID09PSBvcHRpb24uZ2V0QXR0cmlidXRlKCBkYXRhUGxhY2Vob2xkZXJBdHRyICkgKSB7XHJcblx0XHRcdFx0XHR0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHIgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRvcHRpb24uc2V0QXR0cmlidXRlKCBkYXRhUGxhY2Vob2xkZXJBdHRyLCB0cnVlICk7XHJcblx0XHRcdFx0aWYgKCBvLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyApIHtcclxuXHRcdFx0XHRcdGNsYXNzZXMucHVzaCggXCJ1aS1zY3JlZW4taGlkZGVuXCIgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCBwbGFjZWhvbGRlciAhPT0gdGV4dCApIHtcclxuXHRcdFx0XHRcdHBsYWNlaG9sZGVyID0gc2VsZi5wbGFjZWhvbGRlciA9IHRleHQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJsaVwiICk7XHJcblx0XHRcdGlmICggb3B0aW9uLmRpc2FibGVkICkge1xyXG5cdFx0XHRcdGNsYXNzZXMucHVzaCggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiICk7XHJcblx0XHRcdFx0aXRlbS5zZXRBdHRyaWJ1dGUoIFwiYXJpYS1kaXNhYmxlZFwiLCB0cnVlICk7XHJcblx0XHRcdH1cclxuXHRcdFx0aXRlbS5zZXRBdHRyaWJ1dGUoIGRhdGFJbmRleEF0dHIsIGkgKTtcclxuXHRcdFx0aXRlbS5zZXRBdHRyaWJ1dGUoIGRhdGFJY29uQXR0ciwgZGF0YUljb24gKTtcclxuXHRcdFx0aWYgKCBpc1BsYWNlaG9sZGVySXRlbSApIHtcclxuXHRcdFx0XHRpdGVtLnNldEF0dHJpYnV0ZSggZGF0YVBsYWNlaG9sZGVyQXR0ciwgdHJ1ZSApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGl0ZW0uY2xhc3NOYW1lID0gY2xhc3Nlcy5qb2luKCBcIiBcIiApO1xyXG5cdFx0XHRpdGVtLnNldEF0dHJpYnV0ZSggXCJyb2xlXCIsIFwib3B0aW9uXCIgKTtcclxuXHRcdFx0YW5jaG9yLnNldEF0dHJpYnV0ZSggXCJ0YWJpbmRleFwiLCBcIi0xXCIgKTtcclxuXHRcdFx0aWYgKCB0aGlzLmlzTXVsdGlwbGUgKSB7XHJcblx0XHRcdFx0JCggYW5jaG9yICkuYWRkQ2xhc3MoIFwidWktYnRuIHVpLWNoZWNrYm94LW9mZiB1aS1idG4taWNvbi1yaWdodFwiICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGl0ZW0uYXBwZW5kQ2hpbGQoIGFuY2hvciApO1xyXG5cdFx0XHRmcmFnbWVudC5hcHBlbmRDaGlsZCggaXRlbSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHNlbGYubGlzdFswXS5hcHBlbmRDaGlsZCggZnJhZ21lbnQgKTtcclxuXHJcblx0XHQvLyBIaWRlIGhlYWRlciBpZiBpdCdzIG5vdCBhIG11bHRpc2VsZWN0IGFuZCB0aGVyZSdzIG5vIHBsYWNlaG9sZGVyXHJcblx0XHRpZiAoICF0aGlzLmlzTXVsdGlwbGUgJiYgIXBsYWNlaG9sZGVyLmxlbmd0aCApIHtcclxuXHRcdFx0dGhpcy5oZWFkZXIuYWRkQ2xhc3MoIFwidWktc2NyZWVuLWhpZGRlblwiICk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmhlYWRlclRpdGxlLnRleHQoIHRoaXMucGxhY2Vob2xkZXIgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBOb3cgcG9wdWxhdGVkLCBjcmVhdGUgbGlzdHZpZXdcclxuXHRcdHNlbGYubGlzdC5saXN0dmlldygpO1xyXG5cdH0sXHJcblxyXG5cdF9idXR0b246IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9ucy5uYXRpdmVNZW51ID9cclxuXHRcdFx0dGhpcy5fc3VwZXIoKSA6XHJcblx0XHRcdCQoIFwiPGE+XCIsIHtcclxuXHRcdFx0XHRcImhyZWZcIjogXCIjXCIsXHJcblx0XHRcdFx0XCJyb2xlXCI6IFwiYnV0dG9uXCIsXHJcblx0XHRcdFx0Ly8gVE9ETyB2YWx1ZSBpcyB1bmRlZmluZWQgYXQgY3JlYXRpb25cclxuXHRcdFx0XHRcImlkXCI6IHRoaXMuYnV0dG9uSWQsXHJcblx0XHRcdFx0XCJhcmlhLWhhc3BvcHVwXCI6IFwidHJ1ZVwiLFxyXG5cclxuXHRcdFx0XHQvLyBUT0RPIHZhbHVlIGlzIHVuZGVmaW5lZCBhdCBjcmVhdGlvblxyXG5cdFx0XHRcdFwiYXJpYS1vd25zXCI6IHRoaXMubWVudUlkXHJcblx0XHRcdH0pO1xyXG5cdH0sXHJcblxyXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRpZiAoICF0aGlzLm9wdGlvbnMubmF0aXZlTWVudSApIHtcclxuXHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cclxuXHRcdFx0Ly8gUmVzdG9yZSB0aGUgdGFiaW5kZXggYXR0cmlidXRlIHRvIGl0cyBvcmlnaW5hbCB2YWx1ZVxyXG5cdFx0XHRpZiAoIHRoaXMuX29yaWdUYWJJbmRleCAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdGlmICggdGhpcy5fb3JpZ1RhYkluZGV4ICE9PSBmYWxzZSApIHtcclxuXHRcdFx0XHRcdHRoaXMuc2VsZWN0LmF0dHIoIFwidGFiaW5kZXhcIiwgdGhpcy5fb3JpZ1RhYkluZGV4ICk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHRoaXMuc2VsZWN0LnJlbW92ZUF0dHIoIFwidGFiaW5kZXhcIiApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gUmVtb3ZlIHRoZSBwbGFjZWhvbGRlciBhdHRyaWJ1dGUgaWYgd2Ugd2VyZSB0aGUgb25lcyB0byBhZGQgaXRcclxuXHRcdFx0aWYgKCB0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckF0dHIgKSB7XHJcblx0XHRcdFx0dGhpcy5fc2VsZWN0T3B0aW9ucygpLnJlbW92ZUF0dHIoIFwiZGF0YS1cIiArICQubW9iaWxlLm5zICsgXCJwbGFjZWhvbGRlclwiICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFJlbW92ZSB0aGUgcG9wdXBcclxuXHRcdFx0dGhpcy5saXN0Ym94LnJlbW92ZSgpO1xyXG5cclxuXHRcdFx0Ly8gUmVtb3ZlIHRoZSBkaWFsb2dcclxuXHRcdFx0dGhpcy5tZW51UGFnZS5yZW1vdmUoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDaGFpbiB1cFxyXG5cdFx0dGhpcy5fc3VwZXIoKTtcclxuXHR9XHJcbn0pO1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuXHJcbi8vIGJ1dHRvbk1hcmt1cCBpcyBkZXByZWNhdGVkIGFzIG9mIDEuNC4wIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gMS41LjAuXHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcbi8vIEdlbmVyYWwgcG9saWN5OiBEbyBub3QgYWNjZXNzIGRhdGEtKiBhdHRyaWJ1dGVzIGV4Y2VwdCBkdXJpbmcgZW5oYW5jZW1lbnQuXHJcbi8vIEluIGFsbCBvdGhlciBjYXNlcyB3ZSBkZXRlcm1pbmUgdGhlIHN0YXRlIG9mIHRoZSBidXR0b24gZXhjbHVzaXZlbHkgZnJvbSBpdHNcclxuLy8gY2xhc3NOYW1lLiBUaGF0J3Mgd2h5IG9wdGlvbnNUb0NsYXNzZXMgZXhwZWN0cyBhIGZ1bGwgY29tcGxlbWVudCBvZiBvcHRpb25zLFxyXG4vLyBhbmQgdGhlIGpRdWVyeSBwbHVnaW4gY29tcGxldGVzIHRoZSBzZXQgb2Ygb3B0aW9ucyBmcm9tIHRoZSBkZWZhdWx0IHZhbHVlcy5cclxuXHJcbi8vIE1hcCBjbGFzc2VzIHRvIGJ1dHRvbk1hcmt1cCBib29sZWFuIG9wdGlvbnMgLSB1c2VkIGluIGNsYXNzTmFtZVRvT3B0aW9ucygpXHJcbnZhciByZXZlcnNlQm9vbE9wdGlvbk1hcCA9IHtcclxuXHRcdFwidWktc2hhZG93XCIgOiBcInNoYWRvd1wiLFxyXG5cdFx0XCJ1aS1jb3JuZXItYWxsXCIgOiBcImNvcm5lcnNcIixcclxuXHRcdFwidWktYnRuLWlubGluZVwiIDogXCJpbmxpbmVcIixcclxuXHRcdFwidWktc2hhZG93LWljb25cIiA6IFwiaWNvbnNoYWRvd1wiLCAvKiBUT0RPOiBSZW1vdmUgaW4gMS41ICovXHJcblx0XHRcInVpLW1pbmlcIiA6IFwibWluaVwiXHJcblx0fSxcclxuXHRnZXRBdHRyRml4ZWQgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciByZXQgPSAkLm1vYmlsZS5nZXRBdHRyaWJ1dGUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG5cclxuXHRcdHJldHVybiAoIHJldCA9PSBudWxsID8gdW5kZWZpbmVkIDogcmV0ICk7XHJcblx0fSxcclxuXHRjYXBpdGFsTGV0dGVyc1JFID0gL1tBLVpdL2c7XHJcblxyXG4vLyBvcHRpb25zVG9DbGFzc2VzOlxyXG4vLyBAb3B0aW9uczogQSBjb21wbGV0ZSBzZXQgb2Ygb3B0aW9ucyB0byBjb252ZXJ0IHRvIGNsYXNzIG5hbWVzLlxyXG4vLyBAZXhpc3RpbmdDbGFzc2VzOiBleHRyYSBjbGFzc2VzIHRvIGFkZCB0byB0aGUgcmVzdWx0XHJcbi8vXHJcbi8vIENvbnZlcnRzIEBvcHRpb25zIHRvIGJ1dHRvbk1hcmt1cCBjbGFzc2VzIGFuZCByZXR1cm5zIHRoZSByZXN1bHQgYXMgYW4gYXJyYXlcclxuLy8gdGhhdCBjYW4gYmUgY29udmVydGVkIHRvIGFuIGVsZW1lbnQncyBjbGFzc05hbWUgd2l0aCAuam9pbiggXCIgXCIgKS4gQWxsXHJcbi8vIHBvc3NpYmxlIG9wdGlvbnMgbXVzdCBiZSBzZXQgaW5zaWRlIEBvcHRpb25zLiBVc2UgJC5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHNcclxuLy8gdG8gZ2V0IGEgY29tcGxldGUgc2V0IGFuZCB1c2UgJC5leHRlbmQgdG8gb3ZlcnJpZGUgeW91ciBjaG9pY2Ugb2Ygb3B0aW9uc1xyXG4vLyBmcm9tIHRoYXQgc2V0LlxyXG5mdW5jdGlvbiBvcHRpb25zVG9DbGFzc2VzKCBvcHRpb25zLCBleGlzdGluZ0NsYXNzZXMgKSB7XHJcblx0dmFyIGNsYXNzZXMgPSBleGlzdGluZ0NsYXNzZXMgPyBleGlzdGluZ0NsYXNzZXMgOiBbXTtcclxuXHJcblx0Ly8gQWRkIGNsYXNzZXMgdG8gdGhlIGFycmF5IC0gZmlyc3QgdWktYnRuXHJcblx0Y2xhc3Nlcy5wdXNoKCBcInVpLWJ0blwiICk7XHJcblxyXG5cdC8vIElmIHRoZXJlIGlzIGEgdGhlbWVcclxuXHRpZiAoIG9wdGlvbnMudGhlbWUgKSB7XHJcblx0XHRjbGFzc2VzLnB1c2goIFwidWktYnRuLVwiICsgb3B0aW9ucy50aGVtZSApO1xyXG5cdH1cclxuXHJcblx0Ly8gSWYgdGhlcmUncyBhbiBpY29uLCBhZGQgdGhlIGljb24tcmVsYXRlZCBjbGFzc2VzXHJcblx0aWYgKCBvcHRpb25zLmljb24gKSB7XHJcblx0XHRjbGFzc2VzID0gY2xhc3Nlcy5jb25jYXQoW1xyXG5cdFx0XHRcInVpLWljb24tXCIgKyBvcHRpb25zLmljb24sXHJcblx0XHRcdFwidWktYnRuLWljb24tXCIgKyBvcHRpb25zLmljb25wb3NcclxuXHRcdF0pO1xyXG5cdFx0aWYgKCBvcHRpb25zLmljb25zaGFkb3cgKSB7XHJcblx0XHRcdGNsYXNzZXMucHVzaCggXCJ1aS1zaGFkb3ctaWNvblwiICk7IC8qIFRPRE86IFJlbW92ZSBpbiAxLjUgKi9cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEFkZCB0aGUgYXBwcm9wcmlhdGUgY2xhc3MgZm9yIGVhY2ggYm9vbGVhbiBvcHRpb25cclxuXHRpZiAoIG9wdGlvbnMuaW5saW5lICkge1xyXG5cdFx0Y2xhc3Nlcy5wdXNoKCBcInVpLWJ0bi1pbmxpbmVcIiApO1xyXG5cdH1cclxuXHRpZiAoIG9wdGlvbnMuc2hhZG93ICkge1xyXG5cdFx0Y2xhc3Nlcy5wdXNoKCBcInVpLXNoYWRvd1wiICk7XHJcblx0fVxyXG5cdGlmICggb3B0aW9ucy5jb3JuZXJzICkge1xyXG5cdFx0Y2xhc3Nlcy5wdXNoKCBcInVpLWNvcm5lci1hbGxcIiApO1xyXG5cdH1cclxuXHRpZiAoIG9wdGlvbnMubWluaSApIHtcclxuXHRcdGNsYXNzZXMucHVzaCggXCJ1aS1taW5pXCIgKTtcclxuXHR9XHJcblxyXG5cdC8vIENyZWF0ZSBhIHN0cmluZyBmcm9tIHRoZSBhcnJheSBhbmQgcmV0dXJuIGl0XHJcblx0cmV0dXJuIGNsYXNzZXM7XHJcbn1cclxuXHJcbi8vIGNsYXNzTmFtZVRvT3B0aW9uczpcclxuLy8gQGNsYXNzZXM6IEEgc3RyaW5nIGNvbnRhaW5pbmcgYSAuY2xhc3NOYW1lLXN0eWxlIHNwYWNlLXNlcGFyYXRlZCBjbGFzcyBsaXN0XHJcbi8vXHJcbi8vIExvb3BzIG92ZXIgQGNsYXNzZXMgYW5kIGNhbGN1bGF0ZXMgYW4gb3B0aW9ucyBvYmplY3QgYmFzZWQgb24gdGhlXHJcbi8vIGJ1dHRvbk1hcmt1cC1yZWxhdGVkIGNsYXNzZXMgaXQgZmluZHMuIEl0IHJlY29yZHMgdW5yZWNvZ25pemVkIGNsYXNzZXMgaW4gYW5cclxuLy8gYXJyYXkuXHJcbi8vXHJcbi8vIFJldHVybnM6IEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgaXRlbXM6XHJcbi8vXHJcbi8vIFwib3B0aW9uc1wiOiBidXR0b25NYXJrdXAgb3B0aW9ucyBmb3VuZCB0byBiZSBwcmVzZW50IGJlY2F1c2Ugb2YgdGhlXHJcbi8vIHByZXNlbmNlL2Fic2VuY2Ugb2YgY29ycmVzcG9uZGluZyBjbGFzc2VzXHJcbi8vXHJcbi8vIFwidW5rbm93bkNsYXNzZXNcIjogYSBzdHJpbmcgY29udGFpbmluZyBhbGwgdGhlIG5vbi1idXR0b25NYXJrdXAtcmVsYXRlZFxyXG4vLyBjbGFzc2VzIGZvdW5kIGluIEBjbGFzc2VzXHJcbi8vXHJcbi8vIFwiYWxyZWFkeUVuaGFuY2VkXCI6IEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHVpLWJ0biBjbGFzcyB3YXMgYW1vbmdcclxuLy8gdGhvc2UgZm91bmQgdG8gYmUgcHJlc2VudFxyXG5mdW5jdGlvbiBjbGFzc05hbWVUb09wdGlvbnMoIGNsYXNzZXMgKSB7XHJcblx0dmFyIGlkeCwgbWFwLCB1bmtub3duQ2xhc3MsXHJcblx0XHRhbHJlYWR5RW5oYW5jZWQgPSBmYWxzZSxcclxuXHRcdG5vSWNvbiA9IHRydWUsXHJcblx0XHRvID0ge1xyXG5cdFx0XHRpY29uOiBcIlwiLFxyXG5cdFx0XHRpbmxpbmU6IGZhbHNlLFxyXG5cdFx0XHRzaGFkb3c6IGZhbHNlLFxyXG5cdFx0XHRjb3JuZXJzOiBmYWxzZSxcclxuXHRcdFx0aWNvbnNoYWRvdzogZmFsc2UsXHJcblx0XHRcdG1pbmk6IGZhbHNlXHJcblx0XHR9LFxyXG5cdFx0dW5rbm93bkNsYXNzZXMgPSBbXTtcclxuXHJcblx0Y2xhc3NlcyA9IGNsYXNzZXMuc3BsaXQoIFwiIFwiICk7XHJcblxyXG5cdC8vIExvb3Agb3ZlciB0aGUgY2xhc3Nlc1xyXG5cdGZvciAoIGlkeCA9IDAgOyBpZHggPCBjbGFzc2VzLmxlbmd0aCA7IGlkeCsrICkge1xyXG5cclxuXHRcdC8vIEFzc3VtZSBpdCdzIGFuIHVucmVjb2duaXplZCBjbGFzc1xyXG5cdFx0dW5rbm93bkNsYXNzID0gdHJ1ZTtcclxuXHJcblx0XHQvLyBSZWNvZ25pemUgYm9vbGVhbiBvcHRpb25zIGZyb20gdGhlIHByZXNlbmNlIG9mIGNsYXNzZXNcclxuXHRcdG1hcCA9IHJldmVyc2VCb29sT3B0aW9uTWFwWyBjbGFzc2VzWyBpZHggXSBdO1xyXG5cdFx0aWYgKCBtYXAgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0dW5rbm93bkNsYXNzID0gZmFsc2U7XHJcblx0XHRcdG9bIG1hcCBdID0gdHJ1ZTtcclxuXHJcblx0XHQvLyBSZWNvZ25pemUgdGhlIHByZXNlbmNlIG9mIGFuIGljb24gYW5kIGVzdGFibGlzaCB0aGUgaWNvbiBwb3NpdGlvblxyXG5cdFx0fSBlbHNlIGlmICggY2xhc3Nlc1sgaWR4IF0uaW5kZXhPZiggXCJ1aS1idG4taWNvbi1cIiApID09PSAwICkge1xyXG5cdFx0XHR1bmtub3duQ2xhc3MgPSBmYWxzZTtcclxuXHRcdFx0bm9JY29uID0gZmFsc2U7XHJcblx0XHRcdG8uaWNvbnBvcyA9IGNsYXNzZXNbIGlkeCBdLnN1YnN0cmluZyggMTIgKTtcclxuXHJcblx0XHQvLyBFc3RhYmxpc2ggd2hpY2ggaWNvbiBpcyBwcmVzZW50XHJcblx0XHR9IGVsc2UgaWYgKCBjbGFzc2VzWyBpZHggXS5pbmRleE9mKCBcInVpLWljb24tXCIgKSA9PT0gMCApIHtcclxuXHRcdFx0dW5rbm93bkNsYXNzID0gZmFsc2U7XHJcblx0XHRcdG8uaWNvbiA9IGNsYXNzZXNbIGlkeCBdLnN1YnN0cmluZyggOCApO1xyXG5cclxuXHRcdC8vIEVzdGFibGlzaCB0aGUgdGhlbWUgLSB0aGlzIHJlY29nbml6ZXMgb25lLWxldHRlciB0aGVtZSBzd2F0Y2ggbmFtZXNcclxuXHRcdH0gZWxzZSBpZiAoIGNsYXNzZXNbIGlkeCBdLmluZGV4T2YoIFwidWktYnRuLVwiICkgPT09IDAgJiYgY2xhc3Nlc1sgaWR4IF0ubGVuZ3RoID09PSA4ICkge1xyXG5cdFx0XHR1bmtub3duQ2xhc3MgPSBmYWxzZTtcclxuXHRcdFx0by50aGVtZSA9IGNsYXNzZXNbIGlkeCBdLnN1YnN0cmluZyggNyApO1xyXG5cclxuXHRcdC8vIFJlY29nbml6ZSB0aGF0IHRoaXMgZWxlbWVudCBoYXMgYWxyZWFkeSBiZWVuIGJ1dHRvbk1hcmt1cC1lbmhhbmNlZFxyXG5cdFx0fSBlbHNlIGlmICggY2xhc3Nlc1sgaWR4IF0gPT09IFwidWktYnRuXCIgKSB7XHJcblx0XHRcdHVua25vd25DbGFzcyA9IGZhbHNlO1xyXG5cdFx0XHRhbHJlYWR5RW5oYW5jZWQgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIElmIHRoaXMgY2xhc3MgaGFzIG5vdCBiZWVuIHJlY29nbml6ZWQsIGFkZCBpdCB0byB0aGUgbGlzdFxyXG5cdFx0aWYgKCB1bmtub3duQ2xhc3MgKSB7XHJcblx0XHRcdHVua25vd25DbGFzc2VzLnB1c2goIGNsYXNzZXNbIGlkeCBdICk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBJZiBhIFwidWktYnRuLWljb24tKlwiIGljb24gcG9zaXRpb24gY2xhc3MgaXMgYWJzZW50IHRoZXJlIGNhbm5vdCBiZSBhbiBpY29uXHJcblx0aWYgKCBub0ljb24gKSB7XHJcblx0XHRvLmljb24gPSBcIlwiO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdG9wdGlvbnM6IG8sXHJcblx0XHR1bmtub3duQ2xhc3NlczogdW5rbm93bkNsYXNzZXMsXHJcblx0XHRhbHJlYWR5RW5oYW5jZWQ6IGFscmVhZHlFbmhhbmNlZFxyXG5cdH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbWVsQ2FzZTJIeXBoZW5hdGVkKCBjICkge1xyXG5cdHJldHVybiBcIi1cIiArIGMudG9Mb3dlckNhc2UoKTtcclxufVxyXG5cclxuLy8gJC5mbi5idXR0b25NYXJrdXA6XHJcbi8vIERPTTogZ2V0cy9zZXRzIC5jbGFzc05hbWVcclxuLy9cclxuLy8gQG9wdGlvbnM6IG9wdGlvbnMgdG8gYXBwbHkgdG8gdGhlIGVsZW1lbnRzIGluIHRoZSBqUXVlcnkgb2JqZWN0XHJcbi8vIEBvdmVyd3JpdGVDbGFzc2VzOiBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0byBob25vdXIgZXhpc3RpbmcgY2xhc3Nlc1xyXG4vL1xyXG4vLyBDYWxjdWxhdGVzIHRoZSBjbGFzc2VzIHRvIGFwcGx5IHRvIHRoZSBlbGVtZW50cyBpbiB0aGUgalF1ZXJ5IG9iamVjdCBiYXNlZCBvblxyXG4vLyB0aGUgb3B0aW9ucyBwYXNzZWQgaW4uIElmIEBvdmVyd3JpdGVDbGFzc2VzIGlzIHRydWUsIGl0IHNldHMgdGhlIGNsYXNzTmFtZVxyXG4vLyBwcm9wZXJ0eSBvZiBlYWNoIGVsZW1lbnQgaW4gdGhlIGpRdWVyeSBvYmplY3QgdG8gdGhlIGJ1dHRvbk1hcmt1cCBjbGFzc2VzXHJcbi8vIGl0IGNhbGN1bGF0ZXMgYmFzZWQgb24gdGhlIG9wdGlvbnMgcGFzc2VkIGluLlxyXG4vL1xyXG4vLyBJZiB5b3Ugd2lzaCB0byBwcmVzZXJ2ZSBhbnkgY2xhc3NlcyB0aGF0IGFyZSBhbHJlYWR5IHByZXNlbnQgb24gdGhlIGVsZW1lbnRzXHJcbi8vIGluc2lkZSB0aGUgalF1ZXJ5IG9iamVjdCwgaW5jbHVkaW5nIGJ1dHRvbk1hcmt1cC1yZWxhdGVkIGNsYXNzZXMgdGhhdCB3ZXJlXHJcbi8vIGFkZGVkIGJ5IGEgcHJldmlvdXMgY2FsbCB0byAkLmZuLmJ1dHRvbk1hcmt1cCgpIG9yIGR1cmluZyBwYWdlIGVuaGFuY2VtZW50XHJcbi8vIHRoZW4geW91IHNob3VsZCBvbWl0IEBvdmVyd3JpdGVDbGFzc2VzIG9yIHNldCBpdCB0byBmYWxzZS5cclxuJC5mbi5idXR0b25NYXJrdXAgPSBmdW5jdGlvbiggb3B0aW9ucywgb3ZlcndyaXRlQ2xhc3NlcyApIHtcclxuXHR2YXIgaWR4LCBkYXRhLCBlbCwgcmV0cmlldmVkT3B0aW9ucywgb3B0aW9uS2V5LFxyXG5cdFx0ZGVmYXVsdHMgPSAkLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cztcclxuXHJcblx0Zm9yICggaWR4ID0gMCA7IGlkeCA8IHRoaXMubGVuZ3RoIDsgaWR4KysgKSB7XHJcblx0XHRlbCA9IHRoaXNbIGlkeCBdO1xyXG5cdFx0ZGF0YSA9IG92ZXJ3cml0ZUNsYXNzZXMgP1xyXG5cclxuXHRcdFx0Ly8gQXNzdW1lIHRoaXMgZWxlbWVudCBpcyBub3QgZW5oYW5jZWQgYW5kIGlnbm9yZSBpdHMgY2xhc3Nlc1xyXG5cdFx0XHR7IGFscmVhZHlFbmhhbmNlZDogZmFsc2UsIHVua25vd25DbGFzc2VzOiBbXSB9IDpcclxuXHJcblx0XHRcdC8vIE90aGVyd2lzZSBhbmFseXplIGV4aXN0aW5nIGNsYXNzZXMgdG8gZXN0YWJsaXNoIGV4aXN0aW5nIG9wdGlvbnMgYW5kXHJcblx0XHRcdC8vIGNsYXNzZXNcclxuXHRcdFx0Y2xhc3NOYW1lVG9PcHRpb25zKCBlbC5jbGFzc05hbWUgKTtcclxuXHJcblx0XHRyZXRyaWV2ZWRPcHRpb25zID0gJC5leHRlbmQoIHt9LFxyXG5cclxuXHRcdFx0Ly8gSWYgdGhlIGVsZW1lbnQgYWxyZWFkeSBoYXMgdGhlIGNsYXNzIHVpLWJ0biwgdGhlbiB3ZSBhc3N1bWUgdGhhdFxyXG5cdFx0XHQvLyBpdCBoYXMgcGFzc2VkIHRocm91Z2ggYnV0dG9uTWFya3VwIGJlZm9yZSAtIG90aGVyd2lzZSwgdGhlIG9wdGlvbnNcclxuXHRcdFx0Ly8gcmV0dXJuZWQgYnkgY2xhc3NOYW1lVG9PcHRpb25zIGRvIG5vdCBjb3JyZWN0bHkgcmVmbGVjdCB0aGUgc3RhdGUgb2ZcclxuXHRcdFx0Ly8gdGhlIGVsZW1lbnRcclxuXHRcdFx0KCBkYXRhLmFscmVhZHlFbmhhbmNlZCA/IGRhdGEub3B0aW9ucyA6IHt9ICksXHJcblxyXG5cdFx0XHQvLyBGaW5hbGx5LCBhcHBseSB0aGUgb3B0aW9ucyBwYXNzZWQgaW5cclxuXHRcdFx0b3B0aW9ucyApO1xyXG5cclxuXHRcdC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwgb24gdGhpcyBlbGVtZW50LCByZXRyaWV2ZSByZW1haW5pbmcgb3B0aW9uc1xyXG5cdFx0Ly8gZnJvbSB0aGUgZGF0YS1hdHRyaWJ1dGVzXHJcblx0XHRpZiAoICFkYXRhLmFscmVhZHlFbmhhbmNlZCApIHtcclxuXHRcdFx0Zm9yICggb3B0aW9uS2V5IGluIGRlZmF1bHRzICkge1xyXG5cdFx0XHRcdGlmICggcmV0cmlldmVkT3B0aW9uc1sgb3B0aW9uS2V5IF0gPT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHRcdHJldHJpZXZlZE9wdGlvbnNbIG9wdGlvbktleSBdID0gZ2V0QXR0ckZpeGVkKCBlbCxcclxuXHRcdFx0XHRcdFx0b3B0aW9uS2V5LnJlcGxhY2UoIGNhcGl0YWxMZXR0ZXJzUkUsIGNhbWVsQ2FzZTJIeXBoZW5hdGVkIClcclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0ZWwuY2xhc3NOYW1lID0gb3B0aW9uc1RvQ2xhc3NlcyhcclxuXHJcblx0XHRcdC8vIE1lcmdlIGFsbCB0aGUgb3B0aW9ucyBhbmQgYXBwbHkgdGhlbSBhcyBjbGFzc2VzXHJcblx0XHRcdCQuZXh0ZW5kKCB7fSxcclxuXHJcblx0XHRcdFx0Ly8gVGhlIGRlZmF1bHRzIGZvcm0gdGhlIGJhc2lzXHJcblx0XHRcdFx0ZGVmYXVsdHMsXHJcblxyXG5cdFx0XHRcdC8vIEFkZCB0aGUgY29tcHV0ZWQgb3B0aW9uc1xyXG5cdFx0XHRcdHJldHJpZXZlZE9wdGlvbnNcclxuXHRcdFx0KSxcclxuXHJcblx0XHRcdC8vIC4uLiBhbmQgcmUtYXBwbHkgYW55IHVucmVjb2duaXplZCBjbGFzc2VzIHRoYXQgd2VyZSBmb3VuZFxyXG5cdFx0XHRkYXRhLnVua25vd25DbGFzc2VzICkuam9pbiggXCIgXCIgKTtcclxuXHRcdGlmICggZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSBcImJ1dHRvblwiICkge1xyXG5cdFx0XHRlbC5zZXRBdHRyaWJ1dGUoIFwicm9sZVwiLCBcImJ1dHRvblwiICk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8vIGJ1dHRvbk1hcmt1cCBkZWZhdWx0cy4gVGhpcyBtdXN0IGJlIGEgY29tcGxldGUgc2V0LCBpLmUuLCBhIHZhbHVlIG11c3QgYmVcclxuLy8gZ2l2ZW4gaGVyZSBmb3IgYWxsIHJlY29nbml6ZWQgb3B0aW9uc1xyXG4kLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cyA9IHtcclxuXHRpY29uOiBcIlwiLFxyXG5cdGljb25wb3M6IFwibGVmdFwiLFxyXG5cdHRoZW1lOiBudWxsLFxyXG5cdGlubGluZTogZmFsc2UsXHJcblx0c2hhZG93OiB0cnVlLFxyXG5cdGNvcm5lcnM6IHRydWUsXHJcblx0aWNvbnNoYWRvdzogZmFsc2UsIC8qIFRPRE86IFJlbW92ZSBpbiAxLjUuIE9wdGlvbiBkZXByZWNhdGVkIGluIDEuNC4gKi9cclxuXHRtaW5pOiBmYWxzZVxyXG59O1xyXG5cclxuJC5leHRlbmQoICQuZm4uYnV0dG9uTWFya3VwLCB7XHJcblx0aW5pdFNlbGVjdG9yOiBcImE6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEsIGJ1dHRvbjpub3QoOmpxbURhdGEocm9sZT0nbmF2YmFyJykgYnV0dG9uKVwiXHJcbn0pO1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxuJC53aWRnZXQoIFwibW9iaWxlLmNvbnRyb2xncm91cFwiLCAkLmV4dGVuZCgge1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdGVuaGFuY2VkOiBmYWxzZSxcclxuXHRcdHRoZW1lOiBudWxsLFxyXG5cdFx0c2hhZG93OiBmYWxzZSxcclxuXHRcdGNvcm5lcnM6IHRydWUsXHJcblx0XHRleGNsdWRlSW52aXNpYmxlOiB0cnVlLFxyXG5cdFx0dHlwZTogXCJ2ZXJ0aWNhbFwiLFxyXG5cdFx0bWluaTogZmFsc2VcclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBlbGVtID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHRvcHRzID0gdGhpcy5vcHRpb25zLFxyXG5cdFx0XHRrZWVwTmF0aXZlID0gJC5tb2JpbGUucGFnZS5wcm90b3R5cGUua2VlcE5hdGl2ZVNlbGVjdG9yKCk7XHJcblxyXG5cdFx0Ly8gUnVuIGJ1dHRvbm1hcmt1cFxyXG5cdFx0aWYgKCAkLmZuLmJ1dHRvbk1hcmt1cCApIHtcclxuXHRcdFx0dGhpcy5lbGVtZW50XHJcblx0XHRcdFx0LmZpbmQoICQuZm4uYnV0dG9uTWFya3VwLmluaXRTZWxlY3RvciApXHJcblx0XHRcdFx0Lm5vdCgga2VlcE5hdGl2ZSApXHJcblx0XHRcdFx0LmJ1dHRvbk1hcmt1cCgpO1xyXG5cdFx0fVxyXG5cdFx0Ly8gRW5oYW5jZSBjaGlsZCB3aWRnZXRzXHJcblx0XHQkLmVhY2goIHRoaXMuX2NoaWxkV2lkZ2V0cywgJC5wcm94eSggZnVuY3Rpb24oIG51bWJlciwgd2lkZ2V0TmFtZSApIHtcclxuXHRcdFx0aWYgKCAkLm1vYmlsZVsgd2lkZ2V0TmFtZSBdICkge1xyXG5cdFx0XHRcdHRoaXMuZWxlbWVudFxyXG5cdFx0XHRcdFx0LmZpbmQoICQubW9iaWxlWyB3aWRnZXROYW1lIF0uaW5pdFNlbGVjdG9yIClcclxuXHRcdFx0XHRcdC5ub3QoIGtlZXBOYXRpdmUgKVsgd2lkZ2V0TmFtZSBdKCk7XHJcblx0XHRcdH1cclxuXHRcdH0sIHRoaXMgKSk7XHJcblxyXG5cdFx0JC5leHRlbmQoIHRoaXMsIHtcclxuXHRcdFx0X3VpOiBudWxsLFxyXG5cdFx0XHRfaW5pdGlhbFJlZnJlc2g6IHRydWVcclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmICggb3B0cy5lbmhhbmNlZCApIHtcclxuXHRcdFx0dGhpcy5fdWkgPSB7XHJcblx0XHRcdFx0Z3JvdXBMZWdlbmQ6IGVsZW0uY2hpbGRyZW4oIFwiLnVpLWNvbnRyb2xncm91cC1sYWJlbFwiICkuY2hpbGRyZW4oKSxcclxuXHRcdFx0XHRjaGlsZFdyYXBwZXI6IGVsZW0uY2hpbGRyZW4oIFwiLnVpLWNvbnRyb2xncm91cC1jb250cm9sc1wiIClcclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuX3VpID0gdGhpcy5fZW5oYW5jZSgpO1xyXG5cdFx0fVxyXG5cclxuXHR9LFxyXG5cclxuXHRfY2hpbGRXaWRnZXRzOiBbIFwiY2hlY2tib3hyYWRpb1wiLCBcInNlbGVjdG1lbnVcIiwgXCJidXR0b25cIiBdLFxyXG5cclxuXHRfdGhlbWVDbGFzc0Zyb21PcHRpb246IGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuXHRcdHJldHVybiAoIHZhbHVlID8gKCB2YWx1ZSA9PT0gXCJub25lXCIgPyBcIlwiIDogXCJ1aS1ncm91cC10aGVtZS1cIiArIHZhbHVlICkgOiBcIlwiICk7XHJcblx0fSxcclxuXHJcblx0X2VuaGFuY2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGVsZW0gPSB0aGlzLmVsZW1lbnQsXHJcblx0XHRcdG9wdHMgPSB0aGlzLm9wdGlvbnMsXHJcblx0XHRcdHVpID0ge1xyXG5cdFx0XHRcdGdyb3VwTGVnZW5kOiBlbGVtLmNoaWxkcmVuKCBcImxlZ2VuZFwiICksXHJcblx0XHRcdFx0Y2hpbGRXcmFwcGVyOiBlbGVtXHJcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktY29udHJvbGdyb3VwIFwiICtcclxuXHRcdFx0XHRcdFx0XCJ1aS1jb250cm9sZ3JvdXAtXCIgK1xyXG5cdFx0XHRcdFx0XHRcdCggb3B0cy50eXBlID09PSBcImhvcml6b250YWxcIiA/IFwiaG9yaXpvbnRhbFwiIDogXCJ2ZXJ0aWNhbFwiICkgKyBcIiBcIiArXHJcblx0XHRcdFx0XHRcdHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCBvcHRzLnRoZW1lICkgKyBcIiBcIiArXHJcblx0XHRcdFx0XHRcdCggb3B0cy5jb3JuZXJzID8gXCJ1aS1jb3JuZXItYWxsIFwiIDogXCJcIiApICtcclxuXHRcdFx0XHRcdFx0KCBvcHRzLm1pbmkgPyBcInVpLW1pbmkgXCIgOiBcIlwiICkgKVxyXG5cdFx0XHRcdFx0LndyYXBJbm5lciggXCI8ZGl2IFwiICtcclxuXHRcdFx0XHRcdFx0XCJjbGFzcz0ndWktY29udHJvbGdyb3VwLWNvbnRyb2xzIFwiICtcclxuXHRcdFx0XHRcdFx0XHQoIG9wdHMuc2hhZG93ID09PSB0cnVlID8gXCJ1aS1zaGFkb3dcIiA6IFwiXCIgKSArIFwiJz48L2Rpdj5cIiApXHJcblx0XHRcdFx0XHQuY2hpbGRyZW4oKVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdGlmICggdWkuZ3JvdXBMZWdlbmQubGVuZ3RoID4gMCApIHtcclxuXHRcdFx0JCggXCI8ZGl2IHJvbGU9J2hlYWRpbmcnIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwnPjwvZGl2PlwiIClcclxuXHRcdFx0XHQuYXBwZW5kKCB1aS5ncm91cExlZ2VuZCApXHJcblx0XHRcdFx0LnByZXBlbmRUbyggZWxlbSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB1aTtcclxuXHR9LFxyXG5cclxuXHRfaW5pdDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLnJlZnJlc2goKTtcclxuXHR9LFxyXG5cclxuXHRfc2V0T3B0aW9uczogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XHJcblx0XHR2YXIgY2FsbFJlZnJlc2gsIHJldHVyblZhbHVlLFxyXG5cdFx0XHRlbGVtID0gdGhpcy5lbGVtZW50O1xyXG5cclxuXHRcdC8vIE11c3QgaGF2ZSBvbmUgb2YgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbFxyXG5cdFx0aWYgKCBvcHRpb25zLnR5cGUgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0ZWxlbVxyXG5cdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCB1aS1jb250cm9sZ3JvdXAtdmVydGljYWxcIiApXHJcblx0XHRcdFx0LmFkZENsYXNzKCBcInVpLWNvbnRyb2xncm91cC1cIiArICggb3B0aW9ucy50eXBlID09PSBcImhvcml6b250YWxcIiA/IFwiaG9yaXpvbnRhbFwiIDogXCJ2ZXJ0aWNhbFwiICkgKTtcclxuXHRcdFx0Y2FsbFJlZnJlc2ggPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0aW9ucy50aGVtZSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRlbGVtXHJcblx0XHRcdFx0LnJlbW92ZUNsYXNzKCB0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbiggdGhpcy5vcHRpb25zLnRoZW1lICkgKVxyXG5cdFx0XHRcdC5hZGRDbGFzcyggdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oIG9wdGlvbnMudGhlbWUgKSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0aW9ucy5jb3JuZXJzICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdGVsZW0udG9nZ2xlQ2xhc3MoIFwidWktY29ybmVyLWFsbFwiLCBvcHRpb25zLmNvcm5lcnMgKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIG9wdGlvbnMubWluaSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRlbGVtLnRvZ2dsZUNsYXNzKCBcInVpLW1pbmlcIiwgb3B0aW9ucy5taW5pICk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBvcHRpb25zLnNoYWRvdyAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHR0aGlzLl91aS5jaGlsZFdyYXBwZXIudG9nZ2xlQ2xhc3MoIFwidWktc2hhZG93XCIsIG9wdGlvbnMuc2hhZG93ICk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBvcHRpb25zLmV4Y2x1ZGVJbnZpc2libGUgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0dGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGUgPSBvcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU7XHJcblx0XHRcdGNhbGxSZWZyZXNoID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm5WYWx1ZSA9IHRoaXMuX3N1cGVyKCBvcHRpb25zICk7XHJcblxyXG5cdFx0aWYgKCBjYWxsUmVmcmVzaCApIHtcclxuXHRcdFx0dGhpcy5yZWZyZXNoKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJldHVyblZhbHVlO1xyXG5cdH0sXHJcblxyXG5cdGNvbnRhaW5lcjogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fdWkuY2hpbGRXcmFwcGVyO1xyXG5cdH0sXHJcblxyXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyICRlbCA9IHRoaXMuY29udGFpbmVyKCksXHJcblx0XHRcdGVscyA9ICRlbC5maW5kKCBcIi51aS1idG5cIiApLm5vdCggXCIudWktc2xpZGVyLWhhbmRsZVwiICksXHJcblx0XHRcdGNyZWF0ZSA9IHRoaXMuX2luaXRpYWxSZWZyZXNoO1xyXG5cdFx0aWYgKCAkLm1vYmlsZS5jaGVja2JveHJhZGlvICkge1xyXG5cdFx0XHQkZWwuZmluZCggXCI6bW9iaWxlLWNoZWNrYm94cmFkaW9cIiApLmNoZWNrYm94cmFkaW8oIFwicmVmcmVzaFwiICk7XHJcblx0XHR9XHJcblx0XHR0aGlzLl9hZGRGaXJzdExhc3RDbGFzc2VzKCBlbHMsXHJcblx0XHRcdHRoaXMub3B0aW9ucy5leGNsdWRlSW52aXNpYmxlID8gdGhpcy5fZ2V0VmlzaWJsZXMoIGVscywgY3JlYXRlICkgOiBlbHMsXHJcblx0XHRcdGNyZWF0ZSApO1xyXG5cdFx0dGhpcy5faW5pdGlhbFJlZnJlc2ggPSBmYWxzZTtcclxuXHR9LFxyXG5cclxuXHQvLyBDYXZlYXQ6IElmIHRoZSBsZWdlbmQgaXMgbm90IHRoZSBmaXJzdCBjaGlsZCBvZiB0aGUgY29udHJvbGdyb3VwIGF0IGVuaGFuY2VcclxuXHQvLyB0aW1lLCBpdCB3aWxsIGJlIGFmdGVyIF9kZXN0cm95KCkuXHJcblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHVpLCBidXR0b25zLFxyXG5cdFx0XHRvcHRzID0gdGhpcy5vcHRpb25zO1xyXG5cclxuXHRcdGlmICggb3B0cy5lbmhhbmNlZCApIHtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0dWkgPSB0aGlzLl91aTtcclxuXHRcdGJ1dHRvbnMgPSB0aGlzLmVsZW1lbnRcclxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLWNvbnRyb2xncm91cCBcIiArXHJcblx0XHRcdFx0XCJ1aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCB1aS1jb250cm9sZ3JvdXAtdmVydGljYWwgdWktY29ybmVyLWFsbCB1aS1taW5pIFwiICtcclxuXHRcdFx0XHR0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbiggb3B0cy50aGVtZSApIClcclxuXHRcdFx0LmZpbmQoIFwiLnVpLWJ0blwiIClcclxuXHRcdFx0Lm5vdCggXCIudWktc2xpZGVyLWhhbmRsZVwiICk7XHJcblxyXG5cdFx0dGhpcy5fcmVtb3ZlRmlyc3RMYXN0Q2xhc3NlcyggYnV0dG9ucyApO1xyXG5cclxuXHRcdHVpLmdyb3VwTGVnZW5kLnVud3JhcCgpO1xyXG5cdFx0dWkuY2hpbGRXcmFwcGVyLmNoaWxkcmVuKCkudW53cmFwKCk7XHJcblx0fVxyXG59LCAkLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcyApICk7XHJcblxyXG59KShqUXVlcnkpO1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblxyXG5cdCQud2lkZ2V0KCBcIm1vYmlsZS50b29sYmFyXCIsIHtcclxuXHRcdGluaXRTZWxlY3RvcjogXCI6anFtRGF0YShyb2xlPSdmb290ZXInKSwgOmpxbURhdGEocm9sZT0naGVhZGVyJylcIixcclxuXHJcblx0XHRvcHRpb25zOiB7XHJcblx0XHRcdHRoZW1lOiBudWxsLFxyXG5cdFx0XHRhZGRCYWNrQnRuOiBmYWxzZSxcclxuXHRcdFx0YmFja0J0blRoZW1lOiBudWxsLFxyXG5cdFx0XHRiYWNrQnRuVGV4dDogXCJCYWNrXCJcclxuXHRcdH0sXHJcblxyXG5cdFx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBsZWZ0YnRuLCByaWdodGJ0bixcclxuXHRcdFx0XHRyb2xlID0gIHRoaXMuZWxlbWVudC5pcyggXCI6anFtRGF0YShyb2xlPSdoZWFkZXInKVwiICkgPyBcImhlYWRlclwiIDogXCJmb290ZXJcIixcclxuXHRcdFx0XHRwYWdlID0gdGhpcy5lbGVtZW50LmNsb3Nlc3QoIFwiLnVpLXBhZ2VcIiApO1xyXG5cdFx0XHRpZiAoIHBhZ2UubGVuZ3RoID09PSAwICkge1xyXG5cdFx0XHRcdHBhZ2UgPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLl9vbiggdGhpcy5kb2N1bWVudCwge1xyXG5cdFx0XHRcdFx0XCJwYWdlc2hvd1wiOiBcInJlZnJlc2hcIlxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdCQuZXh0ZW5kKCB0aGlzLCB7XHJcblx0XHRcdFx0cm9sZTogcm9sZSxcclxuXHRcdFx0XHRwYWdlOiBwYWdlLFxyXG5cdFx0XHRcdGxlZnRidG46IGxlZnRidG4sXHJcblx0XHRcdFx0cmlnaHRidG46IHJpZ2h0YnRuXHJcblx0XHRcdH0pO1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQuYXR0ciggXCJyb2xlXCIsIHJvbGUgPT09IFwiaGVhZGVyXCIgPyBcImJhbm5lclwiIDogXCJjb250ZW50aW5mb1wiICkuYWRkQ2xhc3MoIFwidWktXCIgKyByb2xlICk7XHJcblx0XHRcdHRoaXMucmVmcmVzaCgpO1xyXG5cdFx0XHR0aGlzLl9zZXRPcHRpb25zKCB0aGlzLm9wdGlvbnMgKTtcclxuXHRcdH0sXHJcblx0XHRfc2V0T3B0aW9uczogZnVuY3Rpb24oIG8gKSB7XHJcblx0XHRcdGlmICggby5hZGRCYWNrQnRuICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0dGhpcy5fdXBkYXRlQmFja0J1dHRvbigpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggby5iYWNrQnRuVGhlbWUgIT0gbnVsbCApIHtcclxuXHRcdFx0XHR0aGlzLmVsZW1lbnRcclxuXHRcdFx0XHRcdC5maW5kKCBcIi51aS10b29sYmFyLWJhY2stYnRuXCIgKVxyXG5cdFx0XHRcdFx0LmFkZENsYXNzKCBcInVpLWJ0biB1aS1idG4tXCIgKyBvLmJhY2tCdG5UaGVtZSApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggby5iYWNrQnRuVGV4dCAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdHRoaXMuZWxlbWVudC5maW5kKCBcIi51aS10b29sYmFyLWJhY2stYnRuIC51aS1idG4tdGV4dFwiICkudGV4dCggby5iYWNrQnRuVGV4dCApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggby50aGVtZSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdHZhciBjdXJyZW50VGhlbWUgPSB0aGlzLm9wdGlvbnMudGhlbWUgPyB0aGlzLm9wdGlvbnMudGhlbWUgOiBcImluaGVyaXRcIixcclxuXHRcdFx0XHRcdG5ld1RoZW1lID0gby50aGVtZSA/IG8udGhlbWUgOiBcImluaGVyaXRcIjtcclxuXHJcblx0XHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCBcInVpLWJhci1cIiArIGN1cnJlbnRUaGVtZSApLmFkZENsYXNzKCBcInVpLWJhci1cIiArIG5ld1RoZW1lICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuX3N1cGVyKCBvICk7XHJcblx0XHR9LFxyXG5cdFx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICggdGhpcy5yb2xlID09PSBcImhlYWRlclwiICkge1xyXG5cdFx0XHRcdHRoaXMuX2FkZEhlYWRlckJ1dHRvbkNsYXNzZXMoKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoICF0aGlzLnBhZ2UgKSB7XHJcblx0XHRcdFx0dGhpcy5fc2V0UmVsYXRpdmUoKTtcclxuXHRcdFx0XHRpZiAoIHRoaXMucm9sZSA9PT0gXCJmb290ZXJcIiApIHtcclxuXHRcdFx0XHRcdHRoaXMuZWxlbWVudC5hcHBlbmRUbyggXCJib2R5XCIgKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKCB0aGlzLnJvbGUgPT09IFwiaGVhZGVyXCIgKSB7XHJcblx0XHRcdFx0XHR0aGlzLl91cGRhdGVCYWNrQnV0dG9uKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuX2FkZEhlYWRpbmdDbGFzc2VzKCk7XHJcblx0XHRcdHRoaXMuX2J0bk1hcmt1cCgpO1xyXG5cdFx0fSxcclxuXHJcblx0XHQvL3dlIG9ubHkgd2FudCB0aGlzIHRvIHJ1biBvbiBub24gZml4ZWQgdG9vbGJhcnMgc28gbWFrZSBpdCBlYXN5IHRvIG92ZXJyaWRlXHJcblx0XHRfc2V0UmVsYXRpdmU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQkKCBcIltkYXRhLVwiKyAkLm1vYmlsZS5ucyArIFwicm9sZT0ncGFnZSddXCIgKS5jc3MoeyBcInBvc2l0aW9uXCI6IFwicmVsYXRpdmVcIiB9KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gRGVwcmVjYXRlZCBpbiAxLjQuIEFzIGZyb20gMS41IGJ1dHRvbiBjbGFzc2VzIGhhdmUgdG8gYmUgcHJlc2VudCBpbiB0aGUgbWFya3VwLlxyXG5cdFx0X2J0bk1hcmt1cDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudFxyXG5cdFx0XHRcdC5jaGlsZHJlbiggXCJhXCIgKVxyXG5cdFx0XHRcdC5maWx0ZXIoIFwiOm5vdChbZGF0YS1cIiArICQubW9iaWxlLm5zICsgXCJyb2xlPSdub25lJ10pXCIgKVxyXG5cdFx0XHRcdC5hdHRyKCBcImRhdGEtXCIgKyAkLm1vYmlsZS5ucyArIFwicm9sZVwiLCBcImJ1dHRvblwiICk7XHJcblx0XHRcdHRoaXMuZWxlbWVudC50cmlnZ2VyKCBcImNyZWF0ZVwiICk7XHJcblx0XHR9LFxyXG5cdFx0Ly8gRGVwcmVjYXRlZCBpbiAxLjQuIEFzIGZyb20gMS41IHVpLWJ0bi1sZWZ0L3JpZ2h0IGNsYXNzZXMgaGF2ZSB0byBiZSBwcmVzZW50IGluIHRoZSBtYXJrdXAuXHJcblx0XHRfYWRkSGVhZGVyQnV0dG9uQ2xhc3NlczogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBoZWFkZXJBbmNob3JzID0gdGhpcy5lbGVtZW50LmNoaWxkcmVuKCBcImEsIGJ1dHRvblwiICk7XHJcblxyXG5cdFx0XHQvLyBEbyBub3QgbWlzdGFrZSBhIGJhY2sgYnV0dG9uIGZvciBhIGxlZnQgdG9vbGJhciBidXR0b25cclxuXHRcdFx0dGhpcy5sZWZ0YnRuID0gaGVhZGVyQW5jaG9ycy5oYXNDbGFzcyggXCJ1aS1idG4tbGVmdFwiICkgJiZcclxuXHRcdFx0XHQhaGVhZGVyQW5jaG9ycy5oYXNDbGFzcyggXCJ1aS10b29sYmFyLWJhY2stYnRuXCIgKTtcclxuXHJcblx0XHRcdHRoaXMucmlnaHRidG4gPSBoZWFkZXJBbmNob3JzLmhhc0NsYXNzKCBcInVpLWJ0bi1yaWdodFwiICk7XHJcblxyXG5cdFx0XHQvLyBGaWx0ZXIgb3V0IHJpZ2h0IGJ1dHRvbnMgYW5kIGJhY2sgYnV0dG9uc1xyXG5cdFx0XHR0aGlzLmxlZnRidG4gPSB0aGlzLmxlZnRidG4gfHxcclxuXHRcdFx0XHRoZWFkZXJBbmNob3JzLmVxKCAwIClcclxuXHRcdFx0XHRcdC5ub3QoIFwiLnVpLWJ0bi1yaWdodCwudWktdG9vbGJhci1iYWNrLWJ0blwiIClcclxuXHRcdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1idG4tbGVmdFwiIClcclxuXHRcdFx0XHRcdC5sZW5ndGg7XHJcblxyXG5cdFx0XHR0aGlzLnJpZ2h0YnRuID0gdGhpcy5yaWdodGJ0biB8fCBoZWFkZXJBbmNob3JzLmVxKCAxICkuYWRkQ2xhc3MoIFwidWktYnRuLXJpZ2h0XCIgKS5sZW5ndGg7XHJcblx0XHR9LFxyXG5cdFx0X3VwZGF0ZUJhY2tCdXR0b246IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgYmFja0J1dHRvbixcclxuXHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxyXG5cdFx0XHRcdHRoZW1lID0gb3B0aW9ucy5iYWNrQnRuVGhlbWUgfHwgb3B0aW9ucy50aGVtZTtcclxuXHJcblx0XHRcdC8vIFJldHJpZXZlIHRoZSBiYWNrIGJ1dHRvbiBvciBjcmVhdGUgYSBuZXcsIGVtcHR5IG9uZVxyXG5cdFx0XHRiYWNrQnV0dG9uID0gdGhpcy5fYmFja0J1dHRvbiA9ICggdGhpcy5fYmFja0J1dHRvbiB8fCB7fSApO1xyXG5cclxuXHRcdFx0Ly8gV2UgYWRkIGEgYmFjayBidXR0b24gb25seSBpZiB0aGUgb3B0aW9uIHRvIGRvIHNvIGlzIG9uXHJcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLmFkZEJhY2tCdG4gJiZcclxuXHJcblx0XHRcdFx0XHQvLyBUaGlzIG11c3QgYWxzbyBiZSBhIGhlYWRlciB0b29sYmFyXHJcblx0XHRcdFx0XHR0aGlzLnJvbGUgPT09IFwiaGVhZGVyXCIgJiZcclxuXHJcblx0XHRcdFx0XHQvLyBUaGVyZSBtdXN0IGJlIG11bHRpcGxlIHBhZ2VzIGluIHRoZSBET01cclxuXHRcdFx0XHRcdCQoIFwiLnVpLXBhZ2VcIiApLmxlbmd0aCA+IDEgJiZcclxuXHRcdFx0XHRcdCggdGhpcy5wYWdlID9cclxuXHJcblx0XHRcdFx0XHRcdC8vIElmIHRoZSB0b29sYmFyIGlzIGludGVybmFsIHRoZSBwYWdlJ3MgVVJMIG11c3QgZGlmZmVyIGZyb20gdGhlIGhhc2hcclxuXHRcdFx0XHRcdFx0KCB0aGlzLnBhZ2VbIDAgXS5nZXRBdHRyaWJ1dGUoIFwiZGF0YS1cIiArICQubW9iaWxlLm5zICsgXCJ1cmxcIiApICE9PVxyXG5cdFx0XHRcdFx0XHRcdCQubW9iaWxlLnBhdGguc3RyaXBIYXNoKCBsb2NhdGlvbi5oYXNoICkgKSA6XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIGlmIHRoZSB0b29sYmFyIGlzIGV4dGVybmFsIHRoZXJlIG11c3QgYmUgYXQgbGVhc3Qgb25lXHJcblx0XHRcdFx0XHRcdC8vIGhpc3RvcnkgaXRlbSB0byB3aGljaCBvbmUgY2FuIGdvIGJhY2tcclxuXHRcdFx0XHRcdFx0KCAkLm1vYmlsZS5uYXZpZ2F0ZSAmJiAkLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5ICYmXHJcblx0XHRcdFx0XHRcdFx0JC5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hY3RpdmVJbmRleCA+IDAgKSApICYmXHJcblxyXG5cdFx0XHRcdFx0Ly8gVGhlIHRvb2xiYXIgZG9lcyBub3QgaGF2ZSBhIGxlZnQgYnV0dG9uXHJcblx0XHRcdFx0XHQhdGhpcy5sZWZ0YnRuICkge1xyXG5cclxuXHRcdFx0XHQvLyBTa2lwIGJhY2sgYnV0dG9uIGNyZWF0aW9uIGlmIG9uZSBpcyBhbHJlYWR5IHByZXNlbnRcclxuXHRcdFx0XHRpZiAoICFiYWNrQnV0dG9uLmF0dGFjaGVkICkge1xyXG5cdFx0XHRcdFx0dGhpcy5iYWNrQnV0dG9uID0gYmFja0J1dHRvbi5lbGVtZW50ID0gKCBiYWNrQnV0dG9uLmVsZW1lbnQgfHxcclxuXHRcdFx0XHRcdFx0JCggXCI8YSByb2xlPSdidXR0b24nIGhyZWY9J2phdmFzY3JpcHQ6dm9pZCgwKTsnIFwiICtcclxuXHRcdFx0XHRcdFx0XHRcImNsYXNzPSd1aS1idG4gdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgdWktYnRuLWxlZnQgXCIgK1xyXG5cdFx0XHRcdFx0XHRcdFx0KCB0aGVtZSA/IFwidWktYnRuLVwiICsgdGhlbWUgKyBcIiBcIiA6IFwiXCIgKSArXHJcblx0XHRcdFx0XHRcdFx0XHRcInVpLXRvb2xiYXItYmFjay1idG4gdWktaWNvbi1jYXJhdC1sIHVpLWJ0bi1pY29uLWxlZnQnIFwiICtcclxuXHRcdFx0XHRcdFx0XHRcImRhdGEtXCIgKyAkLm1vYmlsZS5ucyArIFwicmVsPSdiYWNrJz5cIiArIG9wdGlvbnMuYmFja0J0blRleHQgK1xyXG5cdFx0XHRcdFx0XHRcdFwiPC9hPlwiICkgKVxyXG5cdFx0XHRcdFx0XHRcdC5wcmVwZW5kVG8oIHRoaXMuZWxlbWVudCApO1xyXG5cdFx0XHRcdFx0YmFja0J1dHRvbi5hdHRhY2hlZCA9IHRydWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gSWYgd2UgYXJlIG5vdCBhZGRpbmcgYSBiYWNrIGJ1dHRvbiwgdGhlbiByZW1vdmUgdGhlIG9uZSBwcmVzZW50LCBpZiBhbnlcclxuXHRcdFx0fSBlbHNlIGlmICggYmFja0J1dHRvbi5lbGVtZW50ICkge1xyXG5cdFx0XHRcdGJhY2tCdXR0b24uZWxlbWVudC5kZXRhY2goKTtcclxuXHRcdFx0XHRiYWNrQnV0dG9uLmF0dGFjaGVkID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRfYWRkSGVhZGluZ0NsYXNzZXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIFwiaDEsIGgyLCBoMywgaDQsIGg1LCBoNlwiIClcclxuXHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktdGl0bGVcIiApXHJcblx0XHRcdFx0Ly8gUmVnYXJkbGVzcyBvZiBoIGVsZW1lbnQgbnVtYmVyIGluIHNyYywgaXQgYmVjb21lcyBoMSBmb3IgdGhlIGVuaGFuY2VkIHBhZ2VcclxuXHRcdFx0XHQuYXR0cih7XHJcblx0XHRcdFx0XHRcInJvbGVcIjogXCJoZWFkaW5nXCIsXHJcblx0XHRcdFx0XHRcImFyaWEtbGV2ZWxcIjogXCIxXCJcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0sXHJcblx0XHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBjdXJyZW50VGhlbWU7XHJcblxyXG5cdFx0XHR0aGlzLmVsZW1lbnQuY2hpbGRyZW4oIFwiaDEsIGgyLCBoMywgaDQsIGg1LCBoNlwiIClcclxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktdGl0bGVcIiApXHJcblx0XHRcdFx0LnJlbW92ZUF0dHIoIFwicm9sZVwiIClcclxuXHRcdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWxldmVsXCIgKTtcclxuXHJcblx0XHRcdGlmICggdGhpcy5yb2xlID09PSBcImhlYWRlclwiICkge1xyXG5cdFx0XHRcdHRoaXMuZWxlbWVudC5jaGlsZHJlbiggXCJhLCBidXR0b25cIiApXHJcblx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MoIFwidWktYnRuLWxlZnQgdWktYnRuLXJpZ2h0IHVpLWJ0biB1aS1zaGFkb3cgdWktY29ybmVyLWFsbFwiICk7XHJcblx0XHRcdFx0aWYgKCB0aGlzLmJhY2tCdXR0b24pIHtcclxuXHRcdFx0XHRcdHRoaXMuYmFja0J1dHRvbi5yZW1vdmUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGN1cnJlbnRUaGVtZSA9IHRoaXMub3B0aW9ucy50aGVtZSA/IHRoaXMub3B0aW9ucy50aGVtZSA6IFwiaW5oZXJpdFwiO1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoIFwidWktYmFyLVwiICsgY3VycmVudFRoZW1lICk7XHJcblxyXG5cdFx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoIFwidWktXCIgKyB0aGlzLnJvbGUgKS5yZW1vdmVBdHRyKCBcInJvbGVcIiApO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblxyXG5cdCQud2lkZ2V0KCBcIm1vYmlsZS50b29sYmFyXCIsICQubW9iaWxlLnRvb2xiYXIsIHtcclxuXHRcdG9wdGlvbnM6IHtcclxuXHRcdFx0cG9zaXRpb246bnVsbCxcclxuXHRcdFx0dmlzaWJsZU9uUGFnZVNob3c6IHRydWUsXHJcblx0XHRcdGRpc2FibGVQYWdlWm9vbTogdHJ1ZSxcclxuXHRcdFx0dHJhbnNpdGlvbjogXCJzbGlkZVwiLCAvL2NhbiBiZSBub25lLCBmYWRlLCBzbGlkZSAoc2xpZGUgbWFwcyB0byBzbGlkZXVwIG9yIHNsaWRlZG93bilcclxuXHRcdFx0ZnVsbHNjcmVlbjogZmFsc2UsXHJcblx0XHRcdHRhcFRvZ2dsZTogdHJ1ZSxcclxuXHRcdFx0dGFwVG9nZ2xlQmxhY2tsaXN0OiBcImEsIGJ1dHRvbiwgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIC51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQsIC51aS1mbGlwc3dpdGNoLCAudWktcG9wdXAsIC51aS1wYW5lbCwgLnVpLXBhbmVsLWRpc21pc3Mtb3BlblwiLFxyXG5cdFx0XHRoaWRlRHVyaW5nRm9jdXM6IFwiaW5wdXQsIHRleHRhcmVhLCBzZWxlY3RcIixcclxuXHRcdFx0dXBkYXRlUGFnZVBhZGRpbmc6IHRydWUsXHJcblx0XHRcdHRyYWNrUGVyc2lzdGVudFRvb2xiYXJzOiB0cnVlLFxyXG5cclxuXHRcdFx0Ly8gQnJvd3NlciBkZXRlY3Rpb24hIFdlZWVlLCBoZXJlIHdlIGdvLi4uXHJcblx0XHRcdC8vIFVuZm9ydHVuYXRlbHksIHBvc2l0aW9uOmZpeGVkIGlzIGNvc3RseSwgbm90IHRvIG1lbnRpb24gcHJvYmFibHkgaW1wb3NzaWJsZSwgdG8gZmVhdHVyZS1kZXRlY3QgYWNjdXJhdGVseS5cclxuXHRcdFx0Ly8gU29tZSB0ZXN0cyBleGlzdCwgYnV0IHRoZXkgY3VycmVudGx5IHJldHVybiBmYWxzZSByZXN1bHRzIGluIGNyaXRpY2FsIGRldmljZXMgYW5kIGJyb3dzZXJzLCB3aGljaCBjb3VsZCBsZWFkIHRvIGEgYnJva2VuIGV4cGVyaWVuY2UuXHJcblx0XHRcdC8vIFRlc3RpbmcgZml4ZWQgcG9zaXRpb25pbmcgaXMgYWxzbyBwcmV0dHkgb2J0cnVzaXZlIHRvIHBhZ2UgbG9hZCwgcmVxdWlyaW5nIGluamVjdGVkIGVsZW1lbnRzIGFuZCBzY3JvbGxpbmcgdGhlIHdpbmRvd1xyXG5cdFx0XHQvLyBUaGUgZm9sbG93aW5nIGZ1bmN0aW9uIHNlcnZlcyB0byBydWxlIG91dCBzb21lIHBvcHVsYXIgYnJvd3NlcnMgd2l0aCBrbm93biBmaXhlZC1wb3NpdGlvbmluZyBpc3N1ZXNcclxuXHRcdFx0Ly8gVGhpcyBpcyBhIHBsdWdpbiBvcHRpb24gbGlrZSBhbnkgb3RoZXIsIHNvIGZlZWwgZnJlZSB0byBpbXByb3ZlIG9yIG92ZXJ3cml0ZSBpdFxyXG5cdFx0XHRzdXBwb3J0QmxhY2tsaXN0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gISQuc3VwcG9ydC5maXhlZFBvc2l0aW9uO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzLl9zdXBlcigpO1xyXG5cdFx0XHR0aGlzLnBhZ2Vjb250YWluZXIgPSAkKCBcIjptb2JpbGUtcGFnZWNvbnRhaW5lclwiICk7XHJcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnBvc2l0aW9uID09PSBcImZpeGVkXCIgJiYgIXRoaXMub3B0aW9ucy5zdXBwb3J0QmxhY2tsaXN0KCkgKSB7XHJcblx0XHRcdFx0dGhpcy5fbWFrZUZpeGVkKCk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0X21ha2VGaXhlZDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyggXCJ1aS1cIisgdGhpcy5yb2xlICtcIi1maXhlZFwiICk7XHJcblx0XHRcdHRoaXMudXBkYXRlUGFnZVBhZGRpbmcoKTtcclxuXHRcdFx0dGhpcy5fYWRkVHJhbnNpdGlvbkNsYXNzKCk7XHJcblx0XHRcdHRoaXMuX2JpbmRQYWdlRXZlbnRzKCk7XHJcblx0XHRcdHRoaXMuX2JpbmRUb2dnbGVIYW5kbGVycygpO1xyXG5cdFx0fSxcclxuXHJcblx0XHRfc2V0T3B0aW9uczogZnVuY3Rpb24oIG8gKSB7XHJcblx0XHRcdGlmICggby5wb3NpdGlvbiA9PT0gXCJmaXhlZFwiICYmIHRoaXMub3B0aW9ucy5wb3NpdGlvbiAhPT0gXCJmaXhlZFwiICkge1xyXG5cdFx0XHRcdHRoaXMuX21ha2VGaXhlZCgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnBvc2l0aW9uID09PSBcImZpeGVkXCIgJiYgIXRoaXMub3B0aW9ucy5zdXBwb3J0QmxhY2tsaXN0KCkgKSB7XHJcblx0XHRcdFx0dmFyICRwYWdlID0gKCAhIXRoaXMucGFnZSApPyB0aGlzLnBhZ2U6ICggJChcIi51aS1wYWdlLWFjdGl2ZVwiKS5sZW5ndGggPiAwICk/ICQoXCIudWktcGFnZS1hY3RpdmVcIik6ICQoXCIudWktcGFnZVwiKS5lcSgwKTtcclxuXHJcblx0XHRcdFx0aWYgKCBvLmZ1bGxzY3JlZW4gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0aWYgKCBvLmZ1bGxzY3JlZW4gKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyggXCJ1aS1cIisgdGhpcy5yb2xlICtcIi1mdWxsc2NyZWVuXCIgKTtcclxuXHRcdFx0XHRcdFx0JHBhZ2UuYWRkQ2xhc3MoIFwidWktcGFnZS1cIiArIHRoaXMucm9sZSArIFwiLWZ1bGxzY3JlZW5cIiApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Ly8gSWYgbm90IGZ1bGxzY3JlZW4sIGFkZCBjbGFzcyB0byBwYWdlIHRvIHNldCB0b3Agb3IgYm90dG9tIHBhZGRpbmdcclxuXHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoIFwidWktXCIrIHRoaXMucm9sZSArXCItZnVsbHNjcmVlblwiICk7XHJcblx0XHRcdFx0XHRcdCRwYWdlLnJlbW92ZUNsYXNzKCBcInVpLXBhZ2UtXCIgKyB0aGlzLnJvbGUgKyBcIi1mdWxsc2NyZWVuXCIgKS5hZGRDbGFzcyggXCJ1aS1wYWdlLVwiICsgdGhpcy5yb2xlKyBcIi1maXhlZFwiICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuX3N1cGVyKG8pO1xyXG5cdFx0fSxcclxuXHJcblx0XHRfYWRkVHJhbnNpdGlvbkNsYXNzOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHRjbGFzcyA9IHRoaXMub3B0aW9ucy50cmFuc2l0aW9uO1xyXG5cclxuXHRcdFx0aWYgKCB0Y2xhc3MgJiYgdGNsYXNzICE9PSBcIm5vbmVcIiApIHtcclxuXHRcdFx0XHQvLyB1c2UgYXBwcm9wcmlhdGUgc2xpZGUgZm9yIGhlYWRlciBvciBmb290ZXJcclxuXHRcdFx0XHRpZiAoIHRjbGFzcyA9PT0gXCJzbGlkZVwiICkge1xyXG5cdFx0XHRcdFx0dGNsYXNzID0gdGhpcy5lbGVtZW50Lmhhc0NsYXNzKCBcInVpLWhlYWRlclwiICkgPyBcInNsaWRlZG93blwiIDogXCJzbGlkZXVwXCI7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoIHRjbGFzcyApO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdF9iaW5kUGFnZUV2ZW50czogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBwYWdlID0gKCAhIXRoaXMucGFnZSApPyB0aGlzLmVsZW1lbnQuY2xvc2VzdCggXCIudWktcGFnZVwiICk6IHRoaXMuZG9jdW1lbnQ7XHJcblx0XHRcdC8vcGFnZSBldmVudCBiaW5kaW5nc1xyXG5cdFx0XHQvLyBGaXhlZCB0b29sYmFycyByZXF1aXJlIHBhZ2Ugem9vbSB0byBiZSBkaXNhYmxlZCwgb3RoZXJ3aXNlIHVzYWJpbGl0eSBpc3N1ZXMgY3JvcCB1cFxyXG5cdFx0XHQvLyBUaGlzIG1ldGhvZCBpcyBtZWFudCB0byBkaXNhYmxlIHpvb20gd2hpbGUgYSBmaXhlZC1wb3NpdGlvbmVkIHRvb2xiYXIgcGFnZSBpcyB2aXNpYmxlXHJcblx0XHRcdHRoaXMuX29uKCBwYWdlICwge1xyXG5cdFx0XHRcdFwicGFnZWJlZm9yZXNob3dcIjogXCJfaGFuZGxlUGFnZUJlZm9yZVNob3dcIixcclxuXHRcdFx0XHRcIndlYmtpdEFuaW1hdGlvblN0YXJ0XCI6XCJfaGFuZGxlQW5pbWF0aW9uU3RhcnRcIixcclxuXHRcdFx0XHRcImFuaW1hdGlvbnN0YXJ0XCI6XCJfaGFuZGxlQW5pbWF0aW9uU3RhcnRcIixcclxuXHRcdFx0XHRcInVwZGF0ZWxheW91dFwiOiBcIl9oYW5kbGVBbmltYXRpb25TdGFydFwiLFxyXG5cdFx0XHRcdFwicGFnZXNob3dcIjogXCJfaGFuZGxlUGFnZVNob3dcIixcclxuXHRcdFx0XHRcInBhZ2ViZWZvcmVoaWRlXCI6IFwiX2hhbmRsZVBhZ2VCZWZvcmVIaWRlXCJcclxuXHRcdFx0fSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9oYW5kbGVQYWdlQmVmb3JlU2hvdzogZnVuY3Rpb24oICkge1xyXG5cdFx0XHR2YXIgbyA9IHRoaXMub3B0aW9ucztcclxuXHRcdFx0aWYgKCBvLmRpc2FibGVQYWdlWm9vbSApIHtcclxuXHRcdFx0XHQkLm1vYmlsZS56b29tLmRpc2FibGUoIHRydWUgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoICFvLnZpc2libGVPblBhZ2VTaG93ICkge1xyXG5cdFx0XHRcdHRoaXMuaGlkZSggdHJ1ZSApO1xyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cclxuXHRcdF9oYW5kbGVBbmltYXRpb25TdGFydDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICggdGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nICkge1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlUGFnZVBhZGRpbmcoICggISF0aGlzLnBhZ2UgKT8gdGhpcy5wYWdlOiBcIi51aS1wYWdlLWFjdGl2ZVwiICk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0X2hhbmRsZVBhZ2VTaG93OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy51cGRhdGVQYWdlUGFkZGluZyggKCAhIXRoaXMucGFnZSApPyB0aGlzLnBhZ2U6IFwiLnVpLXBhZ2UtYWN0aXZlXCIgKTtcclxuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcgKSB7XHJcblx0XHRcdFx0dGhpcy5fb24oIHRoaXMud2luZG93LCB7IFwidGhyb3R0bGVkcmVzaXplXCI6IFwidXBkYXRlUGFnZVBhZGRpbmdcIiB9ICk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0X2hhbmRsZVBhZ2VCZWZvcmVIaWRlOiBmdW5jdGlvbiggZSwgdWkgKSB7XHJcblx0XHRcdHZhciBvID0gdGhpcy5vcHRpb25zLFxyXG5cdFx0XHRcdHRoaXNGb290ZXIsIHRoaXNIZWFkZXIsIG5leHRGb290ZXIsIG5leHRIZWFkZXI7XHJcblxyXG5cdFx0XHRpZiAoIG8uZGlzYWJsZVBhZ2Vab29tICkge1xyXG5cdFx0XHRcdCQubW9iaWxlLnpvb20uZW5hYmxlKCB0cnVlICk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCBvLnVwZGF0ZVBhZ2VQYWRkaW5nICkge1xyXG5cdFx0XHRcdHRoaXMuX29mZiggdGhpcy53aW5kb3csIFwidGhyb3R0bGVkcmVzaXplXCIgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBvLnRyYWNrUGVyc2lzdGVudFRvb2xiYXJzICkge1xyXG5cdFx0XHRcdHRoaXNGb290ZXIgPSAkKCBcIi51aS1mb290ZXItZml4ZWQ6anFtRGF0YShpZClcIiwgdGhpcy5wYWdlICk7XHJcblx0XHRcdFx0dGhpc0hlYWRlciA9ICQoIFwiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkKVwiLCB0aGlzLnBhZ2UgKTtcclxuXHRcdFx0XHRuZXh0Rm9vdGVyID0gdGhpc0Zvb3Rlci5sZW5ndGggJiYgdWkubmV4dFBhZ2UgJiYgJCggXCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQ9J1wiICsgdGhpc0Zvb3Rlci5qcW1EYXRhKCBcImlkXCIgKSArIFwiJylcIiwgdWkubmV4dFBhZ2UgKSB8fCAkKCk7XHJcblx0XHRcdFx0bmV4dEhlYWRlciA9IHRoaXNIZWFkZXIubGVuZ3RoICYmIHVpLm5leHRQYWdlICYmICQoIFwiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkPSdcIiArIHRoaXNIZWFkZXIuanFtRGF0YSggXCJpZFwiICkgKyBcIicpXCIsIHVpLm5leHRQYWdlICkgfHwgJCgpO1xyXG5cclxuXHRcdFx0XHRpZiAoIG5leHRGb290ZXIubGVuZ3RoIHx8IG5leHRIZWFkZXIubGVuZ3RoICkge1xyXG5cclxuXHRcdFx0XHRcdG5leHRGb290ZXIuYWRkKCBuZXh0SGVhZGVyICkuYXBwZW5kVG8oICQubW9iaWxlLnBhZ2VDb250YWluZXIgKTtcclxuXHJcblx0XHRcdFx0XHR1aS5uZXh0UGFnZS5vbmUoIFwicGFnZXNob3dcIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdG5leHRIZWFkZXIucHJlcGVuZFRvKCB0aGlzICk7XHJcblx0XHRcdFx0XHRcdG5leHRGb290ZXIuYXBwZW5kVG8oIHRoaXMgKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRfdmlzaWJsZTogdHJ1ZSxcclxuXHJcblx0XHQvLyBUaGlzIHdpbGwgc2V0IHRoZSBjb250ZW50IGVsZW1lbnQncyB0b3Agb3IgYm90dG9tIHBhZGRpbmcgZXF1YWwgdG8gdGhlIHRvb2xiYXIncyBoZWlnaHRcclxuXHRcdHVwZGF0ZVBhZ2VQYWRkaW5nOiBmdW5jdGlvbiggdGJQYWdlICkge1xyXG5cdFx0XHR2YXIgJGVsID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHRcdGhlYWRlciA9ICggdGhpcy5yb2xlID09PVwiaGVhZGVyXCIgKSxcclxuXHRcdFx0XHRwb3MgPSBwYXJzZUZsb2F0KCAkZWwuY3NzKCBoZWFkZXIgPyBcInRvcFwiIDogXCJib3R0b21cIiApICk7XHJcblxyXG5cdFx0XHQvLyBUaGlzIGJlaGF2aW9yIG9ubHkgYXBwbGllcyB0byBcImZpeGVkXCIsIG5vdCBcImZ1bGxzY3JlZW5cIlxyXG5cdFx0XHRpZiAoIHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuICkgeyByZXR1cm47IH1cclxuXHRcdFx0Ly8gdGJQYWdlIGFyZ3VtZW50IGNhbiBiZSBhIFBhZ2Ugb2JqZWN0IG9yIGFuIGV2ZW50LCBpZiBjb21pbmcgZnJvbSB0aHJvdHRsZWQgcmVzaXplLlxyXG5cdFx0XHR0YlBhZ2UgPSAoIHRiUGFnZSAmJiB0YlBhZ2UudHlwZSA9PT0gdW5kZWZpbmVkICYmIHRiUGFnZSApIHx8IHRoaXMucGFnZSB8fCAkZWwuY2xvc2VzdCggXCIudWktcGFnZVwiICk7XHJcblx0XHRcdHRiUGFnZSA9ICggISF0aGlzLnBhZ2UgKT8gdGhpcy5wYWdlOiBcIi51aS1wYWdlLWFjdGl2ZVwiO1xyXG5cdFx0XHQkKCB0YlBhZ2UgKS5jc3MoIFwicGFkZGluZy1cIiArICggaGVhZGVyID8gXCJ0b3BcIiA6IFwiYm90dG9tXCIgKSwgJGVsLm91dGVySGVpZ2h0KCkgKyBwb3MgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0X3VzZVRyYW5zaXRpb246IGZ1bmN0aW9uKCBub3RyYW5zaXRpb24gKSB7XHJcblx0XHRcdHZhciAkd2luID0gdGhpcy53aW5kb3csXHJcblx0XHRcdFx0JGVsID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHRcdHNjcm9sbCA9ICR3aW4uc2Nyb2xsVG9wKCksXHJcblx0XHRcdFx0ZWxIZWlnaHQgPSAkZWwuaGVpZ2h0KCksXHJcblx0XHRcdFx0cEhlaWdodCA9ICggISF0aGlzLnBhZ2UgKT8gJGVsLmNsb3Nlc3QoIFwiLnVpLXBhZ2VcIiApLmhlaWdodCgpOiQoXCIudWktcGFnZS1hY3RpdmVcIikuaGVpZ2h0KCksXHJcblx0XHRcdFx0dmlld3BvcnRIZWlnaHQgPSAkLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtcclxuXHJcblx0XHRcdHJldHVybiAhbm90cmFuc2l0aW9uICYmXHJcblx0XHRcdFx0KCB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiAmJiB0aGlzLm9wdGlvbnMudHJhbnNpdGlvbiAhPT0gXCJub25lXCIgJiZcclxuXHRcdFx0XHQoXHJcblx0XHRcdFx0XHQoIHRoaXMucm9sZSA9PT0gXCJoZWFkZXJcIiAmJiAhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4gJiYgc2Nyb2xsID4gZWxIZWlnaHQgKSB8fFxyXG5cdFx0XHRcdFx0KCB0aGlzLnJvbGUgPT09IFwiZm9vdGVyXCIgJiYgIXRoaXMub3B0aW9ucy5mdWxsc2NyZWVuICYmIHNjcm9sbCArIHZpZXdwb3J0SGVpZ2h0IDwgcEhlaWdodCAtIGVsSGVpZ2h0IClcclxuXHRcdFx0XHQpIHx8IHRoaXMub3B0aW9ucy5mdWxsc2NyZWVuXHJcblx0XHRcdFx0KTtcclxuXHRcdH0sXHJcblxyXG5cdFx0c2hvdzogZnVuY3Rpb24oIG5vdHJhbnNpdGlvbiApIHtcclxuXHRcdFx0dmFyIGhpZGVDbGFzcyA9IFwidWktZml4ZWQtaGlkZGVuXCIsXHJcblx0XHRcdFx0JGVsID0gdGhpcy5lbGVtZW50O1xyXG5cclxuXHRcdFx0aWYgKCB0aGlzLl91c2VUcmFuc2l0aW9uKCBub3RyYW5zaXRpb24gKSApIHtcclxuXHRcdFx0XHQkZWxcclxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJvdXQgXCIgKyBoaWRlQ2xhc3MgKVxyXG5cdFx0XHRcdFx0LmFkZENsYXNzKCBcImluXCIgKVxyXG5cdFx0XHRcdFx0LmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0JGVsLnJlbW92ZUNsYXNzKCBcImluXCIgKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdCRlbC5yZW1vdmVDbGFzcyggaGlkZUNsYXNzICk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5fdmlzaWJsZSA9IHRydWU7XHJcblx0XHR9LFxyXG5cclxuXHRcdGhpZGU6IGZ1bmN0aW9uKCBub3RyYW5zaXRpb24gKSB7XHJcblx0XHRcdHZhciBoaWRlQ2xhc3MgPSBcInVpLWZpeGVkLWhpZGRlblwiLFxyXG5cdFx0XHRcdCRlbCA9IHRoaXMuZWxlbWVudCxcclxuXHRcdFx0XHQvLyBpZiBpdCdzIGEgc2xpZGUgdHJhbnNpdGlvbiwgb3VyIG5ldyB0cmFuc2l0aW9ucyBuZWVkIHRoZSByZXZlcnNlIGNsYXNzIGFzIHdlbGwgdG8gc2xpZGUgb3V0d2FyZFxyXG5cdFx0XHRcdG91dGNsYXNzID0gXCJvdXRcIiArICggdGhpcy5vcHRpb25zLnRyYW5zaXRpb24gPT09IFwic2xpZGVcIiA/IFwiIHJldmVyc2VcIiA6IFwiXCIgKTtcclxuXHJcblx0XHRcdGlmICggdGhpcy5fdXNlVHJhbnNpdGlvbiggbm90cmFuc2l0aW9uICkgKSB7XHJcblx0XHRcdFx0JGVsXHJcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIG91dGNsYXNzIClcclxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJpblwiIClcclxuXHRcdFx0XHRcdC5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0JGVsLmFkZENsYXNzKCBoaWRlQ2xhc3MgKS5yZW1vdmVDbGFzcyggb3V0Y2xhc3MgKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdCRlbC5hZGRDbGFzcyggaGlkZUNsYXNzICkucmVtb3ZlQ2xhc3MoIG91dGNsYXNzICk7XHJcblx0XHRcdH1cclxuXHRcdFx0dGhpcy5fdmlzaWJsZSA9IGZhbHNlO1xyXG5cdFx0fSxcclxuXHJcblx0XHR0b2dnbGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR0aGlzWyB0aGlzLl92aXNpYmxlID8gXCJoaWRlXCIgOiBcInNob3dcIiBdKCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdF9iaW5kVG9nZ2xlSGFuZGxlcnM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXHJcblx0XHRcdFx0byA9IHNlbGYub3B0aW9ucyxcclxuXHRcdFx0XHRkZWxheVNob3csIGRlbGF5SGlkZSxcclxuXHRcdFx0XHRpc1Zpc2libGUgPSB0cnVlLFxyXG5cdFx0XHRcdHBhZ2UgPSAoICEhdGhpcy5wYWdlICk/IHRoaXMucGFnZTogJChcIi51aS1wYWdlXCIpO1xyXG5cclxuXHRcdFx0Ly8gdGFwIHRvZ2dsZVxyXG5cdFx0XHRwYWdlXHJcblx0XHRcdFx0LmJpbmQoIFwidmNsaWNrXCIsIGZ1bmN0aW9uKCBlICkge1xyXG5cdFx0XHRcdFx0aWYgKCBvLnRhcFRvZ2dsZSAmJiAhJCggZS50YXJnZXQgKS5jbG9zZXN0KCBvLnRhcFRvZ2dsZUJsYWNrbGlzdCApLmxlbmd0aCApIHtcclxuXHRcdFx0XHRcdFx0c2VsZi50b2dnbGUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdC5iaW5kKCBcImZvY3VzaW4gZm9jdXNvdXRcIiwgZnVuY3Rpb24oIGUgKSB7XHJcblx0XHRcdFx0XHQvL3RoaXMgaGlkZXMgdGhlIHRvb2xiYXJzIG9uIGEga2V5Ym9hcmQgcG9wIHRvIGdpdmUgbW9yZSBzY3JlZW4gcm9vbSBhbmQgcHJldmVudCBpb3MgYnVnIHdoaWNoXHJcblx0XHRcdFx0XHQvL3Bvc2l0aW9ucyBmaXhlZCB0b29sYmFycyBpbiB0aGUgbWlkZGxlIG9mIHRoZSBzY3JlZW4gb24gcG9wIGlmIHRoZSBpbnB1dCBpcyBuZWFyIHRoZSB0b3Agb3JcclxuXHRcdFx0XHRcdC8vYm90dG9tIG9mIHRoZSBzY3JlZW4gYWRkcmVzc2VzIGlzc3VlcyAjNDQxMCBGb290ZXIgbmF2YmFyIG1vdmVzIHVwIHdoZW4gY2xpY2tpbmcgb24gYSB0ZXh0Ym94IGluIGFuIEFuZHJvaWQgZW52aXJvbm1lbnRcclxuXHRcdFx0XHRcdC8vYW5kIGlzc3VlICM0MTEzIEhlYWRlciBhbmQgZm9vdGVyIGNoYW5nZSB0aGVpciBwb3NpdGlvbiBhZnRlciBrZXlib2FyZCBwb3B1cCAtIGlPU1xyXG5cdFx0XHRcdFx0Ly9hbmQgaXNzdWUgIzQ0MTAgRm9vdGVyIG5hdmJhciBtb3ZlcyB1cCB3aGVuIGNsaWNraW5nIG9uIGEgdGV4dGJveCBpbiBhbiBBbmRyb2lkIGVudmlyb25tZW50XHJcblx0XHRcdFx0XHRpZiAoIHNjcmVlbi53aWR0aCA8IDEwMjUgJiYgJCggZS50YXJnZXQgKS5pcyggby5oaWRlRHVyaW5nRm9jdXMgKSAmJiAhJCggZS50YXJnZXQgKS5jbG9zZXN0KCBcIi51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWRcIiApLmxlbmd0aCApIHtcclxuXHRcdFx0XHRcdFx0Ly9GaXggZm9yIGlzc3VlICM0NzI0IE1vdmluZyB0aHJvdWdoIGZvcm0gaW4gTW9iaWxlIFNhZmFyaSB3aXRoIFwiTmV4dFwiIGFuZCBcIlByZXZpb3VzXCIgc3lzdGVtXHJcblx0XHRcdFx0XHRcdC8vY29udHJvbHMgY2F1c2VzIGZpeGVkIHBvc2l0aW9uLCB0YXAtdG9nZ2xlIGZhbHNlIEhlYWRlciB0byByZXZlYWwgaXRzZWxmXHJcblx0XHRcdFx0XHRcdC8vIGlzVmlzaWJsZSBpbnN0ZWFkIG9mIHNlbGYuX3Zpc2libGUgYmVjYXVzZSB0aGUgZm9jdXNpbiBhbmQgZm9jdXNvdXQgZXZlbnRzIGZpcmUgdHdpY2UgYXQgdGhlIHNhbWUgdGltZVxyXG5cdFx0XHRcdFx0XHQvLyBBbHNvIHVzZSBhIGRlbGF5IGZvciBoaWRpbmcgdGhlIHRvb2xiYXJzIGJlY2F1c2Ugb24gQW5kcm9pZCBuYXRpdmUgYnJvd3NlciBmb2N1c2luIGlzIGRpcmVjbHR5IGZvbGxvd2VkXHJcblx0XHRcdFx0XHRcdC8vIGJ5IGEgZm9jdXNvdXQgd2hlbiBhIG5hdGl2ZSBzZWxlY3RzIG9wZW5zIGFuZCB0aGUgb3RoZXIgd2F5IGFyb3VuZCB3aGVuIGl0IGNsb3Nlcy5cclxuXHRcdFx0XHRcdFx0aWYgKCBlLnR5cGUgPT09IFwiZm9jdXNvdXRcIiAmJiAhaXNWaXNpYmxlICkge1xyXG5cdFx0XHRcdFx0XHRcdGlzVmlzaWJsZSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdFx0Ly93YWl0IGZvciB0aGUgc3RhY2sgdG8gdW53aW5kIGFuZCBzZWUgaWYgd2UgaGF2ZSBqdW1wZWQgdG8gYW5vdGhlciBpbnB1dFxyXG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dCggZGVsYXlIaWRlICk7XHJcblx0XHRcdFx0XHRcdFx0ZGVsYXlTaG93ID0gc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRzZWxmLnNob3coKTtcclxuXHRcdFx0XHRcdFx0XHR9LCAwICk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGUudHlwZSA9PT0gXCJmb2N1c2luXCIgJiYgISFpc1Zpc2libGUgKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly9pZiB3ZSBoYXZlIGp1bXBlZCB0byBhbm90aGVyIGlucHV0IGNsZWFyIHRoZSB0aW1lIG91dCB0byBjYW5jZWwgdGhlIHNob3cuXHJcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KCBkZWxheVNob3cgKTtcclxuXHRcdFx0XHRcdFx0XHRpc1Zpc2libGUgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHRkZWxheUhpZGUgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHNlbGYuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHRcdH0sIDAgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHRfc2V0UmVsYXRpdmU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiggdGhpcy5vcHRpb25zLnBvc2l0aW9uICE9PSBcImZpeGVkXCIgKXtcclxuXHRcdFx0XHQkKCBcIltkYXRhLVwiKyAkLm1vYmlsZS5ucyArIFwicm9sZT0ncGFnZSddXCIgKS5jc3MoeyBcInBvc2l0aW9uXCI6IFwicmVsYXRpdmVcIiB9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBwYWdlQ2xhc3NlcywgdG9vbGJhckNsYXNzZXMsIGhhc0ZpeGVkLCBoZWFkZXIsIGhhc0Z1bGxzY3JlZW4sXHJcblx0XHRcdFx0cGFnZSA9IHRoaXMucGFnZWNvbnRhaW5lci5wYWdlY29udGFpbmVyKCBcImdldEFjdGl2ZVBhZ2VcIiApO1xyXG5cclxuXHRcdFx0dGhpcy5fc3VwZXIoKTtcclxuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbnMucG9zaXRpb24gPT09IFwiZml4ZWRcIiApIHtcclxuXHRcdFx0XHRoYXNGaXhlZCA9ICQoICBcImJvZHk+LnVpLVwiICsgdGhpcy5yb2xlICsgXCItZml4ZWRcIiApXHJcblx0XHRcdFx0XHRcdFx0LmFkZCggcGFnZS5maW5kKCBcIi51aS1cIiArIHRoaXMub3B0aW9ucy5yb2xlICsgXCItZml4ZWRcIiApIClcclxuXHRcdFx0XHRcdFx0XHQubm90KCB0aGlzLmVsZW1lbnQgKS5sZW5ndGggPiAwO1xyXG5cdFx0XHRcdGhhc0Z1bGxzY3JlZW4gPSAkKCAgXCJib2R5Pi51aS1cIiArIHRoaXMucm9sZSArIFwiLWZpeGVkXCIgKVxyXG5cdFx0XHRcdFx0XHRcdC5hZGQoIHBhZ2UuZmluZCggXCIudWktXCIgKyB0aGlzLm9wdGlvbnMucm9sZSArIFwiLWZ1bGxzY3JlZW5cIiApIClcclxuXHRcdFx0XHRcdFx0XHQubm90KCB0aGlzLmVsZW1lbnQgKS5sZW5ndGggPiAwO1xyXG5cdFx0XHRcdHRvb2xiYXJDbGFzc2VzID0gIFwidWktaGVhZGVyLWZpeGVkIHVpLWZvb3Rlci1maXhlZCB1aS1oZWFkZXItZnVsbHNjcmVlbiBpbiBvdXRcIiArXHJcblx0XHRcdFx0XHRcIiB1aS1mb290ZXItZnVsbHNjcmVlbiBmYWRlIHNsaWRlZG93biBzbGlkZXVwIHVpLWZpeGVkLWhpZGRlblwiO1xyXG5cdFx0XHRcdHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyggdG9vbGJhckNsYXNzZXMgKTtcclxuXHRcdFx0XHRpZiAoICFoYXNGdWxsc2NyZWVuICkge1xyXG5cdFx0XHRcdFx0cGFnZUNsYXNzZXMgPSBcInVpLXBhZ2UtXCIgKyB0aGlzLnJvbGUgKyBcIi1mdWxsc2NyZWVuXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICggIWhhc0ZpeGVkICkge1xyXG5cdFx0XHRcdFx0aGVhZGVyID0gdGhpcy5yb2xlID09PSBcImhlYWRlclwiO1xyXG5cdFx0XHRcdFx0cGFnZUNsYXNzZXMgKz0gXCIgdWktcGFnZS1cIiArIHRoaXMucm9sZSArIFwiLWZpeGVkXCI7XHJcblx0XHRcdFx0XHRwYWdlLmNzcyggXCJwYWRkaW5nLVwiICsgKCBoZWFkZXIgPyBcInRvcFwiIDogXCJib3R0b21cIiApLCBcIlwiICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHBhZ2UucmVtb3ZlQ2xhc3MoIHBhZ2VDbGFzc2VzICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0fSk7XHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cdCQud2lkZ2V0KCBcIm1vYmlsZS50b29sYmFyXCIsICQubW9iaWxlLnRvb2xiYXIsIHtcclxuXHJcblx0XHRfbWFrZUZpeGVkOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5fc3VwZXIoKTtcclxuXHRcdFx0dGhpcy5fd29ya2Fyb3VuZHMoKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly9jaGVjayB0aGUgYnJvd3NlciBhbmQgdmVyc2lvbiBhbmQgcnVuIG5lZWRlZCB3b3JrYXJvdW5kc1xyXG5cdFx0X3dvcmthcm91bmRzOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudCxcclxuXHRcdFx0cGxhdGZvcm0gPSBuYXZpZ2F0b3IucGxhdGZvcm0sXHJcblx0XHRcdC8vIFJlbmRlcmluZyBlbmdpbmUgaXMgV2Via2l0LCBhbmQgY2FwdHVyZSBtYWpvciB2ZXJzaW9uXHJcblx0XHRcdHdrbWF0Y2ggPSB1YS5tYXRjaCggL0FwcGxlV2ViS2l0XFwvKFswLTldKykvICksXHJcblx0XHRcdHdrdmVyc2lvbiA9ICEhd2ttYXRjaCAmJiB3a21hdGNoWyAxIF0sXHJcblx0XHRcdG9zID0gbnVsbCxcclxuXHRcdFx0c2VsZiA9IHRoaXM7XHJcblx0XHRcdC8vc2V0IHRoZSBvcyB3ZSBhcmUgd29ya2luZyBpbiBpZiBpdCBkb3NlbnQgbWF0Y2ggb25lIHdpdGggd29ya2Fyb3VuZHMgcmV0dXJuXHJcblx0XHRcdGlmICggcGxhdGZvcm0uaW5kZXhPZiggXCJpUGhvbmVcIiApID4gLTEgfHwgcGxhdGZvcm0uaW5kZXhPZiggXCJpUGFkXCIgKSA+IC0xICB8fCBwbGF0Zm9ybS5pbmRleE9mKCBcImlQb2RcIiApID4gLTEgKSB7XHJcblx0XHRcdFx0b3MgPSBcImlvc1wiO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCB1YS5pbmRleE9mKCBcIkFuZHJvaWRcIiApID4gLTEgKSB7XHJcblx0XHRcdFx0b3MgPSBcImFuZHJvaWRcIjtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Ly9jaGVjayBvcyB2ZXJzaW9uIGlmIGl0IGRvc2VudCBtYXRjaCBvbmUgd2l0aCB3b3JrYXJvdW5kcyByZXR1cm5cclxuXHRcdFx0aWYgKCBvcyA9PT0gXCJpb3NcIiApIHtcclxuXHRcdFx0XHQvL2lPUyAgd29ya2Fyb3VuZHNcclxuXHRcdFx0XHRzZWxmLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCBvcyA9PT0gXCJhbmRyb2lkXCIgJiYgd2t2ZXJzaW9uICYmIHdrdmVyc2lvbiA8IDUzNCApIHtcclxuXHRcdFx0XHQvL0FuZHJvaWQgMi4zIHJ1biBhbGwgQW5kcm9pZCAyLjMgd29ya2Fyb3VuZFxyXG5cdFx0XHRcdHNlbGYuX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCk7XHJcblx0XHRcdFx0c2VsZi5fYmluZExpc3RUaHVtYldvcmthcm91bmQoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0Ly9VdGlsaXR5IGNsYXNzIGZvciBjaGVja2luZyBoZWFkZXIgYW5kIGZvb3RlciBwb3NpdGlvbnMgcmVsYXRpdmUgdG8gdmlld3BvcnRcclxuXHRcdF92aWV3cG9ydE9mZnNldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciAkZWwgPSB0aGlzLmVsZW1lbnQsXHJcblx0XHRcdFx0aGVhZGVyID0gJGVsLmhhc0NsYXNzKCBcInVpLWhlYWRlclwiICksXHJcblx0XHRcdFx0b2Zmc2V0ID0gTWF0aC5hYnMoICRlbC5vZmZzZXQoKS50b3AgLSB0aGlzLndpbmRvdy5zY3JvbGxUb3AoKSApO1xyXG5cdFx0XHRpZiAoICFoZWFkZXIgKSB7XHJcblx0XHRcdFx0b2Zmc2V0ID0gTWF0aC5yb3VuZCggb2Zmc2V0IC0gdGhpcy53aW5kb3cuaGVpZ2h0KCkgKyAkZWwub3V0ZXJIZWlnaHQoKSApIC0gNjA7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG9mZnNldDtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly9iaW5kIGV2ZW50cyBmb3IgX3RyaWdnZXJSZWRyYXcoKSBmdW5jdGlvblxyXG5cdFx0X2JpbmRTY3JvbGxXb3JrYXJvdW5kOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHQvL2JpbmQgdG8gc2Nyb2xsc3RvcCBhbmQgY2hlY2sgaWYgdGhlIHRvb2xiYXJzIGFyZSBjb3JyZWN0bHkgcG9zaXRpb25lZFxyXG5cdFx0XHR0aGlzLl9vbiggdGhpcy53aW5kb3csIHsgc2Nyb2xsc3RvcDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyIHZpZXdwb3J0T2Zmc2V0ID0gc2VsZi5fdmlld3BvcnRPZmZzZXQoKTtcclxuXHRcdFx0XHQvL2NoZWNrIGlmIHRoZSBoZWFkZXIgaXMgdmlzaWJsZSBhbmQgaWYgaXRzIGluIHRoZSByaWdodCBwbGFjZVxyXG5cdFx0XHRcdGlmICggdmlld3BvcnRPZmZzZXQgPiAyICYmIHNlbGYuX3Zpc2libGUgKSB7XHJcblx0XHRcdFx0XHRzZWxmLl90cmlnZ2VyUmVkcmF3KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9fSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vdGhpcyBhZGRyZXNzZXMgaXNzdWUgIzQyNTAgUGVyc2lzdGVudCBmb290ZXIgaW5zdGFiaWxpdHkgaW4gdjEuMSB3aXRoIGxvbmcgc2VsZWN0IGxpc3RzIGluIEFuZHJvaWQgMi4zLjNcclxuXHRcdC8vYW5kIGlzc3VlICMzNzQ4IEFuZHJvaWQgMi54OiBQYWdlIHRyYW5zaXRpb25zIGJyb2tlbiB3aGVuIGZpeGVkIHRvb2xiYXJzIHVzZWRcclxuXHRcdC8vdGhlIGFic29sdXRlbHkgcG9zaXRpb25lZCB0aHVtYm5haWwgaW4gYSBsaXN0IHZpZXcgY2F1c2VzIHByb2JsZW1zIHdpdGggZml4ZWQgcG9zaXRpb24gYnV0dG9ucyBhYm92ZSBpbiBhIG5hdiBiYXJcclxuXHRcdC8vc2V0dGluZyB0aGUgbGkncyB0byAtd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCk7IHNvbHZlcyB0aGlzIHByb2JsZW0gdG8gYXZvaWRlIHBvdGVudGlhbCBpc3N1ZXMgaW4gb3RoZXJcclxuXHRcdC8vcGxhdGZvcm1zIHdlIHNjb3BlIHRoaXMgd2l0aCB0aGUgY2xhc3MgdWktYW5kcm9pZC0yeC1maXhcclxuXHRcdF9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5jbG9zZXN0KCBcIi51aS1wYWdlXCIgKS5hZGRDbGFzcyggXCJ1aS1hbmRyb2lkLTJ4LWZpeGVkXCIgKTtcclxuXHRcdH0sXHJcblx0XHQvL3RoaXMgYWRkcmVzc2VzIGlzc3VlcyAjNDMzNyBGaXhlZCBoZWFkZXIgcHJvYmxlbSBhZnRlciBzY3JvbGxpbmcgY29udGVudCBvbiBpT1MgYW5kIEFuZHJvaWRcclxuXHRcdC8vYW5kIGRldmljZSBidWdzIHByb2plY3QgaXNzdWUgIzEgRm9ybSBlbGVtZW50cyBjYW4gbG9zZSBjbGljayBoaXQgYXJlYSBpbiBwb3NpdGlvbjogZml4ZWQgY29udGFpbmVycy5cclxuXHRcdC8vdGhpcyBhbHNvIGFkZHJlc3NlcyBub3Qgb24gZml4ZWQgdG9vbGJhcnMgcGFnZSBpbiBkb2NzXHJcblx0XHQvL2FkZGluZyAxcHggb2YgcGFkZGluZyB0byB0aGUgYm90dG9tIHRoZW4gcmVtb3ZpbmcgaXQgY2F1c2VzIGEgXCJyZWRyYXdcIlxyXG5cdFx0Ly93aGljaCBwb3NpdGlvbnMgdGhlIHRvb2xiYXJzIGNvcnJlY3RseSAodGhleSB3aWxsIGFsd2F5cyBiZSB2aXN1YWxseSBjb3JyZWN0KVxyXG5cdFx0X3RyaWdnZXJSZWRyYXc6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgcGFkZGluZ0JvdHRvbSA9IHBhcnNlRmxvYXQoICQoIFwiLnVpLXBhZ2UtYWN0aXZlXCIgKS5jc3MoIFwicGFkZGluZy1ib3R0b21cIiApICk7XHJcblx0XHRcdC8vdHJpZ2dlciBwYWdlIHJlZHJhdyB0byBmaXggaW5jb3JyZWN0bHkgcG9zaXRpb25lZCBmaXhlZCBlbGVtZW50c1xyXG5cdFx0XHQkKCBcIi51aS1wYWdlLWFjdGl2ZVwiICkuY3NzKCBcInBhZGRpbmctYm90dG9tXCIsICggcGFkZGluZ0JvdHRvbSArIDEgKSArIFwicHhcIiApO1xyXG5cdFx0XHQvL2lmIHRoZSBwYWRkaW5nIGlzIHJlc2V0IHdpdGggb3V0IGEgdGltZW91dCB0aGUgcmVwb3NpdGlvbiB3aWxsIG5vdCBvY2N1cmUuXHJcblx0XHRcdC8vdGhpcyBpcyBpbmRlcGVuZGFudCBvZiBKUU0gdGhlIGJyb3dzZXIgc2VlbXMgdG8gbmVlZCB0aGUgdGltZSB0byByZWFjdC5cclxuXHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JCggXCIudWktcGFnZS1hY3RpdmVcIiApLmNzcyggXCJwYWRkaW5nLWJvdHRvbVwiLCBwYWRkaW5nQm90dG9tICsgXCJweFwiICk7XHJcblx0XHRcdH0sIDAgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0ZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHRoaXMuX3N1cGVyKCk7XHJcblx0XHRcdC8vUmVtb3ZlIHRoZSBjbGFzcyB3ZSBhZGRlZCB0byB0aGUgcGFnZSBwcmV2aW91c2x5IGluIGFuZHJvaWQgMi54XHJcblx0XHRcdHRoaXMuZWxlbWVudC5jbG9zZXN0KCBcIi51aS1wYWdlLWFjdGl2ZVwiICkucmVtb3ZlQ2xhc3MoIFwidWktYW5kcm9pZC0yeC1maXhcIiApO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuXHJcbiggZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcbnZhciBpZUhhY2sgPSAoICQubW9iaWxlLmJyb3dzZXIub2xkSUUgJiYgJC5tb2JpbGUuYnJvd3Nlci5vbGRJRSA8PSA4ICksXHJcblx0dWlUZW1wbGF0ZSA9ICQoXHJcblx0XHRcIjxkaXYgY2xhc3M9J3VpLXBvcHVwLWFycm93LWd1aWRlJz48L2Rpdj5cIiArXHJcblx0XHRcIjxkaXYgY2xhc3M9J3VpLXBvcHVwLWFycm93LWNvbnRhaW5lclwiICsgKCBpZUhhY2sgPyBcIiBpZVwiIDogXCJcIiApICsgXCInPlwiICtcclxuXHRcdFx0XCI8ZGl2IGNsYXNzPSd1aS1wb3B1cC1hcnJvdyc+PC9kaXY+XCIgK1xyXG5cdFx0XCI8L2Rpdj5cIlxyXG5cdCk7XHJcblxyXG5mdW5jdGlvbiBnZXRBcnJvdygpIHtcclxuXHR2YXIgY2xvbmUgPSB1aVRlbXBsYXRlLmNsb25lKCksXHJcblx0XHRnZCA9IGNsb25lLmVxKCAwICksXHJcblx0XHRjdCA9IGNsb25lLmVxKCAxICksXHJcblx0XHRhciA9IGN0LmNoaWxkcmVuKCk7XHJcblxyXG5cdHJldHVybiB7IGFyRWxzOiBjdC5hZGQoIGdkICksIGdkOiBnZCwgY3Q6IGN0LCBhcjogYXIgfTtcclxufVxyXG5cclxuJC53aWRnZXQoIFwibW9iaWxlLnBvcHVwXCIsICQubW9iaWxlLnBvcHVwLCB7XHJcblx0b3B0aW9uczoge1xyXG5cclxuXHRcdGFycm93OiBcIlwiXHJcblx0fSxcclxuXHJcblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgYXIsXHJcblx0XHRcdHJldCA9IHRoaXMuX3N1cGVyKCk7XHJcblxyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuYXJyb3cgKSB7XHJcblx0XHRcdHRoaXMuX3VpLmFycm93ID0gYXIgPSB0aGlzLl9hZGRBcnJvdygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXQ7XHJcblx0fSxcclxuXHJcblx0X2FkZEFycm93OiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciB0aGVtZSxcclxuXHRcdFx0b3B0cyA9IHRoaXMub3B0aW9ucyxcclxuXHRcdFx0YXIgPSBnZXRBcnJvdygpO1xyXG5cclxuXHRcdHRoZW1lID0gdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oIFwidWktYm9keS1cIiwgb3B0cy50aGVtZSApO1xyXG5cdFx0YXIuYXIuYWRkQ2xhc3MoIHRoZW1lICsgKCBvcHRzLnNoYWRvdyA/IFwiIHVpLW92ZXJsYXktc2hhZG93XCIgOiBcIlwiICkgKTtcclxuXHRcdGFyLmFyRWxzLmhpZGUoKS5hcHBlbmRUbyggdGhpcy5lbGVtZW50ICk7XHJcblxyXG5cdFx0cmV0dXJuIGFyO1xyXG5cdH0sXHJcblxyXG5cdF91bmVuaGFuY2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGFyID0gdGhpcy5fdWkuYXJyb3c7XHJcblxyXG5cdFx0aWYgKCBhciApIHtcclxuXHRcdFx0YXIuYXJFbHMucmVtb3ZlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuX3N1cGVyKCk7XHJcblx0fSxcclxuXHJcblx0Ly8gUHJldGVuZCB0byBzaG93IGFuIGFycm93IGRlc2NyaWJlZCBieSBAcCBhbmQgQGRpciBhbmQgY2FsY3VsYXRlIHRoZVxyXG5cdC8vIGRpc3RhbmNlIGZyb20gdGhlIGRlc2lyZWQgcG9pbnQuIElmIGEgYmVzdC1kaXN0YW5jZSBpcyBwYXNzZWQgaW4sIHJldHVyblxyXG5cdC8vIHRoZSBtaW5pbXVtIG9mIHRoZSBvbmUgcGFzc2VkIGluIGFuZCB0aGUgb25lIGNhbGN1bGF0ZWQuXHJcblx0X3RyeUFuQXJyb3c6IGZ1bmN0aW9uKCBwLCBkaXIsIGRlc2lyZWQsIHMsIGJlc3QgKSB7XHJcblx0XHR2YXIgcmVzdWx0LCByLCBkaWZmLCBkZXNpcmVkRm9yQXJyb3cgPSB7fSwgdGlwID0ge307XHJcblxyXG5cdFx0Ly8gSWYgdGhlIGFycm93IGhhcyBubyB3aWdnbGUgcm9vbSBhbG9uZyB0aGUgZWRnZSBvZiB0aGUgcG9wdXAsIGl0IGNhbm5vdFxyXG5cdFx0Ly8gYmUgZGlzcGxheWVkIGFsb25nIHRoZSByZXF1ZXN0ZWQgZWRnZSB3aXRob3V0IGl0IHN0aWNraW5nIG91dC5cclxuXHRcdGlmICggcy5hckZ1bGxbIHAuZGltS2V5IF0gPiBzLmd1aWRlRGltc1sgcC5kaW1LZXkgXSApIHtcclxuXHRcdFx0cmV0dXJuIGJlc3Q7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGVzaXJlZEZvckFycm93WyBwLmZzdCBdID0gZGVzaXJlZFsgcC5mc3QgXSArXHJcblx0XHRcdCggcy5hckhhbGZbIHAub0RpbUtleSBdICsgcy5tZW51SGFsZlsgcC5vRGltS2V5IF0gKSAqIHAub2Zmc2V0RmFjdG9yIC1cclxuXHRcdFx0cy5jb250ZW50Qm94WyBwLmZzdCBdICsgKCBzLmNsYW1wSW5mby5tZW51U2l6ZVsgcC5vRGltS2V5IF0gLSBzLmNvbnRlbnRCb3hbIHAub0RpbUtleSBdICkgKiBwLmFycm93T2Zmc2V0RmFjdG9yO1xyXG5cdFx0ZGVzaXJlZEZvckFycm93WyBwLnNuZCBdID0gZGVzaXJlZFsgcC5zbmQgXTtcclxuXHJcblx0XHRyZXN1bHQgPSBzLnJlc3VsdCB8fCB0aGlzLl9jYWxjdWxhdGVGaW5hbExvY2F0aW9uKCBkZXNpcmVkRm9yQXJyb3csIHMuY2xhbXBJbmZvICk7XHJcblx0XHRyID0geyB4OiByZXN1bHQubGVmdCwgeTogcmVzdWx0LnRvcCB9O1xyXG5cclxuXHRcdHRpcFsgcC5mc3QgXSA9IHJbIHAuZnN0IF0gKyBzLmNvbnRlbnRCb3hbIHAuZnN0IF0gKyBwLnRpcE9mZnNldDtcclxuXHRcdHRpcFsgcC5zbmQgXSA9IE1hdGgubWF4KCByZXN1bHRbIHAucHJvcCBdICsgcy5ndWlkZU9mZnNldFsgcC5wcm9wIF0gKyBzLmFySGFsZlsgcC5kaW1LZXkgXSxcclxuXHRcdFx0TWF0aC5taW4oIHJlc3VsdFsgcC5wcm9wIF0gKyBzLmd1aWRlT2Zmc2V0WyBwLnByb3AgXSArIHMuZ3VpZGVEaW1zWyBwLmRpbUtleSBdIC0gcy5hckhhbGZbIHAuZGltS2V5IF0sXHJcblx0XHRcdFx0ZGVzaXJlZFsgcC5zbmQgXSApICk7XHJcblxyXG5cdFx0ZGlmZiA9IE1hdGguYWJzKCBkZXNpcmVkLnggLSB0aXAueCApICsgTWF0aC5hYnMoIGRlc2lyZWQueSAtIHRpcC55ICk7XHJcblx0XHRpZiAoICFiZXN0IHx8IGRpZmYgPCBiZXN0LmRpZmYgKSB7XHJcblx0XHRcdC8vIENvbnZlcnQgdGlwIG9mZnNldCB0byBjb29yZGluYXRlcyBpbnNpZGUgdGhlIHBvcHVwXHJcblx0XHRcdHRpcFsgcC5zbmQgXSAtPSBzLmFySGFsZlsgcC5kaW1LZXkgXSArIHJlc3VsdFsgcC5wcm9wIF0gKyBzLmNvbnRlbnRCb3hbIHAuc25kIF07XHJcblx0XHRcdGJlc3QgPSB7IGRpcjogZGlyLCBkaWZmOiBkaWZmLCByZXN1bHQ6IHJlc3VsdCwgcG9zUHJvcDogcC5wcm9wLCBwb3NWYWw6IHRpcFsgcC5zbmQgXSB9O1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBiZXN0O1xyXG5cdH0sXHJcblxyXG5cdF9nZXRQbGFjZW1lbnRTdGF0ZTogZnVuY3Rpb24oIGNsYW1wICkge1xyXG5cdFx0dmFyIG9mZnNldCwgZ2RPZmZzZXQsXHJcblx0XHRcdGFyID0gdGhpcy5fdWkuYXJyb3csXHJcblx0XHRcdHN0YXRlID0ge1xyXG5cdFx0XHRcdGNsYW1wSW5mbzogdGhpcy5fY2xhbXBQb3B1cFdpZHRoKCAhY2xhbXAgKSxcclxuXHRcdFx0XHRhckZ1bGw6IHsgY3g6IGFyLmN0LndpZHRoKCksIGN5OiBhci5jdC5oZWlnaHQoKSB9LFxyXG5cdFx0XHRcdGd1aWRlRGltczogeyBjeDogYXIuZ2Qud2lkdGgoKSwgY3k6IGFyLmdkLmhlaWdodCgpIH0sXHJcblx0XHRcdFx0Z3VpZGVPZmZzZXQ6IGFyLmdkLm9mZnNldCgpXHJcblx0XHRcdH07XHJcblxyXG5cdFx0b2Zmc2V0ID0gdGhpcy5lbGVtZW50Lm9mZnNldCgpO1xyXG5cclxuXHRcdGFyLmdkLmNzcyggeyBsZWZ0OiAwLCB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAgfSApO1xyXG5cdFx0Z2RPZmZzZXQgPSBhci5nZC5vZmZzZXQoKTtcclxuXHRcdHN0YXRlLmNvbnRlbnRCb3ggPSB7XHJcblx0XHRcdHg6IGdkT2Zmc2V0LmxlZnQgLSBvZmZzZXQubGVmdCxcclxuXHRcdFx0eTogZ2RPZmZzZXQudG9wIC0gb2Zmc2V0LnRvcCxcclxuXHRcdFx0Y3g6IGFyLmdkLndpZHRoKCksXHJcblx0XHRcdGN5OiBhci5nZC5oZWlnaHQoKVxyXG5cdFx0fTtcclxuXHRcdGFyLmdkLnJlbW92ZUF0dHIoIFwic3R5bGVcIiApO1xyXG5cclxuXHRcdC8vIFRoZSBhcnJvdyBib3ggbW92ZXMgYmV0d2VlbiBndWlkZU9mZnNldCBhbmQgZ3VpZGVPZmZzZXQgKyBndWlkZURpbXMgLSBhckZ1bGxcclxuXHRcdHN0YXRlLmd1aWRlT2Zmc2V0ID0geyBsZWZ0OiBzdGF0ZS5ndWlkZU9mZnNldC5sZWZ0IC0gb2Zmc2V0LmxlZnQsIHRvcDogc3RhdGUuZ3VpZGVPZmZzZXQudG9wIC0gb2Zmc2V0LnRvcCB9O1xyXG5cdFx0c3RhdGUuYXJIYWxmID0geyBjeDogc3RhdGUuYXJGdWxsLmN4IC8gMiwgY3k6IHN0YXRlLmFyRnVsbC5jeSAvIDIgfTtcclxuXHRcdHN0YXRlLm1lbnVIYWxmID0geyBjeDogc3RhdGUuY2xhbXBJbmZvLm1lbnVTaXplLmN4IC8gMiwgY3k6IHN0YXRlLmNsYW1wSW5mby5tZW51U2l6ZS5jeSAvIDIgfTtcclxuXHJcblx0XHRyZXR1cm4gc3RhdGU7XHJcblx0fSxcclxuXHJcblx0X3BsYWNlbWVudENvb3JkczogZnVuY3Rpb24oIGRlc2lyZWQgKSB7XHJcblx0XHR2YXIgc3RhdGUsIGJlc3QsIHBhcmFtcywgZWxPZmZzZXQsIGJnUmVmLFxyXG5cdFx0XHRvcHRpb25WYWx1ZSA9IHRoaXMub3B0aW9ucy5hcnJvdyxcclxuXHRcdFx0YXIgPSB0aGlzLl91aS5hcnJvdztcclxuXHJcblx0XHRpZiAoICFhciApIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX3N1cGVyKCBkZXNpcmVkICk7XHJcblx0XHR9XHJcblxyXG5cdFx0YXIuYXJFbHMuc2hvdygpO1xyXG5cclxuXHRcdGJnUmVmID0ge307XHJcblx0XHRzdGF0ZSA9IHRoaXMuX2dldFBsYWNlbWVudFN0YXRlKCB0cnVlICk7XHJcblx0XHRwYXJhbXMgPSB7XHJcblx0XHRcdFwibFwiOiB7IGZzdDogXCJ4XCIsIHNuZDogXCJ5XCIsIHByb3A6IFwidG9wXCIsIGRpbUtleTogXCJjeVwiLCBvRGltS2V5OiBcImN4XCIsIG9mZnNldEZhY3RvcjogMSwgdGlwT2Zmc2V0OiAgLXN0YXRlLmFySGFsZi5jeCwgYXJyb3dPZmZzZXRGYWN0b3I6IDAgfSxcclxuXHRcdFx0XCJyXCI6IHsgZnN0OiBcInhcIiwgc25kOiBcInlcIiwgcHJvcDogXCJ0b3BcIiwgZGltS2V5OiBcImN5XCIsIG9EaW1LZXk6IFwiY3hcIiwgb2Zmc2V0RmFjdG9yOiAtMSwgdGlwT2Zmc2V0OiBzdGF0ZS5hckhhbGYuY3ggKyBzdGF0ZS5jb250ZW50Qm94LmN4LCBhcnJvd09mZnNldEZhY3RvcjogMSB9LFxyXG5cdFx0XHRcImJcIjogeyBmc3Q6IFwieVwiLCBzbmQ6IFwieFwiLCBwcm9wOiBcImxlZnRcIiwgZGltS2V5OiBcImN4XCIsIG9EaW1LZXk6IFwiY3lcIiwgb2Zmc2V0RmFjdG9yOiAtMSwgdGlwT2Zmc2V0OiBzdGF0ZS5hckhhbGYuY3kgKyBzdGF0ZS5jb250ZW50Qm94LmN5LCBhcnJvd09mZnNldEZhY3RvcjogMSB9LFxyXG5cdFx0XHRcInRcIjogeyBmc3Q6IFwieVwiLCBzbmQ6IFwieFwiLCBwcm9wOiBcImxlZnRcIiwgZGltS2V5OiBcImN4XCIsIG9EaW1LZXk6IFwiY3lcIiwgb2Zmc2V0RmFjdG9yOiAxLCB0aXBPZmZzZXQ6IC1zdGF0ZS5hckhhbGYuY3ksIGFycm93T2Zmc2V0RmFjdG9yOiAwIH1cclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gVHJ5IGVhY2ggc2lkZSBzcGVjaWZpZWQgaW4gdGhlIG9wdGlvbnMgdG8gc2VlIG9uIHdoaWNoIG9uZSB0aGUgYXJyb3dcclxuXHRcdC8vIHNob3VsZCBiZSBwbGFjZWQgc3VjaCB0aGF0IHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0aXAgb2YgdGhlIGFycm93IGFuZFxyXG5cdFx0Ly8gdGhlIGRlc2lyZWQgY29vcmRpbmF0ZXMgaXMgdGhlIHNob3J0ZXN0LlxyXG5cdFx0JC5lYWNoKCAoIG9wdGlvblZhbHVlID09PSB0cnVlID8gXCJsLHQscixiXCIgOiBvcHRpb25WYWx1ZSApLnNwbGl0KCBcIixcIiApLFxyXG5cdFx0XHQkLnByb3h5KCBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcclxuXHRcdFx0XHRiZXN0ID0gdGhpcy5fdHJ5QW5BcnJvdyggcGFyYW1zWyB2YWx1ZSBdLCB2YWx1ZSwgZGVzaXJlZCwgc3RhdGUsIGJlc3QgKTtcclxuXHRcdFx0fSwgdGhpcyApICk7XHJcblxyXG5cdFx0Ly8gQ291bGQgbm90IHBsYWNlIHRoZSBhcnJvdyBhbG9uZyBhbnkgb2YgdGhlIGVkZ2VzIC0gYmVoYXZlIGFzIGlmIHNob3dpbmdcclxuXHRcdC8vIHRoZSBhcnJvdyB3YXMgdHVybmVkIG9mZi5cclxuXHRcdGlmICggIWJlc3QgKSB7XHJcblx0XHRcdGFyLmFyRWxzLmhpZGUoKTtcclxuXHRcdFx0cmV0dXJuIHRoaXMuX3N1cGVyKCBkZXNpcmVkICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTW92ZSB0aGUgYXJyb3cgaW50byBwbGFjZVxyXG5cdFx0YXIuY3RcclxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXBvcHVwLWFycm93LWwgdWktcG9wdXAtYXJyb3ctdCB1aS1wb3B1cC1hcnJvdy1yIHVpLXBvcHVwLWFycm93LWJcIiApXHJcblx0XHRcdC5hZGRDbGFzcyggXCJ1aS1wb3B1cC1hcnJvdy1cIiArIGJlc3QuZGlyIClcclxuXHRcdFx0LnJlbW92ZUF0dHIoIFwic3R5bGVcIiApLmNzcyggYmVzdC5wb3NQcm9wLCBiZXN0LnBvc1ZhbCApXHJcblx0XHRcdC5zaG93KCk7XHJcblxyXG5cdFx0Ly8gRG8gbm90IG1vdmUvc2l6ZSB0aGUgYmFja2dyb3VuZCBkaXYgb24gSUUsIGJlY2F1c2Ugd2UgdXNlIHRoZSBhcnJvdyBkaXYgZm9yIGJhY2tncm91bmQgYXMgd2VsbC5cclxuXHRcdGlmICggIWllSGFjayApIHtcclxuXHRcdFx0ZWxPZmZzZXQgPSB0aGlzLmVsZW1lbnQub2Zmc2V0KCk7XHJcblx0XHRcdGJnUmVmWyBwYXJhbXNbIGJlc3QuZGlyIF0uZnN0IF0gPSBhci5jdC5vZmZzZXQoKTtcclxuXHRcdFx0YmdSZWZbIHBhcmFtc1sgYmVzdC5kaXIgXS5zbmQgXSA9IHtcclxuXHRcdFx0XHRsZWZ0OiBlbE9mZnNldC5sZWZ0ICsgc3RhdGUuY29udGVudEJveC54LFxyXG5cdFx0XHRcdHRvcDogZWxPZmZzZXQudG9wICsgc3RhdGUuY29udGVudEJveC55XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGJlc3QucmVzdWx0O1xyXG5cdH0sXHJcblxyXG5cdF9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0cyApIHtcclxuXHRcdHZhciBuZXdUaGVtZSxcclxuXHRcdFx0b2xkVGhlbWUgPSB0aGlzLm9wdGlvbnMudGhlbWUsXHJcblx0XHRcdGFyID0gdGhpcy5fdWkuYXJyb3csXHJcblx0XHRcdHJldCA9IHRoaXMuX3N1cGVyKCBvcHRzICk7XHJcblxyXG5cdFx0aWYgKCBvcHRzLmFycm93ICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdGlmICggIWFyICYmIG9wdHMuYXJyb3cgKSB7XHJcblx0XHRcdFx0dGhpcy5fdWkuYXJyb3cgPSB0aGlzLl9hZGRBcnJvdygpO1xyXG5cclxuXHRcdFx0XHQvLyBJbXBvcnRhbnQgdG8gcmV0dXJuIGhlcmUgc28gd2UgZG9uJ3Qgc2V0IHRoZSBzYW1lIG9wdGlvbnMgYWxsIG92ZXJcclxuXHRcdFx0XHQvLyBhZ2FpbiBiZWxvdy5cclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH0gZWxzZSBpZiAoIGFyICYmICFvcHRzLmFycm93ICkge1xyXG5cdFx0XHRcdGFyLmFyRWxzLnJlbW92ZSgpO1xyXG5cdFx0XHRcdHRoaXMuX3VpLmFycm93ID0gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFJlYXNzaWduIHdpdGggcG90ZW50aWFsbHkgbmV3IGFycm93XHJcblx0XHRhciA9IHRoaXMuX3VpLmFycm93O1xyXG5cclxuXHRcdGlmICggYXIgKSB7XHJcblx0XHRcdGlmICggb3B0cy50aGVtZSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdG9sZFRoZW1lID0gdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oIFwidWktYm9keS1cIiwgb2xkVGhlbWUgKTtcclxuXHRcdFx0XHRuZXdUaGVtZSA9IHRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKCBcInVpLWJvZHktXCIsIG9wdHMudGhlbWUgKTtcclxuXHRcdFx0XHRhci5hci5yZW1vdmVDbGFzcyggb2xkVGhlbWUgKS5hZGRDbGFzcyggbmV3VGhlbWUgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBvcHRzLnNoYWRvdyAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdGFyLmFyLnRvZ2dsZUNsYXNzKCBcInVpLW92ZXJsYXktc2hhZG93XCIsIG9wdHMuc2hhZG93ICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmV0O1xyXG5cdH0sXHJcblxyXG5cdF9kZXN0cm95OiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBhciA9IHRoaXMuX3VpLmFycm93O1xyXG5cclxuXHRcdGlmICggYXIgKSB7XHJcblx0XHRcdGFyLmFyRWxzLnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLl9zdXBlcigpO1xyXG5cdH1cclxufSk7XHJcblxyXG59KSggalF1ZXJ5ICk7XHJcblxyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblxyXG4kLndpZGdldCggXCJtb2JpbGUucGFuZWxcIiwge1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdGNsYXNzZXM6IHtcclxuXHRcdFx0cGFuZWw6IFwidWktcGFuZWxcIixcclxuXHRcdFx0cGFuZWxPcGVuOiBcInVpLXBhbmVsLW9wZW5cIixcclxuXHRcdFx0cGFuZWxDbG9zZWQ6IFwidWktcGFuZWwtY2xvc2VkXCIsXHJcblx0XHRcdHBhbmVsRml4ZWQ6IFwidWktcGFuZWwtZml4ZWRcIixcclxuXHRcdFx0cGFuZWxJbm5lcjogXCJ1aS1wYW5lbC1pbm5lclwiLFxyXG5cdFx0XHRtb2RhbDogXCJ1aS1wYW5lbC1kaXNtaXNzXCIsXHJcblx0XHRcdG1vZGFsT3BlbjogXCJ1aS1wYW5lbC1kaXNtaXNzLW9wZW5cIixcclxuXHRcdFx0cGFnZUNvbnRhaW5lcjogXCJ1aS1wYW5lbC1wYWdlLWNvbnRhaW5lclwiLFxyXG5cdFx0XHRwYWdlV3JhcHBlcjogXCJ1aS1wYW5lbC13cmFwcGVyXCIsXHJcblx0XHRcdHBhZ2VGaXhlZFRvb2xiYXI6IFwidWktcGFuZWwtZml4ZWQtdG9vbGJhclwiLFxyXG5cdFx0XHRwYWdlQ29udGVudFByZWZpeDogXCJ1aS1wYW5lbC1wYWdlLWNvbnRlbnRcIiwgLyogVXNlZCBmb3Igd3JhcHBlciBhbmQgZml4ZWQgdG9vbGJhcnMgcG9zaXRpb24sIGRpc3BsYXkgYW5kIG9wZW4gY2xhc3Nlcy4gKi9cclxuXHRcdFx0YW5pbWF0ZTogXCJ1aS1wYW5lbC1hbmltYXRlXCJcclxuXHRcdH0sXHJcblx0XHRhbmltYXRlOiB0cnVlLFxyXG5cdFx0dGhlbWU6IG51bGwsXHJcblx0XHRwb3NpdGlvbjogXCJsZWZ0XCIsXHJcblx0XHRkaXNtaXNzaWJsZTogdHJ1ZSxcclxuXHRcdGRpc3BsYXk6IFwicmV2ZWFsXCIsIC8vYWNjZXB0cyByZXZlYWwsIHB1c2gsIG92ZXJsYXlcclxuXHRcdHN3aXBlQ2xvc2U6IHRydWUsXHJcblx0XHRwb3NpdGlvbkZpeGVkOiBmYWxzZVxyXG5cdH0sXHJcblxyXG5cdF9jbG9zZUxpbms6IG51bGwsXHJcblx0X3BhcmVudFBhZ2U6IG51bGwsXHJcblx0X3BhZ2U6IG51bGwsXHJcblx0X21vZGFsOiBudWxsLFxyXG5cdF9wYW5lbElubmVyOiBudWxsLFxyXG5cdF93cmFwcGVyOiBudWxsLFxyXG5cdF9maXhlZFRvb2xiYXJzOiBudWxsLFxyXG5cclxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBlbCA9IHRoaXMuZWxlbWVudCxcclxuXHRcdFx0cGFyZW50UGFnZSA9IGVsLmNsb3Nlc3QoIFwiLnVpLXBhZ2UsIDpqcW1EYXRhKHJvbGU9J3BhZ2UnKVwiICk7XHJcblxyXG5cdFx0Ly8gZXhwb3NlIHNvbWUgcHJpdmF0ZSBwcm9wcyB0byBvdGhlciBtZXRob2RzXHJcblx0XHQkLmV4dGVuZCggdGhpcywge1xyXG5cdFx0XHRfY2xvc2VMaW5rOiBlbC5maW5kKCBcIjpqcW1EYXRhKHJlbD0nY2xvc2UnKVwiICksXHJcblx0XHRcdF9wYXJlbnRQYWdlOiAoIHBhcmVudFBhZ2UubGVuZ3RoID4gMCApID8gcGFyZW50UGFnZSA6IGZhbHNlLFxyXG5cdFx0XHRfb3BlbmVkUGFnZTogbnVsbCxcclxuXHRcdFx0X3BhZ2U6IHRoaXMuX2dldFBhZ2UsXHJcblx0XHRcdF9wYW5lbElubmVyOiB0aGlzLl9nZXRQYW5lbElubmVyKCksXHJcblx0XHRcdF9maXhlZFRvb2xiYXJzOiB0aGlzLl9nZXRGaXhlZFRvb2xiYXJzXHJcblx0XHR9KTtcclxuXHRcdGlmICggdGhpcy5vcHRpb25zLmRpc3BsYXkgIT09IFwib3ZlcmxheVwiICl7XHJcblx0XHRcdHRoaXMuX2dldFdyYXBwZXIoKTtcclxuXHRcdH1cclxuXHRcdHRoaXMuX2FkZFBhbmVsQ2xhc3NlcygpO1xyXG5cclxuXHRcdC8vIGlmIGFuaW1hdGluZywgYWRkIHRoZSBjbGFzcyB0byBkbyBzb1xyXG5cdFx0aWYgKCAkLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QgJiYgISF0aGlzLm9wdGlvbnMuYW5pbWF0ZSApIHtcclxuXHRcdFx0dGhpcy5lbGVtZW50LmFkZENsYXNzKCB0aGlzLm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlICk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fYmluZFVwZGF0ZUxheW91dCgpO1xyXG5cdFx0dGhpcy5fYmluZENsb3NlRXZlbnRzKCk7XHJcblx0XHR0aGlzLl9iaW5kTGlua0xpc3RlbmVycygpO1xyXG5cdFx0dGhpcy5fYmluZFBhZ2VFdmVudHMoKTtcclxuXHJcblx0XHRpZiAoICEhdGhpcy5vcHRpb25zLmRpc21pc3NpYmxlICkge1xyXG5cdFx0XHR0aGlzLl9jcmVhdGVNb2RhbCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX2JpbmRTd2lwZUV2ZW50cygpO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRQYW5lbElubmVyOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBwYW5lbElubmVyID0gdGhpcy5lbGVtZW50LmZpbmQoIFwiLlwiICsgdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxJbm5lciApO1xyXG5cclxuXHRcdGlmICggcGFuZWxJbm5lci5sZW5ndGggPT09IDAgKSB7XHJcblx0XHRcdHBhbmVsSW5uZXIgPSB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS53cmFwQWxsKCBcIjxkaXYgY2xhc3M9J1wiICsgdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxJbm5lciArIFwiJyAvPlwiICkucGFyZW50KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHBhbmVsSW5uZXI7XHJcblx0fSxcclxuXHJcblx0X2NyZWF0ZU1vZGFsOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBzZWxmID0gdGhpcyxcclxuXHRcdFx0dGFyZ2V0ID0gc2VsZi5fcGFyZW50UGFnZSA/IHNlbGYuX3BhcmVudFBhZ2UucGFyZW50KCkgOiBzZWxmLmVsZW1lbnQucGFyZW50KCk7XHJcblxyXG5cdFx0c2VsZi5fbW9kYWwgPSAkKCBcIjxkaXYgY2xhc3M9J1wiICsgc2VsZi5vcHRpb25zLmNsYXNzZXMubW9kYWwgKyBcIic+PC9kaXY+XCIgKVxyXG5cdFx0XHQub24oIFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNlbGYuY2xvc2UoKTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LmFwcGVuZFRvKCB0YXJnZXQgKTtcclxuXHR9LFxyXG5cclxuXHRfZ2V0UGFnZTogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgcGFnZSA9IHRoaXMuX29wZW5lZFBhZ2UgfHwgdGhpcy5fcGFyZW50UGFnZSB8fCAkKCBcIi5cIiArICQubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyApO1xyXG5cclxuXHRcdHJldHVybiBwYWdlO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRXcmFwcGVyOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciB3cmFwcGVyID0gdGhpcy5fcGFnZSgpLmZpbmQoIFwiLlwiICsgdGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZVdyYXBwZXIgKTtcclxuXHRcdGlmICggd3JhcHBlci5sZW5ndGggPT09IDAgKSB7XHJcblx0XHRcdHdyYXBwZXIgPSB0aGlzLl9wYWdlKCkuY2hpbGRyZW4oIFwiLnVpLWhlYWRlcjpub3QoLnVpLWhlYWRlci1maXhlZCksIC51aS1jb250ZW50Om5vdCgudWktcG9wdXApLCAudWktZm9vdGVyOm5vdCgudWktZm9vdGVyLWZpeGVkKVwiIClcclxuXHRcdFx0XHQud3JhcEFsbCggXCI8ZGl2IGNsYXNzPSdcIiArIHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhZ2VXcmFwcGVyICsgXCInPjwvZGl2PlwiIClcclxuXHRcdFx0XHQucGFyZW50KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fd3JhcHBlciA9IHdyYXBwZXI7XHJcblx0fSxcclxuXHJcblx0X2dldEZpeGVkVG9vbGJhcnM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGV4dEZpeGVkVG9vbGJhcnMgPSAkKCBcImJvZHlcIiApLmNoaWxkcmVuKCBcIi51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWRcIiApLFxyXG5cdFx0XHRpbnRGaXhlZFRvb2xiYXJzID0gdGhpcy5fcGFnZSgpLmZpbmQoIFwiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZFwiICksXHJcblx0XHRcdGZpeGVkVG9vbGJhcnMgPSBleHRGaXhlZFRvb2xiYXJzLmFkZCggaW50Rml4ZWRUb29sYmFycyApLmFkZENsYXNzKCB0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYWdlRml4ZWRUb29sYmFyICk7XHJcblxyXG5cdFx0cmV0dXJuIGZpeGVkVG9vbGJhcnM7XHJcblx0fSxcclxuXHJcblx0X2dldFBvc0Rpc3BsYXlDbGFzc2VzOiBmdW5jdGlvbiggcHJlZml4ICkge1xyXG5cdFx0cmV0dXJuIHByZWZpeCArIFwiLXBvc2l0aW9uLVwiICsgdGhpcy5vcHRpb25zLnBvc2l0aW9uICsgXCIgXCIgKyBwcmVmaXggKyBcIi1kaXNwbGF5LVwiICsgdGhpcy5vcHRpb25zLmRpc3BsYXk7XHJcblx0fSxcclxuXHJcblx0X2dldFBhbmVsQ2xhc3NlczogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgcGFuZWxDbGFzc2VzID0gdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWwgK1xyXG5cdFx0XHRcIiBcIiArIHRoaXMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKCB0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbCApICtcclxuXHRcdFx0XCIgXCIgKyB0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbENsb3NlZCArXHJcblx0XHRcdFwiIFwiICsgXCJ1aS1ib2R5LVwiICsgKCB0aGlzLm9wdGlvbnMudGhlbWUgPyB0aGlzLm9wdGlvbnMudGhlbWUgOiBcImluaGVyaXRcIiApO1xyXG5cclxuXHRcdGlmICggISF0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCApIHtcclxuXHRcdFx0cGFuZWxDbGFzc2VzICs9IFwiIFwiICsgdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcGFuZWxDbGFzc2VzO1xyXG5cdH0sXHJcblxyXG5cdF9hZGRQYW5lbENsYXNzZXM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5lbGVtZW50LmFkZENsYXNzKCB0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSApO1xyXG5cdH0sXHJcblxyXG5cdF9oYW5kbGVDbG9zZUNsaWNrOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHRpZiAoICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcclxuXHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9iaW5kQ2xvc2VFdmVudHM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5fb24oIHRoaXMuX2Nsb3NlTGluaywge1xyXG5cdFx0XHRcImNsaWNrXCI6IFwiX2hhbmRsZUNsb3NlQ2xpY2tcIlxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5fb24oe1xyXG5cdFx0XHRcImNsaWNrIGE6anFtRGF0YShhamF4PSdmYWxzZScpXCI6IFwiX2hhbmRsZUNsb3NlQ2xpY2tcIlxyXG5cdFx0fSk7XHJcblx0fSxcclxuXHJcblx0X3Bvc2l0aW9uUGFuZWw6IGZ1bmN0aW9uKCBzY3JvbGxUb1RvcCApIHtcclxuXHRcdHZhciBzZWxmID0gdGhpcyxcclxuXHRcdFx0cGFuZWxJbm5lckhlaWdodCA9IHNlbGYuX3BhbmVsSW5uZXIub3V0ZXJIZWlnaHQoKSxcclxuXHRcdFx0ZXhwYW5kID0gcGFuZWxJbm5lckhlaWdodCA+ICQubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpO1xyXG5cclxuXHRcdGlmICggZXhwYW5kIHx8ICFzZWxmLm9wdGlvbnMucG9zaXRpb25GaXhlZCApIHtcclxuXHRcdFx0aWYgKCBleHBhbmQgKSB7XHJcblx0XHRcdFx0c2VsZi5fdW5maXhQYW5lbCgpO1xyXG5cdFx0XHRcdCQubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCggcGFuZWxJbm5lckhlaWdodCApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggc2Nyb2xsVG9Ub3AgKSB7XHJcblx0XHRcdFx0dGhpcy53aW5kb3dbIDAgXS5zY3JvbGxUbyggMCwgJC5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c2VsZi5fZml4UGFuZWwoKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfYmluZEZpeExpc3RlbmVyOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuX29uKCAkKCB3aW5kb3cgKSwgeyBcInRocm90dGxlZHJlc2l6ZVwiOiBcIl9wb3NpdGlvblBhbmVsXCIgfSk7XHJcblx0fSxcclxuXHJcblx0X3VuYmluZEZpeExpc3RlbmVyOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuX29mZiggJCggd2luZG93ICksIFwidGhyb3R0bGVkcmVzaXplXCIgKTtcclxuXHR9LFxyXG5cclxuXHRfdW5maXhQYW5lbDogZnVuY3Rpb24oKSB7XHJcblx0XHRpZiAoICEhdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQgJiYgJC5zdXBwb3J0LmZpeGVkUG9zaXRpb24gKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyggdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9maXhQYW5lbDogZnVuY3Rpb24oKSB7XHJcblx0XHRpZiAoICEhdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQgJiYgJC5zdXBwb3J0LmZpeGVkUG9zaXRpb24gKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyggdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9iaW5kVXBkYXRlTGF5b3V0OiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHRzZWxmLmVsZW1lbnQub24oIFwidXBkYXRlbGF5b3V0XCIsIGZ1bmN0aW9uKC8qIGUgKi8pIHtcclxuXHRcdFx0aWYgKCBzZWxmLl9vcGVuICkge1xyXG5cdFx0XHRcdHNlbGYuX3Bvc2l0aW9uUGFuZWwoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSxcclxuXHJcblx0X2JpbmRMaW5rTGlzdGVuZXJzOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuX29uKCBcImJvZHlcIiwge1xyXG5cdFx0XHRcImNsaWNrIGFcIjogXCJfaGFuZGxlQ2xpY2tcIlxyXG5cdFx0fSk7XHJcblxyXG5cdH0sXHJcblxyXG5cdF9oYW5kbGVDbGljazogZnVuY3Rpb24oIGUgKSB7XHJcblx0XHR2YXIgbGluayxcclxuXHRcdFx0cGFuZWxJZCA9IHRoaXMuZWxlbWVudC5hdHRyKCBcImlkXCIgKTtcclxuXHJcblx0XHRpZiAoIGUuY3VycmVudFRhcmdldC5ocmVmLnNwbGl0KCBcIiNcIiApWyAxIF0gPT09IHBhbmVsSWQgJiYgcGFuZWxJZCAhPT0gdW5kZWZpbmVkICkge1xyXG5cclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRsaW5rID0gJCggZS50YXJnZXQgKTtcclxuXHRcdFx0aWYgKCBsaW5rLmhhc0NsYXNzKCBcInVpLWJ0blwiICkgKSB7XHJcblx0XHRcdFx0bGluay5hZGRDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTtcclxuXHRcdFx0XHR0aGlzLmVsZW1lbnQub25lKCBcInBhbmVsb3BlbiBwYW5lbGNsb3NlXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0bGluay5yZW1vdmVDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLnRvZ2dsZSgpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9iaW5kU3dpcGVFdmVudHM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHNlbGYgPSB0aGlzLFxyXG5cdFx0XHRhcmVhID0gc2VsZi5fbW9kYWwgPyBzZWxmLmVsZW1lbnQuYWRkKCBzZWxmLl9tb2RhbCApIDogc2VsZi5lbGVtZW50O1xyXG5cclxuXHRcdC8vIG9uIHN3aXBlLCBjbG9zZSB0aGUgcGFuZWxcclxuXHRcdGlmICggISFzZWxmLm9wdGlvbnMuc3dpcGVDbG9zZSApIHtcclxuXHRcdFx0aWYgKCBzZWxmLm9wdGlvbnMucG9zaXRpb24gPT09IFwibGVmdFwiICkge1xyXG5cdFx0XHRcdGFyZWEub24oIFwic3dpcGVsZWZ0LnBhbmVsXCIsIGZ1bmN0aW9uKC8qIGUgKi8pIHtcclxuXHRcdFx0XHRcdHNlbGYuY2xvc2UoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRhcmVhLm9uKCBcInN3aXBlcmlnaHQucGFuZWxcIiwgZnVuY3Rpb24oLyogZSAqLykge1xyXG5cdFx0XHRcdFx0c2VsZi5jbG9zZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2JpbmRQYWdlRXZlbnRzOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0XHR0aGlzLmRvY3VtZW50XHJcblx0XHRcdC8vIENsb3NlIHRoZSBwYW5lbCBpZiBhbm90aGVyIHBhbmVsIG9uIHRoZSBwYWdlIG9wZW5zXHJcblx0XHRcdC5vbiggXCJwYW5lbGJlZm9yZW9wZW5cIiwgZnVuY3Rpb24oIGUgKSB7XHJcblx0XHRcdFx0aWYgKCBzZWxmLl9vcGVuICYmIGUudGFyZ2V0ICE9PSBzZWxmLmVsZW1lbnRbIDAgXSApIHtcclxuXHRcdFx0XHRcdHNlbGYuY2xvc2UoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdC8vIE9uIGVzY2FwZSwgY2xvc2U/IG1pZ2h0IG5lZWQgdG8gaGF2ZSBhIHRhcmdldCBjaGVjayB0b28uLi5cclxuXHRcdFx0Lm9uKCBcImtleXVwLnBhbmVsXCIsIGZ1bmN0aW9uKCBlICkge1xyXG5cdFx0XHRcdGlmICggZS5rZXlDb2RlID09PSAyNyAmJiBzZWxmLl9vcGVuICkge1xyXG5cdFx0XHRcdFx0c2VsZi5jbG9zZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRpZiAoICF0aGlzLl9wYXJlbnRQYWdlICYmIHRoaXMub3B0aW9ucy5kaXNwbGF5ICE9PSBcIm92ZXJsYXlcIiApIHtcclxuXHRcdFx0dGhpcy5fb24oIHRoaXMuZG9jdW1lbnQsIHtcclxuXHRcdFx0XHRcInBhZ2VzaG93XCI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dGhpcy5fb3BlbmVkUGFnZSA9IG51bGw7XHJcblx0XHRcdFx0XHR0aGlzLl9nZXRXcmFwcGVyKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdC8vIENsZWFuIHVwIG9wZW4gcGFuZWxzIGFmdGVyIHBhZ2UgaGlkZVxyXG5cdFx0aWYgKCBzZWxmLl9wYXJlbnRQYWdlICkge1xyXG5cdFx0XHR0aGlzLmRvY3VtZW50Lm9uKCBcInBhZ2VoaWRlXCIsIFwiOmpxbURhdGEocm9sZT0ncGFnZScpXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmICggc2VsZi5fb3BlbiApIHtcclxuXHRcdFx0XHRcdHNlbGYuY2xvc2UoIHRydWUgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5kb2N1bWVudC5vbiggXCJwYWdlYmVmb3JlaGlkZVwiLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRpZiAoIHNlbGYuX29wZW4gKSB7XHJcblx0XHRcdFx0XHRzZWxmLmNsb3NlKCB0cnVlICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBzdGF0ZSBzdG9yYWdlIG9mIG9wZW4gb3IgY2xvc2VkXHJcblx0X29wZW46IGZhbHNlLFxyXG5cdF9wYWdlQ29udGVudE9wZW5DbGFzc2VzOiBudWxsLFxyXG5cdF9tb2RhbE9wZW5DbGFzc2VzOiBudWxsLFxyXG5cclxuXHRvcGVuOiBmdW5jdGlvbiggaW1tZWRpYXRlICkge1xyXG5cdFx0aWYgKCAhdGhpcy5fb3BlbiApIHtcclxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxyXG5cdFx0XHRcdG8gPSBzZWxmLm9wdGlvbnMsXHJcblxyXG5cdFx0XHRcdF9vcGVuUGFuZWwgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHNlbGYuX29mZiggc2VsZi5kb2N1bWVudCAsIFwicGFuZWxjbG9zZVwiICk7XHJcblx0XHRcdFx0XHRzZWxmLl9wYWdlKCkuanFtRGF0YSggXCJwYW5lbFwiLCBcIm9wZW5cIiApO1xyXG5cclxuXHRcdFx0XHRcdGlmICggJC5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkICYmICEhby5hbmltYXRlICYmIG8uZGlzcGxheSAhPT0gXCJvdmVybGF5XCIgKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuX3dyYXBwZXIuYWRkQ2xhc3MoIG8uY2xhc3Nlcy5hbmltYXRlICk7XHJcblx0XHRcdFx0XHRcdHNlbGYuX2ZpeGVkVG9vbGJhcnMoKS5hZGRDbGFzcyggby5jbGFzc2VzLmFuaW1hdGUgKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoICFpbW1lZGlhdGUgJiYgJC5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkICYmICEhby5hbmltYXRlICkge1xyXG5cdFx0XHRcdFx0XHQoIHNlbGYuX3dyYXBwZXIgfHwgc2VsZi5lbGVtZW50IClcclxuXHRcdFx0XHRcdFx0XHQuYW5pbWF0aW9uQ29tcGxldGUoIGNvbXBsZXRlLCBcInRyYW5zaXRpb25cIiApO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCggY29tcGxldGUsIDAgKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoIG8udGhlbWUgJiYgby5kaXNwbGF5ICE9PSBcIm92ZXJsYXlcIiApIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5fcGFnZSgpLnBhcmVudCgpXHJcblx0XHRcdFx0XHRcdFx0LmFkZENsYXNzKCBvLmNsYXNzZXMucGFnZUNvbnRhaW5lciArIFwiLXRoZW1lZCBcIiArIG8uY2xhc3Nlcy5wYWdlQ29udGFpbmVyICsgXCItXCIgKyBvLnRoZW1lICk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0c2VsZi5lbGVtZW50XHJcblx0XHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggby5jbGFzc2VzLnBhbmVsQ2xvc2VkIClcclxuXHRcdFx0XHRcdFx0LmFkZENsYXNzKCBvLmNsYXNzZXMucGFuZWxPcGVuICk7XHJcblxyXG5cdFx0XHRcdFx0c2VsZi5fcG9zaXRpb25QYW5lbCggdHJ1ZSApO1xyXG5cclxuXHRcdFx0XHRcdHNlbGYuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMgPSBzZWxmLl9nZXRQb3NEaXNwbGF5Q2xhc3Nlcyggby5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4ICk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBvLmRpc3BsYXkgIT09IFwib3ZlcmxheVwiICkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLl9wYWdlKCkucGFyZW50KCkuYWRkQ2xhc3MoIG8uY2xhc3Nlcy5wYWdlQ29udGFpbmVyICk7XHJcblx0XHRcdFx0XHRcdHNlbGYuX3dyYXBwZXIuYWRkQ2xhc3MoIHNlbGYuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMgKTtcclxuXHRcdFx0XHRcdFx0c2VsZi5fZml4ZWRUb29sYmFycygpLmFkZENsYXNzKCBzZWxmLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzICk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0c2VsZi5fbW9kYWxPcGVuQ2xhc3NlcyA9IHNlbGYuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKCBvLmNsYXNzZXMubW9kYWwgKSArIFwiIFwiICsgby5jbGFzc2VzLm1vZGFsT3BlbjtcclxuXHRcdFx0XHRcdGlmICggc2VsZi5fbW9kYWwgKSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuX21vZGFsXHJcblx0XHRcdFx0XHRcdFx0LmFkZENsYXNzKCBzZWxmLl9tb2RhbE9wZW5DbGFzc2VzIClcclxuXHRcdFx0XHRcdFx0XHQuaGVpZ2h0KCBNYXRoLm1heCggc2VsZi5fbW9kYWwuaGVpZ2h0KCksIHNlbGYuZG9jdW1lbnQuaGVpZ2h0KCkgKSApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Y29tcGxldGUgPSBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdFx0XHQvLyBCYWlsIGlmIHRoZSBwYW5lbCB3YXMgY2xvc2VkIGJlZm9yZSB0aGUgb3BlbmluZyBhbmltYXRpb24gaGFzIGNvbXBsZXRlZFxyXG5cdFx0XHRcdFx0aWYgKCAhc2VsZi5fb3BlbiApIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmICggby5kaXNwbGF5ICE9PSBcIm92ZXJsYXlcIiApIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5fd3JhcHBlci5hZGRDbGFzcyggby5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4ICsgXCItb3BlblwiICk7XHJcblx0XHRcdFx0XHRcdHNlbGYuX2ZpeGVkVG9vbGJhcnMoKS5hZGRDbGFzcyggby5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4ICsgXCItb3BlblwiICk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0c2VsZi5fYmluZEZpeExpc3RlbmVyKCk7XHJcblxyXG5cdFx0XHRcdFx0c2VsZi5fdHJpZ2dlciggXCJvcGVuXCIgKTtcclxuXHJcblx0XHRcdFx0XHRzZWxmLl9vcGVuZWRQYWdlID0gc2VsZi5fcGFnZSgpO1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRzZWxmLl90cmlnZ2VyKCBcImJlZm9yZW9wZW5cIiApO1xyXG5cclxuXHRcdFx0aWYgKCBzZWxmLl9wYWdlKCkuanFtRGF0YSggXCJwYW5lbFwiICkgPT09IFwib3BlblwiICkge1xyXG5cdFx0XHRcdHNlbGYuX29uKCBzZWxmLmRvY3VtZW50LCB7XHJcblx0XHRcdFx0XHRcInBhbmVsY2xvc2VcIjogX29wZW5QYW5lbFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdF9vcGVuUGFuZWwoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2VsZi5fb3BlbiA9IHRydWU7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Y2xvc2U6IGZ1bmN0aW9uKCBpbW1lZGlhdGUgKSB7XHJcblx0XHRpZiAoIHRoaXMuX29wZW4gKSB7XHJcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcclxuXHRcdFx0XHRvID0gdGhpcy5vcHRpb25zLFxyXG5cclxuXHRcdFx0XHRfY2xvc2VQYW5lbCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0XHRcdHNlbGYuZWxlbWVudC5yZW1vdmVDbGFzcyggby5jbGFzc2VzLnBhbmVsT3BlbiApO1xyXG5cclxuXHRcdFx0XHRcdGlmICggby5kaXNwbGF5ICE9PSBcIm92ZXJsYXlcIiApIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5fd3JhcHBlci5yZW1vdmVDbGFzcyggc2VsZi5fcGFnZUNvbnRlbnRPcGVuQ2xhc3NlcyApO1xyXG5cdFx0XHRcdFx0XHRzZWxmLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoIHNlbGYuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMgKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoICFpbW1lZGlhdGUgJiYgJC5zdXBwb3J0LmNzc1RyYW5zZm9ybTNkICYmICEhby5hbmltYXRlICkge1xyXG5cdFx0XHRcdFx0XHQoIHNlbGYuX3dyYXBwZXIgfHwgc2VsZi5lbGVtZW50IClcclxuXHRcdFx0XHRcdFx0XHQuYW5pbWF0aW9uQ29tcGxldGUoIGNvbXBsZXRlLCBcInRyYW5zaXRpb25cIiApO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCggY29tcGxldGUsIDAgKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoIHNlbGYuX21vZGFsICkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLl9tb2RhbFxyXG5cdFx0XHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggc2VsZi5fbW9kYWxPcGVuQ2xhc3NlcyApXHJcblx0XHRcdFx0XHRcdFx0LmhlaWdodCggXCJcIiApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Y29tcGxldGUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdGlmICggby50aGVtZSAmJiBvLmRpc3BsYXkgIT09IFwib3ZlcmxheVwiICkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoIG8uY2xhc3Nlcy5wYWdlQ29udGFpbmVyICsgXCItdGhlbWVkIFwiICsgby5jbGFzc2VzLnBhZ2VDb250YWluZXIgKyBcIi1cIiArIG8udGhlbWUgKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRzZWxmLmVsZW1lbnQuYWRkQ2xhc3MoIG8uY2xhc3Nlcy5wYW5lbENsb3NlZCApO1xyXG5cclxuXHRcdFx0XHRcdGlmICggby5kaXNwbGF5ICE9PSBcIm92ZXJsYXlcIiApIHtcclxuXHRcdFx0XHRcdFx0c2VsZi5fcGFnZSgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCBvLmNsYXNzZXMucGFnZUNvbnRhaW5lciApO1xyXG5cdFx0XHRcdFx0XHRzZWxmLl93cmFwcGVyLnJlbW92ZUNsYXNzKCBvLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXggKyBcIi1vcGVuXCIgKTtcclxuXHRcdFx0XHRcdFx0c2VsZi5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKCBvLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXggKyBcIi1vcGVuXCIgKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoICQuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCAmJiAhIW8uYW5pbWF0ZSAmJiBvLmRpc3BsYXkgIT09IFwib3ZlcmxheVwiICkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLl93cmFwcGVyLnJlbW92ZUNsYXNzKCBvLmNsYXNzZXMuYW5pbWF0ZSApO1xyXG5cdFx0XHRcdFx0XHRzZWxmLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoIG8uY2xhc3Nlcy5hbmltYXRlICk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0c2VsZi5fZml4UGFuZWwoKTtcclxuXHRcdFx0XHRcdHNlbGYuX3VuYmluZEZpeExpc3RlbmVyKCk7XHJcblx0XHRcdFx0XHQkLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKTtcclxuXHJcblx0XHRcdFx0XHRzZWxmLl9wYWdlKCkuanFtUmVtb3ZlRGF0YSggXCJwYW5lbFwiICk7XHJcblxyXG5cdFx0XHRcdFx0c2VsZi5fdHJpZ2dlciggXCJjbG9zZVwiICk7XHJcblxyXG5cdFx0XHRcdFx0c2VsZi5fb3BlbmVkUGFnZSA9IG51bGw7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdHNlbGYuX3RyaWdnZXIoIFwiYmVmb3JlY2xvc2VcIiApO1xyXG5cclxuXHRcdFx0X2Nsb3NlUGFuZWwoKTtcclxuXHJcblx0XHRcdHNlbGYuX29wZW4gPSBmYWxzZTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHR0b2dnbGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpc1sgdGhpcy5fb3BlbiA/IFwiY2xvc2VcIiA6IFwib3BlblwiIF0oKTtcclxuXHR9LFxyXG5cclxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgb3RoZXJQYW5lbHMsXHJcblx0XHRvID0gdGhpcy5vcHRpb25zLFxyXG5cdFx0bXVsdGlwbGVQYW5lbHMgPSAoICQoIFwiYm9keSA+IDptb2JpbGUtcGFuZWxcIiApLmxlbmd0aCArICQubW9iaWxlLmFjdGl2ZVBhZ2UuZmluZCggXCI6bW9iaWxlLXBhbmVsXCIgKS5sZW5ndGggKSA+IDE7XHJcblxyXG5cdFx0aWYgKCBvLmRpc3BsYXkgIT09IFwib3ZlcmxheVwiICkge1xyXG5cclxuXHRcdFx0Ly8gIHJlbW92ZSB0aGUgd3JhcHBlciBpZiBub3QgaW4gdXNlIGJ5IGFub3RoZXIgcGFuZWxcclxuXHRcdFx0b3RoZXJQYW5lbHMgPSAkKCBcImJvZHkgPiA6bW9iaWxlLXBhbmVsXCIgKS5hZGQoICQubW9iaWxlLmFjdGl2ZVBhZ2UuZmluZCggXCI6bW9iaWxlLXBhbmVsXCIgKSApO1xyXG5cdFx0XHRpZiAoIG90aGVyUGFuZWxzLm5vdCggXCIudWktcGFuZWwtZGlzcGxheS1vdmVybGF5XCIgKS5ub3QoIHRoaXMuZWxlbWVudCApLmxlbmd0aCA9PT0gMCApIHtcclxuXHRcdFx0XHR0aGlzLl93cmFwcGVyLmNoaWxkcmVuKCkudW53cmFwKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggdGhpcy5fb3BlbiApIHtcclxuXHJcblx0XHRcdFx0dGhpcy5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKCBvLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXggKyBcIi1vcGVuXCIgKTtcclxuXHJcblx0XHRcdFx0aWYgKCAkLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QgJiYgISFvLmFuaW1hdGUgKSB7XHJcblx0XHRcdFx0XHR0aGlzLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoIG8uY2xhc3Nlcy5hbmltYXRlICk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR0aGlzLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoIG8uY2xhc3Nlcy5wYWdlQ29udGFpbmVyICk7XHJcblxyXG5cdFx0XHRcdGlmICggby50aGVtZSApIHtcclxuXHRcdFx0XHRcdHRoaXMuX3BhZ2UoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyggby5jbGFzc2VzLnBhZ2VDb250YWluZXIgKyBcIi10aGVtZWQgXCIgKyBvLmNsYXNzZXMucGFnZUNvbnRhaW5lciArIFwiLVwiICsgby50aGVtZSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggIW11bHRpcGxlUGFuZWxzICkge1xyXG5cclxuXHRcdFx0dGhpcy5kb2N1bWVudC5vZmYoIFwicGFuZWxvcGVuIHBhbmVsY2xvc2VcIiApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIHRoaXMuX29wZW4gKSB7XHJcblx0XHRcdHRoaXMuX3BhZ2UoKS5qcW1SZW1vdmVEYXRhKCBcInBhbmVsXCIgKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9wYW5lbElubmVyLmNoaWxkcmVuKCkudW53cmFwKCk7XHJcblxyXG5cdFx0dGhpcy5lbGVtZW50XHJcblx0XHRcdC5yZW1vdmVDbGFzcyggWyB0aGlzLl9nZXRQYW5lbENsYXNzZXMoKSwgby5jbGFzc2VzLnBhbmVsT3Blbiwgby5jbGFzc2VzLmFuaW1hdGUgXS5qb2luKCBcIiBcIiApIClcclxuXHRcdFx0Lm9mZiggXCJzd2lwZWxlZnQucGFuZWwgc3dpcGVyaWdodC5wYW5lbFwiIClcclxuXHRcdFx0Lm9mZiggXCJwYW5lbGJlZm9yZW9wZW5cIiApXHJcblx0XHRcdC5vZmYoIFwicGFuZWxoaWRlXCIgKVxyXG5cdFx0XHQub2ZmKCBcImtleXVwLnBhbmVsXCIgKVxyXG5cdFx0XHQub2ZmKCBcInVwZGF0ZWxheW91dFwiICk7XHJcblxyXG5cdFx0aWYgKCB0aGlzLl9tb2RhbCApIHtcclxuXHRcdFx0dGhpcy5fbW9kYWwucmVtb3ZlKCk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxuJC53aWRnZXQoIFwibW9iaWxlLnRhYmxlXCIsIHtcclxuXHRvcHRpb25zOiB7XHJcblx0XHRjbGFzc2VzOiB7XHJcblx0XHRcdHRhYmxlOiBcInVpLXRhYmxlXCJcclxuXHRcdH0sXHJcblx0XHRlbmhhbmNlZDogZmFsc2VcclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdGlmICggIXRoaXMub3B0aW9ucy5lbmhhbmNlZCApIHtcclxuXHRcdFx0dGhpcy5lbGVtZW50LmFkZENsYXNzKCB0aGlzLm9wdGlvbnMuY2xhc3Nlcy50YWJsZSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGV4dGVuZCBoZXJlLCBhc3NpZ24gb24gcmVmcmVzaCA+IF9zZXRIZWFkZXJzXHJcblx0XHQkLmV4dGVuZCggdGhpcywge1xyXG5cclxuXHRcdFx0Ly8gRXhwb3NlIGhlYWRlcnMgYW5kIGFsbEhlYWRlcnMgcHJvcGVydGllcyBvbiB0aGUgd2lkZ2V0XHJcblx0XHRcdC8vIGhlYWRlcnMgcmVmZXJlbmNlcyB0aGUgVEhzIHdpdGhpbiB0aGUgZmlyc3QgVFIgaW4gdGhlIHRhYmxlXHJcblx0XHRcdGhlYWRlcnM6IHVuZGVmaW5lZCxcclxuXHJcblx0XHRcdC8vIGFsbEhlYWRlcnMgcmVmZXJlbmNlcyBoZWFkZXJzLCBwbHVzIGFsbCBUSHMgaW4gdGhlIHRoZWFkLCB3aGljaCBtYXlcclxuXHRcdFx0Ly8gaW5jbHVkZSBzZXZlcmFsIHJvd3MsIG9yIG5vdFxyXG5cdFx0XHRhbGxIZWFkZXJzOiB1bmRlZmluZWRcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuX3JlZnJlc2goIHRydWUgKTtcclxuXHR9LFxyXG5cclxuXHRfc2V0SGVhZGVyczogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgdHJzID0gdGhpcy5lbGVtZW50LmZpbmQoIFwidGhlYWQgdHJcIiApO1xyXG5cclxuXHRcdHRoaXMuaGVhZGVycyA9IHRoaXMuZWxlbWVudC5maW5kKCBcInRyOmVxKDApXCIgKS5jaGlsZHJlbigpO1xyXG5cdFx0dGhpcy5hbGxIZWFkZXJzID0gdGhpcy5oZWFkZXJzLmFkZCggdHJzLmNoaWxkcmVuKCkgKTtcclxuXHR9LFxyXG5cclxuXHRyZWZyZXNoOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuX3JlZnJlc2goKTtcclxuXHR9LFxyXG5cclxuXHRyZWJ1aWxkOiAkLm5vb3AsXHJcblxyXG5cdF9yZWZyZXNoOiBmdW5jdGlvbiggLyogY3JlYXRlICovICkge1xyXG5cdFx0dmFyIHRhYmxlID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHR0cnMgPSB0YWJsZS5maW5kKCBcInRoZWFkIHRyXCIgKTtcclxuXHJcblx0XHQvLyB1cGRhdGluZyBoZWFkZXJzIG9uIHJlZnJlc2ggKGZpeGVzICM1ODgwKVxyXG5cdFx0dGhpcy5fc2V0SGVhZGVycygpO1xyXG5cclxuXHRcdC8vIEl0ZXJhdGUgb3ZlciB0aGUgdHJzXHJcblx0XHR0cnMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBjb2x1bW5Db3VudCA9IDA7XHJcblxyXG5cdFx0XHQvLyBJdGVyYXRlIG92ZXIgdGhlIGNoaWxkcmVuIG9mIHRoZSB0clxyXG5cdFx0XHQkKCB0aGlzICkuY2hpbGRyZW4oKS5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgc3BhbiA9IHBhcnNlSW50KCB0aGlzLmdldEF0dHJpYnV0ZSggXCJjb2xzcGFuXCIgKSwgMTAgKSxcclxuXHRcdFx0XHRcdHNlbGVjdG9yID0gXCI6bnRoLWNoaWxkKFwiICsgKCBjb2x1bW5Db3VudCArIDEgKSArIFwiKVwiLFxyXG5cdFx0XHRcdFx0ajtcclxuXHJcblx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUoIFwiZGF0YS1cIiArICQubW9iaWxlLm5zICsgXCJjb2xzdGFydFwiLCBjb2x1bW5Db3VudCArIDEgKTtcclxuXHJcblx0XHRcdFx0aWYgKCBzcGFuICkge1xyXG5cdFx0XHRcdFx0Zm9yKCBqID0gMDsgaiA8IHNwYW4gLSAxOyBqKysgKSB7XHJcblx0XHRcdFx0XHRcdGNvbHVtbkNvdW50Kys7XHJcblx0XHRcdFx0XHRcdHNlbGVjdG9yICs9IFwiLCA6bnRoLWNoaWxkKFwiICsgKCBjb2x1bW5Db3VudCArIDEgKSArIFwiKVwiO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gU3RvcmUgXCJjZWxsc1wiIGRhdGEgb24gaGVhZGVyIGFzIGEgcmVmZXJlbmNlIHRvIGFsbCBjZWxscyBpbiB0aGVcclxuXHRcdFx0XHQvLyBzYW1lIGNvbHVtbiBhcyB0aGlzIFRIXHJcblx0XHRcdFx0JCggdGhpcyApLmpxbURhdGEoIFwiY2VsbHNcIiwgdGFibGUuZmluZCggXCJ0clwiICkubm90KCB0cnMuZXEoIDAgKSApLm5vdCggdGhpcyApLmNoaWxkcmVuKCBzZWxlY3RvciApICk7XHJcblxyXG5cdFx0XHRcdGNvbHVtbkNvdW50Kys7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59KTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcbiQud2lkZ2V0KCBcIm1vYmlsZS50YWJsZVwiLCAkLm1vYmlsZS50YWJsZSwge1xyXG5cdG9wdGlvbnM6IHtcclxuXHRcdG1vZGU6IFwiY29sdW1udG9nZ2xlXCIsXHJcblx0XHRjb2x1bW5CdG5UaGVtZTogbnVsbCxcclxuXHRcdGNvbHVtblBvcHVwVGhlbWU6IG51bGwsXHJcblx0XHRjb2x1bW5CdG5UZXh0OiBcIkNvbHVtbnMuLi5cIixcclxuXHRcdGNsYXNzZXM6ICQuZXh0ZW5kKCAkLm1vYmlsZS50YWJsZS5wcm90b3R5cGUub3B0aW9ucy5jbGFzc2VzLCB7XHJcblx0XHRcdHBvcHVwOiBcInVpLXRhYmxlLWNvbHVtbnRvZ2dsZS1wb3B1cFwiLFxyXG5cdFx0XHRjb2x1bW5CdG46IFwidWktdGFibGUtY29sdW1udG9nZ2xlLWJ0blwiLFxyXG5cdFx0XHRwcmlvcml0eVByZWZpeDogXCJ1aS10YWJsZS1wcmlvcml0eS1cIixcclxuXHRcdFx0Y29sdW1uVG9nZ2xlVGFibGU6IFwidWktdGFibGUtY29sdW1udG9nZ2xlXCJcclxuXHRcdH0pXHJcblx0fSxcclxuXHJcblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLl9zdXBlcigpO1xyXG5cclxuXHRcdGlmICggdGhpcy5vcHRpb25zLm1vZGUgIT09IFwiY29sdW1udG9nZ2xlXCIgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQkLmV4dGVuZCggdGhpcywge1xyXG5cdFx0XHRfbWVudTogbnVsbFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZW5oYW5jZWQgKSB7XHJcblx0XHRcdHRoaXMuX21lbnUgPSAkKCB0aGlzLmRvY3VtZW50WyAwIF0uZ2V0RWxlbWVudEJ5SWQoIHRoaXMuX2lkKCkgKyBcIi1wb3B1cFwiICkgKS5jaGlsZHJlbigpLmZpcnN0KCk7XHJcblx0XHRcdHRoaXMuX2FkZFRvZ2dsZXMoIHRoaXMuX21lbnUsIHRydWUgKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuX21lbnUgPSB0aGlzLl9lbmhhbmNlQ29sVG9nZ2xlKCk7XHJcblx0XHRcdHRoaXMuZWxlbWVudC5hZGRDbGFzcyggdGhpcy5vcHRpb25zLmNsYXNzZXMuY29sdW1uVG9nZ2xlVGFibGUgKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9zZXR1cEV2ZW50cygpO1xyXG5cclxuXHRcdHRoaXMuX3NldFRvZ2dsZVN0YXRlKCk7XHJcblx0fSxcclxuXHJcblx0X2lkOiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiAoIHRoaXMuZWxlbWVudC5hdHRyKCBcImlkXCIgKSB8fCAoIHRoaXMud2lkZ2V0TmFtZSArIHRoaXMudXVpZCApICk7XHJcblx0fSxcclxuXHJcblx0X3NldHVwRXZlbnRzOiBmdW5jdGlvbigpIHtcclxuXHRcdC8vTk9URTogaW5wdXRzIGFyZSBib3VuZCBpbiBiaW5kVG9nZ2xlcyxcclxuXHRcdC8vIHNvIGl0IGNhbiBiZSBjYWxsZWQgb24gcmVmcmVzaCwgdG9vXHJcblxyXG5cdFx0Ly8gdXBkYXRlIGNvbHVtbiB0b2dnbGVzIG9uIHJlc2l6ZVxyXG5cdFx0dGhpcy5fb24oIHRoaXMud2luZG93LCB7XHJcblx0XHRcdHRocm90dGxlZHJlc2l6ZTogXCJfc2V0VG9nZ2xlU3RhdGVcIlxyXG5cdFx0fSk7XHJcblx0XHR0aGlzLl9vbiggdGhpcy5fbWVudSwge1xyXG5cdFx0XHRcImNoYW5nZSBpbnB1dFwiOiBcIl9tZW51SW5wdXRDaGFuZ2VcIlxyXG5cdFx0fSk7XHJcblx0fSxcclxuXHJcblx0X2FkZFRvZ2dsZXM6IGZ1bmN0aW9uKCBtZW51LCBrZWVwICkge1xyXG5cdFx0dmFyIGlucHV0cyxcclxuXHRcdFx0Y2hlY2tib3hJbmRleCA9IDAsXHJcblx0XHRcdG9wdHMgPSB0aGlzLm9wdGlvbnMsXHJcblx0XHRcdGNvbnRhaW5lciA9IG1lbnUuY29udHJvbGdyb3VwKCBcImNvbnRhaW5lclwiICk7XHJcblxyXG5cdFx0Ly8gYWxsb3cgdXBkYXRlIG9mIG1lbnUgb24gcmVmcmVzaCAoZml4ZXMgIzU4ODApXHJcblx0XHRpZiAoIGtlZXAgKSB7XHJcblx0XHRcdGlucHV0cyA9IG1lbnUuZmluZCggXCJpbnB1dFwiICk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjb250YWluZXIuZW1wdHkoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjcmVhdGUgdGhlIGhpZGUvc2hvdyB0b2dnbGVzXHJcblx0XHR0aGlzLmhlYWRlcnMubm90KCBcInRkXCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIGlucHV0LCBjZWxscyxcclxuXHRcdFx0XHRoZWFkZXIgPSAkKCB0aGlzICksXHJcblx0XHRcdFx0cHJpb3JpdHkgPSAkLm1vYmlsZS5nZXRBdHRyaWJ1dGUoIHRoaXMsIFwicHJpb3JpdHlcIiApO1xyXG5cclxuXHRcdFx0aWYgKCBwcmlvcml0eSApIHtcclxuXHRcdFx0XHRjZWxscyA9IGhlYWRlci5hZGQoIGhlYWRlci5qcW1EYXRhKCBcImNlbGxzXCIgKSApO1xyXG5cdFx0XHRcdGNlbGxzLmFkZENsYXNzKCBvcHRzLmNsYXNzZXMucHJpb3JpdHlQcmVmaXggKyBwcmlvcml0eSApO1xyXG5cclxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgdGhlIChuZXc/KSBjaGVja2JveCBpcyBhc3NvY2lhdGVkIHdpdGggaXRzIGhlYWRlciB2aWEgLmpxbURhdGEoKSBhbmRcclxuXHRcdFx0XHQvLyB0aGF0LCB2aWNlIHZlcnNhLCB0aGUgaGVhZGVyIGlzIGFsc28gYXNzb2NpYXRlZCB3aXRoIHRoZSBjaGVja2JveFxyXG5cdFx0XHRcdGlucHV0ID0gKCBrZWVwID8gaW5wdXRzLmVxKCBjaGVja2JveEluZGV4KysgKSA6XHJcblx0XHRcdFx0XHQkKFwiPGxhYmVsPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgY2hlY2tlZCAvPlwiICtcclxuXHRcdFx0XHRcdFx0KCBoZWFkZXIuY2hpbGRyZW4oIFwiYWJiclwiICkuZmlyc3QoKS5hdHRyKCBcInRpdGxlXCIgKSB8fFxyXG5cdFx0XHRcdFx0XHRcdGhlYWRlci50ZXh0KCkgKSArXHJcblx0XHRcdFx0XHRcdFwiPC9sYWJlbD5cIiApXHJcblx0XHRcdFx0XHRcdC5hcHBlbmRUbyggY29udGFpbmVyIClcclxuXHRcdFx0XHRcdFx0LmNoaWxkcmVuKCAwIClcclxuXHRcdFx0XHRcdFx0LmNoZWNrYm94cmFkaW8oIHtcclxuXHRcdFx0XHRcdFx0XHR0aGVtZTogb3B0cy5jb2x1bW5Qb3B1cFRoZW1lXHJcblx0XHRcdFx0XHRcdH0pIClcclxuXHJcblx0XHRcdFx0XHRcdC8vIEFzc29jaWF0ZSB0aGUgaGVhZGVyIHdpdGggdGhlIGNoZWNrYm94XHJcblx0XHRcdFx0XHRcdC5qcW1EYXRhKCBcImhlYWRlclwiLCBoZWFkZXIgKVxyXG5cdFx0XHRcdFx0XHQuanFtRGF0YSggXCJjZWxsc1wiLCBjZWxscyApO1xyXG5cclxuXHRcdFx0XHQvLyBBc3NvY2lhdGUgdGhlIGNoZWNrYm94IHdpdGggdGhlIGhlYWRlclxyXG5cdFx0XHRcdGhlYWRlci5qcW1EYXRhKCBcImlucHV0XCIsIGlucHV0ICk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIHNldCBiaW5kaW5ncyBoZXJlXHJcblx0XHRpZiAoICFrZWVwICkge1xyXG5cdFx0XHRtZW51LmNvbnRyb2xncm91cCggXCJyZWZyZXNoXCIgKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfbWVudUlucHV0Q2hhbmdlOiBmdW5jdGlvbiggZXZ0ICkge1xyXG5cdFx0dmFyIGlucHV0ID0gJCggZXZ0LnRhcmdldCApLFxyXG5cdFx0XHRjaGVja2VkID0gaW5wdXRbIDAgXS5jaGVja2VkO1xyXG5cclxuXHRcdGlucHV0LmpxbURhdGEoIFwiY2VsbHNcIiApXHJcblx0XHRcdC50b2dnbGVDbGFzcyggXCJ1aS10YWJsZS1jZWxsLWhpZGRlblwiLCAhY2hlY2tlZCApXHJcblx0XHRcdC50b2dnbGVDbGFzcyggXCJ1aS10YWJsZS1jZWxsLXZpc2libGVcIiwgY2hlY2tlZCApO1xyXG5cdH0sXHJcblxyXG5cdF91bmxvY2tDZWxsczogZnVuY3Rpb24oIGNlbGxzICkge1xyXG5cdFx0Ly8gYWxsb3cgaGlkZS9zaG93IHZpYSBDU1Mgb25seSA9IHJlbW92ZSBhbGwgdG9nZ2xlLWxvY2tzXHJcblx0XHRjZWxscy5yZW1vdmVDbGFzcyggXCJ1aS10YWJsZS1jZWxsLWhpZGRlbiB1aS10YWJsZS1jZWxsLXZpc2libGVcIik7XHJcblx0fSxcclxuXHJcblx0X2VuaGFuY2VDb2xUb2dnbGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGlkICwgbWVudUJ1dHRvbiwgcG9wdXAsIG1lbnUsXHJcblx0XHRcdHRhYmxlID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHRvcHRzID0gdGhpcy5vcHRpb25zLFxyXG5cdFx0XHRucyA9ICQubW9iaWxlLm5zLFxyXG5cdFx0XHRmcmFnbWVudCA9IHRoaXMuZG9jdW1lbnRbIDAgXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcblxyXG5cdFx0aWQgPSB0aGlzLl9pZCgpICsgXCItcG9wdXBcIjtcclxuXHRcdG1lbnVCdXR0b24gPSAkKCBcIjxhIGhyZWY9JyNcIiArIGlkICsgXCInIFwiICtcclxuXHRcdFx0XCJjbGFzcz0nXCIgKyBvcHRzLmNsYXNzZXMuY29sdW1uQnRuICsgXCIgdWktYnRuIFwiICtcclxuXHRcdFx0XCJ1aS1idG4tXCIgKyAoIG9wdHMuY29sdW1uQnRuVGhlbWUgfHwgXCJhXCIgKSArXHJcblx0XHRcdFwiIHVpLWNvcm5lci1hbGwgdWktc2hhZG93IHVpLW1pbmknIFwiICtcclxuXHRcdFx0XCJkYXRhLVwiICsgbnMgKyBcInJlbD0ncG9wdXAnPlwiICsgb3B0cy5jb2x1bW5CdG5UZXh0ICsgXCI8L2E+XCIgKTtcclxuXHRcdHBvcHVwID0gJCggXCI8ZGl2IGNsYXNzPSdcIiArIG9wdHMuY2xhc3Nlcy5wb3B1cCArIFwiJyBpZD0nXCIgKyBpZCArIFwiJz48L2Rpdj5cIiApO1xyXG5cdFx0bWVudSA9ICQoIFwiPGZpZWxkc2V0PjwvZmllbGRzZXQ+XCIgKS5jb250cm9sZ3JvdXAoKTtcclxuXHJcblx0XHQvLyBzZXQgZXh0ZW5zaW9uIGhlcmUsIHNlbmQgXCJmYWxzZVwiIHRvIHRyaWdnZXIgYnVpbGQvcmVidWlsZFxyXG5cdFx0dGhpcy5fYWRkVG9nZ2xlcyggbWVudSwgZmFsc2UgKTtcclxuXHJcblx0XHRtZW51LmFwcGVuZFRvKCBwb3B1cCApO1xyXG5cclxuXHRcdGZyYWdtZW50LmFwcGVuZENoaWxkKCBwb3B1cFsgMCBdICk7XHJcblx0XHRmcmFnbWVudC5hcHBlbmRDaGlsZCggbWVudUJ1dHRvblsgMCBdICk7XHJcblx0XHR0YWJsZS5iZWZvcmUoIGZyYWdtZW50ICk7XHJcblxyXG5cdFx0cG9wdXAucG9wdXAoKTtcclxuXHJcblx0XHRyZXR1cm4gbWVudTtcclxuXHR9LFxyXG5cclxuXHRyZWJ1aWxkOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuX3N1cGVyKCk7XHJcblxyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMubW9kZSA9PT0gXCJjb2x1bW50b2dnbGVcIiApIHtcclxuXHRcdFx0Ly8gTk9URTogcmVidWlsZCBwYXNzZXMgXCJmYWxzZVwiLCB3aGlsZSByZWZyZXNoIHBhc3NlcyBcInVuZGVmaW5lZFwiXHJcblx0XHRcdC8vIGJvdGggcmVmcmVzaCB0aGUgdGFibGUsIGJ1dCBpbnNpZGUgYWRkVG9nZ2xlcywgIWZhbHNlIHdpbGwgYmUgdHJ1ZSxcclxuXHRcdFx0Ly8gc28gYSByZWJ1aWxkIGNhbGwgY2FuIGJlIGluZGVudGlmaWVkXHJcblx0XHRcdHRoaXMuX3JlZnJlc2goIGZhbHNlICk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X3JlZnJlc2g6IGZ1bmN0aW9uKCBjcmVhdGUgKSB7XHJcblx0XHR2YXIgaGVhZGVycywgaGlkZGVuQ29sdW1ucywgaW5kZXg7XHJcblxyXG5cdFx0Ly8gQ2FsbGluZyBfc3VwZXIoKSBoZXJlIHVwZGF0ZXMgdGhpcy5oZWFkZXJzXHJcblx0XHR0aGlzLl9zdXBlciggY3JlYXRlICk7XHJcblxyXG5cdFx0aWYgKCAhY3JlYXRlICYmIHRoaXMub3B0aW9ucy5tb2RlID09PSBcImNvbHVtbnRvZ2dsZVwiICkge1xyXG5cdFx0XHRoZWFkZXJzID0gdGhpcy5oZWFkZXJzO1xyXG5cdFx0XHRoaWRkZW5Db2x1bW5zID0gW107XHJcblxyXG5cdFx0XHQvLyBGaW5kIHRoZSBpbmRleCBvZiB0aGUgY29sdW1uIGhlYWRlciBhc3NvY2lhdGVkIHdpdGggZWFjaCBvbGQgY2hlY2tib3ggYW1vbmcgdGhlXHJcblx0XHRcdC8vIHBvc3QtcmVmcmVzaCBoZWFkZXJzIGFuZCwgaWYgdGhlIGhlYWRlciBpcyBzdGlsbCB0aGVyZSwgbWFrZSBzdXJlIHRoZSBjb3JyZXNwb25kaW5nXHJcblx0XHRcdC8vIGNvbHVtbiB3aWxsIGJlIGhpZGRlbiBpZiB0aGUgcHJlLXJlZnJlc2ggY2hlY2tib3ggaW5kaWNhdGVzIHRoYXQgdGhlIGNvbHVtbiBpc1xyXG5cdFx0XHQvLyBoaWRkZW4gYnkgcmVjb3JkaW5nIGl0cyBpbmRleCBpbiB0aGUgYXJyYXkgb2YgaGlkZGVuIGNvbHVtbnMuXHJcblx0XHRcdHRoaXMuX21lbnUuZmluZCggXCJpbnB1dFwiICkuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyIGlucHV0ID0gJCggdGhpcyApLFxyXG5cdFx0XHRcdFx0aGVhZGVyID0gaW5wdXQuanFtRGF0YSggXCJoZWFkZXJcIiApLFxyXG5cdFx0XHRcdFx0aW5kZXggPSBoZWFkZXJzLmluZGV4KCBoZWFkZXJbIDAgXSApO1xyXG5cclxuXHRcdFx0XHRpZiAoIGluZGV4ID4gLTEgJiYgIWlucHV0LnByb3AoIFwiY2hlY2tlZFwiICkgKSB7XHJcblxyXG5cdFx0XHRcdFx0Ly8gVGhlIGNvbHVtbiBoZWFkZXIgYXNzb2NpYXRlZCB3aXRoIC90aGlzLyBjaGVja2JveCBpcyBzdGlsbCBwcmVzZW50IGluIHRoZVxyXG5cdFx0XHRcdFx0Ly8gcG9zdC1yZWZyZXNoIHRhYmxlIGFuZCB0aGUgY2hlY2tib3ggaXMgbm90IGNoZWNrZWQsIHNvIHRoZSBjb2x1bW4gYXNzb2NpYXRlZFxyXG5cdFx0XHRcdFx0Ly8gd2l0aCB0aGlzIGNvbHVtbiBoZWFkZXIgaXMgY3VycmVudGx5IGhpZGRlbi4gTGV0J3MgcmVjb3JkIHRoYXQuXHJcblx0XHRcdFx0XHRoaWRkZW5Db2x1bW5zLnB1c2goIGluZGV4ICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIGNvbHVtbnMgbm90IGJlaW5nIHJlcGxhY2VkIG11c3QgYmUgY2xlYXJlZCBmcm9tIGlucHV0IHRvZ2dsZS1sb2Nrc1xyXG5cdFx0XHR0aGlzLl91bmxvY2tDZWxscyggdGhpcy5lbGVtZW50LmZpbmQoIFwiLnVpLXRhYmxlLWNlbGwtaGlkZGVuLCBcIiArXHJcblx0XHRcdFx0XCIudWktdGFibGUtY2VsbC12aXNpYmxlXCIgKSApO1xyXG5cclxuXHRcdFx0Ly8gdXBkYXRlIGNvbHVtbnRvZ2dsZXMgYW5kIGNlbGxzXHJcblx0XHRcdHRoaXMuX2FkZFRvZ2dsZXMoIHRoaXMuX21lbnUsIGNyZWF0ZSApO1xyXG5cclxuXHRcdFx0Ly8gQXQgdGhpcyBwb2ludCBhbGwgY29sdW1ucyBhcmUgdmlzaWJsZSwgc28gdW5jaGVjayB0aGUgY2hlY2tib3hlcyB0aGF0IGNvcnJlc3BvbmQgdG9cclxuXHRcdFx0Ly8gdGhvc2UgY29sdW1ucyB3ZSd2ZSBmb3VuZCB0byBiZSBoaWRkZW5cclxuXHRcdFx0Zm9yICggaW5kZXggPSBoaWRkZW5Db2x1bW5zLmxlbmd0aCAtIDEgOyBpbmRleCA+IC0xIDsgaW5kZXgtLSApIHtcclxuXHRcdFx0XHRoZWFkZXJzLmVxKCBoaWRkZW5Db2x1bW5zWyBpbmRleCBdICkuanFtRGF0YSggXCJpbnB1dFwiIClcclxuXHRcdFx0XHRcdC5wcm9wKCBcImNoZWNrZWRcIiwgZmFsc2UgKVxyXG5cdFx0XHRcdFx0LmNoZWNrYm94cmFkaW8oIFwicmVmcmVzaFwiIClcclxuXHRcdFx0XHRcdC50cmlnZ2VyKCBcImNoYW5nZVwiICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfc2V0VG9nZ2xlU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5fbWVudS5maW5kKCBcImlucHV0XCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIGNoZWNrYm94ID0gJCggdGhpcyApO1xyXG5cclxuXHRcdFx0dGhpcy5jaGVja2VkID0gY2hlY2tib3guanFtRGF0YSggXCJjZWxsc1wiICkuZXEoIDAgKS5jc3MoIFwiZGlzcGxheVwiICkgPT09IFwidGFibGUtY2VsbFwiO1xyXG5cdFx0XHRjaGVja2JveC5jaGVja2JveHJhZGlvKCBcInJlZnJlc2hcIiApO1xyXG5cdFx0fSk7XHJcblx0fSxcclxuXHJcblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5fc3VwZXIoKTtcclxuXHR9XHJcbn0pO1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblxyXG4kLndpZGdldCggXCJtb2JpbGUudGFibGVcIiwgJC5tb2JpbGUudGFibGUsIHtcclxuXHRvcHRpb25zOiB7XHJcblx0XHRtb2RlOiBcInJlZmxvd1wiLFxyXG5cdFx0Y2xhc3NlczogJC5leHRlbmQoICQubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXMsIHtcclxuXHRcdFx0cmVmbG93VGFibGU6IFwidWktdGFibGUtcmVmbG93XCIsXHJcblx0XHRcdGNlbGxMYWJlbHM6IFwidWktdGFibGUtY2VsbC1sYWJlbFwiXHJcblx0XHR9KVxyXG5cdH0sXHJcblxyXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy5fc3VwZXIoKTtcclxuXHJcblx0XHQvLyBJZiBpdCdzIG5vdCByZWZsb3cgbW9kZSwgcmV0dXJuIGhlcmUuXHJcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5tb2RlICE9PSBcInJlZmxvd1wiICkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCAhdGhpcy5vcHRpb25zLmVuaGFuY2VkICkge1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoIHRoaXMub3B0aW9ucy5jbGFzc2VzLnJlZmxvd1RhYmxlICk7XHJcblxyXG5cdFx0XHR0aGlzLl91cGRhdGVSZWZsb3coKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRyZWJ1aWxkOiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuX3N1cGVyKCk7XHJcblxyXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMubW9kZSA9PT0gXCJyZWZsb3dcIiApIHtcclxuXHRcdFx0dGhpcy5fcmVmcmVzaCggZmFsc2UgKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfcmVmcmVzaDogZnVuY3Rpb24oIGNyZWF0ZSApIHtcclxuXHRcdHRoaXMuX3N1cGVyKCBjcmVhdGUgKTtcclxuXHRcdGlmICggIWNyZWF0ZSAmJiB0aGlzLm9wdGlvbnMubW9kZSA9PT0gXCJyZWZsb3dcIiApIHtcclxuXHRcdFx0dGhpcy5fdXBkYXRlUmVmbG93KCApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF91cGRhdGVSZWZsb3c6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHRhYmxlID0gdGhpcyxcclxuXHRcdFx0b3B0cyA9IHRoaXMub3B0aW9ucztcclxuXHJcblx0XHQvLyBnZXQgaGVhZGVycyBpbiByZXZlcnNlIG9yZGVyIHNvIHRoYXQgdG9wLWxldmVsIGhlYWRlcnMgYXJlIGFwcGVuZGVkIGxhc3RcclxuXHRcdCQoIHRhYmxlLmFsbEhlYWRlcnMuZ2V0KCkucmV2ZXJzZSgpICkuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBjZWxscyA9ICQoIHRoaXMgKS5qcW1EYXRhKCBcImNlbGxzXCIgKSxcclxuXHRcdFx0XHRjb2xzdGFydCA9ICQubW9iaWxlLmdldEF0dHJpYnV0ZSggdGhpcywgXCJjb2xzdGFydFwiICksXHJcblx0XHRcdFx0aGllcmFyY2h5Q2xhc3MgPSBjZWxscy5ub3QoIHRoaXMgKS5maWx0ZXIoIFwidGhlYWQgdGhcIiApLmxlbmd0aCAmJiBcIiB1aS10YWJsZS1jZWxsLWxhYmVsLXRvcFwiLFxyXG5cdFx0XHRcdGNvbnRlbnRzID0gJCggdGhpcyApLmNsb25lKCkuY29udGVudHMoKSxcclxuXHRcdFx0XHRpdGVyYXRpb24sIGZpbHRlcjtcclxuXHJcblx0XHRcdFx0aWYgKCBjb250ZW50cy5sZW5ndGggPiAwICApIHtcclxuXHJcblx0XHRcdFx0XHRpZiAoIGhpZXJhcmNoeUNsYXNzICkge1xyXG5cdFx0XHRcdFx0XHRpdGVyYXRpb24gPSBwYXJzZUludCggdGhpcy5nZXRBdHRyaWJ1dGUoIFwiY29sc3BhblwiICksIDEwICk7XHJcblx0XHRcdFx0XHRcdGZpbHRlciA9IFwiXCI7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIGl0ZXJhdGlvbiApIHtcclxuXHRcdFx0XHRcdFx0XHRmaWx0ZXIgPSBcInRkOm50aC1jaGlsZChcIisgaXRlcmF0aW9uICtcIm4gKyBcIiArICggY29sc3RhcnQgKSArXCIpXCI7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdHRhYmxlLl9hZGRMYWJlbHMoIGNlbGxzLmZpbHRlciggZmlsdGVyICksXHJcblx0XHRcdFx0XHRcdFx0b3B0cy5jbGFzc2VzLmNlbGxMYWJlbHMgKyBoaWVyYXJjaHlDbGFzcywgY29udGVudHMgKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHRhYmxlLl9hZGRMYWJlbHMoIGNlbGxzLCBvcHRzLmNsYXNzZXMuY2VsbExhYmVscywgY29udGVudHMgKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSxcclxuXHJcblx0X2FkZExhYmVsczogZnVuY3Rpb24oIGNlbGxzLCBsYWJlbCwgY29udGVudHMgKSB7XHJcblx0XHRpZiAoIGNvbnRlbnRzLmxlbmd0aCA9PT0gMSAmJiBjb250ZW50c1sgMCBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiYWJiclwiICkge1xyXG5cdFx0XHRjb250ZW50cyA9IGNvbnRlbnRzLmVxKCAwICkuYXR0ciggXCJ0aXRsZVwiICk7XHJcblx0XHR9XHJcblx0XHQvLyAubm90IGZpeGVzICM2MDA2XHJcblx0XHRjZWxsc1xyXG5cdFx0XHQubm90KCBcIjpoYXMoYi5cIiArIGxhYmVsICsgXCIpXCIgKVxyXG5cdFx0XHRcdC5wcmVwZW5kKCAkKCBcIjxiIGNsYXNzPSdcIiArIGxhYmVsICsgXCInPjwvYj5cIiApLmFwcGVuZCggY29udGVudHMgKSApO1xyXG5cdH1cclxufSk7XHJcblxyXG59KSggalF1ZXJ5ICk7XHJcblxyXG4oZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHtcclxuXHJcbi8vIFRPRE8gcmVuYW1lIGZpbHRlckNhbGxiYWNrL2RlcHJlY2F0ZSBhbmQgZGVmYXVsdCB0byB0aGUgaXRlbSBpdHNlbGYgYXMgdGhlIGZpcnN0IGFyZ3VtZW50XHJcbnZhciBkZWZhdWx0RmlsdGVyQ2FsbGJhY2sgPSBmdW5jdGlvbiggaW5kZXgsIHNlYXJjaFZhbHVlICkge1xyXG5cdHJldHVybiAoICggXCJcIiArICggJC5tb2JpbGUuZ2V0QXR0cmlidXRlKCB0aGlzLCBcImZpbHRlcnRleHRcIiApIHx8ICQoIHRoaXMgKS50ZXh0KCkgKSApXHJcblx0XHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCBzZWFyY2hWYWx1ZSApID09PSAtMSApO1xyXG59O1xyXG5cclxuJC53aWRnZXQoIFwibW9iaWxlLmZpbHRlcmFibGVcIiwge1xyXG5cclxuXHRpbml0U2VsZWN0b3I6IFwiOmpxbURhdGEoZmlsdGVyPSd0cnVlJylcIixcclxuXHJcblx0b3B0aW9uczoge1xyXG5cdFx0ZmlsdGVyUmV2ZWFsOiBmYWxzZSxcclxuXHRcdGZpbHRlckNhbGxiYWNrOiBkZWZhdWx0RmlsdGVyQ2FsbGJhY2ssXHJcblx0XHRlbmhhbmNlZDogZmFsc2UsXHJcblx0XHRpbnB1dDogbnVsbCxcclxuXHRcdGNoaWxkcmVuOiBcIj4gbGksID4gb3B0aW9uLCA+IG9wdGdyb3VwIG9wdGlvbiwgPiB0Ym9keSB0ciwgPiAudWktY29udHJvbGdyb3VwLWNvbnRyb2xzID4gLnVpLWJ0biwgPiAudWktY29udHJvbGdyb3VwLWNvbnRyb2xzID4gLnVpLWNoZWNrYm94LCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktcmFkaW9cIlxyXG5cdH0sXHJcblxyXG5cdF9jcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIG9wdHMgPSB0aGlzLm9wdGlvbnM7XHJcblxyXG5cdFx0JC5leHRlbmQoIHRoaXMsIHtcclxuXHRcdFx0X3NlYXJjaDogbnVsbCxcclxuXHRcdFx0X3RpbWVyOiAwXHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLl9zZXRJbnB1dCggb3B0cy5pbnB1dCApO1xyXG5cdFx0aWYgKCAhb3B0cy5lbmhhbmNlZCApIHtcclxuXHRcdFx0dGhpcy5fZmlsdGVySXRlbXMoICggKCB0aGlzLl9zZWFyY2ggJiYgdGhpcy5fc2VhcmNoLnZhbCgpICkgfHwgXCJcIiApLnRvTG93ZXJDYXNlKCkgKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfb25LZXlVcDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgdmFsLCBsYXN0dmFsLFxyXG5cdFx0XHRzZWFyY2ggPSB0aGlzLl9zZWFyY2g7XHJcblxyXG5cdFx0aWYgKCBzZWFyY2ggKSB7XHJcblx0XHRcdHZhbCA9IHNlYXJjaC52YWwoKS50b0xvd2VyQ2FzZSgpLFxyXG5cdFx0XHRsYXN0dmFsID0gJC5tb2JpbGUuZ2V0QXR0cmlidXRlKCBzZWFyY2hbIDAgXSwgXCJsYXN0dmFsXCIgKSArIFwiXCI7XHJcblxyXG5cdFx0XHRpZiAoIGxhc3R2YWwgJiYgbGFzdHZhbCA9PT0gdmFsICkge1xyXG5cdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIGhhbmRsZXIgb25seSBvbmNlIHBlciB2YWx1ZSBjaGFuZ2VcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggdGhpcy5fdGltZXIgKSB7XHJcblx0XHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGhpcy5fdGltZXIgKTtcclxuXHRcdFx0XHR0aGlzLl90aW1lciA9IDA7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuX3RpbWVyID0gdGhpcy5fZGVsYXkoIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmICggdGhpcy5fdHJpZ2dlciggXCJiZWZvcmVmaWx0ZXJcIiwgbnVsbCwgeyBpbnB1dDogc2VhcmNoIH0gKSA9PT0gZmFsc2UgKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBDaGFuZ2UgdmFsIGFzIGxhc3R2YWwgZm9yIG5leHQgZXhlY3V0aW9uXHJcblx0XHRcdFx0c2VhcmNoWyAwIF0uc2V0QXR0cmlidXRlKCBcImRhdGEtXCIgKyAkLm1vYmlsZS5ucyArIFwibGFzdHZhbFwiLCB2YWwgKTtcclxuXHJcblx0XHRcdFx0dGhpcy5fZmlsdGVySXRlbXMoIHZhbCApO1xyXG5cdFx0XHRcdHRoaXMuX3RpbWVyID0gMDtcclxuXHRcdFx0fSwgMjUwICk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X2dldEZpbHRlcmFibGVJdGVtczogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgZWxlbSA9IHRoaXMuZWxlbWVudCxcclxuXHRcdFx0Y2hpbGRyZW4gPSB0aGlzLm9wdGlvbnMuY2hpbGRyZW4sXHJcblx0XHRcdGl0ZW1zID0gIWNoaWxkcmVuID8geyBsZW5ndGg6IDAgfTpcclxuXHRcdFx0XHQkLmlzRnVuY3Rpb24oIGNoaWxkcmVuICkgPyBjaGlsZHJlbigpOlxyXG5cdFx0XHRcdGNoaWxkcmVuLm5vZGVOYW1lID8gJCggY2hpbGRyZW4gKTpcclxuXHRcdFx0XHRjaGlsZHJlbi5qcXVlcnkgPyBjaGlsZHJlbjpcclxuXHRcdFx0XHR0aGlzLmVsZW1lbnQuZmluZCggY2hpbGRyZW4gKTtcclxuXHJcblx0XHRpZiAoIGl0ZW1zLmxlbmd0aCA9PT0gMCApIHtcclxuXHRcdFx0aXRlbXMgPSBlbGVtLmNoaWxkcmVuKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGl0ZW1zO1xyXG5cdH0sXHJcblxyXG5cdF9maWx0ZXJJdGVtczogZnVuY3Rpb24oIHZhbCApIHtcclxuXHRcdHZhciBpZHgsIGNhbGxiYWNrLCBsZW5ndGgsIGRzdCxcclxuXHRcdFx0c2hvdyA9IFtdLFxyXG5cdFx0XHRoaWRlID0gW10sXHJcblx0XHRcdG9wdHMgPSB0aGlzLm9wdGlvbnMsXHJcblx0XHRcdGZpbHRlckl0ZW1zID0gdGhpcy5fZ2V0RmlsdGVyYWJsZUl0ZW1zKCk7XHJcblxyXG5cdFx0aWYgKCB2YWwgIT0gbnVsbCApIHtcclxuXHRcdFx0Y2FsbGJhY2sgPSBvcHRzLmZpbHRlckNhbGxiYWNrIHx8IGRlZmF1bHRGaWx0ZXJDYWxsYmFjaztcclxuXHRcdFx0bGVuZ3RoID0gZmlsdGVySXRlbXMubGVuZ3RoO1xyXG5cclxuXHRcdFx0Ly8gUGFydGl0aW9uIHRoZSBpdGVtcyBpbnRvIHRob3NlIHRvIGJlIGhpZGRlbiBhbmQgdGhvc2UgdG8gYmUgc2hvd25cclxuXHRcdFx0Zm9yICggaWR4ID0gMCA7IGlkeCA8IGxlbmd0aCA7IGlkeCsrICkge1xyXG5cdFx0XHRcdGRzdCA9ICggY2FsbGJhY2suY2FsbCggZmlsdGVySXRlbXNbIGlkeCBdLCBpZHgsIHZhbCApICkgPyBoaWRlIDogc2hvdztcclxuXHRcdFx0XHRkc3QucHVzaCggZmlsdGVySXRlbXNbIGlkeCBdICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBJZiBub3RoaW5nIGlzIGhpZGRlbiwgdGhlbiB0aGUgZGVjaXNpb24gd2hldGhlciB0byBoaWRlIG9yIHNob3cgdGhlIGl0ZW1zXHJcblx0XHQvLyBpcyBiYXNlZCBvbiB0aGUgXCJmaWx0ZXJSZXZlYWxcIiBvcHRpb24uXHJcblx0XHRpZiAoIGhpZGUubGVuZ3RoID09PSAwICkge1xyXG5cdFx0XHRmaWx0ZXJJdGVtc1sgKCBvcHRzLmZpbHRlclJldmVhbCAmJiB2YWwubGVuZ3RoID09PSAwICkgP1xyXG5cdFx0XHRcdFwiYWRkQ2xhc3NcIiA6IFwicmVtb3ZlQ2xhc3NcIiBdKCBcInVpLXNjcmVlbi1oaWRkZW5cIiApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0JCggaGlkZSApLmFkZENsYXNzKCBcInVpLXNjcmVlbi1oaWRkZW5cIiApO1xyXG5cdFx0XHQkKCBzaG93ICkucmVtb3ZlQ2xhc3MoIFwidWktc2NyZWVuLWhpZGRlblwiICk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fcmVmcmVzaENoaWxkV2lkZ2V0KCk7XHJcblxyXG5cdFx0dGhpcy5fdHJpZ2dlciggXCJmaWx0ZXJcIiwgbnVsbCwge1xyXG5cdFx0XHRpdGVtczogZmlsdGVySXRlbXNcclxuXHRcdH0pO1xyXG5cdH0sXHJcblxyXG5cdC8vIFRoZSBEZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIF9yZWZyZXNoQ2hpbGRXaWRnZXQgYXR0ZW1wdHMgdG8gY2FsbFxyXG5cdC8vIHJlZnJlc2ggb24gY29sbGFwc2libGVzZXQsIGNvbnRyb2xncm91cCwgc2VsZWN0bWVudSwgb3IgbGlzdHZpZXdcclxuXHRfcmVmcmVzaENoaWxkV2lkZ2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciB3aWRnZXQsIGlkeCxcclxuXHRcdFx0cmVjb2duaXplZFdpZGdldHMgPSBbIFwiY29sbGFwc2libGVzZXRcIiwgXCJzZWxlY3RtZW51XCIsIFwiY29udHJvbGdyb3VwXCIsIFwibGlzdHZpZXdcIiBdO1xyXG5cclxuXHRcdGZvciAoIGlkeCA9IHJlY29nbml6ZWRXaWRnZXRzLmxlbmd0aCAtIDEgOyBpZHggPiAtMSA7IGlkeC0tICkge1xyXG5cdFx0XHR3aWRnZXQgPSByZWNvZ25pemVkV2lkZ2V0c1sgaWR4IF07XHJcblx0XHRcdGlmICggJC5tb2JpbGVbIHdpZGdldCBdICkge1xyXG5cdFx0XHRcdHdpZGdldCA9IHRoaXMuZWxlbWVudC5kYXRhKCBcIm1vYmlsZS1cIiArIHdpZGdldCApO1xyXG5cdFx0XHRcdGlmICggd2lkZ2V0ICYmICQuaXNGdW5jdGlvbiggd2lkZ2V0LnJlZnJlc2ggKSApIHtcclxuXHRcdFx0XHRcdHdpZGdldC5yZWZyZXNoKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gVE9ETzogV2hlbiB0aGUgaW5wdXQgaXMgbm90IGludGVybmFsLCBkbyBub3QgZXZlbiBzdG9yZSBpdCBpbiB0aGlzLl9zZWFyY2hcclxuXHRfc2V0SW5wdXQ6IGZ1bmN0aW9uICggc2VsZWN0b3IgKSB7XHJcblx0XHR2YXIgc2VhcmNoID0gdGhpcy5fc2VhcmNoO1xyXG5cclxuXHRcdC8vIFN0b3AgYSBwZW5kaW5nIGZpbHRlciBvcGVyYXRpb25cclxuXHRcdGlmICggdGhpcy5fdGltZXIgKSB7XHJcblx0XHRcdHdpbmRvdy5jbGVhclRpbWVvdXQoIHRoaXMuX3RpbWVyICk7XHJcblx0XHRcdHRoaXMuX3RpbWVyID0gMDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIHNlYXJjaCApIHtcclxuXHRcdFx0dGhpcy5fb2ZmKCBzZWFyY2gsIFwia2V5dXAgY2hhbmdlIGlucHV0XCIgKTtcclxuXHRcdFx0c2VhcmNoID0gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIHNlbGVjdG9yICkge1xyXG5cdFx0XHRzZWFyY2ggPSBzZWxlY3Rvci5qcXVlcnkgPyBzZWxlY3RvcjpcclxuXHRcdFx0XHRzZWxlY3Rvci5ub2RlTmFtZSA/ICQoIHNlbGVjdG9yICk6XHJcblx0XHRcdFx0dGhpcy5kb2N1bWVudC5maW5kKCBzZWxlY3RvciApO1xyXG5cclxuXHRcdFx0dGhpcy5fb24oIHNlYXJjaCwge1xyXG5cdFx0XHRcdGtleWRvd246IFwiX29uS2V5RG93blwiLFxyXG5cdFx0XHRcdGtleXByZXNzOiBcIl9vbktleVByZXNzXCIsXHJcblx0XHRcdFx0a2V5dXA6IFwiX29uS2V5VXBcIixcclxuXHRcdFx0XHRjaGFuZ2U6IFwiX29uS2V5VXBcIixcclxuXHRcdFx0XHRpbnB1dDogXCJfb25LZXlVcFwiXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX3NlYXJjaCA9IHNlYXJjaDtcclxuXHR9LFxyXG5cclxuXHQvLyBQcmV2ZW50IGZvcm0gc3VibWlzc2lvblxyXG5cdF9vbktleURvd246IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdGlmICggZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLkVOVEVSICkge1xyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHR0aGlzLl9wcmV2ZW50S2V5UHJlc3MgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9vbktleVByZXNzOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHRpZiAoIHRoaXMuX3ByZXZlbnRLZXlQcmVzcyApIHtcclxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0dGhpcy5fcHJldmVudEtleVByZXNzID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X3NldE9wdGlvbnM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xyXG5cdFx0dmFyIHJlZmlsdGVyID0gISggKCBvcHRpb25zLmZpbHRlclJldmVhbCA9PT0gdW5kZWZpbmVkICkgJiZcclxuXHRcdFx0XHQoIG9wdGlvbnMuZmlsdGVyQ2FsbGJhY2sgPT09IHVuZGVmaW5lZCApICYmXHJcblx0XHRcdFx0KCBvcHRpb25zLmNoaWxkcmVuID09PSB1bmRlZmluZWQgKSApO1xyXG5cclxuXHRcdHRoaXMuX3N1cGVyKCBvcHRpb25zICk7XHJcblxyXG5cdFx0aWYgKCBvcHRpb25zLmlucHV0ICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHRoaXMuX3NldElucHV0KCBvcHRpb25zLmlucHV0ICk7XHJcblx0XHRcdHJlZmlsdGVyID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIHJlZmlsdGVyICkge1xyXG5cdFx0XHR0aGlzLnJlZnJlc2goKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgb3B0cyA9IHRoaXMub3B0aW9ucyxcclxuXHRcdFx0aXRlbXMgPSB0aGlzLl9nZXRGaWx0ZXJhYmxlSXRlbXMoKTtcclxuXHJcblx0XHRpZiAoIG9wdHMuZW5oYW5jZWQgKSB7XHJcblx0XHRcdGl0ZW1zLnRvZ2dsZUNsYXNzKCBcInVpLXNjcmVlbi1oaWRkZW5cIiwgb3B0cy5maWx0ZXJSZXZlYWwgKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGl0ZW1zLnJlbW92ZUNsYXNzKCBcInVpLXNjcmVlbi1oaWRkZW5cIiApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKCB0aGlzLl90aW1lciApIHtcclxuXHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGhpcy5fdGltZXIgKTtcclxuXHRcdFx0dGhpcy5fdGltZXIgPSAwO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5fZmlsdGVySXRlbXMoICggKCB0aGlzLl9zZWFyY2ggJiYgdGhpcy5fc2VhcmNoLnZhbCgpICkgfHwgXCJcIiApLnRvTG93ZXJDYXNlKCkgKTtcclxuXHR9XHJcbn0pO1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7XHJcblxyXG4vLyBDcmVhdGUgYSBmdW5jdGlvbiB0aGF0IHdpbGwgcmVwbGFjZSB0aGUgX3NldE9wdGlvbnMgZnVuY3Rpb24gb2YgYSB3aWRnZXQsXHJcbi8vIGFuZCB3aWxsIHBhc3MgdGhlIG9wdGlvbnMgb24gdG8gdGhlIGlucHV0IG9mIHRoZSBmaWx0ZXJhYmxlLlxyXG52YXIgcmVwbGFjZVNldE9wdGlvbnMgPSBmdW5jdGlvbiggc2VsZiwgb3JpZyApIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbiggb3B0aW9ucyApIHtcclxuXHRcdFx0b3JpZy5jYWxsKCB0aGlzLCBvcHRpb25zICk7XHJcblx0XHRcdHNlbGYuX3N5bmNUZXh0SW5wdXRPcHRpb25zKCBvcHRpb25zICk7XHJcblx0XHR9O1xyXG5cdH0sXHJcblx0ckRpdmlkZXJMaXN0SXRlbSA9IC8oXnxcXHMpdWktbGktZGl2aWRlcihcXHN8JCkvLFxyXG5cdG9yaWdEZWZhdWx0RmlsdGVyQ2FsbGJhY2sgPSAkLm1vYmlsZS5maWx0ZXJhYmxlLnByb3RvdHlwZS5vcHRpb25zLmZpbHRlckNhbGxiYWNrO1xyXG5cclxuLy8gT3ZlcnJpZGUgdGhlIGRlZmF1bHQgZmlsdGVyIGNhbGxiYWNrIHdpdGggb25lIHRoYXQgZG9lcyBub3QgaGlkZSBsaXN0IGRpdmlkZXJzXHJcbiQubW9iaWxlLmZpbHRlcmFibGUucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2sgPSBmdW5jdGlvbiggaW5kZXgsIHNlYXJjaFZhbHVlICkge1xyXG5cdHJldHVybiAhdGhpcy5jbGFzc05hbWUubWF0Y2goIHJEaXZpZGVyTGlzdEl0ZW0gKSAmJlxyXG5cdFx0b3JpZ0RlZmF1bHRGaWx0ZXJDYWxsYmFjay5jYWxsKCB0aGlzLCBpbmRleCwgc2VhcmNoVmFsdWUgKTtcclxufTtcclxuXHJcbiQud2lkZ2V0KCBcIm1vYmlsZS5maWx0ZXJhYmxlXCIsICQubW9iaWxlLmZpbHRlcmFibGUsIHtcclxuXHRvcHRpb25zOiB7XHJcblx0XHRmaWx0ZXJQbGFjZWhvbGRlcjogXCJGaWx0ZXIgaXRlbXMuLi5cIixcclxuXHRcdGZpbHRlclRoZW1lOiBudWxsXHJcblx0fSxcclxuXHJcblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaWR4LCB3aWRnZXROYW1lLFxyXG5cdFx0XHRlbGVtID0gdGhpcy5lbGVtZW50LFxyXG5cdFx0XHRyZWNvZ25pemVkV2lkZ2V0cyA9IFsgXCJjb2xsYXBzaWJsZXNldFwiLCBcInNlbGVjdG1lbnVcIiwgXCJjb250cm9sZ3JvdXBcIiwgXCJsaXN0dmlld1wiIF0sXHJcblx0XHRcdGNyZWF0ZUhhbmRsZXJzID0ge307XHJcblxyXG5cdFx0dGhpcy5fc3VwZXIoKTtcclxuXHJcblx0XHQkLmV4dGVuZCggdGhpcywge1xyXG5cdFx0XHRfd2lkZ2V0OiBudWxsXHJcblx0XHR9KTtcclxuXHJcblx0XHRmb3IgKCBpZHggPSByZWNvZ25pemVkV2lkZ2V0cy5sZW5ndGggLSAxIDsgaWR4ID4gLTEgOyBpZHgtLSApIHtcclxuXHRcdFx0d2lkZ2V0TmFtZSA9IHJlY29nbml6ZWRXaWRnZXRzWyBpZHggXTtcclxuXHRcdFx0aWYgKCAkLm1vYmlsZVsgd2lkZ2V0TmFtZSBdICkge1xyXG5cdFx0XHRcdGlmICggdGhpcy5fc2V0V2lkZ2V0KCBlbGVtLmRhdGEoIFwibW9iaWxlLVwiICsgd2lkZ2V0TmFtZSApICkgKSB7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Y3JlYXRlSGFuZGxlcnNbIHdpZGdldE5hbWUgKyBcImNyZWF0ZVwiIF0gPSBcIl9oYW5kbGVDcmVhdGVcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoICF0aGlzLl93aWRnZXQgKSB7XHJcblx0XHRcdHRoaXMuX29uKCBlbGVtLCBjcmVhdGVIYW5kbGVycyApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9oYW5kbGVDcmVhdGU6IGZ1bmN0aW9uKCBldnQgKSB7XHJcblx0XHR0aGlzLl9zZXRXaWRnZXQoIHRoaXMuZWxlbWVudC5kYXRhKCBcIm1vYmlsZS1cIiArIGV2dC50eXBlLnN1YnN0cmluZyggMCwgZXZ0LnR5cGUubGVuZ3RoIC0gNiApICkgKTtcclxuXHR9LFxyXG5cclxuXHRfdHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGV2ZW50LCBkYXRhICkge1xyXG5cdFx0aWYgKCB0aGlzLl93aWRnZXQgJiYgdGhpcy5fd2lkZ2V0LndpZGdldEZ1bGxOYW1lID09PSBcIm1vYmlsZS1saXN0dmlld1wiICYmXHJcblx0XHRcdHR5cGUgPT09IFwiYmVmb3JlZmlsdGVyXCIgKSB7XHJcblxyXG5cdFx0XHQvLyBBbHNvIHRyaWdnZXIgbGlzdHZpZXdiZWZvcmVmaWx0ZXIgaWYgdGhpcyB3aWRnZXQgaXMgYWxzbyBhIGxpc3R2aWV3XHJcblx0XHRcdHRoaXMuX3dpZGdldC5fdHJpZ2dlciggXCJiZWZvcmVmaWx0ZXJcIiwgZXZlbnQsIGRhdGEgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBQYXNzaW5nIGJhY2sgdGhlIHJlc3BvbnNlIGVuYWJsZXMgY2FsbGluZyBwcmV2ZW50RGVmYXVsdCgpXHJcblx0XHRyZXR1cm4gdGhpcy5fc3VwZXIoIHR5cGUsIGV2ZW50LCBkYXRhICk7XHJcblx0fSxcclxuXHJcblx0X3NldFdpZGdldDogZnVuY3Rpb24oIHdpZGdldCApIHtcclxuXHRcdGlmICggIXRoaXMuX3dpZGdldCAmJiB3aWRnZXQgKSB7XHJcblx0XHRcdHRoaXMuX3dpZGdldCA9IHdpZGdldDtcclxuXHRcdFx0dGhpcy5fd2lkZ2V0Ll9zZXRPcHRpb25zID0gcmVwbGFjZVNldE9wdGlvbnMoIHRoaXMsIHRoaXMuX3dpZGdldC5fc2V0T3B0aW9ucyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggISF0aGlzLl93aWRnZXQgKSB7XHJcblx0XHRcdHRoaXMuX3N5bmNUZXh0SW5wdXRPcHRpb25zKCB0aGlzLl93aWRnZXQub3B0aW9ucyApO1xyXG5cdFx0XHRpZiAoIHRoaXMuX3dpZGdldC53aWRnZXROYW1lID09PSBcImxpc3R2aWV3XCIgKSB7XHJcblx0XHRcdFx0dGhpcy5fd2lkZ2V0Lm9wdGlvbnMuaGlkZURpdmlkZXJzID0gdHJ1ZTtcclxuXHRcdFx0XHR0aGlzLl93aWRnZXQuZWxlbWVudC5saXN0dmlldyggXCJyZWZyZXNoXCIgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAhIXRoaXMuX3dpZGdldDtcclxuXHR9LFxyXG5cclxuXHRfaXNTZWFyY2hJbnRlcm5hbDogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gKCB0aGlzLl9zZWFyY2ggJiYgdGhpcy5fc2VhcmNoLmpxbURhdGEoIFwidWktZmlsdGVyYWJsZS1cIiArIHRoaXMudXVpZCArIFwiLWludGVybmFsXCIgKSApO1xyXG5cdH0sXHJcblxyXG5cdF9zZXRJbnB1dDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xyXG5cdFx0dmFyIG9wdHMgPSB0aGlzLm9wdGlvbnMsXHJcblx0XHRcdHVwZGF0ZVBsYWNlaG9sZGVyID0gdHJ1ZSxcclxuXHRcdFx0dGV4dGlucHV0T3B0cyA9IHt9O1xyXG5cclxuXHRcdGlmICggIXNlbGVjdG9yICkge1xyXG5cdFx0XHRpZiAoIHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSApIHtcclxuXHJcblx0XHRcdFx0Ly8gSWdub3JlIHRoZSBjYWxsIHRvIHNldCBhIG5ldyBpbnB1dCBpZiB0aGUgc2VsZWN0b3IgZ29lcyB0byBmYWxzeSBhbmRcclxuXHRcdFx0XHQvLyB0aGUgY3VycmVudCB0ZXh0aW5wdXQgaXMgYWxyZWFkeSBvZiB0aGUgaW50ZXJuYWxseSBnZW5lcmF0ZWQgdmFyaWV0eS5cclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdC8vIEdlbmVyYXRpbmcgYSBuZXcgdGV4dGlucHV0IHdpZGdldC4gTm8gbmVlZCB0byBzZXQgdGhlIHBsYWNlaG9sZGVyXHJcblx0XHRcdFx0Ly8gZnVydGhlciBkb3duIHRoZSBmdW5jdGlvbi5cclxuXHRcdFx0XHR1cGRhdGVQbGFjZWhvbGRlciA9IGZhbHNlO1xyXG5cdFx0XHRcdHNlbGVjdG9yID0gJCggXCI8aW5wdXQgXCIgK1xyXG5cdFx0XHRcdFx0XCJkYXRhLVwiICsgJC5tb2JpbGUubnMgKyBcInR5cGU9J3NlYXJjaCcgXCIgK1xyXG5cdFx0XHRcdFx0XCJwbGFjZWhvbGRlcj0nXCIgKyBvcHRzLmZpbHRlclBsYWNlaG9sZGVyICsgXCInPjwvaW5wdXQ+XCIgKVxyXG5cdFx0XHRcdFx0LmpxbURhdGEoIFwidWktZmlsdGVyYWJsZS1cIiArIHRoaXMudXVpZCArIFwiLWludGVybmFsXCIsIHRydWUgKTtcclxuXHRcdFx0XHQkKCBcIjxmb3JtIGNsYXNzPSd1aS1maWx0ZXJhYmxlJz48L2Zvcm0+XCIgKVxyXG5cdFx0XHRcdFx0LmFwcGVuZCggc2VsZWN0b3IgKVxyXG5cdFx0XHRcdFx0LnN1Ym1pdCggZnVuY3Rpb24oIGV2dCApIHtcclxuXHRcdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdHNlbGVjdG9yLmJsdXIoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQuaW5zZXJ0QmVmb3JlKCB0aGlzLmVsZW1lbnQgKTtcclxuXHRcdFx0XHRpZiAoICQubW9iaWxlLnRleHRpbnB1dCApIHtcclxuXHRcdFx0XHRcdGlmICggdGhpcy5vcHRpb25zLmZpbHRlclRoZW1lICE9IG51bGwgKSB7XHJcblx0XHRcdFx0XHRcdHRleHRpbnB1dE9wdHNbIFwidGhlbWVcIiBdID0gb3B0cy5maWx0ZXJUaGVtZTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRzZWxlY3Rvci50ZXh0aW5wdXQoIHRleHRpbnB1dE9wdHMgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLl9zdXBlciggc2VsZWN0b3IgKTtcclxuXHJcblx0XHRpZiAoIHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSAmJiB1cGRhdGVQbGFjZWhvbGRlciApIHtcclxuXHRcdFx0dGhpcy5fc2VhcmNoLmF0dHIoIFwicGxhY2Vob2xkZXJcIiwgdGhpcy5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyICk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0X3NldE9wdGlvbnM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xyXG5cdFx0dmFyIHJldCA9IHRoaXMuX3N1cGVyKCBvcHRpb25zICk7XHJcblxyXG5cdFx0Ly8gTmVlZCB0byBzZXQgdGhlIGZpbHRlclBsYWNlaG9sZGVyIGFmdGVyIGhhdmluZyBlc3RhYmxpc2hlZCB0aGUgc2VhcmNoIGlucHV0XHJcblx0XHRpZiAoIG9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXIgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0aWYgKCB0aGlzLl9pc1NlYXJjaEludGVybmFsKCkgKSB7XHJcblx0XHRcdFx0dGhpcy5fc2VhcmNoLmF0dHIoIFwicGxhY2Vob2xkZXJcIiwgb3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlciApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBvcHRpb25zLmZpbHRlclRoZW1lICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fc2VhcmNoICYmICQubW9iaWxlLnRleHRpbnB1dCApIHtcclxuXHRcdFx0dGhpcy5fc2VhcmNoLnRleHRpbnB1dCggXCJvcHRpb25cIiwgXCJ0aGVtZVwiLCBvcHRpb25zLmZpbHRlclRoZW1lICk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJldDtcclxuXHR9LFxyXG5cclxuXHQvLyBUaGUgbGlzdHZpZXcgaW1wbGVtZW50YXRpb24gYWNjb21wYW55aW5nIHRoaXMgZmlsdGVyYWJsZSBiYWNrY29tcGF0IGxheWVyIHdpbGwgY2FsbFxyXG5cdC8vIGZpbHRlcmFibGUucmVmcmVzaCgpIGFmdGVyIGl0J3MgZG9uZSByZWZyZXNoaW5nIHRoZSBsaXN0dmlldyB0byBtYWtlIHN1cmUgdGhlIGZpbHRlcmFibGVcclxuXHQvLyBmaWx0ZXJzIG91dCBhbnkgbmV3IGl0ZW1zIGFkZGVkLiBIb3dldmVyLCB3aGVuIHRoZSBsaXN0dmlldyByZWZyZXNoIGhhcyBiZWVuIGluaXRpYXRlZCBieVxyXG5cdC8vIHRoZSBmaWx0ZXJhYmxlIGl0c2VsZiwgdGhlbiBzdWNoIGZpbHRlcmluZyBoYXMgYWxyZWFkeSB0YWtlbiBwbGFjZSwgYW5kIGNhbGxpbmcgdGhlXHJcblx0Ly8gZmlsdGVyYWJsZSdzIHJlZnJlc2goKSBtZXRob2Qgd2lsbCBjYXVzZSBhbiBpbmZpbml0ZSByZWN1cnNpb24uIFdlIHN0b3AgdGhpcyBieSBzZXR0aW5nIGFcclxuXHQvLyBmbGFnIHRoYXQgd2lsbCBjYXVzZSB0aGUgZmlsdGVyYWJsZSdzIHJlZnJlc2goKSBtZXRob2QgdG8gc2hvcnQtY2lyY3VpdC5cclxuXHRfcmVmcmVzaENoaWxkV2lkZ2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMuX3JlZnJlc2hpbmdDaGlsZFdpZGdldCA9IHRydWU7XHJcblx0XHR0aGlzLl9zdXBlckFwcGx5KCBhcmd1bWVudHMgKTtcclxuXHRcdHRoaXMuX3JlZnJlc2hpbmdDaGlsZFdpZGdldCA9IGZhbHNlO1xyXG5cdH0sXHJcblxyXG5cdHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKCAhdGhpcy5fcmVmcmVzaGluZ0NoaWxkV2lkZ2V0ICkge1xyXG5cdFx0XHR0aGlzLl9zdXBlckFwcGx5KCBhcmd1bWVudHMgKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcblx0XHRpZiAoIHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSApIHtcclxuXHRcdFx0dGhpcy5fc2VhcmNoLnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5fc3VwZXIoKTtcclxuXHR9LFxyXG5cclxuXHRfc3luY1RleHRJbnB1dE9wdGlvbnM6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xyXG5cdFx0dmFyIGlkeCxcclxuXHRcdFx0dGV4dGlucHV0T3B0aW9ucyA9IHt9O1xyXG5cclxuXHRcdC8vIFdlIG9ubHkgc3luYyBvcHRpb25zIGlmIHRoZSBmaWx0ZXJhYmxlJ3MgdGV4dGlucHV0IGlzIG9mIHRoZSBpbnRlcm5hbGx5XHJcblx0XHQvLyBnZW5lcmF0ZWQgdmFyaWV0eSwgcmF0aGVyIHRoYW4gb25lIHNwZWNpZmllZCBieSB0aGUgdXNlci5cclxuXHRcdGlmICggdGhpcy5faXNTZWFyY2hJbnRlcm5hbCgpICYmICQubW9iaWxlLnRleHRpbnB1dCApIHtcclxuXHJcblx0XHRcdC8vIEFwcGx5IG9ubHkgdGhlIG9wdGlvbnMgdW5kZXJzdG9vZCBieSB0ZXh0aW5wdXRcclxuXHRcdFx0Zm9yICggaWR4IGluICQubW9iaWxlLnRleHRpbnB1dC5wcm90b3R5cGUub3B0aW9ucyApIHtcclxuXHRcdFx0XHRpZiAoIG9wdGlvbnNbIGlkeCBdICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0XHRpZiAoIGlkeCA9PT0gXCJ0aGVtZVwiICYmIHRoaXMub3B0aW9ucy5maWx0ZXJUaGVtZSAhPSBudWxsICkge1xyXG5cdFx0XHRcdFx0XHR0ZXh0aW5wdXRPcHRpb25zWyBpZHggXSA9IHRoaXMub3B0aW9ucy5maWx0ZXJUaGVtZTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHRleHRpbnB1dE9wdGlvbnNbIGlkeCBdID0gb3B0aW9uc1sgaWR4IF07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHRoaXMuX3NlYXJjaC50ZXh0aW5wdXQoIFwib3B0aW9uXCIsIHRleHRpbnB1dE9wdGlvbnMgKTtcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxuLy8gSW5zdGFudGlhdGUgYSBmaWx0ZXJhYmxlIG9uIGEgbGlzdHZpZXcgdGhhdCBoYXMgdGhlIGRhdGEtZmlsdGVyPVwidHJ1ZVwiIGF0dHJpYnV0ZVxyXG4vLyBUaGlzIGlzIG5vdCBuZWNlc3NhcnkgZm9yIHN0YXRpYyBjb250ZW50LCBiZWNhdXNlIHRoZSBhdXRvLWVuaGFuY2UgdGFrZXMgY2FyZSBvZiBpbnN0YW50aWF0aW5nXHJcbi8vIHRoZSBmaWx0ZXJhYmxlIHVwb24gZW5jb3VudGVyaW5nIGRhdGEtZmlsdGVyPVwidHJ1ZVwiLiBIb3dldmVyLCBiZWNhdXNlIG9mIDEuMy54IGl0IGlzIGV4cGVjdGVkXHJcbi8vIHRoYXQgYSBsaXN0dmlldyB3aXRoIGRhdGEtZmlsdGVyPVwidHJ1ZVwiIHdpbGwgYmUgZmlsdGVyYWJsZSBldmVuIGlmIHlvdSBqdXN0IGluc3RhbnRpYXRlIGFcclxuLy8gbGlzdHZpZXcgb24gaXQuIFRoZSBleHRlbnNpb24gYmVsb3cgZW5zdXJlcyB0aGF0IHRoaXMgY29udGludWVzIHRvIGhhcHBlbiBpbiAxLjQueC5cclxuJC53aWRnZXQoIFwibW9iaWxlLmxpc3R2aWV3XCIsICQubW9iaWxlLmxpc3R2aWV3LCB7XHJcblx0b3B0aW9uczoge1xyXG5cdFx0ZmlsdGVyOiBmYWxzZVxyXG5cdH0sXHJcblx0X2NyZWF0ZTogZnVuY3Rpb24oKSB7XHJcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5maWx0ZXIgPT09IHRydWUgJiZcclxuXHRcdFx0XHQhdGhpcy5lbGVtZW50LmRhdGEoIFwibW9iaWxlLWZpbHRlcmFibGVcIiApICkge1xyXG5cdFx0XHR0aGlzLmVsZW1lbnQuZmlsdGVyYWJsZSgpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXMuX3N1cGVyKCk7XHJcblx0fSxcclxuXHJcblx0cmVmcmVzaDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgZmlsdGVyYWJsZTtcclxuXHJcblx0XHR0aGlzLl9zdXBlckFwcGx5KCBhcmd1bWVudHMgKTtcclxuXHJcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5maWx0ZXIgPT09IHRydWUgKSB7XHJcblx0XHRcdGZpbHRlcmFibGUgPSB0aGlzLmVsZW1lbnQuZGF0YSggXCJtb2JpbGUtZmlsdGVyYWJsZVwiICk7XHJcblxyXG5cdFx0XHRpZiAoIGZpbHRlcmFibGUgKSB7XHJcblx0XHRcdFx0ZmlsdGVyYWJsZS5yZWZyZXNoKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuLyohXHJcbiAqIGpRdWVyeSBVSSBUYWJzIGZhZGYyYjMxMmEwNTA0MDQzNjQ1MWM2NGJiZmFmNDgxNGJjNjJjNTZcclxuICogaHR0cDovL2pxdWVyeXVpLmNvbVxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgMjAxMyBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxyXG4gKlxyXG4gKiBodHRwOi8vYXBpLmpxdWVyeXVpLmNvbS90YWJzL1xyXG4gKlxyXG4gKiBEZXBlbmRzOlxyXG4gKlx0anF1ZXJ5LnVpLmNvcmUuanNcclxuICpcdGpxdWVyeS51aS53aWRnZXQuanNcclxuICovXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxudmFyIHRhYklkID0gMCxcclxuXHRyaGFzaCA9IC8jLiokLztcclxuXHJcbmZ1bmN0aW9uIGdldE5leHRUYWJJZCgpIHtcclxuXHRyZXR1cm4gKyt0YWJJZDtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNMb2NhbCggYW5jaG9yICkge1xyXG5cdHJldHVybiBhbmNob3IuaGFzaC5sZW5ndGggPiAxICYmXHJcblx0XHRkZWNvZGVVUklDb21wb25lbnQoIGFuY2hvci5ocmVmLnJlcGxhY2UoIHJoYXNoLCBcIlwiICkgKSA9PT1cclxuXHRcdFx0ZGVjb2RlVVJJQ29tcG9uZW50KCBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoIHJoYXNoLCBcIlwiICkgKTtcclxufVxyXG5cclxuJC53aWRnZXQoIFwidWkudGFic1wiLCB7XHJcblx0dmVyc2lvbjogXCJmYWRmMmIzMTJhMDUwNDA0MzY0NTFjNjRiYmZhZjQ4MTRiYzYyYzU2XCIsXHJcblx0ZGVsYXk6IDMwMCxcclxuXHRvcHRpb25zOiB7XHJcblx0XHRhY3RpdmU6IG51bGwsXHJcblx0XHRjb2xsYXBzaWJsZTogZmFsc2UsXHJcblx0XHRldmVudDogXCJjbGlja1wiLFxyXG5cdFx0aGVpZ2h0U3R5bGU6IFwiY29udGVudFwiLFxyXG5cdFx0aGlkZTogbnVsbCxcclxuXHRcdHNob3c6IG51bGwsXHJcblxyXG5cdFx0Ly8gY2FsbGJhY2tzXHJcblx0XHRhY3RpdmF0ZTogbnVsbCxcclxuXHRcdGJlZm9yZUFjdGl2YXRlOiBudWxsLFxyXG5cdFx0YmVmb3JlTG9hZDogbnVsbCxcclxuXHRcdGxvYWQ6IG51bGxcclxuXHR9LFxyXG5cclxuXHRfY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciB0aGF0ID0gdGhpcyxcclxuXHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucztcclxuXHJcblx0XHR0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcclxuXHJcblx0XHR0aGlzLmVsZW1lbnRcclxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXRhYnMgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGxcIiApXHJcblx0XHRcdC50b2dnbGVDbGFzcyggXCJ1aS10YWJzLWNvbGxhcHNpYmxlXCIsIG9wdGlvbnMuY29sbGFwc2libGUgKVxyXG5cdFx0XHQvLyBQcmV2ZW50IHVzZXJzIGZyb20gZm9jdXNpbmcgZGlzYWJsZWQgdGFicyB2aWEgY2xpY2tcclxuXHRcdFx0LmRlbGVnYXRlKCBcIi51aS10YWJzLW5hdiA+IGxpXCIsIFwibW91c2Vkb3duXCIgKyB0aGlzLmV2ZW50TmFtZXNwYWNlLCBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHRcdFx0aWYgKCAkKCB0aGlzICkuaXMoIFwiLnVpLXN0YXRlLWRpc2FibGVkXCIgKSApIHtcclxuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQvLyBzdXBwb3J0OiBJRSA8OVxyXG5cdFx0XHQvLyBQcmV2ZW50aW5nIHRoZSBkZWZhdWx0IGFjdGlvbiBpbiBtb3VzZWRvd24gZG9lc24ndCBwcmV2ZW50IElFXHJcblx0XHRcdC8vIGZyb20gZm9jdXNpbmcgdGhlIGVsZW1lbnQsIHNvIGlmIHRoZSBhbmNob3IgZ2V0cyBmb2N1c2VkLCBibHVyLlxyXG5cdFx0XHQvLyBXZSBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IGZvY3VzaW5nIHRoZSBwcmV2aW91c2x5IGZvY3VzZWRcclxuXHRcdFx0Ly8gZWxlbWVudCBzaW5jZSBjbGlja2luZyBvbiBhIG5vbi1mb2N1c2FibGUgZWxlbWVudCBzaG91bGQgZm9jdXNcclxuXHRcdFx0Ly8gdGhlIGJvZHkgYW55d2F5LlxyXG5cdFx0XHQuZGVsZWdhdGUoIFwiLnVpLXRhYnMtYW5jaG9yXCIsIFwiZm9jdXNcIiArIHRoaXMuZXZlbnROYW1lc3BhY2UsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmICggJCggdGhpcyApLmNsb3Nlc3QoIFwibGlcIiApLmlzKCBcIi51aS1zdGF0ZS1kaXNhYmxlZFwiICkgKSB7XHJcblx0XHRcdFx0XHR0aGlzLmJsdXIoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuX3Byb2Nlc3NUYWJzKCk7XHJcblx0XHRvcHRpb25zLmFjdGl2ZSA9IHRoaXMuX2luaXRpYWxBY3RpdmUoKTtcclxuXHJcblx0XHQvLyBUYWtlIGRpc2FibGluZyB0YWJzIHZpYSBjbGFzcyBhdHRyaWJ1dGUgZnJvbSBIVE1MXHJcblx0XHQvLyBpbnRvIGFjY291bnQgYW5kIHVwZGF0ZSBvcHRpb24gcHJvcGVybHkuXHJcblx0XHRpZiAoICQuaXNBcnJheSggb3B0aW9ucy5kaXNhYmxlZCApICkge1xyXG5cdFx0XHRvcHRpb25zLmRpc2FibGVkID0gJC51bmlxdWUoIG9wdGlvbnMuZGlzYWJsZWQuY29uY2F0KFxyXG5cdFx0XHRcdCQubWFwKCB0aGlzLnRhYnMuZmlsdGVyKCBcIi51aS1zdGF0ZS1kaXNhYmxlZFwiICksIGZ1bmN0aW9uKCBsaSApIHtcclxuXHRcdFx0XHRcdHJldHVybiB0aGF0LnRhYnMuaW5kZXgoIGxpICk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0KSApLnNvcnQoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBjaGVjayBmb3IgbGVuZ3RoIGF2b2lkcyBlcnJvciB3aGVuIGluaXRpYWxpemluZyBlbXB0eSBsaXN0XHJcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5hY3RpdmUgIT09IGZhbHNlICYmIHRoaXMuYW5jaG9ycy5sZW5ndGggKSB7XHJcblx0XHRcdHRoaXMuYWN0aXZlID0gdGhpcy5fZmluZEFjdGl2ZSggb3B0aW9ucy5hY3RpdmUgKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuYWN0aXZlID0gJCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX3JlZnJlc2goKTtcclxuXHJcblx0XHRpZiAoIHRoaXMuYWN0aXZlLmxlbmd0aCApIHtcclxuXHRcdFx0dGhpcy5sb2FkKCBvcHRpb25zLmFjdGl2ZSApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9pbml0aWFsQWN0aXZlOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBhY3RpdmUgPSB0aGlzLm9wdGlvbnMuYWN0aXZlLFxyXG5cdFx0XHRjb2xsYXBzaWJsZSA9IHRoaXMub3B0aW9ucy5jb2xsYXBzaWJsZSxcclxuXHRcdFx0bG9jYXRpb25IYXNoID0gbG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoIDEgKTtcclxuXHJcblx0XHRpZiAoIGFjdGl2ZSA9PT0gbnVsbCApIHtcclxuXHRcdFx0Ly8gY2hlY2sgdGhlIGZyYWdtZW50IGlkZW50aWZpZXIgaW4gdGhlIFVSTFxyXG5cdFx0XHRpZiAoIGxvY2F0aW9uSGFzaCApIHtcclxuXHRcdFx0XHR0aGlzLnRhYnMuZWFjaChmdW5jdGlvbiggaSwgdGFiICkge1xyXG5cdFx0XHRcdFx0aWYgKCAkKCB0YWIgKS5hdHRyKCBcImFyaWEtY29udHJvbHNcIiApID09PSBsb2NhdGlvbkhhc2ggKSB7XHJcblx0XHRcdFx0XHRcdGFjdGl2ZSA9IGk7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gY2hlY2sgZm9yIGEgdGFiIG1hcmtlZCBhY3RpdmUgdmlhIGEgY2xhc3NcclxuXHRcdFx0aWYgKCBhY3RpdmUgPT09IG51bGwgKSB7XHJcblx0XHRcdFx0YWN0aXZlID0gdGhpcy50YWJzLmluZGV4KCB0aGlzLnRhYnMuZmlsdGVyKCBcIi51aS10YWJzLWFjdGl2ZVwiICkgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gbm8gYWN0aXZlIHRhYiwgc2V0IHRvIGZhbHNlXHJcblx0XHRcdGlmICggYWN0aXZlID09PSBudWxsIHx8IGFjdGl2ZSA9PT0gLTEgKSB7XHJcblx0XHRcdFx0YWN0aXZlID0gdGhpcy50YWJzLmxlbmd0aCA/IDAgOiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGhhbmRsZSBudW1iZXJzOiBuZWdhdGl2ZSwgb3V0IG9mIHJhbmdlXHJcblx0XHRpZiAoIGFjdGl2ZSAhPT0gZmFsc2UgKSB7XHJcblx0XHRcdGFjdGl2ZSA9IHRoaXMudGFicy5pbmRleCggdGhpcy50YWJzLmVxKCBhY3RpdmUgKSApO1xyXG5cdFx0XHRpZiAoIGFjdGl2ZSA9PT0gLTEgKSB7XHJcblx0XHRcdFx0YWN0aXZlID0gY29sbGFwc2libGUgPyBmYWxzZSA6IDA7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBkb24ndCBhbGxvdyBjb2xsYXBzaWJsZTogZmFsc2UgYW5kIGFjdGl2ZTogZmFsc2VcclxuXHRcdGlmICggIWNvbGxhcHNpYmxlICYmIGFjdGl2ZSA9PT0gZmFsc2UgJiYgdGhpcy5hbmNob3JzLmxlbmd0aCApIHtcclxuXHRcdFx0YWN0aXZlID0gMDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gYWN0aXZlO1xyXG5cdH0sXHJcblxyXG5cdF9nZXRDcmVhdGVFdmVudERhdGE6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0dGFiOiB0aGlzLmFjdGl2ZSxcclxuXHRcdFx0cGFuZWw6ICF0aGlzLmFjdGl2ZS5sZW5ndGggPyAkKCkgOiB0aGlzLl9nZXRQYW5lbEZvclRhYiggdGhpcy5hY3RpdmUgKVxyXG5cdFx0fTtcclxuXHR9LFxyXG5cclxuXHRfdGFiS2V5ZG93bjogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0dmFyIGZvY3VzZWRUYWIgPSAkKCB0aGlzLmRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQgKS5jbG9zZXN0KCBcImxpXCIgKSxcclxuXHRcdFx0c2VsZWN0ZWRJbmRleCA9IHRoaXMudGFicy5pbmRleCggZm9jdXNlZFRhYiApLFxyXG5cdFx0XHRnb2luZ0ZvcndhcmQgPSB0cnVlO1xyXG5cclxuXHRcdGlmICggdGhpcy5faGFuZGxlUGFnZU5hdiggZXZlbnQgKSApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XHJcblx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLlJJR0hUOlxyXG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5ET1dOOlxyXG5cdFx0XHRcdHNlbGVjdGVkSW5kZXgrKztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAkLnVpLmtleUNvZGUuVVA6XHJcblx0XHRcdGNhc2UgJC51aS5rZXlDb2RlLkxFRlQ6XHJcblx0XHRcdFx0Z29pbmdGb3J3YXJkID0gZmFsc2U7XHJcblx0XHRcdFx0c2VsZWN0ZWRJbmRleC0tO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5FTkQ6XHJcblx0XHRcdFx0c2VsZWN0ZWRJbmRleCA9IHRoaXMuYW5jaG9ycy5sZW5ndGggLSAxO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5IT01FOlxyXG5cdFx0XHRcdHNlbGVjdGVkSW5kZXggPSAwO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5TUEFDRTpcclxuXHRcdFx0XHQvLyBBY3RpdmF0ZSBvbmx5LCBubyBjb2xsYXBzaW5nXHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRjbGVhclRpbWVvdXQoIHRoaXMuYWN0aXZhdGluZyApO1xyXG5cdFx0XHRcdHRoaXMuX2FjdGl2YXRlKCBzZWxlY3RlZEluZGV4ICk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRjYXNlICQudWkua2V5Q29kZS5FTlRFUjpcclxuXHRcdFx0XHQvLyBUb2dnbGUgKGNhbmNlbCBkZWxheWVkIGFjdGl2YXRpb24sIGFsbG93IGNvbGxhcHNpbmcpXHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRjbGVhclRpbWVvdXQoIHRoaXMuYWN0aXZhdGluZyApO1xyXG5cdFx0XHRcdC8vIERldGVybWluZSBpZiB3ZSBzaG91bGQgY29sbGFwc2Ugb3IgYWN0aXZhdGVcclxuXHRcdFx0XHR0aGlzLl9hY3RpdmF0ZSggc2VsZWN0ZWRJbmRleCA9PT0gdGhpcy5vcHRpb25zLmFjdGl2ZSA/IGZhbHNlIDogc2VsZWN0ZWRJbmRleCApO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRm9jdXMgdGhlIGFwcHJvcHJpYXRlIHRhYiwgYmFzZWQgb24gd2hpY2gga2V5IHdhcyBwcmVzc2VkXHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0Y2xlYXJUaW1lb3V0KCB0aGlzLmFjdGl2YXRpbmcgKTtcclxuXHRcdHNlbGVjdGVkSW5kZXggPSB0aGlzLl9mb2N1c05leHRUYWIoIHNlbGVjdGVkSW5kZXgsIGdvaW5nRm9yd2FyZCApO1xyXG5cclxuXHRcdC8vIE5hdmlnYXRpbmcgd2l0aCBjb250cm9sIGtleSB3aWxsIHByZXZlbnQgYXV0b21hdGljIGFjdGl2YXRpb25cclxuXHRcdGlmICggIWV2ZW50LmN0cmxLZXkgKSB7XHJcblx0XHRcdC8vIFVwZGF0ZSBhcmlhLXNlbGVjdGVkIGltbWVkaWF0ZWx5IHNvIHRoYXQgQVQgdGhpbmsgdGhlIHRhYiBpcyBhbHJlYWR5IHNlbGVjdGVkLlxyXG5cdFx0XHQvLyBPdGhlcndpc2UgQVQgbWF5IGNvbmZ1c2UgdGhlIHVzZXIgYnkgc3RhdGluZyB0aGF0IHRoZXkgbmVlZCB0byBhY3RpdmF0ZSB0aGUgdGFiLFxyXG5cdFx0XHQvLyBidXQgdGhlIHRhYiB3aWxsIGFscmVhZHkgYmUgYWN0aXZhdGVkIGJ5IHRoZSB0aW1lIHRoZSBhbm5vdW5jZW1lbnQgZmluaXNoZXMuXHJcblx0XHRcdGZvY3VzZWRUYWIuYXR0ciggXCJhcmlhLXNlbGVjdGVkXCIsIFwiZmFsc2VcIiApO1xyXG5cdFx0XHR0aGlzLnRhYnMuZXEoIHNlbGVjdGVkSW5kZXggKS5hdHRyKCBcImFyaWEtc2VsZWN0ZWRcIiwgXCJ0cnVlXCIgKTtcclxuXHJcblx0XHRcdHRoaXMuYWN0aXZhdGluZyA9IHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHRoaXMub3B0aW9uKCBcImFjdGl2ZVwiLCBzZWxlY3RlZEluZGV4ICk7XHJcblx0XHRcdH0sIHRoaXMuZGVsYXkgKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfcGFuZWxLZXlkb3duOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHRpZiAoIHRoaXMuX2hhbmRsZVBhZ2VOYXYoIGV2ZW50ICkgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDdHJsK3VwIG1vdmVzIGZvY3VzIHRvIHRoZSBjdXJyZW50IHRhYlxyXG5cdFx0aWYgKCBldmVudC5jdHJsS2V5ICYmIGV2ZW50LmtleUNvZGUgPT09ICQudWkua2V5Q29kZS5VUCApIHtcclxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0dGhpcy5hY3RpdmUuZm9jdXMoKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBBbHQrcGFnZSB1cC9kb3duIG1vdmVzIGZvY3VzIHRvIHRoZSBwcmV2aW91cy9uZXh0IHRhYiAoYW5kIGFjdGl2YXRlcylcclxuXHRfaGFuZGxlUGFnZU5hdjogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0aWYgKCBldmVudC5hbHRLZXkgJiYgZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlBBR0VfVVAgKSB7XHJcblx0XHRcdHRoaXMuX2FjdGl2YXRlKCB0aGlzLl9mb2N1c05leHRUYWIoIHRoaXMub3B0aW9ucy5hY3RpdmUgLSAxLCBmYWxzZSApICk7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCBldmVudC5hbHRLZXkgJiYgZXZlbnQua2V5Q29kZSA9PT0gJC51aS5rZXlDb2RlLlBBR0VfRE9XTiApIHtcclxuXHRcdFx0dGhpcy5fYWN0aXZhdGUoIHRoaXMuX2ZvY3VzTmV4dFRhYiggdGhpcy5vcHRpb25zLmFjdGl2ZSArIDEsIHRydWUgKSApO1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfZmluZE5leHRUYWI6IGZ1bmN0aW9uKCBpbmRleCwgZ29pbmdGb3J3YXJkICkge1xyXG5cdFx0dmFyIGxhc3RUYWJJbmRleCA9IHRoaXMudGFicy5sZW5ndGggLSAxO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGNvbnN0cmFpbigpIHtcclxuXHRcdFx0aWYgKCBpbmRleCA+IGxhc3RUYWJJbmRleCApIHtcclxuXHRcdFx0XHRpbmRleCA9IDA7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCBpbmRleCA8IDAgKSB7XHJcblx0XHRcdFx0aW5kZXggPSBsYXN0VGFiSW5kZXg7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGluZGV4O1xyXG5cdFx0fVxyXG5cclxuXHRcdHdoaWxlICggJC5pbkFycmF5KCBjb25zdHJhaW4oKSwgdGhpcy5vcHRpb25zLmRpc2FibGVkICkgIT09IC0xICkge1xyXG5cdFx0XHRpbmRleCA9IGdvaW5nRm9yd2FyZCA/IGluZGV4ICsgMSA6IGluZGV4IC0gMTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gaW5kZXg7XHJcblx0fSxcclxuXHJcblx0X2ZvY3VzTmV4dFRhYjogZnVuY3Rpb24oIGluZGV4LCBnb2luZ0ZvcndhcmQgKSB7XHJcblx0XHRpbmRleCA9IHRoaXMuX2ZpbmROZXh0VGFiKCBpbmRleCwgZ29pbmdGb3J3YXJkICk7XHJcblx0XHR0aGlzLnRhYnMuZXEoIGluZGV4ICkuZm9jdXMoKTtcclxuXHRcdHJldHVybiBpbmRleDtcclxuXHR9LFxyXG5cclxuXHRfc2V0T3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcclxuXHRcdGlmICgga2V5ID09PSBcImFjdGl2ZVwiICkge1xyXG5cdFx0XHQvLyBfYWN0aXZhdGUoKSB3aWxsIGhhbmRsZSBpbnZhbGlkIHZhbHVlcyBhbmQgdXBkYXRlIHRoaXMub3B0aW9uc1xyXG5cdFx0XHR0aGlzLl9hY3RpdmF0ZSggdmFsdWUgKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICgga2V5ID09PSBcImRpc2FibGVkXCIgKSB7XHJcblx0XHRcdC8vIGRvbid0IHVzZSB0aGUgd2lkZ2V0IGZhY3RvcnkncyBkaXNhYmxlZCBoYW5kbGluZ1xyXG5cdFx0XHR0aGlzLl9zZXR1cERpc2FibGVkKCB2YWx1ZSApO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fc3VwZXIoIGtleSwgdmFsdWUpO1xyXG5cclxuXHRcdGlmICgga2V5ID09PSBcImNvbGxhcHNpYmxlXCIgKSB7XHJcblx0XHRcdHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcyggXCJ1aS10YWJzLWNvbGxhcHNpYmxlXCIsIHZhbHVlICk7XHJcblx0XHRcdC8vIFNldHRpbmcgY29sbGFwc2libGU6IGZhbHNlIHdoaWxlIGNvbGxhcHNlZDsgb3BlbiBmaXJzdCBwYW5lbFxyXG5cdFx0XHRpZiAoICF2YWx1ZSAmJiB0aGlzLm9wdGlvbnMuYWN0aXZlID09PSBmYWxzZSApIHtcclxuXHRcdFx0XHR0aGlzLl9hY3RpdmF0ZSggMCApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBrZXkgPT09IFwiZXZlbnRcIiApIHtcclxuXHRcdFx0dGhpcy5fc2V0dXBFdmVudHMoIHZhbHVlICk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBrZXkgPT09IFwiaGVpZ2h0U3R5bGVcIiApIHtcclxuXHRcdFx0dGhpcy5fc2V0dXBIZWlnaHRTdHlsZSggdmFsdWUgKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfdGFiSWQ6IGZ1bmN0aW9uKCB0YWIgKSB7XHJcblx0XHRyZXR1cm4gdGFiLmF0dHIoIFwiYXJpYS1jb250cm9sc1wiICkgfHwgXCJ1aS10YWJzLVwiICsgZ2V0TmV4dFRhYklkKCk7XHJcblx0fSxcclxuXHJcblx0X3Nhbml0aXplU2VsZWN0b3I6IGZ1bmN0aW9uKCBoYXNoICkge1xyXG5cdFx0cmV0dXJuIGhhc2ggPyBoYXNoLnJlcGxhY2UoIC9bIVwiJCUmJygpKissLlxcLzo7PD0+P0BcXFtcXF1cXF5ge3x9fl0vZywgXCJcXFxcJCZcIiApIDogXCJcIjtcclxuXHR9LFxyXG5cclxuXHRyZWZyZXNoOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxyXG5cdFx0XHRsaXMgPSB0aGlzLnRhYmxpc3QuY2hpbGRyZW4oIFwiOmhhcyhhW2hyZWZdKVwiICk7XHJcblxyXG5cdFx0Ly8gZ2V0IGRpc2FibGVkIHRhYnMgZnJvbSBjbGFzcyBhdHRyaWJ1dGUgZnJvbSBIVE1MXHJcblx0XHQvLyB0aGlzIHdpbGwgZ2V0IGNvbnZlcnRlZCB0byBhIGJvb2xlYW4gaWYgbmVlZGVkIGluIF9yZWZyZXNoKClcclxuXHRcdG9wdGlvbnMuZGlzYWJsZWQgPSAkLm1hcCggbGlzLmZpbHRlciggXCIudWktc3RhdGUtZGlzYWJsZWRcIiApLCBmdW5jdGlvbiggdGFiICkge1xyXG5cdFx0XHRyZXR1cm4gbGlzLmluZGV4KCB0YWIgKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuX3Byb2Nlc3NUYWJzKCk7XHJcblxyXG5cdFx0Ly8gd2FzIGNvbGxhcHNlZCBvciBubyB0YWJzXHJcblx0XHRpZiAoIG9wdGlvbnMuYWN0aXZlID09PSBmYWxzZSB8fCAhdGhpcy5hbmNob3JzLmxlbmd0aCApIHtcclxuXHRcdFx0b3B0aW9ucy5hY3RpdmUgPSBmYWxzZTtcclxuXHRcdFx0dGhpcy5hY3RpdmUgPSAkKCk7XHJcblx0XHQvLyB3YXMgYWN0aXZlLCBidXQgYWN0aXZlIHRhYiBpcyBnb25lXHJcblx0XHR9IGVsc2UgaWYgKCB0aGlzLmFjdGl2ZS5sZW5ndGggJiYgISQuY29udGFpbnMoIHRoaXMudGFibGlzdFsgMCBdLCB0aGlzLmFjdGl2ZVsgMCBdICkgKSB7XHJcblx0XHRcdC8vIGFsbCByZW1haW5pbmcgdGFicyBhcmUgZGlzYWJsZWRcclxuXHRcdFx0aWYgKCB0aGlzLnRhYnMubGVuZ3RoID09PSBvcHRpb25zLmRpc2FibGVkLmxlbmd0aCApIHtcclxuXHRcdFx0XHRvcHRpb25zLmFjdGl2ZSA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuYWN0aXZlID0gJCgpO1xyXG5cdFx0XHQvLyBhY3RpdmF0ZSBwcmV2aW91cyB0YWJcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLl9hY3RpdmF0ZSggdGhpcy5fZmluZE5leHRUYWIoIE1hdGgubWF4KCAwLCBvcHRpb25zLmFjdGl2ZSAtIDEgKSwgZmFsc2UgKSApO1xyXG5cdFx0XHR9XHJcblx0XHQvLyB3YXMgYWN0aXZlLCBhY3RpdmUgdGFiIHN0aWxsIGV4aXN0c1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gbWFrZSBzdXJlIGFjdGl2ZSBpbmRleCBpcyBjb3JyZWN0XHJcblx0XHRcdG9wdGlvbnMuYWN0aXZlID0gdGhpcy50YWJzLmluZGV4KCB0aGlzLmFjdGl2ZSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX3JlZnJlc2goKTtcclxuXHR9LFxyXG5cclxuXHRfcmVmcmVzaDogZnVuY3Rpb24oKSB7XHJcblx0XHR0aGlzLl9zZXR1cERpc2FibGVkKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKTtcclxuXHRcdHRoaXMuX3NldHVwRXZlbnRzKCB0aGlzLm9wdGlvbnMuZXZlbnQgKTtcclxuXHRcdHRoaXMuX3NldHVwSGVpZ2h0U3R5bGUoIHRoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSApO1xyXG5cclxuXHRcdHRoaXMudGFicy5ub3QoIHRoaXMuYWN0aXZlICkuYXR0cih7XHJcblx0XHRcdFwiYXJpYS1zZWxlY3RlZFwiOiBcImZhbHNlXCIsXHJcblx0XHRcdHRhYkluZGV4OiAtMVxyXG5cdFx0fSk7XHJcblx0XHR0aGlzLnBhbmVscy5ub3QoIHRoaXMuX2dldFBhbmVsRm9yVGFiKCB0aGlzLmFjdGl2ZSApIClcclxuXHRcdFx0LmhpZGUoKVxyXG5cdFx0XHQuYXR0cih7XHJcblx0XHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwiZmFsc2VcIixcclxuXHRcdFx0XHRcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdC8vIE1ha2Ugc3VyZSBvbmUgdGFiIGlzIGluIHRoZSB0YWIgb3JkZXJcclxuXHRcdGlmICggIXRoaXMuYWN0aXZlLmxlbmd0aCApIHtcclxuXHRcdFx0dGhpcy50YWJzLmVxKCAwICkuYXR0ciggXCJ0YWJJbmRleFwiLCAwICk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmFjdGl2ZVxyXG5cdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS10YWJzLWFjdGl2ZSB1aS1zdGF0ZS1hY3RpdmVcIiApXHJcblx0XHRcdFx0LmF0dHIoe1xyXG5cdFx0XHRcdFx0XCJhcmlhLXNlbGVjdGVkXCI6IFwidHJ1ZVwiLFxyXG5cdFx0XHRcdFx0dGFiSW5kZXg6IDBcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0dGhpcy5fZ2V0UGFuZWxGb3JUYWIoIHRoaXMuYWN0aXZlIClcclxuXHRcdFx0XHQuc2hvdygpXHJcblx0XHRcdFx0LmF0dHIoe1xyXG5cdFx0XHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwidHJ1ZVwiLFxyXG5cdFx0XHRcdFx0XCJhcmlhLWhpZGRlblwiOiBcImZhbHNlXCJcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfcHJvY2Vzc1RhYnM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuXHRcdHRoaXMudGFibGlzdCA9IHRoaXMuX2dldExpc3QoKVxyXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktdGFicy1uYXYgdWktaGVscGVyLXJlc2V0IHVpLWhlbHBlci1jbGVhcmZpeCB1aS13aWRnZXQtaGVhZGVyIHVpLWNvcm5lci1hbGxcIiApXHJcblx0XHRcdC5hdHRyKCBcInJvbGVcIiwgXCJ0YWJsaXN0XCIgKTtcclxuXHJcblx0XHR0aGlzLnRhYnMgPSB0aGlzLnRhYmxpc3QuZmluZCggXCI+IGxpOmhhcyhhW2hyZWZdKVwiIClcclxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLXRvcFwiIClcclxuXHRcdFx0LmF0dHIoe1xyXG5cdFx0XHRcdHJvbGU6IFwidGFiXCIsXHJcblx0XHRcdFx0dGFiSW5kZXg6IC0xXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuYW5jaG9ycyA9IHRoaXMudGFicy5tYXAoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuICQoIFwiYVwiLCB0aGlzIClbIDAgXTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LmFkZENsYXNzKCBcInVpLXRhYnMtYW5jaG9yXCIgKVxyXG5cdFx0XHQuYXR0cih7XHJcblx0XHRcdFx0cm9sZTogXCJwcmVzZW50YXRpb25cIixcclxuXHRcdFx0XHR0YWJJbmRleDogLTFcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5wYW5lbHMgPSAkKCk7XHJcblxyXG5cdFx0dGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oIGksIGFuY2hvciApIHtcclxuXHRcdFx0dmFyIHNlbGVjdG9yLCBwYW5lbCwgcGFuZWxJZCxcclxuXHRcdFx0XHRhbmNob3JJZCA9ICQoIGFuY2hvciApLnVuaXF1ZUlkKCkuYXR0ciggXCJpZFwiICksXHJcblx0XHRcdFx0dGFiID0gJCggYW5jaG9yICkuY2xvc2VzdCggXCJsaVwiICksXHJcblx0XHRcdFx0b3JpZ2luYWxBcmlhQ29udHJvbHMgPSB0YWIuYXR0ciggXCJhcmlhLWNvbnRyb2xzXCIgKTtcclxuXHJcblx0XHRcdC8vIGlubGluZSB0YWJcclxuXHRcdFx0aWYgKCBpc0xvY2FsKCBhbmNob3IgKSApIHtcclxuXHRcdFx0XHRzZWxlY3RvciA9IGFuY2hvci5oYXNoO1xyXG5cdFx0XHRcdHBhbmVsID0gdGhhdC5lbGVtZW50LmZpbmQoIHRoYXQuX3Nhbml0aXplU2VsZWN0b3IoIHNlbGVjdG9yICkgKTtcclxuXHRcdFx0Ly8gcmVtb3RlIHRhYlxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHBhbmVsSWQgPSB0aGF0Ll90YWJJZCggdGFiICk7XHJcblx0XHRcdFx0c2VsZWN0b3IgPSBcIiNcIiArIHBhbmVsSWQ7XHJcblx0XHRcdFx0cGFuZWwgPSB0aGF0LmVsZW1lbnQuZmluZCggc2VsZWN0b3IgKTtcclxuXHRcdFx0XHRpZiAoICFwYW5lbC5sZW5ndGggKSB7XHJcblx0XHRcdFx0XHRwYW5lbCA9IHRoYXQuX2NyZWF0ZVBhbmVsKCBwYW5lbElkICk7XHJcblx0XHRcdFx0XHRwYW5lbC5pbnNlcnRBZnRlciggdGhhdC5wYW5lbHNbIGkgLSAxIF0gfHwgdGhhdC50YWJsaXN0ICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHBhbmVsLmF0dHIoIFwiYXJpYS1saXZlXCIsIFwicG9saXRlXCIgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBwYW5lbC5sZW5ndGgpIHtcclxuXHRcdFx0XHR0aGF0LnBhbmVscyA9IHRoYXQucGFuZWxzLmFkZCggcGFuZWwgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIG9yaWdpbmFsQXJpYUNvbnRyb2xzICkge1xyXG5cdFx0XHRcdHRhYi5kYXRhKCBcInVpLXRhYnMtYXJpYS1jb250cm9sc1wiLCBvcmlnaW5hbEFyaWFDb250cm9scyApO1xyXG5cdFx0XHR9XHJcblx0XHRcdHRhYi5hdHRyKHtcclxuXHRcdFx0XHRcImFyaWEtY29udHJvbHNcIjogc2VsZWN0b3Iuc3Vic3RyaW5nKCAxICksXHJcblx0XHRcdFx0XCJhcmlhLWxhYmVsbGVkYnlcIjogYW5jaG9ySWRcclxuXHRcdFx0fSk7XHJcblx0XHRcdHBhbmVsLmF0dHIoIFwiYXJpYS1sYWJlbGxlZGJ5XCIsIGFuY2hvcklkICk7XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLnBhbmVsc1xyXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tXCIgKVxyXG5cdFx0XHQuYXR0ciggXCJyb2xlXCIsIFwidGFicGFuZWxcIiApO1xyXG5cdH0sXHJcblxyXG5cdC8vIGFsbG93IG92ZXJyaWRpbmcgaG93IHRvIGZpbmQgdGhlIGxpc3QgZm9yIHJhcmUgdXNhZ2Ugc2NlbmFyaW9zICgjNzcxNSlcclxuXHRfZ2V0TGlzdDogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5lbGVtZW50LmZpbmQoIFwib2wsdWxcIiApLmVxKCAwICk7XHJcblx0fSxcclxuXHJcblx0X2NyZWF0ZVBhbmVsOiBmdW5jdGlvbiggaWQgKSB7XHJcblx0XHRyZXR1cm4gJCggXCI8ZGl2PlwiIClcclxuXHRcdFx0LmF0dHIoIFwiaWRcIiwgaWQgKVxyXG5cdFx0XHQuYWRkQ2xhc3MoIFwidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tXCIgKVxyXG5cdFx0XHQuZGF0YSggXCJ1aS10YWJzLWRlc3Ryb3lcIiwgdHJ1ZSApO1xyXG5cdH0sXHJcblxyXG5cdF9zZXR1cERpc2FibGVkOiBmdW5jdGlvbiggZGlzYWJsZWQgKSB7XHJcblx0XHRpZiAoICQuaXNBcnJheSggZGlzYWJsZWQgKSApIHtcclxuXHRcdFx0aWYgKCAhZGlzYWJsZWQubGVuZ3RoICkge1xyXG5cdFx0XHRcdGRpc2FibGVkID0gZmFsc2U7XHJcblx0XHRcdH0gZWxzZSBpZiAoIGRpc2FibGVkLmxlbmd0aCA9PT0gdGhpcy5hbmNob3JzLmxlbmd0aCApIHtcclxuXHRcdFx0XHRkaXNhYmxlZCA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBkaXNhYmxlIHRhYnNcclxuXHRcdGZvciAoIHZhciBpID0gMCwgbGk7ICggbGkgPSB0aGlzLnRhYnNbIGkgXSApOyBpKysgKSB7XHJcblx0XHRcdGlmICggZGlzYWJsZWQgPT09IHRydWUgfHwgJC5pbkFycmF5KCBpLCBkaXNhYmxlZCApICE9PSAtMSApIHtcclxuXHRcdFx0XHQkKCBsaSApXHJcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIFwidWktc3RhdGUtZGlzYWJsZWRcIiApXHJcblx0XHRcdFx0XHQuYXR0ciggXCJhcmlhLWRpc2FibGVkXCIsIFwidHJ1ZVwiICk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JCggbGkgKVxyXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXN0YXRlLWRpc2FibGVkXCIgKVxyXG5cdFx0XHRcdFx0LnJlbW92ZUF0dHIoIFwiYXJpYS1kaXNhYmxlZFwiICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLm9wdGlvbnMuZGlzYWJsZWQgPSBkaXNhYmxlZDtcclxuXHR9LFxyXG5cclxuXHRfc2V0dXBFdmVudHM6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdHZhciBldmVudHMgPSB7XHJcblx0XHRcdGNsaWNrOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdGlmICggZXZlbnQgKSB7XHJcblx0XHRcdCQuZWFjaCggZXZlbnQuc3BsaXQoXCIgXCIpLCBmdW5jdGlvbiggaW5kZXgsIGV2ZW50TmFtZSApIHtcclxuXHRcdFx0XHRldmVudHNbIGV2ZW50TmFtZSBdID0gXCJfZXZlbnRIYW5kbGVyXCI7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuX29mZiggdGhpcy5hbmNob3JzLmFkZCggdGhpcy50YWJzICkuYWRkKCB0aGlzLnBhbmVscyApICk7XHJcblx0XHR0aGlzLl9vbiggdGhpcy5hbmNob3JzLCBldmVudHMgKTtcclxuXHRcdHRoaXMuX29uKCB0aGlzLnRhYnMsIHsga2V5ZG93bjogXCJfdGFiS2V5ZG93blwiIH0gKTtcclxuXHRcdHRoaXMuX29uKCB0aGlzLnBhbmVscywgeyBrZXlkb3duOiBcIl9wYW5lbEtleWRvd25cIiB9ICk7XHJcblxyXG5cdFx0dGhpcy5fZm9jdXNhYmxlKCB0aGlzLnRhYnMgKTtcclxuXHRcdHRoaXMuX2hvdmVyYWJsZSggdGhpcy50YWJzICk7XHJcblx0fSxcclxuXHJcblx0X3NldHVwSGVpZ2h0U3R5bGU6IGZ1bmN0aW9uKCBoZWlnaHRTdHlsZSApIHtcclxuXHRcdHZhciBtYXhIZWlnaHQsXHJcblx0XHRcdHBhcmVudCA9IHRoaXMuZWxlbWVudC5wYXJlbnQoKTtcclxuXHJcblx0XHRpZiAoIGhlaWdodFN0eWxlID09PSBcImZpbGxcIiApIHtcclxuXHRcdFx0bWF4SGVpZ2h0ID0gcGFyZW50LmhlaWdodCgpO1xyXG5cdFx0XHRtYXhIZWlnaHQgLT0gdGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCkgLSB0aGlzLmVsZW1lbnQuaGVpZ2h0KCk7XHJcblxyXG5cdFx0XHR0aGlzLmVsZW1lbnQuc2libGluZ3MoIFwiOnZpc2libGVcIiApLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyIGVsZW0gPSAkKCB0aGlzICksXHJcblx0XHRcdFx0XHRwb3NpdGlvbiA9IGVsZW0uY3NzKCBcInBvc2l0aW9uXCIgKTtcclxuXHJcblx0XHRcdFx0aWYgKCBwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiIHx8IHBvc2l0aW9uID09PSBcImZpeGVkXCIgKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdG1heEhlaWdodCAtPSBlbGVtLm91dGVySGVpZ2h0KCB0cnVlICk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0dGhpcy5lbGVtZW50LmNoaWxkcmVuKCkubm90KCB0aGlzLnBhbmVscyApLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0bWF4SGVpZ2h0IC09ICQoIHRoaXMgKS5vdXRlckhlaWdodCggdHJ1ZSApO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHRoaXMucGFuZWxzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JCggdGhpcyApLmhlaWdodCggTWF0aC5tYXgoIDAsIG1heEhlaWdodCAtXHJcblx0XHRcdFx0XHQkKCB0aGlzICkuaW5uZXJIZWlnaHQoKSArICQoIHRoaXMgKS5oZWlnaHQoKSApICk7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5jc3MoIFwib3ZlcmZsb3dcIiwgXCJhdXRvXCIgKTtcclxuXHRcdH0gZWxzZSBpZiAoIGhlaWdodFN0eWxlID09PSBcImF1dG9cIiApIHtcclxuXHRcdFx0bWF4SGVpZ2h0ID0gMDtcclxuXHRcdFx0dGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRtYXhIZWlnaHQgPSBNYXRoLm1heCggbWF4SGVpZ2h0LCAkKCB0aGlzICkuaGVpZ2h0KCBcIlwiICkuaGVpZ2h0KCkgKTtcclxuXHRcdFx0fSkuaGVpZ2h0KCBtYXhIZWlnaHQgKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRfZXZlbnRIYW5kbGVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHR2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcclxuXHRcdFx0YWN0aXZlID0gdGhpcy5hY3RpdmUsXHJcblx0XHRcdGFuY2hvciA9ICQoIGV2ZW50LmN1cnJlbnRUYXJnZXQgKSxcclxuXHRcdFx0dGFiID0gYW5jaG9yLmNsb3Nlc3QoIFwibGlcIiApLFxyXG5cdFx0XHRjbGlja2VkSXNBY3RpdmUgPSB0YWJbIDAgXSA9PT0gYWN0aXZlWyAwIF0sXHJcblx0XHRcdGNvbGxhcHNpbmcgPSBjbGlja2VkSXNBY3RpdmUgJiYgb3B0aW9ucy5jb2xsYXBzaWJsZSxcclxuXHRcdFx0dG9TaG93ID0gY29sbGFwc2luZyA/ICQoKSA6IHRoaXMuX2dldFBhbmVsRm9yVGFiKCB0YWIgKSxcclxuXHRcdFx0dG9IaWRlID0gIWFjdGl2ZS5sZW5ndGggPyAkKCkgOiB0aGlzLl9nZXRQYW5lbEZvclRhYiggYWN0aXZlICksXHJcblx0XHRcdGV2ZW50RGF0YSA9IHtcclxuXHRcdFx0XHRvbGRUYWI6IGFjdGl2ZSxcclxuXHRcdFx0XHRvbGRQYW5lbDogdG9IaWRlLFxyXG5cdFx0XHRcdG5ld1RhYjogY29sbGFwc2luZyA/ICQoKSA6IHRhYixcclxuXHRcdFx0XHRuZXdQYW5lbDogdG9TaG93XHJcblx0XHRcdH07XHJcblxyXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRpZiAoIHRhYi5oYXNDbGFzcyggXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiICkgfHxcclxuXHRcdFx0XHQvLyB0YWIgaXMgYWxyZWFkeSBsb2FkaW5nXHJcblx0XHRcdFx0dGFiLmhhc0NsYXNzKCBcInVpLXRhYnMtbG9hZGluZ1wiICkgfHxcclxuXHRcdFx0XHQvLyBjYW4ndCBzd2l0Y2ggZHVybmluZyBhbiBhbmltYXRpb25cclxuXHRcdFx0XHR0aGlzLnJ1bm5pbmcgfHxcclxuXHRcdFx0XHQvLyBjbGljayBvbiBhY3RpdmUgaGVhZGVyLCBidXQgbm90IGNvbGxhcHNpYmxlXHJcblx0XHRcdFx0KCBjbGlja2VkSXNBY3RpdmUgJiYgIW9wdGlvbnMuY29sbGFwc2libGUgKSB8fFxyXG5cdFx0XHRcdC8vIGFsbG93IGNhbmNlbGluZyBhY3RpdmF0aW9uXHJcblx0XHRcdFx0KCB0aGlzLl90cmlnZ2VyKCBcImJlZm9yZUFjdGl2YXRlXCIsIGV2ZW50LCBldmVudERhdGEgKSA9PT0gZmFsc2UgKSApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdG9wdGlvbnMuYWN0aXZlID0gY29sbGFwc2luZyA/IGZhbHNlIDogdGhpcy50YWJzLmluZGV4KCB0YWIgKTtcclxuXHJcblx0XHR0aGlzLmFjdGl2ZSA9IGNsaWNrZWRJc0FjdGl2ZSA/ICQoKSA6IHRhYjtcclxuXHRcdGlmICggdGhpcy54aHIgKSB7XHJcblx0XHRcdHRoaXMueGhyLmFib3J0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCAhdG9IaWRlLmxlbmd0aCAmJiAhdG9TaG93Lmxlbmd0aCApIHtcclxuXHRcdFx0JC5lcnJvciggXCJqUXVlcnkgVUkgVGFiczogTWlzbWF0Y2hpbmcgZnJhZ21lbnQgaWRlbnRpZmllci5cIiApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggdG9TaG93Lmxlbmd0aCApIHtcclxuXHRcdFx0dGhpcy5sb2FkKCB0aGlzLnRhYnMuaW5kZXgoIHRhYiApLCBldmVudCApO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5fdG9nZ2xlKCBldmVudCwgZXZlbnREYXRhICk7XHJcblx0fSxcclxuXHJcblx0Ly8gaGFuZGxlcyBzaG93L2hpZGUgZm9yIHNlbGVjdGluZyB0YWJzXHJcblx0X3RvZ2dsZTogZnVuY3Rpb24oIGV2ZW50LCBldmVudERhdGEgKSB7XHJcblx0XHR2YXIgdGhhdCA9IHRoaXMsXHJcblx0XHRcdHRvU2hvdyA9IGV2ZW50RGF0YS5uZXdQYW5lbCxcclxuXHRcdFx0dG9IaWRlID0gZXZlbnREYXRhLm9sZFBhbmVsO1xyXG5cclxuXHRcdHRoaXMucnVubmluZyA9IHRydWU7XHJcblxyXG5cdFx0ZnVuY3Rpb24gY29tcGxldGUoKSB7XHJcblx0XHRcdHRoYXQucnVubmluZyA9IGZhbHNlO1xyXG5cdFx0XHR0aGF0Ll90cmlnZ2VyKCBcImFjdGl2YXRlXCIsIGV2ZW50LCBldmVudERhdGEgKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzaG93KCkge1xyXG5cdFx0XHRldmVudERhdGEubmV3VGFiLmNsb3Nlc3QoIFwibGlcIiApLmFkZENsYXNzKCBcInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZVwiICk7XHJcblxyXG5cdFx0XHRpZiAoIHRvU2hvdy5sZW5ndGggJiYgdGhhdC5vcHRpb25zLnNob3cgKSB7XHJcblx0XHRcdFx0dGhhdC5fc2hvdyggdG9TaG93LCB0aGF0Lm9wdGlvbnMuc2hvdywgY29tcGxldGUgKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0b1Nob3cuc2hvdygpO1xyXG5cdFx0XHRcdGNvbXBsZXRlKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBzdGFydCBvdXQgYnkgaGlkaW5nLCB0aGVuIHNob3dpbmcsIHRoZW4gY29tcGxldGluZ1xyXG5cdFx0aWYgKCB0b0hpZGUubGVuZ3RoICYmIHRoaXMub3B0aW9ucy5oaWRlICkge1xyXG5cdFx0XHR0aGlzLl9oaWRlKCB0b0hpZGUsIHRoaXMub3B0aW9ucy5oaWRlLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRldmVudERhdGEub2xkVGFiLmNsb3Nlc3QoIFwibGlcIiApLnJlbW92ZUNsYXNzKCBcInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZVwiICk7XHJcblx0XHRcdFx0c2hvdygpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGV2ZW50RGF0YS5vbGRUYWIuY2xvc2VzdCggXCJsaVwiICkucmVtb3ZlQ2xhc3MoIFwidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlXCIgKTtcclxuXHRcdFx0dG9IaWRlLmhpZGUoKTtcclxuXHRcdFx0c2hvdygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRvSGlkZS5hdHRyKHtcclxuXHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwiZmFsc2VcIixcclxuXHRcdFx0XCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxyXG5cdFx0fSk7XHJcblx0XHRldmVudERhdGEub2xkVGFiLmF0dHIoIFwiYXJpYS1zZWxlY3RlZFwiLCBcImZhbHNlXCIgKTtcclxuXHRcdC8vIElmIHdlJ3JlIHN3aXRjaGluZyB0YWJzLCByZW1vdmUgdGhlIG9sZCB0YWIgZnJvbSB0aGUgdGFiIG9yZGVyLlxyXG5cdFx0Ly8gSWYgd2UncmUgb3BlbmluZyBmcm9tIGNvbGxhcHNlZCBzdGF0ZSwgcmVtb3ZlIHRoZSBwcmV2aW91cyB0YWIgZnJvbSB0aGUgdGFiIG9yZGVyLlxyXG5cdFx0Ly8gSWYgd2UncmUgY29sbGFwc2luZywgdGhlbiBrZWVwIHRoZSBjb2xsYXBzaW5nIHRhYiBpbiB0aGUgdGFiIG9yZGVyLlxyXG5cdFx0aWYgKCB0b1Nob3cubGVuZ3RoICYmIHRvSGlkZS5sZW5ndGggKSB7XHJcblx0XHRcdGV2ZW50RGF0YS5vbGRUYWIuYXR0ciggXCJ0YWJJbmRleFwiLCAtMSApO1xyXG5cdFx0fSBlbHNlIGlmICggdG9TaG93Lmxlbmd0aCApIHtcclxuXHRcdFx0dGhpcy50YWJzLmZpbHRlcihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gJCggdGhpcyApLmF0dHIoIFwidGFiSW5kZXhcIiApID09PSAwO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQuYXR0ciggXCJ0YWJJbmRleFwiLCAtMSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRvU2hvdy5hdHRyKHtcclxuXHRcdFx0XCJhcmlhLWV4cGFuZGVkXCI6IFwidHJ1ZVwiLFxyXG5cdFx0XHRcImFyaWEtaGlkZGVuXCI6IFwiZmFsc2VcIlxyXG5cdFx0fSk7XHJcblx0XHRldmVudERhdGEubmV3VGFiLmF0dHIoe1xyXG5cdFx0XHRcImFyaWEtc2VsZWN0ZWRcIjogXCJ0cnVlXCIsXHJcblx0XHRcdHRhYkluZGV4OiAwXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRfYWN0aXZhdGU6IGZ1bmN0aW9uKCBpbmRleCApIHtcclxuXHRcdHZhciBhbmNob3IsXHJcblx0XHRcdGFjdGl2ZSA9IHRoaXMuX2ZpbmRBY3RpdmUoIGluZGV4ICk7XHJcblxyXG5cdFx0Ly8gdHJ5aW5nIHRvIGFjdGl2YXRlIHRoZSBhbHJlYWR5IGFjdGl2ZSBwYW5lbFxyXG5cdFx0aWYgKCBhY3RpdmVbIDAgXSA9PT0gdGhpcy5hY3RpdmVbIDAgXSApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHRyeWluZyB0byBjb2xsYXBzZSwgc2ltdWxhdGUgYSBjbGljayBvbiB0aGUgY3VycmVudCBhY3RpdmUgaGVhZGVyXHJcblx0XHRpZiAoICFhY3RpdmUubGVuZ3RoICkge1xyXG5cdFx0XHRhY3RpdmUgPSB0aGlzLmFjdGl2ZTtcclxuXHRcdH1cclxuXHJcblx0XHRhbmNob3IgPSBhY3RpdmUuZmluZCggXCIudWktdGFicy1hbmNob3JcIiApWyAwIF07XHJcblx0XHR0aGlzLl9ldmVudEhhbmRsZXIoe1xyXG5cdFx0XHR0YXJnZXQ6IGFuY2hvcixcclxuXHRcdFx0Y3VycmVudFRhcmdldDogYW5jaG9yLFxyXG5cdFx0XHRwcmV2ZW50RGVmYXVsdDogJC5ub29wXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cclxuXHRfZmluZEFjdGl2ZTogZnVuY3Rpb24oIGluZGV4ICkge1xyXG5cdFx0cmV0dXJuIGluZGV4ID09PSBmYWxzZSA/ICQoKSA6IHRoaXMudGFicy5lcSggaW5kZXggKTtcclxuXHR9LFxyXG5cclxuXHRfZ2V0SW5kZXg6IGZ1bmN0aW9uKCBpbmRleCApIHtcclxuXHRcdC8vIG1ldGEtZnVuY3Rpb24gdG8gZ2l2ZSB1c2VycyBvcHRpb24gdG8gcHJvdmlkZSBhIGhyZWYgc3RyaW5nIGluc3RlYWQgb2YgYSBudW1lcmljYWwgaW5kZXguXHJcblx0XHRpZiAoIHR5cGVvZiBpbmRleCA9PT0gXCJzdHJpbmdcIiApIHtcclxuXHRcdFx0aW5kZXggPSB0aGlzLmFuY2hvcnMuaW5kZXgoIHRoaXMuYW5jaG9ycy5maWx0ZXIoIFwiW2hyZWYkPSdcIiArIGluZGV4ICsgXCInXVwiICkgKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gaW5kZXg7XHJcblx0fSxcclxuXHJcblx0X2Rlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG5cdFx0aWYgKCB0aGlzLnhociApIHtcclxuXHRcdFx0dGhpcy54aHIuYWJvcnQoKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoIFwidWktdGFicyB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbCB1aS10YWJzLWNvbGxhcHNpYmxlXCIgKTtcclxuXHJcblx0XHR0aGlzLnRhYmxpc3RcclxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXRhYnMtbmF2IHVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciB1aS1jb3JuZXItYWxsXCIgKVxyXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJyb2xlXCIgKTtcclxuXHJcblx0XHR0aGlzLmFuY2hvcnNcclxuXHRcdFx0LnJlbW92ZUNsYXNzKCBcInVpLXRhYnMtYW5jaG9yXCIgKVxyXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJyb2xlXCIgKVxyXG5cdFx0XHQucmVtb3ZlQXR0ciggXCJ0YWJJbmRleFwiIClcclxuXHRcdFx0LnJlbW92ZVVuaXF1ZUlkKCk7XHJcblxyXG5cdFx0dGhpcy50YWJzLmFkZCggdGhpcy5wYW5lbHMgKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoICQuZGF0YSggdGhpcywgXCJ1aS10YWJzLWRlc3Ryb3lcIiApICkge1xyXG5cdFx0XHRcdCQoIHRoaXMgKS5yZW1vdmUoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkKCB0aGlzIClcclxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ1aS1zdGF0ZS1kZWZhdWx0IHVpLXN0YXRlLWFjdGl2ZSB1aS1zdGF0ZS1kaXNhYmxlZCBcIiArXHJcblx0XHRcdFx0XHRcdFwidWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLXdpZGdldC1jb250ZW50IHVpLXRhYnMtYWN0aXZlIHVpLXRhYnMtcGFuZWxcIiApXHJcblx0XHRcdFx0XHQucmVtb3ZlQXR0ciggXCJ0YWJJbmRleFwiIClcclxuXHRcdFx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtbGl2ZVwiIClcclxuXHRcdFx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtYnVzeVwiIClcclxuXHRcdFx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtc2VsZWN0ZWRcIiApXHJcblx0XHRcdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWxhYmVsbGVkYnlcIiApXHJcblx0XHRcdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWhpZGRlblwiIClcclxuXHRcdFx0XHRcdC5yZW1vdmVBdHRyKCBcImFyaWEtZXhwYW5kZWRcIiApXHJcblx0XHRcdFx0XHQucmVtb3ZlQXR0ciggXCJyb2xlXCIgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy50YWJzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBsaSA9ICQoIHRoaXMgKSxcclxuXHRcdFx0XHRwcmV2ID0gbGkuZGF0YSggXCJ1aS10YWJzLWFyaWEtY29udHJvbHNcIiApO1xyXG5cdFx0XHRpZiAoIHByZXYgKSB7XHJcblx0XHRcdFx0bGlcclxuXHRcdFx0XHRcdC5hdHRyKCBcImFyaWEtY29udHJvbHNcIiwgcHJldiApXHJcblx0XHRcdFx0XHQucmVtb3ZlRGF0YSggXCJ1aS10YWJzLWFyaWEtY29udHJvbHNcIiApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGxpLnJlbW92ZUF0dHIoIFwiYXJpYS1jb250cm9sc1wiICk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMucGFuZWxzLnNob3coKTtcclxuXHJcblx0XHRpZiAoIHRoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSAhPT0gXCJjb250ZW50XCIgKSB7XHJcblx0XHRcdHRoaXMucGFuZWxzLmNzcyggXCJoZWlnaHRcIiwgXCJcIiApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdGVuYWJsZTogZnVuY3Rpb24oIGluZGV4ICkge1xyXG5cdFx0dmFyIGRpc2FibGVkID0gdGhpcy5vcHRpb25zLmRpc2FibGVkO1xyXG5cdFx0aWYgKCBkaXNhYmxlZCA9PT0gZmFsc2UgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIGluZGV4ID09PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdGRpc2FibGVkID0gZmFsc2U7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbmRleCA9IHRoaXMuX2dldEluZGV4KCBpbmRleCApO1xyXG5cdFx0XHRpZiAoICQuaXNBcnJheSggZGlzYWJsZWQgKSApIHtcclxuXHRcdFx0XHRkaXNhYmxlZCA9ICQubWFwKCBkaXNhYmxlZCwgZnVuY3Rpb24oIG51bSApIHtcclxuXHRcdFx0XHRcdHJldHVybiBudW0gIT09IGluZGV4ID8gbnVtIDogbnVsbDtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkaXNhYmxlZCA9ICQubWFwKCB0aGlzLnRhYnMsIGZ1bmN0aW9uKCBsaSwgbnVtICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG51bSAhPT0gaW5kZXggPyBudW0gOiBudWxsO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHR0aGlzLl9zZXR1cERpc2FibGVkKCBkaXNhYmxlZCApO1xyXG5cdH0sXHJcblxyXG5cdGRpc2FibGU6IGZ1bmN0aW9uKCBpbmRleCApIHtcclxuXHRcdHZhciBkaXNhYmxlZCA9IHRoaXMub3B0aW9ucy5kaXNhYmxlZDtcclxuXHRcdGlmICggZGlzYWJsZWQgPT09IHRydWUgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIGluZGV4ID09PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdGRpc2FibGVkID0gdHJ1ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluZGV4ID0gdGhpcy5fZ2V0SW5kZXgoIGluZGV4ICk7XHJcblx0XHRcdGlmICggJC5pbkFycmF5KCBpbmRleCwgZGlzYWJsZWQgKSAhPT0gLTEgKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggJC5pc0FycmF5KCBkaXNhYmxlZCApICkge1xyXG5cdFx0XHRcdGRpc2FibGVkID0gJC5tZXJnZSggWyBpbmRleCBdLCBkaXNhYmxlZCApLnNvcnQoKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkaXNhYmxlZCA9IFsgaW5kZXggXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0dGhpcy5fc2V0dXBEaXNhYmxlZCggZGlzYWJsZWQgKTtcclxuXHR9LFxyXG5cclxuXHRsb2FkOiBmdW5jdGlvbiggaW5kZXgsIGV2ZW50ICkge1xyXG5cdFx0aW5kZXggPSB0aGlzLl9nZXRJbmRleCggaW5kZXggKTtcclxuXHRcdHZhciB0aGF0ID0gdGhpcyxcclxuXHRcdFx0dGFiID0gdGhpcy50YWJzLmVxKCBpbmRleCApLFxyXG5cdFx0XHRhbmNob3IgPSB0YWIuZmluZCggXCIudWktdGFicy1hbmNob3JcIiApLFxyXG5cdFx0XHRwYW5lbCA9IHRoaXMuX2dldFBhbmVsRm9yVGFiKCB0YWIgKSxcclxuXHRcdFx0ZXZlbnREYXRhID0ge1xyXG5cdFx0XHRcdHRhYjogdGFiLFxyXG5cdFx0XHRcdHBhbmVsOiBwYW5lbFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdC8vIG5vdCByZW1vdGVcclxuXHRcdGlmICggaXNMb2NhbCggYW5jaG9yWyAwIF0gKSApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMueGhyID0gJC5hamF4KCB0aGlzLl9hamF4U2V0dGluZ3MoIGFuY2hvciwgZXZlbnQsIGV2ZW50RGF0YSApICk7XHJcblxyXG5cdFx0Ly8gc3VwcG9ydDogalF1ZXJ5IDwxLjhcclxuXHRcdC8vIGpRdWVyeSA8MS44IHJldHVybnMgZmFsc2UgaWYgdGhlIHJlcXVlc3QgaXMgY2FuY2VsZWQgaW4gYmVmb3JlU2VuZCxcclxuXHRcdC8vIGJ1dCBhcyBvZiAxLjgsICQuYWpheCgpIGFsd2F5cyByZXR1cm5zIGEganFYSFIgb2JqZWN0LlxyXG5cdFx0aWYgKCB0aGlzLnhociAmJiB0aGlzLnhoci5zdGF0dXNUZXh0ICE9PSBcImNhbmNlbGVkXCIgKSB7XHJcblx0XHRcdHRhYi5hZGRDbGFzcyggXCJ1aS10YWJzLWxvYWRpbmdcIiApO1xyXG5cdFx0XHRwYW5lbC5hdHRyKCBcImFyaWEtYnVzeVwiLCBcInRydWVcIiApO1xyXG5cclxuXHRcdFx0dGhpcy54aHJcclxuXHRcdFx0XHQuc3VjY2VzcyhmdW5jdGlvbiggcmVzcG9uc2UgKSB7XHJcblx0XHRcdFx0XHQvLyBzdXBwb3J0OiBqUXVlcnkgPDEuOFxyXG5cdFx0XHRcdFx0Ly8gaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTE3NzhcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdHBhbmVsLmh0bWwoIHJlc3BvbnNlICk7XHJcblx0XHRcdFx0XHRcdHRoYXQuX3RyaWdnZXIoIFwibG9hZFwiLCBldmVudCwgZXZlbnREYXRhICk7XHJcblx0XHRcdFx0XHR9LCAxICk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQuY29tcGxldGUoZnVuY3Rpb24oIGpxWEhSLCBzdGF0dXMgKSB7XHJcblx0XHRcdFx0XHQvLyBzdXBwb3J0OiBqUXVlcnkgPDEuOFxyXG5cdFx0XHRcdFx0Ly8gaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTE3NzhcclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdGlmICggc3RhdHVzID09PSBcImFib3J0XCIgKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhhdC5wYW5lbHMuc3RvcCggZmFsc2UsIHRydWUgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0dGFiLnJlbW92ZUNsYXNzKCBcInVpLXRhYnMtbG9hZGluZ1wiICk7XHJcblx0XHRcdFx0XHRcdHBhbmVsLnJlbW92ZUF0dHIoIFwiYXJpYS1idXN5XCIgKTtcclxuXHJcblx0XHRcdFx0XHRcdGlmICgganFYSFIgPT09IHRoYXQueGhyICkge1xyXG5cdFx0XHRcdFx0XHRcdGRlbGV0ZSB0aGF0LnhocjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSwgMSApO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdF9hamF4U2V0dGluZ3M6IGZ1bmN0aW9uKCBhbmNob3IsIGV2ZW50LCBldmVudERhdGEgKSB7XHJcblx0XHR2YXIgdGhhdCA9IHRoaXM7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR1cmw6IGFuY2hvci5hdHRyKCBcImhyZWZcIiApLFxyXG5cdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbigganFYSFIsIHNldHRpbmdzICkge1xyXG5cdFx0XHRcdHJldHVybiB0aGF0Ll90cmlnZ2VyKCBcImJlZm9yZUxvYWRcIiwgZXZlbnQsXHJcblx0XHRcdFx0XHQkLmV4dGVuZCggeyBqcVhIUiA6IGpxWEhSLCBhamF4U2V0dGluZ3M6IHNldHRpbmdzIH0sIGV2ZW50RGF0YSApICk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fSxcclxuXHJcblx0X2dldFBhbmVsRm9yVGFiOiBmdW5jdGlvbiggdGFiICkge1xyXG5cdFx0dmFyIGlkID0gJCggdGFiICkuYXR0ciggXCJhcmlhLWNvbnRyb2xzXCIgKTtcclxuXHRcdHJldHVybiB0aGlzLmVsZW1lbnQuZmluZCggdGhpcy5fc2FuaXRpemVTZWxlY3RvciggXCIjXCIgKyBpZCApICk7XHJcblx0fVxyXG59KTtcclxuXHJcbn0pKCBqUXVlcnkgKTtcclxuXHJcbihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkge1xyXG5cclxufSkoIGpRdWVyeSApO1xyXG5cclxuKGZ1bmN0aW9uKCAkLCB3aW5kb3cgKSB7XHJcblxyXG5cdCQubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZCA9IHRydWU7XHJcblxyXG5cdC8vIFRoaXMgZml4IGFkZHJlc3NlcyBhbiBpT1MgYnVnLCBzbyByZXR1cm4gZWFybHkgaWYgdGhlIFVBIGNsYWltcyBpdCdzIHNvbWV0aGluZyBlbHNlLlxyXG5cdHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQsXHJcblx0XHR6b29tLFxyXG5cdFx0ZXZ0LCB4LCB5LCB6LCBhaWc7XHJcblx0aWYgKCAhKCAvaVBob25lfGlQYWR8aVBvZC8udGVzdCggbmF2aWdhdG9yLnBsYXRmb3JtICkgJiYgL09TIFsxLTVdX1swLTlfXSogbGlrZSBNYWMgT1MgWC9pLnRlc3QoIHVhICkgJiYgdWEuaW5kZXhPZiggXCJBcHBsZVdlYktpdFwiICkgPiAtMSApICkge1xyXG5cdFx0JC5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkID0gZmFsc2U7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHR6b29tID0gJC5tb2JpbGUuem9vbTtcclxuXHJcblx0ZnVuY3Rpb24gY2hlY2tUaWx0KCBlICkge1xyXG5cdFx0ZXZ0ID0gZS5vcmlnaW5hbEV2ZW50O1xyXG5cdFx0YWlnID0gZXZ0LmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHk7XHJcblxyXG5cdFx0eCA9IE1hdGguYWJzKCBhaWcueCApO1xyXG5cdFx0eSA9IE1hdGguYWJzKCBhaWcueSApO1xyXG5cdFx0eiA9IE1hdGguYWJzKCBhaWcueiApO1xyXG5cclxuXHRcdC8vIElmIHBvcnRyYWl0IG9yaWVudGF0aW9uIGFuZCBpbiBvbmUgb2YgdGhlIGRhbmdlciB6b25lc1xyXG5cdFx0aWYgKCAhd2luZG93Lm9yaWVudGF0aW9uICYmICggeCA+IDcgfHwgKCAoIHogPiA2ICYmIHkgPCA4IHx8IHogPCA4ICYmIHkgPiA2ICkgJiYgeCA+IDUgKSApICkge1xyXG5cdFx0XHRcdGlmICggem9vbS5lbmFibGVkICkge1xyXG5cdFx0XHRcdFx0em9vbS5kaXNhYmxlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0fVx0ZWxzZSBpZiAoICF6b29tLmVuYWJsZWQgKSB7XHJcblx0XHRcdFx0em9vbS5lbmFibGUoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdCQubW9iaWxlLmRvY3VtZW50Lm9uKCBcIm1vYmlsZWluaXRcIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRpZiAoICQubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZCApIHtcclxuXHRcdFx0JC5tb2JpbGUud2luZG93XHJcblx0XHRcdFx0LmJpbmQoIFwib3JpZW50YXRpb25jaGFuZ2UuaW9zb3JpZW50YXRpb25maXhcIiwgem9vbS5lbmFibGUgKVxyXG5cdFx0XHRcdC5iaW5kKCBcImRldmljZW1vdGlvbi5pb3NvcmllbnRhdGlvbmZpeFwiLCBjaGVja1RpbHQgKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcbn0oIGpRdWVyeSwgdGhpcyApKTtcclxuXHJcbihmdW5jdGlvbiggJCwgd2luZG93LCB1bmRlZmluZWQgKSB7XHJcblx0dmFyXHQkaHRtbCA9ICQoIFwiaHRtbFwiICksXHJcblx0XHQkd2luZG93ID0gJC5tb2JpbGUud2luZG93O1xyXG5cclxuXHQvL3JlbW92ZSBpbml0aWFsIGJ1aWxkIGNsYXNzIChvbmx5IHByZXNlbnQgb24gZmlyc3QgcGFnZXNob3cpXHJcblx0ZnVuY3Rpb24gaGlkZVJlbmRlcmluZ0NsYXNzKCkge1xyXG5cdFx0JGh0bWwucmVtb3ZlQ2xhc3MoIFwidWktbW9iaWxlLXJlbmRlcmluZ1wiICk7XHJcblx0fVxyXG5cclxuXHQvLyB0cmlnZ2VyIG1vYmlsZWluaXQgZXZlbnQgLSB1c2VmdWwgaG9vayBmb3IgY29uZmlndXJpbmcgJC5tb2JpbGUgc2V0dGluZ3MgYmVmb3JlIHRoZXkncmUgdXNlZFxyXG5cdCQoIHdpbmRvdy5kb2N1bWVudCApLnRyaWdnZXIoIFwibW9iaWxlaW5pdFwiICk7XHJcblxyXG5cdC8vIHN1cHBvcnQgY29uZGl0aW9uc1xyXG5cdC8vIGlmIGRldmljZSBzdXBwb3J0IGNvbmRpdGlvbihzKSBhcmVuJ3QgbWV0LCBsZWF2ZSB0aGluZ3MgYXMgdGhleSBhcmUgLT4gYSBiYXNpYywgdXNhYmxlIGV4cGVyaWVuY2UsXHJcblx0Ly8gb3RoZXJ3aXNlLCBwcm9jZWVkIHdpdGggdGhlIGVuaGFuY2VtZW50c1xyXG5cdGlmICggISQubW9iaWxlLmdyYWRlQSgpICkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Ly8gb3ZlcnJpZGUgYWpheEVuYWJsZWQgb24gcGxhdGZvcm1zIHRoYXQgaGF2ZSBrbm93biBjb25mbGljdHMgd2l0aCBoYXNoIGhpc3RvcnkgdXBkYXRlc1xyXG5cdC8vIG9yIGdlbmVyYWxseSB3b3JrIGJldHRlciBicm93c2luZyBpbiByZWd1bGFyIGh0dHAgZm9yIGZ1bGwgcGFnZSByZWZyZXNoZXMgKEJCNSwgT3BlcmEgTWluaSlcclxuXHRpZiAoICQubW9iaWxlLmFqYXhCbGFja2xpc3QgKSB7XHJcblx0XHQkLm1vYmlsZS5hamF4RW5hYmxlZCA9IGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Ly8gQWRkIG1vYmlsZSwgaW5pdGlhbCBsb2FkIFwicmVuZGVyaW5nXCIgY2xhc3NlcyB0byBkb2NFbFxyXG5cdCRodG1sLmFkZENsYXNzKCBcInVpLW1vYmlsZSB1aS1tb2JpbGUtcmVuZGVyaW5nXCIgKTtcclxuXHJcblx0Ly8gVGhpcyBpcyBhIGZhbGxiYWNrLiBJZiBhbnl0aGluZyBnb2VzIHdyb25nIChKUyBlcnJvcnMsIGV0YyksIG9yIGV2ZW50cyBkb24ndCBmaXJlLFxyXG5cdC8vIHRoaXMgZW5zdXJlcyB0aGUgcmVuZGVyaW5nIGNsYXNzIGlzIHJlbW92ZWQgYWZ0ZXIgNSBzZWNvbmRzLCBzbyBjb250ZW50IGlzIHZpc2libGUgYW5kIGFjY2Vzc2libGVcclxuXHRzZXRUaW1lb3V0KCBoaWRlUmVuZGVyaW5nQ2xhc3MsIDUwMDAgKTtcclxuXHJcblx0JC5leHRlbmQoICQubW9iaWxlLCB7XHJcblx0XHQvLyBmaW5kIGFuZCBlbmhhbmNlIHRoZSBwYWdlcyBpbiB0aGUgZG9tIGFuZCB0cmFuc2l0aW9uIHRvIHRoZSBmaXJzdCBwYWdlLlxyXG5cdFx0aW5pdGlhbGl6ZVBhZ2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBmaW5kIHByZXNlbnQgcGFnZXNcclxuXHRcdFx0dmFyIHBhdGggPSAkLm1vYmlsZS5wYXRoLFxyXG5cdFx0XHRcdCRwYWdlcyA9ICQoIFwiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKVwiICksXHJcblx0XHRcdFx0aGFzaCA9IHBhdGguc3RyaXBIYXNoKCBwYXRoLnN0cmlwUXVlcnlQYXJhbXMocGF0aC5wYXJzZUxvY2F0aW9uKCkuaGFzaCkgKSxcclxuXHRcdFx0XHR0aGVMb2NhdGlvbiA9ICQubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLFxyXG5cdFx0XHRcdGhhc2hQYWdlID0gaGFzaCA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBoYXNoICkgOiB1bmRlZmluZWQ7XHJcblxyXG5cdFx0XHQvLyBpZiBubyBwYWdlcyBhcmUgZm91bmQsIGNyZWF0ZSBvbmUgd2l0aCBib2R5J3MgaW5uZXIgaHRtbFxyXG5cdFx0XHRpZiAoICEkcGFnZXMubGVuZ3RoICkge1xyXG5cdFx0XHRcdCRwYWdlcyA9ICQoIFwiYm9keVwiICkud3JhcElubmVyKCBcIjxkaXYgZGF0YS1cIiArICQubW9iaWxlLm5zICsgXCJyb2xlPSdwYWdlJz48L2Rpdj5cIiApLmNoaWxkcmVuKCAwICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGFkZCBkaWFsb2dzLCBzZXQgZGF0YS11cmwgYXR0cnNcclxuXHRcdFx0JHBhZ2VzLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyICR0aGlzID0gJCggdGhpcyApO1xyXG5cclxuXHRcdFx0XHQvLyB1bmxlc3MgdGhlIGRhdGEgdXJsIGlzIGFscmVhZHkgc2V0IHNldCBpdCB0byB0aGUgcGF0aG5hbWVcclxuXHRcdFx0XHRpZiAoICEkdGhpc1sgMCBdLmdldEF0dHJpYnV0ZSggXCJkYXRhLVwiICsgJC5tb2JpbGUubnMgKyBcInVybFwiICkgKSB7XHJcblx0XHRcdFx0XHQkdGhpcy5hdHRyKCBcImRhdGEtXCIgKyAkLm1vYmlsZS5ucyArIFwidXJsXCIsICR0aGlzLmF0dHIoIFwiaWRcIiApIHx8XHJcblx0XHRcdFx0XHRcdHBhdGguY29udmVydFVybFRvRGF0YVVybCggdGhlTG9jYXRpb24ucGF0aG5hbWUgKyB0aGVMb2NhdGlvbi5zZWFyY2ggKSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHQvLyBkZWZpbmUgZmlyc3QgcGFnZSBpbiBkb20gY2FzZSBvbmUgYmFja3Mgb3V0IHRvIHRoZSBkaXJlY3Rvcnkgcm9vdCAobm90IGFsd2F5cyB0aGUgZmlyc3QgcGFnZSB2aXNpdGVkLCBidXQgZGVmaW5lZCBhcyBmYWxsYmFjaylcclxuXHRcdFx0JC5tb2JpbGUuZmlyc3RQYWdlID0gJHBhZ2VzLmZpcnN0KCk7XHJcblxyXG5cdFx0XHQvLyBkZWZpbmUgcGFnZSBjb250YWluZXJcclxuXHRcdFx0JC5tb2JpbGUucGFnZUNvbnRhaW5lciA9ICQubW9iaWxlLmZpcnN0UGFnZVxyXG5cdFx0XHRcdC5wYXJlbnQoKVxyXG5cdFx0XHRcdC5hZGRDbGFzcyggXCJ1aS1tb2JpbGUtdmlld3BvcnRcIiApXHJcblx0XHRcdFx0LnBhZ2Vjb250YWluZXIoKTtcclxuXHJcblx0XHRcdC8vIGluaXRpYWxpemUgbmF2aWdhdGlvbiBldmVudHMgbm93LCBhZnRlciBtb2JpbGVpbml0IGhhcyBvY2N1cnJlZCBhbmQgdGhlIHBhZ2UgY29udGFpbmVyXHJcblx0XHRcdC8vIGhhcyBiZWVuIGNyZWF0ZWQgYnV0IGJlZm9yZSB0aGUgcmVzdCBvZiB0aGUgbGlicmFyeSBpcyBhbGVydGVkIHRvIHRoYXQgZmFjdFxyXG5cdFx0XHQkLm1vYmlsZS5uYXZyZWFkeURlZmVycmVkLnJlc29sdmUoKTtcclxuXHJcblx0XHRcdC8vIGFsZXJ0IGxpc3RlbmVycyB0aGF0IHRoZSBwYWdlY29udGFpbmVyIGhhcyBiZWVuIGRldGVybWluZWQgZm9yIGJpbmRpbmdcclxuXHRcdFx0Ly8gdG8gZXZlbnRzIHRyaWdnZXJlZCBvbiBpdFxyXG5cdFx0XHQkd2luZG93LnRyaWdnZXIoIFwicGFnZWNvbnRhaW5lcmNyZWF0ZVwiICk7XHJcblxyXG5cdFx0XHQvLyBjdWUgcGFnZSBsb2FkaW5nIG1lc3NhZ2VcclxuXHRcdFx0JC5tb2JpbGUubG9hZGluZyggXCJzaG93XCIgKTtcclxuXHJcblx0XHRcdC8vcmVtb3ZlIGluaXRpYWwgYnVpbGQgY2xhc3MgKG9ubHkgcHJlc2VudCBvbiBmaXJzdCBwYWdlc2hvdylcclxuXHRcdFx0aGlkZVJlbmRlcmluZ0NsYXNzKCk7XHJcblxyXG5cdFx0XHQvLyBpZiBoYXNoY2hhbmdlIGxpc3RlbmluZyBpcyBkaXNhYmxlZCwgdGhlcmUncyBubyBoYXNoIGRlZXBsaW5rLFxyXG5cdFx0XHQvLyB0aGUgaGFzaCBpcyBub3QgdmFsaWQgKGNvbnRhaW5zIG1vcmUgdGhhbiBvbmUgIyBvciBkb2VzIG5vdCBzdGFydCB3aXRoICMpXHJcblx0XHRcdC8vIG9yIHRoZXJlIGlzIG5vIHBhZ2Ugd2l0aCB0aGF0IGhhc2gsIGNoYW5nZSB0byB0aGUgZmlyc3QgcGFnZSBpbiB0aGUgRE9NXHJcblx0XHRcdC8vIFJlbWVtYmVyLCBob3dldmVyLCB0aGF0IHRoZSBoYXNoIGNhbiBhbHNvIGJlIGEgcGF0aCFcclxuXHRcdFx0aWYgKCAhICggJC5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQgJiZcclxuXHRcdFx0XHQkLm1vYmlsZS5wYXRoLmlzSGFzaFZhbGlkKCBsb2NhdGlvbi5oYXNoICkgJiZcclxuXHRcdFx0XHQoICQoIGhhc2hQYWdlICkuaXMoIFwiOmpxbURhdGEocm9sZT0ncGFnZScpXCIgKSB8fFxyXG5cdFx0XHRcdFx0JC5tb2JpbGUucGF0aC5pc1BhdGgoIGhhc2ggKSB8fFxyXG5cdFx0XHRcdFx0aGFzaCA9PT0gJC5tb2JpbGUuZGlhbG9nSGFzaEtleSApICkgKSB7XHJcblxyXG5cdFx0XHRcdC8vIG1ha2Ugc3VyZSB0byBzZXQgaW5pdGlhbCBwb3BzdGF0ZSBzdGF0ZSBpZiBpdCBleGlzdHNcclxuXHRcdFx0XHQvLyBzbyB0aGF0IG5hdmlnYXRpb24gYmFjayB0byB0aGUgaW5pdGlhbCBwYWdlIHdvcmtzIHByb3Blcmx5XHJcblx0XHRcdFx0aWYgKCAkLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkgKSB7XHJcblx0XHRcdFx0XHQkLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3Iuc3F1YXNoKCBwYXRoLnBhcnNlTG9jYXRpb24oKS5ocmVmICk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQkLm1vYmlsZS5jaGFuZ2VQYWdlKCAkLm1vYmlsZS5maXJzdFBhZ2UsIHtcclxuXHRcdFx0XHRcdHRyYW5zaXRpb246IFwibm9uZVwiLFxyXG5cdFx0XHRcdFx0cmV2ZXJzZTogdHJ1ZSxcclxuXHRcdFx0XHRcdGNoYW5nZUhhc2g6IGZhbHNlLFxyXG5cdFx0XHRcdFx0ZnJvbUhhc2hDaGFuZ2U6IHRydWVcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyB0cmlnZ2VyIGhhc2hjaGFuZ2Ugb3IgbmF2aWdhdGUgdG8gc3F1YXNoIGFuZCByZWNvcmQgdGhlIGNvcnJlY3RcclxuXHRcdFx0XHQvLyBoaXN0b3J5IGVudHJ5IGZvciBhbiBpbml0aWFsIGhhc2ggcGF0aFxyXG5cdFx0XHRcdGlmICggISQuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSApIHtcclxuXHRcdFx0XHRcdCR3aW5kb3cudHJpZ2dlciggXCJoYXNoY2hhbmdlXCIsIFt0cnVlXSApO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQvLyBUT0RPIGZpZ3VyZSBvdXQgaG93IHRvIHNpbXBsaWZ5IHRoaXMgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5pdGlhbCBoaXN0b3J5IGVudHJ5XHJcblx0XHRcdFx0XHQvLyBhdCB0aGUgYm90dG9tIGpzL25hdmlnYXRlL25hdmlnYXRlLmpzXHJcblx0XHRcdFx0XHQkLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnN0YWNrID0gW107XHJcblx0XHRcdFx0XHQkLm1vYmlsZS5uYXZpZ2F0ZSggJC5tb2JpbGUucGF0aC5pc1BhdGgoIGxvY2F0aW9uLmhhc2ggKSA/IGxvY2F0aW9uLmhhc2ggOiBsb2NhdGlvbi5ocmVmICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdCQoZnVuY3Rpb24oKSB7XHJcblx0XHQvL1J1biBpbmxpbmVTVkcgc3VwcG9ydCB0ZXN0XHJcblx0XHQkLnN1cHBvcnQuaW5saW5lU1ZHKCk7XHJcblxyXG5cdFx0Ly8gY2hlY2sgd2hpY2ggc2Nyb2xsVG9wIHZhbHVlIHNob3VsZCBiZSB1c2VkIGJ5IHNjcm9sbGluZyB0byAxIGltbWVkaWF0ZWx5IGF0IGRvbXJlYWR5XHJcblx0XHQvLyB0aGVuIGNoZWNrIHdoYXQgdGhlIHNjcm9sbCB0b3AgaXMuIEFuZHJvaWQgd2lsbCByZXBvcnQgMC4uLiBvdGhlcnMgMVxyXG5cdFx0Ly8gbm90ZSB0aGF0IHRoaXMgaW5pdGlhbCBzY3JvbGwgd29uJ3QgaGlkZSB0aGUgYWRkcmVzcyBiYXIuIEl0J3MganVzdCBmb3IgdGhlIGNoZWNrLlxyXG5cclxuXHRcdC8vIGhpZGUgaU9TIGJyb3dzZXIgY2hyb21lIG9uIGxvYWQgaWYgaGlkZVVybEJhciBpcyB0cnVlIHRoaXMgaXMgdG8gdHJ5IGFuZCBkbyBpdCBhcyBzb29uIGFzIHBvc3NpYmxlXHJcblx0XHRpZiAoICQubW9iaWxlLmhpZGVVcmxCYXIgKSB7XHJcblx0XHRcdHdpbmRvdy5zY3JvbGxUbyggMCwgMSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGlmIGRlZmF1bHRIb21lU2Nyb2xsIGhhc24ndCBiZWVuIHNldCB5ZXQsIHNlZSBpZiBzY3JvbGxUb3AgaXMgMVxyXG5cdFx0Ly8gaXQgc2hvdWxkIGJlIDEgaW4gbW9zdCBicm93c2VycywgYnV0IGFuZHJvaWQgdHJlYXRzIDEgYXMgMCAoZm9yIGhpZGluZyBhZGRyIGJhcilcclxuXHRcdC8vIHNvIGlmIGl0J3MgMSwgdXNlIDAgZnJvbSBub3cgb25cclxuXHRcdCQubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsID0gKCAhJC5zdXBwb3J0LnNjcm9sbFRvcCB8fCAkLm1vYmlsZS53aW5kb3cuc2Nyb2xsVG9wKCkgPT09IDEgKSA/IDAgOiAxO1xyXG5cclxuXHRcdC8vZG9tLXJlYWR5IGluaXRzXHJcblx0XHRpZiAoICQubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSApIHtcclxuXHRcdFx0JC5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyB3aW5kb3cgbG9hZCBldmVudFxyXG5cdFx0Ly8gaGlkZSBpT1MgYnJvd3NlciBjaHJvbWUgb24gbG9hZCBpZiBoaWRlVXJsQmFyIGlzIHRydWUgdGhpcyBpcyBhcyBmYWxsIGJhY2sgaW5jYXNlIHdlIHdlcmUgdG9vIGVhcmx5IGJlZm9yZVxyXG5cdFx0aWYgKCAkLm1vYmlsZS5oaWRlVXJsQmFyICkge1xyXG5cdFx0XHQkd2luZG93LmxvYWQoICQubW9iaWxlLnNpbGVudFNjcm9sbCApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggISQuc3VwcG9ydC5jc3NQb2ludGVyRXZlbnRzICkge1xyXG5cdFx0XHQvLyBJRSBhbmQgT3BlcmEgZG9uJ3Qgc3VwcG9ydCBDU1MgcG9pbnRlci1ldmVudHM6IG5vbmUgdGhhdCB3ZSB1c2UgdG8gZGlzYWJsZSBsaW5rLWJhc2VkIGJ1dHRvbnNcclxuXHRcdFx0Ly8gYnkgYWRkaW5nIHRoZSAndWktZGlzYWJsZWQnIGNsYXNzIHRvIHRoZW0uIFVzaW5nIGEgSmF2YVNjcmlwdCB3b3JrYXJvdW5kIGZvciB0aG9zZSBicm93c2VyLlxyXG5cdFx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS1tb2JpbGUvaXNzdWVzLzM1NThcclxuXHJcblx0XHRcdC8vIERFUFJFQ0FURUQgYXMgb2YgMS40LjAgLSByZW1vdmUgdWktZGlzYWJsZWQgYWZ0ZXIgMS40LjAgcmVsZWFzZVxyXG5cdFx0XHQvLyBvbmx5IHVpLXN0YXRlLWRpc2FibGVkIHNob3VsZCBiZSBwcmVzZW50IHRoZXJlYWZ0ZXJcclxuXHRcdFx0JC5tb2JpbGUuZG9jdW1lbnQuZGVsZWdhdGUoIFwiLnVpLXN0YXRlLWRpc2FibGVkLC51aS1kaXNhYmxlZFwiLCBcInZjbGlja1wiLFxyXG5cdFx0XHRcdGZ1bmN0aW9uKCBlICkge1xyXG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn0oIGpRdWVyeSwgdGhpcyApKTtcclxuXHJcblxyXG59KSk7XHJcblxufS5jYWxsKHdpbmRvdykpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vZXh0ZXJuYWwvanF1ZXJ5L3NjcmlwdHMvanF1ZXJ5Lm1vYmlsZS5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvLy8gPHJlZmVyZW5jZSB0eXBlcz1cImJhY2tib25lXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBDRFAuRnJhbWV3b3JrIHtcclxuXHJcbiAgICAvLyBCYWNrYm9uZSBzaG9ydCBjdXRcclxuICAgIGV4cG9ydCB0eXBlICBNb2RlbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBCYWNrYm9uZS5Nb2RlbDtcclxuICAgIGV4cG9ydCBjb25zdCBNb2RlbCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBCYWNrYm9uZS5Nb2RlbDtcclxuICAgIGV4cG9ydCB0eXBlICBDb2xsZWN0aW9uPFRNb2RlbCBleHRlbmRzIE1vZGVsPiAgICAgICAgICAgPSBCYWNrYm9uZS5Db2xsZWN0aW9uPFRNb2RlbD47XHJcbiAgICBleHBvcnQgY29uc3QgQ29sbGVjdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gQmFja2JvbmUuQ29sbGVjdGlvbjtcclxuICAgIGV4cG9ydCB0eXBlICBWaWV3PFRNb2RlbCBleHRlbmRzIE1vZGVsID0gTW9kZWw+ICAgICAgICAgPSBCYWNrYm9uZS5WaWV3PFRNb2RlbD47XHJcbiAgICBleHBvcnQgY29uc3QgVmlldyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gQmFja2JvbmUuVmlldztcclxuICAgIGV4cG9ydCB0eXBlICBFdmVudHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBCYWNrYm9uZS5FdmVudHM7XHJcbiAgICBleHBvcnQgY29uc3QgRXZlbnRzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gQmFja2JvbmUuRXZlbnRzO1xyXG4gICAgZXhwb3J0IHR5cGUgTW9kZWxTZXRPcHRpb25zICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IEJhY2tib25lLk1vZGVsU2V0T3B0aW9ucztcclxuICAgIGV4cG9ydCB0eXBlIE1vZGVsRmV0Y2hPcHRpb25zICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBCYWNrYm9uZS5Nb2RlbEZldGNoT3B0aW9ucztcclxuICAgIGV4cG9ydCB0eXBlIE1vZGVsU2F2ZU9wdGlvbnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBCYWNrYm9uZS5Nb2RlbFNhdmVPcHRpb25zO1xyXG4gICAgZXhwb3J0IHR5cGUgTW9kZWxEZXN0cm95T3B0aW9ucyAgICAgICAgICAgICAgICAgICAgICAgICA9IEJhY2tib25lLk1vZGVsRGVzdHJveU9wdGlvbnM7XHJcbiAgICBleHBvcnQgdHlwZSBWaWV3T3B0aW9uczxUTW9kZWwgZXh0ZW5kcyBNb2RlbCA9IE1vZGVsPiAgID0gQmFja2JvbmUuVmlld09wdGlvbnM8VE1vZGVsPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIEB0eXBlICBQYWdlVHJhbnNpdGlvbkRpcmVjdGlvblxyXG4gICAgICogQGJyaWVmIGRpcmVjdGlvbiBkZWZpbml0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogQHR5cGUgIFBhZ2VUcmFuc2l0aW9uRGlyZWN0aW9uXHJcbiAgICAgKiBAYnJpZWYg6YG356e75pa55ZCR44Gu5a6a576pLlxyXG4gICAgICovXHJcbiAgICBleHBvcnQgdHlwZSBQYWdlVHJhbnNpdGlvbkRpcmVjdGlvbiA9IFwiYmFja1wiIHwgXCJmb3J3YXJkXCIgfCBcInNhbWVcIiB8IFwidW5rbm93blwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICogQGludGVyZmFjZSBTaG93RXZlbnREYXRhXHJcbiAgICAgKiBAYnJpZWYgICAgIEFyZ3VtZW50IG9mIG9uU2hvdy9vbkJlZm9yZVNob3cgbWV0aG9kLlxyXG4gICAgICpcclxuICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgKiBAaW50ZXJmYWNlIFNob3dFdmVudERhdGFcclxuICAgICAqIEBicmllZiAgICAgb25TaG93L29uQmVmb3JlU2hvdyDjgafmuKHjgZXjgozjgovlvJXmlbBcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBTaG93RXZlbnREYXRhIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogQSBqUXVlcnkgY29sbGVjdGlvbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgc291cmNlIHBhZ2UgRE9NIGVsZW1lbnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOmBt+enu+WJjeOBrueUu+mdouaDheWgseOCkuagvOe0jVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByZXZQYWdlOiBKUXVlcnk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBBIGpRdWVyeSBjb2xsZWN0aW9uIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBkZXN0aW5hdGlvbiBwYWdlIERPTSBlbGVtZW50LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDpgbfnp7vlvozjga7nlLvpnaLmg4XloLHjgpLmoLzntI1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0b1BhZ2U6IEpRdWVyeTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIHBhZ2UgdHJhbnNpdGlvbiBkaXJlY3Rpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOmBt+enu+aWueWQkeOCkuagvOe0jVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGRpcmVjdGlvbjogUGFnZVRyYW5zaXRpb25EaXJlY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgKiBAaW50ZXJmYWNlIEhpZGVFdmVudERhdGFcclxuICAgICAqIEBicmllZiAgICAgQXJndW1lbnQgb2Ygb25IaWRlL29uQmVmb3JlSGlkZSBtZXRob2QuXHJcbiAgICAgKlxyXG4gICAgICogXFx+amFwYW5lc2VcclxuICAgICAqIEBpbnRlcmZhY2UgSGlkZUV2ZW50RGF0YVxyXG4gICAgICogQGJyaWVmICAgICBvbkhpZGUvb25CZWZvcmVIaWRlIOOBp+a4oeOBleOCjOOCi+W8leaVsFxyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEhpZGVFdmVudERhdGEge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBBIGpRdWVyeSBjb2xsZWN0aW9uIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBwYWdlIERPTSBlbGVtZW50IHRvIHdoaWNoIHdlIGp1c3QgdHJhbnNpdGlvbmVkLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDjg4jjg6njg7Pjgrjjgrfjg6fjg7PlrozkuobjgZfjgZ/nlLvpnaLmg4XloLHjgpLmoLzntI1cclxuICAgICAgICAgKi9cclxuICAgICAgICBuZXh0UGFnZTogSlF1ZXJ5O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogQSBqUXVlcnkgY29sbGVjdGlvbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZGVzdGluYXRpb24gcGFnZSBET00gZWxlbWVudC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICog6YG356e75b6M44Gu55S76Z2i5oOF5aCx44KS5qC857SNXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdG9QYWdlOiBKUXVlcnk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBBIGpRdWVyeSBjb2xsZWN0aW9uIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBmcm9tIHBhZ2UgRE9NIGVsZW1lbnQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOmBt+enu+WJjeOBrueUu+mdouaDheWgseOCkuagvOe0jVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByZXZQYWdlOiBKUXVlcnk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBwYWdlIHRyYW5zaXRpb24gZGlyZWN0aW9uLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDpgbfnp7vmlrnlkJHjgpLmoLzntI1cclxuICAgICAgICAgKi9cclxuICAgICAgICBkaXJlY3Rpb246IFBhZ2VUcmFuc2l0aW9uRGlyZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICogQGludGVyZmFjZSBJbnRlbnRcclxuICAgICAqIEBicmllZiAgICAgRGVsZWdhdGUgaW50ZXJmYWNlIG9mIGFkZGl0aW9uYWwgZGF0YSBmb3IgUGFnZSBjbGFzcy5cclxuICAgICAqICAgICAgICAgICAgQ2xpZW50IGNhbiBkZWZpbmUgZXh0ZW5kIHR5cGUgZnJvbSBpdC5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogQGludGVyZmFjZSBJbnRlbnRcclxuICAgICAqIEBicmllZiAgICAg5Lu75oSP44Gu5oOF5aCx44KS5qC857SN44GZ44KL44Kk44Oz44K/44O844OV44Kn44Kk44K5XHJcbiAgICAgKiAgICAgICAgICAgIFBhZ2Ug44Gr5rih44GV44KM44KL44OH44O844K/44CC5ouh5by144GX44Gm5L2/55So5Y+v6IO9XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSW50ZW50IHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogYW55IHBhcmFtZXRlci5cclxuICAgICAgICAgKiBwYXJhbXNbXCJxdWVyeVBhcmFtc1wiXSBpcyB1c2VkIGJ5IGZyYW1ld29yayBmb3IgcXVlcnkgcGFyYW1ldGVycy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICog5Lu75oSP44Gu44OR44Op44Oh44O844K/XHJcbiAgICAgICAgICogcGFyYW1zW1wicXVlcnlQYXJhbXNcIl0g44Gr44Gv44CBcXVlcnkgcGFyYW1ldGVyIOOBjOODleODrOODvOODoOODr+ODvOOCr+OBq+OCiOOCiuagvOe0jeOBleOCjOOCi+OAglxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHBhcmFtcz86IG9iamVjdDtcclxuICAgICAgICAvLyEgYW55XHJcbiAgICAgICAgW2tleTogc3RyaW5nXTogYW55O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICogQGludGVyZmFjZSBQYWdlU3RhY2tcclxuICAgICAqIEBicmllZiBBcmd1bWVudHMgaW50ZXJmYWNlIG9mIFJvdXRlci5yZWdpc3RlclBhZ2VTdGFjaygpIG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogQGludGVyZmFjZSBQYWdlU3RhY2tcclxuICAgICAqIEBicmllZiBSb3V0ZXIucmVnaXN0ZXJQYWdlU3RhY2soKSDjgavmjIflrprjgZnjgovjgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBQYWdlU3RhY2sge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiByb3V0ZSBzdHJpbmcsIGl0IGNhbiBiZSByZWd1bGFyIGV4cHJlc3Npb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOODq+ODvOODhuOCo+ODs+OCsOaWh+Wtl+WIlyAvIOato+imj+ihqOePvlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJvdXRlOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBwYWdlIHRpdGxlIHN0cmluZy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICog44Oa44O844K444K/44Kk44OI44Or5paH5a2X5YiXXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGl0bGU/OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBwYWdlIHRyYW5zaXRpb24gc3RyaW5nLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDpgbfnp7vjg4jjg6njg7Pjgrjjgrfjg6fjg7PmloflrZfliJdcclxuICAgICAgICAgKi9cclxuICAgICAgICB0cmFuc2l0aW9uPzogc3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICogQGludGVyZmFjZSBTdWJGbG93UGFyYW1cclxuICAgICAqIEBicmllZiBpbnRlcmZhY2Ugb2YgUm91dGVyJ3MgU3ViIEZsb3cgcGFyYW1lbnRlcnMuXHJcbiAgICAgKlxyXG4gICAgICogXFx+amFwYW5lc2VcclxuICAgICAqIEBpbnRlcmZhY2UgU3ViRmxvd1BhcmFtXHJcbiAgICAgKiBAYnJpZWYgUm91dGVyIOOBriBTdWIgRmxvdyDjgavmjIflrprjgZnjgovjg5Hjg6njg6Hjg7zjgr/jgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBTdWJGbG93UGFyYW0ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBzZXQgc3ViIGZsb3cgb3BlcmF0aW9uIFtiZWdpbiB8IGVuZF0uXHJcbiAgICAgICAgICogV2hlbiBcImJlZ2luXCIgaXMgc2V0IGFuZCB0aGVuIFwiZW5kXCIgaXMgY2FsbGVkLCBpdCBjYW4gcmV0dXJuIHRvIHRoZSBVUkwgc3BlY2lmaWVkIGFzIFwiYmFzZVwiIHdpdGggdHJlYXRpbmcgYnJvd3NlciBoaXN0b3J5LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBTdWIgRmxvdyDlh6bnkIbjgpLmjIflrpogW2JlZ2luIHwgZW5kXVxyXG4gICAgICAgICAqIFwiYmVnaW5cIiDjgYzmjIflrprjgZXjgozjgIHmrKHjgasgXCJlbmRcIiDjgpLlkbzjgbbjgajjgY3jgIFcImJhc2VcIiDjgavmjIflrprjgZfjgZ8gdXJsIOOBvuOBp+ODluODqeOCpuOCtuWxpeattOOCkuOBn+OBqeOCi+OAglxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG9wZXJhdGlvbjogXCJiZWdpblwiIHwgXCJlbmRcIjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIFBhZ2UgVVJML0hhc2ggdXNlZCBhcyB0aGUgcmVmZXJlbmNlIHBvaW50IG9mIFN1YiBGbG93IGlzIHNwZWNpZmllZC5cclxuICAgICAgICAgKiBXaGVuIFN1YiBGbG93IG9wZXJhdGlvbiA9PSBcImVuZFwiIGlzIHNwZWNpZmllZCwgVVJMIHNwZWNpZmllZCBhcyBuYXZpZ2F0ZSBpcyBkaXNyZWdhcmRlZC5cclxuICAgICAgICAgKiBJZiBub3Qgc2V0LCB0aGlzIHBhcmFtZXRlciBpcyBhc3NpZ25lZCB0aGUgcGFnZSBjYWxsZWQgUm91dGVyLm5hdmlnYXRlKCkgd2l0aCBzdWJGbG93IHByb3BlcnR5LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBTdWIgRmxvdyDjga7ln7rngrnjgajjgarjgovjg5rjg7zjgrggVVJML0hhc2gg44KS5oyH5a6a44CCXHJcbiAgICAgICAgICogU3ViIEZsb3cgb3BlcmF0aW9uID09IFwiZW5kXCIg44GM5oyH5a6a44GV44KM44KL5aC05ZCI44Gv44CBbmF2aWdhdGUg44Gr5oyH5a6a44GV44KM44KLIFVSTCDjga/nhKHoppbjgZXjgozjgovjgIJcclxuICAgICAgICAgKiDmjIflrprjgYzjgarjgYTloLTlkIjjga8gUm91dGVyLm5hdmlnYXRlKCkg5pmC44GrIHN1YkZsb3cg44KS5oyH5a6a44Gu5ZG844Gz5Ye644GX5YWD44GM44Ki44K144Kk44Oz44GV44KM44KL44CCXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZGVzdEJhc2U/OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBQYWdlU3RhY2sgZnJvbSBcImRlc3RCYXNlXCIgd2hpY2ggY2hhbmdlcyBwYWdlIGF0IHRoZSB0aW1lIG9mIHRoZSBlbmQgb2YgU3ViIEZsb3cgaXMgc3BlY2lmaWVkLlxyXG4gICAgICAgICAqIFdoZW4gdGhpcyBwYXJhbWV0ZXIgaXMgbm8gc2V0LCBpdCBjaGFuZ2VzIHBhZ2UgdG8gXCJkZXN0QmFzZVwiLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBTdWIgRmxvdyDntYLkuobmmYLjgavpgbfnp7vjgZnjgosgXCJkZXN0QmFzZVwiIOOBi+OCieOBriBQYWdlU3RhY2sg44KS5oyH5a6a44CC5oyH5a6a44GM44Gq44GE5aC05ZCI44Gv44CBXCJkZXN0QmFzZVwiIOOBq+mBt+enu+OBmeOCi+OAglxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGRlc3RTdGFja3M/OiBQYWdlU3RhY2tbXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIEBpbnRlcmZhY2UgUm91dGVyT3B0aW9uc1xyXG4gICAgICogQGJyaWVmIE9wdGlvbnMgaW50ZXJmYWNlIG9mIFJvdXRlci5zdGFydCgpIG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogQGludGVyZmFjZSBSb3V0ZXJPcHRpb25zXHJcbiAgICAgKiBAYnJpZWYgUm91dGVyLnN0YXJ0KCkg44Gr5oyH5a6a44GZ44KL44Kq44OX44K344On44Oz44Kk44Oz44K/44O844OV44Kn44Kk44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgUm91dGVyT3B0aW9ucyBleHRlbmRzIEJhY2tib25lLkhpc3RvcnlPcHRpb25zIHtcclxuICAgICAgICBwYWdlQ29uc3RydWN0PzogYm9vbGVhbjsgICAgLy8g55m76Yyy5riI44G/44Oa44O844K444KS5qeL56+J44GZ44KL5aC05ZCIIHRydWUuIGRlZmF1bHQ6IHRydWVcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIEBpbnRlcmZhY2UgTmF2aWdhdGVPcHRpb25zXHJcbiAgICAgKiBAYnJpZWYgT3B0aW9ucyBpbnRlcmZhY2Ugb2YgUm91dGVyLm5hdmlnYXRlKCkgbWV0aG9kLlxyXG4gICAgICpcclxuICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgKiBAaW50ZXJmYWNlIE5hdmlnYXRlT3B0aW9uc1xyXG4gICAgICogQGJyaWVmIFJvdXRlci5uYXZpZ2F0ZSgpIOOBq+aMh+WumuOBmeOCi+OCquODl+OCt+ODp+ODs+OCpOODs+OCv+ODvOODleOCp+OCpOOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIE5hdmlnYXRlT3B0aW9ucyBleHRlbmRzIEJhY2tib25lLk5hdmlnYXRlT3B0aW9ucyB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIG92ZXJ3cml0ZTogdHJpZ2dlciBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIHRyaWdnZXIg44Gu5pei5a6a5YCk44GvIHRydWUg44Go44GX44Gm5omx44GGXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdHJpZ2dlcj86IGJvb2xlYW47XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBTdWJGbG93UGFyYW0gaXMgc3BlY2lmaWVkIHdoZW4gcGVyZm9ybWluZyBTdWIgRmxvdyBwcm9jZXNzaW5nLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBTdWIgRmxvdyDlh6bnkIbjgpLooYzjgYbloLTlkIjjgIFTdWJGbG93UGFyYW0g44KS5oyH5a6aXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3ViRmxvdz86IFN1YkZsb3dQYXJhbTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIHNldCBiYWNrIG9wZXJhdGlvbiBkZXN0aW5hdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogW+aIu+OCi10g5pmC44Gr6YG356e744GZ44KL44Oa44O844K4IFVSTCDjgpLmjIflrppcclxuICAgICAgICAgKi9cclxuICAgICAgICBiYWNrRGVzdGluYXRpb24/OiBzdHJpbmc7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBubyBoYXNoIGNoYW5nZSBmbGFnIGluIG5hdmlnYXRlIG9wZXJhdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogTmF2aWdhdGUg5pmC44GrIEhhc2gg5aSJ5pu044GX44Gq44GE44OV44Op44KwXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbm9IYXNoQ2hhbmdlPzogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIGFkZGl0aW9uYWwgaW5mbyBpbnRlcmZhY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOS7mOWKoOaDheWgseOCpOODs+OCv+ODvOODleOCp+OCpOOCuVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGludGVudD86IEludGVudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIEBpbnRlcmZhY2UgSU9yaWVudGF0aW9uQ2hhbmdlZExpc3RlbmVyXHJcbiAgICAgKiBAYnJpZWYgSGFuZGxlIG9yaWVudGF0aW9uIGNoYW5nZWQgbm90aWZ5IGludGVyZmFjZS5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogQGludGVyZmFjZSBJT3JpZW50YXRpb25DaGFuZ2VkTGlzdGVuZXJcclxuICAgICAqIEBicmllZiBPcmllbnRhdGlvbiDjga7lpInmm7TmpJznn6XjgpLlj5fkv6HjgZnjgovjgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJT3JpZW50YXRpb25DaGFuZ2VkTGlzdGVuZXIge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBSZWNlaXZlZCBvcmllbnRhdGlvbiBjb2RlIHdoZW4gdGhhdCBpcyBjaGFuZ2VkLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIG5ld09yaWVudGF0aW9uIHtPcmllbnRhdGlvbn0gW2luXSBuZXcgb3JpZW50YXRpb24gY29kZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogT3JpZW50YXRpb24g44Gu5aSJ5pu044KS5Y+X5L+hXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gbmV3T3JpZW50YXRpb24ge09yaWVudGF0aW9ufSBbaW5dIG5ldyBvcmllbnRhdGlvbiBjb2RlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG9uT3JpZW50YXRpb25DaGFuZ2VkKG5ld09yaWVudGF0aW9uOiBPcmllbnRhdGlvbik6IHZvaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgKiBAaW50ZXJmYWNlIElCYWNrQnV0dG9uRXZlbnRMaXN0ZW5lclxyXG4gICAgICogQGJyaWVmIEhhbmRsZSBIL1cgYmFjayBidXR0b24gZXZlbnQgbm90aWZ5IGludGVyZmFjZS5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogQGludGVyZmFjZSBJQmFja0J1dHRvbkV2ZW50TGlzdGVuZXJcclxuICAgICAqIEBicmllZiBIL1cgQmFjayBidXR0b24g44GuIGV2ZW50IOOCkuWPl+S/oeOBmeOCi+OCpOODs+OCv+ODvOODleOCp+OCpOOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElCYWNrQnV0dG9uRXZlbnRMaXN0ZW5lciB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIFJlY2VpdmVkIEgvVyBCYWNrIEJ1dHRvbiBldmVudFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtICBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIGV2ZW50IG9iamVjdFxyXG4gICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWU6IGNvbnRpbnVlIGRlZmF1bHQgb3BlcmF0aW9uIC8gZmFsc2U6IHN0b3AgZGVmYXVsdCBvcGVyYXRpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogSC9XIEJhY2sgQnV0dG9uIOODj+ODs+ODieODqVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtICBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIGV2ZW50IG9iamVjdFxyXG4gICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWU6IOaXouWumuOBruWHpueQhuOCkuihjOOCj+OBquOBhCAvIGZhbHNlOiDml6Llrprjga7lh6bnkIbjgpLooYzjgYZcclxuICAgICAgICAgKi9cclxuICAgICAgICBvbkhhcmR3YXJlQmFja0J1dHRvbihldmVudD86IEpRdWVyeS5FdmVudCk6IGJvb2xlYW47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgKiBAaW50ZXJmYWNlIElDb21tYW5kTGlzdGVuZXJcclxuICAgICAqIEBicmllZiBGcmFtZXdvcmsgZ2VuZXJpYyBjb21tYW5kIGNhbGxiYWNrIGludGVyZmFjZS5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogQGludGVyZmFjZSBJQ29tbWFuZExpc3RlbmVyXHJcbiAgICAgKiBAYnJpZWYg5rGO55So44Kz44Oe44Oz44OJ44Kz44O844Or44OQ44OD44Kv44Kk44Oz44K/44O844OV44Kn44Kk44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUNvbW1hbmRMaXN0ZW5lciB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIFJlY2VpdmVkIGdlbmVyaWMgY29tbWFuZFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtICBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIGV2ZW50IG9iamVjdFxyXG4gICAgICAgICAqIEBwYXJhbSAgZXZlbnQge2tpbmR9ICAgICAgICAgICAgICBbaW5dIGNvbW1hbmQga2luZCBzdHJpbmdcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlOiBjb250aW51ZSBkZWZhdWx0IG9wZXJhdGlvbiAvIGZhbHNlOiBzdG9wIGRlZmF1bHQgb3BlcmF0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOaxjueUqOOCs+ODnuODs+ODieOCkuWPl+S/oVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtICBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIGV2ZW50IG9iamVjdFxyXG4gICAgICAgICAqIEBwYXJhbSAgZXZlbnQge2tpbmR9ICAgICAgICAgICAgICBbaW5dIGNvbW1hbmQga2luZCBzdHJpbmdcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlOiDml6Llrprjga7lh6bnkIbjgpLooYzjgo/jgarjgYQgLyBmYWxzZTog5pei5a6a44Gu5Yem55CG44KS6KGM44GGXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25Db21tYW5kKGV2ZW50PzogSlF1ZXJ5LkV2ZW50LCBraW5kPzogc3RyaW5nKTogYm9vbGVhbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIEBpbnRlcmZhY2UgUGFnZUNvbnN0cnVjdE9wdGlvbnNcclxuICAgICAqIEBicmllZiBJbnRlcmZhY2UgY2xhc3MgZm9yIHN0b3JpbmcgcmVnaXN0cmF0aW9uIGluZm8sIHVzaW5nIGJ5IFJvdXRlci5yZWdpc3RlcigpIG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogQGludGVyZmFjZSBQYWdlQ29uc3RydWN0T3B0aW9uc1xyXG4gICAgICogQGJyaWVmIFJvdXRlci5yZWdpc3RlcigpIOOBp+aMh+WumuOBmeOCi+eZu+mMsuaDheWgseOCkuagvOe0jeOBmeOCi+OCpOODs+OCv+ODvOODleOCp+OCpOOCueOCr+ODqeOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFBhZ2VDb25zdHJ1Y3RPcHRpb25zIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogcm91dGUgaWRlbnRpZmllclxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiByb3V0ZSDorZjliKXlrZBcclxuICAgICAgICAgKi9cclxuICAgICAgICByb3V0ZT86IHN0cmluZztcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIGNhbGxiYWNrIG9uIGNoYW5naW5nIHJvdXRlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiByb3V0ZSDlpInmm7TmmYLjgavlkbzjgbPlh7rjgZXjgozjgovjgrPjg7zjg6vjg5Djg4Pjgq9cclxuICAgICAgICAgKi9cclxuICAgICAgICBjYWxsYmFjaz86ICguLi5hcmdzOiBhbnlbXSkgPT4gYm9vbGVhbjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIHNldCBcInRydWVcIiBpZiBhcHBsaWNhdGlvbidzIHRvcCB2aWV3LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDjgqLjg5fjg6rjgrHjg7zjgrfjg6fjg7Pjga4gdG9wIOeUu+mdouOBp+OBguOCi+WgtOWQiCB0cnVlIOOCkuaMh+WumlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRvcD86IGJvb2xlYW47XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBUaGUgaW5zdGFuY2Ugb2YgUGFnZSBldmVudCBsaXN0ZW5lciBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogUGFnZSDjgqTjg5njg7Pjg4jjgpLlj5fkv6HjgZnjgovjg6rjgrnjg4rjg7zjgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAgICAgKiDmqZ/og73mi6HlvLXmmYLjgavmjIflrprjgZnjgotcclxuICAgICAgICAgKi9cclxuICAgICAgICBvd25lcj86IElQYWdlO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogaW50ZW50IGluc3RhbmNlIGlzIGNvbW11bmljYXRlZCBuZXh0IHBhZ2Ugd2hlbiBcImludGVudFwiIGlzbid0IGRlc2lnbmF0ZWQgc3BlY2lmaWNhbGx5IGluIG5hdmlnYXRpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOaYjuekuueahOOBqyBpbnRlbnQg44GM5oyH5a6a44GV44KM44Gq44GE5aC05ZCI44Gr44GK44GE44Gm44KCXHJcbiAgICAgICAgICogaW50ZW50IOOCkuegtOajhOOBl+OBquOBhOWgtOWQiOOBryB0cnVlIOOCkuaMh+WumlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGtlZXBJbnRlbnQ/OiBib29sZWFuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICogQGludGVyZmFjZSBJUGFnZVxyXG4gICAgICogQGJyaWVmIEludGVyZmFjZSBvZiBQYWdlIGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgKiBAaW50ZXJmYWNlIElQYWdlXHJcbiAgICAgKiBAYnJpZWYg44Oa44O844K444Kv44Op44K544Gu44Kk44Oz44K/44O844OV44Kn44Kk44K544Kv44Op44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSVBhZ2UgZXh0ZW5kcyBJT3JpZW50YXRpb25DaGFuZ2VkTGlzdGVuZXIsIElCYWNrQnV0dG9uRXZlbnRMaXN0ZW5lciwgSUNvbW1hbmRMaXN0ZW5lciB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIFJldHVybiB0cnVlIGlmIHBhZ2UgaXMgYWN0aXZlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDjg5rjg7zjgrjjgYzjgqLjgq/jg4bjgqPjg5bjgafjgYLjgovmmYIgdHJ1ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGFjdGl2ZTogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIFN0b3JlZCB0YXJnZXQgcGFnZSB1cmwuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOWvvuixoeOBruODmuODvOOCuCBVUkwg44KS5qC857SNXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdXJsOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBTdG9yZWQgdGFyZ2V0IHBhZ2UgSUQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOWvvuixoeOBruODmuODvOOCuCBJRCDjgpLmoLzntI1cclxuICAgICAgICAgKi9cclxuICAgICAgICBpZDogc3RyaW5nO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogalF1ZXJ5IG9iamVjdCBvZiBwYWdlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDjg5rjg7zjgrjjga4galF1ZXJ5IOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgICRwYWdlOiBKUXVlcnk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBqUXVlcnkgb2JqZWN0IG9mIHBhZ2UncyBoZWFkZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOODmuODvOOCuOODmOODg+ODgOOBriBqUXVlcnkg44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgJGhlYWRlcjogSlF1ZXJ5O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogalF1ZXJ5IG9iamVjdCBvZiBwYWdlJ3MgZm9vdGVyLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDjg5rjg7zjgrjjg5Xjg4Pjgr/jga4galF1ZXJ5IOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgICRmb290ZXI6IEpRdWVyeTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIGludGVudCBwYXJhbWV0ZXIgcGFzc2luZyBiZXR3ZWVuIHBhZ2VzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDjg5rjg7zjgrjplpPjgaflj5fjgZHmuKHjgZXjgozjgosgaW50ZW50IOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGludGVudDogSW50ZW50O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogUmVjZWl2ZWQgUm91dGVyIFwiYmVmb3JlIHJvdXRlIGNoYW5nZVwiIGV2ZW50LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7SVByb21pc2VCYXNlfSBqUXVlcnlQcm9taXNlIE9iamVjdFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBSb3V0ZXIgXCJiZWZvcmUgcm91dGUgY2hhbmdlXCIg44OP44Oz44OJ44OpXHJcbiAgICAgICAgICog44Oa44O844K46YG356e755u05YmN44Gr6Z2e5ZCM5pyf5Yem55CG44KS6KGM44GG44GT44Go44GM5Y+v6IO9XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtJUHJvbWlzZUJhc2V9IFByb21pc2Ug44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25CZWZvcmVSb3V0ZUNoYW5nZSgpOiBJUHJvbWlzZUJhc2U8YW55PjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIEl0J3MgY2FsbGVkIG9ubHkgd2hlbiBiZWZvcmUgdGhlIGZpcnN0IE9uUGFnZUluaXQoKS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIGV2ZW50IG9iamVjdFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDmnIDliJ3jga4gT25QYWdlSW5pdCgpIOOBruOBqOOBjeOBq+OBruOBv+OCs+ODvOODq+OBleOCjOOCi1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IHtKUXVlcnkuRXZlbnR9IFtpbl0g44Kk44OZ44Oz44OI44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25Jbml0aWFsaXplKGV2ZW50OiBKUXVlcnkuRXZlbnQpOiB2b2lkO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogRXZlbnQgaGFuZGxlciBvZiBqUU0gZXZlbnQ6IFwicGFnZWJlZm9yZWNyZWF0ZVwiLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IHtKUXVlcnkuRXZlbnR9IFtpbl0gZXZlbnQgb2JqZWN0XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIGpRTSBldmVudDogXCJwYWdlYmVmb3JlY3JlYXRlXCIg44Gr5a++5b+cXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZXZlbnQge0pRdWVyeS5FdmVudH0gW2luXSDjgqTjg5njg7Pjg4jjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAgICAgKi9cclxuICAgICAgICBvblBhZ2VCZWZvcmVDcmVhdGUoZXZlbnQ6IEpRdWVyeS5FdmVudCk6IHZvaWQ7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBFdmVudCBoYW5kbGVyIG9mIGpRTSBldmVudDogXCJwYWdlY3JlYXRlXCIgKHByZXZpb3VzIHZlcnNpb24gZGVmaW5lZCBcInBhZ2Vpbml0XCIpLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IHtKUXVlcnkuRXZlbnR9IFtpbl0gZXZlbnQgb2JqZWN0XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIGpRTSBldmVudDogXCJwYWdlY3JlYXRlXCIgKOaXpzpcInBhZ2Vpbml0XCIpIOOBq+WvvuW/nFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IHtKUXVlcnkuRXZlbnR9IFtpbl0g44Kk44OZ44Oz44OI44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25QYWdlSW5pdChldmVudDogSlF1ZXJ5LkV2ZW50KTogdm9pZDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIEV2ZW50IGhhbmRsZXIgb2YgalFNIGV2ZW50OiBcInBhZ2ViZWZvcmVzaG93XCJcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIGV2ZW50IG9iamVjdFxyXG4gICAgICAgICAqIEBwYXJhbSBkYXRhICB7U2hvd0V2ZW50RGF0YX0gICAgIFtpbl0gYWRkaXRpb25hbCBpbmZvXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIGpRTSBldmVudDogXCJwYWdlYmVmb3Jlc2hvd1wiIOOBq+WvvuW/nFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IHtKUXVlcnkuRXZlbnR9IFtpbl0g44Kk44OZ44Oz44OI44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICogQHBhcmFtIGRhdGEgIHtTaG93RXZlbnREYXRhfSAgICAgW2luXSDku5jliqDmg4XloLFcclxuICAgICAgICAgKi9cclxuICAgICAgICBvblBhZ2VCZWZvcmVTaG93KGV2ZW50OiBKUXVlcnkuRXZlbnQsIGRhdGE/OiBTaG93RXZlbnREYXRhKTogdm9pZDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIEV2ZW50IGhhbmRsZXIgb2YgalFNIGV2ZW50OiBcInBhZ2Vjb250YWluZXJzaG93XCIgKHByZXZpb3VzIHZlcnNpb24gZGVmaW5lZCBcInBhZ2VzaG93XCIpLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IHtKUXVlcnkuRXZlbnR9IFtpbl0gZXZlbnQgb2JqZWN0XHJcbiAgICAgICAgICogQHBhcmFtIGRhdGEgIHtTaG93RXZlbnREYXRhfSAgICAgW2luXSBhZGRpdGlvbmFsIGluZm9cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogalFNIGV2ZW50OiBcInBhZ2Vjb250YWluZXJzaG93XCIgKOaXpzpcInBhZ2VzaG93XCIpIOOBq+WvvuW/nFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IHtKUXVlcnkuRXZlbnR9IFtpbl0g44Kk44OZ44Oz44OI44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICogQHBhcmFtIGRhdGEgIHtTaG93RXZlbnREYXRhfSAgICAgW2luXSDku5jliqDmg4XloLFcclxuICAgICAgICAgKi9cclxuICAgICAgICBvblBhZ2VTaG93KGV2ZW50OiBKUXVlcnkuRXZlbnQsIGRhdGE/OiBTaG93RXZlbnREYXRhKTogdm9pZDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIEV2ZW50IGhhbmRsZXIgb2YgalFNIGV2ZW50OiBcInBhZ2ViZWZvcmVoaWRlXCIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZXZlbnQge0pRdWVyeS5FdmVudH0gW2luXSBldmVudCBvYmplY3RcclxuICAgICAgICAgKiBAcGFyYW0gZGF0YSAge0hpZGVFdmVudERhdGF9ICAgICBbaW5dIGFkZGl0aW9uYWwgaW5mb1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBqUU0gZXZlbnQ6IFwicGFnZWJlZm9yZWhpZGVcIiDjgavlr77lv5xcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIOOCpOODmeODs+ODiOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqIEBwYXJhbSBkYXRhICB7SGlkZUV2ZW50RGF0YX0gICAgIFtpbl0g5LuY5Yqg5oOF5aCxXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25QYWdlQmVmb3JlSGlkZShldmVudDogSlF1ZXJ5LkV2ZW50LCBkYXRhPzogSGlkZUV2ZW50RGF0YSk6IHZvaWQ7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBFdmVudCBoYW5kbGVyIG9mIGpRTSBldmVudDogXCJwYWdlY29udGFpbmVyaGlkZVwiIChwcmV2aW91cyB2ZXJzaW9uIGRlZmluZWQgXCJwYWdlaGlkZVwiKS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIGV2ZW50IG9iamVjdFxyXG4gICAgICAgICAqIEBwYXJhbSBkYXRhICB7SGlkZUV2ZW50RGF0YX0gICAgIFtpbl0gYWRkaXRpb25hbCBpbmZvXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIGpRTSBldmVudDogXCJwYWdlY29udGFpbmVyaGlkZVwiICjml6c6XCJwYWdlaGlkZVwiKSDjgavlr77lv5xcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIOOCpOODmeODs+ODiOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqIEBwYXJhbSBkYXRhICB7SGlkZUV2ZW50RGF0YX0gICAgIFtpbl0g5LuY5Yqg5oOF5aCxXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25QYWdlSGlkZShldmVudDogSlF1ZXJ5LkV2ZW50LCBkYXRhPzogSGlkZUV2ZW50RGF0YSk6IHZvaWQ7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBFdmVudCBoYW5kbGVyIG9mIGpRTSBldmVudDogXCJwYWdlcmVtb3ZlXCIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZXZlbnQge0pRdWVyeS5FdmVudH0gW2luXSBldmVudCBvYmplY3RcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogalFNIGV2ZW50OiBcInBhZ2VyZW1vdmVcIiDjgavlr77lv5xcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIOOCpOODmeODs+ODiOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG9uUGFnZVJlbW92ZShldmVudDogSlF1ZXJ5LkV2ZW50KTogdm9pZDtcclxuICAgIH1cclxufVxyXG5cclxuZGVjbGFyZSBtb2R1bGUgXCJjZHAuZnJhbWV3b3JrLmpxbVwiIHtcclxuICAgIGNvbnN0IEZyYW1ld29yazogdHlwZW9mIENEUC5GcmFtZXdvcms7XHJcbiAgICBleHBvcnQgPSBGcmFtZXdvcms7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNkcDovLy9DRFAvRnJhbWV3b3JrL0ludGVyZmFjZXMudHMiLCIvKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cclxuXHJcbm5hbWVzcGFjZSBDRFAuRnJhbWV3b3JrIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHBsYXRmb3JtIOWIpOWumuOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICogW+WPguiAg10gaHR0cHM6Ly93M2cuanAvYmxvZy90b29scy9qc19icm93c2VyX3NuaWZmaW5nXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjb25zdCBQbGF0Zm9ybSA9ICgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1ham9yVmVyc2lvbiA9IGZ1bmN0aW9uIChicm93c2VyOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gdWEubWF0Y2gobmV3IFJlZ0V4cChcIihcIiArIGJyb3dzZXIgKyBcIikoIHwvKShbMC05XSspXCIpKTtcclxuICAgICAgICAgICAgaWYgKCF2ZXJzaW9uIHx8IHZlcnNpb24ubGVuZ3RoIDwgNCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHZlcnNpb25bM10sIDEwKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBsdElFNjogdHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyID09PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiAoPGFueT5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLnN0eWxlLm1heEhlaWdodCA9PT0gXCJ1bmRlZmluZWRcIixcclxuICAgICAgICAgICAgbHRJRTc6IHR5cGVvZiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciA9PT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCA9PT0gXCJ1bmRlZmluZWRcIixcclxuICAgICAgICAgICAgbHRJRTg6IHR5cGVvZiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciA9PT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9PT0gXCJ1bmRlZmluZWRcIixcclxuICAgICAgICAgICAgbHRJRTk6ICg8YW55PmRvY3VtZW50KS51bmlxdWVJRCAmJiB0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgPT09IFwidW5kZWZpbmVkXCIsXHJcbiAgICAgICAgICAgIGd0SUUxMDogKDxhbnk+ZG9jdW1lbnQpLnVuaXF1ZUlEICYmIHdpbmRvdy5tYXRjaE1lZGlhLFxyXG4gICAgICAgICAgICBUcmlkZW50OiAoPGFueT5kb2N1bWVudCkudW5pcXVlSUQsXHJcbiAgICAgICAgICAgIEdlY2tvOiBcIk1vekFwcGVhcmFuY2VcIiBpbiAoPGFueT5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLnN0eWxlLFxyXG4gICAgICAgICAgICBQcmVzdG86IGdsb2JhbC5vcGVyYSxcclxuICAgICAgICAgICAgQmxpbms6IGdsb2JhbC5jaHJvbWUsXHJcbiAgICAgICAgICAgIFdlYmtpdDogdHlwZW9mIGdsb2JhbC5jaHJvbWUgPT09IFwidW5kZWZpbmVkXCIgJiYgXCJXZWJraXRBcHBlYXJhbmNlXCIgaW4gKDxhbnk+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5zdHlsZSxcclxuICAgICAgICAgICAgVG91Y2g6IHR5cGVvZiBnbG9iYWwub250b3VjaHN0YXJ0ICE9PSBcInVuZGVmaW5lZFwiLFxyXG4gICAgICAgICAgICBNb2JpbGU6ICh0eXBlb2YgZ2xvYmFsLm9yaWVudGF0aW9uICE9PSBcInVuZGVmaW5lZFwiKSB8fCAodWEuaW5kZXhPZihcIldpbmRvd3MgUGhvbmVcIikgIT09IC0xKSxcclxuICAgICAgICAgICAgbHRBZDRfNDogdHlwZW9mIGdsb2JhbC5vcmllbnRhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiAodHlwZW9mIGdsb2JhbC5FdmVudFNvdXJjZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCAzMCA+IG1ham9yVmVyc2lvbihcImNocm9tZVwiKSksXHJcbiAgICAgICAgICAgIFBvaW50ZXI6IGdsb2JhbC5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQsXHJcbiAgICAgICAgICAgIE1TUG9uaXRlcjogZ2xvYmFsLm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkLFxyXG4gICAgICAgICAgICBBbmRyb2lkOiAodWEuaW5kZXhPZihcImFuZHJvaWRcIikgIT09IC0xKSxcclxuICAgICAgICAgICAgaU9TOiAodWEuaW5kZXhPZihcImlwaG9uZVwiKSAhPT0gLTEgfHwgdWEuaW5kZXhPZihcImlwYWRcIikgIT09IC0xIHx8IHVhLmluZGV4T2YoXCJpcG9kXCIpICE9PSAtMSksXHJcbiAgICAgICAgfTtcclxuICAgIH0pKCk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNkcDovLy9DRFAvRnJhbWV3b3JrL1BsYXRmb3JtLnRzIiwiLyogdHNsaW50OmRpc2FibGU6dHlwZWRlZiAqL1xyXG5cclxubmFtZXNwYWNlIENEUC5GcmFtZXdvcmsge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogdmNsaWNrIHBhdGNoXHJcbiAgICAgKi9cclxuICAgIGNvbnN0IF92Y2xpY2tQYXRjaCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICBjb25zdCBqcXVlcnlfb24gPSAkLmZuLm9uLFxyXG4gICAgICAgICAgICBqcXVlcnlfb2ZmID0gJC5mbi5vZmY7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1c3RvbV9vbiA9IGZ1bmN0aW9uICh0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAvKklOVEVSTkFMKi8gb25lKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZXMgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIHR5cGVzID0gdHlwZXMucmVwbGFjZSgvdmNsaWNrL2csIFwiY2xpY2tcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICg8YW55Pl8uYmluZChqcXVlcnlfb24sIHRoaXMpKSh0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCBvbmUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGN1c3RvbV9vZmYgPSBmdW5jdGlvbiAodHlwZXMsIHNlbGVjdG9yLCBmbikge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHR5cGVzID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlcyA9IHR5cGVzLnJlcGxhY2UoL3ZjbGljay9nLCBcImNsaWNrXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAoPGFueT5fLmJpbmQoanF1ZXJ5X29mZiwgdGhpcykpKHR5cGVzLCBzZWxlY3RvciwgZm4pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHJlcGxhY2UgZnVuY3Rpb25zLlxyXG4gICAgICAgICg8YW55PiQuZm4pLm9uID0gY3VzdG9tX29uO1xyXG4gICAgICAgICg8YW55PiQuZm4pLm9mZiA9IGN1c3RvbV9vZmY7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18vL1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBjbGFzcyBQYXRjaFxyXG4gICAgICogQGJyaWVmIHBhdGNoIGNsYXNzIGZvciBqcW0gZnJhbWV3b3JrLlxyXG4gICAgICogICAgICAgW3Jldmlld10gdmNsaWNrIOOBruODkeODg+ODgeOCkuW9k+OBpuOCi+OBk+OBqOOBjOOCj+OBi+OCi+OBqOOCiOOBhFxyXG4gICAgICovXHJcbiAgICBleHBvcnQgY2xhc3MgUGF0Y2gge1xyXG5cclxuICAgICAgICBzdGF0aWMgc192Y2xpY2tFdmVudCA9IFwidmNsaWNrXCI7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gcHVibGljIHN0YXRpYyBtZXRob2RzXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBBcHBseSBwYXRjaC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICog44OR44OD44OB44Gu6YGp55SoXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBhcHBseSgpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKCFQYXRjaC5pc1N1cHBvcnRlZFZjbGljaygpKSB7XHJcbiAgICAgICAgICAgICAgICBfdmNsaWNrUGF0Y2goKTtcclxuICAgICAgICAgICAgICAgIFBhdGNoLnNfdmNsaWNrRXZlbnQgPSBcImNsaWNrXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBpZiBcInZjbGlja1wiIGV2ZW50IGlzIHVuc3VwcG9ydGVkLCByZXR1cm5zIGZhbHNlLiBleDogQW5kcm9pZCA0LjQgKEtpdGthdClcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogXCJ2Y2xpY2tcIiBldmVudCDjgYzpnZ7jgrXjg53jg7zjg4jjgafjgYLjgosgcGxhdGZvcm0gKEtpdEthdCkg44GvIGZhbHNlIOOCkui/lOOBmeOAglxyXG4gICAgICAgICAqIGpRTSDjga4gdmVyc2lvbiB1cCDjgavjgojjgorjgIHop6PmsbrjgZXjgozjgovloLTlkIjjga/nhKHlirnjgYvjgZnjgovjgIJcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGlzU3VwcG9ydGVkVmNsaWNrKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICAvLyBmb3IgQW5kcm9pZCA0LjQrIChLaXRrYXQg772eKVxyXG4gICAgICAgICAgICBpZiAoUGxhdGZvcm0uQW5kcm9pZCAmJiAhUGxhdGZvcm0ubHRBZDRfNCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY2RwOi8vL0NEUC9GcmFtZXdvcmsvUGF0Y2gudHMiLCJuYW1lc3BhY2UgQ0RQLkZyYW1ld29yayB7XHJcbiAgICAvKipcclxuICAgICAqIEBlbnVtIE9yaWVudGF0aW9uXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBlbnVtIE9yaWVudGF0aW9uIHtcclxuICAgICAgICBQT1JUUkFJVCA9IDAsXHJcbiAgICAgICAgTEFORFNDQVBFID0gMSxcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIEdldCBPcmllbnRhdGlvbiBlbnVtIGNvZGVcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IE9yaWVudGF0aW9uIENvZGUuXHJcbiAgICAgKlxyXG4gICAgICogXFx+amFwYW5lc2VcclxuICAgICAqIE9yaWVudGF0aW9uIOOBruWPluW+l1xyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge051bWJlcn0gT3JpZW50YXRpb24gQ29kZS5cclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGdldE9yaWVudGF0aW9uKCk6IE9yaWVudGF0aW9uIHtcclxuICAgICAgICBjb25zdCAkd2luZG93ID0gJCh3aW5kb3cpO1xyXG4gICAgICAgIHJldHVybiAoJHdpbmRvdy53aWR0aCgpIDwgJHdpbmRvdy5oZWlnaHQoKSkgPyBPcmllbnRhdGlvbi5QT1JUUkFJVCA6IE9yaWVudGF0aW9uLkxBTkRTQ0FQRTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY2RwOi8vL0NEUC9GcmFtZXdvcmsvT3JpZW50YXRpb24udHMiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vQHR5cGVzL2pxdWVyeS5tb2JpbGUuZC50c1wiIC8+XHJcbi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCBmb3JpbiBuby1iaXR3aXNlICovXHJcblxyXG5uYW1lc3BhY2UgQ0RQIHtcclxuXHJcbiAgICBpbXBvcnQgUHJvbWlzZSA9IENEUC5Qcm9taXNlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICogVGhlIGZ1bmN0aW9uIHJldHVybmVkIFByb21pc2Ugd2FpdHMgdW50aWwgUGhvbmVHYXAgaXMgcmVhZHkuXHJcbiAgICAgKiBbTm90ZV0gZW11bGF0ZSB3aGVuIFBDIGVudmlyb21lbnQuXHJcbiAgICAgKlxyXG4gICAgICogXFx+amFwYW5lc2VcclxuICAgICAqIFBob25lR2FwIOOBjOacieWKueOBq+OBquOCi+OBvuOBp+W+heapn1xyXG4gICAgICogUEMg55Kw5aKD44Gn44Gv44Ko44Of44Ol44Os44O844OI44GV44KM44KL44CCXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiB3YWl0Rm9yRGV2aWNlUmVhZHkoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghQ0RQLkZyYW1ld29yay5QbGF0Zm9ybS5Nb2JpbGUpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBnbG9iYWwuY29yZG92YSB8fCBudWxsID09IGdsb2JhbC5jb3Jkb3ZhLmV4ZWMpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbmUoXCJkZXZpY2VyZWFkeVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IF9kZWZhdWx0QmFja0J1dHRvbkhhbmRsZXI6IChldmVudD86IEpRdWVyeS5FdmVudCkgPT4gdm9pZCA9IG51bGw7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgKiBTZXR1cCBIL1cgQmFjayBrZXkgaGFuZGxlci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gaGFuZGxlciBmdW5jdGlvbi5cclxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBvbGQgaGFuZGxlciBmdW5jdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBoYW5kbGVyIOaMh+Wumi5cclxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSDku6XliY3jga4gaGFuZGxlci5cclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNldEJhY2tCdXR0b25IYW5kbGVyKGhhbmRsZXI6IChldmVudD86IEpRdWVyeS5FdmVudCkgPT4gdm9pZCk6IChldmVudD86IEpRdWVyeS5FdmVudCkgPT4gdm9pZCB7XHJcbiAgICAgICAgY29uc3Qgb2xkSGFuZGxlciA9IF9kZWZhdWx0QmFja0J1dHRvbkhhbmRsZXI7XHJcbiAgICAgICAgX2RlZmF1bHRCYWNrQnV0dG9uSGFuZGxlciA9IGhhbmRsZXI7XHJcbiAgICAgICAgcmV0dXJuIG9sZEhhbmRsZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYmFjayBrZXkgaGFuZGxlciBpbXBsZW1lbnQuXHJcbiAgICAoKCkgPT4ge1xyXG4gICAgICAgIHdhaXRGb3JEZXZpY2VSZWFkeSgpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFwiYmFja2J1dHRvblwiLCAoZXZlbnQ6IEpRdWVyeS5FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGVmYXVsdEJhY2tCdXR0b25IYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kZWZhdWx0QmFja0J1dHRvbkhhbmRsZXIoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0pKCk7XHJcblxyXG5cclxuICAgIC8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vXHJcblxyXG5cclxuICAgIGV4cG9ydCBuYW1lc3BhY2UgRnJhbWV3b3JrIHtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGludGVyZmFjZSBQbGFpblNldHRpbmdzXHJcbiAgICAgICAgICogQGJyaWVmIGpRdWVyeSDjgavoqK3lrprlj6/og73jgarjgqrjg5fjgrfjg6fjg7NcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIFBsYWluU2V0dGluZ3M8VCA9IGFueT4ge1xyXG4gICAgICAgICAgICBba2V5OiBzdHJpbmddOiBUOyAgICAgICAgICAgICAgICAgICAvLyBhamF4U2V0dXAg5Lul5aSW44Gu44Kq44OX44K344On44OzXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAaW50ZXJmYWNlIEpRdWVyeVNldHRpbmdzXHJcbiAgICAgICAgICogQGJyaWVmIGpRdWVyeSDjgavoqK3lrprlj6/og73jgarjgqrjg5fjgrfjg6fjg7NcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIEpRdWVyeVNldHRpbmdzIGV4dGVuZHMgUGxhaW5TZXR0aW5ncyB7XHJcbiAgICAgICAgICAgIGFqYXhTZXR1cD86IEpRdWVyeS5BamF4U2V0dGluZ3M7ICAgIC8vICQuYWpheCDjga7ml6Llrprjgqrjg5fjgrfjg6fjg7NcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBpbnRlcmZhY2UgRnJhbWV3b3JrT3B0aW9uc1xyXG4gICAgICAgICAqIEBicmllZiBGcmFtZXdvcmsg44Gr6Kit5a6a5Y+v6IO944Gq44Kq44OX44K344On44OzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhwb3J0IGludGVyZmFjZSBGcmFtZXdvcmtPcHRpb25zIHtcclxuICAgICAgICAgICAganF1ZXJ5PzogSlF1ZXJ5U2V0dGluZ3M7XHJcbiAgICAgICAgICAgIGpxdWVyeW1vYmlsZT86IFBsYWluU2V0dGluZ3M7XHJcbiAgICAgICAgICAgIGkxOG4/OiBDRFAuSTE4TlNldHRpbmdzO1xyXG4gICAgICAgICAgICBhcHBseUpRdWVyeUNvbmZpZz86ICgpID0+IHZvaWQ7XHJcbiAgICAgICAgICAgIGFwcGx5SlF1ZXJ5TW9iaWxlQ29uZmlnPzogKCkgPT4gdm9pZDtcclxuICAgICAgICAgICAgYXBwbHlQYXRjaD86IGJvb2xlYW47XHJcbiAgICAgICAgICAgIGFuY2hvclZjbGljaz86IGJvb2xlYW47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbnRlcmZhY2UgT3JpZW50YXRpb25MaXN0ZW5lckhvbGRlciB7XHJcbiAgICAgICAgICAgIFtrZXk6IHN0cmluZ106IElPcmllbnRhdGlvbkNoYW5nZWRMaXN0ZW5lcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IFRBRyA9IFwiW0NEUC5GcmFtZXdvcmtdIFwiO1xyXG5cclxuICAgICAgICBsZXQgX2RmSW5pdGlhbGl6ZTogSlF1ZXJ5RGVmZXJyZWQ8dm9pZD4gPSAkLkRlZmVycmVkPHZvaWQ+KCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBJbml0aWFsaXphdGlvbiBmdW5jdGlvbiBvZiBGcmFtZXdvcmsuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIEZyYW1ld29yayDjga7liJ3mnJ/ljJbplqLmlbBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zIHtGcmFtZXdvcmtPcHRpb25zfSBbaW5dIG9wdGlvbnMgb2JqZWN0LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKG9wdGlvbnM/OiBGcmFtZXdvcmtPcHRpb25zKTogSVByb21pc2VCYXNlPHZvaWQ+IHtcclxuICAgICAgICAgICAgaWYgKFwicGVuZGluZ1wiICE9PSBfZGZJbml0aWFsaXplLnN0YXRlKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiA8YW55Pl9kZkluaXRpYWxpemUucHJvbWlzZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSBnZXRDb25maWcob3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICAvLyBDRFAg55Kw5aKD44Gu5Yid5pyf5YyWXHJcbiAgICAgICAgICAgIC8vIOePvueKtuOBr+OAgWNvbnNvbGUg44Kq44OW44K444Kn44Kv44OI44Gu5L+d6Ki844GoIGpRdWVyeSDjga4gV2luUlQg5a++5b+c44CCXHJcbiAgICAgICAgICAgIENEUC5pbml0aWFsaXplKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBGcmFtZXdvcmsg55So44GuIFBhdGNoIOmBqeeUqFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcuYXBwbHlQYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGcmFtZXdvcmsuUGF0Y2guYXBwbHkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGpRdWVyeSDjga7lhbHpgJroqK3lrppcclxuICAgICAgICAgICAgICAgICAgICBjb25maWcuYXBwbHlKUXVlcnlDb25maWcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8galF1ZXJ5IE1vYmlsZSDjga7liJ3mnJ/ljJZcclxuICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcIm1vYmlsZWluaXRcIiwgKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25maWcg44Gu5Y+N5pigXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5hcHBseUpRdWVyeU1vYmlsZUNvbmZpZygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2RwLmkxOG4g44Gu5Yid5pyf5YyWXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENEUC5pbml0aWFsaXplSTE4Tihjb25maWcuaTE4bilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hbHdheXMoKGluZm8pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpMThuZXh0IOOBruWIneacn+WMluaZguOBruOCqOODqeODvOOBr+eEoeimluOBmeOCiy4gaW5mbyDjgYwgYXJyYXkg44Gu5aC05ZCI44CB44Ko44Op44O85oOF5aCx44GM5qC857SN44GV44KM44Gm44GE44KLLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbmUoXCJwYWdlYmVmb3JlY2hhbmdlXCIsIChldmVudDogSlF1ZXJ5LkV2ZW50LCBkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8Q2hhbmdlUGFnZU9wdGlvbnM+ZGF0YS5vcHRpb25zKS5zaG93TG9hZE1zZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAub24oXCJwYWdlYmVmb3JlY3JlYXRlXCIsIChldmVudDogSlF1ZXJ5LkV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpMThuZXh044Op44Kk44OW44Op44Oq44Gr44KI44KLaHRtbCBmcmFnbWVudOOBrue/u+ios+WHpueQhlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDxhbnk+JChldmVudC50YXJnZXQpKS5sb2NhbGl6ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUm91dGVyIOOBruWIneacn+WMllxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSb3V0ZXIuaW5pdGlhbGl6ZSh7IGFuY2hvclZjbGljazogY29uZmlnLmFuY2hvclZjbGljaywgfSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RmSW5pdGlhbGl6ZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihUQUcgKyBcImVycm9yLiBDRFAuRnJhbWV3b3JrLlJvdXRlci5pbml0aWFsaXplKCkgZmFpbGVkLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RmSW5pdGlhbGl6ZS5yZWplY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RmSW5pdGlhbGl6ZSA9ICQuRGVmZXJyZWQ8dm9pZD4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgeyAvLyBqUXVlcnkgTW9iaWxlIOOBruODreODvOODiVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBqcXVlcnkgMytcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganF1ZXJ5TWFqb3IgPSB+fiQuZm4uanF1ZXJ5LnNwbGl0KFwiLlwiKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDMgPD0ganF1ZXJ5TWFqb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICg0IDw9IGpxdWVyeU1ham9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRyArIFwianF1ZXJ5LW1pZ3JhdGUgZm9yIDMuMC4wKyBpbiB1c2UuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZShbXCJqcXVlcnktbWlncmF0ZVwiXSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoW1wianF1ZXJ5Lm1vYmlsZVwiXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoW1wianF1ZXJ5Lm1vYmlsZVwiXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZmFpbDogKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihUQUcgKyBcImVycm9yLiBDRFAuaW5pdGlhbGl6ZSgpIGZhaWxlZC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgX2RmSW5pdGlhbGl6ZS5yZWplY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBfZGZJbml0aWFsaXplID0gJC5EZWZlcnJlZDx2b2lkPigpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gPGFueT5fZGZJbml0aWFsaXplLnByb21pc2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBDaGVjayBmb3IgaW5pdGlhbGl6YXRpb24gc3RhdHVzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZTogaW5pdGlhbGl6ZWQgLyBmYWxzZTogdW5pbml0aWFsaXplZFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDliJ3mnJ/ljJbmuIjjgb/jgYvliKTlrppcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWU6IOWIneacn+WMlua4iOOBvyAvIGZhbHNlOiDmnKrliJ3mnJ/ljJZcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gaXNJbml0aWFsaXplZCgpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwicmVzb2x2ZWRcIiA9PT0gX2RmSW5pdGlhbGl6ZS5zdGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIFdhaXQgZm9yIGluaXRpYWxpemF0aW9uIHN0YXR1cy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge0lQcm9taXNlQmFzZTx2b2lkPn1cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICog5Yid5pyf5YyW5b6F44GhXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtJUHJvbWlzZUJhc2U8dm9pZD59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIHdhaXRGb3JJbml0aWFsaXplKCk6IElQcm9taXNlQmFzZTx2b2lkPiB7XHJcbiAgICAgICAgICAgIHJldHVybiA8YW55Pl9kZkluaXRpYWxpemUucHJvbWlzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgX29yaWVudGF0aW9uTGlzdGVuZXJIb2xkZXI6IE9yaWVudGF0aW9uTGlzdGVuZXJIb2xkZXIgPSB7fTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIFJlZ2lzdGVyIElPcmllbnRhdGlvbkNoYW5nZWRMaXN0ZW5lciB0byBmcmFtZXdvcmsuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ga2V5ICAgICAge1N0cmluZ30gICAgICAgICAgICAgICAgICAgICAgW2luXSBJRCBrZXlcclxuICAgICAgICAgKiBAcGFyYW0gbGlzdGVuZXIge0lPcmllbnRhdGlvbkNoYW5nZWRMaXN0ZW5lcn0gW2luXSBJT3JpZW50YXRpb25DaGFuZ2VkTGlzdGVuZXIgaW5zdGFuY2VcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogSU9yaWVudGF0aW9uQ2hhbmdlZExpc3RlbmVyIOOCkiBGcmFtZXdvcmsg44Gr55m76YyyXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ga2V5ICAgICAge1N0cmluZ30gICAgICAgICAgICAgICAgICAgICAgW2luXSBJRCBrZXlcclxuICAgICAgICAgKiBAcGFyYW0gbGlzdGVuZXIge0lPcmllbnRhdGlvbkNoYW5nZWRMaXN0ZW5lcn0gW2luXSBJT3JpZW50YXRpb25DaGFuZ2VkTGlzdGVuZXIgaW5zdGFuY2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJPcmllbnRhdGlvbkNoYW5nZWRMaXN0ZW5lcihrZXk6IHN0cmluZywgbGlzdGVuZXI6IElPcmllbnRhdGlvbkNoYW5nZWRMaXN0ZW5lcik6IHZvaWQge1xyXG4gICAgICAgICAgICBfb3JpZW50YXRpb25MaXN0ZW5lckhvbGRlcltrZXldID0gbGlzdGVuZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogVW5yZWdpc3RlciBJT3JpZW50YXRpb25DaGFuZ2VkTGlzdGVuZXIgZnJvbSBmcmFtZXdvcmsuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ga2V5IHtTdHJpbmd9IFtpbl0gSUQga2V5XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIElPcmllbnRhdGlvbkNoYW5nZWRMaXN0ZW5lciDjgpIgRnJhbWV3b3JrIOOBi+OCieeZu+mMsuino+mZpFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGtleSB7U3RyaW5nfSBbaW5dIElEIGtleVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiB1bnJlZ2lzdGVyT3JpZW50YXRpb25DaGFuZ2VkTGlzdGVuZXIoa2V5OiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICAgICAgZGVsZXRlIF9vcmllbnRhdGlvbkxpc3RlbmVySG9sZGVyW2tleV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgX2FjdGl2ZVBhZ2U6IElQYWdlID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIFNldHVwIGV2ZW50IGhhbmRsZXJzIHdoZW4gYWZ0ZXIgcm91dGVyIGluaXRpYWxpemVkLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICog44Kk44OZ44Oz44OI44OP44Oz44OJ44Op44Gu6Kit5a6aLiBSb3V0ZXIg5Yid5pyf5YyW5b6M44GrIEZyYW1ld29yayDjgYzjgrPjg7zjg6vjgZnjgosuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBzZXR1cEV2ZW50SGFuZGxlcnMoKTogdm9pZCB7XHJcbiAgICAgICAgICAgICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRCYWNrQnV0dG9uSGFuZGxlciA9IENEUC5zZXRCYWNrQnV0dG9uSGFuZGxlcihudWxsKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VCYWNrQnV0dG9uSGFuZGxlciA9IChldmVudD86IEpRdWVyeS5FdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfYWN0aXZlUGFnZSAmJiBfYWN0aXZlUGFnZS5vbkhhcmR3YXJlQmFja0J1dHRvbihldmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g44Kv44Op44Kk44Ki44Oz44OI5YG044Gn44OP44Oz44OJ44Oq44Oz44Kw5riI44G/44Go5oyH5a6a44GV44KM44Gf5aC05ZCI44CB5pei5a6a44Gu5Yem55CG44KS6KGM44KP44Gq44GEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRCYWNrQnV0dG9uSGFuZGxlcihldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIENEUC5zZXRCYWNrQnV0dG9uSGFuZGxlcihiYXNlQmFja0J1dHRvbkhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9KSgpO1xyXG4gICAgICAgICAgICAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkUm91dGVDaGFuZ2VIYW5kbGVyID0gQ0RQLkZyYW1ld29yay5zZXRCZWZvcmVSb3V0ZUNoYW5nZUhhbmRsZXIobnVsbCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlUm91dGVDaGFuZ2VIYW5kbGVyID0gKCk6IElQcm9taXNlQmFzZTxhbnk+ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX2FjdGl2ZVBhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9hY3RpdmVQYWdlLm9uQmVmb3JlUm91dGVDaGFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2xkUm91dGVDaGFuZ2VIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIENEUC5GcmFtZXdvcmsuc2V0QmVmb3JlUm91dGVDaGFuZ2VIYW5kbGVyKGJhc2VSb3V0ZUNoYW5nZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9KSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IF9sYXN0T3JpZW50YXRpb246IE9yaWVudGF0aW9uID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIFNldHVwIGFjdGl2ZSBJUGFnZSBpbnN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHBhcmFtIHBhZ2Uge0lQYWdlfSBbaW5dIElQYWdlIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBhY3RpdmUgUGFnZSDjga7oqK3lrpouIEZyYW1ld29yayDjgYzjgrPjg7zjg6vjgZnjgosuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEBwYXJhbSBwYWdlIHtJUGFnZX0gW2luXSBJUGFnZSBpbnN0YW5jZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gc2V0QWN0aXZlUGFnZShwYWdlOiBJUGFnZSk6IHZvaWQge1xyXG4gICAgICAgICAgICBfYWN0aXZlUGFnZSA9IHBhZ2U7XHJcbiAgICAgICAgICAgIGlmIChfYWN0aXZlUGFnZSkge1xyXG4gICAgICAgICAgICAgICAgX2xhc3RPcmllbnRhdGlvbiA9IGdldE9yaWVudGF0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBSZXRlcm5zIGZyYW1ld29yayBkZWZhdWx0IGNsaWNrIGV2ZW50IHN0cmluZy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIEZyYW1ld29yayDjgYzml6Llrprjgavkvb/nlKjjgZnjgovjgq/jg6rjg4Pjgq/jgqTjg5njg7Pjg4jmloflrZfliJfjgpLlj5blvpdcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHJldHVybiB7U3RyaW5nfSBcInZjbGlja1wiIC8gXCJjbGlja1wiXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRDbGlja0V2ZW50KCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiBQYXRjaC5zX3ZjbGlja0V2ZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IF9wYWdlQ29uc3RydWN0b3JzOiAobmV3ICgpID0+IElQYWdlKVtdID0gW107XHJcbiAgICAgICAgbGV0IF9wYWdlSW5zdGFuY2VzOiBJUGFnZVtdID0gW107XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFBhZ2Ug44Gu55m76YyyXHJcbiAgICAgICAgICogY29uc3RydWN0b3Ig44KS5oyH5a6a44GZ44KLLiDlvJXmlbDjgYzjgYLjgovloLTlkIjjga/jgIFiaW5kIOOCkuihjOOBhuOBk+OBqFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtjb25zdHJ1Y3Rvcn0gY3RvciBbaW5dIOOCs+ODs+OCueODiOODqeOCr+OCv+OCkuaMh+WumlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclBhZ2VzKGN0b3I6IG5ldyAoKSA9PiBJUGFnZSk6IHZvaWQge1xyXG4gICAgICAgICAgICBfcGFnZUNvbnN0cnVjdG9ycy5wdXNoKGN0b3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5LqI57SE44GV44KM44Gf44Kz44Oz44K544OI44Op44Kv44K/44GL44KJUGFnZSDjgqTjg7Pjgrnjgr/jg7PjgrnjgpLnlJ/miJBcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gY29uc3RydWN0UGFnZXMoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIF9wYWdlQ29uc3RydWN0b3JzLmZvckVhY2goKGN0b3I6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgX3BhZ2VJbnN0YW5jZXMucHVzaChuZXcgY3RvcigpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF9wYWdlQ29uc3RydWN0b3JzID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBQYWdlIOOCpOODs+OCueOCv+ODs+OCueOBruWPgueFp+OCkuegtOajhFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBkaXNwb3NlUGFnZXMoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIF9wYWdlSW5zdGFuY2VzID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogR2V0IENvbmZpZyBvYmplY3QuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEByZXR1cm4ge0ZyYW1ld29ya09wdGlvbnN9IENvbmZpZyBvYmplY3QuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIENvbmZpZyBvYmplY3Qg44Gu5Y+W5b6XXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEByZXR1cm4ge0ZyYW1ld29ya09wdGlvbnN9IENvbmZpZyBvYmplY3QuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0Q29uZmlnKG9wdGlvbnM6IEZyYW1ld29ya09wdGlvbnMpOiBGcmFtZXdvcmtPcHRpb25zIHtcclxuICAgICAgICAgICAgY29uc3QgZGVmQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgLy8gZm9yIGZhaWwgc2FmZSwgZGVmYXVsdCBzZXR0aW5ncy5cclxuICAgICAgICAgICAgICAgIGpxdWVyeToge1xyXG4gICAgICAgICAgICAgICAgICAgIGFqYXhTZXR1cDogeyBjYWNoZTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgICAgICBtaWdyYXRlTXV0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAganF1ZXJ5bW9iaWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dDcm9zc0RvbWFpblBhZ2VzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRQYWdlVHJhbnNpdGlvbjogXCJub25lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzaExpc3RlbmluZ0VuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hTdGF0ZUVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICBpMThuOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2tSZXNvdXJjZXM6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHt9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICBhcHBseVBhdGNoOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYW5jaG9yVmNsaWNrOiB0cnVlLFxyXG5cclxuICAgICAgICAgICAgICAgIGFwcGx5SlF1ZXJ5Q29uZmlnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4U2V0dXAodGhpcy5qcXVlcnkuYWpheFNldHVwKTtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmpxdWVyeSkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImFqYXhTZXR1cFwiICE9PSBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRba2V5XSA9IHRoaXMuanF1ZXJ5W2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgYXBwbHlKUXVlcnlNb2JpbGVDb25maWc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkLm1vYmlsZS5sb2FkZXIucHJvdG90eXBlLm9wdGlvbnMudGV4dCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmpxdWVyeW1vYmlsZSkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQubW9iaWxlW2tleV0gPSB0aGlzLmpxdWVyeW1vYmlsZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAkLmV4dGVuZCh7fSwgZGVmQ29uZmlnLCBDRFAuQ29uZmlnLCBvcHRpb25zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gY2xvc3VyZSBtZXRob2RzXHJcblxyXG4gICAgICAgIC8vIHJlc2l6ZSBoYW5kbGVyXHJcbiAgICAgICAgJCh3aW5kb3cpLm9uKFwicmVzaXplXCIsIChldmVudDogSlF1ZXJ5LkV2ZW50KTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld09yaWVudGF0aW9uID0gZ2V0T3JpZW50YXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKF9sYXN0T3JpZW50YXRpb24gIT09IG5ld09yaWVudGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBfb3JpZW50YXRpb25MaXN0ZW5lckhvbGRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIF9vcmllbnRhdGlvbkxpc3RlbmVySG9sZGVyW2tleV0ub25PcmllbnRhdGlvbkNoYW5nZWQobmV3T3JpZW50YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKF9hY3RpdmVQYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2FjdGl2ZVBhZ2Uub25PcmllbnRhdGlvbkNoYW5nZWQobmV3T3JpZW50YXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgX2xhc3RPcmllbnRhdGlvbiA9IG5ld09yaWVudGF0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIGNkcDovLy9DRFAvRnJhbWV3b3JrL0NvcmVBUEkudHMiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vQHR5cGVzL2pxdWVyeS5tb2JpbGUuZC50c1wiIC8+XHJcbi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCBuby1zdHJpbmctbGl0ZXJhbCAqL1xyXG5cclxubmFtZXNwYWNlIENEUC5GcmFtZXdvcmsge1xyXG5cclxuICAgIGltcG9ydCBQcm9taXNlID0gQ0RQLlByb21pc2U7XHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8vIGNsb3N1cmUgbWV0aG9kc1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICogQ29udmVydCBwYXRoIHRvIFVSTC5cclxuICAgICAqIElmIHRoZSBwYXRoIHN0YXJ0cyBmcm9tIFwiL1wiLCB0aGUgZnVuY3Rpb24gdHJhbnNsYXRlIHRoZSBwYXRoIGFzIGNoaWxkIGZvbGRlciBvZiBcIndlYiByb290XCIuXHJcbiAgICAgKiBPdGhlcndpc2UsIGl0IGludGVycHJldHMgYXMgcmVsYXRpdmUgcGF0aCBmcm9tIGN1cnJlbnQgcGFnZS5cclxuICAgICAqIFtOb3RlXSBUaGlzIGJlaGF2aW9yIGdvIGFsb25nIHdpdGggalFNLCBOT1Qgd2l0aCByZXF1aXJlLnRvVXJsKCkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHBhdGgge1N0cmluZ30gW2luXSBwYXRoIHN0cmluZ1xyXG4gICAgICpcclxuICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgKiBwYXRoIOOCkiBVUkwg44Gr5aSJ5o+bXHJcbiAgICAgKiBcIi9cIiDjgYvjgonlp4vjgb7jgovjgoLjga7jga8gd2ViIHJvb3Qg44GL44KJ44CB44Gd44KM5Lul5aSW44Gv54++5Zyo44Gu44Oa44O844K444GL44KJ57W25a++44OR44K5VVJM44Gr5aSJ5o+b44GZ44KL44CCXHJcbiAgICAgKiBqUU0g44Gu5oyZ5YuV44Gr44GC44KP44Gb44Gm44GK44KK44CBcmVxdWlyZS50b1VybCgpIOOBqOeVsOOBquOCi+OBruOBp+azqOaEj+OAglxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwYXRoIHtTdHJpbmd9IFtpbl0g44OR44K544KS5oyH5a6a44CCXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiB0b1VybChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmIChudWxsICE9IHBhdGhbMF0gJiYgXCIvXCIgPT09IHBhdGhbMF0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIENEUC53ZWJSb290ICsgcGF0aC5zbGljZSgxKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gJC5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUocGF0aCwgZ2V0Q3VycmVudERvY3VtZW50VXJsKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIEdldCBjdXJyZW50IGRvY3VtZW50IHVybC5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICpcclxuICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgKiDnj77lnKjooajnpLrjgZfjgabjgYTjgovjg4njgq3jg6Xjg6Hjg7Pjg4jjga4gVVJMIOOCkuWPluW+l1xyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldEN1cnJlbnREb2N1bWVudFVybCgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0ICRhY3RpdmVQYWdlID0gKDxhbnk+JChcImJvZHlcIikpLnBhZ2Vjb250YWluZXIoXCJnZXRBY3RpdmVQYWdlXCIpO1xyXG4gICAgICAgIGlmIChudWxsID09ICRhY3RpdmVQYWdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkLm1vYmlsZS5wYXRoLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYmFzZSA9ICQubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2g7XHJcbiAgICAgICAgbGV0IHVybCA9ICQubW9iaWxlLmFjdGl2ZVBhZ2UuY2xvc2VzdChcIi51aS1wYWdlXCIpLmpxbURhdGEoXCJ1cmxcIik7XHJcblxyXG4gICAgICAgIGlmICghdXJsIHx8ICEkLm1vYmlsZS5wYXRoLmlzUGF0aCh1cmwpKSB7XHJcbiAgICAgICAgICAgIHVybCA9IGJhc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gJC5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUodXJsLCBiYXNlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIERlZmF1bHQgXCJiZWZvcmUgcm91dGUgY2hhbmdlXCIgaGFuZGxlci5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICpcclxuICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgKiDml6Llrprjga4gXCJiZWZvcmUgcm91dGUgY2hhbmdlXCIg44OP44Oz44OJ44OpXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgbGV0IF9iZWZvcmVSb3V0ZUNoYW5nZSA9ICgpOiBJUHJvbWlzZUJhc2U8YW55PiA9PiB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBkZWZhdWx0IFwiYmVmb3JlIHJvdXRlIGNoYW5nZVwiIGhhbm5kbGVyXHJcbiAgICBjb25zdCBfZGVmYXVsdEJlZm9yZVJvdXRlQ2hhbmdlID0gX2JlZm9yZVJvdXRlQ2hhbmdlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICogU2V0dXAgXCJiZWZvcmUgcm91dGUgY2hhbmdlXCIgaGFuZGxlci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gaGFuZGxlciBmdW5jdGlvbi5cclxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBvbGQgaGFuZGxlciBmdW5jdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogXCJiZWZvcmUgcm91dGUgY2hhbmdlXCIg44OP44Oz44OJ44Op6Kit5a6aXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGhhbmRsZXIg5oyH5a6aLlxyXG4gICAgICogQHJldHVybiB7RnVuY3Rpb259IOS7peWJjeOBriBoYW5kbGVyLlxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gc2V0QmVmb3JlUm91dGVDaGFuZ2VIYW5kbGVyKGhhbmRsZXI6ICgpID0+IElQcm9taXNlQmFzZTxhbnk+KTogKCkgPT4gSVByb21pc2VCYXNlPGFueT4ge1xyXG4gICAgICAgIGlmIChudWxsID09IGhhbmRsZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9iZWZvcmVSb3V0ZUNoYW5nZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBvbGRIYW5kbGVyID0gX2JlZm9yZVJvdXRlQ2hhbmdlO1xyXG4gICAgICAgICAgICBfYmVmb3JlUm91dGVDaGFuZ2UgPSBoYW5kbGVyO1xyXG4gICAgICAgICAgICByZXR1cm4gb2xkSGFuZGxlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fLy9cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIEBpbnRlcmZhY2UgSW5pdE9wdGlvbnNcclxuICAgICAqIEBicmllZiBpbml0aWFsaXplIG9wdGlvbiBkZWZpbml0aW9uLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogQGludGVyZmFjZSBJbml0T3B0aW9uc1xyXG4gICAgICogQGJyaWVmIOWIneacn+WMluOCquODl+OCt+ODp+ODs1xyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgaW50ZXJmYWNlIEluaXRPcHRpb25zIHtcclxuICAgICAgICBhbmNob3JWY2xpY2s/OiBib29sZWFuOyAgICAvLyE8IOaal+m7meOBriBhbmNob3IgdmNsaWNrIOOCkuOCteODneODvOODiFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICogQGludGVyZmFjZSBSb3V0ZUNvbnRleHRcclxuICAgICAqIEBicmllZiBNYW5hZ2VtZW50IGluZm8gZm9yIHBhZ2UuXHJcbiAgICAgKiAgICAgICAgVGhpcyBpbnRlcmZhY2Ugcm9sZSBpcyBub3Qgc2FtZSBhcyBCYWNrYm9uZS5Sb3V0ZXIucm91dGVzLlxyXG4gICAgICogICAgICAgIFVzaW5nIGZvciByZXNvbHZpbmcgcmVsYXRpb24gYSBrbm93biBmcmFnbWVudCB2YWx1ZSBhbmQgYSBwYWdlIHBhdGguXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICpcclxuICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgKiBAaW50ZXJmYWNlIFJvdXRlQ29udGV4dFxyXG4gICAgICogQGJyaWVmIOODmuODvOOCuOeuoeeQhuaDheWgsVxyXG4gICAgICogICAgICAgIEJhY2tib25lLlJvdXRlci5yb3V0ZXMg44Go5ZCM44GY5b255Ymy44Gn44Gv44Gq44GE44CCXHJcbiAgICAgKiAgICAgICAg6YG356e744GX44Gf44GT44Go44GM44GC44KL44OV44Op44Kw44Oh44Oz44OI5YCk44Go44Oa44O844K444Gu44OR44K544Gu6Kej5rG644Gr5L2/55So44GV44KM44KL44CCXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBpbnRlcmZhY2UgUm91dGVDb250ZXh0IHtcclxuICAgICAgICByb3V0ZTogc3RyaW5nO1xyXG4gICAgICAgIHJlZ2V4cDogUmVnRXhwO1xyXG4gICAgICAgIHBhZ2U6IHN0cmluZztcclxuICAgICAgICB0b3A6IGJvb2xlYW47XHJcbiAgICAgICAgY2FsbGJhY2s6ICguLi5hcmdzOiBhbnlbXSkgPT4gYm9vbGVhbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIEBpbnRlcmZhY2UgTmF2aWdhdGVJbmZvXHJcbiAgICAgKiBAYnJpZWYgU3RvcmVkIGFkZGl0aW9uYWwgaW5mbyBpbnRlcmZhY2Ugb24gbmF2aWdhdGUuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICpcclxuICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgKiBAaW50ZXJmYWNlIE5hdmlnYXRlSW5mb1xyXG4gICAgICogQGJyaWVmIOODmuODvOOCuOmBt+enu+OBq+mWouOBmeOCi+S7mOWKoOaDheWgseOCkuagvOe0jeOBmeOCi+OCpOODs+OCv+ODvOODleOCp+OCpOOCuVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgaW50ZXJmYWNlIE5hdmlnYXRlSW5mbyB7XHJcbiAgICAgICAgdXJsPzogc3RyaW5nO1xyXG4gICAgICAgIHRyYW5zaXRpb24/OiBzdHJpbmc7XHJcbiAgICAgICAgcmV2ZXJzZT86IGJvb2xlYW47XHJcbiAgICAgICAgYmFja0Rlc3RpbmF0aW9uPzogc3RyaW5nO1xyXG4gICAgICAgIG5vSGFzaENoYW5nZT86IGJvb2xlYW47XHJcbiAgICAgICAgaW50ZW50PzogSW50ZW50O1xyXG4gICAgICAgIC8vIHN0YXR1cyBwYXJhbXNcclxuICAgICAgICBwb3NpdGl2ZU5hdmlnYXRlPzogYm9vbGVhbjtcclxuICAgICAgICBjYWxsZWRCZWZvcmVSb3V0ZUNoYW5nZT86IGJvb2xlYW47XHJcbiAgICAgICAgaW5OYXZpZ2F0aW9uPzogYm9vbGVhbjtcclxuICAgICAgICBpbkFkZGl0aW9uYWxCYWNrPzogYm9vbGVhbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIEBpbnRlcmZhY2UgU3ViRmxvd1BhcmFtRXhcclxuICAgICAqIEBicmllZiBFeHRlbmVkIFN1YkZsb3dQYXJhbSBpbnRlcmZhY2UgaW4gRnJhbWV3b3JrIHVzZS5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKlxyXG4gICAgICogXFx+amFwYW5lc2VcclxuICAgICAqIEBpbnRlcmZhY2UgU3ViRmxvd1BhcmFtRXhcclxuICAgICAqIEBicmllZiBGcmFtZXdvcmsg44GM5L2/55So44GZ44KLIFN1YkZsb3dQYXJhbSDmi6HlvLXjgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrlcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGludGVyZmFjZSBTdWJGbG93UGFyYW1FeCBleHRlbmRzIFN1YkZsb3dQYXJhbSB7XHJcbiAgICAgICAgYWRkaXRpb25hbERpc3RhbmNlPzogbnVtYmVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgKiBAY2xhc3MgUm91dGVyXHJcbiAgICAgKiBAYnJpZWYgUm91dGVyIGNsYXNzIGZvciBhZGp1c3RpbmcgalF1ZXJ5TW9iaWxlIGZ1bmN0aW9ucyBhbmQgQmFja2JvbmUuUm91dGVyIGZ1bmN0aW9ucy5cclxuICAgICAqICAgICAgICBFdmVuIGlmIEJhY2tib25lLlJvdXRlciBkb2VzIG5vdCBzdGFydCByb3V0aW5nLCBuYXRpZ2F0ZSgpIG1ldGhvZCB3b3JrcyBnb29kIHdpdGggalFNIGZyYW1ld29yay5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogQGNsYXNzIFJvdXRlclxyXG4gICAgICogQGJyaWVmIGpRdWVyeU1vYmlsZSDjgaggQmFja2JvbmUuUm91dGVyIOOCkuiqv+WBnOOBmeOCiyBSb3V0ZXIg44Kv44Op44K5XHJcbiAgICAgKiAgICAgICAg44Or44O844OG44Kj44Oz44Kw44KS6ZaL5aeL44GX44Gm44GE44Gq44GE5aC05ZCI44Gr44KC44CBbmF2aWdhdGUoKSDjga8galFNIOODleODrOODvOODoOODr+ODvOOCr+OCkuS9v+eUqOOBl+OBpuapn+iDveOBmeOCi+OAglxyXG4gICAgICovXHJcbiAgICBleHBvcnQgY2xhc3MgUm91dGVyIHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgc19pbml0T3B0aW9uczogSW5pdE9wdGlvbnMgPSB7fTtcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBzX3JvdXRlcjogQmFja2JvbmUuUm91dGVyID0gbnVsbDtcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBzX3Jvb3RDb250ZXh0czogT2JqZWN0ID0ge307XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgc19sYXN0TmF2aWdhdGVJbmZvOiBOYXZpZ2F0ZUluZm8gPSB7fTtcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBzX2xhc3RDbGlja2VkVGltZTogbnVtYmVyID0gbnVsbDtcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBzX2xhc3RJbnRlbnQ6IEludGVudCA9IHt9O1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHNfbG9hZFVybDogKGZyYWdtZW50OiBzdHJpbmcpID0+IGJvb2xlYW4gPSBudWxsO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHNfYmFjazogKCkgPT4gdm9pZCA9IG51bGw7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgREVMQVlfVElNRSA9IDIwMDsgICAgICAgIC8vIFRCRDog5pqr5a6a5YCkXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgREFUQV9CQUNLX0RFU1RJTkFUSU9OID0gXCJkYXRhLWJhY2stZHN0XCI7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgREFUQV9OT19IQVNIX0NIQU5HRSA9IFwiZGF0YS1uby1oYXNoLWNoYW5nZVwiO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIERBVEFfTk9fVkNMSUNLX0hBTkRMRSA9IFwiZGF0YS1uby12Y2xpY2staGFuZGxlXCI7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgQkFDS19ERVNUSU5BVElPTl9VUkwgPSBcImJhY2tEc3RVcmxcIjtcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBTVUJGTE9XX1BBUkFNID0gXCJzdWJGbG93UGFyYW1cIjtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgc19kZWZhdWx0SW5pdE9wdGlvbnM6IEluaXRPcHRpb25zID0ge1xyXG4gICAgICAgICAgICBhbmNob3JWY2xpY2s6IHRydWUsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgc19kZWZhdWx0TmF2aWdhdGVPcHRpb25zOiBOYXZpZ2F0ZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIHRyaWdnZXI6IHRydWUsXHJcbiAgICAgICAgICAgIHJlcGxhY2U6IGZhbHNlLFxyXG4gICAgICAgICAgICBpbnRlbnQ6IG51bGwsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBwdWJsaWMgc3RhdGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIGZvciBpbml0aWFsaXplIFJvdXRlci4gdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgaW4gZnJhbWV3b3JrLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZTogc3VjY2VlZGVkIC8gZmFsc2U6IGZhaWxlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICog5Yid5pyf5YyWXHJcbiAgICAgICAgICog44GT44Gu6Zai5pWw44Gv44OV44Os44O844Og44Ov44O844Kv5YaF6YOo44Gn5L2/55So44GV44KM44KL44CCXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gIG9wdGlvbnMge09iamVjdH0gW2luXSDjgqrjg5fjgrfjg6fjg7NcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSDmiJDlkKZcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGluaXRpYWxpemUob3B0aW9uczogYW55KTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIGNvbnN0ICRib2R5ID0gJChcImJvZHlcIik7XHJcbiAgICAgICAgICAgIGlmICghIVJvdXRlci5zX3JvdXRlcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwibG9naWMgZXJyb3IuIGluaXRpYWxpemUgY2FsbCB0d2ljZS5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIFJvdXRlci5zX2luaXRPcHRpb25zID0gJC5leHRlbmQoe30sIFJvdXRlci5zX2RlZmF1bHRJbml0T3B0aW9ucywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICAvLyBCYWNrYm9uZS5Sb3V0ZXIg44GM44CBcm91dGUg44KS6Kej5rG644Gn44GN44Gq44GL44Gj44Gf5aC05ZCI44Gr44KC6YCa55+l44KS5o2V5o2J44GZ44KL44Gf44KB44Gu44Kz44O844Or44OQ44OD44Kv44KS6Kit5a6aXHJcbiAgICAgICAgICAgIFJvdXRlci5zX2xvYWRVcmwgPSBfLmJpbmQoQmFja2JvbmUuaGlzdG9yeS5sb2FkVXJsLCBCYWNrYm9uZS5oaXN0b3J5KTtcclxuICAgICAgICAgICAgQmFja2JvbmUuaGlzdG9yeS5sb2FkVXJsID0gUm91dGVyLmN1c3RvbUxvYWRVcmw7XHJcbiAgICAgICAgICAgIFJvdXRlci5zX3JvdXRlciA9IG5ldyBCYWNrYm9uZS5Sb3V0ZXIoKTtcclxuICAgICAgICAgICAgUm91dGVyLnNfcm91dGVyLm9uKFwicm91dGVcIiwgUm91dGVyLm9uUm91dGVTdWNjZWVkZWQpO1xyXG5cclxuICAgICAgICAgICAgLy8gQmFja2JvbmUuUm91dGVyIOOCkuS9v+eUqOOBl+OBpuOBhOOCi+WgtOWQiOOAgSQubW9iaWxlLmJhY2soKSDjga7mjJnli5XjgpLjg5bjg6njgqbjgrbjga5b5oi744KLXeOBq+e1seS4gFxyXG4gICAgICAgICAgICBpZiAoISQubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICBSb3V0ZXIuc19iYWNrID0gXy5iaW5kKCQubW9iaWxlLmJhY2ssICQubW9iaWxlKTtcclxuICAgICAgICAgICAgICAgICQubW9iaWxlLmJhY2sgPSBSb3V0ZXIuY3VzdG9tSnFtQmFjaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gY2hhbmdlUGFnZSDjgpLjgrXjg53jg7zjg4hcclxuICAgICAgICAgICAgaWYgKG51bGwgPT0gJC5tb2JpbGUuY2hhbmdlUGFnZSkge1xyXG4gICAgICAgICAgICAgICAgJC5tb2JpbGUuY2hhbmdlUGFnZSA9ICh0bzogYW55LCBvcHQ/OiBDaGFuZ2VQYWdlT3B0aW9ucyk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICg8YW55PiRib2R5KS5wYWdlY29udGFpbmVyKFwiY2hhbmdlXCIsIHRvLCBvcHQpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgUm91dGVyLmJpbmRFdmVudHMoKTtcclxuICAgICAgICAgICAgLy8gRnJhbWV3b3JrIOOBruOCpOODmeODs+ODiOODj+ODs+ODieODqeOCkuabtOaWsFxyXG4gICAgICAgICAgICBGcmFtZXdvcmsuc2V0dXBFdmVudEhhbmRsZXJzKCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBSZWdpc3RlciB0byBSb3V0ZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gcm91dGUgICAge1N0cmluZ30gICBbaW5dIHJvdXRlIHN0cmluZywgaXQgY2FuIGJlIHJlZ3VsYXIgZXhwcmVzc2lvbi5cclxuICAgICAgICAgKiBAcGFyYW0gcGFnZSAgICAge1N0cmluZ30gICBbaW5dIHBhZ2UgdGVtcGxhdGUgcGF0aC5cclxuICAgICAgICAgKiBAcGFyYW0gdG9wICAgICAge0Jvb2xlYW59ICBbaW5dIHNldCBcInRydWVcIiBpZiBhcHBsaWNhdGlvbidzIHRvcCB2aWV3LiAob3B0aW9uYWwpXHJcbiAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn0gW2luXSBjYWxsYmFjayBmb3IgY3VzdG9tIHBhZ2UgdHJhbnNpdGlvbi4gSWYgeW91IGRvbid0IHdhbnQgdG8gdHJpZ2dlciBqUU0uY2hhbmdlUGFnZSgpLCByZXR1cm4gdHJ1ZSBieSB0aGlzIGNhbGxiYWNrLiAob3B0aW9uYWwpXHJcbiAgICAgICAgICogQHJldHVybiB7Um91dGVyfSBSb3V0ZXIgaW5zdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOeZu+mMslxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHJvdXRlICAgIHtTdHJpbmd9ICAgW2luXSDjg6vjg7zjg4bjgqPjg7PjgrDmloflrZfliJcgLyDmraPopo/ooajnj75cclxuICAgICAgICAgKiBAcGFyYW0gcGFnZSAgICAge1N0cmluZ30gICBbaW5dIHBhZ2UgdGVtcGxhdGUgcGF0aC4g44Kk44OZ44Oz44OI5ZCN44Gr44KC5L2/55So44GV44KM44KLXHJcbiAgICAgICAgICogQHBhcmFtIHRvcCAgICAgIHtCb29sZWFufSAgW2luXSBUb3Ag44Oa44O844K444Gu5aC05ZCI44GvIHRydWUg44KS5oyH5a6aICjku7vmhI8pXHJcbiAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn0gW2luXSDpgbfnp7vjgpLoh6rouqvjgafnrqHnkIbjgZnjgovloLTlkIjjgavmjIflrprjgZfjgIHmiLvjgorlgKTjgpIgdHJ1ZSDjgavoqK3lrprjgZnjgovjgaggY2hhbmdlUGFnZSDjgpLjgrPjg7zjg6vjgZfjgarjgYQgKOS7u+aEjylcclxuICAgICAgICAgKiBAcmV0dXJuIHtSb3V0ZXJ9IOOCpOODs+OCueOCv+ODs+OCueOAguOBn+OBoOOBlyBtZXRob2QgY2hhaW4g44KS44GX44Gf44GE5aC05ZCI44Gv44CBYW55IGNhc3Qg44GM5b+F6KaB44CCXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyByZWdpc3Rlcihyb3V0ZTogc3RyaW5nLCBwYWdlOiBzdHJpbmcsIHRvcDogYm9vbGVhbiA9IGZhbHNlLCBjYWxsYmFjaz86ICguLi5hcmdzOiBhbnlbXSkgPT4gYm9vbGVhbik6IFJvdXRlciB7XHJcbiAgICAgICAgICAgIC8vIEJhY2tib25lLlJvdXRlciDjgbjjga7nmbvpjLLjga8gaGlzdG9yeSDjga7lgZzmraLjgYzlv4XopoFcclxuICAgICAgICAgICAgY29uc3QgcmVzdGFydCA9IFJvdXRlci5zdG9wKCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gcm91dGUgKyBwYWdlO1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZXh0OiBSb3V0ZUNvbnRleHQgPSB7XHJcbiAgICAgICAgICAgICAgICByb3V0ZTogcm91dGUsXHJcbiAgICAgICAgICAgICAgICByZWdleHA6ICg8YW55PlJvdXRlci5zX3JvdXRlcikuX3JvdXRlVG9SZWdFeHAocm91dGUpLFxyXG4gICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcclxuICAgICAgICAgICAgICAgIHRvcDogdG9wLFxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrIHx8IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAoUm91dGVyLnB1c2hDb250ZXh0KG5hbWUsIGNvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICBSb3V0ZXIuc19yb3V0ZXIucm91dGUocm91dGUsIG5hbWUsICgpID0+IHsvKiBub29wICovIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocmVzdGFydCkge1xyXG4gICAgICAgICAgICAgICAgLy8g5YaN6ZaL5pmC44Gv5YaN6Kqt44G/6L6844G/44GX44Gq44GE44CCXHJcbiAgICAgICAgICAgICAgICBSb3V0ZXIuc3RhcnQoeyBzaWxlbnQ6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBSb3V0ZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogU3RhcnQgbGlzdGVuaW5nIGhhc2ggY2hhbmdlLlxyXG4gICAgICAgICAqIEl0IHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgcmVnaXN0ZXIoKS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zIHtPYmplY3R9IFtpbl0gb3B0aW9ucyBvYmplY3QgZm9yIEJhY2tib25lLkhpc3RvcnkuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOWxpeattOebo+imluOBrumWi+Wni1xyXG4gICAgICAgICAqIOeZu+mMsuWujOS6huW+jOOBq+WRvOOBs+WHuuOBmeOAglxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMge09iamVjdH0gW2luXSBCYWNrYm9uZS5IaXN0b3J5IOOBq+OCj+OBn+OCi+OCquODl+OCt+ODp+ODs1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc3RhcnQob3B0aW9ucz86IFJvdXRlck9wdGlvbnMpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgaWYgKG51bGwgIT0gb3B0aW9ucyAmJiBmYWxzZSAhPT0gb3B0aW9ucy5wYWdlQ29uc3RydWN0KSB7XHJcbiAgICAgICAgICAgICAgICBGcmFtZXdvcmsuY29uc3RydWN0UGFnZXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJC5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2V0dGluZyBlcnJvci4gY29uZmljdDogJC5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQgPSB0cnVlLCBjYW5ub3Qgc3RhcnQuXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBCYWNrYm9uZS5oaXN0b3J5LnN0YXJ0KG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIFN0b3AgbGlzdGVuaW5nIGhhc2ggY2hhbmdlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gcHJldmlvdXMgc3RhdHVzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDlsaXmrbTnm6Poppbjga7ntYLkuoZcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IOS7peWJjeOBrumWi+Wni+eKtuaFi+OCkui/lOWNtFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc3RvcCgpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgY29uc3QgcHJldlN0YXRlID0gKDxhbnk+QmFja2JvbmUuSGlzdG9yeSkuc3RhcnRlZDtcclxuICAgICAgICAgICAgQmFja2JvbmUuaGlzdG9yeS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBwcmV2U3RhdGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogQ2hlY2sgcm91dGluZyBzdGF0dXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlOiByb3V0aW5nIC8gZmFsc2U6IG5vdCByb3V0aW5nXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOODq+ODvOODhuOCo+ODs+OCsOOCkumWi+Wni+OBl+OBpuOBhOOCi+OBi+WIpOWumlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZTog5pyJ5Yq5IC8gZmFsc2U6IOeEoeWKuVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgaXNSb3V0aW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gKDxhbnk+QmFja2JvbmUuSGlzdG9yeSkuc3RhcnRlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBVUkwgbmF2aWdhdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB1cmwgICAgICAgIHtTdHJpbmd9ICAgICAgICAgIFtpbl0gc2V0IGEgbmF2aWdhdGUgVVJMLiAocmVsYXRpdmUgcGF0aCAvIGFic29sdXRlIHBhdGggLyBmcmFnbWVudClcclxuICAgICAgICAgKiBAcGFyYW0gdHJhbnNpdGlvbiB7U3RyaW5nfSAgICAgICAgICBbaW5dIHNldCBhIHRyYW5zaXRpb24gc3RyaW5nIChvcHRpb25hbClcclxuICAgICAgICAgKiBAcGFyYW0gcmV2ZXJzZSAgICB7Qm9vbGVhbn0gICAgICAgICBbaW5dIHNldCBhIGRpcmVjdGlvbiBzdHJpbmcgZm9yIHRyYW5zaXRpb24uIHRydWU6cmV2ZXJzZSAvIGZhbHNlOm5vbWFsIChvcHRpb25hbClcclxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyAgICB7TmF2aWdhdGVPcHRpb25zfSBbaW5dIHNldCBhIG9wdGlvbnMgb2JqZWN0IGZvciBCYWNrYm9uZS5Sb3V0ZXIubmF2aWdhdGUoKS4gKG9wdGlvbmFsKVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBVUkzpgbfnp7tcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB1cmwgICAgICAgIHtTdHJpbmd9ICAgICAgICAgIFtpbl0g6YG356e7IFVSTCDjgpLmjIflrpogKOebuOWvvuODkeOCuS/ntbblr77jg5Hjgrkv44OV44Op44Kw44Oh44Oz44OIKVxyXG4gICAgICAgICAqIEBwYXJhbSB0cmFuc2l0aW9uIHtTdHJpbmd9ICAgICAgICAgIFtpbl0gdHJhbnNpdGlvbiDjgavkvb/nlKjjgZnjgosgZWZmZWN0IOOCkuaMh+WumiAo5Lu75oSPKVxyXG4gICAgICAgICAqIEBwYXJhbSByZXZlcnNlICAgIHtCb29sZWFufSAgICAgICAgIFtpbl0gdHJhbnNpdGlvbiDjgavkvb/nlKjjgZnjgosgZGlyZWN0aW9uIOOCkuaMh+WumiB0cnVlOnJldmVyc2UvZmFsc2U66YCa5bi4ICjku7vmhI8pXHJcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgICAge05hdmlnYXRlT3B0aW9uc30gW2luXSBCYWNrYm9uZS5Sb3V0ZXIubmF2aWdhdGUoKSDjgavmuKHjgZXjgozjgovjgqrjg5fjgrfjg6fjg7MgKOS7u+aEjylcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIG5hdmlnYXRlKHVybDogc3RyaW5nLCB0cmFuc2l0aW9uPzogc3RyaW5nLCByZXZlcnNlPzogYm9vbGVhbiwgb3B0aW9ucz86IE5hdmlnYXRlT3B0aW9ucyk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAoISFSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLmluTmF2aWdhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8g44GZ44Gn44GrIE5hdmlnYXRpb24g5Lit44Gn44GC44KM44Gw5oqR5q2iXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJvdXRlci5uYXZpZ2F0ZSgpIGNhbGxlZCBpbiBuYXZpZ2F0aW9uIHByb2MuXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKFJvdXRlci5pbml0Rmlyc3RQYWdlSWZOZWVkZWQodXJsKSkgeyAvLyBhdXRvSW5pdGlhbGl6ZVBhZ2Ug44GM5oyH5a6a44GV44KM44Gm44GE44Gq44GE44Go44GNXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG5hdk9wdGlvbnM6IE5hdmlnYXRlT3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBSb3V0ZXIuc19kZWZhdWx0TmF2aWdhdGVPcHRpb25zLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOODmuODvOOCuOmBt+enu+mWi+Wni+mAmuefpS4gU3ViIEZsb3cg44Gr44Gm44GZ44Gn44Gr44Kz44O844Or44GV44KM44Gm44GE44KL5aC05ZCI44Gv5pei5a6a44Gu5L2V44KC44GX44Gq44GE44Kz44O844Or44OQ44OD44Kv44KS5L2/55So44GZ44KLLlxyXG4gICAgICAgICAgICBjb25zdCBub3RpZnlCZWZvcmVSb3V0ZUNoYW5nZSA9IFJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8uY2FsbGVkQmVmb3JlUm91dGVDaGFuZ2UgPyBfZGVmYXVsdEJlZm9yZVJvdXRlQ2hhbmdlIDogX2JlZm9yZVJvdXRlQ2hhbmdlO1xyXG5cclxuICAgICAgICAgICAgUm91dGVyLnNfbGFzdE5hdmlnYXRlSW5mbyA9IHtcclxuICAgICAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbixcclxuICAgICAgICAgICAgICAgIHJldmVyc2U6IHJldmVyc2UsXHJcbiAgICAgICAgICAgICAgICBiYWNrRGVzdGluYXRpb246IG5hdk9wdGlvbnMuYmFja0Rlc3RpbmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgbm9IYXNoQ2hhbmdlOiBuYXZPcHRpb25zLm5vSGFzaENoYW5nZSxcclxuICAgICAgICAgICAgICAgIGludGVudDogbmF2T3B0aW9ucy5pbnRlbnQgfHwge30sXHJcbiAgICAgICAgICAgICAgICBwb3NpdGl2ZU5hdmlnYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY2FsbGVkQmVmb3JlUm91dGVDaGFuZ2U6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBpbk5hdmlnYXRpb246IHRydWUsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyDjg5rjg7zjgrjpgbfnp7vplovlp4vpgJrnn6VcclxuICAgICAgICAgICAgbm90aWZ5QmVmb3JlUm91dGVDaGFuZ2UoKVxyXG4gICAgICAgICAgICAgICAgLmZhaWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlZm9yZVJvdXRlQ2hhbmdlKCkg44GM5aSx5pWX44GX44Gf5aC05ZCI44CB6Ie05ZG955qE44Gq5LiN5YW35ZCI44Go44Gq44KL44Gf44KB44CBZXJyb3Ig6KiY6Yyy44Gu44G/44Gr44GX44Gm5YWI44Gr6YCy44KA44CCXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImJlZm9yZSByb3V0ZSBjaGFuZ2UgY2FsbCwgZmFpbGVkLlwiKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYWx3YXlzKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUm91dGVyLmlzUm91dGluZygpICYmICFSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLm5vSGFzaENoYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmF2T3B0aW9ucy5zdWJGbG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG5hdk9wdGlvbnMuc3ViRmxvdy5vcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYmVnaW5cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUm91dGVyLnN0YXJ0U3ViRmxvdyhuYXZPcHRpb25zLnN1YkZsb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJvdXRlci5maW5pc2hTdWJGbG93KG5hdk9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47IC8vIG5hdmlnYXRpb24g44Gv5ZG844Gw44Gq44GEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwidW5rbm93biBzdWJGbG93Lm9wZXJhdGlvbi4gb3BlcmF0aW9uOiBcIiArIG5hdk9wdGlvbnMuc3ViRmxvdy5vcGVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXIuc19yb3V0ZXIubmF2aWdhdGUodXJsLCBuYXZPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmF2T3B0aW9ucy5zdWJGbG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJzdWJGbG93IG9ubHkgc3VwcG9ydGVkIHVuZGVyIHJvdXRpbmcgYW5kIGhhc2ggY2hhbmdlIGNvbmRpdGlvbi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBCYWNrYm9uZS5oaXN0b3J5LmdldEZyYWdtZW50KHVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb250ZXh0OiBSb3V0ZUNvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLm5vSGFzaENoYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9IYXNoQ2hhbmdlIOOBjOaMh+WumuOBleOCjOOBn+OBqOOBjVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IDxSb3V0ZUNvbnRleHQ+Xy5maW5kKDxhbnk+Um91dGVyLnNfcm9vdENvbnRleHRzLCAoY3R4OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3R4LnJlZ2V4cC50ZXN0KGZyYWdtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmFja2JvbmUuUm91dGVyIOOBjOacieWKueOBp+OBquOBhOOBqOOBjVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IDxSb3V0ZUNvbnRleHQ+Xy5maW5kV2hlcmUoPGFueT5Sb3V0ZXIuc19yb290Q29udGV4dHMsIHsgcm91dGU6IGZyYWdtZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBjb250ZXh0LnBhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgUm91dGVyLmNoYW5nZVBhZ2UodXJsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBOYXZpZ2F0ZSBmcm9tIFRvcCBQYWdlLlxyXG4gICAgICAgICAqIElmIFN1YkZsb3cgc2V0IHVwLCB0aGUgcGFyYW0gaXMgY2xlYXJlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB0byAgICAgICAgIHtTdHJpbmd8UGFnZVN0YWNrfFBhZ2VTdGFja1tdfSBbaW5dIHNldCBhIG5hdmlnYXRlIFVSTCBvciBQYWdlU3RhY2tPcHRpb25zIG9iamVjdCBvciBhcnJheS5cclxuICAgICAgICAgKiBAcGFyYW0gdHJhbnNpdGlvbiB7U3RyaW5nfSAgICAgICAgICAgICAgICAgICAgICAgW2luXSBzZXQgYSB0cmFuc2l0aW9uIHN0cmluZyAob3B0aW9uYWwpXHJcbiAgICAgICAgICogQHBhcmFtIHJldmVyc2UgICAge0Jvb2xlYW59ICAgICAgICAgICAgICAgICAgICAgIFtpbl0gc2V0IGEgZGlyZWN0aW9uIHN0cmluZyBmb3IgdHJhbnNpdGlvbi4gdHJ1ZTpyZXZlcnNlIC8gZmFsc2U6bm9tYWwgKG9wdGlvbmFsKVxyXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zICAgIHtOYXZpZ2F0ZU9wdGlvbnN9ICAgICAgICAgICAgICBbaW5dIHNldCBhIG9wdGlvbnMgb2JqZWN0IGZvciBCYWNrYm9uZS5Sb3V0ZXIubmF2aWdhdGUoKS4gKG9wdGlvbmFsKVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDjg4jjg4Pjg5fjg5rjg7zjgrjjgYvjgonjga7nlLvpnaLpgbfnp7tcclxuICAgICAgICAgKiBTdWJGbG93IOOBjOaMh+WumuOBleOCjOOBpuOBhOOBn+WgtOWQiOOBr+OCr+ODquOCouOBleOCjOOCi1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHRvICAgICAgICAge1N0cmluZ3xQYWdlU3RhY2t8UGFnZVN0YWNrW119IFtpbl0g6YG356e7IFVSTCAvIFBhZ2VTdGFja09wdGlvbnMg44Kq44OW44K444Kn44Kv44OIL+mFjeWIl1xyXG4gICAgICAgICAqIEBwYXJhbSB0cmFuc2l0aW9uIHtTdHJpbmd9ICAgICAgICAgICAgICAgICAgICAgICBbaW5dIHRyYW5zaXRpb24g44Gr5L2/55So44GZ44KLIGVmZmVjdCDjgpLmjIflrpogKOS7u+aEjylcclxuICAgICAgICAgKiBAcGFyYW0gcmV2ZXJzZSAgICB7Qm9vbGVhbn0gICAgICAgICAgICAgICAgICAgICAgW2luXSB0cmFuc2l0aW9uIOOBq+S9v+eUqOOBmeOCiyBkaXJlY3Rpb24g44KS5oyH5a6aIHRydWU6cmV2ZXJzZS9mYWxzZTrpgJrluLggKOS7u+aEjylcclxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyAgICB7TmF2aWdhdGVPcHRpb25zfSAgICAgICAgICAgICAgW2luXSBCYWNrYm9uZS5Sb3V0ZXIubmF2aWdhdGUoKSDjgavmuKHjgZXjgozjgovjgqrjg5fjgrfjg6fjg7MgKOS7u+aEjylcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIG5hdmlnYXRlRnJvbVRvcChcclxuICAgICAgICAgICAgdG8/OiBzdHJpbmcgfCBQYWdlU3RhY2sgfCBQYWdlU3RhY2tbXSxcclxuICAgICAgICAgICAgdHJhbnNpdGlvbj86IHN0cmluZyxcclxuICAgICAgICAgICAgcmV2ZXJzZT86IGJvb2xlYW4sXHJcbiAgICAgICAgICAgIG9wdGlvbnM/OiBOYXZpZ2F0ZU9wdGlvbnNcclxuICAgICAgICApOiB2b2lkIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLnN0YWNrO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGFnZSA9IHN0YWNrW1JvdXRlci5nZXRKcW1IaXN0b3J5KCkuYWN0aXZlSW5kZXhdO1xyXG4gICAgICAgICAgICBjb25zdCBfdHJhbnNpdGlvbiA9IHRyYW5zaXRpb24gfHwgY3VycmVudFBhZ2UudHJhbnNpdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgX3JldmVyc2UgPSAobnVsbCAhPSByZXZlcnNlKSA/IHJldmVyc2UgOiB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBkZXN0U3RhY2tzOiBQYWdlU3RhY2tbXSA9ICgoKTogUGFnZVN0YWNrW10gPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0bykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdG8pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPFBhZ2VTdGFja1tdPlt7IHJvdXRlOiB0byB9XTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG8gaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0bztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxQYWdlU3RhY2tbXT5bdG9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSgpO1xyXG5cclxuICAgICAgICAgICAgLy8g5oyH5a6a44GV44KM44GfIFN1YkZsb3cg44KS5YmK6ZmkXHJcbiAgICAgICAgICAgIHN0YWNrLmZvckVhY2goKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdmFsdWVbUm91dGVyLlNVQkZMT1dfUEFSQU1dO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIOWIneacn+ODmuODvOOCuOOBqyBTdWJGbG93IOODkeODqeODoeODvOOCv+OCkuaMh+WumlxyXG4gICAgICAgICAgICBzdGFja1swXVtSb3V0ZXIuU1VCRkxPV19QQVJBTV0gPSB7XHJcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246IFwiYmVnaW5cIixcclxuICAgICAgICAgICAgICAgIGRlc3RCYXNlOiBzdGFja1swXS5oYXNoLCAgICAvLyDliJ3mnJ/jg5rjg7zjgrjjga7jg4/jg4Pjgrfjg6VcclxuICAgICAgICAgICAgICAgIGRlc3RTdGFja3M6IGRlc3RTdGFja3MsXHJcbiAgICAgICAgICAgICAgICBhZGRpdGlvbmFsRGlzdGFuY2U6IDAsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBSb3V0ZXIubmF2aWdhdGUobnVsbCwgX3RyYW5zaXRpb24sIF9yZXZlcnNlLCAkLmV4dGVuZCh7fSwgb3B0aW9ucywge1xyXG4gICAgICAgICAgICAgICAgc3ViRmxvdzoge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogXCJlbmRcIixcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIEJhY2sgdG8gcHJldmlvdXMgaGlzdG9yeS5cclxuICAgICAgICAgKiBJdCdzIHNhbWUgYXMgYnJvd3NlciBiYWNrIGJ1dHRvbidzIGJlaGF2aW91ci5cclxuICAgICAgICAgKiBbTm90ZV0gSWYgc2V0IHRoZSBqUU06IGRhdGEtcmVsPVwiYmFja1wiLCB3b3JrIGFzIHdlbGwuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOWxpeattOOCkuaIu+OCi1xyXG4gICAgICAgICAqIOODluODqeOCpuOCtuOBruaIu+OCi+ODnOOCv+ODs+OBqOWQjOOBmOaMmeWLleOAglxyXG4gICAgICAgICAqIGpRTTogZGF0YS1yZWw9XCJiYWNrXCIg44KS5oyH5a6a44GX44Gm44KC5ZCM44GY44Gn44GC44KL44GT44Go44Gr5rOo5oSP44CCXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBiYWNrKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAoISFSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLmluTmF2aWdhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8g44GZ44Gn44GrIE5hdmlnYXRpb24g5Lit44Gn44GC44KM44Gw5oqR5q2iXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJvdXRlci5iYWNrKCkgY2FsbGVkIGluIG5hdmlnYXRpb24gcHJvYy5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoUm91dGVyLmlzVG9wUGFnZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUb3Ag44Oa44O844K444Gr5oyH5a6a44GV44KM44Gm44GE44KM44Gw57WC5LqGXHJcbiAgICAgICAgICAgICAgICBjb25zdCBhcHAgPSAoPGFueT5uYXZpZ2F0b3IpLmFwcCB8fCB7fTtcclxuICAgICAgICAgICAgICAgIGlmICghIWFwcC5leGl0QXBwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmV4aXRBcHAoKTsgICAgLy8gbm90ZTogbmV2ZXIgZXhpdCBvbiBpT1NcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIFJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8gPSB7XHJcbiAgICAgICAgICAgICAgICBpbk5hdmlnYXRpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjYWxsZWRCZWZvcmVSb3V0ZUNoYW5nZTogdHJ1ZSxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIOODmuODvOOCuOmBt+enu+mWi+Wni+mAmuefpVxyXG4gICAgICAgICAgICBfYmVmb3JlUm91dGVDaGFuZ2UoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICQubW9iaWxlLmJhY2soKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuZmFpbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImJlZm9yZSByb3V0ZSBjaGFuZ2UgY2FsbCwgZmFpbGVkLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvID0ge307XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBTdG9yZSBJbnRlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBJbnRlbnQg44KS5qC857SNXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBwdXNoSW50ZW50KGludGVudDogSW50ZW50KTogdm9pZCB7XHJcbiAgICAgICAgICAgIFJvdXRlci5zX2xhc3RJbnRlbnQgPSAkLmV4dGVuZCh0cnVlLCBSb3V0ZXIuc19sYXN0SW50ZW50LCBpbnRlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIEdldCBJbnRlbnQgb2JqZWN0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBJbnRlbnQg44KS5Y+W5b6XXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBwb3BJbnRlbnQoKTogSW50ZW50IHtcclxuICAgICAgICAgICAgY29uc3QgaW50ZW50ID0gUm91dGVyLnNfbGFzdEludGVudDtcclxuICAgICAgICAgICAgUm91dGVyLnNfbGFzdEludGVudCA9IHt9O1xyXG4gICAgICAgICAgICByZXR1cm4gaW50ZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIEdldCBxdWVyeSBwYXJhbWV0ZXJzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBxdWVyeSBwYXJhbWV0ZXIg44Gr5oyH5a6a44GV44KM44Gf5byV5pWw44Gu5Y+W5b6XXHJcbiAgICAgICAgICog44Oa44O844K46YG356e75Lit44Gr44Gu44G/44Ki44Kv44K744K55Y+v6IO9IChwYWdlYmVmb3JlY3JlYXRlIO+9niBwYWdlY2hhbmdlKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0UXVlcnlQYXJhbWV0ZXJzKCk6IGFueSB7XHJcbiAgICAgICAgICAgIGlmIChSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLmludGVudCAmJiBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLmludGVudC5wYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLmludGVudC5wYXJhbXNbXCJxdWVyeVBhcmFtc1wiXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogQmVnaW4gc3ViIGZsb3cgdHJhbnNhY3Rpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gdXJsICAgICAgICB7U3RyaW5nfSAgICAgICAgICBbaW5dIHNldCBhIG5hdmlnYXRlIFVSTC4gKHJlbGF0aXZlIHBhdGggLyBhYnNvbHV0ZSBwYXRoIC8gZnJhZ21lbnQpXHJcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgICAge05hdmlnYXRlT3B0aW9uc30gW2luXSBzZXQgYSBvcHRpb25zIG9iamVjdCBmb3IgQmFja2JvbmUuUm91dGVyLm5hdmlnYXRlKCkuIChvcHRpb25hbClcclxuICAgICAgICAgKiBAcGFyYW0gdHJhbnNpdGlvbiB7U3RyaW5nfSAgICAgICAgICBbaW5dIHNldCBhIHRyYW5zaXRpb24gc3RyaW5nIChvcHRpb25hbClcclxuICAgICAgICAgKiBAcGFyYW0gcmV2ZXJzZSAgICB7Qm9vbGVhbn0gICAgICAgICBbaW5dIHNldCBhIGRpcmVjdGlvbiBzdHJpbmcgZm9yIHRyYW5zaXRpb24uIHRydWU6cmV2ZXJzZSAvIGZhbHNlOm5vbWFsIChvcHRpb25hbClcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogc3ViIGZsb3cg44OI44Op44Oz44K244Kv44K344On44Oz44Gu6ZaL5aeLLlxyXG4gICAgICAgICAqIG5hdmlnYXRlKCkg44GuIOezluiho+ani+aWh1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHVybCAgICAgICAge1N0cmluZ30gICAgICAgICAgW2luXSDpgbfnp7sgVVJMIOOCkuaMh+WumiAo55u45a++44OR44K5L+e1tuWvvuODkeOCuS/jg5Xjg6njgrDjg6Hjg7Pjg4gpXHJcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgICAge05hdmlnYXRlT3B0aW9uc30gW2luXSBCYWNrYm9uZS5Sb3V0ZXIubmF2aWdhdGUoKSDjgavmuKHjgZXjgozjgovjgqrjg5fjgrfjg6fjg7MgKOS7u+aEjylcclxuICAgICAgICAgKiBAcGFyYW0gdHJhbnNpdGlvbiB7U3RyaW5nfSAgICAgICAgICBbaW5dIHRyYW5zaXRpb24g44Gr5L2/55So44GZ44KLIGVmZmVjdCDjgpLmjIflrpogKOS7u+aEjylcclxuICAgICAgICAgKiBAcGFyYW0gcmV2ZXJzZSAgICB7Qm9vbGVhbn0gICAgICAgICBbaW5dIHRyYW5zaXRpb24g44Gr5L2/55So44GZ44KLIGRpcmVjdGlvbiDjgpLmjIflrpogdHJ1ZTpyZXZlcnNlL2ZhbHNlOumAmuW4uCAo5Lu75oSPKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYmVnaW5TdWJGbG93KHVybDogc3RyaW5nLCBvcHRpb25zOiBOYXZpZ2F0ZU9wdGlvbnMsIHRyYW5zaXRpb24/OiBzdHJpbmcsIHJldmVyc2U/OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdDogTmF2aWdhdGVPcHRpb25zID0gJC5leHRlbmQoe30sIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICBvcHQuc3ViRmxvdyA9IG9wdC5zdWJGbG93IHx8IHsgb3BlcmF0aW9uOiBcImJlZ2luXCIgfTtcclxuICAgICAgICAgICAgaWYgKFwiYmVnaW5cIiAhPT0gb3B0LnN1YkZsb3cub3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwibG9naWMgZXJyb3IuIGludmFsaWQgc3ViZmxvdyBvcGVyYXRpb24uIFtvcGVyYXRpb246IFwiICsgb3B0LnN1YkZsb3cub3BlcmF0aW9uICsgXCJdXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFJvdXRlci5uYXZpZ2F0ZSh1cmwsIHRyYW5zaXRpb24sIHJldmVyc2UsIG9wdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogQ29tbWl0IHN1YiBmbG93IHRyYW5zYWN0aW9uLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHRyYW5zaXRpb24ge1N0cmluZ30gIFtpbl0gc2V0IGEgdHJhbnNpdGlvbiBzdHJpbmcgKG9wdGlvbmFsKVxyXG4gICAgICAgICAqIEBwYXJhbSByZXZlcnNlICAgIHtCb29sZWFufSBbaW5dIHNldCBhIGRpcmVjdGlvbiBzdHJpbmcgZm9yIHRyYW5zaXRpb24uIHRydWU6cmV2ZXJzZSAvIGZhbHNlOm5vbWFsIChvcHRpb25hbClcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogc3ViIGZsb3cg44OI44Op44Oz44K244Kv44K344On44Oz44Gu57WC5LqGLlxyXG4gICAgICAgICAqIG5hdmlnYXRlKCkg44GuIOezluiho+ani+aWh1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHRyYW5zaXRpb24ge1N0cmluZ30gIFtpbl0gdHJhbnNpdGlvbiDjgavkvb/nlKjjgZnjgosgZWZmZWN0IOOCkuaMh+WumiAo5Lu75oSPKVxyXG4gICAgICAgICAqIEBwYXJhbSByZXZlcnNlICAgIHtCb29sZWFufSBbaW5dIHRyYW5zaXRpb24g44Gr5L2/55So44GZ44KLIGRpcmVjdGlvbiDjgpLmjIflrpogdHJ1ZTpyZXZlcnNlL2ZhbHNlOumAmuW4uCAo5Lu75oSPKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY29tbWl0U3ViRmxvdyh0cmFuc2l0aW9uPzogc3RyaW5nLCByZXZlcnNlPzogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgICAgICBSb3V0ZXIubmF2aWdhdGUobnVsbCwgdHJhbnNpdGlvbiwgcmV2ZXJzZSwge1xyXG4gICAgICAgICAgICAgICAgc3ViRmxvdzoge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogXCJlbmRcIixcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogQ2FuY2VsIHN1YiBmbG93IHRyYW5zYWN0aW9uLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHRyYW5zaXRpb24ge1N0cmluZ30gIFtpbl0gc2V0IGEgdHJhbnNpdGlvbiBzdHJpbmcgKG9wdGlvbmFsKVxyXG4gICAgICAgICAqIEBwYXJhbSByZXZlcnNlICAgIHtCb29sZWFufSBbaW5dIHNldCBhIGRpcmVjdGlvbiBzdHJpbmcgZm9yIHRyYW5zaXRpb24uIHRydWU6cmV2ZXJzZVtkZWZhdWx0XSAvIGZhbHNlOm5vbWFsIChvcHRpb25hbClcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogc3ViIGZsb3cg44OI44Op44Oz44K244Kv44K344On44Oz44Gu44Kt44Oj44Oz44K744OrLlxyXG4gICAgICAgICAqIG5hdmlnYXRlKCkg44GuIOezluiho+ani+aWh1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHRyYW5zaXRpb24ge1N0cmluZ30gIFtpbl0gdHJhbnNpdGlvbiDjgavkvb/nlKjjgZnjgosgZWZmZWN0IOOCkuaMh+WumiAo5Lu75oSPKVxyXG4gICAgICAgICAqIEBwYXJhbSByZXZlcnNlICAgIHtCb29sZWFufSBbaW5dIHRyYW5zaXRpb24g44Gr5L2/55So44GZ44KLIGRpcmVjdGlvbiDjgpLmjIflrpogdHJ1ZTpyZXZlcnNlW+aXouWuml0vZmFsc2U66YCa5bi4ICjku7vmhI8pXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBjYW5jZWxTdWJGbG93KHRyYW5zaXRpb24/OiBzdHJpbmcsIHJldmVyc2U/OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgIC8vIOi1t+eCueOBruODmuODvOOCuOOBq+aIu+OCi1xyXG4gICAgICAgICAgICBjb25zdCBiYXNlSW5mbyA9IFJvdXRlci5kZXRlY3RTdWJGbG93QmFzZUluZm8oKTtcclxuICAgICAgICAgICAgYmFzZUluZm8uc3ViRmxvd1BhcmFtLmFkZGl0aW9uYWxEaXN0YW5jZSA9IDA7XHJcbiAgICAgICAgICAgIFJvdXRlci5uYXZpZ2F0ZShudWxsLCB0cmFuc2l0aW9uLFxyXG4gICAgICAgICAgICAgICAgKG51bGwgIT0gcmV2ZXJzZSkgPyByZXZlcnNlIDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWJGbG93OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogXCJlbmRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdFN0YWNrczogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBDaGVjayBpbiBzdWIgZmxvdy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogc3ViIGZsb3cg5YaF44Gn44GC44KL44GL5Yik5a6aXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBpc0luU3ViRmxvdygpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLnN0YWNrO1xyXG4gICAgICAgICAgICBjb25zdCBoYXMgPSBfLnNvbWUoc3RhY2ssICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdmFsdWVbUm91dGVyLlNVQkZMT1dfUEFSQU1dO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGhhcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBDaGVjayBmcm9tIGhhc2ggY2hhbmdlZCBuYXZpZ2F0aW9uLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBIYXNoIOWkieabtOOBq+OCiOOBo+OBpiBOYXZpZ2F0ZSDjgYzotbfjgZPjgaPjgZ/jgYvliKTlrppcclxuICAgICAgICAgKiBcInBhZ2VjaGFuZ2VcIiDjgYznmbrnlJ/jgZnjgovjgb7jgafjgavliKTlrprlj6/og71cclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGZyb21IYXNoQ2hhbmdlZCgpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgLy8gcG9zaXRpdmVOYXZpZ2F0ZSA9IGZhbHNlIOOBr+WQq+OCgeOBquOBhFxyXG4gICAgICAgICAgICByZXR1cm4gUm91dGVyLnNfbGFzdE5hdmlnYXRlSW5mby5pbk5hdmlnYXRpb24gJiYgKG51bGwgPT0gUm91dGVyLnNfbGFzdE5hdmlnYXRlSW5mby5wb3NpdGl2ZU5hdmlnYXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBSZWdpc3RlciBwYWdlIHN0YWNrLlxyXG4gICAgICAgICAqIFNldCByZWdpc3RlcmVkIHJvdXRlKHMpIHRvIGFkZCB0byBwYWdlIHN0YWNrIG9uIHRoZSBiYXNpcyBvZiB0aGUgcHJlc2VudCBzdGFjayBwb3NpdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBwYWdlU3RhY2sgICAge1BhZ2VTdGFja3xQYWdlU3RhY2tbXX0gICBbaW5dIFBhZ2VTdGFja09wdGlvbnMgb2JqZWN0IG9yIGFycmF5LlxyXG4gICAgICAgICAqIEBwYXJhbSB3aXRoTmF2aWdhdGUge0Jvb2xlYW59ICAgICAgICAgICAgICAgICBbaW5dIHRydWU6IHdpdGggbmF2aWdhdGUgZmluYWwgc3RhY2suIChkZWZhdWx0KSAvIGZhbHNlOiBub3QgbmF2aWdhdGUuXHJcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgICAgICB7TmF2aWdhdGVPcHRpb25zfSAgICAgICAgIFtpbl0gc2V0IGEgb3B0aW9ucyBvYmplY3QgZm9yIEJhY2tib25lLlJvdXRlci5uYXZpZ2F0ZSgpLihvcHRpb25hbClcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlOiBzdWNjZWVkZWQgLyBmYWxzZTogZmFpbGVkXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOODmuODvOOCuOOCueOCv+ODg+OCr+eZu+mMslxyXG4gICAgICAgICAqIOeZu+mMsua4iOOBv+OBriByb3V0ZSDjgpLmjIflrprjgZfjgabjgIHnj77lnKjjga7kvY3nva7jgpLln7rngrnjgavjg5rjg7zjgrjjgrnjgr/jg4Pjgq/jgavnmbvpjLJcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBwYWdlU3RhY2sgICAge1BhZ2VTdGFja3xQYWdlU3RhY2tbXX0gICBbaW5dIFBhZ2VTdGFja09wdGlvbnMg44Kq44OW44K444Kn44Kv44OIL+mFjeWIl1xyXG4gICAgICAgICAqIEBwYXJhbSB3aXRoTmF2aWdhdGUge0Jvb2xlYW59ICAgICAgICAgICAgICAgICBbaW5dIHRydWU6IOacgOW+jOOBruOCueOCv+ODg+OCr+OBq+WvvuOBl+OBpuODmuODvOOCuOmBt+enu+OBmeOCiy4gKGRlZmF1bHQpIC8gZmFsc2U6IOODmuODvOOCuOmBt+enu+OBl+OBquOBhC5cclxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyAgICAgIHtOYXZpZ2F0ZU9wdGlvbnN9ICAgICAgICAgW2luXSBCYWNrYm9uZS5Sb3V0ZXIubmF2aWdhdGUoKSDjgavmuKHjgZXjgozjgovjgqrjg5fjgrfjg6fjg7MgKOS7u+aEjylcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlOiDmiJDlip8gLyBmYWxzZTog5aSx5pWX44CCXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyByZWdpc3RlclBhZ2VTdGFjayhwYWdlU3RhY2s6IFBhZ2VTdGFjaywgd2l0aE5hdmlnYXRlPzogYm9vbGVhbiwgb3B0aW9ucz86IE5hdmlnYXRlT3B0aW9ucyk6IGJvb2xlYW47XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyByZWdpc3RlclBhZ2VTdGFjayhwYWdlU3RhY2s6IFBhZ2VTdGFja1tdLCB3aXRoTmF2aWdhdGU/OiBib29sZWFuLCBvcHRpb25zPzogTmF2aWdhdGVPcHRpb25zKTogYm9vbGVhbjtcclxuICAgICAgICBwdWJsaWMgc3RhdGljIHJlZ2lzdGVyUGFnZVN0YWNrKHBhZ2VTdGFjazogYW55LCB3aXRoTmF2aWdhdGU/OiBib29sZWFuLCBvcHRpb25zPzogTmF2aWdhdGVPcHRpb25zKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YWNrcyA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgZmFpbGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBwYWdlU3RhY2sgPSAocGFnZVN0YWNrIGluc3RhbmNlb2YgQXJyYXkpID8gcGFnZVN0YWNrIDogW3BhZ2VTdGFja107XHJcbiAgICAgICAgICAgIHdpdGhOYXZpZ2F0ZSA9IChudWxsID09IHdpdGhOYXZpZ2F0ZSkgPyBmYWxzZSA6IHdpdGhOYXZpZ2F0ZTtcclxuXHJcbiAgICAgICAgICAgICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYWtlU3RhY2sgPSAoaW5mbzogUGFnZVN0YWNrKTogYW55ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdXJsOiBzdHJpbmc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50ID0gQmFja2JvbmUuaGlzdG9yeS5nZXRGcmFnbWVudChpbmZvLnJvdXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gPFJvdXRlQ29udGV4dD5fLmZpbmQoPGFueT5Sb3V0ZXIuc19yb290Q29udGV4dHMsIChjdHg6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3R4LnJlZ2V4cC50ZXN0KGZyYWdtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwicm91dGUgaXMgbm90IHJlZ2lzdGVyZWQuIHJvdXRlOiBcIiArIGluZm8ucm91dGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBSb3V0ZXIucGF0aFRvSnFtRGF0YVVybChjb250ZXh0LnBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlOiBpbmZvLnJvdXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlVXJsOiB1cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpbmZvLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBpbmZvLnRyYW5zaXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YWNrO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbiA9IHBhZ2VTdGFjay5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFjayA9IG1ha2VTdGFjayhwYWdlU3RhY2tbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3U3RhY2tzLnB1c2goc3RhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmYWlsZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFJvdXRlciDjga7lgZzmraJcclxuICAgICAgICAgICAgICAgIGxldCByZXN0YXJ0ID0gUm91dGVyLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpbGVudExlbmd0aCA9IG5ld1N0YWNrcy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmluYWxJbmRleCA9IG5ld1N0YWNrcy5sZW5ndGggLSAxO1xyXG5cclxuICAgICAgICAgICAgICAgIFJvdXRlci5nZXRKcW1IaXN0b3J5KCkuY2xlYXJGb3J3YXJkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBzaWxlbnRMZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gbmV3U3RhY2tzW2ldLnJvdXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIFJvdXRlci5nZXRKcW1IaXN0b3J5KCkuc3RhY2sucHVzaChuZXdTdGFja3NbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFJvdXRlci5nZXRKcW1IaXN0b3J5KCkuYWN0aXZlSW5kZXggPSBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLnN0YWNrLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZmluYWwgc3RhY2sgd2l0aCBuYXZpZ2F0ZVxyXG4gICAgICAgICAgICAgICAgaWYgKHdpdGhOYXZpZ2F0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zaXRpb24gPSAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLnRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLnRyYW5zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3U3RhY2tzW2ZpbmFsSW5kZXhdLnRyYW5zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZlcnNlID0gKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gUm91dGVyLnNfbGFzdE5hdmlnYXRlSW5mby5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUm91dGVyLnNfbGFzdE5hdmlnYXRlSW5mby5yZXZlcnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdGFydCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIFJvdXRlci5zdGFydCh7IHNpbGVudDogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICBSb3V0ZXIubmF2aWdhdGUobmV3U3RhY2tzW2ZpbmFsSW5kZXhdLnJvdXRlLCB0cmFuc2l0aW9uLCByZXZlcnNlLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uaGFzaCA9IG5ld1N0YWNrc1tmaW5hbEluZGV4XS5yb3V0ZTtcclxuICAgICAgICAgICAgICAgICAgICBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLnN0YWNrLnB1c2gobmV3U3RhY2tzW2ZpbmFsSW5kZXhdKTtcclxuICAgICAgICAgICAgICAgICAgICBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLmFjdGl2ZUluZGV4ID0gUm91dGVyLmdldEpxbUhpc3RvcnkoKS5zdGFjay5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJvdXRlciDjga7lho3plotcclxuICAgICAgICAgICAgICAgIGlmIChyZXN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUm91dGVyLnN0YXJ0KHsgc2lsZW50OiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogR2V0IGpRTSdzIGhpc3Rvcnkgb2JqZWN0XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIGpRTSDjga4gSGlzdG9yeSDjgqrjg5bjgrjjgqfjgq/jg4jjga7lj5blvpdcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0SnFtSGlzdG9yeSgpOiBhbnkge1xyXG4gICAgICAgICAgICByZXR1cm4gJC5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gcHJpdmF0ZSBzdGF0aWMgbWV0aG9kc1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogT3ZlcnJpZGU6IEJhY2tib25lLkhpc3RvcnkubG9hZFVybCgpLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogQmFja2JvbmUuSGlzdG9yeS5sb2FkVXJsKCkg44Gu44Kq44O844OQ44O844Op44Kk44OJXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGN1c3RvbUxvYWRVcmwoZnJhZ21lbnQ6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVkID0gUm91dGVyLnNfbG9hZFVybChmcmFnbWVudCk7XHJcbiAgICAgICAgICAgIGlmICghaGFuZGxlZCkge1xyXG4gICAgICAgICAgICAgICAgUm91dGVyLm9uUm91dGVGYWlsZWQoZnJhZ21lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIE92ZXJyaWRlOiAkLm1vYmlsZS5iYWNrKCkuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBmYWlsIHNhZmUgcHJvY2Vzc2luZy5cclxuICAgICAgICAgKiAgSWYgdXNpbmcgQmFja2JvbmUncyBSb3V0ZXIsXHJcbiAgICAgICAgICogIHRoaXMgY2xhc3MgdW51c2VzIGhpc3Rvcnkgb2JqZWN0IG9mIGpRdWVyeSBNb2JpbGUgMS40LFxyXG4gICAgICAgICAqICBhbmQgc3RhbmRhcmRpemUgYXMgYnJvd3NlciBiYWNrIGJ1dHRvbidzIGJlaGF2aW91ci4gKGpRTSAxLjMgY29tcGFyYWJsZSlcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqICQubW9iaWxlLmJhY2soKSDjga7jgqrjg7zjg5Djg7zjg6njgqTjg4lcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFtUQkRdIGZhaWwgc2FmZSDlh6bnkIZcclxuICAgICAgICAgKiAgQmFja2JvbmUg44GuIFJvdXRlciDjgpLkvb/nlKjjgZfjgabjgYTjgovloLTlkIjjgIFcclxuICAgICAgICAgKiAgalF1ZXJ5IE1vYmlsZSAxLjQg5Lul6ZmN44Gu5YaF6YOo44GuIEhpc3Rvcnkg566h55CG44Gv5L2/55So44Gb44Ga44GrXHJcbiAgICAgICAgICogIDEuMyDnm7jlvZPjga7jg5bjg6njgqbjgrbjga5b5oi744KLXeOBruaMmeWLleOBq+e1seS4gOOBmeOCi+OAglxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBjdXN0b21KcW1CYWNrKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAoUm91dGVyLmlzUm91dGluZygpKSB7XHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5LmJhY2soKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGpRTSDml6Llrprlh6bnkIZcclxuICAgICAgICAgICAgICAgIFJvdXRlci5zX2JhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIEJpbmQgZXZlbnRzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICog44Kk44OZ44Oz44OI44OQ44Kk44Oz44OJXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGJpbmRFdmVudHMoKTogdm9pZCB7XHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpXHJcbiAgICAgICAgICAgICAgICAub25lKFwicGFnZWNoYW5nZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFJvdXRlci5zX2luaXRPcHRpb25zLmFuY2hvclZjbGljaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmNob3IgdmNsaWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFwidmNsaWNrXCIsIFwiW2hyZWZdXCIsIChldmVudDogSlF1ZXJ5LkV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXIub25BbmNob3JWY2xpY2tlZChldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oXCJwYWdlYmVmb3Jlc2hvd1wiLCAoZXZlbnQ6IEpRdWVyeS5FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFwiZGF0YS1iYWNrLWRzdFwiIOOCkiBwYWdlIOOBq+ioreWumlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9IFJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8uYmFja0Rlc3RpbmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZTogT2JqZWN0ID0gUm91dGVyLmdldEpxbUhpc3RvcnkoKS5nZXRBY3RpdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlW1JvdXRlci5CQUNLX0RFU1RJTkFUSU9OX1VSTF0gPSBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLmJhY2tEZXN0aW5hdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm9uKFwicGFnZXNob3dcIiwgKGV2ZW50OiBKUXVlcnkuRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmU6IE9iamVjdCA9IFJvdXRlci5nZXRKcW1IaXN0b3J5KCkuZ2V0QWN0aXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVtSb3V0ZXIuU1VCRkxPV19QQVJBTV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFjdGl2ZVtSb3V0ZXIuU1VCRkxPV19QQVJBTV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbihcInBhZ2VjaGFuZ2UgcGFnZWNvbnRhaW5lcmxvYWRmYWlsZWRcIiwgKGV2ZW50OiBKUXVlcnkuRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvID0ge307XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgO1xyXG5cclxuICAgICAgICAgICAgLy8gYmFjayBrZXkgYXNzaWduXHJcbiAgICAgICAgICAgIENEUC5zZXRCYWNrQnV0dG9uSGFuZGxlcihSb3V0ZXIuYmFjayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogU3RvcmUgdGhlIFJvb3RDb250ZXh0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKiBAcGFyYW0gbmFtZSAgICB7U3RyaW5nfSAgICAgICBbaW5dIG5hbWUgb2Ygcm91dGVcclxuICAgICAgICAgKiBAcGFyYW0gY29udGV4dCB7Um91dGVDb250ZXh0fSBbaW5dIGNvbnRleHQgb2JqZWN0XHJcbiAgICAgICAgICogQHJldHVybiB0cnVlOiBzdWNjZWVkZWQgLyBmYWxzZTogYWxyZWFkeSByZWdpc3RlcmVkXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIFJvb3RDb250ZXh0IOOBruagvOe0jVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKiBAcGFyYW0gbmFtZSAgICB7U3RyaW5nfSAgICAgICBbaW5dIHJvdXRlIOWQjVxyXG4gICAgICAgICAqIEBwYXJhbSBjb250ZXh0IHtSb3V0ZUNvbnRleHR9IFtpbl0gY29udGV4dCDjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAgICAgKiBAcmV0dXJuIHRydWU6IOeZu+mMsuaIkOWKnyAvIGZhbHNlOiDjgZnjgafjgavnmbvpjLLjgZXjgozjgabjgYTjgotcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBwdXNoQ29udGV4dChuYW1lOiBzdHJpbmcsIGNvbnRleHQ6IFJvdXRlQ29udGV4dCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBpZiAoISFSb3V0ZXIuc19yb290Q29udGV4dHNbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibG9naWMgZXJyb3IuIHJvdXRlIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4gbmFtZTogXCIgKyBuYW1lKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBSb3V0ZXIuc19yb290Q29udGV4dHNbbmFtZV0gPSBjb250ZXh0O1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBDaGVjayBpZiAkLm1vYmlsZS5pbml0aWFsaXplUGFnZSgpIGlzIGNhbGxlZCBvciBub3QsIGFuZCBjYWxsIGl0IGlmIG5lZWRlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHBhcmFtIHVybCB7U3RyaW5nfSAgW2luXSBzZXQgYSBuYXZpZ2F0ZSBVUkwuIChyZWxhdGl2ZSBwYXRoIC8gYWJzb2x1dGUgcGF0aCAvIGZyYWdtZW50KVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiAkLm1vYmlsZS5pbml0aWFsaXplUGFnZSgpIOOBjOWRvOOBsOOCjOOBpuOBhOOCi+OBi+eiuuiqjeOBl+OAgeW/heimgeOBquOCieWIneacn+WMluOBmeOCi+OAglxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKiBAcGFyYW0gdXJsIHtTdHJpbmd9IFtpbl0g6YG356e7IFVSTCDjgpLmjIflrpogKOebuOWvvuODkeOCuS/ntbblr77jg5Hjgrkv44OV44Op44Kw44Oh44Oz44OIKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGluaXRGaXJzdFBhZ2VJZk5lZWRlZCh1cmw6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBpZiAoISQubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSkge1xyXG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub25lKFwicGFnZWJlZm9yZWNoYW5nZVwiLCAoZXZlbnQ6IEpRdWVyeS5FdmVudCwgZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS50b1BhZ2UgPSBGcmFtZXdvcmsudG9VcmwodXJsKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJC5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKTtcclxuICAgICAgICAgICAgICAgICQubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogQ2hlY2sgZm9yIGN1cnJlbnQgcGFnZSBpcyB0b3AuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEByZXR1cm4gdHJ1ZTogdG9wIHBhZ2UgLyBmYWxzZTogbm90IHRvcCBwYWdlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOePvuWcqOOBruODmuODvOOCuOOBjCB0b3Ag44Gr5oyH5a6a44GV44KM44Gm44GE44KL44GL5Yik5a6aXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEByZXR1cm4gdHJ1ZTogdG9wIOaMh+WumiAvIGZhbHNlOiB0b3Ag44Gn44Gv44Gq44GEXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgaXNUb3BQYWdlKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IEJhY2tib25lLmhpc3RvcnkuZ2V0RnJhZ21lbnQoJC5tb2JpbGUucGF0aC5wYXJzZVVybChsb2NhdGlvbi5ocmVmKS5oYXNoKTtcclxuICAgICAgICAgICAgY29uc3QgY29udGV4dCA9IDxSb3V0ZUNvbnRleHQ+Xy5maW5kKDxhbnk+Um91dGVyLnNfcm9vdENvbnRleHRzLCAoY3R4OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdHgucmVnZXhwLnRlc3QoZnJhZ21lbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIChudWxsID09IGNvbnRleHQpID8gZmFsc2UgOiBjb250ZXh0LnRvcDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBDYWxsZWQgd2hlbiBhbmNob3IgcmVjZWl2ZWQgXCJ2Y2xpY2tcIiBldmVudC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHJldHVybiB0cnVlOiBuZWVkIGRlZmF1bHQgcHJvY2Vzc2luZyAvIGZhbHNlOiBuZWVkIGN1c3RvbSBwcm9jZXNzaW5nXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIGFuY2hvciDjgYwgdmNsaWNrIOOBleOCjOOBn+OBqOOBjeOBq+OCs+ODvOODq+OBleOCjOOCi1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKiBAcmV0dXJuIHRydWU6IGRlZmF1bHQg5Yem55CGIC8gZmFsc2U6IOOCq+OCueOCv+ODoOWHpueQhlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIG9uQW5jaG9yVmNsaWNrZWQoZXZlbnQ6IEpRdWVyeS5FdmVudCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBpZiAoUm91dGVyLmlzSnVzdEJlZm9yZVZjbGlja2VkKCkpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFJvdXRlci5mb2xsb3dBbmNob3IoZXZlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIEFuY2hvciBwcm9jZXNzaW5nLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogYW5jaG9yIOWHpueQhlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBmb2xsb3dBbmNob3IoZXZlbnQ6IEpRdWVyeS5FdmVudCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBjb25zdCAkdGFyZ2V0ID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTtcclxuICAgICAgICAgICAgY29uc3QgdXJsOiBzdHJpbmcgPSAkdGFyZ2V0LmpxbURhdGEoXCJocmVmXCIpIHx8ICR0YXJnZXQuYXR0cihcImhyZWZcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zaXRpb246IHN0cmluZyA9ICR0YXJnZXQuanFtRGF0YShcInRyYW5zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbjogc3RyaW5nID0gJHRhcmdldC5qcW1EYXRhKFwiZGlyZWN0aW9uXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBiYWNrRHN0OiBhbnkgPSAkdGFyZ2V0LmF0dHIoUm91dGVyLkRBVEFfQkFDS19ERVNUSU5BVElPTik7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vSGFzaENoYW5nZTogYm9vbGVhbiA9ICR0YXJnZXQuYXR0cihSb3V0ZXIuREFUQV9OT19IQVNIX0NIQU5HRSkgP1xyXG4gICAgICAgICAgICAgICAgJHRhcmdldC5hdHRyKFJvdXRlci5EQVRBX05PX0hBU0hfQ0hBTkdFKSA9PT0gXCJ0cnVlXCIgOiBmYWxzZTtcclxuICAgICAgICAgICAgY29uc3Qgbm9IcmVmSGFuZGxlOiBib29sZWFuID0gJHRhcmdldC5hdHRyKFJvdXRlci5EQVRBX05PX1ZDTElDS19IQU5ETEUpID9cclxuICAgICAgICAgICAgICAgICR0YXJnZXQuYXR0cihSb3V0ZXIuREFUQV9OT19WQ0xJQ0tfSEFORExFKSA9PT0gXCJ0cnVlXCIgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAqIC0g5piO56S655qE44Gr44OP44Oz44OJ44Or44GX44Gq44GE5oyH5a6a44GM44GC44KL5aC05ZCIXHJcbiAgICAgICAgICAgICAqIC0galFNIOOBruODleODqeOCsOODoeODs+ODiOOBruWgtOWQiFxyXG4gICAgICAgICAgICAgKiDml6Llrprjga7lh6bnkIbjgpLooYzjgYZcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGlmIChub0hyZWZIYW5kbGUgfHwgUm91dGVyLm5lZWREZWZhdWx0T3BlcmF0aW9uKHVybCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBjdXN0b20gYmVoYXZpZXJcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChSb3V0ZXIuaXNCYWNrQnV0dG9uQ2xpY2tlZChldmVudCkpIHtcclxuICAgICAgICAgICAgICAgIFJvdXRlci5iYWNrKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBSb3V0ZXIubmF2aWdhdGUodXJsLCB0cmFuc2l0aW9uLCAhIWRpcmVjdGlvbiwgeyBub0hhc2hDaGFuZ2U6IG5vSGFzaENoYW5nZSwgYmFja0Rlc3RpbmF0aW9uOiBiYWNrRHN0IH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogQ2hlY2sgZGVmYXVsdCBwcm9jZXNzaW5nIG5lZWRlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHBhcmFtICB1cmwge1N0cmluZ30gW2luXSB1cmwgc3RyaW5nXHJcbiAgICAgICAgICogQHJldHVybiB0cnVlOiBuZWVkIGRlZmF1bHQgcHJvY2Vzc2luZyAvIGZhbHNlOiBuZWVkIG5vdFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDml6Llrprjga7lh6bnkIbjgpLooYzjgo/jgZvjgovjgYvliKTlrppcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHBhcmFtICB1cmwge1N0cmluZ30gW2luXSB1cmwg5paH5a2X5YiXXHJcbiAgICAgICAgICogQHJldHVybiB0cnVlOiDml6Llrprjga7lh6bnkIbjgYzlv4XopoEgLyBmYWxzZTog5LiN6KaBXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgbmVlZERlZmF1bHRPcGVyYXRpb24odXJsOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgaWYgKCF1cmwgfHwgKFwiI1wiID09PSB1cmwpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChcIiNcIiA9PT0gdXJsWzBdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIVJvdXRlci5jYW5SZXNvbHZlUm91dGUodXJsKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIENoZWNrIHN0YXR1cyBvZiBCYWNrYm9uZS5Sb3V0ZXIgaWYgdGhleSBjYW4gcmVzb2x2ZSByb3V0ZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHBhcmFtICB1cmwge1N0cmluZ30gW2luXSB1cmwg5paH5a2X5YiXXHJcbiAgICAgICAgICogQHJldHVybiB0cnVlOiBjYW4gcmVzb2x2ZSAvIGZhbHNlOiBjYW4gbm90XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIEJhY2tib25lLlJvdXRlciDjgYwgcm91dGUg44KS6Kej5rG65Y+v6IO944GL5Yik5a6aXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEBwYXJhbSAgdXJsIHtTdHJpbmd9IFtpbl0gdXJsIOaWh+Wtl+WIl1xyXG4gICAgICAgICAqIEByZXR1cm4gdHJ1ZTog6Kej5rG65Y+v6IO9IC8gZmFsc2U6IOino+axuuS4jeWPr1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGNhblJlc29sdmVSb3V0ZSh1cmw6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IEJhY2tib25lLmhpc3RvcnkuZ2V0RnJhZ21lbnQodXJsKTtcclxuICAgICAgICAgICAgcmV0dXJuIF8uYW55KEJhY2tib25lLmhpc3RvcnkuaGFuZGxlcnMsIGZ1bmN0aW9uIChoYW5kbGVyOiBhbnkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyLnJvdXRlLnRlc3QoZnJhZ21lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIENoZWNrIFwidmNsaWNrXCIgZmlyZWQgYXQgdGhlIGxhc3QgbWludXRlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICog55u05YmN44GrIHZjbGljayDjgYzlkbzjgbDjgozjgZ/jgYvliKTlrppcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgaXNKdXN0QmVmb3JlVmNsaWNrZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzQmVmb3JlID0gKERhdGUubm93KCkgLSBSb3V0ZXIuc19sYXN0Q2xpY2tlZFRpbWUpIDwgUm91dGVyLkRFTEFZX1RJTUUgKiAyO1xyXG4gICAgICAgICAgICBSb3V0ZXIuc19sYXN0Q2xpY2tlZFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICByZXR1cm4gaXNCZWZvcmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogQ2hlY2sgYmFjayBidXR0b24gY2xpY2tlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIEJhY2sgQnV0dG9uIOOBjOOCr+ODquODg+OCr+OBleOCjOOBn+OBi+WIpOWumlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBpc0JhY2tCdXR0b25DbGlja2VkKGV2ZW50OiBKUXVlcnkuRXZlbnQpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgaWYgKCQoZXZlbnQuY3VycmVudFRhcmdldCkuanFtRGF0YShcInJlbFwiKSA9PT0gXCJiYWNrXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogSXQgY2FsbGVkIG9uIHN1Y2NlZWQgcm91dGluZyB0cmlnZ2VyZWQgYnkgY2hhbmdpbmcgaGFzaC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHBhcmFtIG5hbWUge1N0cmluZ30gW2luXSBuYW1lIG9mIHJvdXRlXHJcbiAgICAgICAgICogQHBhcmFtIGFyZ3Mge0FycmF5fSAgW2luXSBhcnJheSBvZiBwYXJhbXRlclxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDjg4/jg4Pjgrfjg6XlgKTjgYzlpInmm7TjgZXjgozjgIHjg6vjg7zjg4bjgqPjg7PjgrDjgYzmiJDlip/jgZfjgZ/jgajjgY3jgavjgrPjg7zjg6vjgZXjgozjgotcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHBhcmFtIG5hbWUge1N0cmluZ30gW2luXSByb3V0ZSDlkI3jgIJwYWdlIOOBruWApOOBjOa4oeOCi+OAglxyXG4gICAgICAgICAqIEBwYXJhbSBhcmdzIHtBcnJheX0gIFtpbl0g44OR44Op44Oh44O844K/6YWN5YiX44CCXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgb25Sb3V0ZVN1Y2NlZWRlZChuYW1lOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSA8Um91dGVDb250ZXh0PlJvdXRlci5zX3Jvb3RDb250ZXh0c1tuYW1lXTtcclxuICAgICAgICAgICAgaWYgKCEhY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZW50ID0geyBwYXJhbXM6IHsgcXVlcnlQYXJhbXM6IGFyZ3MgfSB9O1xyXG4gICAgICAgICAgICAgICAgUm91dGVyLnNfbGFzdE5hdmlnYXRlSW5mby5pbk5hdmlnYXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gUm91dGVyLnNfbGFzdE5hdmlnYXRlSW5mby5pbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnRlbnQucGFyYW1zID0gJC5leHRlbmQoe30sIGludGVudC5wYXJhbXMsIFJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8uaW50ZW50LnBhcmFtcyB8fCB7fSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLmludGVudCA9ICQuZXh0ZW5kKHt9LCBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLmludGVudCwgaW50ZW50KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZWQgPSBjb250ZXh0LmNhbGxiYWNrKGFyZ3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUm91dGVyLmNoYW5nZVBhZ2UoY29udGV4dC5wYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIEl0IGNhbGxlZCBvbiBmYWlsZWQgcm91dGluZyB0cmlnZ2VyZWQgYnkgY2hhbmdpbmcgaGFzaC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHBhcmFtIG5hbWUge1N0cmluZ30gW2luXSBuYW1lIG9mIHJvdXRlXHJcbiAgICAgICAgICogQHBhcmFtIGFyZ3Mge0FycmF5fSAgW2luXSBhcnJheSBvZiBwYXJhbXRlclxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDjg4/jg4Pjgrfjg6XlgKTjgYzlpInmm7TjgZXjgozjgIHjg6vjg7zjg4bjgqPjg7PjgrDjgYzlpLHmlZfjgZfjgZ/jgajjgY3jgavjgrPjg7zjg6vjgZXjgozjgotcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHBhcmFtIG5hbWUge1N0cmluZ30gW2luXSByb3V0ZSDlkI3jgIJwYWdlIOOBruWApOOBjOa4oeOCi+OAglxyXG4gICAgICAgICAqIEBwYXJhbSBhcmdzIHtBcnJheX0gIFtpbl0g44OR44Op44Oh44O844K/6YWN5YiX44CCXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgb25Sb3V0ZUZhaWxlZChmcmFnbWVudDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgICAgIFJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8uaW5OYXZpZ2F0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKG51bGwgPT0gZnJhZ21lbnQpIHtcclxuICAgICAgICAgICAgICAgIGZyYWdtZW50ID0gQmFja2JvbmUuaGlzdG9yeS5nZXRGcmFnbWVudCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyByb3V0ZSDjgYzop6PmsbrjgafjgY3jgarjgYvjgaPjgZ/jgoLjga7jgpLnrqHnkIbkuIvjgatcclxuICAgICAgICAgICAgaWYgKFJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8ucG9zaXRpdmVOYXZpZ2F0ZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbnRleHQgPSA8Um91dGVDb250ZXh0PlJvdXRlci5zX3Jvb3RDb250ZXh0c1tmcmFnbWVudF07XHJcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGU6IGZyYWdtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdleHA6ICg8YW55PlJvdXRlci5zX3JvdXRlcikuX3JvdXRlVG9SZWdFeHAoZnJhZ21lbnQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLnVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBSb3V0ZXIucHVzaENvbnRleHQoZnJhZ21lbnQsIGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBmcmFnbWVudCDjgYvjgokgcGF0aCDjgpLop6PmsbpcclxuICAgICAgICAgICAgbGV0IHBhdGggPSBmcmFnbWVudDtcclxuICAgICAgICAgICAgaWYgKG51bGwgIT0gUm91dGVyLnNfcm9vdENvbnRleHRzW2ZyYWdtZW50XSkge1xyXG4gICAgICAgICAgICAgICAgcGF0aCA9IFJvdXRlci5zX3Jvb3RDb250ZXh0c1tmcmFnbWVudF0ucGFnZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgUm91dGVyLmNoYW5nZVBhZ2UocGF0aCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogVGhpcyBmdW5jdGlvbiBqdXN0IGNhbGxzIGpRdWVyeSBNb2JpbGUncyBuYXZpZ2F0aW9uIG1ldGhvZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHBhcmFtIHBhdGgge1N0cmluZ30gW2luXSB0byBwYWdlIHBhdGhcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogalF1ZXJ5IE1vYmlsZSDjgavjgojjgovjg5rjg7zjgrjpgbfnp7vmjIflrppcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHBhcmFtIHBhdGgge1N0cmluZ30gW2luXSDpgbfnp7vlhYjjg5HjgrnjgpLmjIflrppcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBjaGFuZ2VQYWdlKHBhdGg6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgICAgICBsZXQgbm90aWZ5QmVmb3JlUm91dGVDaGFuZ2U6ICgpID0+IElQcm9taXNlQmFzZTxhbnk+O1xyXG5cclxuICAgICAgICAgICAgLy8gZGF0YS1yZWw9XCJiYWNrXCIsIOODluODqeOCpuOCtuODnOOCv+ODsywgSC9XIEJhY2sgS2V5IOOBjOaKvOS4i+OBleOCjOOBn+OBqOOBjVxyXG4gICAgICAgICAgICBpZiAoIVJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8ucG9zaXRpdmVOYXZpZ2F0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKFJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8uaW5BZGRpdGlvbmFsQmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIFJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8uaW5BZGRpdGlvbmFsQmFjayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBSb3V0ZXIuZGVjaWRlRGlyZWN0aW9uKHBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOaMh+WumuWFiOOBq+aIu+OCi+OBi+WIpOWumlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZGl0aW9uYWwgPSBSb3V0ZXIuZGV0ZWN0QWRkaXRpb25hbEJhY2tEaXN0YW5jZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgwIDwgYWRkaXRpb25hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAy5Zue55uu5Lul6ZmN44GuIGhhc2ggY2hhbmdlIOOBq+OBr+WPjeW/nOOBleOBm+OBquOBhC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgUm91dGVyLnNfbGFzdE5hdmlnYXRlSW5mby5pbkFkZGl0aW9uYWxCYWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUm91dGVyLmdldEpxbUhpc3RvcnkoKS5hY3RpdmVJbmRleCAtPSBhZGRpdGlvbmFsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5LmdvKC1hZGRpdGlvbmFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyDpgbfnp7vlhYjjgYwgc3ViZmxvdyDplovlp4vngrnjgafjgYLjgovloLTlkIjjgIFwYXJhbSDjgpLliYrpmaRcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN1YkZsb3dJbmZvID0gUm91dGVyLmRldGVjdFN1YkZsb3dCYXNlSW5mbygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN1YkZsb3dJbmZvLmlzQ3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzdWJGbG93SW5mby5zdGFja1tSb3V0ZXIuU1VCRkxPV19QQVJBTV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyDog73li5XnmoTpgbfnp7vjga7loLTlkIggcHJldmlvdXNJbmRleCDjgpLmm7TmlrBcclxuICAgICAgICAgICAgICAgIFJvdXRlci5nZXRKcW1IaXN0b3J5KCkucHJldmlvdXNJbmRleCA9IFJvdXRlci5nZXRKcW1IaXN0b3J5KCkuYWN0aXZlSW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIOODmuODvOOCuOmBt+enu+mWi+Wni+mAmuefpS4g44GZ44Gn44Gr44Kz44O844Or44GV44KM44Gm44GE44KL5aC05ZCI44Gv5pei5a6a44Gu5L2V44KC44GX44Gq44GE44Kz44O844Or44OQ44OD44Kv44KS5L2/55So44GZ44KLLlxyXG4gICAgICAgICAgICBub3RpZnlCZWZvcmVSb3V0ZUNoYW5nZSA9IFJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8uY2FsbGVkQmVmb3JlUm91dGVDaGFuZ2UgPyBfZGVmYXVsdEJlZm9yZVJvdXRlQ2hhbmdlIDogX2JlZm9yZVJvdXRlQ2hhbmdlO1xyXG5cclxuICAgICAgICAgICAgbm90aWZ5QmVmb3JlUm91dGVDaGFuZ2UoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOS7mOWKoOaDheWgsVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLmludGVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXIucHVzaEludGVudChSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLmludGVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBSb3V0ZXIudHJlYXRVcmxIaXN0b3J5KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQubW9iaWxlLmNoYW5nZVBhZ2UoRnJhbWV3b3JrLnRvVXJsKHBhdGgpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dMb2FkTXNnOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dTYW1lUGFnZVRyYW5zaXRpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IFJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8udHJhbnNpdGlvbiB8fCBcIm5vbmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZTogUm91dGVyLnNfbGFzdE5hdmlnYXRlSW5mby5yZXZlcnNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tSGFzaENoYW5nZTogIVJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8ucG9zaXRpdmVOYXZpZ2F0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlSGFzaDogIVJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8ubm9IYXNoQ2hhbmdlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5mYWlsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiYmVmb3JlIHJvdXRlIGNoYW5nZSBjYWxsLCBmYWlsZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIFJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8gPSB7fTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIERlY2lkZSBkaXJlY3Rpb24gcGFyYW1ldGVyLlxyXG4gICAgICAgICAqIEl0J3MgYXMgc2FtZSBhcyBqUU0gaW50ZXJuYWwgaW1wbGVtZW50LiAoaW1wZXJmZWN0aW9uKVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKiBAcGFyYW0gcGF0aCB7U3RyaW5nfSBbaW5dIHRvIHBhZ2UgcGF0aFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBkaXJlY3Rpb24g44Gu5Yik5a6aXHJcbiAgICAgICAgICogalFNIOOBruWGhemDqOWun+ijheOBqOetieS+oSAo5LiN5a6M5YWoKVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKiBAcGFyYW0gcGF0aCB7U3RyaW5nfSBbaW5dIOmBt+enu+WFiOODkeOCueOCkuaMh+WumlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGRlY2lkZURpcmVjdGlvbihwYXRoOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICAgICAgY29uc3QgdXJsID0gJC5tb2JpbGUucGF0aC5jb252ZXJ0VXJsVG9EYXRhVXJsKEZyYW1ld29yay50b1VybChwYXRoKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobnVsbCA9PSBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLnRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIFJvdXRlci5zX2xhc3ROYXZpZ2F0ZUluZm8udHJhbnNpdGlvbiA9IFJvdXRlci5nZXRKcW1IaXN0b3J5KCkuZ2V0QWN0aXZlKCkudHJhbnNpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgUm91dGVyLmdldEpxbUhpc3RvcnkoKS5kaXJlY3Qoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICAgICAgICBwcmVzZW50OiBmdW5jdGlvbiAobmV3UGFnZTogYW55LCBkaXJlY3Rpb246IHN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJiYWNrXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLnJldmVyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLnJldmVyc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmb3J3YXJkXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLnRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLnRyYW5zaXRpb24gPSBuZXdQYWdlLnRyYW5zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidW5rbm93biBkaXJlY3Rpb246IFwiICsgZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtaXNzaW5nOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5Yid5pyf44Oa44O844K4IFVSTCDjga/liKTlrprjgafjgY3jgarjgYTjgILmraPluLjns7vjgIJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoMSA9PT0gUm91dGVyLmdldEpxbUhpc3RvcnkoKS5hY3RpdmVJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLnByZXZpb3VzSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLmFjdGl2ZUluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT0gUm91dGVyLnNfbGFzdE5hdmlnYXRlSW5mby5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLnJldmVyc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgwICE9PSBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLmFjdGl2ZUluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidW5rbm93biBkaXJlY3Rpb24uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogUmV0dXJuIGFkZGl0aW9uYWwgYmFjayBkaXN0YW5jZSBjb3VudCB3aGVuIGJhY2sgZGVzdGluYXRpb24gc2V0LlxyXG4gICAgICAgICAqIChjb25zdCBmdW5jdGlvbilcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHJldHVybiB7TnVtYmVyfSBjb3VudCBvZiBhZGRpdGlvbmEgYmFjayBkaXN0YW5jZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICog5oi744KK5YWI44GM5oyH5a6a44GV44KM44Gm44GE44KL44Go44GN44CB6L+95Yqg44GuIEJhY2sg5pWw44KS6L+U44GX44G+44GZ44CCXHJcbiAgICAgICAgICogKOOBk+OBrumWouaVsOOBryBSb3V0ZXIg44Gu54q25oWL44KS5aSJ5pu044GX44G+44Gb44KT44CCKVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IOi/veWKoOOBpyBCYWNrIOOBq+W/heimgeOBqui3nemboi5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBkZXRlY3RBZGRpdGlvbmFsQmFja0Rpc3RhbmNlKCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gUm91dGVyLmdldEpxbUhpc3RvcnkoKS5zdGFjaztcclxuICAgICAgICAgICAgY29uc3QgaGlzdG9yeUFjdGl2ZUluZGV4ID0gUm91dGVyLmdldEpxbUhpc3RvcnkoKS5hY3RpdmVJbmRleDsgICAgLy8gZGVjaWRlRGlyZWN0aW9uKCkg44GuIFJvdXRlci5nZXRKcW1IaXN0b3J5KCkuZGlyZWN0KCkg44Gr44KI44Gj44Gm44CBaGlzdG9yeSDjga4gYWN0aXZlSW5kZXgg44Gv44GZ44Gn44Gr5aSJ44KP44Gj44Gm44GE44KLXHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzSW5kZXggPSBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLnByZXZpb3VzSW5kZXg7ICAgICAgIC8vIFvmiLvjgotd44GM5oq85LiL44GV44KM44Gf5aC05ZCI44Gr5YCk44GM5YWl44KLXHJcbiAgICAgICAgICAgIGxldCBpLCBiYWNrRHN0LCBkaXN0YW5jZSwgZnJhZ21lbnQsIGNvbnRleHQsIGpxbURhdGFVcmw7XHJcblxyXG4gICAgICAgICAgICAvLyBjaGVjayBcIm9wZXJhdGlvblwiLiBb5oi744KLXeOBiuOCiOOBsyBjbGVhckZvcndhcmQoKSDjgZXjgozjgabjgYTjgarjgYTnirbms4HjgpLjg4Hjgqfjg4Pjgq9cclxuICAgICAgICAgICAgaWYgKCFSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLnJldmVyc2UgfHwgbnVsbCA9PSBwcmV2aW91c0luZGV4IHx8ICFzdGFja1twcmV2aW91c0luZGV4XSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFwiYmFja0RzdCBleGlzdHNcIi4gW+aIu+OCiuWFiF3jgYzmjIflrprjgZXjgozjgabjgYTjgovjgYvjg4Hjgqfjg4Pjgq9cclxuICAgICAgICAgICAgYmFja0RzdCA9IHN0YWNrW3ByZXZpb3VzSW5kZXhdW1JvdXRlci5CQUNLX0RFU1RJTkFUSU9OX1VSTF07XHJcbiAgICAgICAgICAgIGlmICgobnVsbCA9PSBiYWNrRHN0KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZyYWdtZW50ID0gQmFja2JvbmUuaGlzdG9yeS5nZXRGcmFnbWVudChiYWNrRHN0KTtcclxuXHJcbiAgICAgICAgICAgIC8vIOWIneacn+ODmuODvOOCuFxyXG4gICAgICAgICAgICBpZiAoXCJcIiA9PT0gZnJhZ21lbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBoaXN0b3J5QWN0aXZlSW5kZXg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHJvb3RDb250ZXh0IOOBi+OCiSBwYXRoIOOCkumAhuW8leOBjVxyXG4gICAgICAgICAgICBjb250ZXh0ID0gPFJvdXRlQ29udGV4dD5fLmZpbmQoPGFueT5Sb3V0ZXIuc19yb290Q29udGV4dHMsIChjdHg6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eC5yZWdleHAudGVzdChmcmFnbWVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PSBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJiYWNrIGRlc3RpbmF0aW9uIGlzIG5vdCByZWdpc3RlcmVkLiBiYWNrLWRzdDogXCIgKyBiYWNrRHN0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBkYXRhVXJsIOOCkuWFg+OBqyBqUU0gSGlzdG9yeSDjgpLmpJzntKJcclxuICAgICAgICAgICAganFtRGF0YVVybCA9IFJvdXRlci5wYXRoVG9KcW1EYXRhVXJsKGNvbnRleHQucGFnZSk7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IGhpc3RvcnlBY3RpdmVJbmRleCwgZGlzdGFuY2UgPSAwOyAwIDw9IGk7IGktLSAsIGRpc3RhbmNlKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChqcW1EYXRhVXJsID09PSBzdGFja1tpXS5wYWdlVXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJiYWNrIGRlc3RpbmF0aW9uIGRvZXMgbm90IGV4aXN0IGluIGhpc3RvcnkuIGJhY2stZHN0OiBcIiArIGJhY2tEc3QpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBkaXN0YW5jZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBTdGFydCBzdWIgZmxvd1xyXG4gICAgICAgICAqIEF0dGFjaCBTdWJGbG93UGFyYW0gdG8ganFtIGhpc3Rvcnkgc3RhY2sgb2JqZWN0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHN1YkZsb3dQYXJhbSB7U3ViRmxvd1BhcmFtfSBbaW5dIFN1YiBGbG93IHBhcmFtZXRlclxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBTdWIgRmxvdyDjga7plovlp4tcclxuICAgICAgICAgKiBTdWJGbG93UGFyYW0g44KSIGpxbSBoaXN0b3J5IHN0YWNrIOOBq+OCouOCv+ODg+ODgVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHN1YkZsb3dQYXJhbSB7U3ViRmxvd1BhcmFtfSBbaW5dIFN1YiBGbG93IOODkeODqeODoeODvOOCv1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHN0YXJ0U3ViRmxvdyhzdWJGbG93UGFyYW06IFN1YkZsb3dQYXJhbSk6IHZvaWQge1xyXG4gICAgICAgICAgICBjb25zdCBhY3RpdmUgPSBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLmdldEFjdGl2ZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBwYXJhbSA9IDxTdWJGbG93UGFyYW1FeD5zdWJGbG93UGFyYW07XHJcbiAgICAgICAgICAgIGlmIChzdWJGbG93UGFyYW0uZGVzdEJhc2UpIHtcclxuICAgICAgICAgICAgICAgIGxldCBkaXN0YW5jZSA9IDA7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IEJhY2tib25lLmhpc3RvcnkuZ2V0RnJhZ21lbnQoc3ViRmxvd1BhcmFtLmRlc3RCYXNlKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSA8Um91dGVDb250ZXh0Pl8uZmluZCg8YW55PlJvdXRlci5zX3Jvb3RDb250ZXh0cywgKGN0eDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN0eC5yZWdleHAudGVzdChmcmFnbWVudCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChudWxsID09IGNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJiYXNlIGRlc3RpbmF0aW9uIGlzIG5vdCByZWdpc3RlcmVkLiBkZXN0QmFzZTogXCIgKyBzdWJGbG93UGFyYW0uZGVzdEJhc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBkYXRhVXJsIOOCkuWFg+OBqyBqUU0gSGlzdG9yeSDjgpLmpJzntKJcclxuICAgICAgICAgICAgICAgIGNvbnN0IGpxbURhdGFVcmwgPSBSb3V0ZXIucGF0aFRvSnFtRGF0YVVybChjb250ZXh0LnBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLnN0YWNrO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IFJvdXRlci5nZXRKcW1IaXN0b3J5KCkuYWN0aXZlSW5kZXg7IDAgPD0gaTsgaS0tICwgZGlzdGFuY2UrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChqcW1EYXRhVXJsID09PSBzdGFja1tpXS5wYWdlVXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLmFkZGl0aW9uYWxEaXN0YW5jZSA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5kZXN0QmFzZSA9IGxvY2F0aW9uLmhhc2g7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5hZGRpdGlvbmFsRGlzdGFuY2UgPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhY3RpdmVbUm91dGVyLlNVQkZMT1dfUEFSQU1dID0gcGFyYW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogRW5kIHN1YiBmbG93XHJcbiAgICAgICAgICogbmF2aWdhdGUgYW5kIGRlbGV0ZSBTdWJGbG93UGFyYW0gZnJvbSBqcW0gaGlzdG9yeSBzdGFjayBvYmplY3QuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gbmF2T3B0aW9ucyB7TmF2aWdhdGVPcHRpb25zfSBbaW5dIFN1YiBGbG93IHBhcmFtZXRlclxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBTdWIgRmxvdyDjga7ntYLkuoZcclxuICAgICAgICAgKiDpgbfnp7vjgaggU3ViRmxvd1BhcmFtIOOCkiBqcW0gaGlzdG9yeSBzdGFjayDjgYvjgonliYrpmaRcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBuYXZPcHRpb25zIHtOYXZpZ2F0ZU9wdGlvbnN9IFtpbl0gU3ViIEZsb3cg44OR44Op44Oh44O844K/XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgZmluaXNoU3ViRmxvdyhvcHRpb25zOiBOYXZpZ2F0ZU9wdGlvbnMpOiB2b2lkIHtcclxuICAgICAgICAgICAgY29uc3QgbmF2T3B0aW9uczogTmF2aWdhdGVPcHRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICBjb25zdCBiYXNlSW5mbyA9IFJvdXRlci5kZXRlY3RTdWJGbG93QmFzZUluZm8oKTtcclxuICAgICAgICAgICAgLy8gXCJlbmRcIiDmmYLjgavmm7TmlrDjgZXjgozjgZ/jgoLjga7jgpLkuIrmm7jjgY1cclxuICAgICAgICAgICAgY29uc3QgcGFyYW06IFN1YkZsb3dQYXJhbSA9ICQuZXh0ZW5kKHt9LCBiYXNlSW5mby5zdWJGbG93UGFyYW0sIG5hdk9wdGlvbnMuc3ViRmxvdyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gYmFzZUluZm8uZGlzdGFuY2U7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gYmFzZUluZm8uc3RhY2s7XHJcbiAgICAgICAgICAgIGxldCByZXRyeSA9IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IE5BVklHQVRFX0lOVEVSVkFMID0gMTAwO1xyXG4gICAgICAgICAgICBjb25zdCBNQVhfUkVUUllfQ09VTlQgPSAxMDtcclxuXHJcbiAgICAgICAgICAgIC8vIGhhc2gg5aSJ5pu044GM5a6M5LqG44GX44Gf5b6M44GrIG5hdmlnYXRlIOOCkuWun+ihjFxyXG4gICAgICAgICAgICBjb25zdCBfbmF2aWdhdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoTUFYX1JFVFJZX0NPVU5UIDw9IHJldHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcInJlYWNoZWQgbmF2aWdhdGUgbWF4IHJldHJ5IGNvdW50LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvID0ge307XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmFtLmRlc3RCYXNlICE9PSBsb2NhdGlvbi5oYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0cnkrKztcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KF9uYXZpZ2F0ZSwgTkFWSUdBVEVfSU5URVJWQUwpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLmluTmF2aWdhdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIFJvdXRlci5yZWdpc3RlclBhZ2VTdGFjayhwYXJhbS5kZXN0U3RhY2tzLCB0cnVlLCBuYXZPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzdGFjaykge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHN0YWNrW1JvdXRlci5TVUJGTE9XX1BBUkFNXTtcclxuXHJcbiAgICAgICAgICAgICAgICBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLmFjdGl2ZUluZGV4IC09IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgUm91dGVyLmdldEpxbUhpc3RvcnkoKS5jbGVhckZvcndhcmQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGFyYW0uZGVzdFN0YWNrcykge1xyXG4gICAgICAgICAgICAgICAgICAgIFJvdXRlci5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaU9TIOeSsOWig+OBq+OBiuOBhOOBpiBpbmRleC5odG1sIOOCiOOCiiBoaXN0b3J5LmdvKDApIOOBjOeZuueUn+OBmeOCi+OBqOODquODreODvOODieOBjOeZuueUn+OBmeOCiy5cclxuICAgICAgICAgICAgICAgICAgICAvLyDjgZ3jga7lvoznlLvpnaLpgbfnp7vjgpLmjqfjgYjjgovjgZ/jgoEsIOWxpeattOOCkuaIu+OCi+W/heimgeOBjOOBguOCi+OBqOOBjeOBq+OBruOBv+mZkOWumuOBmeOCiy5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoMCAhPT0gZGlzdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5nbygtZGlzdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbmF2T3B0aW9ucy5zdWJGbG93OyAgICAvLyBzdWJGbG93IOODl+ODreODkeODhuOCo+OBruegtOajhFxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoX25hdmlnYXRlLCAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUm91dGVyLnNfbGFzdE5hdmlnYXRlSW5mby5wb3NpdGl2ZU5hdmlnYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5nbygtZGlzdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwic3ViRmxvdyBiZWdpbiBzdGF0dXMgZG9lcyBub3QgZXhpc3QgaW4gaGlzdG9yeS5cIik7XHJcbiAgICAgICAgICAgICAgICBSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBSZXR1cm4gZGVzdGluYXRpb24gU3ViIEZsb3cgaW5mb3JtYXRpb24uXHJcbiAgICAgICAgICogKGNvbnN0IGZ1bmN0aW9uKVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHN1YiBmbG93IGluZm8uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIFN1YiBGbG93IOaDheWgseOCkui/lOWNtFxyXG4gICAgICAgICAqICjjgZPjga7plqLmlbDjga8gUm91dGVyIOOBrueKtuaFi+OCkuWkieabtOOBl+OBvuOBm+OCk+OAgilcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBTdWIgRmxvdyDmg4XloLEuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgZGV0ZWN0U3ViRmxvd0Jhc2VJbmZvKCk6IGFueSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gUm91dGVyLmdldEpxbUhpc3RvcnkoKS5zdGFjaztcclxuICAgICAgICAgICAgY29uc3QgaGlzdG9yeUFjdGl2ZUluZGV4ID0gUm91dGVyLmdldEpxbUhpc3RvcnkoKS5hY3RpdmVJbmRleDtcclxuICAgICAgICAgICAgbGV0IGk6IG51bWJlciwgZGlzdGFuY2U6IG51bWJlcjtcclxuICAgICAgICAgICAgbGV0IHBhcmFtOiBTdWJGbG93UGFyYW1FeCA9IDxTdWJGbG93UGFyYW1FeD57fTtcclxuICAgICAgICAgICAgbGV0IHRhcmdldDogT2JqZWN0O1xyXG5cclxuICAgICAgICAgICAgZm9yIChpID0gaGlzdG9yeUFjdGl2ZUluZGV4LCBkaXN0YW5jZSA9IDA7IDAgPD0gaTsgaS0tICwgZGlzdGFuY2UrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YWNrW2ldW1JvdXRlci5TVUJGTE9XX1BBUkFNXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHN0YWNrW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtID0gPFN1YkZsb3dQYXJhbUV4PnN0YWNrW2ldW1JvdXRlci5TVUJGTE9XX1BBUkFNXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG51bGwgPT0gcGFyYW0uYWRkaXRpb25hbERpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5hZGRpdGlvbmFsRGlzdGFuY2UgPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhY2s6IHRhcmdldCxcclxuICAgICAgICAgICAgICAgIHN1YkZsb3dQYXJhbTogcGFyYW0sXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2UgKyBwYXJhbS5hZGRpdGlvbmFsRGlzdGFuY2UsXHJcbiAgICAgICAgICAgICAgICBpc0N1cnJlbnQ6ICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCAmJiAwID09PSBkaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkoKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBDb252ZXJ0IHBhdGggdG8galFNIGRhdGFVcmwuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEByZXR1cm4ge1N0cmluZ30galFNIGRhdGEgdXJsLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDjg5HjgrnjgpIgalFNIGRhdGFVcmwg44Gr5aSJ5o+bXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEByZXR1cm4ge1N0cmluZ30galFNIGRhdGEgdXJsLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHBhdGhUb0pxbURhdGFVcmwocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgY29uc3QgdXJsID0gRnJhbWV3b3JrLnRvVXJsKHBhdGgpO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhVXJsID0gJC5tb2JpbGUucGF0aC5jb252ZXJ0VXJsVG9EYXRhVXJsKHVybCk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhVXJsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIFVwZGF0ZSBqUU0gdXJsSGlzdG9yeSBieSB3aW5kb3cuaGlzdG9yeSBvYmplY3QuXHJcbiAgICAgICAgICogVG8gYmUgbmF0dXJhbCBicm93c2luZyBoaXN0b3J5IGJlaGF2aW9yLCBhcHBsaWNhdGlvbiBuZWVkcyB0byB1cGRhdGUgalFNIHVybEhpc3RvcnlcclxuICAgICAgICAgKiB3aGVuIGNsaWNraW5nIGJhY2sgb3IgbmV4dCBidXR0b24gb2YgYnJvd3Nlci4gKGltcGVyZmVjdGlvbiBmb3IgZGVjaWRlRGlyZWN0aW9uKCkpXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDjg5bjg6njgqbjgrbjga7lsaXmrbTjgavln7rjgaXjgY0galFNIHVybEhpc3Rvcnkg44KS5pu05pawXHJcbiAgICAgICAgICogW+aIu+OCi10vW+mAsuOCgF3jgYzmirzkuIvjgZXjgozjgZ/lvozjgIHjg5rjg7zjgrjpgbfnp7vjgZXjgozjgovjgajjgY3jgIFqUU0gdXJsSGlzdG9yeSDjgpLmm7TmlrDjgZnjgovjgIIoZGVjaWRlRGlyZWN0aW9uKCkg44Gr44KI44KK5LiN5a6M5YWoKVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyB0cmVhdFVybEhpc3RvcnkoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmIChSb3V0ZXIuc19sYXN0TmF2aWdhdGVJbmZvLnBvc2l0aXZlTmF2aWdhdGUgfHwgaGlzdG9yeS5sZW5ndGggPCBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLnN0YWNrLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgUm91dGVyLmdldEpxbUhpc3RvcnkoKS5jbGVhckZvcndhcmQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY2RwOi8vL0NEUC9GcmFtZXdvcmsvUm91dGVyLnRzIiwibmFtZXNwYWNlIENEUC5GcmFtZXdvcmsge1xyXG5cclxuICAgIGltcG9ydCBQcm9taXNlID0gQ0RQLlByb21pc2U7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgKiBAaW50ZXJmYWNlIE1hbmFnZWRJbnRlbnRcclxuICAgICAqIEBicmllZiBJbnRlcm5hbCBJbnRlbnQgaW50ZXJmYWNlIGZvciBtYW5hZ2VkIHVwZGF0ZSBpbmZvLlxyXG4gICAgICpcclxuICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgKiBAaW50ZXJmYWNlIE1hbmFnZWRJbnRlbnRcclxuICAgICAqIEBicmllZiDmm7TmlrDmg4XloLHjgYznrqHnkIbjgZXjgozjgZ/lhoXpg6ggSW50ZW50IOOCpOODs+OCv+ODvOODleOCp+OCpOOCueOCr+ODqeOCuVxyXG4gICAgICovXHJcbiAgICBpbnRlcmZhY2UgTWFuYWdlZEludGVudCBleHRlbmRzIEludGVudCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIHNldCBcInRydWVcIiB3aGVuIHVwZGF0ZSBpbiBQYWdlIGNsYXNzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDjg5rjg7zjgrjlhoXjgafmm7TmlrDjgZXjgozjgZ/loLTlkIggdHJ1ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIF91cGRhdGU6IGJvb2xlYW47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgKiBAY2xhc3MgUGFnZVxyXG4gICAgICogQGJyaWVmIEJhc2UgY2xhc3Mgb2YgYWxsIHBhZ2UgdW5pdC5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogQGNsYXNzIFBhZ2VcclxuICAgICAqIEBicmllZiDjgZnjgbnjgabjga7jg5rjg7zjgrjjga7ln7rmnKzjgajjgarjgovml6Llrprjgq/jg6njgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGNsYXNzIFBhZ2UgaW1wbGVtZW50cyBJUGFnZSB7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIGRhdGEgbWVtYmVyXHJcblxyXG4gICAgICAgIHByb3RlY3RlZCBfb3duZXI6IElQYWdlO1xyXG4gICAgICAgIHByaXZhdGUgXyRwYWdlOiBKUXVlcnk7XHJcbiAgICAgICAgcHJpdmF0ZSBfJGhlYWRlcjogSlF1ZXJ5O1xyXG4gICAgICAgIHByaXZhdGUgXyRmb290ZXI6IEpRdWVyeTtcclxuICAgICAgICBwcml2YXRlIF9pbnRlbnQ6IE1hbmFnZWRJbnRlbnQ7XHJcbiAgICAgICAgcHJpdmF0ZSBfa2VlcEludGVudDogYm9vbGVhbjtcclxuICAgICAgICBwcml2YXRlIF9pbml0aWFsaXplZDogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIGNvbnN0cnVjdG9yXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gX3VybCAgICB7U3RyaW5nfSAgICAgICAgICAgICAgIFtpbl0gcGFnZSdzIFVSTFxyXG4gICAgICAgICAqIEBwYXJhbSBfaWQgICAgIHtTdHJpbmd9ICAgICAgICAgICAgICAgW2luXSBwYWdlJ3MgSURcclxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyB7UGFnZUNvbnN0cnVjdE9wdGlvbnN9IFtpbl0gb3B0aW9uc1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBjb25zdHJ1Y3RvclxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIF91cmwgICAge1N0cmluZ30gICAgICAgICAgICAgICBbaW5dIOODmuODvOOCuCBVUkxcclxuICAgICAgICAgKiBAcGFyYW0gX2lkICAgICB7U3RyaW5nfSAgICAgICAgICAgICAgIFtpbl0g44Oa44O844K4IElEXHJcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMge1BhZ2VDb25zdHJ1Y3RPcHRpb25zfSBbaW5dIOOCquODl+OCt+ODp+ODs1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3VybDogc3RyaW5nLCBwcml2YXRlIF9pZDogc3RyaW5nLCBvcHRpb25zPzogUGFnZUNvbnN0cnVjdE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR1cChvcHRpb25zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIHB1YmxpYyBhY2Nlc3NvclxyXG5cclxuICAgICAgICBnZXQgYWN0aXZlKCk6IGJvb2xlYW4gICAgICAgICAgIHsgcmV0dXJuICEhdGhpcy5fJHBhZ2UgJiYgdGhpcy5fJHBhZ2UuaGFzQ2xhc3MoXCJ1aS1wYWdlLWFjdGl2ZVwiKTsgICB9XHJcbiAgICAgICAgZ2V0IHVybCgpOiBzdHJpbmcgICAgICAgICAgICAgICB7IHJldHVybiB0aGlzLl91cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICBnZXQgaWQoKTogc3RyaW5nICAgICAgICAgICAgICAgIHsgcmV0dXJuIHRoaXMuX2lkOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIGdldCAkcGFnZSgpOiBKUXVlcnkgICAgICAgICAgICAgeyByZXR1cm4gdGhpcy5fJHBhZ2U7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgZ2V0ICRoZWFkZXIoKTogSlF1ZXJ5ICAgICAgICAgICB7IHJldHVybiB0aGlzLl8kaGVhZGVyOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICBnZXQgJGZvb3RlcigpOiBKUXVlcnkgICAgICAgICAgIHsgcmV0dXJuIHRoaXMuXyRmb290ZXI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIGdldCBpbnRlbnQoKTogSW50ZW50ICAgICAgICAgICAgeyByZXR1cm4gdGhpcy5faW50ZW50OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgc2V0IGludGVudChuZXdJbnRlbnQ6IEludGVudCkgICB7IHRoaXMuX2ludGVudCA9IDxhbnk+bmV3SW50ZW50OyB0aGlzLl9pbnRlbnQuX3VwZGF0ZSA9IHRydWU7ICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gcHVibGljIEV2ZW50IEhhbmRsZXJcclxuXHJcbiAgICAgICAgLy8hIE9yaWVudGF0aW9uIOOBruWkieabtOOCkuWPl+S/oVxyXG4gICAgICAgIHB1YmxpYyBvbk9yaWVudGF0aW9uQ2hhbmdlZChuZXdPcmllbnRhdGlvbjogT3JpZW50YXRpb24pOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX293bmVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vd25lci5vbk9yaWVudGF0aW9uQ2hhbmdlZChuZXdPcmllbnRhdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBIL1cgQmFjayBCdXR0b24g44OP44Oz44OJ44OpXHJcbiAgICAgICAgcHVibGljIG9uSGFyZHdhcmVCYWNrQnV0dG9uKGV2ZW50PzogSlF1ZXJ5LkV2ZW50KTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vd25lcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX293bmVyLm9uSGFyZHdhcmVCYWNrQnV0dG9uKGV2ZW50KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIFJvdXRlciBcImJlZm9yZSByb3V0ZSBjaGFuZ2VcIiDjg4/jg7Pjg4njg6lcclxuICAgICAgICBwdWJsaWMgb25CZWZvcmVSb3V0ZUNoYW5nZSgpOiBJUHJvbWlzZUJhc2U8YW55PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vd25lcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX293bmVyLm9uQmVmb3JlUm91dGVDaGFuZ2UoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOaxjueUqOOCs+ODnuODs+ODieOCkuWPl+S/oVxyXG4gICAgICAgIHB1YmxpYyBvbkNvbW1hbmQoZXZlbnQ/OiBKUXVlcnkuRXZlbnQsIGtpbmQ/OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX293bmVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb3duZXIub25Db21tYW5kKGV2ZW50LCBraW5kKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOacgOWIneOBriBPblBhZ2VJbml0KCkg44Gu44Go44GN44Gr44Gu44G/44Kz44O844Or44GV44KM44KLXHJcbiAgICAgICAgcHVibGljIG9uSW5pdGlhbGl6ZShldmVudDogSlF1ZXJ5LkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vd25lcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3duZXIub25Jbml0aWFsaXplKGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIGpRTSBldmVudDogXCJwYWdlYmVmb3JlY3JlYXRlXCIg44Gr5a++5b+cXHJcbiAgICAgICAgcHVibGljIG9uUGFnZUJlZm9yZUNyZWF0ZShldmVudDogSlF1ZXJ5LkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vd25lcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3duZXIub25QYWdlQmVmb3JlQ3JlYXRlKGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIGpRTSBldmVudDogXCJwYWdlY3JlYXRlXCIgKOaXpzpcInBhZ2Vpbml0XCIpIOOBq+WvvuW/nFxyXG4gICAgICAgIHB1YmxpYyBvblBhZ2VJbml0KGV2ZW50OiBKUXVlcnkuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX293bmVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vd25lci5vblBhZ2VJbml0KGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIGpRTSBldmVudDogXCJwYWdlYmVmb3Jlc2hvd1wiIOOBq+WvvuW/nFxyXG4gICAgICAgIHB1YmxpYyBvblBhZ2VCZWZvcmVTaG93KGV2ZW50OiBKUXVlcnkuRXZlbnQsIGRhdGE/OiBTaG93RXZlbnREYXRhKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vd25lcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3duZXIub25QYWdlQmVmb3JlU2hvdyhldmVudCwgZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBqUU0gZXZlbnQ6IFwicGFnZWNvbnRhaW5lcnNob3dcIiAo5penOlwicGFnZXNob3dcIikg44Gr5a++5b+cXHJcbiAgICAgICAgcHVibGljIG9uUGFnZVNob3coZXZlbnQ6IEpRdWVyeS5FdmVudCwgZGF0YT86IFNob3dFdmVudERhdGEpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX293bmVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vd25lci5vblBhZ2VTaG93KGV2ZW50LCBkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIGpRTSBldmVudDogXCJwYWdlYmVmb3JlaGlkZVwiIOOBq+WvvuW/nFxyXG4gICAgICAgIHB1YmxpYyBvblBhZ2VCZWZvcmVIaWRlKGV2ZW50OiBKUXVlcnkuRXZlbnQsIGRhdGE/OiBIaWRlRXZlbnREYXRhKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vd25lcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3duZXIub25QYWdlQmVmb3JlSGlkZShldmVudCwgZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBqUU0gZXZlbnQ6IFwicGFnZWNvbnRhaW5lcmhpZGVcIiAo5penOlwicGFnZWhpZGVcIikg44Gr5a++5b+cXHJcbiAgICAgICAgcHVibGljIG9uUGFnZUhpZGUoZXZlbnQ6IEpRdWVyeS5FdmVudCwgZGF0YT86IEhpZGVFdmVudERhdGEpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX293bmVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vd25lci5vblBhZ2VIaWRlKGV2ZW50LCBkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIGpRTSBldmVudDogXCJwYWdlcmVtb3ZlXCIg44Gr5a++5b+cXHJcbiAgICAgICAgcHVibGljIG9uUGFnZVJlbW92ZShldmVudDogSlF1ZXJ5LkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vd25lcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3duZXIub25QYWdlUmVtb3ZlKGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gcHJpdmF0ZSBtZXRob2RzXHJcblxyXG4gICAgICAgIC8vISBtaXhpbiDnlKjnlpHkvLzjgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAgICBwcml2YXRlIHNldHVwKG9wdGlvbnM6IFBhZ2VDb25zdHJ1Y3RPcHRpb25zKTogdm9pZCB7XHJcbiAgICAgICAgICAgIC8vIG1peGluIGRlc3RpbmF0aW9uIOeUqOOBruWGjeWIneacn+WMllxyXG4gICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLl9pbnRlbnQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgLy8g44Kk44OZ44Oz44OI44OQ44Kk44Oz44OJXHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yOiBzdHJpbmcgPSBcIiNcIiArIHRoaXMuX2lkO1xyXG4gICAgICAgICAgICAkKGRvY3VtZW50KVxyXG4gICAgICAgICAgICAgICAgLm9mZihcInBhZ2ViZWZvcmVjcmVhdGVcIiwgc2VsZWN0b3IpXHJcbiAgICAgICAgICAgICAgICAub24oXCJwYWdlYmVmb3JlY3JlYXRlXCIsIHNlbGVjdG9yLCAoZXZlbnQ6IEpRdWVyeS5FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuXyRwYWdlID0gJChzZWxlY3RvcikuZmlyc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kaGVhZGVyID0gdGhpcy5fJHBhZ2UuY2hpbGRyZW4oXCI6anFtRGF0YShyb2xlPWhlYWRlcilcIikuZmlyc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZm9vdGVyID0gdGhpcy5fJHBhZ2UuY2hpbGRyZW4oXCI6anFtRGF0YShyb2xlPWZvb3RlcilcIikuZmlyc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kcGFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oXCJwYWdlY3JlYXRlXCIsIChldjogSlF1ZXJ5LkV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2VJbml0KGV2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwicGFnZWJlZm9yZXNob3dcIiwgKGV2OiBKUXVlcnkuRXZlbnQsIGRhdGE6IFNob3dFdmVudERhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZUJlZm9yZVNob3coZXYsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBbTm90ZV1pbnN0ZWFkIGZ1dHVyZSB2ZXJzaW9uIFwicGFnZWNvbnRhaW5lcnNob3dcIi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwicGFnZXNob3dcIiwgKGV2OiBKUXVlcnkuRXZlbnQsIGRhdGE6IFNob3dFdmVudERhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZVNob3coZXYsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oXCJwYWdlYmVmb3JlaGlkZVwiLCAoZXY6IEpRdWVyeS5FdmVudCwgZGF0YTogSGlkZUV2ZW50RGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlQmVmb3JlSGlkZShldiwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFtOb3RlXWluc3RlYWQgZnV0dXJlIHZlcnNpb24gXCJwYWdlY29udGFpbmVyaGlkZVwiLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oXCJwYWdlaGlkZVwiLCAoZXY6IEpRdWVyeS5FdmVudCwgZGF0YTogSGlkZUV2ZW50RGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlSGlkZShldiwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcInBhZ2VyZW1vdmVcIiwgKGV2OiBKUXVlcnkuRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZVJlbW92ZShldik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZUJlZm9yZUNyZWF0ZShldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cclxuICAgICAgICAgICAgLy8gb3duZXIg6Kit5a6aXHJcbiAgICAgICAgICAgIHRoaXMuX293bmVyID0gb3B0aW9ucy5vd25lcjtcclxuICAgICAgICAgICAgLy8gaW50ZW50IOioreWumlxyXG4gICAgICAgICAgICB0aGlzLl9rZWVwSW50ZW50ID0gb3B0aW9ucy5rZWVwSW50ZW50O1xyXG5cclxuICAgICAgICAgICAgLy8gUm91dGVyIOOBuOeZu+mMslxyXG4gICAgICAgICAgICBpZiAobnVsbCA9PSBvcHRpb25zLnJvdXRlKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLnJvdXRlID0gdGhpcy5faWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgUm91dGVyLnJlZ2lzdGVyKG9wdGlvbnMucm91dGUsIHRoaXMuX3VybCwgb3B0aW9ucy50b3AsIG9wdGlvbnMuY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIFBhZ2VUcmFuc2l0aW9uRGlyZWN0aW9uIOOBruWIpOWumlxyXG4gICAgICAgIHByaXZhdGUgZ2V0RGlyZWN0aW9uKCk6IFBhZ2VUcmFuc2l0aW9uRGlyZWN0aW9uIHtcclxuICAgICAgICAgICAgY29uc3QgYWN0aXZlSW5kZXggPSBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLmFjdGl2ZUluZGV4O1xyXG4gICAgICAgICAgICBjb25zdCBwcmV2SW5kZXggPSBSb3V0ZXIuZ2V0SnFtSGlzdG9yeSgpLnByZXZpb3VzSW5kZXg7XHJcblxyXG4gICAgICAgICAgICBpZiAobnVsbCA9PSBhY3RpdmVJbmRleCB8fCBudWxsID09IHByZXZJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwidW5rbm93blwiO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByZXZJbmRleCA9PT0gYWN0aXZlSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcInNhbWVcIjtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChhY3RpdmVJbmRleCA8IHByZXZJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYmFja1wiO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZm9yd2FyZFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHBhZ2VCZWZvcmVDcmVhdGUoZXZlbnQ6IEpRdWVyeS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLm9uUGFnZUJlZm9yZUNyZWF0ZShldmVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHBhZ2VJbml0KGV2ZW50OiBKUXVlcnkuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkluaXRpYWxpemUoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMub25QYWdlSW5pdChldmVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHBhZ2VCZWZvcmVTaG93KGV2ZW50OiBKUXVlcnkuRXZlbnQsIGRhdGE6IFNob3dFdmVudERhdGEpOiB2b2lkIHtcclxuICAgICAgICAgICAgRnJhbWV3b3JrLnNldEFjdGl2ZVBhZ2UodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludGVudCA9IDxNYW5hZ2VkSW50ZW50PlJvdXRlci5wb3BJbnRlbnQoKTtcclxuICAgICAgICAgICAgdGhpcy5vblBhZ2VCZWZvcmVTaG93KGV2ZW50LCAkLmV4dGVuZChkYXRhLCB7IGRpcmVjdGlvbjogdGhpcy5nZXREaXJlY3Rpb24oKSB9KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHBhZ2VTaG93KGV2ZW50OiBKUXVlcnkuRXZlbnQsIGRhdGE6IFNob3dFdmVudERhdGEpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5vblBhZ2VTaG93KGV2ZW50LCAkLmV4dGVuZChkYXRhLCB7IGRpcmVjdGlvbjogdGhpcy5nZXREaXJlY3Rpb24oKSB9KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHBhZ2VCZWZvcmVIaWRlKGV2ZW50OiBKUXVlcnkuRXZlbnQsIGRhdGE6IEhpZGVFdmVudERhdGEpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5vblBhZ2VCZWZvcmVIaWRlKGV2ZW50LCAkLmV4dGVuZChkYXRhLCB7IGRpcmVjdGlvbjogdGhpcy5nZXREaXJlY3Rpb24oKSB9KSk7XHJcbiAgICAgICAgICAgIGlmIChudWxsICE9IHRoaXMuX2ludGVudCAmJiAodGhpcy5fa2VlcEludGVudCB8fCB0aGlzLl9pbnRlbnQuX3VwZGF0ZSkpIHsgICAgLy8gaW50ZW50IOOBq+abtOaWsOOBjOOBguOBo+OBn+WgtOWQiFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2ludGVudC5fdXBkYXRlO1xyXG4gICAgICAgICAgICAgICAgUm91dGVyLnB1c2hJbnRlbnQodGhpcy5faW50ZW50KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChSb3V0ZXIuZnJvbUhhc2hDaGFuZ2VkKCkgJiYgUm91dGVyLmlzSW5TdWJGbG93KCkpIHsgICAgLy8gU3ViIEZsb3cg5YaF44GnIGJhY2sg44GV44KM44Gf5aC05ZCIXHJcbiAgICAgICAgICAgICAgICBSb3V0ZXIucHVzaEludGVudCh0aGlzLl9pbnRlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2ludGVudCA9IG51bGw7XHJcbiAgICAgICAgICAgIEZyYW1ld29yay5zZXRBY3RpdmVQYWdlKG51bGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwYWdlSGlkZShldmVudDogSlF1ZXJ5LkV2ZW50LCBkYXRhOiBIaWRlRXZlbnREYXRhKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMub25QYWdlSGlkZShldmVudCwgJC5leHRlbmQoZGF0YSwgeyBkaXJlY3Rpb246IHRoaXMuZ2V0RGlyZWN0aW9uKCkgfSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwYWdlUmVtb3ZlKGV2ZW50OiBKUXVlcnkuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5vblBhZ2VSZW1vdmUoZXZlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl8kcGFnZS5vZmYoKTtcclxuICAgICAgICAgICAgdGhpcy5fJHBhZ2UgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl8kaGVhZGVyLm9mZigpO1xyXG4gICAgICAgICAgICB0aGlzLl8kaGVhZGVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fJGZvb3Rlci5vZmYoKTtcclxuICAgICAgICAgICAgdGhpcy5fJGZvb3RlciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAvLyBjbG9zdXJlIG1ldGhvZHNcclxuXHJcbiAgICAvKlxyXG4gICAgICogalFNMS40IOOBq+OBpuOAgWR1cGxpY2F0ZSDjgajjgZXjgozjgabjgYTjgosgXCJwYWdlc2hvd1wiLCBcInBhZ2VoaWRlXCIg44Gv44G+44Gg5o2u44GI572u44GN44CCXHJcbiAgICAgKiBodHRwOi8vanF1ZXJ5bW9iaWxlLmNvbS91cGdyYWRlLWd1aWRlLzEuNC8jbmF2aWdhdGlvblxyXG4gICAgICpcclxuICAgICAqIOeJueWumuODmuODvOOCuOOBq+WvvuOBl+OBpuOAgeOCpOODmeODs+ODiOOCkuWPluW+l+OBp+OBjeOBquOBhOOBn+OCgeOAglxyXG4gICAgICogRm9ydW0g44Gn44KC6K2w6KuW5Lit44Gq44Gu44Gn44CB5rG6552A44GM44Gk44GE44Gm44GL44KJ5a++5b+c44KS6ICD5oWu44GZ44KL44CCXHJcbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS1tb2JpbGUvaXNzdWVzLzY4NjVcclxuICAgICAqXHJcbiAgICAgKiBb5Y+C6ICDXSDjgojjgY/jgo/jgYvjgovjgqTjg5njg7Pjg4jjg4Hjg7zjg4jjgrfjg7zjg4hcclxuICAgICAqICAtIOacrOWutigxLjQrKSBodHRwOi8vanFtdHJpY2tzLndvcmRwcmVzcy5jb20vMjAxNC8wMy8yNi9qcXVlcnktbW9iaWxlLXBhZ2UtZXZlbnRzL1xyXG4gICAgICogIC0g5pyJ5b+XKH4xLjMpIGh0dHA6Ly9kZXYuc2NyZXctYXhpcy5jb20vZG9jL2pxdWVyeV9tb2JpbGUvcmVzb3VyY2VzL2NoZWF0c2hlZXQvXHJcbiAgICAgKlxyXG4gICAgICog5Lul5LiL44Gv5LiN5a6M5YWo44Gq5a++5b+c5LqI5a6a44Kz44O844OJXHJcbiAgICAgKlxyXG4gICAgICog54m544Gr5oyv44KL6Iie44GE44GM5aSJ44KP44KL44Gu44Gv44CBXCJwYWdlaGlkZVwiIOOBp+OAgeaknOiojuOBleOCjOOBpuOBhOOCi+S7leanmOOBp+OBr1xyXG4gICAgICogRE9NIOOCkueJueWumuOBp+OBjeOBquOBhOOBn+OCgeOAgW9uUGFnZUhpZGUoKSDjgpLjgqTjg7Pjgrnjgr/jg7PjgrnjgavkvJ3jgYjjgovjgZPjgajjgYzjgafjgY3jgarjgYTjgIJcclxuICAgICAqXHJcbiAgICAgKiDku5Xmp5jjgYzlpInjgo/jgonjgarjgYTloLTlkIjjga9cclxuICAgICAqIG9uUGFnZUJlZm9yZUhpZGUoKSDjga7kuK3jgacgcG9zdCDjgZfjgaYgb25QYWdlSGlkZSgpIOOCkueZuuihjOOBmeOCi+S6iOWumijpgY7ljrvkupLmj5vkv53oqLwpXHJcbiAgICAgKlxyXG4gICAgICogMjAxNS8wMy8yNSDov73oqJg6XHJcbiAgICAgKiDku5Xmp5jjga/norrlrpouIGpRTTEuNiDjgojjgorliYrpmaTjgZXjgozjgovkuojlrppcclxuICAgICAqICBqUU0xLjQg55u45b2T44Gu5Y+C6ICD5a6f6KOFIHBsdWdpbiDjgYzjgYLjgorjgIHjgZPjga7lrp/oo4Xnm7jlvZPjga7mqZ/og73jgpIgY2RwLmZyYW1ld29yay5qcW0g44Gn5oqx44GI44KL5LqI5a6aXHJcbiAgICAgKiAgaHR0cHM6Ly9naXRodWIuY29tL2Fyc2NobWl0ei9qcXVlcnktbW9iaWxlLW9ucGFnZVxyXG4gICAgICpcclxuICAgICAqIOWFrOW8j+imi+ino1xyXG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnktbW9iaWxlL2lzc3Vlcy83MjgzI2lzc3VlY29tbWVudC00MDc0NjYyMlxyXG4gICAgICovXHJcbi8qXHJcbiAgICAvLyBiaW5kIFwicGFnZWNvbnRhaW5lcnNob3dcIiwgYW5kIFwicGFnZWNvbnRhaW5lcmhpZGVcIi5cclxuICAgICgoKSA9PiB7XHJcbiAgICAgICAgbGV0ICRib2R5OiBhbnkgPSAkKFwiYm9keVwiKTtcclxuICAgICAgICAkKGRvY3VtZW50KVxyXG4gICAgICAgICAgICAub24oXCJwYWdlY29udGFpbmVyc2hvd1wiLCAoZXZlbnQ6IEpRdWVyeS5FdmVudCwgZGF0YTogU2hvd0V2ZW50RGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKDAgPCBkYXRhLnByZXZQYWdlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFwicGFnZWNvbnRhaW5lcnNob3dcIiDjga8gXCJwYWdlY29udGFpbmVyaGlkZVwiIOOCiOOCiuOCgumBheOBhOOBruOBp+OAgeOChOOBr+OCiiBET00g44Gr44Gv44Ki44Kv44K744K544Gn44GN44Gq44GEXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0ICRwcmV2cGFnZSA9ICQoXCIjXCIgKyBkYXRhLnByZXZQYWdlWzBdLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAkcHJldnBhZ2UudHJpZ2dlcihcIl9wYWdlaGlkZVwiLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIOS7peS4i+OBruWvvuW/nOOBp+OAgVwicGFnZWNvbnRhaW5lcnNob3dcIiDjga8gXCJwYWdlc2hvd1wiIOWQjOetieOBruaMr+OCi+iInuOBhOOBq+OBmeOCi+OBk+OBqOOBjOWPr+iDvVxyXG4gICAgICAgICAgICAgICAgbGV0IHBhZ2VJZCA9ICRib2R5LnBhZ2Vjb250YWluZXIoXCJnZXRBY3RpdmVQYWdlXCIpLnByb3AoXCJpZFwiKTtcclxuICAgICAgICAgICAgICAgIGxldCAkcGFnZSA9ICQoXCIjXCIgKyBwYWdlSWQpO1xyXG4gICAgICAgICAgICAgICAgJHBhZ2UudHJpZ2dlcihcIl9wYWdlc2hvd1wiLCBkYXRhKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwicGFnZWNvbnRhaW5lcmhpZGVcIiwgKGV2ZW50OiBKUXVlcnkuRXZlbnQsIGRhdGE6IEhpZGVFdmVudERhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFwicGFnZWNvbnRhaW5lcmhpZGVcIiDjgpLlj5fjgZHjgZ/jgajjgY3jga/ml6LjgasgRE9NIOOBi+OCiea2iOOBiOOBpuOBhOOCi+OBn+OCgeOAgXBhZ2Ug44Gv54m55a6a44Gn44GN44Gq44GE44CCXHJcbiAgICAgICAgICAgICAgICAvL2xldCBwYWdlSWQgPSAkYm9keS5wYWdlY29udGFpbmVyKCdnZXRBY3RpdmVQYWdlJykucHJvcChcImlkXCIpO1xyXG4gICAgICAgICAgICAgICAgLy9sZXQgJHBhZ2UgPSAkKFwiI1wiICsgcGFnZUlkKTtcclxuICAgICAgICAgICAgICAgIC8vJHBhZ2UudHJpZ2dlcihcIl9wYWdlaGlkZVwiLCBkYXRhKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwicGFnZWNvbnRhaW5lcnRyYW5zaXRpb25cIiwgKGV2ZW50OiBKUXVlcnkuRXZlbnQsIGRhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gXCJwYWdlY29udGFpbmVydHJhbnNpdGlvblwiIOOBq+OBryB0b1BhZ2Ug44Gr44GX44GL44Ki44Kv44K744K544Gv44Gn44GN44Gq44GEXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgO1xyXG4gICAgfSkoKTtcclxuKi9cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gY2RwOi8vL0NEUC9GcmFtZXdvcmsvUGFnZS50cyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8yX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwge1wicm9vdFwiOlwiQ0RQXCIsXCJjb21tb25qc1wiOlwiY2RwLmkxOG5cIixcImNvbW1vbmpzMlwiOlwiY2RwLmkxOG5cIixcImFtZFwiOlwiY2RwLmkxOG5cIn1cbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzNfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCB7XCJyb290XCI6XCJCYWNrYm9uZVwiLFwiY29tbW9uanNcIjpcImJhY2tib25lXCIsXCJjb21tb25qczJcIjpcImJhY2tib25lXCIsXCJhbWRcIjpcImJhY2tib25lXCJ9XG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qKiogSU1QT1JUUyBGUk9NIGltcG9ydHMtbG9hZGVyICoqKi9cbihmdW5jdGlvbigpIHtcblxuLyohXHJcbiAqIGpRdWVyeSBNaWdyYXRlIC0gdjMuMC4xLWhvdGZpeCAtIDIwMTctMDEtMTFcclxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcclxuICovXHJcbjsgKGZ1bmN0aW9uIChmYWN0b3J5KSB7XHJcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXHJcbiAgICAgICAgZGVmaW5lKFtcImpxdWVyeVwiXSwgZnVuY3Rpb24gKCQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkoJCwgd2luZG93KTtcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xyXG4gICAgICAgIC8vIE5vZGUvQ29tbW9uSlNcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcImpxdWVyeVwiKSwgd2luZG93KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzXHJcbiAgICAgICAgZmFjdG9yeShqUXVlcnksIHdpbmRvdyk7XHJcbiAgICB9XHJcbn0pKGZ1bmN0aW9uIChqUXVlcnksIHdpbmRvdykge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgalF1ZXJ5Lm1pZ3JhdGVWZXJzaW9uID0gXCIzLjAuMS1ob3RmaXhcIjsgLy8gd2l0aCBob3RmaXhcclxuXHJcbiAgICAvKiBleHBvcnRlZCBtaWdyYXRlV2FybiwgbWlncmF0ZVdhcm5GdW5jLCBtaWdyYXRlV2FyblByb3AgKi9cclxuXHJcbiAgICAoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAvLyBTdXBwb3J0OiBJRTkgb25seVxyXG4gICAgICAgIC8vIElFOSBvbmx5IGNyZWF0ZXMgY29uc29sZSBvYmplY3Qgd2hlbiBkZXYgdG9vbHMgYXJlIGZpcnN0IG9wZW5lZFxyXG4gICAgICAgIC8vIEFsc28sIGF2b2lkIEZ1bmN0aW9uI2JpbmQgaGVyZSB0byBzaW1wbGlmeSBQaGFudG9tSlMgdXNhZ2VcclxuICAgICAgICB2YXIgbG9nID0gd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGUubG9nICYmXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZy5hcHBseSh3aW5kb3cuY29uc29sZSwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmJhZFZlcnNpb25zID0gL15bMTJdXFwuLztcclxuXHJcbiAgICAgICAgaWYgKCFsb2cpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTmVlZCBqUXVlcnkgMy4wLjArIGFuZCBubyBvbGRlciBNaWdyYXRlIGxvYWRlZFxyXG4gICAgICAgIGlmICghalF1ZXJ5IHx8IHJiYWRWZXJzaW9ucy50ZXN0KGpRdWVyeS5mbi5qcXVlcnkpKSB7XHJcbiAgICAgICAgICAgIGxvZyhcIkpRTUlHUkFURTogalF1ZXJ5IDMuMC4wKyBSRVFVSVJFRFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGpRdWVyeS5taWdyYXRlV2FybmluZ3MpIHtcclxuICAgICAgICAgICAgbG9nKFwiSlFNSUdSQVRFOiBNaWdyYXRlIHBsdWdpbiBsb2FkZWQgbXVsdGlwbGUgdGltZXNcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTaG93IGEgbWVzc2FnZSBvbiB0aGUgY29uc29sZSBzbyBkZXZzIGtub3cgd2UncmUgYWN0aXZlXHJcbiAgICAgICAgaWYgKCFqUXVlcnkubWlncmF0ZU11dGUpIHtcclxuICAgICAgICAgICAgbG9nKFwiSlFNSUdSQVRFOiBNaWdyYXRlIGlzIGluc3RhbGxlZFwiICtcclxuICAgICAgICAgICAgICAgIChqUXVlcnkubWlncmF0ZU11dGUgPyBcIlwiIDogXCIgd2l0aCBsb2dnaW5nIGFjdGl2ZVwiKSArXHJcbiAgICAgICAgICAgICAgICBcIiwgdmVyc2lvbiBcIiArIGpRdWVyeS5taWdyYXRlVmVyc2lvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfSkoKTtcclxuXHJcbiAgICB2YXIgd2FybmVkQWJvdXQgPSB7fTtcclxuXHJcbiAgICAvLyBMaXN0IG9mIHdhcm5pbmdzIGFscmVhZHkgZ2l2ZW47IHB1YmxpYyByZWFkIG9ubHlcclxuICAgIGpRdWVyeS5taWdyYXRlV2FybmluZ3MgPSBbXTtcclxuXHJcbiAgICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB0cmFjZXMgdGhhdCBhcHBlYXIgd2l0aCB3YXJuaW5nc1xyXG4gICAgaWYgKGpRdWVyeS5taWdyYXRlVHJhY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGpRdWVyeS5taWdyYXRlVHJhY2UgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZvcmdldCBhbnkgd2FybmluZ3Mgd2UndmUgYWxyZWFkeSBnaXZlbjsgcHVibGljXHJcbiAgICBqUXVlcnkubWlncmF0ZVJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHdhcm5lZEFib3V0ID0ge307XHJcbiAgICAgICAgalF1ZXJ5Lm1pZ3JhdGVXYXJuaW5ncy5sZW5ndGggPSAwO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBtaWdyYXRlV2Fybihtc2cpIHtcclxuICAgICAgICB2YXIgY29uc29sZSA9IHdpbmRvdy5jb25zb2xlO1xyXG4gICAgICAgIGlmICghd2FybmVkQWJvdXRbbXNnXSkge1xyXG4gICAgICAgICAgICB3YXJuZWRBYm91dFttc2ddID0gdHJ1ZTtcclxuICAgICAgICAgICAgalF1ZXJ5Lm1pZ3JhdGVXYXJuaW5ncy5wdXNoKG1zZyk7XHJcbiAgICAgICAgICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2FybiAmJiAhalF1ZXJ5Lm1pZ3JhdGVNdXRlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJKUU1JR1JBVEU6IFwiICsgbXNnKTtcclxuICAgICAgICAgICAgICAgIGlmIChqUXVlcnkubWlncmF0ZVRyYWNlICYmIGNvbnNvbGUudHJhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLnRyYWNlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbWlncmF0ZVdhcm5Qcm9wKG9iaiwgcHJvcCwgdmFsdWUsIG1zZykge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIHByb3AsIHtcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG1pZ3JhdGVXYXJuKG1zZyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBtaWdyYXRlV2Fybihtc2cpO1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1pZ3JhdGVXYXJuRnVuYyhvYmosIHByb3AsIG5ld0Z1bmMsIG1zZykge1xyXG4gICAgICAgIG9ialtwcm9wXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWlncmF0ZVdhcm4obXNnKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld0Z1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh3aW5kb3cuZG9jdW1lbnQuY29tcGF0TW9kZSA9PT0gXCJCYWNrQ29tcGF0XCIpIHtcclxuICAgICAgICAvLyBKUXVlcnkgaGFzIG5ldmVyIHN1cHBvcnRlZCBvciB0ZXN0ZWQgUXVpcmtzIE1vZGVcclxuICAgICAgICBtaWdyYXRlV2FybihcImpRdWVyeSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIFF1aXJrcyBNb2RlXCIpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB2YXIgb2xkSW5pdCA9IGpRdWVyeS5mbi5pbml0LFxyXG4gICAgICAgIG9sZElzTnVtZXJpYyA9IGpRdWVyeS5pc051bWVyaWMsXHJcbiAgICAgICAgb2xkRmluZCA9IGpRdWVyeS5maW5kLFxyXG4gICAgICAgIHJhdHRySGFzaFRlc3QgPSAvXFxbKFxccypbLVxcd10rXFxzKikoW358XiQqXT89KVxccyooWy1cXHcjXSo/I1stXFx3I10qKVxccypcXF0vLFxyXG4gICAgICAgIHJhdHRySGFzaEdsb2IgPSAvXFxbKFxccypbLVxcd10rXFxzKikoW358XiQqXT89KVxccyooWy1cXHcjXSo/I1stXFx3I10qKVxccypcXF0vZztcclxuXHJcbiAgICBqUXVlcnkuZm4uaW5pdCA9IGZ1bmN0aW9uIChhcmcxKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGFyZzEgPT09IFwic3RyaW5nXCIgJiYgYXJnMSA9PT0gXCIjXCIpIHtcclxuICAgICAgICAgICAgLy8gSlF1ZXJ5KCBcIiNcIiApIGlzIGEgYm9ndXMgSUQgc2VsZWN0b3IsIGJ1dCBpdCByZXR1cm5lZCBhbiBlbXB0eSBzZXQgYmVmb3JlIGpRdWVyeSAzLjBcclxuICAgICAgICAgICAgbWlncmF0ZVdhcm4oXCJqUXVlcnkoICcjJyApIGlzIG5vdCBhIHZhbGlkIHNlbGVjdG9yXCIpO1xyXG4gICAgICAgICAgICBhcmdzWzBdID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb2xkSW5pdC5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH07XHJcbiAgICBqUXVlcnkuZm4uaW5pdC5wcm90b3R5cGUgPSBqUXVlcnkuZm47XHJcblxyXG4gICAgalF1ZXJ5LmZpbmQgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcclxuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XHJcblxyXG4gICAgICAgIC8vIFN1cHBvcnQ6IFBoYW50b21KUyAxLnhcclxuICAgICAgICAvLyBTdHJpbmcjbWF0Y2ggZmFpbHMgdG8gbWF0Y2ggd2hlbiB1c2VkIHdpdGggYSAvL2cgUmVnRXhwLCBvbmx5IG9uIHNvbWUgc3RyaW5nc1xyXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgJiYgcmF0dHJIYXNoVGVzdC50ZXN0KHNlbGVjdG9yKSkge1xyXG4gICAgICAgICAgICAvLyBUaGUgbm9uc3RhbmRhcmQgYW5kIHVuZG9jdW1lbnRlZCB1bnF1b3RlZC1oYXNoIHdhcyByZW1vdmVkIGluIGpRdWVyeSAxLjEyLjBcclxuICAgICAgICAgICAgLy8gRmlyc3Qgc2VlIGlmIHFTIHRoaW5rcyBpdCdzIGEgdmFsaWQgc2VsZWN0b3IsIGlmIHNvIGF2b2lkIGEgZmFsc2UgcG9zaXRpdmVcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gRGlkbid0ICpsb29rKiB2YWxpZCB0byBxU0EsIHdhcm4gYW5kIHRyeSBxdW90aW5nIHdoYXQgd2UgdGhpbmsgaXMgdGhlIHZhbHVlXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9yLnJlcGxhY2UocmF0dHJIYXNoR2xvYiwgZnVuY3Rpb24gKF8sIGF0dHIsIG9wLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIltcIiArIGF0dHIgKyBvcCArIFwiXFxcIlwiICsgdmFsdWUgKyBcIlxcXCJdXCI7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmVnZXhwICptYXkqIGhhdmUgY3JlYXRlZCBhbiBpbnZhbGlkIHNlbGVjdG9yLCBkb24ndCB1cGRhdGUgaXRcclxuICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB0aGVyZSBtYXkgYmUgZmFsc2UgYWxhcm1zIGlmIHNlbGVjdG9yIHVzZXMgalF1ZXJ5IGV4dGVuc2lvbnNcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1pZ3JhdGVXYXJuKFwiQXR0cmlidXRlIHNlbGVjdG9yIHdpdGggJyMnIG11c3QgYmUgcXVvdGVkOiBcIiArIGFyZ3NbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBzZWxlY3RvcjtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycjIpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaWdyYXRlV2FybihcIkF0dHJpYnV0ZSBzZWxlY3RvciB3aXRoICcjJyB3YXMgbm90IGZpeGVkOiBcIiArIGFyZ3NbMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gb2xkRmluZC5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ29weSBwcm9wZXJ0aWVzIGF0dGFjaGVkIHRvIG9yaWdpbmFsIGpRdWVyeS5maW5kIG1ldGhvZCAoZS5nLiAuYXR0ciwgLmlzWE1MKVxyXG4gICAgdmFyIGZpbmRQcm9wO1xyXG4gICAgZm9yIChmaW5kUHJvcCBpbiBvbGRGaW5kKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvbGRGaW5kLCBmaW5kUHJvcCkpIHtcclxuICAgICAgICAgICAgalF1ZXJ5LmZpbmRbZmluZFByb3BdID0gb2xkRmluZFtmaW5kUHJvcF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgY29udGFpbmVkIGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0XHJcbiAgICBqUXVlcnkuZm4uc2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBtaWdyYXRlV2FybihcImpRdWVyeS5mbi5zaXplKCkgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZDsgdXNlIHRoZSAubGVuZ3RoIHByb3BlcnR5XCIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxlbmd0aDtcclxuICAgIH07XHJcblxyXG4gICAgalF1ZXJ5LnBhcnNlSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBtaWdyYXRlV2FybihcImpRdWVyeS5wYXJzZUpTT04gaXMgZGVwcmVjYXRlZDsgdXNlIEpTT04ucGFyc2VcIik7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcclxuICAgIH07XHJcblxyXG4gICAgalF1ZXJ5LmlzTnVtZXJpYyA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAvLyBUaGUgalF1ZXJ5IDIuMi4zIGltcGxlbWVudGF0aW9uIG9mIGlzTnVtZXJpY1xyXG4gICAgICAgIGZ1bmN0aW9uIGlzTnVtZXJpYzIob2JqKSB7XHJcbiAgICAgICAgICAgIHZhciByZWFsU3RyaW5nT2JqID0gb2JqICYmIG9iai50b1N0cmluZygpO1xyXG4gICAgICAgICAgICByZXR1cm4gIWpRdWVyeS5pc0FycmF5KG9iaikgJiYgKHJlYWxTdHJpbmdPYmogLSBwYXJzZUZsb2F0KHJlYWxTdHJpbmdPYmopICsgMSkgPj0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IG9sZElzTnVtZXJpYyh2YWwpLFxyXG4gICAgICAgICAgICBvbGRWYWx1ZSA9IGlzTnVtZXJpYzIodmFsKTtcclxuXHJcbiAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICBtaWdyYXRlV2FybihcImpRdWVyeS5pc051bWVyaWMoKSBzaG91bGQgbm90IGJlIGNhbGxlZCBvbiBjb25zdHJ1Y3RlZCBvYmplY3RzXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG9sZFZhbHVlO1xyXG4gICAgfTtcclxuXHJcbiAgICBtaWdyYXRlV2FybkZ1bmMoalF1ZXJ5LCBcInVuaXF1ZVwiLCBqUXVlcnkudW5pcXVlU29ydCxcclxuICAgICAgICBcImpRdWVyeS51bmlxdWUgaXMgZGVwcmVjYXRlZDsgdXNlIGpRdWVyeS51bmlxdWVTb3J0XCIpO1xyXG5cclxuICAgIC8vIE5vdyBqUXVlcnkuZXhwci5wc2V1ZG9zIGlzIHRoZSBzdGFuZGFyZCBpbmNhbnRhdGlvblxyXG4gICAgbWlncmF0ZVdhcm5Qcm9wKGpRdWVyeS5leHByLCBcImZpbHRlcnNcIiwgalF1ZXJ5LmV4cHIucHNldWRvcyxcclxuICAgICAgICBcImpRdWVyeS5leHByLmZpbHRlcnMgaXMgZGVwcmVjYXRlZDsgdXNlIGpRdWVyeS5leHByLnBzZXVkb3NcIik7XHJcbiAgICBtaWdyYXRlV2FyblByb3AoalF1ZXJ5LmV4cHIsIFwiOlwiLCBqUXVlcnkuZXhwci5wc2V1ZG9zLFxyXG4gICAgICAgIFwialF1ZXJ5LmV4cHJbJzonXSBpcyBkZXByZWNhdGVkOyB1c2UgalF1ZXJ5LmV4cHIucHNldWRvc1wiKTtcclxuXHJcblxyXG4gICAgdmFyIG9sZEFqYXggPSBqUXVlcnkuYWpheDtcclxuXHJcbiAgICBqUXVlcnkuYWpheCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgalFYSFIgPSBvbGRBamF4LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblxyXG4gICAgICAgIC8vIEJlIHN1cmUgd2UgZ290IGEgalFYSFIgKGUuZy4sIG5vdCBzeW5jKVxyXG4gICAgICAgIGlmIChqUVhIUi5wcm9taXNlKSB7XHJcbiAgICAgICAgICAgIG1pZ3JhdGVXYXJuRnVuYyhqUVhIUiwgXCJzdWNjZXNzXCIsIGpRWEhSLmRvbmUsXHJcbiAgICAgICAgICAgICAgICBcImpRWEhSLnN1Y2Nlc3MgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgbWlncmF0ZVdhcm5GdW5jKGpRWEhSLCBcImVycm9yXCIsIGpRWEhSLmZhaWwsXHJcbiAgICAgICAgICAgICAgICBcImpRWEhSLmVycm9yIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgIG1pZ3JhdGVXYXJuRnVuYyhqUVhIUiwgXCJjb21wbGV0ZVwiLCBqUVhIUi5hbHdheXMsXHJcbiAgICAgICAgICAgICAgICBcImpRWEhSLmNvbXBsZXRlIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4galFYSFI7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICB2YXIgb2xkUmVtb3ZlQXR0ciA9IGpRdWVyeS5mbi5yZW1vdmVBdHRyLFxyXG4gICAgICAgIG9sZFRvZ2dsZUNsYXNzID0galF1ZXJ5LmZuLnRvZ2dsZUNsYXNzLFxyXG4gICAgICAgIHJtYXRjaE5vblNwYWNlID0gL1xcUysvZztcclxuXHJcbiAgICBqUXVlcnkuZm4ucmVtb3ZlQXR0ciA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBqUXVlcnkuZWFjaChuYW1lLm1hdGNoKHJtYXRjaE5vblNwYWNlKSwgZnVuY3Rpb24gKGksIGF0dHIpIHtcclxuICAgICAgICAgICAgaWYgKGpRdWVyeS5leHByLm1hdGNoLmJvb2wudGVzdChhdHRyKSkge1xyXG4gICAgICAgICAgICAgICAgbWlncmF0ZVdhcm4oXCJqUXVlcnkuZm4ucmVtb3ZlQXR0ciBubyBsb25nZXIgc2V0cyBib29sZWFuIHByb3BlcnRpZXM6IFwiICsgYXR0cik7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnByb3AoYXR0ciwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBvbGRSZW1vdmVBdHRyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG5cclxuICAgIGpRdWVyeS5mbi50b2dnbGVDbGFzcyA9IGZ1bmN0aW9uIChzdGF0ZSkge1xyXG4gICAgICAgIC8vIE9ubHkgZGVwcmVjYXRpbmcgbm8tYXJncyBvciBzaW5nbGUgYm9vbGVhbiBhcmdcclxuICAgICAgICBpZiAoc3RhdGUgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc3RhdGUgIT09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvbGRUb2dnbGVDbGFzcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbWlncmF0ZVdhcm4oXCJqUXVlcnkuZm4udG9nZ2xlQ2xhc3MoIGJvb2xlYW4gKSBpcyBkZXByZWNhdGVkXCIpO1xyXG5cclxuICAgICAgICAvLyBUb2dnbGUgZW50aXJlIGNsYXNzIG5hbWUgb2YgZWFjaCBlbGVtZW50XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLmdldEF0dHJpYnV0ZSAmJiB0aGlzLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCI7XHJcblxyXG4gICAgICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkuZGF0YSh0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiwgY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgYGZhbHNlYCxcclxuICAgICAgICAgICAgLy8gdGhlbiByZW1vdmUgdGhlIHdob2xlIGNsYXNzbmFtZSAoaWYgdGhlcmUgd2FzIG9uZSwgdGhlIGFib3ZlIHNhdmVkIGl0KS5cclxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIGJyaW5nIGJhY2sgd2hhdGV2ZXIgd2FzIHByZXZpb3VzbHkgc2F2ZWQgKGlmIGFueXRoaW5nKSxcclxuICAgICAgICAgICAgLy8gZmFsbGluZyBiYWNrIHRvIHRoZSBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgc3RvcmVkLlxyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXRBdHRyaWJ1dGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgfHwgc3RhdGUgPT09IGZhbHNlID9cclxuICAgICAgICAgICAgICAgICAgICBcIlwiIDpcclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkuZGF0YSh0aGlzLCBcIl9fY2xhc3NOYW1lX19cIikgfHwgXCJcIlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgdmFyIGludGVybmFsU3dhcENhbGwgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBJZiB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5IGhhcyAuc3dhcCgpLCBkb24ndCBmYWxzZS1hbGFybSBvbiBpbnRlcm5hbCB1c2VzXHJcbiAgICBpZiAoalF1ZXJ5LnN3YXApIHtcclxuICAgICAgICBqUXVlcnkuZWFjaChbXCJoZWlnaHRcIiwgXCJ3aWR0aFwiLCBcInJlbGlhYmxlTWFyZ2luUmlnaHRcIl0sIGZ1bmN0aW9uIChfLCBuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBvbGRIb29rID0galF1ZXJ5LmNzc0hvb2tzW25hbWVdICYmIGpRdWVyeS5jc3NIb29rc1tuYW1lXS5nZXQ7XHJcblxyXG4gICAgICAgICAgICBpZiAob2xkSG9vaykge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmNzc0hvb2tzW25hbWVdLmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbFN3YXBDYWxsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXQgPSBvbGRIb29rLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJuYWxTd2FwQ2FsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgalF1ZXJ5LnN3YXAgPSBmdW5jdGlvbiAoZWxlbSwgb3B0aW9ucywgY2FsbGJhY2ssIGFyZ3MpIHtcclxuICAgICAgICB2YXIgcmV0LCBuYW1lLFxyXG4gICAgICAgICAgICBvbGQgPSB7fTtcclxuXHJcbiAgICAgICAgaWYgKCFpbnRlcm5hbFN3YXBDYWxsKSB7XHJcbiAgICAgICAgICAgIG1pZ3JhdGVXYXJuKFwialF1ZXJ5LnN3YXAoKSBpcyB1bmRvY3VtZW50ZWQgYW5kIGRlcHJlY2F0ZWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1lbWJlciB0aGUgb2xkIHZhbHVlcywgYW5kIGluc2VydCB0aGUgbmV3IG9uZXNcclxuICAgICAgICBmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xyXG4gICAgICAgICAgICBvbGRbbmFtZV0gPSBlbGVtLnN0eWxlW25hbWVdO1xyXG4gICAgICAgICAgICBlbGVtLnN0eWxlW25hbWVdID0gb3B0aW9uc1tuYW1lXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldCA9IGNhbGxiYWNrLmFwcGx5KGVsZW0sIGFyZ3MgfHwgW10pO1xyXG5cclxuICAgICAgICAvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXNcclxuICAgICAgICBmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xyXG4gICAgICAgICAgICBlbGVtLnN0eWxlW25hbWVdID0gb2xkW25hbWVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIG9sZERhdGEgPSBqUXVlcnkuZGF0YTtcclxuXHJcbiAgICBqUXVlcnkuZGF0YSA9IGZ1bmN0aW9uIChlbGVtLCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIHZhciBjdXJEYXRhO1xyXG5cclxuICAgICAgICAvLyBOYW1lIGNhbiBiZSBhbiBvYmplY3QsIGFuZCBlYWNoIGVudHJ5IGluIHRoZSBvYmplY3QgaXMgbWVhbnQgdG8gYmUgc2V0IGFzIGRhdGFcclxuICAgICAgICBpZiAobmFtZSAmJiB0eXBlb2YgbmFtZSA9PT0gXCJvYmplY3RcIiAmJiBhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgIGN1ckRhdGEgPSBqUXVlcnkuaGFzRGF0YShlbGVtKSAmJiBvbGREYXRhLmNhbGwodGhpcywgZWxlbSk7XHJcbiAgICAgICAgICAgIHZhciBzYW1lS2V5cyA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPT0galF1ZXJ5LmNhbWVsQ2FzZShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWlncmF0ZVdhcm4oXCJqUXVlcnkuZGF0YSgpIGFsd2F5cyBzZXRzL2dldHMgY2FtZWxDYXNlZCBuYW1lczogXCIgKyBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1ckRhdGFba2V5XSA9IG5hbWVba2V5XTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2FtZUtleXNba2V5XSA9IG5hbWVba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb2xkRGF0YS5jYWxsKHRoaXMsIGVsZW0sIHNhbWVLZXlzKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIG5hbWUgaXMgdHJhbnNmb3JtZWQsIGxvb2sgZm9yIHRoZSB1bi10cmFuc2Zvcm1lZCBuYW1lIGluIHRoZSBkYXRhIG9iamVjdFxyXG4gICAgICAgIGlmIChuYW1lICYmIHR5cGVvZiBuYW1lID09PSBcInN0cmluZ1wiICYmIG5hbWUgIT09IGpRdWVyeS5jYW1lbENhc2UobmFtZSkpIHtcclxuICAgICAgICAgICAgY3VyRGF0YSA9IGpRdWVyeS5oYXNEYXRhKGVsZW0pICYmIG9sZERhdGEuY2FsbCh0aGlzLCBlbGVtKTtcclxuICAgICAgICAgICAgaWYgKGN1ckRhdGEgJiYgbmFtZSBpbiBjdXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBtaWdyYXRlV2FybihcImpRdWVyeS5kYXRhKCkgYWx3YXlzIHNldHMvZ2V0cyBjYW1lbENhc2VkIG5hbWVzOiBcIiArIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VyRGF0YVtuYW1lXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1ckRhdGFbbmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvbGREYXRhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBvbGRUd2VlblJ1biA9IGpRdWVyeS5Ud2Vlbi5wcm90b3R5cGUucnVuO1xyXG5cclxuICAgIGpRdWVyeS5Ud2Vlbi5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChqUXVlcnkuZWFzaW5nW3RoaXMuZWFzaW5nXS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIG1pZ3JhdGVXYXJuKFxyXG4gICAgICAgICAgICAgICAgXCJlYXNpbmcgZnVuY3Rpb24gXCIgK1xyXG4gICAgICAgICAgICAgICAgXCJcXFwialF1ZXJ5LmVhc2luZy5cIiArIHRoaXMuZWFzaW5nLnRvU3RyaW5nKCkgK1xyXG4gICAgICAgICAgICAgICAgXCJcXFwiIHNob3VsZCB1c2Ugb25seSBmaXJzdCBhcmd1bWVudFwiXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICB2YXIgb2xkRWFzaW5nID0galF1ZXJ5LmVhc2luZ1t0aGlzLmVhc2luZ107XHJcbiAgICAgICAgICAgIGpRdWVyeS5lYXNpbmdbdGhpcy5lYXNpbmddID0gZnVuY3Rpb24gKHBlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvbGRFYXNpbmcuY2FsbChqUXVlcnkuZWFzaW5nLCBwZXJjZW50LCBwZXJjZW50LCAwLCAxLCAxKTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb2xkVHdlZW5SdW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH07XHJcblxyXG4gICAgalF1ZXJ5LmZ4LmludGVydmFsID0galF1ZXJ5LmZ4LmludGVydmFsIHx8IDEzO1xyXG5cclxuICAgIC8vIFN1cHBvcnQ6IElFOSwgQW5kcm9pZCA8PTQuNFxyXG4gICAgLy8gQXZvaWQgZmFsc2UgcG9zaXRpdmVzIG9uIGJyb3dzZXJzIHRoYXQgbGFjayByQUZcclxuICAgIGlmICh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSB7XHJcbiAgICAgICAgbWlncmF0ZVdhcm5Qcm9wKGpRdWVyeS5meCwgXCJpbnRlcnZhbFwiLCBqUXVlcnkuZnguaW50ZXJ2YWwsXHJcbiAgICAgICAgICAgIFwialF1ZXJ5LmZ4LmludGVydmFsIGlzIGRlcHJlY2F0ZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG9sZExvYWQgPSBqUXVlcnkuZm4ubG9hZCxcclxuICAgICAgICBvbGRFdmVudEFkZCA9IGpRdWVyeS5ldmVudC5hZGQsXHJcbiAgICAgICAgb3JpZ2luYWxGaXggPSBqUXVlcnkuZXZlbnQuZml4O1xyXG5cclxuICAgIGpRdWVyeS5ldmVudC5wcm9wcyA9IFtdO1xyXG4gICAgalF1ZXJ5LmV2ZW50LmZpeEhvb2tzID0ge307XHJcblxyXG4gICAgbWlncmF0ZVdhcm5Qcm9wKGpRdWVyeS5ldmVudC5wcm9wcywgXCJjb25jYXRcIiwgalF1ZXJ5LmV2ZW50LnByb3BzLmNvbmNhdCxcclxuICAgICAgICBcImpRdWVyeS5ldmVudC5wcm9wcy5jb25jYXQoKSBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkXCIpO1xyXG5cclxuICAgIGpRdWVyeS5ldmVudC5maXggPSBmdW5jdGlvbiAob3JpZ2luYWxFdmVudCkge1xyXG4gICAgICAgIHZhciBldmVudCxcclxuICAgICAgICAgICAgdHlwZSA9IG9yaWdpbmFsRXZlbnQudHlwZSxcclxuICAgICAgICAgICAgZml4SG9vayA9IHRoaXMuZml4SG9va3NbdHlwZV0sXHJcbiAgICAgICAgICAgIHByb3BzID0galF1ZXJ5LmV2ZW50LnByb3BzO1xyXG5cclxuICAgICAgICBpZiAocHJvcHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIG1pZ3JhdGVXYXJuKFwialF1ZXJ5LmV2ZW50LnByb3BzIGFyZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkOiBcIiArIHByb3BzLmpvaW4oKSk7XHJcbiAgICAgICAgICAgIHdoaWxlIChwcm9wcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5hZGRQcm9wKHByb3BzLnBvcCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGZpeEhvb2sgJiYgIWZpeEhvb2suX21pZ3JhdGVkXykge1xyXG4gICAgICAgICAgICBmaXhIb29rLl9taWdyYXRlZF8gPSB0cnVlO1xyXG4gICAgICAgICAgICBtaWdyYXRlV2FybihcImpRdWVyeS5ldmVudC5maXhIb29rcyBhcmUgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZDogXCIgKyB0eXBlKTtcclxuICAgICAgICAgICAgaWYgKChwcm9wcyA9IGZpeEhvb2sucHJvcHMpICYmIHByb3BzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHByb3BzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeS5ldmVudC5hZGRQcm9wKHByb3BzLnBvcCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXZlbnQgPSBvcmlnaW5hbEZpeC5jYWxsKHRoaXMsIG9yaWdpbmFsRXZlbnQpO1xyXG5cclxuICAgICAgICByZXR1cm4gZml4SG9vayAmJiBmaXhIb29rLmZpbHRlciA/IGZpeEhvb2suZmlsdGVyKGV2ZW50LCBvcmlnaW5hbEV2ZW50KSA6IGV2ZW50O1xyXG4gICAgfTtcclxuXHJcbiAgICBqUXVlcnkuZXZlbnQuYWRkID0gZnVuY3Rpb24gKGVsZW0sIHR5cGVzKSB7XHJcbiAgICAgICAgLy8gVGhpcyBtaXNzZXMgdGhlIG11bHRpcGxlLXR5cGVzIGNhc2UgYnV0IHRoYXQgc2VlbXMgYXdmdWxseSByYXJlXHJcbiAgICAgICAgaWYgKGVsZW0gPT09IHdpbmRvdyAmJiB0eXBlcyA9PT0gXCJsb2FkXCIgJiYgd2luZG93LmRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIikge1xyXG4gICAgICAgICAgICBtaWdyYXRlV2FybihcImpRdWVyeSh3aW5kb3cpLm9uKCdsb2FkJy4uLikgY2FsbGVkIGFmdGVyIGxvYWQgZXZlbnQgb2NjdXJyZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvbGRFdmVudEFkZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfTtcclxuXHJcbiAgICBqUXVlcnkuZWFjaChbXCJsb2FkXCIsIFwidW5sb2FkXCIsIFwiZXJyb3JcIl0sIGZ1bmN0aW9uIChfLCBuYW1lKSB7XHJcblxyXG4gICAgICAgIGpRdWVyeS5mbltuYW1lXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhbiBhamF4IGxvYWQoKSB0aGUgZmlyc3QgYXJnIHNob3VsZCBiZSB0aGUgc3RyaW5nIFVSTDtcclxuICAgICAgICAgICAgLy8gdGVjaG5pY2FsbHkgdGhpcyBjb3VsZCBhbHNvIGJlIHRoZSBcIkFueXRoaW5nXCIgYXJnIG9mIHRoZSBldmVudCAubG9hZCgpXHJcbiAgICAgICAgICAgIC8vIHdoaWNoIGp1c3QgZ29lcyB0byBzaG93IHdoeSB0aGlzIGR1bWIgc2lnbmF0dXJlIGhhcyBiZWVuIGRlcHJlY2F0ZWQhXHJcbiAgICAgICAgICAgIC8vIGpRdWVyeSBjdXN0b20gYnVpbGRzIHRoYXQgZXhjbHVkZSB0aGUgQWpheCBtb2R1bGUganVzdGlmaWFibHkgZGllIGhlcmUuXHJcbiAgICAgICAgICAgIGlmIChuYW1lID09PSBcImxvYWRcIiAmJiB0eXBlb2YgYXJnc1swXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9sZExvYWQuYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG1pZ3JhdGVXYXJuKFwialF1ZXJ5LmZuLlwiICsgbmFtZSArIFwiKCkgaXMgZGVwcmVjYXRlZFwiKTtcclxuXHJcbiAgICAgICAgICAgIGFyZ3Muc3BsaWNlKDAsIDAsIG5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub24uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFVzZSAudHJpZ2dlckhhbmRsZXIgaGVyZSBiZWNhdXNlOlxyXG4gICAgICAgICAgICAvLyAtIGxvYWQgYW5kIHVubG9hZCBldmVudHMgZG9uJ3QgbmVlZCB0byBidWJibGUsIG9ubHkgYXBwbGllZCB0byB3aW5kb3cgb3IgaW1hZ2VcclxuICAgICAgICAgICAgLy8gLSBlcnJvciBldmVudCBzaG91bGQgbm90IGJ1YmJsZSB0byB3aW5kb3csIGFsdGhvdWdoIGl0IGRvZXMgcHJlLTEuN1xyXG4gICAgICAgICAgICAvLyBTZWUgaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTE4MjBcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VySGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBUcmlnZ2VyIFwicmVhZHlcIiBldmVudCBvbmx5IG9uY2UsIG9uIGRvY3VtZW50IHJlYWR5XHJcbiAgICBqUXVlcnkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGpRdWVyeSh3aW5kb3cuZG9jdW1lbnQpLnRyaWdnZXJIYW5kbGVyKFwicmVhZHlcIik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBqUXVlcnkuZXZlbnQuc3BlY2lhbC5yZWFkeSA9IHtcclxuICAgICAgICBzZXR1cDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcyA9PT0gd2luZG93LmRvY3VtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBtaWdyYXRlV2FybihcIidyZWFkeScgZXZlbnQgaXMgZGVwcmVjYXRlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgalF1ZXJ5LmZuLmV4dGVuZCh7XHJcbiAgICAgICAgYmluZDogZnVuY3Rpb24gKHR5cGVzLCBkYXRhLCBmbikge1xyXG4gICAgICAgICAgICBtaWdyYXRlV2FybihcImpRdWVyeS5mbi5iaW5kKCkgaXMgZGVwcmVjYXRlZFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub24odHlwZXMsIG51bGwsIGRhdGEsIGZuKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVuYmluZDogZnVuY3Rpb24gKHR5cGVzLCBmbikge1xyXG4gICAgICAgICAgICBtaWdyYXRlV2FybihcImpRdWVyeS5mbi51bmJpbmQoKSBpcyBkZXByZWNhdGVkXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vZmYodHlwZXMsIG51bGwsIGZuKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlbGVnYXRlOiBmdW5jdGlvbiAoc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbikge1xyXG4gICAgICAgICAgICBtaWdyYXRlV2FybihcImpRdWVyeS5mbi5kZWxlZ2F0ZSgpIGlzIGRlcHJlY2F0ZWRcIik7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9uKHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdW5kZWxlZ2F0ZTogZnVuY3Rpb24gKHNlbGVjdG9yLCB0eXBlcywgZm4pIHtcclxuICAgICAgICAgICAgbWlncmF0ZVdhcm4oXCJqUXVlcnkuZm4udW5kZWxlZ2F0ZSgpIGlzIGRlcHJlY2F0ZWRcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cclxuICAgICAgICAgICAgICAgIHRoaXMub2ZmKHNlbGVjdG9yLCBcIioqXCIpIDpcclxuICAgICAgICAgICAgICAgIHRoaXMub2ZmKHR5cGVzLCBzZWxlY3RvciB8fCBcIioqXCIsIGZuKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgdmFyIG9sZE9mZnNldCA9IGpRdWVyeS5mbi5vZmZzZXQ7XHJcblxyXG4gICAgalF1ZXJ5LmZuLm9mZnNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZG9jRWxlbSxcclxuICAgICAgICAgICAgZWxlbSA9IHRoaXNbMF0sXHJcbiAgICAgICAgICAgIG9yaWdpbiA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XHJcblxyXG4gICAgICAgIGlmICghZWxlbSB8fCAhZWxlbS5ub2RlVHlwZSkge1xyXG4gICAgICAgICAgICBtaWdyYXRlV2FybihcImpRdWVyeS5mbi5vZmZzZXQoKSByZXF1aXJlcyBhIHZhbGlkIERPTSBlbGVtZW50XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9jRWxlbSA9IChlbGVtLm93bmVyRG9jdW1lbnQgfHwgd2luZG93LmRvY3VtZW50KS5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFqUXVlcnkuY29udGFpbnMoZG9jRWxlbSwgZWxlbSkpIHtcclxuICAgICAgICAgICAgbWlncmF0ZVdhcm4oXCJqUXVlcnkuZm4ub2Zmc2V0KCkgcmVxdWlyZXMgYW4gZWxlbWVudCBjb25uZWN0ZWQgdG8gYSBkb2N1bWVudFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvbGRPZmZzZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIHZhciBvbGRQYXJhbSA9IGpRdWVyeS5wYXJhbTtcclxuXHJcbiAgICBqUXVlcnkucGFyYW0gPSBmdW5jdGlvbiAoZGF0YSwgdHJhZGl0aW9uYWwpIHtcclxuICAgICAgICB2YXIgYWpheFRyYWRpdGlvbmFsID0galF1ZXJ5LmFqYXhTZXR0aW5ncyAmJiBqUXVlcnkuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsO1xyXG5cclxuICAgICAgICBpZiAodHJhZGl0aW9uYWwgPT09IHVuZGVmaW5lZCAmJiBhamF4VHJhZGl0aW9uYWwpIHtcclxuICAgICAgICAgICAgbWlncmF0ZVdhcm4oXCJqUXVlcnkucGFyYW0oKSBubyBsb25nZXIgdXNlcyBqUXVlcnkuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsXCIpO1xyXG4gICAgICAgICAgICB0cmFkaXRpb25hbCA9IGFqYXhUcmFkaXRpb25hbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvbGRQYXJhbS5jYWxsKHRoaXMsIGRhdGEsIHRyYWRpdGlvbmFsKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIG9sZFNlbGYgPSBqUXVlcnkuZm4uYW5kU2VsZiB8fCBqUXVlcnkuZm4uYWRkQmFjaztcclxuXHJcbiAgICBqUXVlcnkuZm4uYW5kU2VsZiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBtaWdyYXRlV2FybihcImpRdWVyeS5mbi5hbmRTZWxmKCkgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCwgdXNlIGpRdWVyeS5mbi5hZGRCYWNrKClcIik7XHJcbiAgICAgICAgcmV0dXJuIG9sZFNlbGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIHZhciBvbGREZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCxcclxuICAgICAgICB0dXBsZXMgPSBbXHJcbiAgICAgICAgICAgIC8vIEFjdGlvbiwgYWRkIGxpc3RlbmVyLCBjYWxsYmFja3MsIC50aGVuIGhhbmRsZXJzLCBmaW5hbCBzdGF0ZVxyXG4gICAgICAgICAgICBbXCJyZXNvbHZlXCIsIFwiZG9uZVwiLCBqUXVlcnkuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXHJcbiAgICAgICAgICAgICAgICBqUXVlcnkuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksIFwicmVzb2x2ZWRcIl0sXHJcbiAgICAgICAgICAgIFtcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLFxyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLCBcInJlamVjdGVkXCJdLFxyXG4gICAgICAgICAgICBbXCJub3RpZnlcIiwgXCJwcm9ncmVzc1wiLCBqUXVlcnkuQ2FsbGJhY2tzKFwibWVtb3J5XCIpLFxyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LkNhbGxiYWNrcyhcIm1lbW9yeVwiKV1cclxuICAgICAgICBdO1xyXG5cclxuICAgIGpRdWVyeS5EZWZlcnJlZCA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICAgICAgdmFyIGRlZmVycmVkID0gb2xkRGVmZXJyZWQoKSxcclxuICAgICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2UoKTtcclxuXHJcbiAgICAgICAgZGVmZXJyZWQucGlwZSA9IHByb21pc2UucGlwZSA9IGZ1bmN0aW9uICggLyogZm5Eb25lLCBmbkZhaWwsIGZuUHJvZ3Jlc3MgKi8pIHtcclxuICAgICAgICAgICAgdmFyIGZucyA9IGFyZ3VtZW50cztcclxuXHJcbiAgICAgICAgICAgIG1pZ3JhdGVXYXJuKFwiZGVmZXJyZWQucGlwZSgpIGlzIGRlcHJlY2F0ZWRcIik7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5LkRlZmVycmVkKGZ1bmN0aW9uIChuZXdEZWZlcikge1xyXG4gICAgICAgICAgICAgICAgalF1ZXJ5LmVhY2godHVwbGVzLCBmdW5jdGlvbiAoaSwgdHVwbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZm4gPSBqUXVlcnkuaXNGdW5jdGlvbihmbnNbaV0pICYmIGZuc1tpXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVmZXJyZWQuZG9uZShmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZXNvbHZlIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmZXJyZWQuZmFpbChmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZWplY3QgfSlcclxuICAgICAgICAgICAgICAgICAgICAvLyBkZWZlcnJlZC5wcm9ncmVzcyhmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5ub3RpZnkgfSlcclxuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZFt0dXBsZVsxXV0oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJuZWQgJiYgalF1ZXJ5LmlzRnVuY3Rpb24ocmV0dXJuZWQucHJvbWlzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybmVkLnByb21pc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kb25lKG5ld0RlZmVyLnJlc29sdmUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZhaWwobmV3RGVmZXIucmVqZWN0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wcm9ncmVzcyhuZXdEZWZlci5ub3RpZnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGVmZXJbdHVwbGVbMF0gKyBcIldpdGhcIl0oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyA9PT0gcHJvbWlzZSA/IG5ld0RlZmVyLnByb21pc2UoKSA6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4gPyBbcmV0dXJuZWRdIDogYXJndW1lbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZucyA9IG51bGw7XHJcbiAgICAgICAgICAgIH0pLnByb21pc2UoKTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKGZ1bmMpIHtcclxuICAgICAgICAgICAgZnVuYy5jYWxsKGRlZmVycmVkLCBkZWZlcnJlZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGVmZXJyZWQ7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICByZXR1cm4galF1ZXJ5O1xyXG59KTtcclxuXG59LmNhbGwod2luZG93KSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9leHRlcm5hbC9qcXVlcnkvc2NyaXB0cy9qcXVlcnktbWlncmF0ZS5qc1xuLy8gbW9kdWxlIGlkID0gNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKipcclxuICogQGZpbGUgIFV0aWxzLlxyXG4gKiBAYnJpZWYgVG9vbHMg5bCC55So44Gu44Om44O844OG44Kj44Oq44OG44KjXHJcbiAqL1xyXG5uYW1lc3BhY2UgQ0RQLlRvb2xzIHtcclxuICAgIC8vIGNkcC50b29scyDjga8gY2RwLmNvcmUg44Gr5L6d5a2Y44GX44Gq44GE44Gf44KB44CB54us6Ieq44GrZ2xvYmFsIOOCkuaPkOS+m+OBmeOCi1xyXG4gICAgZXhwb3J0IGNvbnN0IGdsb2JhbCA9ICg8YW55PkNEUCkuZ2xvYmFsIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcclxufVxyXG4iLCJuYW1lc3BhY2UgQ0RQLlRvb2xzIHtcclxuXHJcbiAgICBjb25zdCBUQUcgPSBcIltDRFAuVG9vbHMuQmxvYl0gXCI7XHJcblxyXG4gICAgZXhwb3J0IG1vZHVsZSBCbG9iIHtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0IEJsb2JCdWlsZGVyXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHthbnl9IEJsb2JCdWlsZGVyXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QmxvYkJ1aWxkZXIoKTogYW55IHtcclxuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbC5CbG9iQnVpbGRlciB8fCBnbG9iYWwuV2ViS2l0QmxvYkJ1aWxkZXIgfHwgZ2xvYmFsLk1vekJsb2JCdWlsZGVyIHx8IGdsb2JhbC5NU0Jsb2JCdWlsZGVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQXJyYXlCdWZmZXIgdG8gQmxvYlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGJ1ZiB7QXJyYXlCdWZmZXJ9IFtpbl0gQXJyYXlCdWZmZXIgZGF0YVxyXG4gICAgICAgICAqIEBwYXJhbSBtaW1lVHlwZSB7c3RyaW5nfSBbaW5dIE1pbWVUeXBlIG9mIGRhdGFcclxuICAgICAgICAgKiBAcmV0dXJuIHtCbG9ifSBCbG9iIGRhdGFcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gYXJyYXlCdWZmZXJUb0Jsb2IoYnVmOiBBcnJheUJ1ZmZlciwgbWltZVR5cGU6IHN0cmluZyk6IEJsb2Ige1xyXG4gICAgICAgICAgICBsZXQgYmxvYjogQmxvYiA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBibG9iQnVpbGRlck9iamVjdDogYW55ID0gZ2V0QmxvYkJ1aWxkZXIoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChibG9iQnVpbGRlck9iamVjdCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBibG9iQnVpbGRlcjogYW55ID0gbmV3IGJsb2JCdWlsZGVyT2JqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBibG9iQnVpbGRlci5hcHBlbmQoYnVmKTtcclxuICAgICAgICAgICAgICAgIGJsb2IgPSBibG9iQnVpbGRlci5nZXRCbG9iKG1pbWVUeXBlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEFuZHJvaWQgNC40IEtpdEthdCBDaHJvbWl1bSBXZWJWaWV3XHJcbiAgICAgICAgICAgICAgICBibG9iID0gbmV3IGdsb2JhbC5CbG9iKFtidWZdLCB7IHR5cGU6IG1pbWVUeXBlIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBibG9iO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQmFzZTY0IHN0cmluZyB0byBCbG9iXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gYmFzZTY0IHtzdHJpbmd9IFtpbl0gQmFzZTY0IHN0cmluZyBkYXRhXHJcbiAgICAgICAgICogQHBhcmFtIG1pbWVUeXBlIHtzdHJpbmd9IFtpbl0gTWltZVR5cGUgb2YgZGF0YVxyXG4gICAgICAgICAqIEByZXR1cm4ge0Jsb2J9IEJsb2IgZGF0YVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBiYXNlNjRUb0Jsb2IoYmFzZTY0OiBzdHJpbmcsIG1pbWVUeXBlOiBzdHJpbmcpOiBCbG9iIHtcclxuICAgICAgICAgICAgbGV0IGJsb2I6IEJsb2IgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYmxvYkJ1aWxkZXJPYmplY3Q6IGFueSA9IGdldEJsb2JCdWlsZGVyKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYmxvYkJ1aWxkZXJPYmplY3QgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYmxvYkJ1aWxkZXI6IGFueSA9IG5ldyBibG9iQnVpbGRlck9iamVjdCgpO1xyXG4gICAgICAgICAgICAgICAgYmxvYkJ1aWxkZXIuYXBwZW5kKGJhc2U2NFRvQXJyYXlCdWZmZXIoYmFzZTY0KSk7XHJcbiAgICAgICAgICAgICAgICBibG9iID0gYmxvYkJ1aWxkZXIuZ2V0QmxvYihtaW1lVHlwZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBbmRyb2lkIDQuNCBLaXRLYXQgQ2hyb21pdW0gV2ViVmlld1xyXG4gICAgICAgICAgICAgICAgYmxvYiA9IG5ldyBnbG9iYWwuQmxvYihbYmFzZTY0VG9BcnJheUJ1ZmZlcihiYXNlNjQpXSwgeyB0eXBlOiBtaW1lVHlwZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYmxvYjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJhc2U2NCBzdHJpbmcgdG8gQXJyYXlCdWZmZXJcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBiYXNlNjQge3N0cmluZ30gW2luXSBCYXNlNjQgc3RyaW5nIGRhdGFcclxuICAgICAgICAgKiBAcmV0dXJuIHtBcnJheUJ1ZmZlcn0gQXJyYXlCdWZmZXIgZGF0YVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBiYXNlNjRUb0FycmF5QnVmZmVyKGJhc2U2NDogc3RyaW5nKTogQXJyYXlCdWZmZXIge1xyXG4gICAgICAgICAgICBjb25zdCBieXRlcyA9IHdpbmRvdy5hdG9iKGJhc2U2NCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ5dGVzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYnl0ZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFbaV0gPSBieXRlcy5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheUJ1ZmZlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEJhc2U2NCBzdHJpbmcgdG8gVWludDhBcnJheVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGJhc2U2NCB7c3RyaW5nfSBbaW5dIEJhc2U2NCBzdHJpbmcgZGF0YVxyXG4gICAgICAgICAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IFVpbnQ4QXJyYXkgZGF0YVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4cG9ydCBmdW5jdGlvbiBiYXNlNjRUb1VpbnQ4QXJyYXkoZW5jb2RlZDogc3RyaW5nKTogVWludDhBcnJheSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGVzID0gd2luZG93LmF0b2IoZW5jb2RlZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgVWludDhBcnJheShieXRlcy5sZW5ndGgpO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGJ5dGVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhW2ldID0gYnl0ZXMuY2hhckNvZGVBdChpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFycmF5QnVmZmVyIHRvIGJhc2U2NCBzdHJpbmdcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBhcnJheUJ1ZmZlciB7QXJyYXlCdWZmZXJ9IFtpbl0gQXJyYXlCdWZmZXIgZGF0YVxyXG4gICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gYmFzZTY0IGRhdGFcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgZnVuY3Rpb24gYXJyYXlCdWZmZXJUb0Jhc2U2NChhcnJheUJ1ZmZlcjogQXJyYXlCdWZmZXIpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHVpbnQ4QXJyYXlUb0Jhc2U2NChieXRlcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVaW50OEFycmF5IHRvIGJhc2U2NCBzdHJpbmdcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBieXRlcyB7VWludDhBcnJheX0gW2luXSBVaW50OEFycmF5IGRhdGFcclxuICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGJhc2U2NCBkYXRhXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIHVpbnQ4QXJyYXlUb0Jhc2U2NChieXRlczogVWludDhBcnJheSk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGJ5dGVzLmJ5dGVMZW5ndGg7IGkgPCBsZW47ICsraSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LmJ0b2EoZGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVUkwgT2JqZWN0XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHthbnl9IFVSTCBPYmplY3RcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgY29uc3QgVVJMID0gKCgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbC5VUkwgfHwgZ2xvYmFsLndlYmtpdFVSTDtcclxuICAgICAgICB9KSgpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBAZmlsZSAgQmluYXJ5VHJhbnNwb3J0LnRzXHJcbiAqIEBicmllZiBqUXVlcnkgYWpheCB0cmFuc3BvcnQgZm9yIG1ha2luZyBiaW5hcnkgZGF0YSB0eXBlIHJlcXVlc3RzLlxyXG4gKlxyXG4gKiAgICAgICAgb3JpZ2luYWw6IGh0dHBzOi8vZ2l0aHViLmNvbS9oZW5yeWEvanMtanF1ZXJ5L2Jsb2IvbWFzdGVyL0JpbmFyeVRyYW5zcG9ydC9qcXVlcnkuYmluYXJ5dHJhbnNwb3J0LmpzXHJcbiAqICAgICAgICBhdXRob3I6ICAgSGVucnkgQWxndXMgPGhlbnJ5YWxndXNAZ21haWwuY29tPlxyXG4gKi9cclxubmFtZXNwYWNlIENEUC5Ub29scyB7XHJcbiAgICAvLyBTdXBwb3J0IGZpbGUgcHJvdG9jb2wuIChhcyBzYW1lIGFzIG9mZmljaWFsIHdheSlcclxuICAgIGNvbnN0IHhoclN1Y2Nlc3NTdGF0dXMgPSB7XHJcbiAgICAgICAgMDogMjAwLFxyXG4gICAgICAgIDEyMjM6IDIwNFxyXG4gICAgfTtcclxuXHJcbiAgICAkLmFqYXhUcmFuc3BvcnQoXCIrYmluYXJ5XCIsIChvcHRpb25zOiBKUXVlcnkuQWpheFNldHRpbmdzLCBvcmlnaW5hbE9wdGlvbnM6IEpRdWVyeS5BamF4U2V0dGluZ3MsIGpxWEhSOiBKUXVlcnlYSFIpID0+IHtcclxuICAgICAgICBpZiAoZ2xvYmFsLkZvcm1EYXRhICYmXHJcbiAgICAgICAgICAgICgob3B0aW9ucy5kYXRhVHlwZSAmJiAob3B0aW9ucy5kYXRhVHlwZSA9PT0gXCJiaW5hcnlcIikpIHx8XHJcbiAgICAgICAgICAgIChvcHRpb25zLmRhdGEgJiYgKChnbG9iYWwuQXJyYXlCdWZmZXIgJiYgb3B0aW9ucy5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8XHJcbiAgICAgICAgICAgIChnbG9iYWwuQmxvYiAmJiBvcHRpb25zLmRhdGEgaW5zdGFuY2VvZiBnbG9iYWwuQmxvYikpKSkpIHtcclxuICAgICAgICAgICAgbGV0IGFib3J0Q2FsbGJhY2s6ICgpID0+IHZvaWQ7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzZW5kOiBmdW5jdGlvbiAoaGVhZGVyczogSlF1ZXJ5LlBsYWluT2JqZWN0LCBjYWxsYmFjazogSlF1ZXJ5LlRyYW5zcG9ydC5TdWNjZXNzQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzZXR1cCBhbGwgdmFyaWFibGVzXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gb3B0aW9ucy51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhc3luYyA9IG9wdGlvbnMuYXN5bmMgfHwgdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYmxvYiBvciBhcnJheWJ1ZmZlci4gRGVmYXVsdCBpcyBibG9iXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YVR5cGUgPSAoPGFueT5vcHRpb25zKS5yZXNwb25zZVR5cGUgfHwgXCJibG9iXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IG9wdGlvbnMuZGF0YSB8fCBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gb3B0aW9ucy51c2VybmFtZSB8fCBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gb3B0aW9ucy5wYXNzd29yZCB8fCBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBfY2FsbGJhY2s6IEpRdWVyeS5UcmFuc3BvcnQuU3VjY2Vzc0NhbGxiYWNrID0gY2FsbGJhY2sgfHwgKCgpID0+IHsgLyogbm9vcCAqLyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc3VjY2VlZGVkIGhhbmRsZXJcclxuICAgICAgICAgICAgICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBfZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZGF0YVtvcHRpb25zLmRhdGFUeXBlXSA9IHhoci5yZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2NhbGxiYWNrKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyU3VjY2Vzc1N0YXR1c1t4aHIuc3RhdHVzXSB8fCB4aHIuc3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEpRdWVyeS5BamF4LlRleHRTdGF0dXM+eGhyLnN0YXR1c1RleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBlcnJvciBoYW5kbGVyXHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IF9kYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kYXRhW29wdGlvbnMuZGF0YVR5cGVdID0geGhyLnJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIGNhbGxiYWNrIGFuZCBzZW5kIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2NhbGxiYWNrKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxKUXVlcnkuQWpheC5UZXh0U3RhdHVzPnhoci5zdGF0dXNUZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYWJvcnQgaGFuZGxlclxyXG4gICAgICAgICAgICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBfZGF0YSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZGF0YVtvcHRpb25zLmRhdGFUeXBlXSA9IHhoci5yZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBjYWxsYmFjayBhbmQgc2VuZCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jYWxsYmFjayhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SlF1ZXJ5LkFqYXguVGV4dFN0YXR1cz54aHIuc3RhdHVzVGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFib3J0IGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgYWJvcnRDYWxsYmFjayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLmFib3J0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLm9wZW4odHlwZSwgdXJsLCBhc3luYywgdXNlcm5hbWUsIHBhc3N3b3JkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0dXAgY3VzdG9tIGhlYWRlcnNcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGkgaW4gaGVhZGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaSwgaGVhZGVyc1tpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBkYXRhVHlwZTtcclxuICAgICAgICAgICAgICAgICAgICB4aHIuc2VuZChkYXRhKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBhYm9ydDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhYm9ydENhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFib3J0Q2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuIiwiLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXHJcblxyXG5uYW1lc3BhY2UgQ0RQLlRvb2xzIHtcclxuXHJcbiAgICBjb25zdCBUQUcgPSBcIltDRFAuVG9vbHMuRGF0ZVRpbWVdIFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIERhdGVUaW1lXHJcbiAgICAgKiBAYnJpZWYg5pmC5Yi75pON5L2c44Gu44Om44O844OG44Kj44Oq44OG44Kj44Kv44Op44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjbGFzcyBEYXRlVGltZSB7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gcHVibGljIHN0YXRpYyBtZXRob2RcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5Z+654K544Go44Gq44KL5pel5LuY44GL44KJ44CBbuaXpeW+jOOAgW7ml6XliY3jgpLnrpflh7pcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBiYXNlICAgIHtEYXRlfSAgIFtpbl0g5Z+65rqW5pelXHJcbiAgICAgICAgICogQHBhcmFtIGFkZERheXMge051bWJlcn0gW2luXSDliqDnrpfml6UuIOODnuOCpOODiuOCueaMh+WumuOBp27ml6XliY3jgoLoqK3lrprlj6/og71cclxuICAgICAgICAgKiBAcmV0dXJuIHtEYXRlfSDml6Xku5jjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbXB1dGVEYXRlKGJhc2U6IERhdGUsIGFkZERheXM6IG51bWJlcik6IERhdGUge1xyXG4gICAgICAgICAgICBjb25zdCBkdCA9IG5ldyBEYXRlKGJhc2UuZ2V0VGltZSgpKTtcclxuICAgICAgICAgICAgY29uc3QgYmFzZVNlYyA9IGR0LmdldFRpbWUoKTtcclxuICAgICAgICAgICAgY29uc3QgYWRkU2VjID0gYWRkRGF5cyAqIDg2NDAwMDAwOyAgICAvL+aXpeaVsCAqIDHml6Xjga7jg5/jg6rnp5LmlbBcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0U2VjID0gYmFzZVNlYyArIGFkZFNlYztcclxuICAgICAgICAgICAgZHQuc2V0VGltZSh0YXJnZXRTZWMpO1xyXG4gICAgICAgICAgICByZXR1cm4gZHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb252ZXJ0IHN0cmluZyB0byBkYXRlIG9iamVjdFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGUgc3RyaW5nIGV4KSBZWVlZLU1NLUREVEhIOm1tOlNTLlNTU1xyXG4gICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gZGF0ZSBvYmplY3RcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnRJU09TdHJpbmdUb0RhdGUoZGF0ZVN0cmluZzogc3RyaW5nKTogRGF0ZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGVUaW1lID0gZGF0ZVN0cmluZy5zcGxpdChcIlRcIiksXHJcbiAgICAgICAgICAgICAgICBkYXRlQXJyYXkgPSBkYXRlVGltZVswXS5zcGxpdChcIi1cIik7XHJcbiAgICAgICAgICAgIGxldCB0aW1lQXJyYXksIHNlY0FycmF5LCBkYXRlT2JqZWN0O1xyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGVUaW1lWzFdKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lQXJyYXkgPSBkYXRlVGltZVsxXS5zcGxpdChcIjpcIik7XHJcbiAgICAgICAgICAgICAgICBzZWNBcnJheSA9IHRpbWVBcnJheVsyXS5zcGxpdChcIi5cIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aW1lQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGRhdGVPYmplY3QgPSBuZXcgRGF0ZSg8YW55PmRhdGVBcnJheVswXSwgPGFueT5kYXRlQXJyYXlbMV0gLSAxLCA8YW55PmRhdGVBcnJheVsyXSxcclxuICAgICAgICAgICAgICAgICAgICA8YW55PnRpbWVBcnJheVswXSwgPGFueT50aW1lQXJyYXlbMV0sIDxhbnk+c2VjQXJyYXlbMF0sIDxhbnk+c2VjQXJyYXlbMV0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGVBcnJheVsyXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVPYmplY3QgPSBuZXcgRGF0ZSg8YW55PmRhdGVBcnJheVswXSwgPGFueT5kYXRlQXJyYXlbMV0gLSAxLCA8YW55PmRhdGVBcnJheVsyXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGVBcnJheVsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVPYmplY3QgPSBuZXcgRGF0ZSg8YW55PmRhdGVBcnJheVswXSwgPGFueT5kYXRlQXJyYXlbMV0gLSAxKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZU9iamVjdCA9IG5ldyBEYXRlKDxhbnk+ZGF0ZUFycmF5WzBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRhdGVPYmplY3Q7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAgQ29udmVydCBhIGRhdGUgb2JqZWN0IGludG8gYSBzdHJpbmcgaW4gUE1PQVBJIHJlY29yZGVkX2RhdGUgZm9ybWF0KHRoZSBJU08gODYwMSBFeHRlbmRlZCBGb3JtYXQpXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZGF0ZSAgIHtEYXRlfSAgIFtpbl0gZGF0ZSBvYmplY3RcclxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IHtTdHJpbmd9IFtpbl0ge3llYXIgfCBtb250aCB8IGRhdGUgfCBob3VyIHwgbWluIHwgc2VjIHwgbXNlYyB9XHJcbiAgICAgICAgICogQHJldHVybiB7U3RyaW5nfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgY29udmVydERhdGVUb0lTT1N0cmluZyhkYXRlOiBEYXRlLCB0YXJnZXQ6IHN0cmluZyA9IFwibXNlY1wiKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgbGV0IGlzb0RhdGVTdHJpbmc7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInllYXJcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJtb250aFwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImRhdGVcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJob3VyXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibWluXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic2VjXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibXNlY1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHICsgXCJ1bmtub3duIHRhcmdldDogXCIgKyB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IFwibXNlY1wiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpc29EYXRlU3RyaW5nID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICBpZiAoXCJ5ZWFyXCIgPT09IHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzb0RhdGVTdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlzb0RhdGVTdHJpbmcgKz0gKFwiLVwiICsgRGF0ZVRpbWUubnVtYmVyVG9Eb3VibGVEaWdpdHNTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkpO1xyXG4gICAgICAgICAgICBpZiAoXCJtb250aFwiID09PSB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc29EYXRlU3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpc29EYXRlU3RyaW5nICs9IChcIi1cIiArIERhdGVUaW1lLm51bWJlclRvRG91YmxlRGlnaXRzU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKSk7XHJcbiAgICAgICAgICAgIGlmIChcImRhdGVcIiA9PT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNvRGF0ZVN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaXNvRGF0ZVN0cmluZyArPSAoXCJUXCIgKyBEYXRlVGltZS5udW1iZXJUb0RvdWJsZURpZ2l0c1N0cmluZyhkYXRlLmdldEhvdXJzKCkpKTtcclxuICAgICAgICAgICAgaWYgKFwiaG91clwiID09PSB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc29EYXRlU3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpc29EYXRlU3RyaW5nICs9IChcIjpcIiArIERhdGVUaW1lLm51bWJlclRvRG91YmxlRGlnaXRzU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKSk7XHJcbiAgICAgICAgICAgIGlmIChcIm1pblwiID09PSB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc29EYXRlU3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpc29EYXRlU3RyaW5nICs9IChcIjpcIiArIERhdGVUaW1lLm51bWJlclRvRG91YmxlRGlnaXRzU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKSk7XHJcbiAgICAgICAgICAgIGlmIChcInNlY1wiID09PSB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc29EYXRlU3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpc29EYXRlU3RyaW5nICs9IChcIi5cIiArIFN0cmluZygoZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAvIDEwMDApLnRvRml4ZWQoMykpLnNsaWNlKDIsIDUpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGlzb0RhdGVTdHJpbmc7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29udmVydCBmaWxlIHN5c3RlbSBjb21wYXRpYmxlIHN0cmluZyB0byBkYXRlIG9iamVjdFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGUgc3RyaW5nIGV4KSB5eXl5X01NX2RkVEhIX21tX3NzX1NTU1xyXG4gICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gZGF0ZSBvYmplY3RcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGNvbnZlcnRGaWxlU3lzdGVtU3RyaW5nVG9EYXRlKGRhdGVTdHJpbmc6IHN0cmluZyk6IERhdGUge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRlVGltZSA9IGRhdGVTdHJpbmcuc3BsaXQoXCJUXCIpLFxyXG4gICAgICAgICAgICAgICAgZGF0ZUFycmF5ID0gZGF0ZVRpbWVbMF0uc3BsaXQoXCJfXCIpO1xyXG4gICAgICAgICAgICBsZXQgdGltZUFycmF5LCBkYXRlT2JqZWN0O1xyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGVUaW1lWzFdKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lQXJyYXkgPSBkYXRlVGltZVsxXS5zcGxpdChcIl9cIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aW1lQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGRhdGVPYmplY3QgPSBuZXcgRGF0ZSg8YW55PmRhdGVBcnJheVswXSwgPGFueT5kYXRlQXJyYXlbMV0gLSAxLCA8YW55PmRhdGVBcnJheVsyXSxcclxuICAgICAgICAgICAgICAgICAgICA8YW55PnRpbWVBcnJheVswXSwgPGFueT50aW1lQXJyYXlbMV0sIDxhbnk+dGltZUFycmF5WzJdLCA8YW55PnRpbWVBcnJheVszXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZUFycmF5WzJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZU9iamVjdCA9IG5ldyBEYXRlKDxhbnk+ZGF0ZUFycmF5WzBdLCA8YW55PmRhdGVBcnJheVsxXSAtIDEsIDxhbnk+ZGF0ZUFycmF5WzJdKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0ZUFycmF5WzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZU9iamVjdCA9IG5ldyBEYXRlKDxhbnk+ZGF0ZUFycmF5WzBdLCA8YW55PmRhdGVBcnJheVsxXSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlT2JqZWN0ID0gbmV3IERhdGUoPGFueT5kYXRlQXJyYXlbMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGF0ZU9iamVjdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqICBDb252ZXJ0IGEgZGF0ZSBvYmplY3QgaW50byBhIHN0cmluZyBpbiBmaWxlIHN5c3RlbSBjb21wYXRpYmxlIGZvcm1hdCh5eXl5X01NX2RkVEhIX21tX3NzX1NTUylcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBkYXRlICAge0RhdGV9ICAgW2luXSBkYXRlIG9iamVjdFxyXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQge1N0cmluZ30gW2luXSB7eWVhciB8IG1vbnRoIHwgZGF0ZSB8IGhvdXIgfCBtaW4gfCBzZWMgfCBtc2VjIH1cclxuICAgICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBjb252ZXJ0RGF0ZVRvRmlsZVN5c3RlbVN0cmluZyhkYXRlOiBEYXRlLCB0YXJnZXQ6IHN0cmluZyA9IFwibXNlY1wiKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgbGV0IGZpbGVTeXN0ZW1TdHJpbmc7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInllYXJcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJtb250aFwiOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImRhdGVcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJob3VyXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibWluXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic2VjXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibXNlY1wiOlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHICsgXCJ1bmtub3duIHRhcmdldDogXCIgKyB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IFwibXNlY1wiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmaWxlU3lzdGVtU3RyaW5nID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICBpZiAoXCJ5ZWFyXCIgPT09IHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbGVTeXN0ZW1TdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZpbGVTeXN0ZW1TdHJpbmcgKz0gKFwiX1wiICsgRGF0ZVRpbWUubnVtYmVyVG9Eb3VibGVEaWdpdHNTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkpO1xyXG4gICAgICAgICAgICBpZiAoXCJtb250aFwiID09PSB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmaWxlU3lzdGVtU3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmaWxlU3lzdGVtU3RyaW5nICs9IChcIl9cIiArIERhdGVUaW1lLm51bWJlclRvRG91YmxlRGlnaXRzU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKSk7XHJcbiAgICAgICAgICAgIGlmIChcImRhdGVcIiA9PT0gdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsZVN5c3RlbVN0cmluZztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZmlsZVN5c3RlbVN0cmluZyArPSAoXCJUXCIgKyBEYXRlVGltZS5udW1iZXJUb0RvdWJsZURpZ2l0c1N0cmluZyhkYXRlLmdldEhvdXJzKCkpKTtcclxuICAgICAgICAgICAgaWYgKFwiaG91clwiID09PSB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmaWxlU3lzdGVtU3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmaWxlU3lzdGVtU3RyaW5nICs9IChcIl9cIiArIERhdGVUaW1lLm51bWJlclRvRG91YmxlRGlnaXRzU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKSk7XHJcbiAgICAgICAgICAgIGlmIChcIm1pblwiID09PSB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmaWxlU3lzdGVtU3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmaWxlU3lzdGVtU3RyaW5nICs9IChcIl9cIiArIERhdGVUaW1lLm51bWJlclRvRG91YmxlRGlnaXRzU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKSk7XHJcbiAgICAgICAgICAgIGlmIChcInNlY1wiID09PSB0YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmaWxlU3lzdGVtU3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmaWxlU3lzdGVtU3RyaW5nICs9IChcIl9cIiArIFN0cmluZygoZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAvIDEwMDApLnRvRml4ZWQoMykpLnNsaWNlKDIsIDUpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZpbGVTeXN0ZW1TdHJpbmc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIHByaXZhdGUgc3RhdGljIG1ldGhvZFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb252ZXJ0IG51bSB0byBzdHJpbmcoZG91YmxlIGRpZ2l0cylcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSAge051bWJlcn0gbnVtYmVyICgwIDxudW1iZXIgPCAxMDApXHJcbiAgICAgICAgICogQHJldHVybiB7U3RyaW5nfSBkb3VibGUgZGlnaXRzIHN0cmluZ1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIG51bWJlclRvRG91YmxlRGlnaXRzU3RyaW5nKG51bTogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgaWYgKG51bSA8IDAgfHwgbnVtID4gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobnVtIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIjBcIiArIG51bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gXCJcIiArIG51bTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJqcXVlcnlcIiAvPlxyXG5cclxubmFtZXNwYWNlIENEUC5Ub29scyB7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlRvb2xzLkZ1bmN0aW9uc10gXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXRoLmFicyDjgojjgorjgoLpq5jpgJ/jgaogYWJzXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBhYnMoeDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4geCA+PSAwID8geCA6IC14O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWF0aC5tYXgg44KI44KK44KC6auY6YCf44GqIG1heFxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gbWF4KGxoczogbnVtYmVyLCByaHM6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIGxocyA+PSByaHMgPyBsaHMgOiByaHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXRoLm1pbiDjgojjgorjgoLpq5jpgJ/jgaogbWluXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBtaW4obGhzOiBudW1iZXIsIHJoczogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gbGhzIDw9IHJocyA/IGxocyA6IHJocztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIOaVsOWApOOCkiAwIOipsOOCgeOBl+OBpuaWh+Wtl+WIl+OCkueUn+aIkFxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gdG9aZXJvUGFkZGluZyhubzogbnVtYmVyLCBsaW1pdDogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgc2lnbmVkID0gXCJcIjtcclxuICAgICAgICBubyA9IE51bWJlcihubyk7XHJcblxyXG4gICAgICAgIGlmIChpc05hTihubykgfHwgaXNOYU4obGltaXQpIHx8IGxpbWl0IDw9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobm8gPCAwKSB7XHJcbiAgICAgICAgICAgIG5vID0gVG9vbHMuYWJzKG5vKTtcclxuICAgICAgICAgICAgc2lnbmVkID0gXCItXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2lnbmVkICsgKEFycmF5KGxpbWl0KS5qb2luKFwiMFwiKSArIG5vKS5zbGljZSgtbGltaXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICog5aSa6YeN57aZ5om/44Gu44Gf44KB44Gu5a6f6KGM5pmC57aZ5om/6Zai5pWwXHJcbiAgICAgKlxyXG4gICAgICogU3ViIENsYXNzIOWAmeijnOOCquODluOCuOOCp+OCr+ODiOOBq+WvvuOBl+OBpiBTdXBlciBDbGFzcyDlgJnoo5zjgqrjg5bjgrjjgqfjgq/jg4jjgpLnm7TliY3jga4gU3VwZXIgQ2xhc3Mg44Go44GX44Gm5oy/5YWl44GZ44KL44CCXHJcbiAgICAgKiBwcm90b3R5cGUg44Gu44G/44Kz44OU44O844GZ44KL44CCXHJcbiAgICAgKiDjgqTjg7Pjgrnjgr/jg7Pjgrnjg6Hjg7Pjg5DjgpLjgrPjg5Tjg7zjgZfjgZ/jgYTloLTlkIjjgIFTdXBlciBDbGFzcyDjgYznlpHkvLzjgrPjg7Pjgrnjg4jjg6njgq/jgr/jgpLmj5DkvpvjgZnjgovlv4XopoHjgYzjgYLjgovjgIJcclxuICAgICAqIOips+e0sOOBryBjZHAudG9vbHMuRnVuY3Rpb25zLnNwZWMudHMg44KS5Y+C54Wn44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHN1YkNsYXNzICAge2NvbnN0cnVjdG9yfSBbaW5dIOOCquODluOCuOOCp+OCr+ODiOOBriBjb25zdHJ1Y3RvciDjgpLmjIflrppcclxuICAgICAqIEBwYXJhbSBzdXBlckNsYXNzIHtjb25zdHJ1Y3Rvcn0gW2luXSDjgqrjg5bjgrjjgqfjgq/jg4jjga4gY29uc3RydWN0b3Ig44KS5oyH5a6aXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBpbmhlcml0KHN1YkNsYXNzOiBhbnksIHN1cGVyQ2xhc3M6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IF9wcm90b3R5cGUgPSBzdWJDbGFzcy5wcm90b3R5cGU7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIF9pbmhlcml0KCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9pbmhlcml0LnByb3RvdHlwZSA9IHN1cGVyQ2xhc3MucHJvdG90eXBlO1xyXG4gICAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IG5ldyBfaW5oZXJpdCgpO1xyXG5cclxuICAgICAgICAkLmV4dGVuZChzdWJDbGFzcy5wcm90b3R5cGUsIF9wcm90b3R5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogbWl4aW4g6Zai5pWwXHJcbiAgICAgKlxyXG4gICAgICogVHlwZVNjcmlwdCBPZmZpY2lhbCBTaXRlIOOBq+i8ieOBo+OBpuOBhOOCiyBtaXhpbiDplqLmlbBcclxuICAgICAqIGh0dHA6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL0hhbmRib29rI21peGluc1xyXG4gICAgICog5pei44Gr5a6a576p44GV44KM44Gm44GE44KL44Kq44OW44K444Kn44Kv44OI44GL44KJ44CB5paw6KaP44Gr44Kq44OW44K444Kn44Kv44OI44KS5ZCI5oiQ44GZ44KL44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRlcml2ZWQge2NvbnN0cnVjdG9yfSAgICBbaW5dIOWQiOaIkOOBleOCjOOCi+OCquODluOCuOOCp+OCr+ODiOOBriBjb25zdHJ1Y3RvciDjgpLmjIflrppcclxuICAgICAqIEBwYXJhbSBiYXNlcyAgIHtjb25zdHJ1Y3Rvci4uLn0gW2luXSDlkIjmiJDlhYPjgqrjg5bjgrjjgqfjgq/jg4jjga4gY29uc3RydWN0b3Ig44KS5oyH5a6aICjlj6/lpInlvJXmlbApXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBtaXhpbihkZXJpdmVkOiBhbnksIC4uLmJhc2VzOiBhbnlbXSk6IHZvaWQge1xyXG4gICAgICAgIGJhc2VzLmZvckVhY2goKGJhc2UpID0+IHtcclxuICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYmFzZS5wcm90b3R5cGUpLmZvckVhY2gobmFtZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkZXJpdmVkLnByb3RvdHlwZVtuYW1lXSA9IGJhc2UucHJvdG90eXBlW25hbWVdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byBjb3JyZWN0bHkgc2V0IHVwIHRoZSBwcm90b3R5cGUgY2hhaW4sIGZvciBzdWJjbGFzc2VzLlxyXG4gICAgICogVGhlIGZ1bmN0aW9uIGJlaGF2aW9yIGlzIHNhbWUgYXMgZXh0ZW5kKCkgZnVuY3Rpb24gb2YgQmFja2JvbmUuanMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHByb3RvUHJvcHMgIHtPYmplY3R9IFtpbl0gc2V0IHByb3RvdHlwZSBwcm9wZXJ0aWVzIGFzIG9iamVjdC5cclxuICAgICAqIEBwYXJhbSBzdGF0aWNQcm9wcyB7T2JqZWN0fSBbaW5dIHNldCBzdGF0aWMgcHJvcGVydGllcyBhcyBvYmplY3QuXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHN1YmNsYXNzIGNvbnN0cnVjdG9yLlxyXG4gICAgICpcclxuICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgKiDjgq/jg6njgrnntpnmib/jga7jgZ/jgoHjga7jg5jjg6vjg5Hjg7zplqLmlbBcclxuICAgICAqIEJhY2tib25lLmpzIGV4dGVuZCgpIOmWouaVsOOBqOWQjOetiVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwcm90b1Byb3BzICB7T2JqZWN0fSBbaW5dIHByb3RvdHlwZSBwcm9wZXJ0aWVzIOOCkuOCquODluOCuOOCp+OCr+ODiOOBp+aMh+WumlxyXG4gICAgICogQHBhcmFtIHN0YXRpY1Byb3BzIHtPYmplY3R9IFtpbl0gc3RhdGljIHByb3BlcnRpZXMg44KS44Kq44OW44K444Kn44Kv44OI44Gn5oyH5a6aXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IOOCteODluOCr+ODqeOCueOBruOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZXh0ZW5kKHByb3RvUHJvcHM6IE9iamVjdCwgc3RhdGljUHJvcHM/OiBPYmplY3QpOiBPYmplY3Qge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXM7XHJcbiAgICAgICAgbGV0IGNoaWxkO1xyXG5cclxuICAgICAgICBpZiAocHJvdG9Qcm9wcyAmJiBwcm90b1Byb3BzLmhhc093blByb3BlcnR5KFwiY29uc3RydWN0b3JcIikpIHtcclxuICAgICAgICAgICAgY2hpbGQgPSBwcm90b1Byb3BzLmNvbnN0cnVjdG9yO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoaWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJC5leHRlbmQoY2hpbGQsIHBhcmVudCwgc3RhdGljUHJvcHMpO1xyXG5cclxuICAgICAgICBjb25zdCBTdXJyb2dhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFN1cnJvZ2F0ZS5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlO1xyXG4gICAgICAgIGNoaWxkLnByb3RvdHlwZSA9IG5ldyBTdXJyb2dhdGU7XHJcblxyXG4gICAgICAgIGlmIChwcm90b1Byb3BzKSB7XHJcbiAgICAgICAgICAgICQuZXh0ZW5kKGNoaWxkLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlO1xyXG5cclxuICAgICAgICByZXR1cm4gY2hpbGQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEUEkg5Y+W5b6XXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXREZXZpY2VQaXhjZWxSYXRpbygpOiBudW1iZXIge1xyXG4gICAgICAgIGxldCBtZWRpYVF1ZXJ5O1xyXG4gICAgICAgIGNvbnN0IGlzX2ZpcmVmb3ggPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImZpcmVmb3hcIikgPiAtMTtcclxuICAgICAgICBpZiAobnVsbCAhPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyAmJiAhaXNfZmlyZWZveCkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LmRldmljZVBpeGVsUmF0aW87XHJcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cubWF0Y2hNZWRpYSkge1xyXG4gICAgICAgICAgICBtZWRpYVF1ZXJ5ID1cclxuICAgICAgICAgICAgICAgIFwiKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMS41KSxcXFxyXG4gICAgICAgICAgICAgICAgICAgIChtaW4tLW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86IDEuNSksXFxcclxuICAgICAgICAgICAgICAgICAgICAoLW8tbWluLWRldmljZS1waXhlbC1yYXRpbzogMy8yKSxcXFxyXG4gICAgICAgICAgICAgICAgICAgIChtaW4tcmVzb2x1dGlvbjogMS41ZHBweClcIjtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKG1lZGlhUXVlcnkpLm1hdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxLjU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWVkaWFRdWVyeSA9XHJcbiAgICAgICAgICAgICAgICBcIigtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpLFxcXHJcbiAgICAgICAgICAgICAgICAgICAgKG1pbi0tbW96LWRldmljZS1waXhlbC1yYXRpbzogMiksXFxcclxuICAgICAgICAgICAgICAgICAgICAoLW8tbWluLWRldmljZS1waXhlbC1yYXRpbzogMi8xKSxcXFxyXG4gICAgICAgICAgICAgICAgICAgIChtaW4tcmVzb2x1dGlvbjogMmRwcHgpXCI7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYShtZWRpYVF1ZXJ5KS5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtZWRpYVF1ZXJ5ID1cclxuICAgICAgICAgICAgICAgIFwiKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzogMC43NSksXFxcclxuICAgICAgICAgICAgICAgICAgICAobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOiAwLjc1KSxcXFxyXG4gICAgICAgICAgICAgICAgICAgICgtby1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAzLzQpLFxcXHJcbiAgICAgICAgICAgICAgICAgICAgKG1pbi1yZXNvbHV0aW9uOiAwLjc1ZHBweClcIjtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKG1lZGlhUXVlcnkpLm1hdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwLjc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJqcXVlcnlcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSB0eXBlcz1cInVuZGVyc2NvcmVcIiAvPlxyXG5cclxubmFtZXNwYWNlIENEUC5Ub29scyB7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlRvb2xzLlRlbXBsYXRlXSBcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcmZhY2UgSlNUXHJcbiAgICAgKiBAYnJpZWYg44Kz44Oz44OR44Kk44Or5riI44G/IOODhuODs+ODl+ODrOODvOODiOagvOe0jeOCpOODs+OCv+ODvOODleOCp+OCpOOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEpTVCB7XHJcbiAgICAgICAgKGRhdGE/OiBhbnkpOiBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgLy9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fLy9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBjbGFzcyBUZW1wbGF0ZVxyXG4gICAgICogQGJyaWVmIHRlbXBsYXRlIHNjcmlwdCDjgpLnrqHnkIbjgZnjgovjg6bjg7zjg4bjgqPjg6rjg4bjgqPjgq/jg6njgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGNsYXNzIFRlbXBsYXRlIHtcclxuXHJcbiAgICAgICAgc3RhdGljIF9tYXBFbGVtZW50OiBhbnk7ICAgIC8vITwg44Kt44O844GoIEpRdWVyeSBFbGVtZW50IOOBriBNYXAg44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgc3RhdGljIF9tYXBTb3VyY2U6IGFueTsgICAgIC8vITwgVVJMIOOBqCDjgr3jg7zjgrnjg5XjgqHjgqTjg6soSFRNTCkg44GuIE1hcCDjgqrjg5bjgrjjgqfjgq/jg4hcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyDlhazplovjg6Hjgr3jg4Pjg4lcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5oyH5a6a44GX44GfIGlkLCBjbGFzcyDlkI0sIFRhZyDlkI3jgpLjgq3jg7zjgavjg4bjg7Pjg5fjg6zjg7zjg4jjga4gSlF1ZXJ5IEVsZW1lbnQg44KS5Y+W5b6X44GZ44KL44CCXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gIGtleSAgICAgW2luXSBpZCwgY2xhc3MsIHRhZyDjgpLooajjgZnmloflrZfliJdcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gIFtzcmNdICAgW2luXSDlpJbpg6ggaHRtbCDjgpLmjIflrprjgZnjgovloLTlkIjjga8gdXJsIOOCkuioreWumlxyXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NhY2hlXSBbaW5dIHNyYyBodG1sIOOCkuOCreODo+ODg+OCt+ODpeOBmeOCi+WgtOWQiOOBryB0cnVlLiBzcmMg44GM5oyH5a6a44GV44KM44Gm44GE44KL44Go44GN44Gu44G/5pyJ5Yq5XHJcbiAgICAgICAgICogQHJldHVybiB0ZW1wbGF0ZSDjgYzmoLzntI3jgZXjgozjgabjgYTjgosgSlF1ZXJ5IEVsZW1lbnRcclxuICAgICAgICAgKi9cclxuICAgICAgICBzdGF0aWMgZ2V0VGVtcGxhdGVFbGVtZW50KGtleTogc3RyaW5nLCBzcmM6IHN0cmluZyA9IG51bGwsIGNhY2hlOiBib29sZWFuID0gdHJ1ZSk6IEpRdWVyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hcEVsZW1lbnQgPSBUZW1wbGF0ZS5nZXRFbGVtZW50TWFwKCk7XHJcbiAgICAgICAgICAgIGxldCAkZWxlbWVudCA9IG1hcEVsZW1lbnRba2V5XTtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoISRlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNyYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBodG1sID0gVGVtcGxhdGUuZmluZEh0bWxGcm9tU291cmNlKHNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbGVtZW50ID0gJChodG1sKS5maW5kKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQgPSAkKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOimgee0oOOBruaknOiovFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkZWxlbWVudCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IChcImludmFsaWQgW2tleSwgc3JjXSA9IFtcIiArIGtleSArIFwiLCBcIiArIHNyYyArIFwiXVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNyYyAmJiBjYWNoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXBFbGVtZW50W2tleV0gPSAkZWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihUQUcgKyBleGNlcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAkZWxlbWVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIE1hcCDjgqrjg5bjgrjjgqfjgq/jg4jjga7liYrpmaRcclxuICAgICAgICAgKiDmmI7npLrnmoTjgavjgq3jg6Pjg4Pjgrfjg6XjgpLplovmlL7jgZnjgovloLTlkIjjga/mnKzjg6Hjgr3jg4Pjg4njgpLjgrPjg7zjg6vjgZnjgotcclxuICAgICAgICAgKi9cclxuICAgICAgICBzdGF0aWMgZW1wdHkoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIFRlbXBsYXRlLl9tYXBFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgVGVtcGxhdGUuX21hcFNvdXJjZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDmjIflrprjgZfjgZ8gaWQsIGNsYXNzIOWQjSwgVGFnIOWQjeOCkuOCreODvOOBqyBKU1Qg44KS5Y+W5b6X44GZ44KL44CCXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZyB8IGpRdWVyeX0ga2V5ICAgICBbaW5dIGlkLCBjbGFzcywgdGFnIOOCkuihqOOBmeaWh+Wtl+WIlyDjgb7jgZ/jga8g44OG44Oz44OX44Os44O844OI5paH5a2X5YiXLCDjgb7jgZ/jga8galF1ZXJ5IOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICAgICAgICBbc3JjXSAgIFtpbl0g5aSW6YOoIGh0bWwg44KS5oyH5a6a44GZ44KL5aC05ZCI44GvIHVybCDjgpLoqK3lrppcclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59ICAgICAgICAgW2NhY2hlXSBbaW5dIHNyYyBodG1sIOOCkuOCreODo+ODg+OCt+ODpeOBmeOCi+WgtOWQiOOBryB0cnVlLiBzcmMg44GM5oyH5a6a44GV44KM44Gm44GE44KL44Go44GN44Gu44G/5pyJ5Yq5XHJcbiAgICAgICAgICogQHJldHVybiDjgrPjg7Pjg5HjgqTjg6vjgZXjgozjgZ8gSlNUIOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHN0YXRpYyBnZXRKU1Qoa2V5OiBKUXVlcnkpOiBKU1Q7XHJcbiAgICAgICAgc3RhdGljIGdldEpTVChrZXk6IHN0cmluZywgc3JjPzogc3RyaW5nLCBjYWNoZT86IGJvb2xlYW4pOiBKU1Q7XHJcbiAgICAgICAgc3RhdGljIGdldEpTVChrZXk6IGFueSwgc3JjPzogc3RyaW5nLCBjYWNoZT86IGJvb2xlYW4pOiBKU1Qge1xyXG4gICAgICAgICAgICBsZXQgdGVtcGxhdGU6IGFueSA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBqc3Q6IEpTVDtcclxuICAgICAgICAgICAgbGV0ICRlbGVtZW50OiBKUXVlcnk7XHJcbiAgICAgICAgICAgIGlmIChrZXkgaW5zdGFuY2VvZiBqUXVlcnkpIHtcclxuICAgICAgICAgICAgICAgICRlbGVtZW50ID0ga2V5O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQgPSB0aGlzLmdldFRlbXBsYXRlRWxlbWVudChrZXksIHNyYywgY2FjaGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChudWxsICE9IGdsb2JhbC5Ib2dhbikge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGUgPSBIb2dhbi5jb21waWxlKCRlbGVtZW50LnRleHQoKSk7XHJcbiAgICAgICAgICAgICAgICBqc3QgPSBmdW5jdGlvbiAoZGF0YT86IGFueSk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlbmRlcihkYXRhKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IF8udGVtcGxhdGUoJGVsZW1lbnQuaHRtbCgpKTtcclxuICAgICAgICAgICAgICAgIGpzdCA9IGZ1bmN0aW9uIChkYXRhPzogYW55KTogc3RyaW5nIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyDmlLnooYzjgajjgr/jg5bjga/liYrpmaTjgZnjgotcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGUoZGF0YSkucmVwbGFjZSgvXFxufFxcdC9nLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGpzdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8g5YaF6YOo44Oh44K944OD44OJXHJcblxyXG4gICAgICAgIC8vISBFbGVtZW50IE1hcCDjgqrjg5bjgrjjgqfjgq/jg4jjga7lj5blvpdcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBnZXRFbGVtZW50TWFwKCk6IGFueSB7XHJcbiAgICAgICAgICAgIGlmICghVGVtcGxhdGUuX21hcEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIFRlbXBsYXRlLl9tYXBFbGVtZW50ID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFRlbXBsYXRlLl9tYXBFbGVtZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIFVSTCBNYXAg44Kq44OW44K444Kn44Kv44OI44Gu5Y+W5b6XXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgZ2V0U291cmNlTWFwKCk6IGFueSB7XHJcbiAgICAgICAgICAgIGlmICghVGVtcGxhdGUuX21hcFNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgVGVtcGxhdGUuX21hcFNvdXJjZSA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBUZW1wbGF0ZS5fbWFwU291cmNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIFVSTCBNYXAg44GL44KJIEhUTUwg44KS5qSc57SiLiDlpLHmlZfjgZfjgZ/loLTlkIjjga8gdW5kZWZpbmVkIOOBjOi/lOOCi1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGZpbmRIdG1sRnJvbVNvdXJjZShzcmM6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hcFNvdXJjZSA9IFRlbXBsYXRlLmdldFNvdXJjZU1hcCgpO1xyXG4gICAgICAgICAgICBsZXQgaHRtbCA9IG1hcFNvdXJjZVtzcmNdO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFodG1sKSB7XHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogc3JjLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgICAgICBhc3luYzogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogKGRhdGE6IGFueSwgc3RhdHVzOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgKFwiYWpheCByZXF1ZXN0IGZhaWxlZC4gc3RhdHVzOiBcIiArIHN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyDjgq3jg6Pjg4Pjgrfjg6XjgavmoLzntI1cclxuICAgICAgICAgICAgICAgIG1hcFNvdXJjZVtzcmNdID0gaHRtbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaHRtbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJqcXVlcnlcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSB0eXBlcz1cImJhY2tib25lXCIgLz5cclxuXHJcbm5hbWVzcGFjZSBDRFAuVUkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGludGVyZmFjZSBMaXN0Vmlld09wdGlvbnNcclxuICAgICAqIEBicmllZiBMaXN0VmlldyDjga7liJ3mnJ/ljJbmg4XloLHjgpLmoLzntI3jgZnjgovjgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrnjgq/jg6njgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBMaXN0Vmlld09wdGlvbnMge1xyXG4gICAgICAgIC8vISDkvb/nlKjjgZnjgosgSVNjcm9sbGVyIOOCkuWkieabtOOBmeOCi+WgtOWQiOOBq+aMh+WumiAgW2RlZmF1bHQ6IFNjcm9sbGVyTmF0aXZlLmdldEZhY3RvcnkoKV1cclxuICAgICAgICBzY3JvbGxlckZhY3Rvcnk/OiAoZWxlbWVudDogYW55LCBvcHRpb25zOiBMaXN0Vmlld09wdGlvbnMpID0+IElTY3JvbGxlcjtcclxuICAgICAgICBlbmFibGVIaWRkZW5QYWdlPzogYm9vbGVhbjsgICAgICAgICAvLyE8IHBsZWxvYWQg5a++6LGh44KSIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIg44Gr44GZ44KL5aC05ZCI44GvIHRydWUuICAgICAgICAgICAgICAgIFtkZWZhdWx0OiBmYWxzZV1cclxuICAgICAgICBlbmFibGVUcmFuc2Zvcm1PZmZzZXQ/OiBib29sZWFuOyAgICAvLyE8IGxpc3QgaXRlbSDjga4gb2Zmc2V0IOOCkiB0cmFuc2Zvcm0g44Gn6Kit5a6a44GZ44KLICjjgYLjgb7jgorjgojjgY/jgarjgYQpICAgICAgICAgIFtkZWZhdWx0OiBmYWxzZV1cclxuICAgICAgICBzY3JvbGxNYXBSZWZyZXNoSW50ZXJ2YWw/OiBudW1iZXI7ICAvLyE8IHNjcm9sbCBtYXAg6aCY5Z+f44Gu5pu05paw56K66KqN6ZaT6ZqULiBpc2Nyb2xsIOetieOAgemdniBET00g5pON5L2c5pmC44Gr5L2/55SoICAgICAgICBbZGVmYXVsdDogMjAwXVxyXG4gICAgICAgIHNjcm9sbFJlZnJlc2hEaXN0YW5jZT86IG51bWJlcjsgICAgIC8vITwgTGlzdFZpZXcg5pu05paw5Yem55CG44KS6KGM44GGIHNjcm9sbCDnp7vli5Xph48gKOOCouODq+OCtOODquOCuuODoOimi+ebtOOBl+OCguimlumHjikgICAgICBbZGVmYXVsdDogMjAwXVxyXG4gICAgICAgIHBhZ2VQcmVwYXJlQ291bnQ/OiBudW1iZXI7ICAgICAgICAgIC8vITwg6KGo56S66aCY5Z+f5aSW44Gn5a6M5YWo44Gq54q25oWL44Gn6L+95Yqg44GV44KM44KLIHBhZ2Ug5pWwICjliY3mlrnjg7vlvozmlrnlkIjjgo/jgZvjgaYgMuWAjSkgICBbZGVmYXVsdDogM11cclxuICAgICAgICBwYWdlUHJlbG9hZENvdW50PzogbnVtYmVyOyAgICAgICAgICAvLyE8IOihqOekuumgmOWfn+WkluOBpyBoaWRkZW4g54q25oWL44Gn6L+95Yqg44GV44KM44KLIHBhZ2Ug5pWwICjliY3mlrnjg7vlvozmlrnlkIjjgo/jgZvjgaYgMuWAjSkgW2RlZmF1bHQ6IDFdXHJcbiAgICAgICAgZW5hYmxlQW5pbWF0aW9uPzogYm9vbGVhbjsgICAgICAgICAgLy8hPCDjgqLjg4vjg6Hjg7zjgrfjg6fjg7PjgpLmnInlirnjgavjgZnjgovloLTlkIjjga8gdHJ1ZS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkZWZhdWx0OiB0cnVlXVxyXG4gICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uPzogbnVtYmVyOyAgICAgICAgIC8vITwg44Ki44OL44Oh44O844K344On44Oz44Gu6LK744KE44GZ5pmC6ZaTIChtc2VjKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGVmYXVsdDogMF1cclxuICAgICAgICBiYXNlRGVwdGg/OiBzdHJpbmc7ICAgICAgICAgICAgICAgICAvLyE8IOWfuua6luOBqOOBmeOCiyB6LWluZGV4LiBcImNvbGxhcHNlXCIg5pmC44Gu44Ki44OL44Oh44O844K344On44Oz5pmC44Gr5L2/55SoICAgICAgICAgICAgIFtkZWZhdWx0OiBhdXRvXVxyXG4gICAgICAgIGl0ZW1UYWdOYW1lPzogc3RyaW5nOyAgICAgICAgICAgICAgIC8vITwgTGlzdEl0ZW1WaWV3IOOBjOS9v+eUqOOBmeOCi+OCv+OCsOWQjSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RlZmF1bHQ6IGRpdl1cclxuICAgICAgICByZW1vdmVJdGVtV2l0aFRyYW5zaXRpb24/OiBib29sZWFuOyAvLyE8IHJlbW92ZUl0ZW0oKSDmmYLjgavlv4XopoHjgavlv5zjgZjjgaboh6rli5XjgacgdHJhbnNpdGlvbiDjgpLjgYvjgZHjgovloLTlkIjjga8gdHJ1ZSAgICBbZGVmYXVsdDogdHJ1ZV1cclxuICAgICAgICAvLyEg6Z2e44Ki44Kv44OG44Kj44OW44GqIHNjcm9sbCBtYXAg44Gr5a++44GX44GmIER1bW15IOOCkuS9v+eUqOOBmeOCi+WgtOWQiOOBryB0cnVlLiAoZmxpcHNuYXAg5YiH44KK5pu/44GI5pmC562JLiDlirnmnpzjga/jgYLjgb7jgorjgarjgZcpICBbZGVmYXVsdDogZmFsc2VdXHJcbiAgICAgICAgdXNlRHVtbXlJbmFjdGl2ZVNjcm9sbE1hcD86IGJvb2xlYW47XHJcbiAgICB9XHJcblxyXG4gICAgLy9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fLy9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcmZhY2UgSUxpc3RWaWV3RnJhbWV3b3JrXHJcbiAgICAgKiBAYnJpZWYgTGlzdFZpZXcgRnJhbWV3b3JrIOOBjOS9v+eUqOOBmeOCi+OCpOODs+OCv+ODvOODleOCp+OCpOOCueWumue+qVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElMaXN0Vmlld0ZyYW1ld29yayB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2Nyb2xsIE1hcCDjga7pq5jjgZXjgpLlj5blvpdcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge051bWJlcn0g54++5Zyo44Gu6auY44GVIFtweF1cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXRTY3JvbGxNYXBIZWlnaHQoKTogbnVtYmVyO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTY3JvbGwgTWFwIOOBrumrmOOBleOCkuabtOaWsFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGRlbHRlIHtOdW1iZXJ9IFtpbl0g5aSJ5YyW6YeP44KS5oyH5a6aXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdXBkYXRlU2Nyb2xsTWFwSGVpZ2h0KGRlbHRhOiBudW1iZXIpOiB2b2lkO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDlhoXpg6ggUHJvZmlsZSDjga7mm7TmlrBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBmcm9tIHtOdW1iZXJ9IFtpbl0g5pu05paw6ZaL5aeL44Kk44Oz44OH44OD44Kv44K544KS5oyH5a6aXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdXBkYXRlUHJvZmlsZXMoZnJvbTogbnVtYmVyKTogdm9pZDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2Nyb2xsIE1hcCBFbGVtZW50IOOCkuWPluW+l1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7alF1ZXJ5fSBzY3JvbGwgbWFwIGVsZW1lbnRcclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXRTY3JvbGxNYXBFbGVtZW50KCk6IEpRdWVyeTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog44Oq44K144Kk44Kv44Or5Y+v6IO944GqIEVsZW1lbnQg44KS5Y+W5b6XXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtqUXVlcnl9IHJlY3ljbGUgZWxlbWVudHNcclxuICAgICAgICAgKi9cclxuICAgICAgICBmaW5kUmVjeWNsZUVsZW1lbnRzKCk6IEpRdWVyeTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogTGlzdFZpZXdPcHRpb25zIOOCkuWPluW+l1xyXG4gICAgICAgICAqIOOBmeOBueOBpuOBruODl+ODreODkeODhuOCo+OCouOCr+OCu+OCueOCkuS/neiovOOBmeOCi+OAglxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7TGlzdFZpZXdPcHRpb25zfSBvcHRpb24g44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0TGlzdFZpZXdPcHRpb25zKCk6IExpc3RWaWV3T3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICAvL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18vL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGludGVyZmFjZSBJU2Nyb2xsZXJcclxuICAgICAqIEBicmllZiBTY3JvbGxlciDjgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJU2Nyb2xsZXIge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNjcm9sbGVyIOOBruWei+aDheWgseOCkuWPluW+l1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldFR5cGUoKTogc3RyaW5nO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBwb3NpdGlvbiDlj5blvpdcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge051bWJlcn0gOiBwb3NpdGlvblxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldFBvcygpOiBudW1iZXI7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIHBvc2l0aW9uIOOBruacgOWkp+WApOOCkuWPluW+l1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7TnVtYmVyfSA6IHBvc2l0aW9uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0UG9zTWF4KCk6IG51bWJlcjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog44Kk44OZ44Oz44OI55m76YyyXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gdHlwZSB7U3RyaW5nfSAgIFtpbl0gZXZlbnQg5ZCNXHJcbiAgICAgICAgICogQHBhcmFtIGZ1bmMge0Z1bmN0aW9ufSBbaW5dIGV2ZW50IGhhbmRsZXJcclxuICAgICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IDogcG9zaXRpb25cclxuICAgICAgICAgKi9cclxuICAgICAgICBvbih0eXBlOiBzdHJpbmcsIGZ1bmM6IChldmVudDogSlF1ZXJ5LkV2ZW50KSA9PiB2b2lkKTogdm9pZDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog44Kk44OZ44Oz44OI55m76Yyy6Kej6ZmkXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gdHlwZSB7U3RyaW5nfSAgIFtpbl0gZXZlbnQg5ZCNXHJcbiAgICAgICAgICogQHBhcmFtIGZ1bmMge0Z1bmN0aW9ufSBbaW5dIGV2ZW50IGhhbmRsZXJcclxuICAgICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IDogcG9zaXRpb25cclxuICAgICAgICAgKi9cclxuICAgICAgICBvZmYodHlwZTogc3RyaW5nLCBmdW5jOiAoZXZlbnQ6IEpRdWVyeS5FdmVudCkgPT4gdm9pZCk6IHZvaWQ7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOOCueOCr+ODreODvOODq+S9jee9ruOCkuaMh+WumlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHBvcyAgICAge051bWJlcn0gIFtpbl0g44K544Kv44Ot44O844Or5L2N572uICgwIC0gcG9zTWF4KVxyXG4gICAgICAgICAqIEBwYXJhbSBhbmltYXRlIHtCb29sZWFufSBbaW5dIOOCouODi+ODoeODvOOCt+ODp+ODs+OBruacieeEoVxyXG4gICAgICAgICAqIEBwYXJhbSB0aW1lICAgIHtOdW1iZXJ9ICBbaW5dIOOCouODi+ODoeODvOOCt+ODp+ODs+OBq+iyu+OChOOBmeaZgumWkyBbbXNlY11cclxuICAgICAgICAgKi9cclxuICAgICAgICBzY3JvbGxUbyhwb3M6IG51bWJlciwgYW5pbWF0ZT86IGJvb2xlYW4sIHRpbWU/OiBudW1iZXIpOiB2b2lkO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTY3JvbGxlciDjga7nirbmhYvmm7TmlrBcclxuICAgICAgICAgKi9cclxuICAgICAgICB1cGRhdGUoKTogdm9pZDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2Nyb2xsZXIg44Gu56C05qOEXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZGVzdHJveSgpOiB2b2lkO1xyXG4gICAgfVxyXG5cclxuICAgIC8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaW50ZXJmYWNlIElTY3JvbGxhYmxlXHJcbiAgICAgKiBAYnJpZWYgU2Nyb2xsIOOCpOODs+OCv+ODvOODleOCp+OCpOOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElTY3JvbGxhYmxlIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDjgrnjgq/jg63jg7zjg6vjgqTjg5njg7Pjg4jjg4/jg7Pjg4njg6noqK3lrpov6Kej6ZmkXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gaGFuZGxlciB7RnVuY3Rpb259IFtpbl0g44OP44Oz44OJ44Op6Zai5pWwXHJcbiAgICAgICAgICogQHBhcmFtIG9uICAgICAge0Jvb2xlYW59ICBbaW5dIHRydWU6IOioreWumiAvIGZhbHNlOiDop6PpmaRcclxuICAgICAgICAgKi9cclxuICAgICAgICBzZXRTY3JvbGxIYW5kbGVyKGhhbmRsZXI6IChldmVudDogSlF1ZXJ5LkV2ZW50KSA9PiB2b2lkLCBvbjogYm9vbGVhbik6IHZvaWQ7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOOCueOCr+ODreODvOODq+e1guS6huOCpOODmeODs+ODiOODj+ODs+ODieODqeioreWumi/op6PpmaRcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBoYW5kbGVyIHtGdW5jdGlvbn0gW2luXSDjg4/jg7Pjg4njg6nplqLmlbBcclxuICAgICAgICAgKiBAcGFyYW0gb24gICAgICB7Qm9vbGVhbn0gIFtpbl0gdHJ1ZTog6Kit5a6aIC8gZmFsc2U6IOino+mZpFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNldFNjcm9sbFN0b3BIYW5kbGVyKGhhbmRsZXI6IChldmVudDogSlF1ZXJ5LkV2ZW50KSA9PiB2b2lkLCBvbjogYm9vbGVhbik6IHZvaWQ7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOOCueOCr+ODreODvOODq+S9jee9ruOCkuWPluW+l1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7TnVtYmVyfSA6IHBvc2l0aW9uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0U2Nyb2xsUG9zKCk6IG51bWJlcjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog44K544Kv44Ot44O844Or5L2N572u44Gu5pyA5aSn5YCk44KS5Y+W5b6XXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IDogcG9zaXRpb25cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXRTY3JvbGxQb3NNYXgoKTogbnVtYmVyO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDjgrnjgq/jg63jg7zjg6vkvY3nva7jgpLmjIflrppcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBwb3MgICAgIHtOdW1iZXJ9ICBbaW5dIOOCueOCr+ODreODvOODq+S9jee9riAoMCAtIHBvc01heClcclxuICAgICAgICAgKiBAcGFyYW0gYW5pbWF0ZSB7Qm9vbGVhbn0gW2luXSDjgqLjg4vjg6Hjg7zjgrfjg6fjg7Pjga7mnInnhKFcclxuICAgICAgICAgKiBAcGFyYW0gdGltZSAgICB7TnVtYmVyfSAgW2luXSDjgqLjg4vjg6Hjg7zjgrfjg6fjg7PjgavosrvjgoTjgZnmmYLplpMgW21zZWNdXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2Nyb2xsVG8ocG9zOiBudW1iZXIsIGFuaW1hdGU/OiBib29sZWFuLCB0aW1lPzogbnVtYmVyKTogdm9pZDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5oyH5a6a44GV44KM44GfIExpc3RJdGVtVmlldyDjga7ooajnpLrjgpLkv53oqLxcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBpbmRleCAgIHtOdW1iZXJ9ICAgICAgICAgICAgICAgW2luXSBMaXN0SXRlbVZpZXcg44Gu44Kk44Oz44OH44OD44Kv44K5XHJcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMge0Vuc3VyZVZpc2libGVPcHRpb25zfSBbaW5dIOOCquODl+OCt+ODp+ODs1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGVuc3VyZVZpc2libGUoaW5kZXg6IG51bWJlciwgb3B0aW9ucz86IEVuc3VyZVZpc2libGVPcHRpb25zKTogdm9pZDtcclxuICAgIH1cclxuXHJcbiAgICAvL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18vL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGludGVyZmFjZSBJQmFja3VwUmVzdG9yZVxyXG4gICAgICogQGJyaWVmIEJhY2t1cC9SZXN0b3JlIOOBruOCpOODs+OCv+ODvOODleOCp+OCpOOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElCYWNrdXBSZXN0b3JlIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDlhoXpg6jjg4fjg7zjgr/jgpLjg5Djg4Pjgq/jgqLjg4Pjg5dcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBrZXkge1N0cmluZ30gW2luXSDjg5Djg4Pjgq/jgqLjg4Pjg5fjgq3jg7zjgpLmjIflrppcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlOiDmiJDlip8gLyBmYWxzZTog5aSx5pWXXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgYmFja3VwKGtleTogc3RyaW5nKTogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5YaF6YOo44OH44O844K/44KS44Oq44K544OI44KiXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ga2V5ICAgICB7U3RyaW5nfSAgW2luXSDjg5Djg4Pjgq/jgqLjg4Pjg5fjgq3jg7zjgpLmjIflrppcclxuICAgICAgICAgKiBAcGFyYW0gcmVidWlsZCB7Qm9vbGVhbn0gW2luXSByZWJ1aWxkIOOCkuWun+ihjOOBmeOCi+WgtOWQiOOBryB0cnVlIOOCkuaMh+WumlxyXG4gICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWU6IOaIkOWKnyAvIGZhbHNlOiDlpLHmlZdcclxuICAgICAgICAgKi9cclxuICAgICAgICByZXN0b3JlKGtleTogc3RyaW5nLCByZWJ1aWxkOiBib29sZWFuKTogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog44OQ44OD44Kv44Ki44OD44OX44OH44O844K/44Gu5pyJ54ShXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ga2V5IHtTdHJpbmd9IFtpbl0g44OQ44OD44Kv44Ki44OD44OX44Kt44O844KS5oyH5a6aXHJcbiAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZTog5pyJIC8gZmFsc2U6IOeEoVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGhhc0JhY2t1cChrZXk6IHN0cmluZyk6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOODkOODg+OCr+OCouODg+ODl+ODh+ODvOOCv+OBruegtOajhFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGtleSB7U3RyaW5nfSBbaW5dIOODkOODg+OCr+OCouODg+ODl+OCreODvOOCkuaMh+WumlxyXG4gICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWU6IOaIkOWKnyAvIGZhbHNlOiDlpLHmlZdcclxuICAgICAgICAgKi9cclxuICAgICAgICBjbGVhckJhY2t1cChrZXk/OiBzdHJpbmcpOiBib29sZWFuO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDjg5Djg4Pjgq/jgqLjg4Pjg5fjg4fjg7zjgr/jgavjgqLjgq/jgrvjgrlcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge2FueX0g44OQ44OD44Kv44Ki44OD44OX44OH44O844K/44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgYmFja3VwRGF0YTogYW55O1xyXG4gICAgfVxyXG5cclxuICAgIC8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vXHJcblxyXG4gICAgZXhwb3J0IHR5cGUgVmlld0NvbnN0cnVjdG9yID0gbmV3IChvcHRpb25zPzogQmFja2JvbmUuVmlld09wdGlvbnM8QmFja2JvbmUuTW9kZWw+KSA9PiBCYWNrYm9uZS5WaWV3PEJhY2tib25lLk1vZGVsPjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcmZhY2UgSUNvbXBvc2FibGVWaWV3XHJcbiAgICAgKiBAYnJpZWYgSUNvbXBvc2FibGVWaWV3U3RhdGljIOOBruODl+ODreOCreOCt+OCpOODs+OCv+ODvOODleOCp+OCpOOCuSAoZXhwZXJpbWVudGFsKVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElDb21wb3NhYmxlVmlldyB7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaW50ZXJmYWNlIElDb21wb3NhYmxlVmlld1N0YXRpY1xyXG4gICAgICogQGJyaWVmIFZpZXcgY29tcG9zZSDjgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJQ29tcG9zYWJsZVZpZXdTdGF0aWMge1xyXG4gICAgICAgIG5ldyAoKTogSUNvbXBvc2FibGVWaWV3O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOOBmeOBp+OBq+Wumue+qeOBleOCjOOBnyBCYWNrYm9uZS5WaWV3IOOCkuWfuuW6leOCr+ODqeOCueOBq+ioreWumuOBl+OAgWV4dGVuZCDjgpLlrp/ooYzjgZnjgovjgIJcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBkZXJpdmVzICAgICAgICAge0JhY2tib25lLlZpZXd8QmFja2JvbmUuVmlld1tdfSBbaW5dIOWQiOaIkOWFg+OBriBWaWV3IOOCr+ODqeOCuVxyXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0aWVzICAgICAge09iamVjdH0gICAgICAgICAgICAgICAgICAgICAgICBbaW5dIHByb3RvdHlwZSDjg5fjg63jg5Hjg4bjgqNcclxuICAgICAgICAgKiBAcGFyYW0gY2xhc3NQcm9wZXJ0aWVzIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgICAgICAgW2luXSBzdGF0aWMg44OX44Ot44OR44OG44KjXHJcbiAgICAgICAgICogQHJldHVybiB7QmFja2JvbmUuVmlld3xCYWNrYm9uZS5WaWV3W119IOaWsOimj+OBq+eUn+aIkOOBleOCjOOBnyBWaWV3IOOBruOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbXBvc2UoZGVyaXZlczogVmlld0NvbnN0cnVjdG9yIHwgVmlld0NvbnN0cnVjdG9yW10sIHByb3BlcnRpZXM6IGFueSwgY2xhc3NQcm9wZXJ0aWVzPzogYW55KTogVmlld0NvbnN0cnVjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaW50ZXJmYWNlIFVwZGF0ZUhlaWdodE9wdGlvbnNcclxuICAgICAqIEBicmllZiBJTGlzdEl0ZW1WaWV3LnVwZGF0ZUhlaWdodCgpIOOBq+a4oeOBm+OCi+OCquODl+OCt+ODp+ODs1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUhlaWdodE9wdGlvbnMge1xyXG4gICAgICAgIHJlZmxlY3RBbGw/OiBib29sZWFuOyAgICAvLyE8IGxpbmUg44Gu6auY44GV5pu05paw5pmC44Gr5b2x6Z+/44GZ44KL44GZ44G544Gm44GuIExpbmVQcm9maWxlIOOBruWGjeioiOeul+OCkuihjOOBhuWgtOWQiOOBryB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaW50ZXJmYWNlIElMaXN0SXRlbVZpZXdcclxuICAgICAqIEBicmllZiAgICAgTGlzdFZpZXcg44GuIDHooYzliIbjgpLmp4vmiJDjgZnjgosgQ2hpbGQgVmlldyDjgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJTGlzdEl0ZW1WaWV3IHtcclxuICAgICAgICAvLyEg6Ieq6Lqr44GuIExpbmUg44Kk44Oz44OH44OD44Kv44K544KS5Y+W5b6XXHJcbiAgICAgICAgZ2V0SW5kZXgoKTogbnVtYmVyO1xyXG4gICAgICAgIC8vISDoh6rouqvjgavmjIflrprjgZXjgozjgZ/pq5jjgZXjgpLlj5blvpdcclxuICAgICAgICBnZXRTcGVjaWZpZWRIZWlnaHQoKTogbnVtYmVyO1xyXG4gICAgICAgIC8vISBjaGlsZCBub2RlIOOBjOWtmOWcqOOBmeOCi+OBi+WIpOWumlxyXG4gICAgICAgIGhhc0NoaWxkTm9kZSgpOiBib29sZWFuO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDpq5jjgZXjgpLmm7TmlrBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBuZXdIZWlnaHQge051bWJlcn0gICAgICAgICAgICAgIFtpbl0g5paw44GX44GE6auY44GVXHJcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgICB7VXBkYXRlSGVpZ2h0T3B0aW9uc30gW2luXSBsaW5lIOOBrumrmOOBleabtOaWsOaZguOBq+W9semfv+OBmeOCi+OBmeOBueOBpuOBriBMaW5lUHJvZmlsZSDjga7lho3oqIjnrpfjgpLooYzjgYbloLTlkIjjga8geyByZWZsZWN0QWxsOiB0cnVlIH1cclxuICAgICAgICAgKiBAcmV0dXJuIHtJTGlzdEl0ZW1WaWV3fSDjgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAgICAgKi9cclxuICAgICAgICB1cGRhdGVIZWlnaHQobmV3SGVpZ2h0OiBudW1iZXIsIG9wdGlvbnM/OiBVcGRhdGVIZWlnaHRPcHRpb25zKTogSUxpc3RJdGVtVmlldztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcmZhY2UgQmFzZUxpc3RJdGVtVmlld1xyXG4gICAgICogQGJyaWVmICAgICBJTGlzdEl0ZW1WaWV3IOOBriBhbGlhc1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEJhc2VMaXN0SXRlbVZpZXcgZXh0ZW5kcyBJTGlzdEl0ZW1WaWV3LCBCYWNrYm9uZS5WaWV3PEJhY2tib25lLk1vZGVsPiB7IH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcmZhY2UgRW5zdXJlVmlzaWJsZU9wdGlvbnNcclxuICAgICAqIEBicmllZiBJTGlzdFZpZXcuZW5zdXJlVmlzaWJsZSgpIOOBq+a4oeOBm+OCi+OCquODl+OCt+ODp+ODs1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEVuc3VyZVZpc2libGVPcHRpb25zIHtcclxuICAgICAgICBwYXJ0aWFsT0s/OiBib29sZWFuOyAgICAvLyE8IOmDqOWIhueahOihqOekuuOCkuioseWPr+OBmeOCi+WgtOWQiCB0cnVlLCBkZWZhdWx0OiB0cnVlLlxyXG4gICAgICAgIHNldFRvcD86IGJvb2xlYW47ICAgICAgIC8vITwg5by35Yi255qE44Gr44K544Kv44Ot44O844Or6aCY5Z+f44Gu5LiK6YOo44Gr56e75YuV44GZ44KL5aC05ZCIIHRydWUsIGRlZmF1bHQ6IGZhbHNlLlxyXG4gICAgICAgIGFuaW1hdGU/OiBib29sZWFuOyAgICAgIC8vITwg44Ki44OL44Oh44O844K344On44Oz44GZ44KL5aC05ZCIIHRydWUuIGRlZmF1bHQ6IExpc3RWaWV3T3B0aW9ucy5lbmFibGVBbmltYXRpb24g44Gu6Kit5a6a44Go5ZCM5pyfXHJcbiAgICAgICAgdGltZT86IG51bWJlcjsgICAgICAgICAgLy8hPCDjgqLjg4vjg6Hjg7zjgrfjg6fjg7PjgavosrvjgoTjgZnmmYLplpMgW21zZWNdXHJcbiAgICAgICAgY2FsbGJhY2s/OiAoKSA9PiB2b2lkOyAgLy8hPCDjgqLjg4vjg6Hjg7zjgrfjg6fjg7PntYLkuobjga7jgr/jgqTjg5/jg7PjgrDjgafjgrPjg7zjg6vjgZXjgozjgosuICjnlpHkvLznmoQpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaW50ZXJmYWNlIElMaXN0Vmlld1xyXG4gICAgICogQGJyaWVmIExpc3RWaWV3IOOBruOCpOODs+OCv+ODvOODleOCp+OCpOOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElMaXN0VmlldyBleHRlbmRzIElTY3JvbGxhYmxlLCBJQmFja3VwUmVzdG9yZSB7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gUHJvZmlsZSDnrqHnkIZcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5Yid5pyf5YyW5riI44G/44GL5Yik5a6aXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlOiDliJ3mnJ/ljJbmuIjjgb8gLyBmYWxzZTog5pyq5Yid5pyf5YyWXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaXNJbml0aWFsaXplZCgpOiBib29sZWFuO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJdGVtIOeZu+mMslxyXG4gICAgICAgICAqIOODl+ODreODkeODhuOCo+OCkuaMh+WumuOBl+OBpuOAgUxpc3RJdGVtIOOCkueuoeeQhlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGhlaWdodCAgICAgIHtOdW1iZXJ9ICAgW2luXSDjg6njgqTjg7Pjga7pq5jjgZVcclxuICAgICAgICAgKiBAcGFyYW0gaW5pdGlhbGl6ZXIge0Z1bmN0aW9ufSBbaW5dIExpc3RJdGVtVmlldyDmtL7nlJ/jgq/jg6njgrnjga7jgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAgICAgKiBAcGFyYW0gaW5mbyAgICAgICAge09iamVjdH0gICBbaW5dIGluaXRpYWxpemVyIOOBq+a4oeOBleOCjOOCi+OCquODl+OCt+ODp+ODs+W8leaVsFxyXG4gICAgICAgICAqIEBwYXJhbSBpbnNlcnRUbyAgICB7TnVtYmVyfSAgIFtpbl0g44Op44Kk44Oz44Gu5oy/5YWl5L2N572u44KS44Kk44Oz44OH44OD44Kv44K544Gn5oyH5a6aXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgYWRkSXRlbShoZWlnaHQ6IG51bWJlciwgaW5pdGlhbGl6ZXI6IG5ldyAob3B0aW9ucz86IGFueSkgPT4gQmFzZUxpc3RJdGVtVmlldywgaW5mbzogYW55LCBpbnNlcnRUbz86IG51bWJlcik6IHZvaWQ7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOaMh+WumuOBl+OBnyBJdGVtIOOCkuWJiumZpFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGluZGV4IHtOdW1iZXJ8TnVtYmVyW119IFtpbl0g6Kej6Zmk6ZaL5aeL44Gu44Kk44Oz44OH44OD44Kv44K544KS5oyH5a6aLiDphY3liJfniYjjga8gcmV2ZXJzZSBpbmRleCDjgpLmjIflrprjgZnjgovjgbvjgYbjgYzlirnnjofnmoRcclxuICAgICAgICAgKiBAcGFyYW0gc2l6ZSAge051bWJlcn0gICAgICAgICAgW2luXSDop6PpmaTjgZnjgovjg6njgqTjg7Pjga7nt4/mlbAuIOaXouWumjogMVxyXG4gICAgICAgICAqIEBwYXJhbSBkZWxheSB7TnVtYmVyfSAgICAgICAgICBbaW5dIOWun+mam+OBq+imgee0oOOCkuWJiumZpOOBmeOCiyBkZWxheSB0aW1lIOaXouWumjogMCAo5Y2z5pmC5YmK6ZmkKVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJlbW92ZUl0ZW0oaW5kZXg6IG51bWJlciwgc2l6ZT86IG51bWJlciwgZGVsYXk/OiBudW1iZXIpOiB2b2lkO1xyXG4gICAgICAgIHJlbW92ZUl0ZW0oaW5kZXg6IG51bWJlcltdLCBkZWxheT86IG51bWJlcik6IHZvaWQ7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOaMh+WumuOBl+OBnyBJdGVtIOOBq+ioreWumuOBl+OBn+aDheWgseOCkuWPluW+l1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHRhcmdldCB7TnVtYmVyfEpRdWVyeS5FdmVudH0gW2luXSDorZjliKXlrZAuIFtpbmRleCB8IGV2ZW50IG9iamVjdF1cclxuICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IF9hZGRMaW5lKCkg44Gr5oyH5a6a44GX44GfIGluZm8g44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0SXRlbUluZm8odGFyZ2V0OiBudW1iZXIpOiBhbnk7XHJcbiAgICAgICAgZ2V0SXRlbUluZm8odGFyZ2V0OiBKUXVlcnkuRXZlbnQpOiBhbnk7XHJcblxyXG4gICAgICAgIC8vISDjgqLjgq/jg4bjgqPjg5bjg5rjg7zjgrjjgpLmm7TmlrBcclxuICAgICAgICByZWZyZXNoKCk6IHZvaWQ7XHJcbiAgICAgICAgLy8hIOacquOCouOCteOCpOODs+ODmuODvOOCuOOCkuani+eviVxyXG4gICAgICAgIHVwZGF0ZSgpOiB2b2lkO1xyXG4gICAgICAgIC8vISDjg5rjg7zjgrjjgqLjgrXjgqTjg7PjgpLlho3mp4vmiJBcclxuICAgICAgICByZWJ1aWxkKCk6IHZvaWQ7XHJcbiAgICAgICAgLy8hIOeuoei9hOODh+ODvOOCv+OCkuegtOajhFxyXG4gICAgICAgIHJlbGVhc2UoKTogdm9pZDtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBQcm9wZXJ0aWVzOlxyXG5cclxuICAgICAgICAvLyEgY29yZSBmcmFtZXdvcmsgYWNjZXNzXHJcbiAgICAgICAgY29yZTogSUxpc3RWaWV3RnJhbWV3b3JrO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGludGVyZmFjZSBJTGlzdFZpZXdcclxuICAgICAqIEBicmllZiBMaXN0VmlldyDjga7jgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJTGlzdFZpZXcge1xyXG4gICAgICAgIC8vISDnmbvpjLIgZnJhbWV3b3JrIOOBjOS9v+eUqOOBmeOCi1xyXG4gICAgICAgIF9hZGRMaW5lPyhfbGluZTogTGluZVByb2ZpbGUsIGluc2VydFRvPzogbnVtYmVyKTogdm9pZDtcclxuICAgICAgICBfYWRkTGluZT8oX2xpbmU6IExpbmVQcm9maWxlW10sIGluc2VydFRvPzogbnVtYmVyKTogdm9pZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcmZhY2UgQmFzZUxpc3RWaWV3XHJcbiAgICAgKiBAYnJpZWYgICAgIElMaXN0VmlldyDjga4gYWxpYXNcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBCYXNlTGlzdFZpZXcgZXh0ZW5kcyBJTGlzdFZpZXcsIEJhY2tib25lLlZpZXc8QmFja2JvbmUuTW9kZWw+IHsgfVxyXG5cclxuICAgIC8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaW50ZXJmYWNlIElTdGF0dXNNYW5hZ2VyXHJcbiAgICAgKiBAYnJpZWYg54q25oWL566h55CG44Kk44Oz44K/44O844OV44Kn44Kk44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSVN0YXR1c01hbmFnZXIge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOeKtuaFi+WkieaVsOOBruWPgueFp+OCq+OCpuODs+ODiOOBruOCpOODs+OCr+ODquODoeODs+ODiFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHN0YXR1cyB7U3RyaW5nfSBbaW5dIOeKtuaFi+itmOWIpeWtkFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHN0YXR1c0FkZFJlZihzdGF0dXM6IHN0cmluZyk6IG51bWJlcjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog54q25oWL5aSJ5pWw44Gu5Y+C54Wn44Kr44Km44Oz44OI44Gu44OH44Kv44Oq44Oh44Oz44OIXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gc3RhdHVzIHtTdHJpbmd9IFtpbl0g54q25oWL6K2Y5Yil5a2QXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3RhdHVzUmVsZWFzZShzdGF0dXM6IHN0cmluZyk6IG51bWJlcjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5Yem55CG44K544Kz44O844OX5q+O44Gr54q25oWL5aSJ5pWw44KS6Kit5a6aXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gc3RhdHVzICAge1N0cmluZ30gICBbaW5dIOeKtuaFi+itmOWIpeWtkFxyXG4gICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayB7RnVuY3Rpb259IFtpbl0g5Yem55CG44Kz44O844Or44OQ44OD44KvXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3RhdHVzU2NvcGUoc3RhdHVzOiBzdHJpbmcsIGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5oyH5a6a44GX44Gf54q25oWL5Lit44Gn44GC44KL44GL56K66KqNXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gc3RhdHVzIHtTdHJpbmd9ICAgW2luXSDnirbmhYvorZjliKXlrZBcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlOiDnirbmhYvlhoUgLyBmYWxzZTog54q25oWL5aSWXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaXNTdGF0dXNJbihzdGF0dXM6IHN0cmluZyk6IGJvb2xlYW47XHJcbiAgICB9XHJcblxyXG4gICAgLy9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fLy9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcmZhY2UgSUV4cGFuZE1hbmFnZXJcclxuICAgICAqIEBicmllZiDplovplonnrqHnkIbjgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJRXhwYW5kTWFuYWdlciBleHRlbmRzIElCYWNrdXBSZXN0b3JlLCBJU3RhdHVzTWFuYWdlciB7XHJcbiAgICAgICAgbGF5b3V0S2V5OiBzdHJpbmc7ICAgIC8vIGxheW91dCBrZXkgKHBvcnRyYXRlL2xhbmRzY2FwZeOBlOOBqOOBqyBsYXlvdXTmg4XloLHjgavjgqLjgq/jgrvjgrkpXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOaWsOimjyBHcm91cFByb2ZpbGUg44KS5L2c5oiQXHJcbiAgICAgICAgICog55m76Yyy5riI44G/44Gu5aC05ZCI44Gv44Gd44Gu44Kq44OW44K444Kn44Kv44OI44KS6L+U5Y20XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFybWEgaWQge1N0cmluZ30gW2luXSDmlrDopo/jgavkvZzmiJDjgZnjgosgR3JvdXAgSUQg44KS5oyH5a6aLiDmjIflrprjgZfjgarjgYTloLTlkIjjga/oh6rli5XlibLjgormjK/jgopcclxuICAgICAgICAgKiBAcmV0dXJuIHtHcm91cFByb2ZpbGV9IEdyb3VwUHJvZmlsZSDjgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAgICAgKi9cclxuICAgICAgICBuZXdHcm91cChpZD86IHN0cmluZyk6IEdyb3VwUHJvZmlsZTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog55m76Yyy5riI44G/IEdyb3VwIOOCkuWPluW+l1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcm1hIGlkIHtTdHJpbmd9IFtpbl0g5Y+W5b6X44GZ44KLIEdyb3VwIElEIOOCkuaMh+WumlxyXG4gICAgICAgICAqIEByZXR1cm4ge0dyb3VwUHJvZmlsZX0gR3JvdXBQcm9maWxlIOOCpOODs+OCueOCv+ODs+OCuSAvIG51bGxcclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXRHcm91cChpZDogc3RyaW5nKTogR3JvdXBQcm9maWxlO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDnrKwx6ZqO5bGk44GuIEdyb3VwIOeZu+mMslxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHRvcEdyb3VwIHtHcm91cFByb2ZpbGV9IFtpbl0g5qeL56+J5riI44G/IEdyb3VwUHJvZmlsZSDjgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAgICAgKi9cclxuICAgICAgICByZWdpc3RlclRvcEdyb3VwKHRvcEdyb3VwOiBHcm91cFByb2ZpbGUpOiB2b2lkO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDnrKwx6ZqO5bGk44GuIEdyb3VwIOOCkuWPluW+l1xyXG4gICAgICAgICAqIOOCs+ODlOODvOmFjeWIl+OBjOi/lOOBleOCjOOCi+OBn+OCgeOAgeOCr+ODqeOCpOOCouODs+ODiOOBr+OCreODo+ODg+OCt+ODpeS4jeWPr1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7R3JvdXBQcm9maWxlW119IEdyb3VwUHJvZmlsZSDphY3liJdcclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXRUb3BHcm91cHMoKTogR3JvdXBQcm9maWxlW107XHJcblxyXG4gICAgICAgIC8vISDjgZnjgbnjgabjga7jgrDjg6vjg7zjg5fjgpLlsZXplosgKDHpmo7lsaQpXHJcbiAgICAgICAgZXhwYW5kQWxsKCk6IHZvaWQ7XHJcblxyXG4gICAgICAgIC8vISDjgZnjgbnjgabjga7jgrDjg6vjg7zjg5fjgpLlj47mnZ8gKDHpmo7lsaQpXHJcbiAgICAgICAgY29sbGFwc2VBbGwoZGVsYXk/OiBudW1iZXIpOiB2b2lkO1xyXG5cclxuICAgICAgICAvLyEg5bGV6ZaL5Lit44GL5Yik5a6aXHJcbiAgICAgICAgaXNFeHBhbmRpbmcoKTogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgLy8hIOWPjuadn+S4reOBi+WIpOWumlxyXG4gICAgICAgIGlzQ29sbGFwc2luZygpOiBib29sZWFuO1xyXG5cclxuICAgICAgICAvLyEg6ZaL6ZaJ5Lit44GL5Yik5a6aXHJcbiAgICAgICAgaXNTd2l0Y2hpbmcoKTogYm9vbGVhbjtcclxuICAgIH1cclxuXHJcbiAgICAvL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18vL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGludGVyZmFjZSBFeHBhbmRhYmxlTGlzdFZpZXdcclxuICAgICAqIEBicmllZiDplovplonjg6rjgrnjg4jjg5Pjg6Xjg7zjgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJRXhwYW5kYWJsZUxpc3RWaWV3IGV4dGVuZHMgSUxpc3RWaWV3LCBJRXhwYW5kTWFuYWdlciB7IH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcmZhY2UgQmFzZUV4cGFuZGFibGVMaXN0Vmlld1xyXG4gICAgICogQGJyaWVmICAgICBJRXhwYW5kYWJsZUxpc3RWaWV3IOOBriBhbGlhc1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEJhc2VFeHBhbmRhYmxlTGlzdFZpZXcgZXh0ZW5kcyBJRXhwYW5kYWJsZUxpc3RWaWV3LCBCYWNrYm9uZS5WaWV3PEJhY2tib25lLk1vZGVsPiB7IH1cclxufVxyXG5cclxuZGVjbGFyZSBtb2R1bGUgXCJjZHAudWkubGlzdHZpZXdcIiB7XHJcbiAgICBjb25zdCBVSTogdHlwZW9mIENEUC5VSTtcclxuICAgIGV4cG9ydCA9IFVJO1xyXG59XHJcbiIsIm5hbWVzcGFjZSBDRFAuVUkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAY2xhc3MgTGlzdFZpZXdHbG9iYWxDb25maWdcclxuICAgICAqIEBicmllZiBjZHAudWkubGlzdHZpZXcg44GuIGdsb2JhbCBjb25maW5nXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBtb2R1bGUgTGlzdFZpZXdHbG9iYWxDb25maWcge1xyXG4gICAgICAgIGV4cG9ydCBsZXQgV1JBUFBFUl9DTEFTUyA9IFwibGlzdHZpZXctd3JhcHBlclwiO1xyXG4gICAgICAgIGV4cG9ydCBsZXQgV1JBUFBFUl9TRUxFQ1RPUiA9IFwiLlwiICsgV1JBUFBFUl9DTEFTUztcclxuICAgICAgICBleHBvcnQgbGV0IFNDUk9MTF9NQVBfQ0xBU1MgPSBcImxpc3R2aWV3LXNjcm9sbC1tYXBcIjtcclxuICAgICAgICBleHBvcnQgbGV0IFNDUk9MTF9NQVBfU0VMRUNUT1IgPSBcIi5cIiArIFNDUk9MTF9NQVBfQ0xBU1M7XHJcbiAgICAgICAgZXhwb3J0IGxldCBJTkFDVElWRV9DTEFTUyA9IFwiaW5hY3RpdmVcIjtcclxuICAgICAgICBleHBvcnQgbGV0IElOQUNUSVZFX0NMQVNTX1NFTEVDVE9SID0gXCIuXCIgKyBJTkFDVElWRV9DTEFTUztcclxuICAgICAgICBleHBvcnQgbGV0IFJFQ1lDTEVfQ0xBU1MgPSBcImxpc3R2aWV3LXJlY3ljbGVcIjtcclxuICAgICAgICBleHBvcnQgbGV0IFJFQ1lDTEVfQ0xBU1NfU0VMRUNUT1IgPSBcIi5cIiArIFJFQ1lDTEVfQ0xBU1M7XHJcbiAgICAgICAgZXhwb3J0IGxldCBMSVNUSVRFTV9CQVNFX0NMQVNTID0gXCJsaXN0dmlldy1pdGVtLWJhc2VcIjtcclxuICAgICAgICBleHBvcnQgbGV0IExJU1RJVEVNX0JBU0VfQ0xBU1NfU0VMRUNUT1IgPSBcIi5cIiArIExJU1RJVEVNX0JBU0VfQ0xBU1M7XHJcbiAgICAgICAgZXhwb3J0IGxldCBEQVRBX1BBR0VfSU5ERVggPSBcImRhdGEtcGFnZS1pbmRleFwiO1xyXG4gICAgICAgIGV4cG9ydCBsZXQgREFUQV9DT05UQUlORVJfSU5ERVggPSBcImRhdGEtY29udGFpbmVyLWluZGV4XCI7XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIENEUC5VSSB7XHJcblxyXG4gICAgLy8gY2RwLnVpLmxpc3R2aWV3IOOBryBjZHAuY29yZSDjgavkvp3lrZjjgZfjgarjgYTjgZ/jgoHjgIHni6zoh6rjgatnbG9iYWwg44KS5o+Q5L6b44GZ44KLXHJcbiAgICAvKmpzaGludCBldmlsOnRydWUgKi9cclxuICAgIGV4cG9ydCBjb25zdCBnbG9iYWwgPSAoPGFueT5DRFApLmdsb2JhbCB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XHJcbiAgICAvKmpzaGludCBldmlsOmZhbHNlICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBCYWNrYm9uZS5WaWV3IOOBruaWsOimj+WQiOaIkFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBiYXNlICAgIHtCYWNrYm9uZS5WaWV3fSAgICAgICAgICAgICAgICAgW2luXSBwcm90b3R5cGUgY2hhaW4g5pyA5LiL5L2N44GuIFZpZXcg44Kv44Op44K5XHJcbiAgICAgKiBAcGFyYW0gZGVyaXZlcyB7QmFja2JvbmUuVmlld3xCYWNrYm9uZS5WaWV3W119IFtpbl0g5rS+55Sf44GV44KM44KL44GuIFZpZXcg44Kv44Op44K5XHJcbiAgICAgKiBAcmV0dXJuIHtCYWNrYm9uZS5WaWV3fEJhY2tib25lLlZpZXdbXX0g5paw6KaP44Gr55Sf5oiQ44GV44KM44GfIFZpZXcg44Gu44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBjb21wb3NlVmlld3MoYmFzZTogVmlld0NvbnN0cnVjdG9yLCBkZXJpdmVzOiBWaWV3Q29uc3RydWN0b3IgfCBWaWV3Q29uc3RydWN0b3JbXSk6IFZpZXdDb25zdHJ1Y3RvciB7XHJcbiAgICAgICAgbGV0IF9jb21wb3NlZCA9IGJhc2U7XHJcbiAgICAgICAgY29uc3QgX2Rlcml2ZXMgPSA8Vmlld0NvbnN0cnVjdG9yW10+KGRlcml2ZXMgaW5zdGFuY2VvZiBBcnJheSA/IGRlcml2ZXMgOiBbZGVyaXZlc10pO1xyXG4gICAgICAgIF9kZXJpdmVzLmZvckVhY2goKGRlcml2ZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzZWVkID0ge307XHJcbiAgICAgICAgICAgIF8uZXh0ZW5kT3duKHNlZWQsIGRlcml2ZS5wcm90b3R5cGUpO1xyXG4gICAgICAgICAgICBkZWxldGUgc2VlZC5jb25zdHJ1Y3RvcjtcclxuICAgICAgICAgICAgX2NvbXBvc2VkID0gKDxhbnk+X2NvbXBvc2VkKS5leHRlbmQoc2VlZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIF9jb21wb3NlZDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEJhY2tib25lLlZpZXcg44Gu5ZCI5oiQXHJcbiAgICAgKiBwcm90b3R5cGUgY2hhaW4g44KS5L2c44KL5ZCI5oiQXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRlcml2ZWQge0JhY2tib25lLlZpZXd9ICAgICAgICAgICAgICAgICBbaW5dIHByb3RvdHlwZSBjaGFpbiDmnIDkuIrkvY3jga4gVmlldyDjgq/jg6njgrlcclxuICAgICAqIEBwYXJhbSBiYXNlcyAgIHtCYWNrYm9uZS5WaWV3fEJhY2tib25lLlZpZXdbXX0gW2luXSDlkIjmiJDlhYPjga5WaWV3IOOCr+ODqeOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gZGVyaXZlVmlld3MoZGVyaXZlZDogVmlld0NvbnN0cnVjdG9yLCBiYXNlczogVmlld0NvbnN0cnVjdG9yIHwgVmlld0NvbnN0cnVjdG9yW10pOiB2b2lkIHtcclxuICAgICAgICBsZXQgX2NvbXBvc2VkOiBWaWV3Q29uc3RydWN0b3I7XHJcbiAgICAgICAgY29uc3QgX2Jhc2VzID0gPFZpZXdDb25zdHJ1Y3RvcltdPihiYXNlcyBpbnN0YW5jZW9mIEFycmF5ID8gYmFzZXMgOiBbYmFzZXNdKTtcclxuICAgICAgICBpZiAoMiA8PSBfYmFzZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIF9jb21wb3NlZCA9IGNvbXBvc2VWaWV3cyhfYmFzZXNbMF0sIF9iYXNlcy5zbGljZSgxKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgX2NvbXBvc2VkID0gX2Jhc2VzWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZXJpdmVkID0gY29tcG9zZVZpZXdzKF9jb21wb3NlZCwgZGVyaXZlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBCYWNrYm9uZS5WaWV3IOOBruWQiOaIkFxyXG4gICAgICogcHJvdG90eXBlIGNoYWluIOOCkuS9nOOCieOBquOBhOWQiOaIkFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkZXJpdmVkIHtCYWNrYm9uZS5WaWV3fSAgICAgICAgICAgICAgICAgW2luXSDlhYPjgajjgarjgosgVmlldyDjgq/jg6njgrlcclxuICAgICAqIEBwYXJhbSBiYXNlcyAgIHtCYWNrYm9uZS5WaWV3fEJhY2tib25lLlZpZXdbXX0gW2luXSDlkIjmiJDlhYPjga5WaWV3IOOCr+ODqeOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gbWl4aW5WaWV3cyhkZXJpdmVkOiBWaWV3Q29uc3RydWN0b3IsIGJhc2VzOiBWaWV3Q29uc3RydWN0b3IgfCBWaWV3Q29uc3RydWN0b3JbXSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IF9iYXNlcyA9IDxWaWV3Q29uc3RydWN0b3JbXT4oYmFzZXMgaW5zdGFuY2VvZiBBcnJheSA/IGJhc2VzIDogW2Jhc2VzXSk7XHJcbiAgICAgICAgX2Jhc2VzLmZvckVhY2goKGJhc2UpID0+IHtcclxuICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYmFzZS5wcm90b3R5cGUpLmZvckVhY2gobmFtZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkZXJpdmVkLnByb3RvdHlwZVtuYW1lXSA9IGJhc2UucHJvdG90eXBlW25hbWVdO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18vL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIF9MaXN0Vmlld1V0aWxzXHJcbiAgICAgKiBAYnJpZWYg5YaF6YOo44Gn5L2/55So44GZ44KL5L6/5Yip6Zai5pWwXHJcbiAgICAgKiAgICAgICAgVG9vbHMg44GL44KJ44Gu5pyA5L2O6ZmQ44Gu5rWB55SoXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBtb2R1bGUgX0xpc3RWaWV3VXRpbHMge1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBjc3Mg44GuIHZlbmRlciDmi6HlvLUgcHJlZml4IOOCkui/lOOBmVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7QXJyYXl9IHByZWZpeFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBjc3NQcmVmaXhlcyA9IFtcIi13ZWJraXQtXCIsIFwiLW1vei1cIiwgXCItbXMtXCIsIFwiLW8tXCIsIFwiXCJdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBjc3Mg44GuIG1hdHJpeCDjga7lgKTjgpLlj5blvpcuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCB7alF1ZXJ5fSBbaW5dIOWvvuixoeOBriBqUXVlcnkg44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICogQHBhcmFtIHR5cGUgICAge1N0cmluZ30gW2luXSBtYXRyaXggdHlwZSBzdHJpbmcgW3RyYW5zbGF0ZVggfCB0cmFuc2xhdGVZIHwgc2NhbGVYIHwgc2NhbGVZXVxyXG4gICAgICAgICAqIEByZXR1cm4ge051bWJlcn0gdmFsdWVcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgY29uc3QgZ2V0Q3NzTWF0cml4VmFsdWUgPSAoZWxlbWVudDogSlF1ZXJ5LCB0eXBlOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdHJhbnNYID0gMDtcclxuICAgICAgICAgICAgbGV0IHRyYW5zWSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBzY2FsZVggPSAwO1xyXG4gICAgICAgICAgICBsZXQgc2NhbGVZID0gMDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjc3NQcmVmaXhlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IG1hdHJpeCA9ICQoZWxlbWVudCkuY3NzKGNzc1ByZWZpeGVzW2ldICsgXCJ0cmFuc2Zvcm1cIik7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0cml4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXMzZE1hdHJpeCA9IG1hdHJpeC5pbmRleE9mKFwiM2RcIikgIT09IC0xID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeCA9IG1hdHJpeC5yZXBsYWNlKFwibWF0cml4M2RcIiwgXCJcIikucmVwbGFjZShcIm1hdHJpeFwiLCBcIlwiKS5yZXBsYWNlKC9bXlxcZC4sLV0vZywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJyID0gbWF0cml4LnNwbGl0KFwiLFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc1ggPSBOdW1iZXIoYXJyW2lzM2RNYXRyaXggPyAxMiA6IDRdKTtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc1kgPSBOdW1iZXIoYXJyW2lzM2RNYXRyaXggPyAxMyA6IDVdKTtcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZVggPSBOdW1iZXIoYXJyWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBzY2FsZVkgPSBOdW1iZXIoYXJyW2lzM2RNYXRyaXggPyA1IDogM10pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInRyYW5zbGF0ZVhcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNOYU4odHJhbnNYKSA/IDAgOiB0cmFuc1g7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwidHJhbnNsYXRlWVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc05hTih0cmFuc1kpID8gMCA6IHRyYW5zWTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJzY2FsZVhcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNOYU4oc2NhbGVYKSA/IDEgOiBzY2FsZVg7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic2NhbGVZXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzTmFOKHNjYWxlWSkgPyAxIDogc2NhbGVZO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFwidHJhbnNpdGlvbmVuZFwiIOOBruOCpOODmeODs+ODiOWQjemFjeWIl+OCkui/lOOBmVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7QXJyYXl9IHRyYW5zaXRpb25lbmQg44Kk44OZ44Oz44OI5ZCNXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IHRyYW5zaXRpb25FbmQgPSBcInRyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmRcIjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogdHJhbnNpdGlvbiDoqK3lrppcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgY29uc3Qgc2V0VHJhbnNmb3Jtc1RyYW5zaXRpb25zID0gKGVsZW1lbnQ6IEpRdWVyeSwgcHJvcDogc3RyaW5nLCBtc2VjOiBudW1iZXIsIHRpbWluZ0Z1bmN0aW9uOiBzdHJpbmcpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgY29uc3QgJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICBjb25zdCB0cmFuc2l0aW9ucyA9IHt9O1xyXG4gICAgICAgICAgICBjb25zdCBzZWNvbmQgPSAobXNlYyAvIDEwMDApICsgXCJzXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IFwiIFwiICsgc2Vjb25kICsgXCIgXCIgKyB0aW1pbmdGdW5jdGlvbjtcclxuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gXCIsIHRyYW5zZm9ybVwiICsgYW5pbWF0aW9uO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjc3NQcmVmaXhlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbnNbY3NzUHJlZml4ZXNbaV0gKyBcInRyYW5zaXRpb25cIl0gPSBwcm9wICsgYW5pbWF0aW9uICsgdHJhbnNmb3JtO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkZWxlbWVudC5jc3ModHJhbnNpdGlvbnMpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiB0cmFuc2l0aW9uIOioreWumuOBruWJiumZpFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGV4cG9ydCBjb25zdCBjbGVhclRyYW5zaXRpb25zID0gKGVsZW1lbnQ6IEpRdWVyeSk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCAkZWxlbWVudCA9ICQoZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAkZWxlbWVudC5vZmYodHJhbnNpdGlvbkVuZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zaXRpb25zID0ge307XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3NzUHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25zW2Nzc1ByZWZpeGVzW2ldICsgXCJ0cmFuc2l0aW9uXCJdID0gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJGVsZW1lbnQuY3NzKHRyYW5zaXRpb25zKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBNYXRoLmFicyDjgojjgorjgoLpq5jpgJ/jgaogYWJzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhwb3J0IGNvbnN0IGFicyA9ICh4OiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4geCA+PSAwID8geCA6IC14O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIE1hdGgubWF4IOOCiOOCiuOCgumrmOmAn+OBqiBtYXhcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgY29uc3QgbWF4ID0gKGxoczogbnVtYmVyLCByaHM6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBsaHMgPj0gcmhzID8gbGhzIDogcmhzO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIENEUC5VSSB7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlVJLlN0YXR1c01hbmFnZXJdIFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIFN0YXR1c01hbmFnZXJcclxuICAgICAqIEBicmllZiBVSSDnlKjnirbmhYvnrqHnkIbjgq/jg6njgrlcclxuICAgICAqICAgICAgICBTdGF0dXNNYW5hZ2VyIOOBruOCpOODs+OCueOCv+ODs+OCueOBlOOBqOOBq+S7u+aEj+OBrueKtuaFi+euoeeQhuOBjOOBp+OBjeOCi1xyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGNsYXNzIFN0YXR1c01hbmFnZXIgaW1wbGVtZW50cyBJU3RhdHVzTWFuYWdlciB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgX3N0YXR1czogYW55ID0ge307ICAgIC8vITwgc3RhdHVzU2NvcGUoKSDjgavkvb/nlKjjgZXjgozjgovnirbmhYvnrqHnkIbjgqrjg5bjgrjjgqfjgq/jg4hcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBJbXBsZW1lbnRzOiBJU3RhdHVzTWFuYWdlclxyXG5cclxuICAgICAgICAvLyEg54q25oWL5aSJ5pWw44Gu5Y+C54Wn44Kr44Km44Oz44OI44Gu44Kk44Oz44Kv44Oq44Oh44Oz44OIXHJcbiAgICAgICAgcHVibGljIHN0YXR1c0FkZFJlZihzdGF0dXM6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fc3RhdHVzW3N0YXR1c10pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1c1tzdGF0dXNdID0gMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1c1tzdGF0dXNdKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1c1tzdGF0dXNdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOeKtuaFi+WkieaVsOOBruWPgueFp+OCq+OCpuODs+ODiOOBruODh+OCr+ODquODoeODs+ODiFxyXG4gICAgICAgIHB1YmxpYyBzdGF0dXNSZWxlYXNlKHN0YXR1czogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgbGV0IHJldHZhbDogbnVtYmVyO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3N0YXR1c1tzdGF0dXNdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR2YWwgPSAwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzW3N0YXR1c10tLTtcclxuICAgICAgICAgICAgICAgIHJldHZhbCA9IHRoaXMuX3N0YXR1c1tzdGF0dXNdO1xyXG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IHJldHZhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zdGF0dXNbc3RhdHVzXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmV0dmFsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOWHpueQhuOCueOCs+ODvOODl+avjuOBq+eKtuaFi+WkieaVsOOCkuioreWumlxyXG4gICAgICAgIHB1YmxpYyBzdGF0dXNTY29wZShzdGF0dXM6IHN0cmluZywgY2FsbGJhY2s6ICgpID0+IHZvaWQgfCBQcm9taXNlPGFueT4pOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNBZGRSZWYoc3RhdHVzKTtcclxuICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIGlmICghcHJvbWlzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNSZWxlYXNlKHN0YXR1cyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1JlbGVhc2Uoc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNSZWxlYXNlKHN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOaMh+WumuOBl+OBn+eKtuaFi+S4reOBp+OBguOCi+OBi+eiuuiqjVxyXG4gICAgICAgIHB1YmxpYyBpc1N0YXR1c0luKHN0YXR1czogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuX3N0YXR1c1tzdGF0dXNdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgQ0RQLlVJIHtcclxuXHJcbiAgICBpbXBvcnQgX0NvbmZpZyA9IENEUC5VSS5MaXN0Vmlld0dsb2JhbENvbmZpZztcclxuICAgIGltcG9ydCBfVG9vbENTUyA9IENEUC5VSS5fTGlzdFZpZXdVdGlscztcclxuXHJcbiAgICBjb25zdCBUQUcgPSBcIltDRFAuVUkuTGluZVByb2ZpbGVdIFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIExpbmVQcm9maWxlXHJcbiAgICAgKiBAYnJpZWYgMSDjg6njgqTjg7PjgavplqLjgZnjgovjg5fjg63jg5XjgqHjgqTjg6vjgq/jg6njgrlcclxuICAgICAqICAgICAgICBmcmFtZXdvcmsg44GM5L2/55So44GZ44KLXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjbGFzcyBMaW5lUHJvZmlsZSB7XHJcbiAgICAgICAgcHJpdmF0ZSBfaW5kZXg6IG51bWJlciA9IG51bGw7ICAgICAgICAgICAgICAvLyE8IGdsb2JhbCBpbmRleFxyXG4gICAgICAgIHByaXZhdGUgX3BhZ2VJbmRleDogbnVtYmVyID0gbnVsbDsgICAgICAgICAgLy8hPCDmiYDlsZ7jgZnjgosgcGFnZSBpbmRleFxyXG4gICAgICAgIHByaXZhdGUgX29mZnNldDogbnVtYmVyID0gbnVsbDsgICAgICAgICAgICAgLy8hPCBnbG9iYWwgb2Zmc2V0XHJcbiAgICAgICAgcHJpdmF0ZSBfJGJhc2U6IEpRdWVyeSA9IG51bGw7ICAgICAgICAgICAgICAvLyE8IOWcn+WPsOOBqOOBquOCiyBET00g44Kk44Oz44K544K/44Oz44K544KS5qC857SNXHJcbiAgICAgICAgcHJpdmF0ZSBfaW5zdGFuY2U6IEJhc2VMaXN0SXRlbVZpZXcgPSBudWxsOyAvLyE8IExpc3RJdGVtVmlldyDjgqTjg7Pjgrnjgr/jg7PjgrnjgpLmoLzntI1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogY29uc3RydWN0b3JcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBfb3duZXIgICAgICAge0lMaXN0Vmlld0ZyYW1ld29ya30gW2luXSDnrqHnkIbogIXjgafjgYLjgosgSUxpc3RWaWV3RnJhbWV3b3JrIOOCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICAgICAqIEBwYXJhbSBfaGVpZ2h0ICAgICAge051bWJlcn0gICAgICAgICAgICAgW2luXSDliJ3mnJ/jga7pq5jjgZVcclxuICAgICAgICAgKiBAcGFyYW0gX2luaXRpYWxpemVyIHtGdW5jdGlvbn0gICAgICAgICAgIFtpbl0gTGlzdEl0ZW1WaWV3IOa0vueUn+OCr+ODqeOCueOBruOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICAgICAqIEBwYXJhbSBfaW5mbyAgICAgICAge09iamVjdH0gICAgICAgICAgICAgW2luXSBMaXN0SXRlbVZpZXcg44Kz44Oz44K544OI44Op44Kv44K/44Gr5rih44GV44KM44KL44Kq44OX44K344On44OzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgICAgIHByaXZhdGUgX293bmVyOiBJTGlzdFZpZXdGcmFtZXdvcmssXHJcbiAgICAgICAgICAgIHByaXZhdGUgX2hlaWdodDogbnVtYmVyLFxyXG4gICAgICAgICAgICBwcml2YXRlIF9pbml0aWFsaXplcjogbmV3IChvcHRpb25zPzogYW55KSA9PiBCYXNlTGlzdEl0ZW1WaWV3LFxyXG4gICAgICAgICAgICBwcml2YXRlIF9pbmZvOiBhbnkpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgLy8hIOacieWKueWMllxyXG4gICAgICAgIHB1YmxpYyBhY3RpdmF0ZSgpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKG51bGwgPT0gdGhpcy5faW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIGxldCBvcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fJGJhc2UgPSB0aGlzLnByZXBhcmVCYXNlRWxlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWw6IHRoaXMuXyRiYXNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG93bmVyOiB0aGlzLl9vd25lcixcclxuICAgICAgICAgICAgICAgICAgICBsaW5lUHJvZmlsZTogdGhpcyxcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMuX2luZm8pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBuZXcgdGhpcy5faW5pdGlhbGl6ZXIob3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoXCJub25lXCIgPT09IHRoaXMuXyRiYXNlLmNzcyhcImRpc3BsYXlcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kYmFzZS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQYWdlSW5kZXgodGhpcy5fJGJhc2UpO1xyXG4gICAgICAgICAgICBpZiAoXCJ2aXNpYmxlXCIgIT09IHRoaXMuXyRiYXNlLmNzcyhcInZpc2liaWxpdHlcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuXyRiYXNlLmNzcyhcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5LiN5Y+v6KaW5YyWXHJcbiAgICAgICAgcHVibGljIGhpZGUoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmIChudWxsID09IHRoaXMuX2luc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFwiaGlkZGVuXCIgIT09IHRoaXMuXyRiYXNlLmNzcyhcInZpc2liaWxpdHlcIikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuXyRiYXNlLmNzcyhcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDnhKHlirnljJZcclxuICAgICAgICBwdWJsaWMgaW5hY3RpdmF0ZSgpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKG51bGwgIT0gdGhpcy5faW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIC8vIHhwZXJpYSBBWCBKZWxseSBCZWFuICg0LjEuMinjgavjgabjgIEgaGlkZGVuIGVsZW1lbnQg44Gu5YmK6Zmk44Gn44Oh44Oi44Oq44O844Oq44O844Kv44GZ44KL44Gf44KB5Y+v6KaW5YyW44GZ44KL44CCXHJcbiAgICAgICAgICAgICAgICBpZiAoXCJ2aXNpYmxlXCIgIT09IHRoaXMuXyRiYXNlLmNzcyhcInZpc2liaWxpdHlcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kYmFzZS5jc3MoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fJGJhc2UuYWRkQ2xhc3MoX0NvbmZpZy5SRUNZQ0xFX0NMQVNTKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuXyRiYXNlLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fJGJhc2UgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5pu05pawXHJcbiAgICAgICAgcHVibGljIHJlZnJlc2goKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmIChudWxsICE9IHRoaXMuX2luc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZS5yZW5kZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOacieWKueeEoeWKueWIpOWumlxyXG4gICAgICAgIHB1YmxpYyBpc0FjdGl2ZSgpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGwgIT0gdGhpcy5faW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg6auY44GV5oOF5aCx44Gu5pu05pawLiBMaXN0SXRlbVZpZXcg44GL44KJ44Kz44O844Or44GV44KM44KL44CCXHJcbiAgICAgICAgcHVibGljIHVwZGF0ZUhlaWdodChuZXdIZWlnaHQ6IG51bWJlciwgb3B0aW9ucz86IFVwZGF0ZUhlaWdodE9wdGlvbnMpOiB2b2lkIHtcclxuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBuZXdIZWlnaHQgLSB0aGlzLl9oZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IG5ld0hlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5fb3duZXIudXBkYXRlU2Nyb2xsTWFwSGVpZ2h0KGRlbHRhKTtcclxuICAgICAgICAgICAgaWYgKG51bGwgIT0gb3B0aW9ucyAmJiBvcHRpb25zLnJlZmxlY3RBbGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX293bmVyLnVwZGF0ZVByb2ZpbGVzKHRoaXMuX2luZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIHotaW5kZXgg44Gu44Oq44K744OD44OILiBTY3JvbGxNYW5hZ2VyLnJlbW92ZUl0ZW0oKSDjgYvjgonjgrPjg7zjg6vjgZXjgozjgovjgIJcclxuICAgICAgICBwdWJsaWMgcmVzZXREZXB0aCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKG51bGwgIT0gdGhpcy5faW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuXyRiYXNlLmNzcyhcInotaW5kZXhcIiwgdGhpcy5fb3duZXIuZ2V0TGlzdFZpZXdPcHRpb25zKCkuYmFzZURlcHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBnZXR0ZXIvc2V0dGVyIG1ldGhvZHNcclxuXHJcbiAgICAgICAgLy8hIGdldHRlcjog44Op44Kk44Oz44Gu6auY44GVXHJcbiAgICAgICAgcHVibGljIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBnZXR0ZXI6IGdsb2JhbCBpbmRleFxyXG4gICAgICAgIHB1YmxpYyBnZXQgaW5kZXgoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIHNldHRlcjogZ2xvYmFsIGluZGV4XHJcbiAgICAgICAgcHVibGljIHNldCBpbmRleChpbmRleDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIGlmIChudWxsICE9IHRoaXMuXyRiYXNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUluZGV4KHRoaXMuXyRiYXNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIGdldHRlcjog5omA5bGe44Oa44O844K4IGluZGV4XHJcbiAgICAgICAgcHVibGljIGdldCBwYWdlSW5kZXgoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhZ2VJbmRleDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBzZXR0ZXI6IOaJgOWxnuODmuODvOOCuCBpbmRleFxyXG4gICAgICAgIHB1YmxpYyBzZXQgcGFnZUluZGV4KGluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFnZUluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIGlmIChudWxsICE9IHRoaXMuXyRiYXNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2VJbmRleCh0aGlzLl8kYmFzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBnZXR0ZXI6IGxpbmUgb2Zmc2V0XHJcbiAgICAgICAgcHVibGljIGdldCBvZmZzZXQoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29mZnNldDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBzZXR0ZXI6IGxpbmUgb2Zmc2V0XHJcbiAgICAgICAgcHVibGljIHNldCBvZmZzZXQob2Zmc2V0OiBudW1iZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gb2Zmc2V0O1xyXG4gICAgICAgICAgICBpZiAobnVsbCAhPSB0aGlzLl8kYmFzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVPZmZzZXQodGhpcy5fJGJhc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgZ2V0dGVyOiBpbmZvXHJcbiAgICAgICAgcHVibGljIGdldCBpbmZvKCk6IGFueSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbmZvO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBwcml2YXRlIG1ldGhvZHNcclxuXHJcbiAgICAgICAgLy8hIEJhc2UgalF1ZXJ5IOOCquODluOCuOOCp+OCr+ODiOOBrueUn+aIkFxyXG4gICAgICAgIHByaXZhdGUgcHJlcGFyZUJhc2VFbGVtZW50KCk6IEpRdWVyeSB7XHJcbiAgICAgICAgICAgIGxldCAkYmFzZTogSlF1ZXJ5O1xyXG4gICAgICAgICAgICBjb25zdCAkbWFwID0gdGhpcy5fb3duZXIuZ2V0U2Nyb2xsTWFwRWxlbWVudCgpO1xyXG4gICAgICAgICAgICBjb25zdCAkcmVjeWNsZSA9IHRoaXMuX293bmVyLmZpbmRSZWN5Y2xlRWxlbWVudHMoKS5maXJzdCgpO1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtVGFnTmFtZSA9IHRoaXMuX293bmVyLmdldExpc3RWaWV3T3B0aW9ucygpLml0ZW1UYWdOYW1lO1xyXG5cclxuICAgICAgICAgICAgaWYgKG51bGwgIT0gdGhpcy5fJGJhc2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcgKyBcInRoaXMuXyRiYXNlIGlzIG5vdCBudWxsLlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl8kYmFzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKDAgPCAkcmVjeWNsZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICRiYXNlID0gJHJlY3ljbGU7XHJcbiAgICAgICAgICAgICAgICAkYmFzZS5yZW1vdmVBdHRyKFwiei1pbmRleFwiKTtcclxuICAgICAgICAgICAgICAgICRiYXNlLnJlbW92ZUNsYXNzKF9Db25maWcuUkVDWUNMRV9DTEFTUyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkYmFzZSA9ICQoXCI8XCIgKyBpdGVtVGFnTmFtZSArIFwiIGNsYXNzPSdcIiArIF9Db25maWcuTElTVElURU1fQkFTRV9DTEFTUyArIFwiJz48L1wiICsgaXRlbVRhZ05hbWUgKyBcIj5cIik7XHJcbiAgICAgICAgICAgICAgICAkYmFzZS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgICAgICAgICAgICAgICRtYXAuYXBwZW5kKCRiYXNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8g6auY44GV44Gu5pu05pawXHJcbiAgICAgICAgICAgIGlmICgkYmFzZS5oZWlnaHQoKSAhPT0gdGhpcy5faGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAkYmFzZS5oZWlnaHQodGhpcy5faGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaW5kZXgg44Gu6Kit5a6aXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW5kZXgoJGJhc2UpO1xyXG4gICAgICAgICAgICAvLyBvZmZzZXQg44Gu5pu05pawXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlT2Zmc2V0KCRiYXNlKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAkYmFzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBnbG9iYWwgaW5kZXgg44Gu5pu05pawXHJcbiAgICAgICAgcHJpdmF0ZSB1cGRhdGVJbmRleCgkYmFzZTogSlF1ZXJ5KTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICgkYmFzZS5hdHRyKF9Db25maWcuREFUQV9DT05UQUlORVJfSU5ERVgpICE9PSB0aGlzLl9pbmRleC50b1N0cmluZygpKSB7XHJcbiAgICAgICAgICAgICAgICAkYmFzZS5hdHRyKF9Db25maWcuREFUQV9DT05UQUlORVJfSU5ERVgsIHRoaXMuX2luZGV4LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgcGFnZSBpbmRleCDjga7mm7TmlrBcclxuICAgICAgICBwcml2YXRlIHVwZGF0ZVBhZ2VJbmRleCgkYmFzZTogSlF1ZXJ5KTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICgkYmFzZS5hdHRyKF9Db25maWcuREFUQV9QQUdFX0lOREVYKSAhPT0gdGhpcy5fcGFnZUluZGV4LnRvU3RyaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgICRiYXNlLmF0dHIoX0NvbmZpZy5EQVRBX1BBR0VfSU5ERVgsIHRoaXMuX3BhZ2VJbmRleC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIG9mZnNldCDjga7mm7TmlrBcclxuICAgICAgICBwcml2YXRlIHVwZGF0ZU9mZnNldCgkYmFzZTogSlF1ZXJ5KTogdm9pZCB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHt9O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb3duZXIuZ2V0TGlzdFZpZXdPcHRpb25zKCkuZW5hYmxlVHJhbnNmb3JtT2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX1Rvb2xDU1MuZ2V0Q3NzTWF0cml4VmFsdWUoJGJhc2UsIFwidHJhbnNsYXRlWVwiKSAhPT0gdGhpcy5fb2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBfVG9vbENTUy5jc3NQcmVmaXhlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1bX1Rvb2xDU1MuY3NzUHJlZml4ZXNbaV0gKyBcInRyYW5zZm9ybVwiXSA9IFwidHJhbnNsYXRlM2QoMHB4LFwiICsgdGhpcy5fb2Zmc2V0ICsgXCJweCwwcHgpXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRiYXNlLmNzcyh0cmFuc2Zvcm0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KCRiYXNlLmNzcyhcInRvcFwiKSwgMTApICE9PSB0aGlzLl9vZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkYmFzZS5jc3MoXCJ0b3BcIiwgdGhpcy5fb2Zmc2V0ICsgXCJweFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgQ0RQLlVJIHtcclxuXHJcbiAgICBjb25zdCBUQUcgPSBcIltDRFAuVUkuUGFnZVByb2ZpbGVdIFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIFBhZ2VQcm9maWxlXHJcbiAgICAgKiBAYnJpZWYgMSDjg5rjg7zjgrjjgavplqLjgZnjgovjg5fjg63jg5XjgqHjgqTjg6vjgq/jg6njgrlcclxuICAgICAqICAgICAgICBmcmFtZXdvcmsg44GM5L2/55So44GZ44KLXHJcbiAgICAgKiAgICAgICAg5pys44Kv44Op44K544Gn44Gv55u05o6lIERPTSDjgpLmk43kvZzjgZfjgabjga/jgYTjgZHjgarjgYRcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGNsYXNzIFBhZ2VQcm9maWxlIHtcclxuICAgICAgICBwcml2YXRlIF9pbmRleDogbnVtYmVyID0gMDsgICAgICAgICAgICAgLy8hPCBwYWdlIGluZGV4XHJcbiAgICAgICAgcHJpdmF0ZSBfb2Zmc2V0OiBudW1iZXIgPSAwOyAgICAgICAgICAgIC8vITwgcGFnZSDjga4gVG9wIOOBi+OCieOBruOCquODleOCu+ODg+ODiFxyXG4gICAgICAgIHByaXZhdGUgX2hlaWdodDogbnVtYmVyID0gMDsgICAgICAgICAgICAvLyE8IHBhZ2Ug44Gu6auY44GVXHJcbiAgICAgICAgcHJpdmF0ZSBfbGluZXM6IExpbmVQcm9maWxlW10gPSBbXTsgICAgIC8vITwgcGFnZSDlhoXjgafnrqHnkIbjgZXjgozjgosgTGluZVByb2ZpbGVcclxuICAgICAgICBwcml2YXRlIF9zdGF0dXM6IHN0cmluZyA9IFwiaW5hY3RpdmVcIjsgICAvLyE8IHBhZ2Ug44Gu54q25oWLIFsgaW5hY3RpdmUgfCBoaWRkZW4gfCBhY3RpdmUgXVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIHB1YmxpYyBtZXRob2RzXHJcblxyXG4gICAgICAgIC8vISDmnInlirnljJZcclxuICAgICAgICBwdWJsaWMgYWN0aXZhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmIChcImFjdGl2ZVwiICE9PSB0aGlzLl9zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVzLmZvckVhY2goKGxpbmU6IExpbmVQcm9maWxlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZS5hY3RpdmF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gXCJhY3RpdmVcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDnhKHlj6/oppbljJZcclxuICAgICAgICBwdWJsaWMgaGlkZSgpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKFwiaGlkZGVuXCIgIT09IHRoaXMuX3N0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZXMuZm9yRWFjaCgobGluZTogTGluZVByb2ZpbGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IFwiaGlkZGVuXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg54Sh5Yq55YyWXHJcbiAgICAgICAgcHVibGljIGluYWN0aXZhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmIChcImluYWN0aXZlXCIgIT09IHRoaXMuX3N0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZXMuZm9yRWFjaCgobGluZTogTGluZVByb2ZpbGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lLmluYWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IFwiaW5hY3RpdmVcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBMaW5lUHJvZmlsZSDjgpLoqK3lrppcclxuICAgICAgICBwdWJsaWMgcHVzaChsaW5lOiBMaW5lUHJvZmlsZSk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl9saW5lcy5wdXNoKGxpbmUpO1xyXG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgKz0gbGluZS5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg6YWN5LiL44GuIExpbmVQcm9maWxlIOOBmeOBueOBpuOBjOacieWKueOBp+OBquOBhOWgtOWQiOOAgVBhZ2Ug44K544OG44O844K/44K544KS54Sh5Yq544Gr44GZ44KLXHJcbiAgICAgICAgcHVibGljIG5vcm1hbGl6ZSgpOiB2b2lkIHtcclxuICAgICAgICAgICAgY29uc3QgZW5hYmxlQWxsID0gXy5ldmVyeSh0aGlzLl9saW5lcywgKGxpbmU6IExpbmVQcm9maWxlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGluZS5pc0FjdGl2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCFlbmFibGVBbGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IFwiaW5hY3RpdmVcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIExpbmVQcm9maWxlIOOCkuWPluW+l1xyXG4gICAgICAgIHB1YmxpYyBnZXRMaW5lUHJvZmlsZShpbmRleDogbnVtYmVyKTogTGluZVByb2ZpbGUge1xyXG4gICAgICAgICAgICBpZiAoMCA8PSBpbmRleCAmJiBpbmRleCA8IHRoaXMuX2xpbmVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVzW2luZGV4XTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5pyA5Yid44GuIExpbmVQcm9maWxlIOOCkuWPluW+l1xyXG4gICAgICAgIHB1YmxpYyBnZXRMaW5lUHJvZmlsZUZpcnN0KCk6IExpbmVQcm9maWxlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGluZVByb2ZpbGUoMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5pyA5b6M44GuIExpbmVQcm9maWxlIOOCkuWPluW+l1xyXG4gICAgICAgIHB1YmxpYyBnZXRMaW5lUHJvZmlsZUxhc3QoKTogTGluZVByb2ZpbGUge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lUHJvZmlsZSh0aGlzLl9saW5lcy5sZW5ndGggLSAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gZ2V0dGVyL3NldHRlciBtZXRob2RzXHJcblxyXG4gICAgICAgIC8vISBnZXR0ZXI6IHBhZ2UgaW5kZXhcclxuICAgICAgICBwdWJsaWMgZ2V0IGluZGV4KCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbmRleDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBzZXR0ZXI6IHBhZ2UgaW5kZXhcclxuICAgICAgICBwdWJsaWMgc2V0IGluZGV4KGluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5faW5kZXggPSBpbmRleDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBnZXR0ZXI6IHBhZ2Ugb2Zmc2V0XHJcbiAgICAgICAgcHVibGljIGdldCBvZmZzZXQoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29mZnNldDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBzZXR0ZXI6IHBhZ2Ugb2Zmc2V0XHJcbiAgICAgICAgcHVibGljIHNldCBvZmZzZXQob2Zmc2V0OiBudW1iZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gb2Zmc2V0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIGdldHRlcjog5a6f6Zqb44Gr44Oa44O844K444Gr5Ymy44KK5b2T44Gm44KJ44KM44Gm44GE44KL6auY44GVXHJcbiAgICAgICAgcHVibGljIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBnZXR0ZXI6IOeKtuaFi+WPluW+l1xyXG4gICAgICAgIHB1YmxpYyBnZXQgc3RhdHVzKCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBDRFAuVUkge1xyXG5cclxuICAgIGNvbnN0IFRBRyA9IFwiW0NEUC5VSS5Hcm91cFByb2ZpbGVdIFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIEdyb3VwUHJvZmlsZVxyXG4gICAgICogQGJyaWVmIOODqeOCpOODs+OCkuOCsOODq+ODvOODl+euoeeQhuOBmeOCi+ODl+ODreODleOCoeOCpOODq+OCr+ODqeOCuVxyXG4gICAgICogICAgICAgIOacrOOCr+ODqeOCueOBp+OBr+ebtOaOpSBET00g44KS5pON5L2c44GX44Gm44Gv44GE44GR44Gq44GEXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjbGFzcyBHcm91cFByb2ZpbGUge1xyXG4gICAgICAgIHByaXZhdGUgX3BhcmVudDogR3JvdXBQcm9maWxlID0gbnVsbDsgICAgICAgLy8hPCDopqogR3JvdXBQcm9maWxlIOOCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICAgIHByaXZhdGUgX2NoaWxkcmVuOiBHcm91cFByb2ZpbGVbXSA9IFtdOyAgICAgLy8hPCDlrZAgR3JvdXBQcm9maWxlIOOCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICAgIHByaXZhdGUgX2V4cGFuZGVkOiBib29sZWFuID0gZmFsc2U7ICAgICAgICAgLy8hPCDplovplonmg4XloLFcclxuICAgICAgICBwcml2YXRlIF9zdGF0dXM6IHN0cmluZyA9IFwidW5yZWdpc3RlcmVkXCI7ICAgLy8hPCBfb3duZXIg44G444Gu55m76Yyy54q25oWLIFsgdW5yZWdpc3RlcmVkIHwgcmVnaXN0ZXJlZCBdXHJcbiAgICAgICAgcHJpdmF0ZSBfbWFwTGluZXMgPSB7fTsgICAgICAgICAgICAgICAgICAgICAvLyE8IOiHqui6q+OBjOeuoei9hOOBmeOCiyBMaW5lUHJvZmlsZSDjgpIga2V5IOOBqOOBqOOCguOBq+agvOe0jVxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIExBWU9VVF9LRVlfREVGQVVMVCA9IFwiLWxheW91dC1kZWZhdWx0XCI7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGNvbnN0cnVjdG9yXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gX2lkICAgIHtTdHJpbmd9ICAgICAgICAgICAgIFtpbl0gR3JvdXBQcm9maWxlIOOBriBJRFxyXG4gICAgICAgICAqIEBwYXJhbSBfb3duZXIge0V4cGFuZGFibGVMaXN0Vmlld30gW2luXSDnrqHnkIbogIXjgafjgYLjgosgRXhwYW5kYWJsZUxpc3RWaWV3IOOCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX2lkOiBzdHJpbmcsIHByaXZhdGUgX293bmVyOiBCYXNlRXhwYW5kYWJsZUxpc3RWaWV3KSB7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIHB1YmxpYyBtZXRob2RcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5pysIEdyb3VwUHJvZmlsZSDjgYznrqHnkIbjgZnjgosgTGlzdCDjgpLkvZzmiJDjgZfjgabnmbvpjLJcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBoZWlnaHQgICAgICB7TnVtYmVyfSAgIFtpbl0g44Op44Kk44Oz44Gu6auY44GVXHJcbiAgICAgICAgICogQHBhcmFtIGluaXRpYWxpemVyIHtGdW5jdGlvbn0gW2luXSBMaXN0SXRlbVZpZXcg5rS+55Sf44Kv44Op44K544Gu44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgICAgICogQHBhcmFtIGluZm8gICAgICAgIHtPYmplY3R9ICAgW2luXSBpbml0aWFsaXplciDjgavmuKHjgZXjgozjgovjgqrjg5fjgrfjg6fjg7PlvJXmlbBcclxuICAgICAgICAgKiBAcGFyYW0gbGF5b3V0S2V5ICAge1N0cmluZ30gICBbaW5dIGxheW91dCDmr47jgavkvb/nlKjjgZnjgovorZjliKXlrZAgKOOCquODl+OCt+ODp+ODiuODqylcclxuICAgICAgICAgKiBAcmV0dXJuIHtHcm91cFByb2ZpbGV9IOacrOOCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBhZGRJdGVtKFxyXG4gICAgICAgICAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgICAgICAgICAgaW5pdGlhbGl6ZXI6IG5ldyAob3B0aW9ucz86IGFueSkgPT4gQmFzZUxpc3RJdGVtVmlldyxcclxuICAgICAgICAgICAgaW5mbzogYW55LFxyXG4gICAgICAgICAgICBsYXlvdXRLZXk/OiBzdHJpbmdcclxuICAgICAgICApOiBHcm91cFByb2ZpbGUge1xyXG4gICAgICAgICAgICBsZXQgbGluZTogTGluZVByb2ZpbGU7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgeyBncm91cFByb2ZpbGU6IHRoaXMgfSwgaW5mbyk7XHJcblxyXG4gICAgICAgICAgICBpZiAobnVsbCA9PSBsYXlvdXRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGxheW91dEtleSA9IEdyb3VwUHJvZmlsZS5MQVlPVVRfS0VZX0RFRkFVTFQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG51bGwgPT0gdGhpcy5fbWFwTGluZXNbbGF5b3V0S2V5XSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFwTGluZXNbbGF5b3V0S2V5XSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsaW5lID0gbmV3IExpbmVQcm9maWxlKHRoaXMuX293bmVyLmNvcmUsIE1hdGguZmxvb3IoaGVpZ2h0KSwgaW5pdGlhbGl6ZXIsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgLy8gX293bmVyIOOBrueuoeeQhuS4i+OBq+OBguOCi+OBqOOBjeOBr+mAn+OChOOBi+OBq+i/veWKoFxyXG4gICAgICAgICAgICBpZiAoKFwicmVnaXN0ZXJlZFwiID09PSB0aGlzLl9zdGF0dXMpICYmXHJcbiAgICAgICAgICAgICAgICAobnVsbCA9PSB0aGlzLl9vd25lci5sYXlvdXRLZXkgfHwgbGF5b3V0S2V5ID09PSB0aGlzLl9vd25lci5sYXlvdXRLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vd25lci5fYWRkTGluZShsaW5lLCB0aGlzLmdldExhc3RMaW5lSW5kZXgoKSArIDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3duZXIudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fbWFwTGluZXNbbGF5b3V0S2V5XS5wdXNoKGxpbmUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWtkCBHcm91cCDjgpLov73liqBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQge0dyb3VwUHJvZmlsZXxHcm91cFByb2ZpbGVbXX0gW2luXSBHcm91cFByb2ZpbGUg44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgICAgICogQHJldHVybiB7R3JvdXBQcm9maWxlfSDmnKzjgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgYWRkQ2hpbGRyZW4odGFyZ2V0OiBHcm91cFByb2ZpbGUpOiBHcm91cFByb2ZpbGU7XHJcbiAgICAgICAgcHVibGljIGFkZENoaWxkcmVuKHRhcmdldDogR3JvdXBQcm9maWxlW10pOiBHcm91cFByb2ZpbGU7XHJcbiAgICAgICAgcHVibGljIGFkZENoaWxkcmVuKHRhcmdldDogYW55KTogR3JvdXBQcm9maWxlIHtcclxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW46IEdyb3VwUHJvZmlsZVtdID0gKHRhcmdldCBpbnN0YW5jZW9mIEFycmF5KSA/IHRhcmdldCA6IFt0YXJnZXRdO1xyXG4gICAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuc2V0UGFyZW50KHRoaXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSB0aGlzLl9jaGlsZHJlbi5jb25jYXQoY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOimqiBHcm91cFByb2ZpbGUg44KS5Y+W5b6XXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtHcm91cFByb2ZpbGV9IEdyb3VwUHJvZmlsZSDopqog44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIGdldFBhcmVudCgpOiBHcm91cFByb2ZpbGUge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5a2QIEdyb3VwUHJvZmlsZSDjgpLlj5blvpdcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge0dyb3VwUHJvZmlsZVtdfSBHcm91cFByb2ZpbGUg5a2QIOOCpOODs+OCueOCv+ODs+OCuemFjeWIl1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBnZXRDaGlsZHJlbigpOiBHcm91cFByb2ZpbGVbXSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWtkCBHcm91cCDjgpLmjIHjgaPjgabjgYTjgovjgYvliKTlrppcclxuICAgICAgICAgKiBsYXlvdXRLZXkg44GM5oyH5a6a44GV44KM44KM44Gw44CBbGF5b3V0IOOBrueKtuaFi+OBvuOBp+WIpOWumlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGxheW91dEtleSB7U3RyaW5nfSBbaW5dIGxheW91dCDmr47jgavkvb/nlKjjgZnjgovorZjliKXlrZAgKOOCquODl+OCt+ODp+ODiuODqylcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlOiDmnIksIGZhbHNlOiDnhKFcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgaGFzQ2hpbGRyZW4obGF5b3V0S2V5Pzogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jaGlsZHJlbi5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG51bGwgIT0gbGF5b3V0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW5bMF0uaGFzTGF5b3V0S2V5T2YobGF5b3V0S2V5KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBsYXlvdXQg44Gu54q25oWL44KS5Yik5a6aXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gbGF5b3V0S2V5IHtTdHJpbmd9IFtpbl0gbGF5b3V0IOavjuOBq+S9v+eUqOOBmeOCi+itmOWIpeWtkFxyXG4gICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWU6IOaciSwgZmFsc2U6IOeEoVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBoYXNMYXlvdXRLZXlPZihsYXlvdXRLZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PSBsYXlvdXRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGxheW91dEtleSA9IEdyb3VwUHJvZmlsZS5MQVlPVVRfS0VZX0RFRkFVTFQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChudWxsICE9IHRoaXMuX21hcExpbmVzW2xheW91dEtleV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog44Kw44Or44O844OX5bGV6ZaLXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIGV4cGFuZCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgbGV0IGxpbmVzOiBMaW5lUHJvZmlsZVtdID0gW107XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9saW5lcy5sZW5ndGggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHICsgXCJ0aGlzIGdyb3VwIGhhcyBubyBsaW5lcy5cIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaGFzQ2hpbGRyZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRyArIFwidGhpcyBncm91cCBoYXMgbm8gY2hpbGRyZW4uXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmlzRXhwYW5kZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgbGluZXMgPSB0aGlzLnF1ZXJ5T3BlcmF0aW9uVGFyZ2V0KFwicmVnaXN0ZXJlZFwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2V4cGFuZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmICgwIDwgbGluZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3duZXIuc3RhdHVzU2NvcGUoXCJleHBhbmRpbmdcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDoh6rouqvjgpLmm7TmlrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGluZXMuZm9yRWFjaCgobGluZTogTGluZVByb2ZpbGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g6YWN5LiL44KS5pu05pawXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX293bmVyLl9hZGRMaW5lKGxpbmVzLCB0aGlzLmdldExhc3RMaW5lSW5kZXgoKSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vd25lci51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog44Kw44Or44O844OX5Y+O5p2fXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZGVsYXkge051bWJlcn0gW2luXSDopoHntKDliYrpmaTjgavosrvjgoTjgZnpgYXlu7bmmYLplpMuIOaXouWumjogYW5pbWF0aW9uRHVyYXRpb24g5YCkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIGNvbGxhcHNlKGRlbGF5PzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGxldCBsaW5lczogTGluZVByb2ZpbGVbXSA9IFtdO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzQ2hpbGRyZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRyArIFwidGhpcyBncm91cCBoYXMgbm8gY2hpbGRyZW4uXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNFeHBhbmRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lcyA9IHRoaXMucXVlcnlPcGVyYXRpb25UYXJnZXQoXCJ1bnJlZ2lzdGVyZWRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9leHBhbmRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKDAgPCBsaW5lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxheSA9IChudWxsICE9IGRlbGF5KSA/IGRlbGF5IDogdGhpcy5fb3duZXIuY29yZS5nZXRMaXN0Vmlld09wdGlvbnMoKS5hbmltYXRpb25EdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vd25lci5zdGF0dXNTY29wZShcImNvbGxhcHNpbmdcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDoh6rouqvjgpLmm7TmlrBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGluZXMuZm9yRWFjaCgobGluZTogTGluZVByb2ZpbGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g6YWN5LiL44KS5pu05pawXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX293bmVyLnJlbW92ZUl0ZW0obGluZXNbMF0uaW5kZXgsIGxpbmVzLmxlbmd0aCwgZGVsYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vd25lci51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog6Ieq6Lqr44KS44Oq44K544OI44Gu5Y+v6KaW6aCY5Z+f44Gr6KGo56S6XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyB7RW5zdXJlVmlzaWJsZU9wdGlvbnN9IFtpbl0g44Kq44OX44K344On44OzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZW5zdXJlVmlzaWJsZShvcHRpb25zPzogRW5zdXJlVmlzaWJsZU9wdGlvbnMpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKDAgPCB0aGlzLl9saW5lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX293bmVyLmVuc3VyZVZpc2libGUodGhpcy5fbGluZXNbMF0uaW5kZXgsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG51bGwgIT0gb3B0aW9ucy5jYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDplovplonjga7jg4jjgrDjg6tcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBkZWxheSB7TnVtYmVyfSBbaW5dIGNvbGxhcHNlIOOBruimgee0oOWJiumZpOOBq+iyu+OChOOBmemBheW7tuaZgumWky4g5pei5a6aOiBhbmltYXRpb25EdXJhdGlvbiDlgKRcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgdG9nZ2xlKGRlbGF5PzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9leHBhbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzZShkZWxheSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDlsZXplovnirbmhYvjgpLliKTlrppcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWU6IOWxlemWiywgZmFsc2U65Y+O5p2fXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIGlzRXhwYW5kZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9leHBhbmRlZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGxpc3QgdmlldyDjgbjnmbvpjLJcclxuICAgICAgICAgKiBUb3AgR3JvdXAg44Gu44G/55m76Yyy5Y+v6IO9XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gaW5zZXJ0VG8ge051bWJlcn0g5oy/5YWl5L2N572u44KSIGluZGV4IOOBp+aMh+WumlxyXG4gICAgICAgICAqIEByZXR1cm4ge0dyb3VwUHJvZmlsZX0g5pys44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHJlZ2lzdGVyKGluc2VydFRvOiBudW1iZXIpOiBHcm91cFByb2ZpbGUge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFRBRyArIFwibG9naWMgZXJyb3I6ICdyZWdpc3RlcicgbWV0aG9kIGlzIGFjY2VwdGFibGUgb25seSB0b3AgZ3JvdXAuXCIpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3duZXIuX2FkZExpbmUodGhpcy5wcmVwcm9jZXNzKFwicmVnaXN0ZXJlZFwiKSwgaW5zZXJ0VG8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogbGlzdCB2aWV3IOOBuOW+qeWFg1xyXG4gICAgICAgICAqIFRvcCBHcm91cCDjga7jgb/nmbvpjLLlj6/og71cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge0dyb3VwUHJvZmlsZX0g5pys44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHJlc3RvcmUoKTogR3JvdXBQcm9maWxlIHtcclxuICAgICAgICAgICAgbGV0IGxpbmVzOiBMaW5lUHJvZmlsZVtdID0gW107XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHICsgXCJsb2dpYyBlcnJvcjogJ3Jlc3RvcmUnIG1ldGhvZCBpcyBhY2NlcHRhYmxlIG9ubHkgdG9wIGdyb3VwLlwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9saW5lcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2V4cGFuZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgPSB0aGlzLl9saW5lcy5jb25jYXQodGhpcy5xdWVyeU9wZXJhdGlvblRhcmdldChcImFjdGl2ZVwiKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzID0gdGhpcy5fbGluZXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vd25lci5fYWRkTGluZShsaW5lcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDphY3kuIvjga7mnIDlvozjga4gbGluZSBpbmRleCDjgpLlj5blvpdcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB3aXRoQWN0aXZlQ2hpbGRyZW4ge0Jvb2xlYW59IFtpbl0g55m76Yyy5riI44G/44Gu5a2QIEdyb3VwUHJvZmlsZSDjgpLlkKvjgoHjgabmpJzntKLjgZnjgovloLTlkIjjga8gdHJ1ZSDjgpLmjIflrppcclxuICAgICAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGluZGV4LiDjgqjjg6njg7zjga7loLTlkIjjga8gbnVsbC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgZ2V0TGFzdExpbmVJbmRleCh3aXRoQWN0aXZlQ2hpbGRyZW46IGJvb2xlYW4gPSBmYWxzZSk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzOiBMaW5lUHJvZmlsZVtdID0gKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBfbGluZXM6IExpbmVQcm9maWxlW107XHJcbiAgICAgICAgICAgICAgICBpZiAod2l0aEFjdGl2ZUNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2xpbmVzID0gdGhpcy5xdWVyeU9wZXJhdGlvblRhcmdldChcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChudWxsID09IGxpbmVzIHx8IGxpbmVzLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2xpbmVzID0gdGhpcy5fbGluZXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX2xpbmVzO1xyXG4gICAgICAgICAgICB9KSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFRBRyArIFwibG9naWMgZXJyb3I6IHRoaXMgZ3JvdXAgaXMgc3RpbCBub3QgcmVnaXN0ZXJlZC5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsaW5lc1tsaW5lcy5sZW5ndGggLSAxXS5pbmRleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSUQg44KS5Y+W5b6XXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IOWJsuOCiuaMr+OCieOCjOOBnyBJRFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldCBpZCgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDjgrnjg4bjg7zjgr/jgrnjgpLlj5blvpdcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1N0cmluZ30g44K544OG44O844K/44K55paH5a2X5YiXXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0IHN0YXR1cygpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBwcml2YXRlIG1ldGhvZFxyXG5cclxuICAgICAgICAvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog6KaqIEdyb3VwIOaMh+WumlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHBhcmVudCB7R3JvdXBQcm9maWxlfSBbaW5dIOimqiBHcm91cFByb2ZpbGUg44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBzZXRQYXJlbnQocGFyZW50OiBHcm91cFByb2ZpbGUpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogdHNsaW50OmVuYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogcmVnaXN0ZXIgLyB1bnJlZ2lzdGVyIOOBruWJjeWHpueQhlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIG5ld1N0YXR1cyB7U3RyaW5nfSBbaW5dIOaWsOOCueODhuODvOOCv+OCueaWh+Wtl+WIl1xyXG4gICAgICAgICAqIEByZXR1cm4ge0xpbmVQcm9maWxlW119IOabtOaWsOOBmeOBueOBjSBMaW5lUHJvZmlsZSDjga7phY3liJdcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcml2YXRlIHByZXByb2Nlc3MobmV3U3RhdHVzOiBzdHJpbmcpOiBMaW5lUHJvZmlsZVtdIHtcclxuICAgICAgICAgICAgbGV0IGxpbmVzOiBMaW5lUHJvZmlsZVtdID0gW107XHJcbiAgICAgICAgICAgIGlmIChuZXdTdGF0dXMgIT09IHRoaXMuX3N0YXR1cyAmJiBudWxsICE9IHRoaXMuX2xpbmVzKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lcyA9IHRoaXMuX2xpbmVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IG5ld1N0YXR1cztcclxuICAgICAgICAgICAgcmV0dXJuIGxpbmVzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5pON5L2c5a++6LGh44GuIExpbmVQcm9maWxlIOmFjeWIl+OCkuWPluW+l1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIG5ld1N0YXR1cyB7U3RyaW5nfSBbaW5dIOaWsOOCueODhuODvOOCv+OCueaWh+Wtl+WIl1xyXG4gICAgICAgICAqIEByZXR1cm4ge0xpbmVQcm9maWxlW119IOaTjeS9nOWvvuixoeOBriBMaW5lUHJvZmlsZSDjga7phY3liJdcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcml2YXRlIHF1ZXJ5T3BlcmF0aW9uVGFyZ2V0KG9wZXJhdGlvbjogc3RyaW5nKTogTGluZVByb2ZpbGVbXSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpbmRUYXJnZXRzID0gKGdyb3VwOiBHcm91cFByb2ZpbGUpOiBMaW5lUHJvZmlsZVtdID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBsaW5lczogTGluZVByb2ZpbGVbXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZ3JvdXAuX2NoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBHcm91cFByb2ZpbGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVnaXN0ZXJlZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoY2hpbGQucHJlcHJvY2VzcyhvcGVyYXRpb24pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5yZWdpc3RlcmVkXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyA9IGxpbmVzLmNvbmNhdChjaGlsZC5wcmVwcm9jZXNzKG9wZXJhdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhY3RpdmVcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9IGNoaWxkLl9saW5lcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzID0gbGluZXMuY29uY2F0KGNoaWxkLl9saW5lcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcgKyBcInVua25vd24gb3BlcmF0aW9uOiBcIiArIG9wZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5pc0V4cGFuZGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoZmluZFRhcmdldHMoY2hpbGQpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsaW5lcztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIGZpbmRUYXJnZXRzKHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog6Ieq6Lqr44Gu566h55CG44GZ44KL44Ki44Kv44OG44Kj44OW44GqIExpbmVQcm9maWUg44KS5Y+W5b6XXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtMaW5lUHJvZmlsZVtdfSBMaW5lUHJvZmllIOmFjeWIl1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgZ2V0IF9saW5lcygpOiBMaW5lUHJvZmlsZVtdIHtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5fb3duZXIubGF5b3V0S2V5O1xyXG4gICAgICAgICAgICBpZiAobnVsbCAhPSBrZXkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXBMaW5lc1trZXldO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hcExpbmVzW0dyb3VwUHJvZmlsZS5MQVlPVVRfS0VZX0RFRkFVTFRdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBDRFAuVUkge1xyXG5cclxuICAgIGltcG9ydCBfVXRpbHMgPSBDRFAuVUkuX0xpc3RWaWV3VXRpbHM7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlVJLlNjcm9sbGVyRWxlbWVudF0gXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAY2xhc3MgU2Nyb2xsZXJFbGVtZW50XHJcbiAgICAgKiBAYnJpZWYgSFRNTEVsZW1lbnQg44GuIFNjcm9sbGVyIOOCr+ODqeOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgY2xhc3MgU2Nyb2xsZXJFbGVtZW50IGltcGxlbWVudHMgSVNjcm9sbGVyIHtcclxuICAgICAgICBwcml2YXRlIF8kdGFyZ2V0OiBKUXVlcnkgPSBudWxsO1xyXG4gICAgICAgIHByaXZhdGUgXyRzY3JvbGxNYXA6IEpRdWVyeSA9IG51bGw7XHJcbiAgICAgICAgcHJpdmF0ZSBfbGlzdHZpZXdPcHRpb25zOiBMaXN0Vmlld09wdGlvbnMgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyEgY29uc3RydWN0b3JcclxuICAgICAgICBjb25zdHJ1Y3RvcihlbGVtZW50OiBzdHJpbmcsIG9wdGlvbnM6IExpc3RWaWV3T3B0aW9ucyk7XHJcbiAgICAgICAgY29uc3RydWN0b3IoZWxlbWVudDogSFRNTEVsZW1lbnQsIG9wdGlvbnM6IExpc3RWaWV3T3B0aW9ucyk7XHJcbiAgICAgICAgY29uc3RydWN0b3IoZWxlbWVudDogYW55LCBvcHRpb25zOiBMaXN0Vmlld09wdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fJHRhcmdldCA9ICQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpc3R2aWV3T3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgU2Nyb2xsZXIg44Gu5Z6L44KS5Y+W5b6XXHJcbiAgICAgICAgZ2V0VHlwZSgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gU2Nyb2xsZXJFbGVtZW50LlRZUEU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgcG9zaXRpb24g5Y+W5b6XXHJcbiAgICAgICAgZ2V0UG9zKCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl8kdGFyZ2V0LnNjcm9sbFRvcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIHBvc2l0aW9uIOOBruacgOWkp+WApOOCkuWPluW+l1xyXG4gICAgICAgIGdldFBvc01heCgpOiBudW1iZXIge1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PSB0aGlzLl8kc2Nyb2xsTWFwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl8kc2Nyb2xsTWFwID0gdGhpcy5fJHRhcmdldC5jaGlsZHJlbigpLmZpcnN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIF9VdGlscy5tYXgodGhpcy5fJHNjcm9sbE1hcC5oZWlnaHQoKSAtIHRoaXMuXyR0YXJnZXQuaGVpZ2h0KCksIDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOOCpOODmeODs+ODiOeZu+mMslxyXG4gICAgICAgIG9uKHR5cGU6IHN0cmluZywgZnVuYzogKGV2ZW50OiBKUXVlcnkuRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic2Nyb2xsXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fJHRhcmdldC5vbihcInNjcm9sbFwiLCBmdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJzY3JvbGxzdG9wXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fJHRhcmdldC5vbihcInNjcm9sbHN0b3BcIiwgZnVuYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcgKyBcInVuc3VwcG9ydGVkIHR5cGU6IFwiICsgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDjgqTjg5njg7Pjg4jnmbvpjLLop6PpmaRcclxuICAgICAgICBvZmYodHlwZTogc3RyaW5nLCBmdW5jOiAoZXZlbnQ6IEpRdWVyeS5FdmVudCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJzY3JvbGxcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl8kdGFyZ2V0Lm9mZihcInNjcm9sbFwiLCBmdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJzY3JvbGxzdG9wXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fJHRhcmdldC5vZmYoXCJzY3JvbGxzdG9wXCIsIGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHICsgXCJ1bnN1cHBvcnRlZCB0eXBlOiBcIiArIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44K544Kv44Ot44O844Or5L2N572u44KS5oyH5a6aXHJcbiAgICAgICAgc2Nyb2xsVG8ocG9zOiBudW1iZXIsIGFuaW1hdGU/OiBib29sZWFuLCB0aW1lPzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fbGlzdHZpZXdPcHRpb25zLmVuYWJsZUFuaW1hdGlvbiB8fCAhYW5pbWF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fJHRhcmdldC5zY3JvbGxUb3AocG9zKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChudWxsID09IHRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lID0gdGhpcy5fbGlzdHZpZXdPcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fJHRhcmdldC5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IHBvc1xyXG4gICAgICAgICAgICAgICAgfSwgdGltZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBTY3JvbGxlciDjga7nirbmhYvmm7TmlrBcclxuICAgICAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIC8vIG5vb3AuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgU2Nyb2xsZXIg44Gu56C05qOEXHJcbiAgICAgICAgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fJHNjcm9sbE1hcCA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl8kdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl8kdGFyZ2V0Lm9mZigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fJHRhcmdldCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDjgr/jgqTjg5flrprnvqlcclxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldCBUWVBFKCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiBcImVsZW1lbnQtb3ZlcmZsb3dcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBmYWN0b3J5IOWPluW+l1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0RmFjdG9yeSgpOiAoZWxlbWVudDogYW55LCBvcHRpb25zOiBMaXN0Vmlld09wdGlvbnMpID0+IElTY3JvbGxlciB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZhY3RvcnkgPSAoZWxlbWVudDogYW55LCBvcHRpb25zOiBMaXN0Vmlld09wdGlvbnMpOiBJU2Nyb2xsZXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTY3JvbGxlckVsZW1lbnQoZWxlbWVudCwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIHNldCB0eXBlIHNpZ25hdHVyZS5cclxuICAgICAgICAgICAgKDxhbnk+ZmFjdG9yeSkudHlwZSA9IFNjcm9sbGVyRWxlbWVudC5UWVBFO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIENEUC5VSSB7XHJcblxyXG4gICAgaW1wb3J0IF9VdGlscyA9IENEUC5VSS5fTGlzdFZpZXdVdGlscztcclxuXHJcbiAgICBjb25zdCBUQUcgPSBcIltDRFAuVUkuU2Nyb2xsZXJOYXRpdmVdIFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIFNjcm9sbGVyTmF0aXZlXHJcbiAgICAgKiBAYnJpZWYgQnJvd3NlciBOYXRpdmUg44GuIFNjcm9sbGVyIOOCr+ODqeOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgY2xhc3MgU2Nyb2xsZXJOYXRpdmUgaW1wbGVtZW50cyBJU2Nyb2xsZXIge1xyXG4gICAgICAgIHByaXZhdGUgXyRib2R5OiBKUXVlcnkgPSBudWxsO1xyXG4gICAgICAgIHByaXZhdGUgXyR0YXJnZXQ6IEpRdWVyeSA9IG51bGw7XHJcbiAgICAgICAgcHJpdmF0ZSBfJHNjcm9sbE1hcDogSlF1ZXJ5ID0gbnVsbDtcclxuICAgICAgICBwcml2YXRlIF9saXN0dmlld09wdGlvbnM6IExpc3RWaWV3T3B0aW9ucyA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vISBjb25zdHJ1Y3RvclxyXG4gICAgICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IExpc3RWaWV3T3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLl8kdGFyZ2V0ID0gJChkb2N1bWVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuXyRib2R5ID0gJChcImJvZHlcIik7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpc3R2aWV3T3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgU2Nyb2xsZXIg44Gu5Z6L44KS5Y+W5b6XXHJcbiAgICAgICAgZ2V0VHlwZSgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gU2Nyb2xsZXJOYXRpdmUuVFlQRTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBwb3NpdGlvbiDlj5blvpdcclxuICAgICAgICBnZXRQb3MoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuXyR0YXJnZXQuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgcG9zaXRpb24g44Gu5pyA5aSn5YCk44KS5Y+W5b6XXHJcbiAgICAgICAgZ2V0UG9zTWF4KCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiBfVXRpbHMubWF4KHRoaXMuXyR0YXJnZXQuaGVpZ2h0KCkgLSB3aW5kb3cuaW5uZXJIZWlnaHQsIDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOOCpOODmeODs+ODiOeZu+mMslxyXG4gICAgICAgIG9uKHR5cGU6IHN0cmluZywgZnVuYzogKGV2ZW50OiBKUXVlcnkuRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic2Nyb2xsXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fJHRhcmdldC5vbihcInNjcm9sbFwiLCBmdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJzY3JvbGxzdG9wXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJCh3aW5kb3cpLm9uKFwic2Nyb2xsc3RvcFwiLCBmdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRyArIFwidW5zdXBwb3J0ZWQgdHlwZTogXCIgKyB0eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOOCpOODmeODs+ODiOeZu+mMsuino+mZpFxyXG4gICAgICAgIG9mZih0eXBlOiBzdHJpbmcsIGZ1bmM6IChldmVudDogSlF1ZXJ5LkV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNjcm9sbFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuXyR0YXJnZXQub2ZmKFwic2Nyb2xsXCIsIGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNjcm9sbHN0b3BcIjpcclxuICAgICAgICAgICAgICAgICAgICAkKHdpbmRvdykub2ZmKFwic2Nyb2xsc3RvcFwiLCBmdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRyArIFwidW5zdXBwb3J0ZWQgdHlwZTogXCIgKyB0eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOOCueOCr+ODreODvOODq+S9jee9ruOCkuaMh+WumlxyXG4gICAgICAgIHNjcm9sbFRvKHBvczogbnVtYmVyLCBhbmltYXRlPzogYm9vbGVhbiwgdGltZT86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2xpc3R2aWV3T3B0aW9ucy5lbmFibGVBbmltYXRpb24gfHwgIWFuaW1hdGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuXyRib2R5LnNjcm9sbFRvcChwb3MpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT0gdGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpbWUgPSB0aGlzLl9saXN0dmlld09wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl8kYm9keS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IHBvc1xyXG4gICAgICAgICAgICAgICAgfSwgdGltZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBTY3JvbGxlciDjga7nirbmhYvmm7TmlrBcclxuICAgICAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIC8vIG5vb3AuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgU2Nyb2xsZXIg44Gu56C05qOEXHJcbiAgICAgICAgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fJHNjcm9sbE1hcCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuXyR0YXJnZXQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOOCv+OCpOODl+Wumue+qVxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0IFRZUEUoKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwibmF0aXZlLXNjcm9sbFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIGZhY3Rvcnkg5Y+W5b6XXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRGYWN0b3J5KCk6IChlbGVtZW50OiBhbnksIG9wdGlvbnM6IExpc3RWaWV3T3B0aW9ucykgPT4gSVNjcm9sbGVyIHtcclxuICAgICAgICAgICAgY29uc3QgZmFjdG9yeSA9IChlbGVtZW50OiBhbnksIG9wdGlvbnM6IExpc3RWaWV3T3B0aW9ucyk6IElTY3JvbGxlciA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNjcm9sbGVyTmF0aXZlKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBzZXQgdHlwZSBzaWduYXR1cmUuXHJcbiAgICAgICAgICAgICg8YW55PmZhY3RvcnkpLnR5cGUgPSBTY3JvbGxlck5hdGl2ZS5UWVBFO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gZm9yIG5vbiBpc2Nyb2xsIHVzZXIuIGNkcC51aS5saXN0dmlldy5kLnRzIGludGVybmFsIGRlZmluaXRpb24uXHJcbmludGVyZmFjZSBJU2Nyb2xsT3B0aW9ucyB7XHJcbiAgICBbeDogc3RyaW5nXTogYW55O1xyXG4gICAgcHJvYmVUeXBlPzogbnVtYmVyOyAvLyBbY2FsbSA6MSA8IDIgPCAzOiBhZ2dyZXNzaXZlXVxyXG59XHJcblxyXG5uYW1lc3BhY2UgQ0RQLlVJIHtcclxuXHJcbiAgICBpbXBvcnQgX0NvbmZpZyAgPSBDRFAuVUkuTGlzdFZpZXdHbG9iYWxDb25maWc7XHJcbiAgICBpbXBvcnQgX1V0aWxzICAgPSBDRFAuVUkuX0xpc3RWaWV3VXRpbHM7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlVJLlNjcm9sbGVySVNjcm9sbF0gXCI7XHJcblxyXG4gICAgaW50ZXJmYWNlIElTY3JvbGxFeCBleHRlbmRzIElTY3JvbGwge1xyXG4gICAgICAgIG9uOiAodHlwZTogc3RyaW5nLCBmbjogKGV2ZW50OiBhbnkpID0+IHZvaWQpID0+IHZvaWQ7XHJcbiAgICAgICAgb2ZmOiAodHlwZTogc3RyaW5nLCBmbjogKGV2ZW50OiBhbnkpID0+IHZvaWQpID0+IHZvaWQ7XHJcbiAgICAgICAgd3JhcHBlcjogSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgc2Nyb2xsZXI6IEhUTUxFbGVtZW50O1xyXG4gICAgICAgIHNjcm9sbGVyV2lkdGg6IG51bWJlcjtcclxuICAgICAgICBzY3JvbGxlckhlaWdodDogbnVtYmVyO1xyXG4gICAgICAgIG1heFNjcm9sbFg6IG51bWJlcjtcclxuICAgICAgICBtYXhTY3JvbGxZOiBudW1iZXI7XHJcbiAgICAgICAgZ2V0Q29tcHV0ZWRQb3NpdGlvbigpOiBhbnk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAY2xhc3MgU2Nyb2xsZXJJU2Nyb2xsXHJcbiAgICAgKiBAYnJpZWYgaVNjcm9sbCDjgpLkvb/nlKjjgZfjgZ8gU2Nyb2xsZXIg44Kv44Op44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjbGFzcyBTY3JvbGxlcklTY3JvbGwgaW1wbGVtZW50cyBJU2Nyb2xsZXIge1xyXG4gICAgICAgIHByaXZhdGUgXyRvd25lcjogSlF1ZXJ5ID0gbnVsbDtcclxuICAgICAgICBwcml2YXRlIF9pc2Nyb2xsOiBJU2Nyb2xsRXggPSBudWxsO1xyXG4gICAgICAgIHByaXZhdGUgX3JlZnJlc2hUaW1lcklkOiBudW1iZXIgPSBudWxsO1xyXG4gICAgICAgIHByaXZhdGUgXyR3cmFwcGVyOiBKUXVlcnkgPSBudWxsO1xyXG4gICAgICAgIHByaXZhdGUgXyRzY3JvbGxlcjogSlF1ZXJ5ID0gbnVsbDtcclxuICAgICAgICBwcml2YXRlIF9saXN0dmlld09wdGlvbnM6IExpc3RWaWV3T3B0aW9ucyA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vISBjb25zdHJ1Y3RvclxyXG4gICAgICAgIGNvbnN0cnVjdG9yKCRvd25lcjogSlF1ZXJ5LCBlbGVtZW50OiBzdHJpbmcsIGlzY3JvbGxPcHRpb25zOiBJU2Nyb2xsT3B0aW9ucywgbGlzdHZpZXdPcHRpb25zOiBMaXN0Vmlld09wdGlvbnMpO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCRvd25lcjogSlF1ZXJ5LCBlbGVtZW50OiBIVE1MRWxlbWVudCwgaXNjcm9sbE9wdGlvbnM6IElTY3JvbGxPcHRpb25zLCBsaXN0dmlld09wdGlvbnM6IExpc3RWaWV3T3B0aW9ucyk7XHJcbiAgICAgICAgY29uc3RydWN0b3IoJG93bmVyOiBKUXVlcnksIGVsZW1lbnQ6IGFueSwgaXNjcm9sbE9wdGlvbnM6IElTY3JvbGxPcHRpb25zLCBsaXN0dmlld09wdGlvbnM6IExpc3RWaWV3T3B0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAobnVsbCAhPSBnbG9iYWwuSVNjcm9sbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fJG93bmVyID0gJG93bmVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNjcm9sbCA9IDxJU2Nyb2xsRXg+bmV3IElTY3JvbGwoZWxlbWVudCwgaXNjcm9sbE9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fJHdyYXBwZXIgPSAkKHRoaXMuX2lzY3JvbGwud3JhcHBlcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl8kc2Nyb2xsZXIgPSAkKHRoaXMuX2lzY3JvbGwuc2Nyb2xsZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGlzdHZpZXdPcHRpb25zID0gbGlzdHZpZXdPcHRpb25zO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihUQUcgKyBcImlzY3JvbGwgbW9kdWxlIGRvZXNuJ3QgbG9hZC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBTY3JvbGxlciDjga7lnovjgpLlj5blvpdcclxuICAgICAgICBnZXRUeXBlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiBTY3JvbGxlcklTY3JvbGwuVFlQRTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBwb3NpdGlvbiDlj5blvpdcclxuICAgICAgICBnZXRQb3MoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMuX2lzY3JvbGwuZ2V0Q29tcHV0ZWRQb3NpdGlvbigpLnk7XHJcbiAgICAgICAgICAgIGlmIChfLmlzTmFOKHBvcykpIHtcclxuICAgICAgICAgICAgICAgIHBvcyA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwb3MgPSAtcG9zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwb3M7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgcG9zaXRpb24g44Gu5pyA5aSn5YCk44KS5Y+W5b6XXHJcbiAgICAgICAgZ2V0UG9zTWF4KCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiBfVXRpbHMubWF4KC10aGlzLl9pc2Nyb2xsLm1heFNjcm9sbFksIDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOOCpOODmeODs+ODiOeZu+mMslxyXG4gICAgICAgIG9uKHR5cGU6IHN0cmluZywgZnVuYzogKGV2ZW50OiBKUXVlcnkuRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic2Nyb2xsXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNjcm9sbC5vbihcInNjcm9sbFwiLCBmdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJzY3JvbGxzdG9wXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNjcm9sbC5vbihcInNjcm9sbEVuZFwiLCBmdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRyArIFwidW5zdXBwb3J0ZWQgdHlwZTogXCIgKyB0eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOOCpOODmeODs+ODiOeZu+mMsuino+mZpFxyXG4gICAgICAgIG9mZih0eXBlOiBzdHJpbmcsIGZ1bmM6IChldmVudDogSlF1ZXJ5LkV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNjcm9sbFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzY3JvbGwub2ZmKFwic2Nyb2xsXCIsIGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNjcm9sbHN0b3BcIjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc2Nyb2xsLm9uKFwic2Nyb2xsRW5kXCIsIGZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHICsgXCJ1bnN1cHBvcnRlZCB0eXBlOiBcIiArIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44K544Kv44Ot44O844Or5L2N572u44KS5oyH5a6aXHJcbiAgICAgICAgc2Nyb2xsVG8ocG9zOiBudW1iZXIsIGFuaW1hdGU/OiBib29sZWFuLCB0aW1lPzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRpbWUgPSAwO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbGlzdHZpZXdPcHRpb25zLmVuYWJsZUFuaW1hdGlvbiAmJiBhbmltYXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aW1lID0gdGltZSB8fCB0aGlzLl9saXN0dmlld09wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5faXNjcm9sbC5zY3JvbGxUbygwLCAtcG9zLCB0aW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBTY3JvbGxlciDjga7nirbmhYvmm7TmlrBcclxuICAgICAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl8kb3duZXIpIHtcclxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB3cmFwcGVyXHJcbiAgICAgICAgICAgICAgICAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG93bmVySGVpZ2h0ID0gdGhpcy5fJG93bmVyLmhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvd25lckhlaWdodCAhPT0gdGhpcy5fJHdyYXBwZXIuaGVpZ2h0KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fJHdyYXBwZXIuaGVpZ2h0KG93bmVySGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChudWxsICE9IHRoaXMuX3JlZnJlc2hUaW1lcklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3JlZnJlc2hUaW1lcklkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9jID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl8kc2Nyb2xsZXIgJiYgdGhpcy5fJHNjcm9sbGVyLmhlaWdodCgpICE9PSB0aGlzLl9pc2Nyb2xsLnNjcm9sbGVySGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2lzY3JvbGwucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZyZXNoVGltZXJJZCA9IHNldFRpbWVvdXQocHJvYywgdGhpcy5fbGlzdHZpZXdPcHRpb25zLnNjcm9sbE1hcFJlZnJlc2hJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmcmVzaFRpbWVySWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5faXNjcm9sbC5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWZyZXNoVGltZXJJZCA9IHNldFRpbWVvdXQocHJvYywgdGhpcy5fbGlzdHZpZXdPcHRpb25zLnNjcm9sbE1hcFJlZnJlc2hJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBTY3JvbGxlciDjga7noLTmo4RcclxuICAgICAgICBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl8kc2Nyb2xsZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl8kd3JhcHBlciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzY3JvbGwuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLl8kb3duZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOOCv+OCpOODl+Wumue+qVxyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0IFRZUEUoKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiaXNjcm9sbFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIGZhY3Rvcnkg5Y+W5b6XXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBnZXRGYWN0b3J5KG9wdGlvbnM/OiBJU2Nyb2xsT3B0aW9ucyk6IChlbGVtZW50OiBhbnksIG9wdGlvbnM6IExpc3RWaWV3T3B0aW9ucykgPT4gSVNjcm9sbGVyIHtcclxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdE9wdCA9IHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbFg6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgYm91bmNlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHRhcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNsaWNrOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbW91c2VXaGVlbDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNjcm9sbGJhcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVNjcm9sbGJhcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzaHJpbmtTY3JvbGxiYXJzOiBcInNjYWxlXCIsXHJcbiAgICAgICAgICAgICAgICBmYWRlU2Nyb2xsYmFyczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRpc2FibGVQb2ludGVyOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZU1vdXNlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRpc2FibGVUb3VjaDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBwcm9iZVR5cGU6IDIsXHJcbi8vICAgICAgICAgICAgICAgZXZlbnRQYXNzdGhyb3VnaDogdHJ1ZSxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGlzY3JvbGxPcHRpb25zID0gJC5leHRlbmQoe30sIGRlZmF1bHRPcHQsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZmFjdG9yeSA9IChlbGVtZW50OiBhbnksIGxpc3R2aWV3T3B0aW9uczogTGlzdFZpZXdPcHRpb25zKTogSVNjcm9sbGVyID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0ICRvd25lciA9ICQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCAkbWFwID0gJG93bmVyLmZpbmQoX0NvbmZpZy5TQ1JPTExfTUFQX1NFTEVDVE9SKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0ICR3cmFwcGVyID0gJChcIjxkaXYgY2xhc3M9J1wiICsgX0NvbmZpZy5XUkFQUEVSX0NMQVNTICsgXCInPjwvZGl2PlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJG1hcC53cmFwKCR3cmFwcGVyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU2Nyb2xsZXJJU2Nyb2xsKCRvd25lciwgX0NvbmZpZy5XUkFQUEVSX1NFTEVDVE9SLCBpc2Nyb2xsT3B0aW9ucywgbGlzdHZpZXdPcHRpb25zKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gc2V0IHR5cGUgc2lnbmF0dXJlLlxyXG4gICAgICAgICAgICAoPGFueT5mYWN0b3J5KS50eXBlID0gU2Nyb2xsZXJJU2Nyb2xsLlRZUEU7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIENEUC5VSSB7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlVJLkxpc3RJdGVtVmlld10gXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaW50ZXJmYWNlIExpc3RJdGVtVmlld09wdGlvbnNcclxuICAgICAqIEBicmllZiBMaXN0SXRlbVZpZXcg44Gu44Kq44OX44K344On44OzXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgTGlzdEl0ZW1WaWV3T3B0aW9uczxUTW9kZWwgZXh0ZW5kcyBCYWNrYm9uZS5Nb2RlbCA9IEJhY2tib25lLk1vZGVsPlxyXG4gICAgICAgIGV4dGVuZHMgQmFja2JvbmUuVmlld09wdGlvbnM8VE1vZGVsPiB7XHJcbiAgICAgICAgb3duZXI6IEJhc2VMaXN0VmlldztcclxuICAgICAgICAkZWw/OiBKUXVlcnk7XHJcbiAgICAgICAgbGluZVByb2ZpbGU6IExpbmVQcm9maWxlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIExpc3RJdGVtVmlld1xyXG4gICAgICogQGJyaWVmIExpc3RWaWV3IOOBjOaJseOBhiBMaXN0SXRlbSDjgrPjg7Pjg4bjg4rjgq/jg6njgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGNsYXNzIExpc3RJdGVtVmlldzxUTW9kZWwgZXh0ZW5kcyBCYWNrYm9uZS5Nb2RlbCA9IEJhY2tib25lLk1vZGVsPlxyXG4gICAgICAgIGV4dGVuZHMgQmFja2JvbmUuVmlldzxUTW9kZWw+IGltcGxlbWVudHMgSUxpc3RJdGVtVmlldywgSUNvbXBvc2FibGVWaWV3IHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfb3duZXI6IEJhc2VMaXN0VmlldyA9IG51bGw7XHJcbiAgICAgICAgcHJpdmF0ZSBfbGluZVByb2ZpbGU6IExpbmVQcm9maWxlID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogY29uc3RydWN0b3JcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBMaXN0SXRlbVZpZXdPcHRpb25zPFRNb2RlbD4pIHtcclxuICAgICAgICAgICAgc3VwZXIob3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHRoaXMuX293bmVyID0gb3B0aW9ucy5vd25lcjtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuJGVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxlZ2F0ZXMgPSAoPGFueT50aGlzKS5ldmVudHMgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEVsZW1lbnQob3B0aW9ucy4kZWwsIGRlbGVnYXRlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fbGluZVByb2ZpbGUgPSBvcHRpb25zLmxpbmVQcm9maWxlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBJbXBsZW1lbnRzOiBMaXN0SXRlbVZpZXdcclxuXHJcbiAgICAgICAgLy8hIOaPj+eUuzogZnJhbWV3b3JrIOOBi+OCieWRvOOBs+WHuuOBleOCjOOCi+OBn+OCgeOAgeOCquODvOODkOODvOODqeOCpOODieW/hemgiFxyXG4gICAgICAgIHJlbmRlcigpOiBMaXN0SXRlbVZpZXc8VE1vZGVsPiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcgKyBcIm5lZWQgb3ZlcnJpZGUgJ3JlbmRlcigpJyBtZXRob2QuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDoh6rouqvjga4gTGluZSDjgqTjg7Pjg4fjg4Pjgq/jgrnjgpLlj5blvpdcclxuICAgICAgICBnZXRJbmRleCgpOiBudW1iZXIge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGluZVByb2ZpbGUuaW5kZXg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg6Ieq6Lqr44Gr5oyH5a6a44GV44KM44Gf6auY44GV44KS5Y+W5b6XXHJcbiAgICAgICAgZ2V0U3BlY2lmaWVkSGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lUHJvZmlsZS5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgY2hpbGQgbm9kZSDjgYzlrZjlnKjjgZnjgovjgYvliKTlrppcclxuICAgICAgICBoYXNDaGlsZE5vZGUoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy4kZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwIDwgdGhpcy4kZWwuY2hpbGRyZW4oKS5sZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOmrmOOBleOCkuabtOaWsFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIG5ld0hlaWdodCB7TnVtYmVyfSAgICAgICAgICAgICAgW2luXSDmlrDjgZfjgYTpq5jjgZVcclxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyAgIHtVcGRhdGVIZWlnaHRPcHRpb25zfSBbaW5dIGxpbmUg44Gu6auY44GV5pu05paw5pmC44Gr5b2x6Z+/44GZ44KL44GZ44G544Gm44GuIExpbmVQcm9maWxlIOOBruWGjeioiOeul+OCkuihjOOBhuWgtOWQiOOBryB7IHJlZmxlY3RBbGw6IHRydWUgfVxyXG4gICAgICAgICAqIEByZXR1cm4ge0xpc3RJdGVtVmlld30g44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdXBkYXRlSGVpZ2h0KG5ld0hlaWdodDogbnVtYmVyLCBvcHRpb25zPzogVXBkYXRlSGVpZ2h0T3B0aW9ucyk6IExpc3RJdGVtVmlldzxUTW9kZWw+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuJGVsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRTcGVjaWZpZWRIZWlnaHQoKSAhPT0gbmV3SGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGluZVByb2ZpbGUudXBkYXRlSGVpZ2h0KG5ld0hlaWdodCwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwuaGVpZ2h0KG5ld0hlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIEltcGxlbWVudHM6IElDb21wb3NhYmxlVmlld1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDjgZnjgafjgavlrprnvqnjgZXjgozjgZ8gQmFja2JvbmUuVmlldyDjgpLln7rlupXjgq/jg6njgrnjgavoqK3lrprjgZfjgIFleHRlbmQg44KS5a6f6KGM44GZ44KL44CCXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZGVyaXZlcyAgICAgICAgIHtCYWNrYm9uZS5WaWV3fEJhY2tib25lLlZpZXdbXX0gW2luXSDlkIjmiJDlhYPjga4gVmlldyDjgq/jg6njgrlcclxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydGllcyAgICAgIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgICAgICAgW2luXSBwcm90b3R5cGUg44OX44Ot44OR44OG44KjXHJcbiAgICAgICAgICogQHBhcmFtIGNsYXNzUHJvcGVydGllcyB7T2JqZWN0fSAgICAgICAgICAgICAgICAgICAgICAgIFtpbl0gc3RhdGljIOODl+ODreODkeODhuOCo1xyXG4gICAgICAgICAqIEByZXR1cm4ge0JhY2tib25lLlZpZXd8QmFja2JvbmUuVmlld1tdfSDmlrDopo/jgavnlJ/miJDjgZXjgozjgZ8gVmlldyDjga7jgrPjg7Pjgrnjg4jjg6njgq/jgr9cclxuICAgICAgICAgKi9cclxuICAgICAgICBzdGF0aWMgY29tcG9zZShkZXJpdmVzOiBWaWV3Q29uc3RydWN0b3IgfCBWaWV3Q29uc3RydWN0b3JbXSwgcHJvcGVydGllczogYW55LCBjbGFzc1Byb3BlcnRpZXM/OiBhbnkpOiBWaWV3Q29uc3RydWN0b3Ige1xyXG4gICAgICAgICAgICBjb25zdCBjb21wb3NlZDogYW55ID0gY29tcG9zZVZpZXdzKExpc3RJdGVtVmlldywgZGVyaXZlcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb3NlZC5leHRlbmQocHJvcGVydGllcywgY2xhc3NQcm9wZXJ0aWVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gT3ZlcnJpZGU6IEJhY2tib25lLlZpZXdcclxuXHJcbiAgICAgICAgLy8hIOmWi+aUvlxyXG4gICAgICAgIHJlbW92ZSgpOiBMaXN0SXRlbVZpZXc8VE1vZGVsPiB7XHJcbiAgICAgICAgICAgIC8vIHhwZXJpYSBBWCBKZWxseSBCZWFuICg0LjEuMinjgavjgabjgIHjg6Hjg6Ljg6rjg7zjg6rjg7zjgq/jgpLou73muJvjgZXjgZvjgovlirnmnpxcclxuICAgICAgICAgICAgdGhpcy4kZWwuZmluZChcImZpZ3VyZVwiKS5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsIFwibm9uZVwiKTtcclxuICAgICAgICAgICAgLy8gdGhpcy4kZWwg44Gv5YaN5Yip55So44GZ44KL44Gf44KB56C05qOE44GX44Gq44GEXHJcbiAgICAgICAgICAgIHRoaXMuJGVsLmNoaWxkcmVuKCkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLm9mZigpO1xyXG4gICAgICAgICAgICB0aGlzLiRlbCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcExpc3RlbmluZygpO1xyXG4gICAgICAgICAgICB0aGlzLl9saW5lUHJvZmlsZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBzaG9ydCBjdXQgbWV0aG9kc1xyXG5cclxuICAgICAgICAvLyEgT3duZXIg5Y+W5b6XXHJcbiAgICAgICAgZ2V0IG93bmVyKCk6IEJhc2VMaXN0VmlldyB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vd25lcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLyogdHNsaW50OmRpc2FibGU6bm8tYml0d2lzZSBuby11bnVzZWQtZXhwcmVzc2lvbiAqL1xyXG4vKiBqc2hpbnQgLVcwMzAgKi8gIC8vIGZvciBcIkV4cGVjdGVkIGFuIGFzc2lnbm1lbnQgb3IgZnVuY3Rpb24gY2FsbCBhbmQgaW5zdGVhZCBzYXcgYW4gZXhwcmVzc2lvblwiXHJcblxyXG5uYW1lc3BhY2UgQ0RQLlVJIHtcclxuXHJcbiAgICBpbXBvcnQgX0NvbmZpZyAgPSBDRFAuVUkuTGlzdFZpZXdHbG9iYWxDb25maWc7XHJcbiAgICBpbXBvcnQgX1V0aWxzICAgPSBDRFAuVUkuX0xpc3RWaWV3VXRpbHM7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlVJLlNjcm9sbE1hbmFnZXJdIFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIFNjcm9sbE1hbmFnZXJcclxuICAgICAqIEBicmllZiDjg6Hjg6Ljg6rnrqHnkIbjgpLooYzjgYbjgrnjgq/jg63jg7zjg6vlh6bnkIbjga7jgrPjgqLjg63jgrjjg4Pjgq/lrp/oo4Xjgq/jg6njgrlcclxuICAgICAqICAgICAgICDmnKzjgq/jg6njgrnjga8gSUxpc3RWaWV3IOOCpOODs+OCv+ODvOODleOCp+OCpOOCueOCkuaMgeOBoSBET00g44Gr44Ki44Kv44K744K544GZ44KL44GM44CBQmFja2JvbmUuVmlldyDjgpLntpnmib/jgZfjgarjgYRcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGNsYXNzIFNjcm9sbE1hbmFnZXIgaW1wbGVtZW50cyBJTGlzdFZpZXdGcmFtZXdvcmssIElTY3JvbGxhYmxlLCBJQmFja3VwUmVzdG9yZSB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgXyRyb290OiBKUXVlcnkgPSBudWxsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyE8IFNjcm9sbCDlr77osaHjga7jg6vjg7zjg4jjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAgICBwcml2YXRlIF8kbWFwOiBKUXVlcnkgPSBudWxsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8hPCBTY3JvbGwgTWFwIGVsZW1lbnQg44KS5qC857SNXHJcbiAgICAgICAgcHJpdmF0ZSBfbWFwSGVpZ2h0OiBudW1iZXIgPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vITwgU2Nyb2xsIE1hcCDjga7pq5jjgZXjgpLmoLzntI0gKF8kbWFwIOOBrueKtuaFi+OBq+S+neWtmOOBleOBm+OBquOBhClcclxuICAgICAgICBwcml2YXRlIF9zY3JvbGxlcjogSVNjcm9sbGVyID0gbnVsbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8hPCBTY3JvbGwg44Gr5L2/55So44GZ44KLIElTY3JvbGxlciDjgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAgICBwcml2YXRlIF9zZXR0aW5nczogTGlzdFZpZXdPcHRpb25zID0gbnVsbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8hPCBTY3JvbGxNYW5hZ2VyIOOCquODl+OCt+ODp+ODs+OCkuagvOe0jVxyXG4gICAgICAgIHByaXZhdGUgX2FjdGl2ZSA9IHRydWU7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyE8IFVJIOihqOekuuS4reOBryB0cnVlIOOBq+aMh+WumlxyXG4gICAgICAgIHByaXZhdGUgX3Njcm9sbEV2ZW50SGFuZGxlcjogKGV2ZW50OiBKUXVlcnkuRXZlbnQpID0+IHZvaWQgPSBudWxsOyAgICAgLy8hPCBTY3JvbGwgRXZlbnQgSGFuZGxlclxyXG4gICAgICAgIHByaXZhdGUgX3Njcm9sbFN0b3BFdmVudEhhbmRsZXI6IChldmVudDogSlF1ZXJ5LkV2ZW50KSA9PiB2b2lkID0gbnVsbDsgLy8hPCBTY3JvbGwgU3RvcCBFdmVudCBIYW5kbGVyXHJcbiAgICAgICAgcHJpdmF0ZSBfYmFzZUhlaWdodDogbnVtYmVyID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vITwg6auY44GV44Gu5Z+65rqW5YCkXHJcbiAgICAgICAgcHJpdmF0ZSBfbGluZXM6IExpbmVQcm9maWxlW10gPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vITwg566h55CG5LiL44Gr44GC44KLIExpbmVQcm9maWxlIOmFjeWIl1xyXG4gICAgICAgIHByaXZhdGUgX3BhZ2VzOiBQYWdlUHJvZmlsZVtdID0gW107ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyE8IOeuoeeQhuS4i+OBq+OBguOCiyBQYWdlUHJvZmlsZSDphY3liJdcclxuICAgICAgICAvLyEg5pyA5paw44Gu6KGo56S66aCY5Z+f5oOF5aCx44KS5qC857SNIChTY3JvbGwg5Lit44Gu5pu05paw5Yem55CG44Gr5L2/55SoKVxyXG4gICAgICAgIHByaXZhdGUgX2xhc3RBY3RpdmVQYWdlQ29udGV4dCA9IHtcclxuICAgICAgICAgICAgaW5kZXg6IDAsXHJcbiAgICAgICAgICAgIGZyb206IDAsXHJcbiAgICAgICAgICAgIHRvOiAwLFxyXG4gICAgICAgICAgICBwb3M6IDAsICAgIC8vIHNjcm9sbCBwb3NpdGlvblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcHJvdGVjdGVkIF9iYWNrdXAgPSB7fTsgICAgLy8hPCDjg4fjg7zjgr/jga4gYmFja3VwIOmgmOWfny4ga2V5IOOBqCBfbGluZXMg44KS5qC857SN44CC5rS+55Sf44Kv44Op44K544Gn5ouh5by15Y+v6IO944CCXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGNvbnN0cnVjdG9yXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gXyRyb290ICB7SlF1ZXJ5fSBbaW5dIOeuoeeQhuWvvuixoeOBruODq+ODvOODiOOCqOODrOODoeODs+ODiFxyXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zIHtMaXN0Vmlld09wdGlvbnN9IFtpbl0g44Kq44OX44K344On44OzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3RydWN0b3Iob3B0aW9ucz86IExpc3RWaWV3T3B0aW9ucykge1xyXG4gICAgICAgICAgICAvLyBMaXN0Vmlld09wdGlvbnMg5pei5a6a5YCkXHJcbiAgICAgICAgICAgIGNvbnN0IGRlZk9wdGlvbnM6IExpc3RWaWV3T3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbGVyRmFjdG9yeTogU2Nyb2xsZXJOYXRpdmUuZ2V0RmFjdG9yeSgpLFxyXG4gICAgICAgICAgICAgICAgZW5hYmxlSGlkZGVuUGFnZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBlbmFibGVUcmFuc2Zvcm1PZmZzZXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsTWFwUmVmcmVzaEludGVydmFsOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxSZWZyZXNoRGlzdGFuY2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIHBhZ2VQcmVwYXJlQ291bnQ6IDMsXHJcbiAgICAgICAgICAgICAgICBwYWdlUHJlbG9hZENvdW50OiAxLFxyXG4gICAgICAgICAgICAgICAgZW5hYmxlQW5pbWF0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uRHVyYXRpb246IDAsXHJcbiAgICAgICAgICAgICAgICBiYXNlRGVwdGg6IFwiYXV0b1wiLFxyXG4gICAgICAgICAgICAgICAgaXRlbVRhZ05hbWU6IFwiZGl2XCIsXHJcbiAgICAgICAgICAgICAgICByZW1vdmVJdGVtV2l0aFRyYW5zaXRpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICB1c2VEdW1teUluYWN0aXZlU2Nyb2xsTWFwOiBmYWxzZSxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIOioreWumuagvOe0jVxyXG4gICAgICAgICAgICB0aGlzLl9zZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCBkZWZPcHRpb25zLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOOCueOCr+ODreODvOODq+OCpOODmeODs+ODiFxyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxFdmVudEhhbmRsZXIgPSAoZXZlbnQ6IEpRdWVyeS5FdmVudCk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblNjcm9sbCh0aGlzLl9zY3JvbGxlci5nZXRQb3MoKSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIOOCueOCr+ODreODvOODq+WBnOatouOCpOODmeODs+ODiFxyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxTdG9wRXZlbnRIYW5kbGVyID0gKGV2ZW50OiBKUXVlcnkuRXZlbnQpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25TY3JvbGxTdG9wKHRoaXMuX3Njcm9sbGVyLmdldFBvcygpKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gcHVibGljIG1ldGhvZFxyXG5cclxuICAgICAgICAvLyEg5YaF6YOo44Kq44OW44K444Kn44Kv44OI44Gu5Yid5pyf5YyWXHJcbiAgICAgICAgcHVibGljIGluaXRpYWxpemUoJHJvb3Q6IEpRdWVyeSwgaGVpZ2h0OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgLy8g5pei44Gr5qeL56+J44GV44KM44Gm44GE44Gf5aC05ZCI44Gv56C05qOEXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl8kcm9vdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuXyRyb290ID0gJHJvb3Q7XHJcbiAgICAgICAgICAgIHRoaXMuXyRtYXAgPSAkcm9vdC5oYXNDbGFzcyhfQ29uZmlnLlNDUk9MTF9NQVBfQ0xBU1MpID8gJHJvb3QgOiAkcm9vdC5maW5kKF9Db25maWcuU0NST0xMX01BUF9TRUxFQ1RPUik7XHJcbiAgICAgICAgICAgIC8vIF8kbWFwIOOBjOeEoeOBhOWgtOWQiOOBr+WIneacn+WMluOBl+OBquOBhFxyXG4gICAgICAgICAgICBpZiAodGhpcy5fJG1hcC5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fJHJvb3QgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxlciA9IHRoaXMuY3JlYXRlU2Nyb2xsZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRCYXNlSGVpZ2h0KGhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U2Nyb2xsZXJDb25kaXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOWGhemDqOOCquODluOCuOOCp+OCr+ODiOOBruegtOajhFxyXG4gICAgICAgIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2Nyb2xsZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRTY3JvbGxlckNvbmRpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl8kbWFwID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fJHJvb3QgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOODmuODvOOCuOOBruWfuua6luWApOOCkuWPluW+l1xyXG4gICAgICAgIHB1YmxpYyBzZXRCYXNlSGVpZ2h0KGhlaWdodDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Jhc2VIZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9iYXNlSGVpZ2h0IDw9IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcgKyBcImludmFsaWQgYmFzZSBoZWlnaHQ6IFwiICsgdGhpcy5fYmFzZUhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Njcm9sbGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zY3JvbGxlci51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIGFjdGl2ZSDnirbmhYvoqK3lrppcclxuICAgICAgICBwdWJsaWMgc2V0QWN0aXZlU3RhdGUoYWN0aXZlOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IGFjdGl2ZTtcclxuICAgICAgICAgICAgdGhpcy50cmVhdFNjcm9sbFBvc2l0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgYWN0aXZlIOeKtuaFi+WIpOWumlxyXG4gICAgICAgIHB1YmxpYyBpc0FjdGl2ZSgpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBzY3JvbGxlciDjga7nqK7poZ7jgpLlj5blvpdcclxuICAgICAgICBwdWJsaWMgZ2V0U2Nyb2xsZXJUeXBlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPGFueT50aGlzLl9zZXR0aW5ncy5zY3JvbGxlckZhY3RvcnkpLnR5cGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDnirbmhYvjgavlv5zjgZjjgZ/jgrnjgq/jg63jg7zjg6vkvY3nva7jga7kv53lrZgv5b6p5YWDXHJcbiAgICAgICAgICogY2RwLnVpLmZzLmpzOiBQYWdlVGFiTGlzdFZpZXcg44GM5a6f6aiT55qE44Gr5L2/55SoXHJcbiAgICAgICAgICogVE9ETzog4oC7aXNjcm9sbCDjga/mnKrlr77lv5xcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgdHJlYXRTY3JvbGxQb3NpdGlvbigpOiB2b2lkIHtcclxuICAgICAgICAgICAgbGV0IGk6IG51bWJlcjtcclxuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0ge307XHJcblxyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVPZmZzZXQgPSAoJHRhcmdldDogSlF1ZXJ5LCBvZmZzZXQ/OiBudW1iZXIpOiBKUXVlcnkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0IHx8ICh0aGlzLl9zY3JvbGxlci5nZXRQb3MoKSAtIHRoaXMuX2xhc3RBY3RpdmVQYWdlQ29udGV4dC5wb3MpO1xyXG4gICAgICAgICAgICAgICAgaWYgKF9VdGlscy5nZXRDc3NNYXRyaXhWYWx1ZSgkdGFyZ2V0LCBcInRyYW5zbGF0ZVlcIikgIT09IG9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBfVXRpbHMuY3NzUHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtW19VdGlscy5jc3NQcmVmaXhlc1tpXSArIFwidHJhbnNmb3JtXCJdID0gXCJ0cmFuc2xhdGUzZCgwcHgsXCIgKyBvZmZzZXQgKyBcInB4LDBweClcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHRhcmdldC5jc3ModHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHRhcmdldDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNsZWFyT2Zmc2V0ID0gKCR0YXJnZXQ6IEpRdWVyeSk6IEpRdWVyeSA9PiB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX1V0aWxzLmNzc1ByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtW19VdGlscy5jc3NQcmVmaXhlc1tpXSArIFwidHJhbnNmb3JtXCJdID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICR0YXJnZXQuY3NzKHRyYW5zZm9ybSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJHRhcmdldDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIC8vIOS7peS4i+OBruOCueOCs+ODvOODl+OBruWHpueQhuOBq+WvvuOBl+OBpueUu+mdouabtOaWsOOCkjHlm57jgavjgafjgY3jgarjgYTjgZ/jgoHjgIFKQiwgSUNTIOOBp+OBr+OBoeOCieOBpOOBjeOBjOeZuueUn+OBmeOCi+OAgktpdGthdCDku6XpmY3jga/oia/lpb3jgIJcclxuICAgICAgICAgICAgICAgICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Njcm9sbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbGVyLnNjcm9sbFRvKHRoaXMuX2xhc3RBY3RpdmVQYWdlQ29udGV4dC5wb3MsIGZhbHNlLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJPZmZzZXQodGhpcy5fJG1hcCkuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG4gICAgICAgICAgICAgICAgfSkoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy51c2VEdW1teUluYWN0aXZlU2Nyb2xsTWFwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVwYXJlSW5hY3RpdmVNYXAoKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy51c2VEdW1teUluYWN0aXZlU2Nyb2xsTWFwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlT2Zmc2V0KHRoaXMucHJlcGFyZUluYWN0aXZlTWFwKCkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVPZmZzZXQodGhpcy5fJG1hcCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBpbmFjdGl2ZSDnlKggTWFwIOOBrueUn+aIkFxyXG4gICAgICAgIHByaXZhdGUgcHJlcGFyZUluYWN0aXZlTWFwKCk6IEpRdWVyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0ICRwYXJlbnQgPSB0aGlzLl8kbWFwLnBhcmVudCgpO1xyXG4gICAgICAgICAgICBsZXQgJGluYWN0aXZlTWFwID0gJHBhcmVudC5maW5kKF9Db25maWcuSU5BQ1RJVkVfQ0xBU1NfU0VMRUNUT1IpO1xyXG4gICAgICAgICAgICBpZiAoJGluYWN0aXZlTWFwLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UGFnZUluZGV4ID0gdGhpcy5nZXRQYWdlSW5kZXgoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0ICRsaXN0SXRlbVZpZXdzID0gdGhpcy5fJG1hcC5jbG9uZSgpLmNoaWxkcmVuKCkuZmlsdGVyKChpbmRleDogbnVtYmVyLCBlbGVtZW50OiBIVE1MRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IH5+JChlbGVtZW50KS5hdHRyKF9Db25maWcuREFUQV9QQUdFX0lOREVYKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBhZ2VJbmRleCAtIDEgPD0gcGFnZUluZGV4IHx8IHBhZ2VJbmRleCA8PSBjdXJyZW50UGFnZUluZGV4ICsgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkaW5hY3RpdmVNYXAgPSAkKFwiPHNlY3Rpb24gY2xhc3M9J1wiICsgX0NvbmZpZy5TQ1JPTExfTUFQX0NMQVNTICsgXCIgXCIgKyBfQ29uZmlnLklOQUNUSVZFX0NMQVNTICsgXCInPjwvc2VjdGlvbj5cIilcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCRsaXN0SXRlbVZpZXdzKVxyXG4gICAgICAgICAgICAgICAgICAgIC5oZWlnaHQodGhpcy5fbWFwSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICRwYXJlbnQuYXBwZW5kKCRpbmFjdGl2ZU1hcCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl8kbWFwLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAkaW5hY3RpdmVNYXA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIEltcGxlbWVudHM6IElMaXN0VmlldyDjg5fjg63jg5XjgqHjgqTjg6vnrqHnkIZcclxuXHJcbiAgICAgICAgLy8hIOWIneacn+WMlua4iOOBv+OBi+WIpOWumlxyXG4gICAgICAgIGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiAhIXRoaXMuXyRyb290O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOODl+ODreODkeODhuOCo+OCkuaMh+WumuOBl+OBpuOAgUxpbmVQcm9maWxlIOOCkueuoeeQhlxyXG4gICAgICAgIGFkZEl0ZW0oXHJcbiAgICAgICAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgICAgICAgICBpbml0aWFsaXplcjogbmV3IChvcHRpb25zPzogYW55KSA9PiBCYXNlTGlzdEl0ZW1WaWV3LFxyXG4gICAgICAgICAgICBpbmZvOiBhbnksXHJcbiAgICAgICAgICAgIGluc2VydFRvPzogbnVtYmVyXHJcbiAgICAgICAgKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZExpbmUobmV3IExpbmVQcm9maWxlKHRoaXMsIE1hdGguZmxvb3IoaGVpZ2h0KSwgaW5pdGlhbGl6ZXIsIGluZm8pLCBpbnNlcnRUbyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44OX44Ot44OR44OG44Kj44KS5oyH5a6a44GX44Gm44CBTGluZVByb2ZpbGUg44KS566h55CGLiDnmbvpjLIgZnJhbWV3b3JrIOOBjOS9v+eUqOOBmeOCi1xyXG4gICAgICAgIHB1YmxpYyBfYWRkTGluZShfbGluZTogYW55LCBpbnNlcnRUbz86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgICAgICBjb25zdCBsaW5lczogTGluZVByb2ZpbGVbXSA9IChfbGluZSBpbnN0YW5jZW9mIEFycmF5KSA/IDxMaW5lUHJvZmlsZVtdPl9saW5lIDogW19saW5lXTtcclxuICAgICAgICAgICAgbGV0IGk6IG51bWJlciwgbjogbnVtYmVyO1xyXG4gICAgICAgICAgICBsZXQgZGVsdGFIZWlnaHQgPSAwO1xyXG4gICAgICAgICAgICBsZXQgYWRkVGFpbCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKG51bGwgPT0gaW5zZXJ0VG8pIHtcclxuICAgICAgICAgICAgICAgIGluc2VydFRvID0gdGhpcy5fbGluZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5zZXJ0VG8gPT09IHRoaXMuX2xpbmVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgYWRkVGFpbCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNjcm9sbCBtYXAg44Gu5pu05pawXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIG4gPSBsaW5lcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGRlbHRhSGVpZ2h0ICs9IGxpbmVzW2ldLmhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNjcm9sbE1hcEhlaWdodChkZWx0YUhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICAvLyDmjL/lhaVcclxuICAgICAgICAgICAgZm9yIChpID0gbGluZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVzLnNwbGljZShpbnNlcnRUbywgMCwgbGluZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBwYWdlIOioreWumuOBruino+mZpFxyXG4gICAgICAgICAgICBpZiAoIWFkZFRhaWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICgwID09PSBpbnNlcnRUbykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJQYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG51bGwgIT0gdGhpcy5fbGluZXNbaW5zZXJ0VG8gLSAxXS5wYWdlSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyUGFnZSh0aGlzLl9saW5lc1tpbnNlcnRUbyAtIDFdLnBhZ2VJbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIG9mZnNldCDjga7lho3oqIjnrpdcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVQcm9maWxlcyhpbnNlcnRUbyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5oyH5a6a44GX44GfIEl0ZW0g44KS5YmK6ZmkXHJcbiAgICAgICAgcmVtb3ZlSXRlbShpbmRleDogbnVtYmVyLCBzaXplPzogbnVtYmVyLCBkZWxheT86IG51bWJlcik6IHZvaWQ7XHJcbiAgICAgICAgcmVtb3ZlSXRlbShpbmRleDogbnVtYmVyW10sIGRlbGF5PzogbnVtYmVyKTogdm9pZDtcclxuICAgICAgICByZW1vdmVJdGVtKGluZGV4OiBhbnksIGFyZzI/OiBudW1iZXIsIGFyZzM/OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKGluZGV4IGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZUxpbmVzKGluZGV4LCBhcmcyKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZUxpbmUoaW5kZXgsIGFyZzIsIGFyZzMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5oyH5a6a44GX44GfIExpbmVQcm9maWxlIOOCkuWJiumZpDog6YCj57aaIGluZGV4IOeJiFxyXG4gICAgICAgIHB1YmxpYyBfcmVtb3ZlTGluZShpbmRleDogbnVtYmVyLCBzaXplPzogbnVtYmVyLCBkZWxheT86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PSBzaXplKSB7XHJcbiAgICAgICAgICAgICAgICBzaXplID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5kZXggPCAwIHx8IHRoaXMuX2xpbmVzLmxlbmd0aCA8IGluZGV4ICsgc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihUQUcgKyBcImxvZ2ljIGVycm9yLiByZW1vdmVJdGVtKCksIGludmFsaWQgaW5kZXg6IFwiICsgaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkZWxheSA9IChudWxsICE9IGRlbGF5KSA/IGRlbGF5IDogMDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlbW92ZWQ6IExpbmVQcm9maWxlW10gPSBbXTtcclxuICAgICAgICAgICAgbGV0IGRlbHRhID0gMDtcclxuICAgICAgICAgICAgbGV0IG1hcFRyYW5zaXRpb24gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vIOWJiumZpOWAmeijnOOBqOWkieWMlumHj+OBrueul+WHulxyXG4gICAgICAgICAgICAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxpbmU6IExpbmVQcm9maWxlO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lID0gdGhpcy5fbGluZXNbaW5kZXggKyBpXTtcclxuICAgICAgICAgICAgICAgICAgICBkZWx0YSArPSBsaW5lLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAvLyDliYrpmaTopoHntKDjga4gei1pbmRleCDjga7liJ3mnJ/ljJZcclxuICAgICAgICAgICAgICAgICAgICBsaW5lLnJlc2V0RGVwdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVkLnB1c2gobGluZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyDoh6rli5XoqK3lrprjg7vliYrpmaTpgYXlu7bmmYLplpPjgYzoqK3lrprjgZXjgozjgYvjgaTjgIHjgrnjgq/jg63jg7zjg6vjg53jgrjjgrfjg6fjg7PjgavlpInmm7TjgYzjgYLjgovloLTlkIjjga8gdHJhbnNpdGlvbiDoqK3lrppcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5yZW1vdmVJdGVtV2l0aFRyYW5zaXRpb24gJiYgKDAgPCBkZWxheSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5nZXRTY3JvbGxQb3MoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NNYXggPSB0aGlzLmdldFNjcm9sbFBvc01heCgpIC0gZGVsdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwVHJhbnNpdGlvbiA9IChwb3NNYXggPCBjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOabtOaWsFxyXG4gICAgICAgICAgICAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gdHJhbnNpdGlvbiDoqK3lrppcclxuICAgICAgICAgICAgICAgIGlmIChtYXBUcmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR1cFNjcm9sbE1hcFRyYW5zaXRpb24odGhpcy5fJG1hcCwgZGVsYXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gcGFnZSDoqK3lrprjga7op6PpmaRcclxuICAgICAgICAgICAgICAgIGlmIChudWxsICE9IHRoaXMuX2xpbmVzW2luZGV4XS5wYWdlSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyUGFnZSh0aGlzLl9saW5lc1tpbmRleF0ucGFnZUluZGV4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIOOCueOCr+ODreODvOODq+mgmOWfn+OBruabtOaWsFxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTY3JvbGxNYXBIZWlnaHQoLWRlbHRhKTtcclxuICAgICAgICAgICAgICAgIC8vIOmFjeWIl+OBi+OCieWJiumZpFxyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZXMuc3BsaWNlKGluZGV4LCBzaXplKTtcclxuICAgICAgICAgICAgICAgIC8vIG9mZnNldCDjga7lho3oqIjnrpdcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUHJvZmlsZXMoaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgLy8g6YGF5bu25YmK6ZmkXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVkLmZvckVhY2goKGxpbmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZS5pbmFjdGl2YXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgICAgICAgIH0pKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5oyH5a6a44GX44GfIExpbmVQcm9maWxlIOOCkuWJiumZpDogcmFuZG9tIGFjY2VzcyDniYhcclxuICAgICAgICBwdWJsaWMgX3JlbW92ZUxpbmVzKGluZGV4ZXM6IG51bWJlcltdLCBkZWxheT86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgICAgICBkZWxheSA9IChudWxsICE9IGRlbGF5KSA/IGRlbGF5IDogMDtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBuID0gaW5kZXhlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChpIDwgMCB8fCB0aGlzLl9saW5lcy5sZW5ndGggPCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihUQUcgKyBcImxvZ2ljIGVycm9yLiByZW1vdmVJdGVtKCksIGludmFsaWQgaW5kZXg6IFwiICsgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZW1vdmVkOiBMaW5lUHJvZmlsZVtdID0gW107XHJcbiAgICAgICAgICAgIGxldCBkZWx0YSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBtYXBUcmFuc2l0aW9uID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyDliYrpmaTlgJnoo5zjgajlpInljJbph4/jga7nrpflh7pcclxuICAgICAgICAgICAgKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBsaW5lOiBMaW5lUHJvZmlsZTtcclxuICAgICAgICAgICAgICAgIGluZGV4ZXMuZm9yRWFjaCgoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSB0aGlzLl9saW5lc1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsdGEgKz0gbGluZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5YmK6Zmk6KaB57Sg44GuIHotaW5kZXgg44Gu5Yid5pyf5YyWXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZS5yZXNldERlcHRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZC5wdXNoKGxpbmUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyDoh6rli5XoqK3lrprjg7vliYrpmaTpgYXlu7bmmYLplpPjgYzoqK3lrprjgZXjgozjgYvjgaTjgIHjgrnjgq/jg63jg7zjg6vjg53jgrjjgrfjg6fjg7PjgavlpInmm7TjgYzjgYLjgovloLTlkIjjga8gdHJhbnNpdGlvbiDoqK3lrppcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5yZW1vdmVJdGVtV2l0aFRyYW5zaXRpb24gJiYgKDAgPCBkZWxheSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5nZXRTY3JvbGxQb3MoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NNYXggPSB0aGlzLmdldFNjcm9sbFBvc01heCgpIC0gZGVsdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwVHJhbnNpdGlvbiA9IChwb3NNYXggPCBjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOabtOaWsFxyXG4gICAgICAgICAgICAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gdHJhbnNpdGlvbiDoqK3lrppcclxuICAgICAgICAgICAgICAgIGlmIChtYXBUcmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR1cFNjcm9sbE1hcFRyYW5zaXRpb24odGhpcy5fJG1hcCwgZGVsYXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5kZXhlcy5mb3JFYWNoKChpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFnZSDoqK3lrprjga7op6PpmaRcclxuICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSB0aGlzLl9saW5lc1tpbmRleF0ucGFnZUluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJQYWdlKHRoaXMuX2xpbmVzW2luZGV4XS5wYWdlSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyDphY3liJfjgYvjgonliYrpmaRcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saW5lcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldCDjga7lho3oqIjnrpdcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVByb2ZpbGVzKGluZGV4KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8g44K544Kv44Ot44O844Or6aCY5Z+f44Gu5pu05pawXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNjcm9sbE1hcEhlaWdodCgtZGVsdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8g6YGF5bu25YmK6ZmkXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVkLmZvckVhY2goKGxpbmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZS5pbmFjdGl2YXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgICAgICAgIH0pKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgc2Nyb2xsIG1hcCDjga7jg4jjg6njg7Pjgrjjgrfjg6fjg7PoqK3lrppcclxuICAgICAgICBwcml2YXRlIHNldHVwU2Nyb2xsTWFwVHJhbnNpdGlvbigkbWFwOiBKUXVlcnksIGRlbGF5OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAgICAgY29uc3QgdHJhbnNpdGlvbkVuZEhhbmRsZXIgPSAoZXZlbnQ6IEpRdWVyeS5FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJG1hcC5vZmYoX1V0aWxzLnRyYW5zaXRpb25FbmQpO1xyXG4gICAgICAgICAgICAgICAgX1V0aWxzLmNsZWFyVHJhbnNpdGlvbnMoJG1hcCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuXyRtYXAub24oX1V0aWxzLnRyYW5zaXRpb25FbmQsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcclxuICAgICAgICAgICAgX1V0aWxzLnNldFRyYW5zZm9ybXNUcmFuc2l0aW9ucygkbWFwLCBcImhlaWdodFwiLCBkZWxheSwgXCJlYXNlXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOaMh+WumuOBl+OBnyBJdGVtIOOBq+ioreWumuOBl+OBn+aDheWgseOCkuWPluW+l1xyXG4gICAgICAgIGdldEl0ZW1JbmZvKHRhcmdldDogbnVtYmVyKTogYW55O1xyXG4gICAgICAgIGdldEl0ZW1JbmZvKHRhcmdldDogSlF1ZXJ5LkV2ZW50KTogYW55O1xyXG4gICAgICAgIGdldEl0ZW1JbmZvKHRhcmdldDogYW55KTogYW55IHtcclxuICAgICAgICAgICAgbGV0IGluZGV4OiBudW1iZXI7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwYXJzZXIgPSAoJHRhcmdldDogSlF1ZXJ5KTogbnVtYmVyID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICgkdGFyZ2V0Lmhhc0NsYXNzKF9Db25maWcuTElTVElURU1fQkFTRV9DTEFTUykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gfn4kdGFyZ2V0LmF0dHIoX0NvbmZpZy5EQVRBX0NPTlRBSU5FUl9JTkRFWCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCR0YXJnZXQuaGFzQ2xhc3MoX0NvbmZpZy5TQ1JPTExfTUFQX0NMQVNTKSB8fCAkdGFyZ2V0Lmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRyArIFwiY2Fubm90IGRpdGVjdCBsaW5lIGZyb20gZXZlbnQgb2JqZWN0LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlcigkdGFyZ2V0LnBhcmVudCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiAkLkV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IHBhcnNlcigkKHRhcmdldC5jdXJyZW50VGFyZ2V0KSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSB0YXJnZXQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChudWxsID09IGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFRBRyArIFwibG9naWMgZXJyb3IuIHVuc3VwcG9ydGVkIGFyZyB0eXBlLiB0eXBlOiBcIiArIHR5cGVvZiB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPCAwIHx8IHRoaXMuX2xpbmVzLmxlbmd0aCA8PSBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihUQUcgKyBcImxvZ2ljIGVycm9yLiBpbnZhbGlkIHJhbmdlLiBpbmRleDogXCIgKyBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVzW2luZGV4XS5pbmZvO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOOCouOCr+ODhuOCo+ODluODmuODvOOCuOOCkuabtOaWsFxyXG4gICAgICAgIHJlZnJlc2goKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldHM6IGFueSA9IHt9O1xyXG4gICAgICAgICAgICBjb25zdCBzZWFyY2hDb3VudCA9IHRoaXMuX3NldHRpbmdzLnBhZ2VQcmVwYXJlQ291bnQgKyB0aGlzLl9zZXR0aW5ncy5wYWdlUHJlbG9hZENvdW50O1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UGFnZUluZGV4ID0gdGhpcy5nZXRQYWdlSW5kZXgoKTtcclxuICAgICAgICAgICAgY29uc3QgaGlnaFByaW9yaXR5SW5kZXg6IG51bWJlcltdID0gW107XHJcblxyXG4gICAgICAgICAgICBjb25zdCBvbGRFeHNpc3RQYWdlID0gXy5maWx0ZXIodGhpcy5fcGFnZXMsIChwYWdlOiBQYWdlUHJvZmlsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiaW5hY3RpdmVcIiAhPT0gcGFnZS5zdGF0dXM7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY2hhbmdlU3RhdGUgPSAoaW5kZXg6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSBjdXJyZW50UGFnZUluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0c1tpbmRleF0gPSBcImFjdGl2YXRlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlnaFByaW9yaXR5SW5kZXgucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9VdGlscy5hYnMoY3VycmVudFBhZ2VJbmRleCAtIGluZGV4KSA8PSB0aGlzLl9zZXR0aW5ncy5wYWdlUHJlcGFyZUNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0c1tpbmRleF0gPSBcImFjdGl2YXRlXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zZXR0aW5ncy5lbmFibGVIaWRkZW5QYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHNbaW5kZXhdID0gXCJoaWRlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0c1tpbmRleF0gPSBcImFjdGl2YXRlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gY3VycmVudCBwYWdlIOOBriDliY3lvozjga8gaGlnaCBwcmlvcml0eSDjgavjgZnjgotcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZUluZGV4ICsgMSA9PT0gaW5kZXggfHwgY3VycmVudFBhZ2VJbmRleCAtIDEgPT09IGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGlnaFByaW9yaXR5SW5kZXgucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyDlr77osaHnhKHjgZdcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2xpbmVzLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGFnZUluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBvdmVyZmxvd1ByZXYgPSAwLCBvdmVyZmxvd05leHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYmVnaW5JbmRleCA9IGN1cnJlbnRQYWdlSW5kZXggLSBzZWFyY2hDb3VudDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gY3VycmVudFBhZ2VJbmRleCArIHNlYXJjaENvdW50O1xyXG4gICAgICAgICAgICAgICAgZm9yIChwYWdlSW5kZXggPSBiZWdpbkluZGV4OyBwYWdlSW5kZXggPD0gZW5kSW5kZXg7IHBhZ2VJbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VJbmRleCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dQcmV2Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGFnZXMubGVuZ3RoIDw9IHBhZ2VJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd05leHQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZVN0YXRlKHBhZ2VJbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKDAgPCBvdmVyZmxvd1ByZXYpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBwYWdlSW5kZXggPSBjdXJyZW50UGFnZUluZGV4ICsgc2VhcmNoQ291bnQgKyAxOyBpIDwgb3ZlcmZsb3dQcmV2OyBpKysgLCBwYWdlSW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGFnZXMubGVuZ3RoIDw9IHBhZ2VJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlU3RhdGUocGFnZUluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKDAgPCBvdmVyZmxvd05leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBwYWdlSW5kZXggPSBjdXJyZW50UGFnZUluZGV4IC0gc2VhcmNoQ291bnQgLSAxOyBpIDwgb3ZlcmZsb3dOZXh0OyBpKysgLCBwYWdlSW5kZXgtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZUluZGV4IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlU3RhdGUocGFnZUluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pKCk7XHJcblxyXG4gICAgICAgICAgICAvLyDkuI3opoHjgavjgarjgaPjgZ8gcGFnZSDjga4gaW5hY3RpdmF0ZVxyXG4gICAgICAgICAgICBvbGRFeHNpc3RQYWdlLmZvckVhY2goKHBhZ2U6IFBhZ2VQcm9maWxlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHBhZ2UuaW5kZXg7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSB0YXJnZXRzW2luZGV4XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2UuaW5hY3RpdmF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIOWEquWFiCBwYWdlIOOBriBhY3RpdmF0ZVxyXG4gICAgICAgICAgICBoaWdoUHJpb3JpdHlJbmRleFxyXG4gICAgICAgICAgICAgICAgLnNvcnQoKGxoczogbnVtYmVyLCByaHM6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaHMgPCByaHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGhzID4gcmhzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhZ2VzW2luZGV4XSAmJiB0aGlzLl9wYWdlc1tpbmRleF0uYWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyDjgZ3jga7jgbvjgYvjga4gcGFnZSDjga4g54q25oWL5aSJ5pu0XHJcbiAgICAgICAgICAgIF8uZWFjaCh0YXJnZXRzLCAoYWN0aW9uOiBzdHJpbmcsIGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB+fmtleTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChhY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhY3RpdmF0ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhZ2VzW2luZGV4XSAmJiB0aGlzLl9wYWdlc1tpbmRleF0uYWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJoaWRlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFnZXNbaW5kZXhdICYmIHRoaXMuX3BhZ2VzW2luZGV4XS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5hY3RpdmF0ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcgKyBcInVuZXhwZWN0ZWQgb3BlcmF0aW9uOiBpbmFjdGl2YXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHICsgXCJ1bmtub3duIG9wZXJhdGlvbjogXCIgKyB0YXJnZXRzW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g5pu05paw5b6M44Gr5L2/55So44GX44Gq44GL44Gj44GfIERPTSDjgpLliYrpmaRcclxuICAgICAgICAgICAgdGhpcy5maW5kUmVjeWNsZUVsZW1lbnRzKCkucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9sYXN0QWN0aXZlUGFnZUNvbnRleHQuZnJvbSA9IHRoaXMuX3BhZ2VzW2N1cnJlbnRQYWdlSW5kZXhdLmdldExpbmVQcm9maWxlRmlyc3QoKSA/XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWdlc1tjdXJyZW50UGFnZUluZGV4XS5nZXRMaW5lUHJvZmlsZUZpcnN0KCkuaW5kZXggOiAwO1xyXG4gICAgICAgICAgICB0aGlzLl9sYXN0QWN0aXZlUGFnZUNvbnRleHQudG8gPSB0aGlzLl9wYWdlc1tjdXJyZW50UGFnZUluZGV4XS5nZXRMaW5lUHJvZmlsZUxhc3QoKSA/XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWdlc1tjdXJyZW50UGFnZUluZGV4XS5nZXRMaW5lUHJvZmlsZUxhc3QoKS5pbmRleCA6IDA7XHJcbiAgICAgICAgICAgIHRoaXMuX2xhc3RBY3RpdmVQYWdlQ29udGV4dC5pbmRleCA9IGN1cnJlbnRQYWdlSW5kZXg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5pyq44Ki44K144Kk44Oz44Oa44O844K444KS5qeL56+JXHJcbiAgICAgICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX3BhZ2VzLmxlbmd0aDtcclxuICAgICAgICAgICAgdGhpcy5hc3NpZ25QYWdlKGluZGV4KTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44Oa44O844K444Ki44K144Kk44Oz44KS5YaN5qeL5oiQXHJcbiAgICAgICAgcmVidWlsZCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhclBhZ2UoKTtcclxuICAgICAgICAgICAgdGhpcy5hc3NpZ25QYWdlKCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOeuoei9hOODh+ODvOOCv+OCkuegtOajhFxyXG4gICAgICAgIHJlbGVhc2UoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpbmVzLmZvckVhY2goKGxpbmU6IExpbmVQcm9maWxlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsaW5lLmluYWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhZ2VzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuX2xpbmVzID0gW107XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl8kbWFwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXBIZWlnaHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fJG1hcC5oZWlnaHQoMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gSW1wbGVtZW50czogSUxpc3RWaWV3IEJhY2t1cCAvIFJlc3RvcmVcclxuXHJcbiAgICAgICAgLy8hIOWGhemDqOODh+ODvOOCv+OCkuODkOODg+OCr+OCouODg+ODl1xyXG4gICAgICAgIGJhY2t1cChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PSB0aGlzLl9iYWNrdXBba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYmFja3VwW2tleV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZXM6IHRoaXMuX2xpbmVzLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDlhoXpg6jjg4fjg7zjgr/jgpLjg6rjgrnjg4jjgqJcclxuICAgICAgICByZXN0b3JlKGtleTogc3RyaW5nLCByZWJ1aWxkOiBib29sZWFuID0gdHJ1ZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PSB0aGlzLl9iYWNrdXBba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgwIDwgdGhpcy5fbGluZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2UoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fYWRkTGluZSh0aGlzLl9iYWNrdXBba2V5XS5saW5lcyk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVidWlsZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWJ1aWxkKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOODkOODg+OCr+OCouODg+ODl+ODh+ODvOOCv+OBruacieeEoVxyXG4gICAgICAgIGhhc0JhY2t1cChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBpZiAobnVsbCAhPSB0aGlzLl9iYWNrdXBba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDjg5Djg4Pjgq/jgqLjg4Pjg5fjg4fjg7zjgr/jga7noLTmo4RcclxuICAgICAgICBjbGVhckJhY2t1cChrZXk/OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgaWYgKG51bGwgPT0ga2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9iYWNrdXAgPSB7fTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG51bGwgIT0gdGhpcy5fYmFja3VwW2tleV0pIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9iYWNrdXBba2V5XTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44OQ44OD44Kv44Ki44OD44OX44OH44O844K/44Gr44Ki44Kv44K744K5XHJcbiAgICAgICAgZ2V0IGJhY2t1cERhdGEoKTogYW55IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2t1cDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gSW1wbGVtZW50czogSUxpc3RWaWV3IFNjcm9sbFxyXG5cclxuICAgICAgICAvLyEg44K544Kv44Ot44O844Or44Kk44OZ44Oz44OI44OP44Oz44OJ44Op6Kit5a6aL+ino+mZpFxyXG4gICAgICAgIHNldFNjcm9sbEhhbmRsZXIoaGFuZGxlcjogKGV2ZW50OiBKUXVlcnkuRXZlbnQpID0+IHZvaWQsIG9uOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zY3JvbGxlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsZXIub24oXCJzY3JvbGxcIiwgaGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbGVyLm9mZihcInNjcm9sbFwiLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOOCueOCr+ODreODvOODq+e1guS6huOCpOODmeODs+ODiOODj+ODs+ODieODqeioreWumi/op6PpmaRcclxuICAgICAgICBzZXRTY3JvbGxTdG9wSGFuZGxlcihoYW5kbGVyOiAoZXZlbnQ6IEpRdWVyeS5FdmVudCkgPT4gdm9pZCwgb246IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Njcm9sbGVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob24pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY3JvbGxlci5vbihcInNjcm9sbHN0b3BcIiwgaGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbGVyLm9mZihcInNjcm9sbHN0b3BcIiwgaGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDjgrnjgq/jg63jg7zjg6vkvY3nva7jgpLlj5blvpdcclxuICAgICAgICBnZXRTY3JvbGxQb3MoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbGVyID8gdGhpcy5fc2Nyb2xsZXIuZ2V0UG9zKCkgOiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOOCueOCr+ODreODvOODq+S9jee9ruOBruacgOWkp+WApOOCkuWPluW+l1xyXG4gICAgICAgIGdldFNjcm9sbFBvc01heCgpOiBudW1iZXIge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsZXIgPyB0aGlzLl9zY3JvbGxlci5nZXRQb3NNYXgoKSA6IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44K544Kv44Ot44O844Or5L2N572u44KS5oyH5a6aXHJcbiAgICAgICAgc2Nyb2xsVG8ocG9zOiBudW1iZXIsIGFuaW1hdGU/OiBib29sZWFuLCB0aW1lPzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zY3JvbGxlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvcyA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHICsgXCJpbnZhbGlkIHBvc2l0aW9uLCB0b28gc21hbGwuIFtwb3M6IFwiICsgcG9zICsgXCJdXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX3Njcm9sbGVyLmdldFBvc01heCgpIDwgcG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRyArIFwiaW52YWxpZCBwb3NpdGlvbiwgdG9vIGJpZy4gW3BvczogXCIgKyBwb3MgKyBcIl1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zID0gdGhpcy5fc2Nyb2xsZXIuZ2V0UG9zTWF4KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBwb3Mg44Gu44G/5YWI6aeG44GR44Gm5pu05pawXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0QWN0aXZlUGFnZUNvbnRleHQucG9zID0gcG9zO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvcyAhPT0gdGhpcy5fc2Nyb2xsZXIuZ2V0UG9zKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY3JvbGxlci5zY3JvbGxUbyhwb3MsIGFuaW1hdGUsIHRpbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5oyH5a6a44GV44KM44GfIExpc3RJdGVtVmlldyDjga7ooajnpLrjgpLkv53oqLxcclxuICAgICAgICBlbnN1cmVWaXNpYmxlKGluZGV4OiBudW1iZXIsIG9wdGlvbnM/OiBFbnN1cmVWaXNpYmxlT3B0aW9ucyk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPCAwIHx8IHRoaXMuX2xpbmVzLmxlbmd0aCA8PSBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFRBRyArIFwiZW5zdXJlVmlzaWJsZSgpLCBpbnZhbGlkIGluZGV4LCBub29wLiBbaW5kZXg6IFwiICsgaW5kZXggKyBcIl1cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX3Njcm9sbGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHICsgXCJzY3JvbGxlciBpcyBub3QgcmVhZHkuXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fbGluZXNbaW5kZXhdO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zOiBFbnN1cmVWaXNpYmxlT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsT0s6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VG9wOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRlOiB0aGlzLl9zZXR0aW5ncy5lbmFibGVBbmltYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZTogdGhpcy5fc2V0dGluZ3MuYW5pbWF0aW9uRHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpOiB2b2lkID0+IHsgLyogbm9vcCAqLyB9LFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvbjogRW5zdXJlVmlzaWJsZU9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTY29wZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBmcm9tOiB0aGlzLl9zY3JvbGxlci5nZXRQb3MoKSxcclxuICAgICAgICAgICAgICAgICAgICB0bzogdGhpcy5fc2Nyb2xsZXIuZ2V0UG9zKCkgKyB0aGlzLl9iYXNlSGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldFNjb3BlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyb206IHRhcmdldC5vZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgdG86IHRhcmdldC5vZmZzZXQgKyB0YXJnZXQuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0luU2NvcGUgPSAoKTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wZXJhdGlvbi5wYXJ0aWFsT0spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFNjb3BlLmZyb20gPD0gY3VycmVudFNjb3BlLmZyb20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U2NvcGUuZnJvbSA8PSB0YXJnZXRTY29wZS50bykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0U2NvcGUuZnJvbSA8PSBjdXJyZW50U2NvcGUudG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTY29wZS5mcm9tIDw9IHRhcmdldFNjb3BlLmZyb20gJiYgdGFyZ2V0U2NvcGUudG8gPD0gY3VycmVudFNjb3BlLnRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgZGV0ZWN0UG9zaXRpb24gPSAoKTogbnVtYmVyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0U2NvcGUuZnJvbSA8IGN1cnJlbnRTY29wZS5mcm9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRTY29wZS5mcm9tO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFNjb3BlLmZyb20gPCB0YXJnZXRTY29wZS5mcm9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQub2Zmc2V0IC0gdGFyZ2V0LmhlaWdodDsgLy8gYm90dG9tIOWQiOOCj+OBm+OBr+aDheWgseS4jei2s+OBq+OCiOOCiuS4jeWPr1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcgKyBcImxvZ2ljIGVycm9yLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcG9zOiBudW1iZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG9wZXJhdGlvbi5zZXRUb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3MgPSB0YXJnZXRTY29wZS5mcm9tO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0luU2NvcGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vb3AuXHJcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uLmNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3MgPSBkZXRlY3RQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIOijnOato1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvcyA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9zY3JvbGxlci5nZXRQb3NNYXgoKSA8IHBvcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcyA9IHRoaXMuX3Njcm9sbGVyLmdldFBvc01heCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQob3BlcmF0aW9uLmNhbGxiYWNrLCBvcGVyYXRpb24udGltZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvKHBvcywgb3BlcmF0aW9uLmFuaW1hdGUsIG9wZXJhdGlvbi50aW1lKTtcclxuICAgICAgICAgICAgfSkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gaW1wbGVtZW50czogSUxpc3RWaWV3RnJhbWV3b3JrOlxyXG5cclxuICAgICAgICAvLyEgU2Nyb2xsIE1hcCDjga7pq5jjgZXjgpLlj5blvpdcclxuICAgICAgICBnZXRTY3JvbGxNYXBIZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuXyRtYXAgPyB0aGlzLl9tYXBIZWlnaHQgOiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIFNjcm9sbCBNYXAg44Gu6auY44GV44KS5pu05pawLiBmcmFtZXdvcmsg44GM5L2/55So44GZ44KLLlxyXG4gICAgICAgIHVwZGF0ZVNjcm9sbE1hcEhlaWdodChkZWx0YTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl8kbWFwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXBIZWlnaHQgKz0gZGVsdGE7XHJcbiAgICAgICAgICAgICAgICAvLyBmb3IgZmFpbCBzYWZlLlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hcEhlaWdodCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXBIZWlnaHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fJG1hcC5oZWlnaHQodGhpcy5fbWFwSGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOWGhemDqCBQcm9maWxlIOOBruabtOaWsC4gZnJhbWV3b3JrIOOBjOS9v+eUqOOBmeOCiy5cclxuICAgICAgICB1cGRhdGVQcm9maWxlcyhmcm9tOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAgICAgbGV0IGk6IG51bWJlciwgbjogbnVtYmVyO1xyXG4gICAgICAgICAgICBsZXQgbGFzdDogTGluZVByb2ZpbGU7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IGZyb20sIG4gPSB0aGlzLl9saW5lcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICgwIDwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3QgPSB0aGlzLl9saW5lc1tpIC0gMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGluZXNbaV0uaW5kZXggPSBsYXN0LmluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saW5lc1tpXS5vZmZzZXQgPSBsYXN0Lm9mZnNldCArIGxhc3QuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9saW5lc1tpXS5pbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGluZXNbaV0ub2Zmc2V0ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIFNjcm9sbCBNYXAgRWxlbWVudCDjgpLlj5blvpcuIGZyYW1ld29yayDjgYzkvb/nlKjjgZnjgosuXHJcbiAgICAgICAgZ2V0U2Nyb2xsTWFwRWxlbWVudCgpOiBKUXVlcnkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fJG1hcCB8fCAkKFwiXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOODquOCteOCpOOCr+ODq+WPr+iDveOBqiBFbGVtZW50IOOCkuWPluW+ly4gZnJhbWV3b3JrIOOBjOS9v+eUqOOBmeOCiy5cclxuICAgICAgICBmaW5kUmVjeWNsZUVsZW1lbnRzKCk6IEpRdWVyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl8kbWFwID8gdGhpcy5fJG1hcC5maW5kKF9Db25maWcuUkVDWUNMRV9DTEFTU19TRUxFQ1RPUikgOiAkKFwiXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIExpc3RWaWV3T3B0aW9ucyDjgpLlj5blvpcuIGZyYW1ld29yayDjgYzkvb/nlKjjgZnjgosuXHJcbiAgICAgICAgZ2V0TGlzdFZpZXdPcHRpb25zKCk6IExpc3RWaWV3T3B0aW9ucyB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gcHJpdmF0ZSBtZXRob2Q6XHJcblxyXG4gICAgICAgIC8vISBTY3JvbGxlciDnlKjnkrDlooPoqK3lrppcclxuICAgICAgICBwcml2YXRlIHNldFNjcm9sbGVyQ29uZGl0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxlci5vbihcInNjcm9sbFwiLCB0aGlzLl9zY3JvbGxFdmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxlci5vbihcInNjcm9sbHN0b3BcIiwgdGhpcy5fc2Nyb2xsU3RvcEV2ZW50SGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgU2Nyb2xsZXIg55So55Kw5aKD56C05qOEXHJcbiAgICAgICAgcHJpdmF0ZSByZXNldFNjcm9sbGVyQ29uZGl0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxlci5vZmYoXCJzY3JvbGxzdG9wXCIsIHRoaXMuX3Njcm9sbFN0b3BFdmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxlci5vZmYoXCJzY3JvbGxcIiwgdGhpcy5fc2Nyb2xsRXZlbnRIYW5kbGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDml6Llrprjga4gU2Nyb2xsZXIg44Kq44OW44K444Kn44Kv44OI44Gu5L2c5oiQXHJcbiAgICAgICAgcHJpdmF0ZSBjcmVhdGVTY3JvbGxlcigpOiBJU2Nyb2xsZXIge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3Muc2Nyb2xsZXJGYWN0b3J5KHRoaXMuXyRyb290WzBdLCB0aGlzLl9zZXR0aW5ncyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg54++5Zyo44GuIFBhZ2UgSW5kZXgg44KS5Y+W5b6XXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRQYWdlSW5kZXgoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgbGV0IGk6IG51bWJlciwgbjogbnVtYmVyO1xyXG4gICAgICAgICAgICBsZXQgcGFnZTogUGFnZVByb2ZpbGU7XHJcbiAgICAgICAgICAgIGxldCBjYW5kaWRhdGU6IG51bWJlcjtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbFBvcyA9IHRoaXMuX3Njcm9sbGVyID8gdGhpcy5fc2Nyb2xsZXIuZ2V0UG9zKCkgOiAwO1xyXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxQb3NNYXggPSB0aGlzLl9zY3JvbGxlciA/IHRoaXMuX3Njcm9sbGVyLmdldFBvc01heCgpIDogMDtcclxuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsTWFwU2l6ZSA9ICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0UGFnZSA9IHRoaXMuZ2V0TGFzdFBhZ2UoKTtcclxuICAgICAgICAgICAgICAgIGlmIChudWxsICE9IGxhc3RQYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RQYWdlLm9mZnNldCArIGxhc3RQYWdlLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Jhc2VIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pKCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwb3MgPSAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IHNjcm9sbFBvc01heCB8fCBzY3JvbGxQb3NNYXggPD0gdGhpcy5fYmFzZUhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Nyb2xsUG9zICogc2Nyb2xsTWFwU2l6ZSAvIHNjcm9sbFBvc01heDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkUmFuZ2UgPSAoX3BhZ2U6IFBhZ2VQcm9maWxlKTogYm9vbGVhbiA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBfcGFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3BhZ2Uub2Zmc2V0IDw9IHBvcyAmJiBwb3MgPD0gX3BhZ2Uub2Zmc2V0ICsgX3BhZ2UuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9iYXNlSGVpZ2h0IDw9IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHICsgXCJpbnZhbGlkIGJhc2UgaGVpZ2h0OiBcIiArIHRoaXMuX2Jhc2VIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNhbmRpZGF0ZSA9IE1hdGguZmxvb3IocG9zIC8gdGhpcy5fYmFzZUhlaWdodCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYWdlcy5sZW5ndGggPD0gY2FuZGlkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBjYW5kaWRhdGUgPSB0aGlzLl9wYWdlcy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwYWdlID0gdGhpcy5fcGFnZXNbY2FuZGlkYXRlXTtcclxuICAgICAgICAgICAgaWYgKHZhbGlkUmFuZ2UocGFnZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlLmluZGV4O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBvcyA8IHBhZ2Uub2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBjYW5kaWRhdGUgLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2UgPSB0aGlzLl9wYWdlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRSYW5nZShwYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFnZS5pbmRleDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHICsgXCJ1bmtub3duIHBhZ2UgaW5kZXguXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBjYW5kaWRhdGUgKyAxLCBuID0gdGhpcy5fcGFnZXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZSA9IHRoaXMuX3BhZ2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZFJhbmdlKHBhZ2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWdlLmluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcgKyBcInVua25vd24gcGFnZSBpbmRleC5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFnZXMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog44K544Kv44Ot44O844Or44Kk44OZ44Oz44OIXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gcG9zIHtOdW1iZXJ9IFtpbl0g44K544Kv44Ot44O844Or44Od44K444K344On44OzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBvblNjcm9sbChwb3M6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fYWN0aXZlICYmIDAgPCB0aGlzLl9wYWdlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlSW5kZXggPSB0aGlzLmdldFBhZ2VJbmRleCgpO1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzog6Kq/5pW0XHJcbiAgICAgICAgICAgICAgICBpZiAoX1V0aWxzLmFicyhwb3MgLSB0aGlzLl9sYXN0QWN0aXZlUGFnZUNvbnRleHQucG9zKSA8IHRoaXMuX3NldHRpbmdzLnNjcm9sbFJlZnJlc2hEaXN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sYXN0QWN0aXZlUGFnZUNvbnRleHQuaW5kZXggIT09IGN1cnJlbnRQYWdlSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdEFjdGl2ZVBhZ2VDb250ZXh0LnBvcyA9IHBvcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog44K544Kv44Ot44O844Or5YGc5q2i44Kk44OZ44Oz44OIXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gcG9zIHtOdW1iZXJ9IFtpbl0g44K544Kv44Ot44O844Or44Od44K444K344On44OzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBvblNjcm9sbFN0b3AocG9zOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZSAmJiAwIDwgdGhpcy5fcGFnZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UGFnZUluZGV4ID0gdGhpcy5nZXRQYWdlSW5kZXgoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sYXN0QWN0aXZlUGFnZUNvbnRleHQuaW5kZXggIT09IGN1cnJlbnRQYWdlSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RBY3RpdmVQYWdlQ29udGV4dC5wb3MgPSBwb3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDmnIDlvozjga7jg5rjg7zjgrjjgpLlj5blvpdcclxuICAgICAgICBwcml2YXRlIGdldExhc3RQYWdlKCk6IFBhZ2VQcm9maWxlIHtcclxuICAgICAgICAgICAgaWYgKDAgPCB0aGlzLl9wYWdlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYWdlc1t0aGlzLl9wYWdlcy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDjg5rjg7zjgrjljLrliIbjga7jgqLjgrXjgqTjg7NcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBmcm9tIHtOdW1iZXJ9IFtpbl0gcGFnZSBpbmRleCDjgpLmjIflrppcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcml2YXRlIGFzc2lnblBhZ2UoZnJvbT86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgICAgICBsZXQgaTogbnVtYmVyLCBuOiBudW1iZXI7XHJcbiAgICAgICAgICAgIGlmIChudWxsID09IGZyb20pIHtcclxuICAgICAgICAgICAgICAgIGZyb20gPSAwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclBhZ2UoZnJvbSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGluZUluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIGxldCBsYXN0UGFnZSA9IHRoaXMuZ2V0TGFzdFBhZ2UoKTtcclxuICAgICAgICAgICAgICAgIGxldCBsYXN0TGluZTogTGluZVByb2ZpbGU7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGVtcFBhZ2U6IFBhZ2VQcm9maWxlO1xyXG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT0gbGFzdFBhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0UGFnZSA9IG5ldyBQYWdlUHJvZmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhZ2VzLnB1c2gobGFzdFBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0TGluZSA9IGxhc3RQYWdlLmdldExpbmVQcm9maWxlTGFzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9IGxhc3RMaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVJbmRleCA9IGxhc3RMaW5lLmluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgYXNpZ25lZSA9IHRoaXMuX2xpbmVzLnNsaWNlKGxpbmVJbmRleCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBuID0gYXNpZ25lZS5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYmFzZUhlaWdodCA8PSBsYXN0UGFnZS5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBhZ2Uubm9ybWFsaXplKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBQYWdlID0gbGFzdFBhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBQYWdlID0gbmV3IFBhZ2VQcm9maWxlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBQYWdlLmluZGV4ID0gbGFzdFBhZ2UuaW5kZXggKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wUGFnZS5vZmZzZXQgPSBsYXN0UGFnZS5vZmZzZXQgKyBsYXN0UGFnZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQYWdlID0gdGVtcFBhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhZ2VzLnB1c2gobGFzdFBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBhc2lnbmVlW2ldLnBhZ2VJbmRleCA9IGxhc3RQYWdlLmluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RQYWdlLnB1c2goYXNpZ25lZVtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsYXN0UGFnZS5ub3JtYWxpemUoKTtcclxuICAgICAgICAgICAgfSkoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zY3JvbGxlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsZXIudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOODmuODvOOCuOWMuuWIhuOBruino+mZpFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGZyb20ge051bWJlcn0gW2luXSBwYWdlIGluZGV4IOOCkuaMh+WumlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHByaXZhdGUgY2xlYXJQYWdlKGZyb20/OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKG51bGwgPT0gZnJvbSkge1xyXG4gICAgICAgICAgICAgICAgZnJvbSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fcGFnZXMgPSB0aGlzLl9wYWdlcy5zbGljZSgwLCBmcm9tKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwibmFtZXNwYWNlIENEUC5VSSB7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlVJLkxpc3RWaWV3XSBcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcmZhY2UgTGlzdFZpZXdDb25zdHJ1Y3RPcHRpb25zXHJcbiAgICAgKiBAYnJpZWYgTGlzdFZpZXcg44G444Gu5Yid5pyf5YyW5oOF5aCx44KS5qC857SN44GZ44KL44Kk44Oz44K/44O844OV44Kn44Kk44K544Kv44Op44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgTGlzdFZpZXdDb25zdHJ1Y3RPcHRpb25zPFRNb2RlbCBleHRlbmRzIEJhY2tib25lLk1vZGVsID0gQmFja2JvbmUuTW9kZWw+XHJcbiAgICAgICAgZXh0ZW5kcyBMaXN0Vmlld09wdGlvbnMsIEJhY2tib25lLlZpZXdPcHRpb25zPFRNb2RlbD4ge1xyXG4gICAgICAgICRlbD86IEpRdWVyeTtcclxuICAgICAgICBpbml0aWFsSGVpZ2h0PzogbnVtYmVyOyAgICAvLyE8IOmrmOOBleOBruWIneacn+WApFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIExpc3RWaWV3XHJcbiAgICAgKiBAYnJpZWYg44Oh44Oi44Oq566h55CG5qmf6IO944KS5o+Q5L6b44GZ44KL5Luu5oOz44Oq44K544OI44OT44Ol44O844Kv44Op44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjbGFzcyBMaXN0VmlldzxUTW9kZWwgZXh0ZW5kcyBCYWNrYm9uZS5Nb2RlbCA9IEJhY2tib25lLk1vZGVsPlxyXG4gICAgICAgIGV4dGVuZHMgQmFja2JvbmUuVmlldzxUTW9kZWw+IGltcGxlbWVudHMgSUxpc3RWaWV3LCBJQ29tcG9zYWJsZVZpZXcge1xyXG5cclxuICAgICAgICBwcml2YXRlIF9zY3JvbGxNZ3I6IFNjcm9sbE1hbmFnZXIgPSBudWxsOyAgICAvLyE8IHNjcm9sbCDjgrPjgqLjg63jgrjjg4Pjgq9cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogY29uc3RydWN0b3JcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zIHtMaXN0Vmlld0NvbnN0cnVjdE9wdGlvbnN9IFtpbl0g44Kq44OX44K344On44OzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3RydWN0b3Iob3B0aW9ucz86IExpc3RWaWV3Q29uc3RydWN0T3B0aW9uczxUTW9kZWw+KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICBjb25zdCBvcHQgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZ3IgPSBuZXcgU2Nyb2xsTWFuYWdlcihvcHRpb25zKTtcclxuICAgICAgICAgICAgaWYgKG9wdC4kZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGVnYXRlcyA9ICg8YW55PnRoaXMpLmV2ZW50cyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RWxlbWVudChvcHQuJGVsLCBkZWxlZ2F0ZXMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gb3B0LmluaXRpYWxIZWlnaHQgfHwgdGhpcy4kZWwuaGVpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zY3JvbGxNZ3IuaW5pdGlhbGl6ZSh0aGlzLiRlbCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBPdmVycmlkZTogQmFja2JvbmUuVmlld1xyXG5cclxuICAgICAgICAvLyEg5a++6LGhIGVsZW1lbnQg44Gu6Kit5a6aXHJcbiAgICAgICAgc2V0RWxlbWVudChlbGVtZW50OiBIVE1MRWxlbWVudCwgZGVsZWdhdGU/OiBib29sZWFuKTogQmFja2JvbmUuVmlldzxUTW9kZWw+O1xyXG4gICAgICAgIHNldEVsZW1lbnQoZWxlbWVudDogSlF1ZXJ5LCBkZWxlZ2F0ZT86IGJvb2xlYW4pOiBCYWNrYm9uZS5WaWV3PFRNb2RlbD47XHJcbiAgICAgICAgc2V0RWxlbWVudChlbGVtZW50OiBhbnksIGRlbGVnYXRlPzogYm9vbGVhbik6IEJhY2tib25lLlZpZXc8VE1vZGVsPiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zY3JvbGxNZ3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0ICRlbCA9ICQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zY3JvbGxNZ3IuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWdyLmluaXRpYWxpemUoJGVsLCAkZWwuaGVpZ2h0KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzdXBlci5zZXRFbGVtZW50KGVsZW1lbnQsIGRlbGVnYXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDnoLTmo4RcclxuICAgICAgICByZW1vdmUoKTogQmFja2JvbmUuVmlldzxUTW9kZWw+IHtcclxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWdyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBJbXBsZW1lbnRzOiBJTGlzdFZpZXcgUHJvZmlsZSDnrqHnkIZcclxuXHJcbiAgICAgICAgLy8hIOWIneacn+WMlua4iOOBv+OBi+WIpOWumlxyXG4gICAgICAgIGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZ3IuaXNJbml0aWFsaXplZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOODl+ODreODkeODhuOCo+OCkuaMh+WumuOBl+OBpuOAgUxpbmVQcm9maWxlIOOCkueuoeeQhlxyXG4gICAgICAgIGFkZEl0ZW0oXHJcbiAgICAgICAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgICAgICAgICBpbml0aWFsaXplcjogbmV3IChvcHRpb25zPzogYW55KSA9PiBCYXNlTGlzdEl0ZW1WaWV3LFxyXG4gICAgICAgICAgICBpbmZvOiBhbnksXHJcbiAgICAgICAgICAgIGluc2VydFRvPzogbnVtYmVyXHJcbiAgICAgICAgKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZExpbmUobmV3IExpbmVQcm9maWxlKHRoaXMuX3Njcm9sbE1nciwgTWF0aC5mbG9vcihoZWlnaHQpLCBpbml0aWFsaXplciwgaW5mbyksIGluc2VydFRvKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDmjIflrprjgZfjgZ8gSXRlbSDjgpLliYrpmaRcclxuICAgICAgICByZW1vdmVJdGVtKGluZGV4OiBudW1iZXIsIHNpemU/OiBudW1iZXIsIGRlbGF5PzogbnVtYmVyKTogdm9pZDtcclxuICAgICAgICByZW1vdmVJdGVtKGluZGV4OiBudW1iZXJbXSwgZGVsYXk/OiBudW1iZXIpOiB2b2lkO1xyXG4gICAgICAgIHJlbW92ZUl0ZW0oaW5kZXg6IGFueSwgYXJnMj86IG51bWJlciwgYXJnMz86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZ3IucmVtb3ZlSXRlbShpbmRleCwgYXJnMiwgYXJnMyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5oyH5a6a44GX44GfIEl0ZW0g44Gr6Kit5a6a44GX44Gf5oOF5aCx44KS5Y+W5b6XXHJcbiAgICAgICAgZ2V0SXRlbUluZm8odGFyZ2V0OiBudW1iZXIpOiBhbnk7XHJcbiAgICAgICAgZ2V0SXRlbUluZm8odGFyZ2V0OiBKUXVlcnkuRXZlbnQpOiBhbnk7XHJcbiAgICAgICAgZ2V0SXRlbUluZm8odGFyZ2V0OiBhbnkpOiBhbnkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsTWdyLmdldEl0ZW1JbmZvKHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44Ki44Kv44OG44Kj44OW44Oa44O844K444KS5pu05pawXHJcbiAgICAgICAgcmVmcmVzaCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWdyLnJlZnJlc2goKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDmnKrjgqLjgrXjgqTjg7Pjg5rjg7zjgrjjgpLmp4vnr4lcclxuICAgICAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1nci51cGRhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDjg5rjg7zjgrjjgqLjgrXjgqTjg7PjgpLlho3mp4vmiJBcclxuICAgICAgICByZWJ1aWxkKCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZ3IucmVidWlsZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOeuoei9hOODh+ODvOOCv+OCkuegtOajhFxyXG4gICAgICAgIHJlbGVhc2UoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1nci5yZWxlYXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIEltcGxlbWVudHM6IElMaXN0VmlldyBQcm9maWxlIEJhY2t1cCAvIFJlc3RvcmVcclxuXHJcbiAgICAgICAgLy8hIOWGhemDqOODh+ODvOOCv+OCkuODkOODg+OCr+OCouODg+ODl1xyXG4gICAgICAgIGJhY2t1cChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsTWdyLmJhY2t1cChrZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOWGhemDqOODh+ODvOOCv+OCkuODquOCueODiOOColxyXG4gICAgICAgIHJlc3RvcmUoa2V5OiBzdHJpbmcsIHJlYnVpbGQ6IGJvb2xlYW4gPSB0cnVlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZ3IucmVzdG9yZShrZXksIHJlYnVpbGQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOODkOODg+OCr+OCouODg+ODl+ODh+ODvOOCv+OBruacieeEoVxyXG4gICAgICAgIGhhc0JhY2t1cChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsTWdyLmhhc0JhY2t1cChrZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOODkOODg+OCr+OCouODg+ODl+ODh+ODvOOCv+OBruegtOajhFxyXG4gICAgICAgIGNsZWFyQmFja3VwKGtleT86IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsTWdyLmNsZWFyQmFja3VwKGtleSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44OQ44OD44Kv44Ki44OD44OX44OH44O844K/44Gr44Ki44Kv44K744K5XHJcbiAgICAgICAgZ2V0IGJhY2t1cERhdGEoKTogYW55IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbE1nciA/IHRoaXMuX3Njcm9sbE1nci5iYWNrdXBEYXRhIDogbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gSW1wbGVtZW50czogSUxpc3RWaWV3IFNjcm9sbFxyXG5cclxuICAgICAgICAvLyEg44K544Kv44Ot44O844Or44Kk44OZ44Oz44OI44OP44Oz44OJ44Op6Kit5a6aL+ino+mZpFxyXG4gICAgICAgIHNldFNjcm9sbEhhbmRsZXIoaGFuZGxlcjogKGV2ZW50OiBKUXVlcnkuRXZlbnQpID0+IHZvaWQsIG9uOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1nci5zZXRTY3JvbGxIYW5kbGVyKGhhbmRsZXIsIG9uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDjgrnjgq/jg63jg7zjg6vntYLkuobjgqTjg5njg7Pjg4jjg4/jg7Pjg4njg6noqK3lrpov6Kej6ZmkXHJcbiAgICAgICAgc2V0U2Nyb2xsU3RvcEhhbmRsZXIoaGFuZGxlcjogKGV2ZW50OiBKUXVlcnkuRXZlbnQpID0+IHZvaWQsIG9uOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1nci5zZXRTY3JvbGxTdG9wSGFuZGxlcihoYW5kbGVyLCBvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44K544Kv44Ot44O844Or5L2N572u44KS5Y+W5b6XXHJcbiAgICAgICAgZ2V0U2Nyb2xsUG9zKCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZ3IuZ2V0U2Nyb2xsUG9zKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44K544Kv44Ot44O844Or5L2N572u44Gu5pyA5aSn5YCk44KS5Y+W5b6XXHJcbiAgICAgICAgZ2V0U2Nyb2xsUG9zTWF4KCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZ3IuZ2V0U2Nyb2xsUG9zTWF4KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44K544Kv44Ot44O844Or5L2N572u44KS5oyH5a6aXHJcbiAgICAgICAgc2Nyb2xsVG8ocG9zOiBudW1iZXIsIGFuaW1hdGU/OiBib29sZWFuLCB0aW1lPzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1nci5zY3JvbGxUbyhwb3MsIGFuaW1hdGUsIHRpbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOaMh+WumuOBleOCjOOBnyBMaXN0SXRlbVZpZXcg44Gu6KGo56S644KS5L+d6Ki8XHJcbiAgICAgICAgZW5zdXJlVmlzaWJsZShpbmRleDogbnVtYmVyLCBvcHRpb25zPzogRW5zdXJlVmlzaWJsZU9wdGlvbnMpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWdyLmVuc3VyZVZpc2libGUoaW5kZXgsIG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBJbXBsZW1lbnRzOiBJTGlzdFZpZXcgUHJvcGVydGllc1xyXG5cclxuICAgICAgICAvLyEgY29yZSBmcmFtZXdvcmsgYWNjZXNzXHJcbiAgICAgICAgZ2V0IGNvcmUoKTogSUxpc3RWaWV3RnJhbWV3b3JrIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbE1ncjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gSW1wbGVtZW50czogSUxpc3RWaWV3IEludGVybmFsIEkvRlxyXG5cclxuICAgICAgICAvLyEg55m76YyyIGZyYW1ld29yayDjgYzkvb/nlKjjgZnjgotcclxuICAgICAgICBfYWRkTGluZShfbGluZTogYW55LCBpbnNlcnRUbz86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZ3IuX2FkZExpbmUoX2xpbmUsIGluc2VydFRvKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gSW1wbGVtZW50czogSUNvbXBvc2FibGVWaWV3XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOOBmeOBp+OBq+Wumue+qeOBleOCjOOBnyBCYWNrYm9uZS5WaWV3IOOCkuWfuuW6leOCr+ODqeOCueOBq+ioreWumuOBl+OAgWV4dGVuZCDjgpLlrp/ooYzjgZnjgovjgIJcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBkZXJpdmVzICAgICAgICAge0JhY2tib25lLlZpZXd8QmFja2JvbmUuVmlld1tdfSBbaW5dIOWQiOaIkOWFg+OBriBWaWV3IOOCr+ODqeOCuVxyXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0aWVzICAgICAge09iamVjdH0gICAgICAgICAgICAgICAgICAgICAgICBbaW5dIHByb3RvdHlwZSDjg5fjg63jg5Hjg4bjgqNcclxuICAgICAgICAgKiBAcGFyYW0gY2xhc3NQcm9wZXJ0aWVzIHtPYmplY3R9ICAgICAgICAgICAgICAgICAgICAgICAgW2luXSBzdGF0aWMg44OX44Ot44OR44OG44KjXHJcbiAgICAgICAgICogQHJldHVybiB7QmFja2JvbmUuVmlld3xCYWNrYm9uZS5WaWV3W119IOaWsOimj+OBq+eUn+aIkOOBleOCjOOBnyBWaWV3IOOBruOCs+ODs+OCueODiOODqeOCr+OCv1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHN0YXRpYyBjb21wb3NlKGRlcml2ZXM6IFZpZXdDb25zdHJ1Y3RvciB8IFZpZXdDb25zdHJ1Y3RvcltdLCBwcm9wZXJ0aWVzOiBhbnksIGNsYXNzUHJvcGVydGllcz86IGFueSk6IFZpZXdDb25zdHJ1Y3RvciB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvc2VkOiBhbnkgPSBjb21wb3NlVmlld3MoTGlzdFZpZXcsIGRlcml2ZXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9zZWQuZXh0ZW5kKHByb3BlcnRpZXMsIGNsYXNzUHJvcGVydGllcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBDRFAuVUkge1xyXG5cclxuICAgIGNvbnN0IFRBRyA9IFwiW0NEUC5VSS5Hcm91cExpc3RJdGVtVmlld10gXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaW50ZXJmYWNlIEdyb3VwTGlzdEl0ZW1WaWV3T3B0aW9uc1xyXG4gICAgICogQGJyaWVmIEdyb3VwTGlzdEl0ZW1WaWV3IOOBruOCquODl+OCt+ODp+ODs1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEdyb3VwTGlzdEl0ZW1WaWV3T3B0aW9uczxUTW9kZWwgZXh0ZW5kcyBCYWNrYm9uZS5Nb2RlbCA9IEJhY2tib25lLk1vZGVsPiBleHRlbmRzIExpc3RJdGVtVmlld09wdGlvbnM8VE1vZGVsPiB7XHJcbiAgICAgICAgZ3JvdXBQcm9maWxlPzogR3JvdXBQcm9maWxlOyAgICAvLyE8IEdyb3VwUHJvZmlsZSDjgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBjbGFzcyBHcm91cExpc3RJdGVtVmlld1xyXG4gICAgICogQGJyaWVmIEV4cGFuZGFibGVMaXN0VmlldyDjgYzmibHjgYYgTGlzdEl0ZW0g44Kz44Oz44OG44OK44Kv44Op44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjbGFzcyBHcm91cExpc3RJdGVtVmlldzxUTW9kZWwgZXh0ZW5kcyBCYWNrYm9uZS5Nb2RlbCA9IEJhY2tib25lLk1vZGVsPiBleHRlbmRzIExpc3RJdGVtVmlldzxUTW9kZWw+IHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfZ3JvdXBQcm9maWxlOiBHcm91cFByb2ZpbGUgPSBudWxsOyAgICAvLyE8IOeuoei9hOOBriBHcm91cFByb2ZpbGVcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogY29uc3RydWN0b3JcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zIHtHcm91cExpbmVWaWV3T3B0aW9uc30gW2luXSDjgqrjg5fjgrfjg6fjg7NcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBHcm91cExpc3RJdGVtVmlld09wdGlvbnM8VE1vZGVsPikge1xyXG4gICAgICAgICAgICBzdXBlcihvcHRpb25zKTtcclxuICAgICAgICAgICAgdGhpcy5fZ3JvdXBQcm9maWxlID0gb3B0aW9ucy5ncm91cFByb2ZpbGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIHByb3RlY3RlZCBtZXRob2RzXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWxlemWi+eKtuaFi+OCkuWIpOWumlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZTog5bGV6ZaLLCBmYWxzZTrlj47mnZ9cclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgaXNFeHBhbmRlZCgpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dyb3VwUHJvZmlsZS5pc0V4cGFuZGVkKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5bGV6ZaL5Lit44GL5Yik5a6aXHJcbiAgICAgICAgcHJvdGVjdGVkIGlzRXhwYW5kaW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gKDxCYXNlRXhwYW5kYWJsZUxpc3RWaWV3PnRoaXMub3duZXIpLmlzRXhwYW5kaW5nKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5Y+O5p2f5Lit44GL5Yik5a6aXHJcbiAgICAgICAgcHJvdGVjdGVkIGlzQ29sbGFwc2luZygpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuICg8QmFzZUV4cGFuZGFibGVMaXN0Vmlldz50aGlzLm93bmVyKS5pc0NvbGxhcHNpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDplovplonkuK3jgYvliKTlrppcclxuICAgICAgICBwcm90ZWN0ZWQgaXNTd2l0Y2hpbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiAoPEJhc2VFeHBhbmRhYmxlTGlzdFZpZXc+dGhpcy5vd25lcikuaXNTd2l0Y2hpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDlrZAgR3JvdXAg44KS5oyB44Gj44Gm44GE44KL44GL5Yik5a6aXHJcbiAgICAgICAgcHJvdGVjdGVkIGhhc0NoaWxkcmVuKGxheW91dEtleT86IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ3JvdXBQcm9maWxlLmhhc0NoaWxkcmVuKGxheW91dEtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qIHRzbGludDpkaXNhYmxlOm5vLWJpdHdpc2UgKi9cclxuXHJcbm5hbWVzcGFjZSBDRFAuVUkge1xyXG5cclxuICAgIGNvbnN0IFRBRyA9IFwiW0NEUC5VSS5FeHBhbmRNYW5hZ2VyXSBcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBjbGFzcyBFeHBhbmRNYW5hZ2VyXHJcbiAgICAgKiBAYnJpZWYg6ZaL6ZaJ54q25oWL566h55CG44Kv44Op44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjbGFzcyBFeHBhbmRNYW5hZ2VyIGltcGxlbWVudHMgSUV4cGFuZE1hbmFnZXIge1xyXG5cclxuICAgICAgICBwcml2YXRlIF9vd25lcjogQmFzZUV4cGFuZGFibGVMaXN0VmlldyA9IG51bGw7XHJcbiAgICAgICAgcHJpdmF0ZSBfbWFwR3JvdXBzOiBPYmplY3QgPSB7fTsgICAgICAgICAgICAgICAgLy8hPCB7aWQsIEdyb3VwUHJvZmlsZX0g44GuIG1hcFxyXG4gICAgICAgIHByaXZhdGUgX2FyeVRvcEdyb3VwczogR3JvdXBQcm9maWxlW10gPSBbXTsgICAgIC8vITwg56ysMemajuWxpCBHcm91cFByb2ZpbGUg44KS5qC857SNXHJcbiAgICAgICAgcHJpdmF0ZSBfbGF5b3V0S2V5OiBzdHJpbmcgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBjb25zdHJ1Y3RvclxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIG93bmVyIHtCYXNlRXhwYW5kYWJsZUxpc3RWaWV3fSBbaW5dIOimqlZpZXcg44Gu44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3RydWN0b3Iob3duZXI6IEJhc2VFeHBhbmRhYmxlTGlzdFZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy5fb3duZXIgPSBvd25lcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gSW1wbGVtZW50czogSUV4cGFuZE1hbmFnZXJcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5paw6KaPIEdyb3VwUHJvZmlsZSDjgpLkvZzmiJBcclxuICAgICAgICAgKiDnmbvpjLLmuIjjgb/jga7loLTlkIjjga/jgZ3jga7jgqrjg5bjgrjjgqfjgq/jg4jjgpLov5TljbRcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJtYSBpZCB7U3RyaW5nfSBbaW5dIOaWsOimj+OBq+S9nOaIkOOBmeOCiyBHcm91cCBJRCDjgpLmjIflrpouIOaMh+WumuOBl+OBquOBhOWgtOWQiOOBr+iHquWLleWJsuOCiuaMr+OCilxyXG4gICAgICAgICAqIEByZXR1cm4ge0dyb3VwUHJvZmlsZX0gR3JvdXBQcm9maWxlIOOCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG5ld0dyb3VwKGlkPzogc3RyaW5nKTogR3JvdXBQcm9maWxlIHtcclxuICAgICAgICAgICAgbGV0IGdyb3VwOiBHcm91cFByb2ZpbGU7XHJcbiAgICAgICAgICAgIGlmIChudWxsID09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZCA9IFwiZ3JvdXAtaWQ6XCIgKyAoXCIwMDAwXCIgKyAoTWF0aC5yYW5kb20oKSAqIE1hdGgucG93KDM2LCA0KSA8PCAwKS50b1N0cmluZygzNikpLnNsaWNlKC00KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobnVsbCAhPSB0aGlzLl9tYXBHcm91cHNbaWRdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFwR3JvdXBzW2lkXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBncm91cCA9IG5ldyBHcm91cFByb2ZpbGUoaWQsIHRoaXMuX293bmVyKTtcclxuICAgICAgICAgICAgdGhpcy5fbWFwR3JvdXBzW2lkXSA9IGdyb3VwO1xyXG4gICAgICAgICAgICByZXR1cm4gZ3JvdXA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDnmbvpjLLmuIjjgb8gR3JvdXAg44KS5Y+W5b6XXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFybWEgaWQge1N0cmluZ30gW2luXSDlj5blvpfjgZnjgosgR3JvdXAgSUQg44KS5oyH5a6aXHJcbiAgICAgICAgICogQHJldHVybiB7R3JvdXBQcm9maWxlfSBHcm91cFByb2ZpbGUg44Kk44Oz44K544K/44Oz44K5IC8gbnVsbFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldEdyb3VwKGlkOiBzdHJpbmcpOiBHcm91cFByb2ZpbGUge1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PSB0aGlzLl9tYXBHcm91cHNbaWRdKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHICsgXCJncm91cCBpZDogXCIgKyBpZCArIFwiIGlzIG5vdCByZWdpc3RlcmVkLlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXBHcm91cHNbaWRdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog56ysMemajuWxpOOBriBHcm91cCDnmbvpjLJcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB0b3BHcm91cCB7R3JvdXBQcm9maWxlfSBbaW5dIOani+eviea4iOOBvyBHcm91cFByb2ZpbGUg44Kk44Oz44K544K/44Oz44K5XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmVnaXN0ZXJUb3BHcm91cCh0b3BHcm91cDogR3JvdXBQcm9maWxlKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGxldCBsYXN0R3JvdXA6IEdyb3VwUHJvZmlsZTtcclxuICAgICAgICAgICAgbGV0IGluc2VydFRvOiBudW1iZXI7XHJcblxyXG4gICAgICAgICAgICAvLyDjgZnjgafjgavnmbvpjLLmuIjjgb/jga7loLTlkIjjga8gcmVzdG9yZSDjgZfjgaYgbGF5b3V0IOOCreODvOOBlOOBqOOBq+W+qeWFg+OBmeOCi+OAglxyXG4gICAgICAgICAgICBpZiAoXCJyZWdpc3RlcmVkXCIgPT09IHRvcEdyb3VwLnN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogb3JpZW50YXRpb24gY2hhbmdlZCDmmYLjga4gbGF5b3V0IOOCreODvOWkieabtOWvvuW/nOOBoOOBjOOAgeOCreODvOOBq+WkieabtOOBjOeEoeOBhOOBqOOBjeOBr+S4jeWFt+WQiOOBqOOBquOCi+OAglxyXG4gICAgICAgICAgICAgICAgLy8g44GT44GuIEFQSSDjgavlrp/oo4XjgYzlv4XopoHjgYvjgoLlkKvjgoHjgabopovnm7TjgZfjgYzlv4XopoFcclxuICAgICAgICAgICAgICAgIHRvcEdyb3VwLnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGFzdEdyb3VwID0gKDAgPCB0aGlzLl9hcnlUb3BHcm91cHMubGVuZ3RoKSA/IHRoaXMuX2FyeVRvcEdyb3Vwc1t0aGlzLl9hcnlUb3BHcm91cHMubGVuZ3RoIC0gMV0gOiBudWxsO1xyXG4gICAgICAgICAgICBpbnNlcnRUbyA9IChudWxsICE9IGxhc3RHcm91cCkgPyBsYXN0R3JvdXAuZ2V0TGFzdExpbmVJbmRleCh0cnVlKSArIDEgOiAwO1xyXG4gICAgICAgICAgICBpZiAoXy5pc05hTihpbnNlcnRUbykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoVEFHICsgXCJsb2dpYyBlcnJvciwgJ2luc2VydFRvJyBpcyBOYU4uXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9hcnlUb3BHcm91cHMucHVzaCh0b3BHcm91cCk7XHJcbiAgICAgICAgICAgIHRvcEdyb3VwLnJlZ2lzdGVyKGluc2VydFRvKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOesrDHpmo7lsaTjga4gR3JvdXAg44KS5Y+W5b6XXHJcbiAgICAgICAgICog44Kz44OU44O86YWN5YiX44GM6L+U44GV44KM44KL44Gf44KB44CB44Kv44Op44Kk44Ki44Oz44OI44Gv44Kt44Oj44OD44K344Ol5LiN5Y+vXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtHcm91cFByb2ZpbGVbXX0gR3JvdXBQcm9maWxlIOmFjeWIl1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldFRvcEdyb3VwcygpOiBHcm91cFByb2ZpbGVbXSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hcnlUb3BHcm91cHMuc2xpY2UoMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44GZ44G544Gm44Gu44Kw44Or44O844OX44KS5bGV6ZaLICgx6ZqO5bGkKVxyXG4gICAgICAgIGV4cGFuZEFsbCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fYXJ5VG9wR3JvdXBzLmZvckVhY2goKGdyb3VwOiBHcm91cFByb2ZpbGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChncm91cC5oYXNDaGlsZHJlbigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAuZXhwYW5kKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOOBmeOBueOBpuOBruOCsOODq+ODvOODl+OCkuWPjuadnyAoMemajuWxpClcclxuICAgICAgICBjb2xsYXBzZUFsbChkZWxheT86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl9hcnlUb3BHcm91cHMuZm9yRWFjaCgoZ3JvdXA6IEdyb3VwUHJvZmlsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwLmhhc0NoaWxkcmVuKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBncm91cC5jb2xsYXBzZShkZWxheSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOWxlemWi+S4reOBi+WIpOWumlxyXG4gICAgICAgIGlzRXhwYW5kaW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3duZXIuaXNTdGF0dXNJbihcImV4cGFuZGluZ1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDlj47mnZ/kuK3jgYvliKTlrppcclxuICAgICAgICBpc0NvbGxhcHNpbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vd25lci5pc1N0YXR1c0luKFwiY29sbGFwc2luZ1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDplovplonkuK3jgYvliKTlrppcclxuICAgICAgICBpc1N3aXRjaGluZygpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNFeHBhbmRpbmcoKSB8fCB0aGlzLmlzQ29sbGFwc2luZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOeKtuaFi+WkieaVsOOBruWPgueFp+OCq+OCpuODs+ODiOOBruOCpOODs+OCr+ODquODoeODs+ODiFxyXG4gICAgICAgIHN0YXR1c0FkZFJlZihzdGF0dXM6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vd25lci5zdGF0dXNBZGRSZWYoc3RhdHVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDnirbmhYvlpInmlbDjga7lj4Lnhafjgqvjgqbjg7Pjg4jjga7jg4fjgq/jg6rjg6Hjg7Pjg4hcclxuICAgICAgICBzdGF0dXNSZWxlYXNlKHN0YXR1czogc3RyaW5nKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX293bmVyLnN0YXR1c1JlbGVhc2Uoc3RhdHVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDlh6bnkIbjgrnjgrPjg7zjg5fmr47jgavnirbmhYvlpInmlbDjgpLoqK3lrppcclxuICAgICAgICBzdGF0dXNTY29wZShzdGF0dXM6IHN0cmluZywgY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fb3duZXIuc3RhdHVzU2NvcGUoc3RhdHVzLCBjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5oyH5a6a44GX44Gf54q25oWL5Lit44Gn44GC44KL44GL56K66KqNXHJcbiAgICAgICAgaXNTdGF0dXNJbihzdGF0dXM6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3duZXIuaXNTdGF0dXNJbihzdGF0dXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIGxheW91dCBrZXkg44KS5Y+W5b6XXHJcbiAgICAgICAgZ2V0IGxheW91dEtleSgpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGF5b3V0S2V5O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIGxheW91dCBrZXkg44KS6Kit5a6aXHJcbiAgICAgICAgc2V0IGxheW91dEtleShrZXk6IHN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLl9sYXlvdXRLZXkgPSBrZXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44OH44O844K/44KS56C05qOEXHJcbiAgICAgICAgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fbWFwR3JvdXBzID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuX2FyeVRvcEdyb3VwcyA9IFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBJbXBsZW1lbnRlczogSUJhY2t1cFJlc3RvcmVcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5YaF6YOo44OH44O844K/44KS44OQ44OD44Kv44Ki44OD44OXXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ga2V5IHtTdHJpbmd9IFtpbl0g44OQ44OD44Kv44Ki44OD44OX44Kt44O844KS5oyH5a6aXHJcbiAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZTog5oiQ5YqfIC8gZmFsc2U6IOWkseaVl1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGJhY2t1cChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBjb25zdCBfYmFja3VwID0gdGhpcy5iYWNrdXBEYXRhO1xyXG4gICAgICAgICAgICBpZiAobnVsbCA9PSBfYmFja3VwW2tleV0pIHtcclxuICAgICAgICAgICAgICAgIF9iYWNrdXBba2V5XSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXA6IHRoaXMuX21hcEdyb3VwcyxcclxuICAgICAgICAgICAgICAgICAgICB0b3BzOiB0aGlzLl9hcnlUb3BHcm91cHMsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5YaF6YOo44OH44O844K/44KS44Oq44K544OI44KiXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ga2V5ICAgICB7U3RyaW5nfSAgW2luXSDjg5Djg4Pjgq/jgqLjg4Pjg5fjgq3jg7zjgpLmjIflrppcclxuICAgICAgICAgKiBAcGFyYW0gcmVidWlsZCB7Qm9vbGVhbn0gW2luXSByZWJ1aWxkIOOCkuWun+ihjOOBmeOCi+WgtOWQiOOBryB0cnVlIOOCkuaMh+WumlxyXG4gICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWU6IOaIkOWKnyAvIGZhbHNlOiDlpLHmlZdcclxuICAgICAgICAgKi9cclxuICAgICAgICByZXN0b3JlKGtleTogc3RyaW5nLCByZWJ1aWxkOiBib29sZWFuID0gdHJ1ZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBjb25zdCBfYmFja3VwID0gdGhpcy5iYWNrdXBEYXRhO1xyXG5cclxuICAgICAgICAgICAgaWYgKG51bGwgPT0gX2JhY2t1cFtrZXldKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKDAgPCB0aGlzLl9hcnlUb3BHcm91cHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2UoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fbWFwR3JvdXBzID0gX2JhY2t1cFtrZXldLm1hcDtcclxuICAgICAgICAgICAgdGhpcy5fYXJ5VG9wR3JvdXBzID0gX2JhY2t1cFtrZXldLnRvcHM7XHJcblxyXG4gICAgICAgICAgICAvLyBsYXlvdXQg5oOF5aCx44Gu56K66KqNXHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9hcnlUb3BHcm91cHMubGVuZ3RoIDw9IDAgfHwgIXRoaXMuX2FyeVRvcEdyb3Vwc1swXS5oYXNMYXlvdXRLZXlPZih0aGlzLmxheW91dEtleSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8g5bGV6ZaL44GX44Gm44GE44KL44KC44Gu44KS55m76YyyXHJcbiAgICAgICAgICAgIHRoaXMuX2FyeVRvcEdyb3Vwcy5mb3JFYWNoKChncm91cDogR3JvdXBQcm9maWxlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBncm91cC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g5YaN5qeL56+J44Gu5LqI57SEXHJcbiAgICAgICAgICAgIGlmIChyZWJ1aWxkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vd25lci5yZWJ1aWxkKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOODkOODg+OCr+OCouODg+ODl+ODh+ODvOOCv+OBruacieeEoVxyXG4gICAgICAgIGhhc0JhY2t1cChrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3duZXIuaGFzQmFja3VwKGtleSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44OQ44OD44Kv44Ki44OD44OX44OH44O844K/44Gu56C05qOEXHJcbiAgICAgICAgY2xlYXJCYWNrdXAoa2V5Pzogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vd25lci5jbGVhckJhY2t1cChrZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOODkOODg+OCr+OCouODg+ODl+ODh+ODvOOCv+OBq+OCouOCr+OCu+OCuVxyXG4gICAgICAgIGdldCBiYWNrdXBEYXRhKCk6IGFueSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vd25lci5iYWNrdXBEYXRhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgQ0RQLlVJIHtcclxuXHJcbiAgICBjb25zdCBUQUcgPSBcIltDRFAuVUkuRXhwYW5kYWJsZUxpc3RWaWV3XSBcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBjbGFzcyBFeHBhbmRhYmxlTGlzdFZpZXdcclxuICAgICAqIEBicmllZiDplovplonmqZ/og73jgpLlgpnjgYjjgZ/ku67mg7Pjg6rjgrnjg4jjg5Pjg6Xjg7zjgq/jg6njgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGNsYXNzIEV4cGFuZGFibGVMaXN0VmlldzxUTW9kZWwgZXh0ZW5kcyBCYWNrYm9uZS5Nb2RlbCA9IEJhY2tib25lLk1vZGVsPlxyXG4gICAgICAgIGV4dGVuZHMgTGlzdFZpZXc8VE1vZGVsPiBpbXBsZW1lbnRzIElFeHBhbmRhYmxlTGlzdFZpZXcge1xyXG5cclxuICAgICAgICBwcml2YXRlIF9zdGF0dXNNZ3I6IFN0YXR1c01hbmFnZXIgPSBudWxsO1xyXG4gICAgICAgIHByaXZhdGUgX2V4cGFuZE1hbmFnZXI6IEV4cGFuZE1hbmFnZXIgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBjb25zdHJ1Y3RvclxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMge0xpc3RWaWV3Q29uc3RydWN0T3B0aW9uc30gW2luXSDjgqrjg5fjgrfjg6fjg7NcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdHJ1Y3RvcihvcHRpb25zPzogTGlzdFZpZXdDb25zdHJ1Y3RPcHRpb25zPFRNb2RlbD4pIHtcclxuICAgICAgICAgICAgc3VwZXIob3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXR1c01nciA9IG5ldyBTdGF0dXNNYW5hZ2VyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2V4cGFuZE1hbmFnZXIgPSBuZXcgRXhwYW5kTWFuYWdlcih0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gSW1wbGVtZW50czogSUV4cGFuZGFibGVMaXN0Vmlld1xyXG5cclxuICAgICAgICAvLyEg5paw6KaPIEdyb3VwUHJvZmlsZSDjgpLkvZzmiJBcclxuICAgICAgICBuZXdHcm91cChpZD86IHN0cmluZyk6IEdyb3VwUHJvZmlsZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9leHBhbmRNYW5hZ2VyLm5ld0dyb3VwKGlkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDnmbvpjLLmuIjjgb8gR3JvdXAg44KS5Y+W5b6XXHJcbiAgICAgICAgZ2V0R3JvdXAoaWQ6IHN0cmluZyk6IEdyb3VwUHJvZmlsZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9leHBhbmRNYW5hZ2VyLmdldEdyb3VwKGlkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDnrKwx6ZqO5bGk44GuIEdyb3VwIOeZu+mMslxyXG4gICAgICAgIHJlZ2lzdGVyVG9wR3JvdXAodG9wR3JvdXA6IEdyb3VwUHJvZmlsZSk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl9leHBhbmRNYW5hZ2VyLnJlZ2lzdGVyVG9wR3JvdXAodG9wR3JvdXApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOesrDHpmo7lsaTjga4gR3JvdXAg44KS5Y+W5b6XXHJcbiAgICAgICAgZ2V0VG9wR3JvdXBzKCk6IEdyb3VwUHJvZmlsZVtdIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2V4cGFuZE1hbmFnZXIuZ2V0VG9wR3JvdXBzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44GZ44G544Gm44Gu44Kw44Or44O844OX44KS5bGV6ZaLICgx6ZqO5bGkKVxyXG4gICAgICAgIGV4cGFuZEFsbCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fZXhwYW5kTWFuYWdlci5leHBhbmRBbGwoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDjgZnjgbnjgabjga7jgrDjg6vjg7zjg5fjgpLlj47mnZ8gKDHpmo7lsaQpXHJcbiAgICAgICAgY29sbGFwc2VBbGwoZGVsYXk/OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fZXhwYW5kTWFuYWdlci5jb2xsYXBzZUFsbChkZWxheSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5bGV6ZaL5Lit44GL5Yik5a6aXHJcbiAgICAgICAgaXNFeHBhbmRpbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9leHBhbmRNYW5hZ2VyLmlzRXhwYW5kaW5nKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5Y+O5p2f5Lit44GL5Yik5a6aXHJcbiAgICAgICAgaXNDb2xsYXBzaW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZXhwYW5kTWFuYWdlci5pc0NvbGxhcHNpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDplovplonkuK3jgYvliKTlrppcclxuICAgICAgICBpc1N3aXRjaGluZygpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2V4cGFuZE1hbmFnZXIuaXNTd2l0Y2hpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDnirbmhYvlpInmlbDjga7lj4Lnhafjgqvjgqbjg7Pjg4jjga7jgqTjg7Pjgq/jg6rjg6Hjg7Pjg4hcclxuICAgICAgICBzdGF0dXNBZGRSZWYoc3RhdHVzOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzTWdyLnN0YXR1c0FkZFJlZihzdGF0dXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOeKtuaFi+WkieaVsOOBruWPgueFp+OCq+OCpuODs+ODiOOBruODh+OCr+ODquODoeODs+ODiFxyXG4gICAgICAgIHN0YXR1c1JlbGVhc2Uoc3RhdHVzOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzTWdyLnN0YXR1c1JlbGVhc2Uoc3RhdHVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDlh6bnkIbjgrnjgrPjg7zjg5fmr47jgavnirbmhYvlpInmlbDjgpLoqK3lrppcclxuICAgICAgICBzdGF0dXNTY29wZShzdGF0dXM6IHN0cmluZywgY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhdHVzTWdyLnN0YXR1c1Njb3BlKHN0YXR1cywgY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOaMh+WumuOBl+OBn+eKtuaFi+S4reOBp+OBguOCi+OBi+eiuuiqjVxyXG4gICAgICAgIGlzU3RhdHVzSW4oc3RhdHVzOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1c01nci5pc1N0YXR1c0luKHN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgbGF5b3V0IGtleSDjgpLlj5blvpdcclxuICAgICAgICBnZXQgbGF5b3V0S2V5KCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9leHBhbmRNYW5hZ2VyLmxheW91dEtleTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBsYXlvdXQga2V5IOOCkuioreWumlxyXG4gICAgICAgIHNldCBsYXlvdXRLZXkoa2V5OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5fZXhwYW5kTWFuYWdlci5sYXlvdXRLZXkgPSBrZXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIE92ZXJyaWRlOiBMaXN0Vmlld1xyXG5cclxuICAgICAgICAvLyEg44OH44O844K/44KS56C05qOEXHJcbiAgICAgICAgcmVsZWFzZSgpOiB2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIucmVsZWFzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9leHBhbmRNYW5hZ2VyLnJlbGVhc2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDlhoXpg6jjg4fjg7zjgr/jgpLjg5Djg4Pjgq/jgqLjg4Pjg5dcclxuICAgICAgICBiYWNrdXAoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2V4cGFuZE1hbmFnZXIuYmFja3VwKGtleSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5YaF6YOo44OH44O844K/44KS44Oq44K544OI44KiXHJcbiAgICAgICAgcmVzdG9yZShrZXk6IHN0cmluZywgcmVidWlsZDogYm9vbGVhbiA9IHRydWUpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2V4cGFuZE1hbmFnZXIucmVzdG9yZShrZXksIHJlYnVpbGQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgQ0RQLlVJIHtcclxuXHJcbiAgICBpbXBvcnQgQ29uZmlnICAgICAgID0gQ0RQLkNvbmZpZztcclxuICAgIGltcG9ydCBGcmFtZXdvcmsgICAgPSBDRFAuRnJhbWV3b3JrO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGludGVyZmFjZSBUcmFuc2l0aW9uTWFwXHJcbiAgICAgKiBAYnJpZWYg44OI44Op44Oz44K444K344On44Oz44Oe44OD44OXXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgUGxhdGZvcm1UcmFuc2l0aW9uIHtcclxuICAgICAgICBbcGxhdGZvcm06IHN0cmluZ106IHN0cmluZzsgICAgIC8vITwgZXgpIGlvczogXCJzbGlkZVwiXHJcbiAgICAgICAgZmFsbGJhY2s6IHN0cmluZzsgICAgICAgICAgICAgICAvLyE8IGZhbGxiYWNrIHRyYW5zaXRpb24gcHJvcFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGludGVyZmFjZSBUcmFuc2l0aW9uTWFwXHJcbiAgICAgKiBAYnJpZWYg44OI44Op44Oz44K444K344On44Oz44Oe44OD44OXXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVHJhbnNpdGlvbk1hcCB7XHJcbiAgICAgICAgW3RyYW5zaXRpb25OYW1lOiBzdHJpbmddOiBQbGF0Zm9ybVRyYW5zaXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgLy9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fLy9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBjbGFzcyBUaGVtZVxyXG4gICAgICogQGJyaWVmIFVJIFRoZW1lIOioreWumuOCkuihjOOBhuODpuODvOODhuOCo+ODquODhuOCo+OCr+ODqeOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgY2xhc3MgVGhlbWUge1xyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBzX3BsYXRmb3Jtczogc3RyaW5nW10gPSBbXCJpb3NcIiwgXCJhbmRyb2lkXCJdO1xyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHNfcGFnZVRyYW5zaXRpb25NYXA6IFRyYW5zaXRpb25NYXAgPSB7XHJcbiAgICAgICAgICAgIFwicGxhdGZvcm0tZGVmYXVsdFwiOiB7XHJcbiAgICAgICAgICAgICAgICBpb3M6IFwic2xpZGVcIixcclxuICAgICAgICAgICAgICAgIGFuZHJvaWQ6IFwiZmxvYXR1cFwiLFxyXG4gICAgICAgICAgICAgICAgZmFsbGJhY2s6IFwic2xpZGVcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJwbGF0Zm9ybS1hbHRlcm5hdGl2ZVwiOiB7XHJcbiAgICAgICAgICAgICAgICBpb3M6IFwic2xpZGV1cFwiLFxyXG4gICAgICAgICAgICAgICAgYW5kcm9pZDogXCJmbG9hdHVwXCIsXHJcbiAgICAgICAgICAgICAgICBmYWxsYmFjazogXCJzbGlkZXVwXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBzX2RpYWxvZ1RyYW5zaXRpb25NYXA6IFRyYW5zaXRpb25NYXAgPSB7XHJcbiAgICAgICAgICAgIFwicGxhdGZvcm0tZGVmYXVsdFwiOiB7XHJcbiAgICAgICAgICAgICAgICBpb3M6IFwicG9wem9vbVwiLFxyXG4gICAgICAgICAgICAgICAgYW5kcm9pZDogXCJjcm9zc3pvb21cIixcclxuICAgICAgICAgICAgICAgIGZhbGxiYWNrOiBcIm5vbmVcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIHB1YmxpYyBzdGF0aWMgbWV0aG9kczpcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog54++5Zyo5oyH5a6a44GV44KM44Gm44GE44KLIFVJIFBsYXRmb3JtIOOCkuWPluW+l1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7U3RyaW5nfSBleCkgXCJpb3NcIlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZ2V0Q3VycmVudFVJUGxhdGZvcm0oKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgY29uc3QgJGh0bXMgPSAkKFwiaHRtbFwiKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSB0aGlzLnNfcGxhdGZvcm1zLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRodG1zLmhhc0NsYXNzKFwidWktcGxhdGZvcm0tXCIgKyB0aGlzLnNfcGxhdGZvcm1zW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNfcGxhdGZvcm1zW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVUkgUGxhdGZvcm0g44KS6Kit5a6aXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRydWU6IOaIkOWKnyAvIGZhbHNlOiDlpLHmlZdcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHNldEN1cnJlbnRVSVBsYXRmb3JtKHBsYXRmb3JtOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgaWYgKG51bGwgPT0gcGxhdGZvcm0gfHwgdGhpcy5zX3BsYXRmb3Jtcy5pbmRleE9mKHBsYXRmb3JtKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCAkaHRtcyA9ICQoXCJodG1sXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zX3BsYXRmb3Jtcy5mb3JFYWNoKCh0YXJnZXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAkaHRtcy5yZW1vdmVDbGFzcyhcInVpLXBsYXRmb3JtLVwiICsgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXRmb3JtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0bXMuYWRkQ2xhc3MoXCJ1aS1wbGF0Zm9ybS1cIiArIHBsYXRmb3JtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDnj77lnKjjga4gUGxhdGZvcm0g44KS5Yik5a6a44GX5pyA6YGp44GqIHBsYXRmb3JtIOOCkuiHquWLleaxuuWumlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7U3RyaW5nfSBleCkgXCJpb3NcIlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZGV0ZWN0VUlQbGF0Zm9ybSgpOiB2b2lkIHtcclxuICAgICAgICAgICAgLy8gcGxhdGZvcm0g44Gu6Kit5a6aXHJcbiAgICAgICAgICAgIGlmIChGcmFtZXdvcmsuUGxhdGZvcm0uaU9TKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiaHRtbFwiKS5hZGRDbGFzcyhcInVpLXBsYXRmb3JtLWlvc1wiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoXCJodG1sXCIpLmFkZENsYXNzKFwidWktcGxhdGZvcm0tYW5kcm9pZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBQQyDjg4fjg5Djg4PjgrDnkrDlooPjgafjga/jgrnjgq/jg63jg7zjg6vjg5Djg7zjgpLooajnpLpcclxuICAgICAgICAgICAgaWYgKENvbmZpZy5ERUJVRyAmJiAhRnJhbWV3b3JrLlBsYXRmb3JtLk1vYmlsZSkge1xyXG4gICAgICAgICAgICAgICAgJChcImJvZHlcIikuY3NzKFwib3ZlcmZsb3cteVwiLCBcInNjcm9sbFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogcGxhdGZvcm0g44KS6YWN5YiX44Gn6Kit5a6aXHJcbiAgICAgICAgICog5LiK5pu444GN44GV44KM44KLXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBwbGF0Zm9ybXMgW2luXSBPUyBleCk6IFtcImlvc1wiLCBcImFuZHJvaWRcIl1cclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHNldFVJUGxhdGZvcm1zKHBsYXRmb3Jtczogc3RyaW5nW10pOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHBsYXRmb3Jtcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zX3BsYXRmb3JtcyA9IHBsYXRmb3JtcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogcGFnZSB0cmFuc2l0aW9uIOOCkuioreWumlxyXG4gICAgICAgICAqIOS4iuabuOOBjeOBleOCjOOCi1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtUcmFuc2l0aW9uTWFwfSBtYXAgW2luXSBUcmFuc2l0aW9uTWFwIOOCkuaMh+WumlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgc2V0UGFnZVRyYW5zaXRpb25NYXAobWFwOiBUcmFuc2l0aW9uTWFwKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmIChtYXApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc19wYWdlVHJhbnNpdGlvbk1hcCA9IG1hcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogZGlhbG9nIHRyYW5zaXRpb24g44KS6Kit5a6aXHJcbiAgICAgICAgICog5LiK5pu444GN44GV44KM44KLXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge1RyYW5zaXRpb25NYXB9IG1hcCBbaW5dIFRyYW5zaXRpb25NYXAg44KS5oyH5a6aXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBzZXREaWFsb2dUcmFuc2l0aW9uTWFwKG1hcDogVHJhbnNpdGlvbk1hcCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAobWFwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNfZGlhbG9nVHJhbnNpdGlvbk1hcCA9IG1hcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogcGFnZSB0cmFuc2l0aW9uIOOCkuWPluW+l1xyXG4gICAgICAgICAqIFRyYW5zaXRpb25NYXAg44Gr44Ki44K144Kk44Oz44GV44KM44Gm44GE44KL44KC44Gu44Gn44GC44KM44Gw5aSJ5o+bXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtTdHJpbmdbXX0gXCJzbGlkZVwiXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBxdWVyeVBhZ2VUcmFuc2l0aW9uKG9yaWdpbmFsOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICBjb25zdCBjb252ZXJ0ID0gdGhpcy5zX3BhZ2VUcmFuc2l0aW9uTWFwW29yaWdpbmFsXTtcclxuICAgICAgICAgICAgaWYgKGNvbnZlcnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb252ZXJ0W3RoaXMuZ2V0Q3VycmVudFVJUGxhdGZvcm0oKV0gfHwgY29udmVydC5mYWxsYmFjaztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogZGlhbG9nIHRyYW5zaXRpb24g44KS5Y+W5b6XXHJcbiAgICAgICAgICogVHJhbnNpdGlvbk1hcCDjgavjgqLjgrXjgqTjg7PjgZXjgozjgabjgYTjgovjgoLjga7jgafjgYLjgozjgbDlpInmj5tcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1N0cmluZ1tdfSBcInNsaWRlXCJcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHF1ZXJ5RGlhbG9nVHJhbnNpdGlvbihvcmlnaW5hbDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICAgICAgY29uc3QgY29udmVydCA9IHRoaXMuc19kaWFsb2dUcmFuc2l0aW9uTWFwW29yaWdpbmFsXTtcclxuICAgICAgICAgICAgaWYgKGNvbnZlcnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb252ZXJ0W3RoaXMuZ2V0Q3VycmVudFVJUGxhdGZvcm0oKV0gfHwgY29udmVydC5mYWxsYmFjaztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18vL1xyXG5cclxuICAgIC8vIGpxdWV5Lm1vYmlsZS5jaGFuZ2VQYWdlKCkg44GuIEhvb2suXHJcbiAgICBmdW5jdGlvbiBhcHBseUN1c3RvbUNoYW5nZVBhZ2UoKSB7XHJcbiAgICAgICAgY29uc3QganFtQ2hhbmdlUGFnZTogKHRvOiBhbnksIG9wdGlvbnM/OiBDaGFuZ2VQYWdlT3B0aW9ucykgPT4gdm9pZCA9IF8uYmluZCgkLm1vYmlsZS5jaGFuZ2VQYWdlLCAkLm1vYmlsZSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGN1c3RvbUNoYW5nZVBhZ2UodG86IGFueSwgb3B0aW9ucz86IENoYW5nZVBhZ2VPcHRpb25zKTogdm9pZCB7XHJcbiAgICAgICAgICAgIGlmIChfLmlzU3RyaW5nKHRvKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy50cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy50cmFuc2l0aW9uID0gVGhlbWUucXVlcnlQYWdlVHJhbnNpdGlvbihvcHRpb25zLnRyYW5zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGpxbUNoYW5nZVBhZ2UodG8sIG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJC5tb2JpbGUuY2hhbmdlUGFnZSA9IGN1c3RvbUNoYW5nZVBhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZnJhbWV3b3JrIOWIneacn+WMluW+jOOBq+mBqeeUqFxyXG4gICAgRnJhbWV3b3JrLndhaXRGb3JJbml0aWFsaXplKClcclxuICAgICAgICAuZG9uZSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGFwcGx5Q3VzdG9tQ2hhbmdlUGFnZSgpO1xyXG4gICAgICAgIH0pO1xyXG59XHJcbiIsIm5hbWVzcGFjZSBDRFAuVUkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGludGVyZmFjZSBEb21FeHRlbnNpb25PcHRpb25zXHJcbiAgICAgKiBAYnJlaWYgRG9tRXh0ZW5zaW9uIOOBq+a4oeOBmeOCquODl+OCt+ODp+ODs+OCpOODs+OCv+ODvOODleOCp+OCpOOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIERvbUV4dGVuc2lvbk9wdGlvbnMge1xyXG4gICAgICAgIFtrZXk6IHN0cmluZ106IGFueTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEB0eXBlIERvbUV4dGVuc2lvblxyXG4gICAgICogQGJyaWVmIERPTSDmi6HlvLXplqLmlbBcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IHR5cGUgRG9tRXh0ZW5zaW9uID0gKCR0YXJnZXQ6IEpRdWVyeSwgRG9tRXh0ZW5zaW9uT3B0aW9ucz86IE9iamVjdCkgPT4gSlF1ZXJ5O1xyXG5cclxuICAgIC8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAY2xhc3MgRXh0ZW5zaW9uTWFuYWdlclxyXG4gICAgICogQGJyaWVmIOaLoeW8teapn+iDveOCkueuoeeQhuOBmeOCi+ODpuODvOODhuOCo+ODquODhuOCo+OCr+ODqeOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgY2xhc3MgRXh0ZW5zaW9uTWFuYWdlciB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHNfZG9tRXh0ZW5zaW9uczogRG9tRXh0ZW5zaW9uW10gPSBbXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRE9NIOaLoeW8temWouaVsOOBrueZu+mMslxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtEb21FeHRlbnNpb259IGZ1bmMgW2luXSBET00g5ouh5by16Zai5pWwXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyByZWdpc3RlckRvbUV4dGVuc2lvbihmdW5jOiBEb21FeHRlbnNpb24pOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5zX2RvbUV4dGVuc2lvbnMucHVzaChmdW5jKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERPTSDmi6HlvLXjgpLpgannlKhcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAkdWkgICAgICAgW2luXSDmi6HlvLXlr77osaHjga4gRE9NXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBbaW5dIOOCquODl+OCt+ODp+ODs1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgYXBwbHlEb21FeHRlbnNpb24oJHVpOiBKUXVlcnksIG9wdGlvbnM/OiBEb21FeHRlbnNpb25PcHRpb25zKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuc19kb21FeHRlbnNpb25zLmZvckVhY2goKGZ1bmM6IERvbUV4dGVuc2lvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZnVuYygkdWksIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLyogdHNsaW50OmRpc2FibGU6bm8tYml0d2lzZSAqL1xyXG5cclxubmFtZXNwYWNlIENEUC5VSSB7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlVJLlRvYXN0XSBcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBjbGFzcyBUb2FzdFxyXG4gICAgICogQGJyaWVmIEFuZHJvaWQgU0RLIOOBriBUb2FzdCDjgq/jg6njgrnjga7jgojjgYbjgavoh6rli5Xmtojmu4XjgZnjgovjg6Hjg4Pjgrvjg7zjgrjlh7rlipvjg6bjg7zjg4bjgqPjg6rjg4bjgqNcclxuICAgICAqICAgICAgICDlhaXjgozlrZDjga7plqLkv4LjgpLlrp/nj77jgZnjgovjgZ/jgoHjgasgbW9kdWxlIOOBp+Wun+ijhVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgbW9kdWxlIFRvYXN0IHtcclxuXHJcbiAgICAgICAgLy8g6KGo56S65pmC6ZaT44Gu5a6a576pXHJcbiAgICAgICAgZXhwb3J0IGxldCBMRU5HVEhfU0hPUlQgPSAxNTAwOyAgIC8vITwg55+t44GEOjE1MDAgbXNlY1xyXG4gICAgICAgIGV4cG9ydCBsZXQgTEVOR1RIX0xPTkcgID0gNDAwMDsgICAvLyE8IOmVt+OBhDo0MDAwIG1zZWNcclxuXHJcbiAgICAgICAgLy8hIEBlbnVtIOOCquODleOCu+ODg+ODiOOBruWfuua6llxyXG4gICAgICAgIGV4cG9ydCBlbnVtIE9mZnNldFgge1xyXG4gICAgICAgICAgICBMRUZUICAgID0gMHgwMDAxLFxyXG4gICAgICAgICAgICBSSUdIVCAgID0gMHgwMDAyLFxyXG4gICAgICAgICAgICBDRU5URVIgID0gMHgwMDA0LFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIEBlbnVtIOOCquODleOCu+ODg+ODiOOBruWfuua6llxyXG4gICAgICAgIGV4cG9ydCBlbnVtIE9mZnNldFkge1xyXG4gICAgICAgICAgICBUT1AgICAgID0gMHgwMDEwLFxyXG4gICAgICAgICAgICBCT1RUT00gID0gMHgwMDIwLFxyXG4gICAgICAgICAgICBDRU5URVIgID0gMHgwMDQwLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGludGVyZmFjZSBTdHlsZUJ1aWxkZXJcclxuICAgICAgICAgKiBAYnJpZWYgICAgIOOCueOCv+OCpOODq+WkieabtOaZguOBq+S9v+eUqOOBmeOCi+OCpOODs+OCv+ODvOODleOCp+OCpOOCuVxyXG4gICAgICAgICAqICAgICAgICAgICAgY3NzIOOBq+OCueOCv+OCpOODq+OCkumAg+OBjOOBmeWgtOWQiOOAgeeLrOiHquOBriBjbGFzcyDjgpLoqK3lrprjgZfjgIFnZXRTdHlsZSDjga8gbnVsbCDjgpLov5TjgZnjgZPjgajjgIJcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIFN0eWxlQnVpbGRlciB7XHJcbiAgICAgICAgICAgIC8vISBjbGFzcyBhdHRyaWJ1dGUg44Gr6Kit5a6a44GZ44KL5paH5a2X5YiX44KS5Y+W5b6XXHJcbiAgICAgICAgICAgIGdldENsYXNzKCk6IHN0cmluZztcclxuICAgICAgICAgICAgLy8hIHN0eWxlIGF0dHJpYnV0ZSDjgavoqK3lrprjgZnjgosgSlNPTiDjgqrjg5bjgrjjgqfjgq/jg4jjgpLlj5blvpdcclxuICAgICAgICAgICAgZ2V0U3R5bGUoKTogYW55O1xyXG4gICAgICAgICAgICAvLyEg44Kq44OV44K744OD44OI44Gu5Z+65rqW5L2N572u44KS5Y+W5b6XXHJcbiAgICAgICAgICAgIGdldE9mZnNldFBvaW50KCk6IG51bWJlcjtcclxuICAgICAgICAgICAgLy8hIFgg5bqn5qiZ44Gu44Kq44OV44K744OD44OI5YCk44KS5Y+W5b6XXHJcbiAgICAgICAgICAgIGdldE9mZnNldFgoKTogbnVtYmVyO1xyXG4gICAgICAgICAgICAvLyEgWSDluqfmqJnjga7jgqrjg5Xjgrvjg4Pjg4jlgKTjgpLlj5blvpdcclxuICAgICAgICAgICAgZ2V0T2Zmc2V0WSgpOiBudW1iZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAY2xhc3MgU3R5bGVCdWlsZGVyRGVmYXVsdFxyXG4gICAgICAgICAqIEBicmllZiDjgrnjgr/jgqTjg6vlpInmm7TmmYLjgavkvb/nlKjjgZnjgovml6Llrprjga7mp4vpgKDkvZPjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAgICAgKi9cclxuICAgICAgICBleHBvcnQgY2xhc3MgU3R5bGVCdWlsZGVyRGVmYXVsdCBpbXBsZW1lbnRzIFN0eWxlQnVpbGRlciB7XHJcblxyXG4gICAgICAgICAgICAvLyEgY2xhc3MgYXR0cmlidXRlIOOBq+ioreWumuOBmeOCi+aWh+Wtl+WIl+OCkuWPluW+l1xyXG4gICAgICAgICAgICBnZXRDbGFzcygpOiBzdHJpbmcge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwidWktbG9hZGVyIHVpLW92ZXJsYXktc2hhZG93IHVpLWNvcm5lci1hbGxcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8hIHN0eWxlIGF0dHJpYnV0ZSDjgavoqK3lrprjgZnjgosgSlNPTiDjgqrjg5bjgrjjgqfjgq/jg4jjgpLlj5blvpdcclxuICAgICAgICAgICAgZ2V0U3R5bGUoKTogYW55IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIFwicGFkZGluZ1wiOiAgICAgICAgICBcIjdweCAyNXB4IDdweCAyNXB4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJkaXNwbGF5XCI6ICAgICAgICAgIFwiYmxvY2tcIixcclxuICAgICAgICAgICAgICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjogXCIjMWQxZDFkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJib3JkZXItY29sb3JcIjogICAgIFwiIzFiMWIxYlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiY29sb3JcIjogICAgICAgICAgICBcIiNmZmZcIixcclxuICAgICAgICAgICAgICAgICAgICBcInRleHQtc2hhZG93XCI6ICAgICAgXCIwIDFweCAwICMxMTFcIixcclxuICAgICAgICAgICAgICAgICAgICBcImZvbnQtd2VpZ2h0XCI6ICAgICAgXCJib2xkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJvcGFjaXR5XCI6ICAgICAgICAgIDAuOCxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vISDjgqrjg5Xjgrvjg4Pjg4jjga7ln7rmupbkvY3nva7jgpLlj5blvpdcclxuICAgICAgICAgICAgZ2V0T2Zmc2V0UG9pbnQoKTogbnVtYmVyIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBPZmZzZXRYLkNFTlRFUiB8IE9mZnNldFkuQk9UVE9NO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyEgWCDluqfmqJnjga7jgqrjg5Xjgrvjg4Pjg4jlgKTjgpLlj5blvpdcclxuICAgICAgICAgICAgZ2V0T2Zmc2V0WCgpOiBudW1iZXIge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vISBZIOW6p+aomeOBruOCquODleOCu+ODg+ODiOWApOOCkuWPluW+l1xyXG4gICAgICAgICAgICBnZXRPZmZzZXRZKCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTc1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUb2FzdCDooajnpLpcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBtZXNzYWdlICBbaW5dIOODoeODg+OCu+ODvOOCuFxyXG4gICAgICAgICAqIEBwYXJhbSBkdXJhdGlvbiBbaW5dIOihqOekuuaZgumWk+OCkuioreWumiAobXNlYykgZGVmYXVsdDogTEVOR1RIX1NIT1JUXHJcbiAgICAgICAgICogQHBhcmFtIHN0eWxlICAgIFtpbl0g44K544K/44Kk44Or5aSJ5pu044GZ44KL5aC05ZCI44Gr44Gv5rS+55Sf44Kv44Op44K544Kq44OW44K444Kn44Kv44OI44KS5oyH5a6aXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIHNob3cobWVzc2FnZTogc3RyaW5nLCBkdXJhdGlvbjogbnVtYmVyID0gVG9hc3QuTEVOR1RIX1NIT1JULCBzdHlsZT86IFN0eWxlQnVpbGRlcik6IHZvaWQge1xyXG4gICAgICAgICAgICBjb25zdCAkbW9iaWxlID0gJC5tb2JpbGU7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZm8gPSBzdHlsZSB8fCBuZXcgU3R5bGVCdWlsZGVyRGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zdCBzZXRDU1MgPSBpbmZvLmdldFN0eWxlKCkgPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyDmlLnooYzjgrPjg7zjg4njga8gPGJyLz4g44Gr572u5o+b44GZ44KLXHJcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IG1lc3NhZ2UucmVwbGFjZSgvXFxuL2csIFwiPGJyLz5cIik7XHJcblxyXG4gICAgICAgICAgICAvLyDjg6Hjg4Pjgrvjg7zjgrggZWxlbWVudCDjga7li5XnmoTnlJ/miJBcclxuICAgICAgICAgICAgY29uc3QgaHRtbCA9IFwiPGRpdj5cIiArIG1zZyArIFwiPC9kaXY+XCI7XHJcbiAgICAgICAgICAgIGNvbnN0IGJveCA9ICQoaHRtbCkuYWRkQ2xhc3MoaW5mby5nZXRDbGFzcygpKTtcclxuICAgICAgICAgICAgaWYgKHNldENTUykge1xyXG4gICAgICAgICAgICAgICAgYm94LmNzcyhpbmZvLmdldFN0eWxlKCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyDoh6rli5XmlLnooYzjgZXjgozjgabjgoLjgojjgYTjgojjgYbjgavjgIHln7rngrnjgpLoqK3lrprjgZfjgabjgYvjgonov73liqBcclxuICAgICAgICAgICAgYm94LmNzcyh7XHJcbiAgICAgICAgICAgICAgICBcInRvcFwiOiAwLFxyXG4gICAgICAgICAgICAgICAgXCJsZWZ0XCI6IDAsXHJcbiAgICAgICAgICAgIH0pLmFwcGVuZFRvKCRtb2JpbGUucGFnZUNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgICAgICAvLyDphY3nva7kvY3nva7jga7msbrlrppcclxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0UG9pbnQgPSBpbmZvLmdldE9mZnNldFBvaW50KCk7XHJcbiAgICAgICAgICAgIGNvbnN0ICR3aW5kb3cgPSAkKHdpbmRvdyk7XHJcbiAgICAgICAgICAgIGxldCBwb3NYLCBwb3NZO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYm94X3dpZHRoID0gYm94LndpZHRoKCkgKyBwYXJzZUludChib3guY3NzKFwicGFkZGluZy1sZWZ0XCIpLCAxMCkgKyBwYXJzZUludChib3guY3NzKFwicGFkZGluZy1yaWdodFwiKSwgMTApO1xyXG4gICAgICAgICAgICBjb25zdCBib3hfaGVpZ2h0ID0gYm94LmhlaWdodCgpICsgcGFyc2VJbnQoYm94LmNzcyhcInBhZGRpbmctdG9wXCIpLCAxMCkgKyBwYXJzZUludChib3guY3NzKFwicGFkZGluZy1ib3R0b21cIiksIDEwKTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAob2Zmc2V0UG9pbnQgJiAweDAwMEYpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgT2Zmc2V0WC5MRUZUOlxyXG4gICAgICAgICAgICAgICAgICAgIHBvc1ggPSAwICsgaW5mby5nZXRPZmZzZXRYKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE9mZnNldFguUklHSFQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zWCA9ICR3aW5kb3cud2lkdGgoKSAtIGJveF93aWR0aCArIGluZm8uZ2V0T2Zmc2V0WCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBPZmZzZXRYLkNFTlRFUjpcclxuICAgICAgICAgICAgICAgICAgICBwb3NYID0gKCR3aW5kb3cud2lkdGgoKSAvIDIpIC0gKGJveF93aWR0aCAvIDIpICsgaW5mby5nZXRPZmZzZXRYKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcgKyBcIndhcm4uIHVua25vd24gb2Zmc2V0UG9pbnQ6XCIgKyAob2Zmc2V0UG9pbnQgJiAweDAwMEYpKTtcclxuICAgICAgICAgICAgICAgICAgICBwb3NYID0gKCR3aW5kb3cud2lkdGgoKSAvIDIpIC0gKGJveF93aWR0aCAvIDIpICsgaW5mby5nZXRPZmZzZXRYKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAob2Zmc2V0UG9pbnQgJiAweDAwRjApIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgT2Zmc2V0WS5UT1A6XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zWSA9IDAgKyBpbmZvLmdldE9mZnNldFkoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgT2Zmc2V0WS5CT1RUT006XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zWSA9ICR3aW5kb3cuaGVpZ2h0KCkgLSBib3hfaGVpZ2h0ICsgaW5mby5nZXRPZmZzZXRZKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE9mZnNldFkuQ0VOVEVSOlxyXG4gICAgICAgICAgICAgICAgICAgIHBvc1kgPSAoJHdpbmRvdy5oZWlnaHQoKSAvIDIpIC0gKGJveF9oZWlnaHQgLyAyKSArIGluZm8uZ2V0T2Zmc2V0WSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHICsgXCJ3YXJuLiB1bmtub3duIG9mZnNldFBvaW50OlwiICsgKG9mZnNldFBvaW50ICYgMHgwMEYwKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zWSA9ICgkd2luZG93LmhlaWdodCgpIC8gMikgLSAoYm94X2hlaWdodCAvIDIpICsgaW5mby5nZXRPZmZzZXRZKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIOihqOekulxyXG4gICAgICAgICAgICBib3guY3NzKHtcclxuICAgICAgICAgICAgICAgIFwidG9wXCI6IHBvc1ksXHJcbiAgICAgICAgICAgICAgICBcImxlZnRcIjogcG9zWCxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmRlbGF5KGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAuZmFkZU91dCg0MDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgQ0RQLlVJIHtcclxuXHJcbiAgICBpbXBvcnQgUHJvbWlzZSAgICAgID0gQ0RQLlByb21pc2U7XHJcbiAgICBpbXBvcnQgRnJhbWV3b3JrICAgID0gQ0RQLkZyYW1ld29yaztcclxuXHJcbiAgICBjb25zdCBUQUcgPSBcIltDRFAuVUkuRGlhbG9nXSBcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEgvVyBCYWNrIEtleSBIb29rIOmWouaVsFxyXG4gICAgICovXHJcbiAgICBleHBvcnQgdHlwZSBEaWFsb2dCYWNrS2V5SGFuZGxlciA9IChldmVudD86IEpRdWVyeS5FdmVudCkgPT4gdm9pZDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcmZhY2UgRGlhbG9nT3B0aW9uc1xyXG4gICAgICogICAgICAgICAgICDjg4DjgqTjgqLjg63jgrDjgqrjg5fjgrfjg6fjg7PjgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBEaWFsb2dPcHRpb25zIGV4dGVuZHMgUG9wdXBPcHRpb25zIHtcclxuICAgICAgICBzcmM/OiBzdHJpbmc7ICAgICAgICAgICAgICAgICAgIC8vITwge1N0cmluZ30gdGVtcGxhdGUg44OV44Kh44Kk44Or44Gu44OR44K5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogdW5kZWZpbmVkXHJcbiAgICAgICAgdGl0bGU/OiBzdHJpbmc7ICAgICAgICAgICAgICAgICAvLyE8IHtTdHJpbmd9IOODgOOCpOOCouODreOCsOOCv+OCpOODiOODqyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogdW5kZWZpbmVkXHJcbiAgICAgICAgbWVzc2FnZT86IHN0cmluZzsgICAgICAgICAgICAgICAvLyE8IHtTdHJpbmd9IOODoeOCpOODs+ODoeODg+OCu+ODvOOCuCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB1bmRlZmluZWRcclxuICAgICAgICBpZFBvc2l0aXZlPzogc3RyaW5nOyAgICAgICAgICAgIC8vITwge1N0cmluZ30gUG9zaXRpdmUg44Oc44K/44Oz44GuSUQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCJkbGctYnRuLXBvc2l0aXZlXCJcclxuICAgICAgICBpZE5lZ2F0aXZlPzogc3RyaW5nOyAgICAgICAgICAgIC8vITwge1N0cmluZ30gTmFnYXRpdmUg44Oc44K/44Oz44GuSUQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogXCJkbGctYnRuLW5lZ2F0aXZlXCJcclxuICAgICAgICBldmVudD86IHN0cmluZzsgICAgICAgICAgICAgICAgIC8vITwge1N0cmluZ30gRGlhbG9nIOOCr+ODqeOCueOBjOeuoeeQhuOBmeOCi+OCpOODmeODs+ODiCAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcInZjbGlja1wiXHJcbiAgICAgICAgZGVmYXVsdEF1dG9DbG9zZT86IGJvb2xlYW47ICAgICAvLyE8IHtCb29sZWFufSBkYXRhLWF1dG8tY2xvc2Ug44GM5oyH5a6a44GV44KM44Gm44GE44Gq44GE5aC05ZCI44Gu5pei5a6a5YCkICAgICAgICAgZGVmYXVsdDogZmFsc2VcclxuICAgICAgICBmb3JjZU92ZXJ3cml0ZUFmdGVyQ2xvc2U/OiBib29sZWFuOyAvLyE8IHtCb29sZWFufSBhZnRlcmNsb3NlIOOCquODl+OCt+ODp+ODs+OCkuW8t+WItuS4iuabuOOBjeOBmeOCi+OBn+OCgeOBruioreWumiAgICBkZWZhdWx0OiBmYWxzZVxyXG4gICAgICAgIGxhYmVsUG9zaXRpdmU/OiBzdHJpbmc7ICAgICAgICAgLy8hPCB7U3RyaW5nfSBQb3NpdGl2ZSDjg5zjgr/jg7Pjg6njg5njg6sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiT0tcIlxyXG4gICAgICAgIGxhYmVsTmVnYXRpdmU/OiBzdHJpbmc7ICAgICAgICAgLy8hPCB7U3RyaW5nfSBOZWdhdGl2ZSDjg5zjgr/jg7Pjg6njg5njg6sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IFwiQ2FuY2VsXCJcclxuICAgICAgICBiYWNrS2V5PzogXCJjbG9zZVwiIHwgXCJkZW55XCIgfCBEaWFsb2dCYWNrS2V5SGFuZGxlcjsgIC8vITwgSC9XIGJhY2tLZXkg44Gu5oyv44KL6Iie44GEICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBcImNsb3NlXCJcclxuICAgICAgICBzY3JvbGxFdmVudD86IFwiZGVueVwiIHwgXCJhbGxvd1wiIHwgXCJhZGp1c3RcIjsgICAvLyE8IHtTdHJpbmd9IHNjcm9sbOOBruaKkeatouaWueW8jyAgKOKAuyBhZGp1c3Qg44Gv6Kmm6aiT55qEKSAgICAgZGVmYXVsdDogXCJkZW55XCJcclxuICAgICAgICBkb21FeHRlbnNpb25PcHRpb25zPzogRG9tRXh0ZW5zaW9uT3B0aW9uczsgICAvLyE8IERPTeaLoeW8teOCquODl+OCt+ODp+ODsy4gbnVsbHx1bmRlZmluZWQg44Gn5ouh5by144GX44Gq44GEICAgICAgZGVmYXVsdDoge31cclxuICAgICAgICBbeDogc3RyaW5nXTogYW55OyAgICAgICAgICAgICAgIC8vITwgYW55IGRpYWxvZyB0ZW1wbGF0ZSBwYXJhbWV0ZXJzLlxyXG4gICAgfVxyXG5cclxuICAgIC8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAY2xhc3MgRGlhbG9nXHJcbiAgICAgKiBAYnJpZWYg5rGO55So44OA44Kk44Ki44Ot44Kw44Kv44Op44K5XHJcbiAgICAgKiAgICAgICAgalFNIOOBriBwb3B1cCB3aWRnZXQg44Gr44KI44Gj44Gm5a6f6KOFXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjbGFzcyBEaWFsb2cge1xyXG5cclxuICAgICAgICBwcml2YXRlIF90ZW1wbGF0ZTogVG9vbHMuSlNUID0gbnVsbDtcclxuICAgICAgICBwcml2YXRlIF9zZXR0aW5nczogRGlhbG9nT3B0aW9ucyA9IG51bGw7XHJcbiAgICAgICAgcHJpdmF0ZSBfJGRpYWxvZzogSlF1ZXJ5ID0gbnVsbDtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgc19hY3RpdmVEaWFsb2c6IERpYWxvZyA9IG51bGw7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgc19vbGRCYWNrS2V5SGFuZGxlcjogKGV2ZW50PzogSlF1ZXJ5LkV2ZW50KSA9PiB2b2lkID0gbnVsbDtcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBzX2RlZmF1bHRPcHRpb25zOiBEaWFsb2dPcHRpb25zID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogY29uc3RydWN0b3JcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBpZCAgICAgIHtTdHJpbmd9ICAgICAgICBbaW5dIOODgOOCpOOCouODreOCsCBET00gSUQg44KS5oyH5a6aIGV4KSAjZGlhbG9nLWhvZ2VcclxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyB7RGlhbG9nT3B0aW9uc30gW2luXSDjgqrjg5fjgrfjg6fjg7NcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nLCBvcHRpb25zPzogRGlhbG9nT3B0aW9ucykge1xyXG4gICAgICAgICAgICAvLyBEaWFsb2cg5YWx6YCa6Kit5a6a44Gu5Yid5pyf5YyWXHJcbiAgICAgICAgICAgIERpYWxvZy5pbml0Q29tbW9uQ29uZGl0aW9uKCk7XHJcbiAgICAgICAgICAgIC8vIOioreWumuOCkuabtOaWsFxyXG4gICAgICAgICAgICB0aGlzLl9zZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCBEaWFsb2cuc19kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIC8vIOODgOOCpOOCouODreOCsOODhuODs+ODl+ODrOODvOODiOOCkuS9nOaIkFxyXG4gICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZSA9IFRvb2xzLlRlbXBsYXRlLmdldEpTVChpZCwgdGhpcy5fc2V0dGluZ3Muc3JjKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gcHVibGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog6KGo56S6XHJcbiAgICAgICAgICog6KGo56S644KS44GX44Gm5aeL44KB44GmIERPTSDjgYzmnInlirnjgavjgarjgovjgIJcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zIHtEaWFsb2dPcHRpb25zfSBbaW5dIOOCquODl+OCt+ODp+ODsyAoc3JjIOOBr+eEoeimluOBleOCjOOCiylcclxuICAgICAgICAgKiBAcmV0dXJuIOODgOOCpOOCouODreOCsOOBriBqUXVlcnkg44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHNob3cob3B0aW9ucz86IERpYWxvZ09wdGlvbnMpOiBKUXVlcnkge1xyXG4gICAgICAgICAgICBjb25zdCAkZG9jdW1lbnQgPSAkKGRvY3VtZW50KTtcclxuICAgICAgICAgICAgY29uc3QgJGJvZHkgPSAkKFwiYm9keVwiKTtcclxuICAgICAgICAgICAgY29uc3QgJHBhZ2UgPSAoPGFueT4kYm9keSkucGFnZWNvbnRhaW5lcihcImdldEFjdGl2ZVBhZ2VcIik7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBvZmNIaWRkZW4gPSB7XHJcbiAgICAgICAgICAgICAgICBcIm92ZXJmbG93XCI6ICAgICBcImhpZGRlblwiLFxyXG4gICAgICAgICAgICAgICAgXCJvdmVyZmxvdy14XCI6ICAgXCJoaWRkZW5cIixcclxuICAgICAgICAgICAgICAgIFwib3ZlcmZsb3cteVwiOiAgIFwiaGlkZGVuXCIsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IG9mY0JvZHkgPSB7IC8vIGJvZHkgb3ZlcmZsb3cgY29udGV4dFxyXG4gICAgICAgICAgICAgICAgXCJvdmVyZmxvd1wiOiAgICAgJGJvZHkuY3NzKFwib3ZlcmZsb3dcIiksXHJcbiAgICAgICAgICAgICAgICBcIm92ZXJmbG93LXhcIjogICAkYm9keS5jc3MoXCJvdmVyZmxvdy14XCIpLFxyXG4gICAgICAgICAgICAgICAgXCJvdmVyZmxvdy15XCI6ICAgJGJvZHkuY3NzKFwib3ZlcmZsb3cteVwiKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgcGFyZW50U2Nyb2xsUG9zID0gJGJvZHkuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9mY1BhZ2UgPSB7IC8vIHBhZ2Ugb3ZlcmZsb3cgY29udGV4dFxyXG4gICAgICAgICAgICAgICAgXCJvdmVyZmxvd1wiOiAgICAgJHBhZ2UuY3NzKFwib3ZlcmZsb3dcIiksXHJcbiAgICAgICAgICAgICAgICBcIm92ZXJmbG93LXhcIjogICAkcGFnZS5jc3MoXCJvdmVyZmxvdy14XCIpLFxyXG4gICAgICAgICAgICAgICAgXCJvdmVyZmxvdy15XCI6ICAgJHBhZ2UuY3NzKFwib3ZlcmZsb3cteVwiKSxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbEV2ZW50ID0gXCJzY3JvbGwgdG91Y2htb3ZlIG1vdXNlbW92ZSBNU1BvaW50ZXJNb3ZlXCI7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxIYW5kZXIgPSAoZXZlbnQ6IEpRdWVyeS5FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKFwiZGVueVwiID09PSB0aGlzLl9zZXR0aW5ncy5zY3JvbGxFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwiYWRqdXN0XCIgPT09IHRoaXMuX3NldHRpbmdzLnNjcm9sbEV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGJvZHkuc2Nyb2xsVG9wKHBhcmVudFNjcm9sbFBvcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBvcHRpb24g44GM5oyH5a6a44GV44KM44Gm44GE44Gf5aC05ZCI5pu05pawXHJcbiAgICAgICAgICAgIGlmIChudWxsICE9IG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzID0gJC5leHRlbmQoe30sIHRoaXMuX3NldHRpbmdzLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gYWZ0ZXJjbG9zZSDlh6bnkIbjga8gRGlhbG9nIOOBruegtOajhOWHpueQhuOCkuWun+ijheOBmeOCi+OBn+OCgeWfuuacrOeahOOBq+ioreWumuemgeatoiAo5by35Yi25LiK5pu444GN44Oi44O844OJ44KS6Kit5a6a5L2/55So5Y+vKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3MuYWZ0ZXJjbG9zZSAmJiAhdGhpcy5fc2V0dGluZ3MuZm9yY2VPdmVyd3JpdGVBZnRlckNsb3NlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHICsgXCJjYW5ub3QgYWNjZXB0ICdhZnRlcmNsb3NlJyBvcHRpb24uIHBsZWFzZSBpbnN0ZWFkIHVzaW5nICdwb3B1cGFmdGVyY2xvc2UnIGV2ZW50LlwiKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zZXR0aW5ncy5hZnRlcmNsb3NlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB0aXRsZSDjga7mnInnhKFcclxuICAgICAgICAgICAgKDxhbnk+dGhpcy5fc2V0dGluZ3MpLl90aXRsZVN0YXRlID0gdGhpcy5fc2V0dGluZ3MudGl0bGUgPyBcInVpLWhhcy10aXRsZVwiIDogXCJ1aS1uby10aXRsZVwiO1xyXG5cclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICogdGVtcGxhdGUg44GL44KJIGpRdWVyeSDjgqrjg5bjgrjjgqfjgq/jg4jjgpLkvZzmiJDjgZfjgIFcclxuICAgICAgICAgICAgICogPGJvZHk+IOebtOS4i+OBq+i/veWKoC5cclxuICAgICAgICAgICAgICogJHBhZ2Ug44Gn44GvIEJhY2tib25lIGV2ZW50IOOCkuWPl+OBkeOCieOCjOOBquOBhOOBk+OBqOOBq+azqOaEj1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdGhpcy5fJGRpYWxvZyA9ICQodGhpcy5fdGVtcGxhdGUodGhpcy5fc2V0dGluZ3MpKTtcclxuICAgICAgICAgICAgdGhpcy5fJGRpYWxvZy5sb2NhbGl6ZSgpO1xyXG4gICAgICAgICAgICAkYm9keS5hcHBlbmQodGhpcy5fJGRpYWxvZyk7XHJcblxyXG4gICAgICAgICAgICAvLyB0aGVtZSDjgpLop6PmsbpcclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlVGhlbWUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuXyRkaWFsb2dcclxuICAgICAgICAgICAgICAgIC5vbihcInBvcHVwY3JlYXRlXCIsIChldmVudDogSlF1ZXJ5LkV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g44K544Kv44Ot44O844Or44KS5oqR5q2iXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiYWxsb3dcIiAhPT0gdGhpcy5fc2V0dGluZ3Muc2Nyb2xsRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50Lm9uKHNjcm9sbEV2ZW50LCBzY3JvbGxIYW5kZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkYm9keS5jc3Mob2ZjSGlkZGVuKTtcclxuICAgICAgICAgICAgICAgICAgICAkcGFnZS5jc3Mob2ZjSGlkZGVuKTtcclxuICAgICAgICAgICAgICAgICAgICBEaWFsb2cucmVnaXN0ZXIodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmVuaGFuY2VXaXRoaW4oKTtcclxuXHJcbiAgICAgICAgICAgIC8vIERPTSDmi6HlvLVcclxuICAgICAgICAgICAgaWYgKG51bGwgIT0gdGhpcy5fc2V0dGluZ3MuZG9tRXh0ZW5zaW9uT3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgRXh0ZW5zaW9uTWFuYWdlci5hcHBseURvbUV4dGVuc2lvbih0aGlzLl8kZGlhbG9nLCB0aGlzLl9zZXR0aW5ncy5kb21FeHRlbnNpb25PcHRpb25zKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5vbkJlZm9yZVNob3coKVxyXG4gICAgICAgICAgICAgICAgLmRvbmUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOihqOekulxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuXyRkaWFsb2dcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnBvcHVwKCQuZXh0ZW5kKHt9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblRvOiBcIndpbmRvd1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJjbG9zZTogKGV2ZW50OiBKUXVlcnkuRXZlbnQsIHVpOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDjgrnjgq/jg63jg7zjg6vnirbmhYvjgpLmiLvjgZlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGFnZS5jc3Mob2ZjUGFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGJvZHkuY3NzKG9mY0JvZHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImFsbG93XCIgIT09IHRoaXMuX3NldHRpbmdzLnNjcm9sbEV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC5vZmYoc2Nyb2xsRXZlbnQsIHNjcm9sbEhhbmRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpYWxvZy5yZWdpc3RlcihudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZGlhbG9nLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuXyRkaWFsb2cgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5fc2V0dGluZ3MpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAucG9wdXAoXCJvcGVuXCIpLm9uKHRoaXMuX3NldHRpbmdzLmV2ZW50LCAoZXZlbnQ6IEpRdWVyeS5FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gXCJkYXRhLWF1dG8tY2xvc2U9J2ZhbHNlJ1wiIOOBjOaMh+WumuOBleOCjOOBpuOBhOOCi+imgee0oOOBryBkaWFsb2cg44KS6ZaJ44GY44Gq44GEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXV0b0Nsb3NlID0gJChldmVudC50YXJnZXQpLmF0dHIoXCJkYXRhLWF1dG8tY2xvc2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBhdXRvQ2xvc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvQ2xvc2UgPSB0aGlzLl9zZXR0aW5ncy5kZWZhdWx0QXV0b0Nsb3NlID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJmYWxzZVwiID09PSBhdXRvQ2xvc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmZhaWwoKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihUQUcgKyBcIkRpYWxvZy5zaG93KCkgZmFpbGVkLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fJGRpYWxvZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl8kZGlhbG9nLnRyaWdnZXIoXCJlcnJvclwiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fJGRpYWxvZztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOe1guS6hlxyXG4gICAgICAgICAqIOWfuuacrOeahOOBq+OBr+iHquWLleOBp+mWieOBmOOCi+OBjOOAgVxyXG4gICAgICAgICAqIOihqOekuuS4reOBruODgOOCpOOCouODreOCsOOCkuOCr+ODqeOCpOOCouODs+ODiOWBtOOBi+OCiemWieOBmOOCi+ODoeOCveODg+ODiVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBjbG9zZSgpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuXyRkaWFsb2cpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuXyRkaWFsb2cucG9wdXAoXCJjbG9zZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOODgOOCpOOCouODreOCsCBlbGVtZW50IOOCkuWPluW+l1xyXG4gICAgICAgIHB1YmxpYyBnZXQgJGVsKCk6IEpRdWVyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl8kZGlhbG9nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBwcm90ZWN0ZWQgbWV0aG9kczogT3ZlcnJpZGVcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog44OA44Kk44Ki44Ot44Kw6KGo56S644Gu55u05YmNXHJcbiAgICAgICAgICogRE9NIOOCkuaTjeS9nOOBp+OBjeOCi+OCv+OCpOODn+ODs+OCsOOBp+WRvOOBs+WHuuOBleOCjOOCiy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge0lQcm9taXNlQmFzZX0gcHJvbWlzZSDjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgb25CZWZvcmVTaG93KCk6IElQcm9taXNlQmFzZTx2b2lkPiB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmU8dm9pZD4oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOODgOOCpOOCouODreOCsOOBruS9v+eUqOOBmeOCiyBUaGVtZSDjgpLop6PmsbpcclxuICAgICAgICAgKiDkuI3opoHjgarloLTlkIjjga/jgqrjg7zjg5Djg7zjg6njgqTjg4njgZnjgovjgZPjgajjgoLlj6/og71cclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgcmVzb2x2ZVRoZW1lKCk6IHZvaWQge1xyXG4gICAgICAgICAgICBjb25zdCBxdWVyeVRoZW1lID0gKCk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJChcIi51aS1wYWdlLWFjdGl2ZVwiKS5qcW1EYXRhKFwidGhlbWVcIik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBsZXQgY2FuZGlkYXRlVGhlbWU6IHN0cmluZztcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fc2V0dGluZ3MudGhlbWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvbVRoZW1lID0gdGhpcy5fJGRpYWxvZy5qcW1EYXRhKFwidGhlbWVcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRvbVRoZW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0dGluZ3MudGhlbWUgPSBjYW5kaWRhdGVUaGVtZSA9IHF1ZXJ5VGhlbWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9zZXR0aW5ncy5vdmVybGF5VGhlbWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvbU92ZXJsYXlUaGVtZSA9IHRoaXMuXyRkaWFsb2cuanFtRGF0YShcIm92ZXJsYXktdGhlbWVcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRvbU92ZXJsYXlUaGVtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldHRpbmdzLm92ZXJsYXlUaGVtZSA9IGNhbmRpZGF0ZVRoZW1lIHx8IHF1ZXJ5VGhlbWUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gdHJhbnNpdGlvbiDjga7mm7TmlrBcclxuICAgICAgICAgICAgdGhpcy5fc2V0dGluZ3MudHJhbnNpdGlvbiA9IFRoZW1lLnF1ZXJ5RGlhbG9nVHJhbnNpdGlvbih0aGlzLl9zZXR0aW5ncy50cmFuc2l0aW9uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gcHVibGljIHN0YXRpYyBtZXRob2RzXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERpYWxvZyDjga7ml6Llrprjgqrjg5fjgrfjg6fjg7PjgpLmm7TmlrBcclxuICAgICAgICAgKiDjgZnjgbrjgabjga4gRGlhbG9nIOOBjOS9v+eUqOOBmeOCi+WFsemAmuioreWumlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMge0RpYWxvZ09wdGlvbnN9IFtpbl0g44OA44Kk44Ki44Ot44Kw44Kq44OX44K344On44OzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBzZXREZWZhdWx0T3B0aW9ucyhvcHRpb25zOiBEaWFsb2dPcHRpb25zKTogdm9pZCB7XHJcbiAgICAgICAgICAgIC8vIERpYWxvZyDlhbHpgJroqK3lrprjga7liJ3mnJ/ljJZcclxuICAgICAgICAgICAgRGlhbG9nLmluaXRDb21tb25Db25kaXRpb24oKTtcclxuICAgICAgICAgICAgJC5leHRlbmQodHJ1ZSwgRGlhbG9nLnNfZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBwcml2YXRlIG1ldGhvZHNcclxuXHJcbiAgICAgICAgLy8hIOePvuWcqCBhY3RpdmUg44Gq44OA44Kk44Ki44Ot44Kw44Go44GX44Gm55m76Yyy44GZ44KLXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgcmVnaXN0ZXIoZGlhbG9nOiBEaWFsb2cpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKG51bGwgIT0gZGlhbG9nICYmIG51bGwgIT0gRGlhbG9nLnNfYWN0aXZlRGlhbG9nKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oVEFHICsgXCJuZXcgZGlhbG9nIHByb2MgaXMgY2FsbGVkIGluIHRoZSBwYXN0IGRpYWxvZydzIG9uZS4gdXNlIHNldFRpbWVvdXQoKSBmb3IgcG9zdCBwcm9jZXNzLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBEaWFsb2cuc19hY3RpdmVEaWFsb2cgPSBkaWFsb2c7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEaWFsb2cg5YWx6YCa6Kit5a6a44Gu5Yid5pyf5YyWXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgaW5pdENvbW1vbkNvbmRpdGlvbigpOiB2b2lkIHtcclxuICAgICAgICAgICAgLy8gRnJhbWV3b3JrIOOBruWIneacn+WMluW+jOOBq+WHpueQhuOBmeOCi+W/heimgeOBjOOBguOCi1xyXG4gICAgICAgICAgICBpZiAoIUZyYW1ld29yay5pc0luaXRpYWxpemVkKCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihUQUcgKyBcImluaXRDb21tb25Db25kaXRpb24oKSBzaG91bGQgYmUgY2FsbGVkIGFmdGVyIEZyYW1ld29yay5pbml0aWFsaXplZC5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChudWxsID09IERpYWxvZy5zX29sZEJhY2tLZXlIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBCYWNrIEJ1dHRvbiBIYW5kbGVyXHJcbiAgICAgICAgICAgICAgICBEaWFsb2cuc19vbGRCYWNrS2V5SGFuZGxlciA9IENEUC5zZXRCYWNrQnV0dG9uSGFuZGxlcihudWxsKTtcclxuICAgICAgICAgICAgICAgIENEUC5zZXRCYWNrQnV0dG9uSGFuZGxlcihEaWFsb2cuY3VzdG9tQmFja0tleUhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIOaXouWumuOCquODl+OCt+ODp+ODs1xyXG4gICAgICAgICAgICAgICAgRGlhbG9nLnNfZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWRQb3NpdGl2ZTogICAgICAgICAgICAgXCJkbGctYnRuLXBvc2l0aXZlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaWROZWdhdGl2ZTogICAgICAgICAgICAgXCJkbGctYnRuLW5lZ2F0aXZlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICAgICAgICAgICAgICAgICAgRnJhbWV3b3JrLmdldERlZmF1bHRDbGlja0V2ZW50KCksXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzbWlzc2libGU6ICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEF1dG9DbG9zZTogICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogICAgICAgICAgICAgXCJwbGF0Zm9ybS1kZWZhdWx0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxQb3NpdGl2ZTogICAgICAgICAgXCJPS1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsTmVnYXRpdmU6ICAgICAgICAgIFwiQ2FuY2VsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja0tleTogICAgICAgICAgICAgICAgXCJjbG9zZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbEV2ZW50OiAgICAgICAgICAgIFwiZGVueVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvbUV4dGVuc2lvbk9wdGlvbnM6ICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSC9XIEJhY2sgQnV0dG9uIEhhbmRsZXJcclxuICAgICAgICAgKi9cclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBjdXN0b21CYWNrS2V5SGFuZGxlcihldmVudD86IEpRdWVyeS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAobnVsbCAhPSBEaWFsb2cuc19hY3RpdmVEaWFsb2cpIHtcclxuICAgICAgICAgICAgICAgIGlmIChcImNsb3NlXCIgPT09IERpYWxvZy5zX2FjdGl2ZURpYWxvZy5fc2V0dGluZ3MuYmFja0tleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIERpYWxvZy5zX2FjdGl2ZURpYWxvZy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBEaWFsb2cuc19hY3RpdmVEaWFsb2cuX3NldHRpbmdzLmJhY2tLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAoPERpYWxvZ0JhY2tLZXlIYW5kbGVyPkRpYWxvZy5zX2FjdGl2ZURpYWxvZy5fc2V0dGluZ3MuYmFja0tleSkoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBEaWFsb2cg44GMIGFjdGl2ZSDjgarloLTlkIjjgIHluLjjgavml6Llrprjga7jg4/jg7Pjg4njg6njgavjga/muKHjgZXjgarjgYRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBEaWFsb2cuc19vbGRCYWNrS2V5SGFuZGxlcihldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xyXG5cclxubmFtZXNwYWNlIENEUC5VSSB7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlVJLkRpYWxvZ0NvbW1vbnNdIFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWxlcnRcclxuICAgICAqIGFsZXJ0IOODoeODg+OCu+ODvOOCuOihqOekulxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlICAgW2luXSDooajnpLrmloflrZfliJdcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9uc10gW2luXSDjg4DjgqTjgqLjg63jgrDjgqrjg5fjgrfjg6fjg7NcclxuICAgICAqIEByZXR1cm4ge2pRdWVyeX0g44OA44Kk44Ki44Ot44Kw44GuIERPTSDjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGFsZXJ0KG1lc3NhZ2U6IHN0cmluZywgb3B0aW9ucz86IERpYWxvZ09wdGlvbnMpOiBKUXVlcnkge1xyXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gYFxyXG4gICAgICAgICAgICA8c2NyaXB0IHR5cGU9XCJ0ZXh0L3RlbXBsYXRlXCI+XHJcbiAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz1cInVpLW1vZGFsXCIgZGF0YS1yb2xlPVwicG9wdXBcIiBkYXRhLWNvcm5lcnM9XCJmYWxzZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aS1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzcz1cInVpLXRpdGxlIHt7X3RpdGxlU3RhdGV9fVwiPnt7dGl0bGV9fTwvaDE+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidWktbWVzc2FnZVwiPnt7bWVzc2FnZX19PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aS1tb2RhbC1mb290ZXIgdWktZ3JpZC1zb2xvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ7e2lkUG9zaXRpdmV9fVwiIGNsYXNzPVwidWktYnRuIHVpLWJsb2NrLWEgdWktdGV4dC1lbXBoYXNpc1wiIGRhdGEtYXV0by1jbG9zZT1cInRydWVcIj57e2xhYmVsUG9zaXRpdmV9fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICBjb25zdCBkbGdBbGVydCA9IG5ldyBEaWFsb2codGVtcGxhdGUsICQuZXh0ZW5kKHt9LCB7XHJcbiAgICAgICAgICAgIHNyYzogbnVsbCxcclxuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcclxuICAgICAgICB9LCBvcHRpb25zKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBkbGdBbGVydC5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25maXJtXHJcbiAgICAgKiDnorroqo3jg6Hjg4Pjgrvjg7zjgrjooajnpLpcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSAgIFtpbl0g6KGo56S65paH5a2X5YiXXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnNdIFtpbl0g44OA44Kk44Ki44Ot44Kw44Kq44OX44K344On44OzXHJcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl9IOODgOOCpOOCouODreOCsOOBriBET00g44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBjb25maXJtKG1lc3NhZ2U6IHN0cmluZywgb3B0aW9ucz86IERpYWxvZ09wdGlvbnMpOiBKUXVlcnkge1xyXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gYFxyXG4gICAgICAgICAgICA8c2NyaXB0IHR5cGU9XCJ0ZXh0L3RlbXBsYXRlXCI+XHJcbiAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz1cInVpLW1vZGFsXCIgZGF0YS1yb2xlPVwicG9wdXBcIiBkYXRhLWNvcm5lcnM9XCJmYWxzZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aS1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzcz1cInVpLXRpdGxlIHt7X3RpdGxlU3RhdGV9fVwiPnt7dGl0bGV9fTwvaDE+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidWktbWVzc2FnZVwiPnt7bWVzc2FnZX19PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aS1tb2RhbC1mb290ZXIgdWktZ3JpZC1hXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ7e2lkTmVnYXRpdmV9fVwiIGNsYXNzPVwidWktYnRuIHVpLWJsb2NrLWFcIiBkYXRhLWF1dG8tY2xvc2U9XCJ0cnVlXCI+e3tsYWJlbE5lZ2F0aXZlfX08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInt7aWRQb3NpdGl2ZX19XCIgY2xhc3M9XCJ1aS1idG4gdWktYmxvY2stYiB1aS10ZXh0LWVtcGhhc2lzXCIgZGF0YS1hdXRvLWNsb3NlPVwidHJ1ZVwiPnt7bGFiZWxQb3NpdGl2ZX19PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3NlY3Rpb24+XHJcbiAgICAgICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIGNvbnN0IGRsZ0NvbmZpcm0gPSBuZXcgRGlhbG9nKHRlbXBsYXRlLCAkLmV4dGVuZCh7fSwge1xyXG4gICAgICAgICAgICBzcmM6IG51bGwsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXHJcbiAgICAgICAgfSwgb3B0aW9ucykpO1xyXG5cclxuICAgICAgICByZXR1cm4gZGxnQ29uZmlybS5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaW50ZXJmYWNlIERpYWxvZ0NvbW1vbnNPcHRpb25zXHJcbiAgICAgKiBAYnJpZWYgcHJvbXB0IOOBruOCquODl+OCt+ODp+ODs1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIERpYWxvZ1Byb21wdE9wdGlvbnMgZXh0ZW5kcyBEaWFsb2dPcHRpb25zIHtcclxuICAgICAgICBldmVudE9LPzogc3RyaW5nOyAvLyE8IE9LIOODnOOCv+ODs+aKvOS4i+aZguOBriBldmVudDogZGVmYXVsdDogcHJvbXB0b2tcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBjbGFzcyBEaWFsb2dQcm9tcHRcclxuICAgICAqIEBicmllZiBwcm9tcHQg44OA44Kk44Ki44Ot44KwICjpnZ7lhazplospXHJcbiAgICAgKi9cclxuICAgIGNsYXNzIERpYWxvZ1Byb21wdCBleHRlbmRzIERpYWxvZyB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgX2V2ZW50T0s6IHN0cmluZztcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogY29uc3RydWN0b3JcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIG9wdGlvbnM/OiBEaWFsb2dQcm9tcHRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKGlkLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgdGhpcy5fZXZlbnRPSyA9IG9wdGlvbnMuZXZlbnRPSyB8fCBcInByb21wdG9rXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44OA44Kk44Ki44Ot44Kw6KGo56S644Gu55u05YmNXHJcbiAgICAgICAgcHJvdGVjdGVkIG9uQmVmb3JlU2hvdygpOiBJUHJvbWlzZUJhc2U8dm9pZD4ge1xyXG4gICAgICAgICAgICB0aGlzLiRlbFxyXG4gICAgICAgICAgICAgICAgLm9uKFwidmNsaWNrXCIsIFwiLmNvbW1hbmQtcHJvbXB0LW9rIFwiLCAoZXZlbnQ6IEpRdWVyeS5FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLiRlbC5maW5kKFwiI191aS1wcm9tcHRcIikudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZWwudHJpZ2dlcih0aGlzLl9ldmVudE9LLCB0ZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIub25CZWZvcmVTaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHJvbXB0XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgICBbaW5dIOihqOekuuaWh+Wtl+WIl1xyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zXSBbaW5dIOODgOOCpOOCouODreOCsOOCquODl+OCt+ODp+ODs1xyXG4gICAgICogQHJldHVybiB7alF1ZXJ5fSDjg4DjgqTjgqLjg63jgrDjga4gRE9NIOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICovXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gcHJvbXB0KG1lc3NhZ2U6IHN0cmluZywgb3B0aW9ucz86IERpYWxvZ1Byb21wdE9wdGlvbnMpOiBKUXVlcnkge1xyXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gYFxyXG4gICAgICAgICAgICA8c2NyaXB0IHR5cGU9XCJ0ZXh0L3RlbXBsYXRlXCI+XHJcbiAgICAgICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz1cInVpLW1vZGFsXCIgZGF0YS1yb2xlPVwicG9wdXBcIiBkYXRhLWNvcm5lcnM9XCJmYWxzZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aS1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzcz1cInVpLXRpdGxlIHt7X3RpdGxlU3RhdGV9fVwiPnt7dGl0bGV9fTwvaDE+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidWktbWVzc2FnZVwiPnt7bWVzc2FnZX19PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiX3VpLXByb21wdFwiIGNsYXNzPVwidWktaGlkZGVuLWFjY2Vzc2libGVcIj48L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiX3VpLXByb21wdFwiIGlkPVwiX3VpLXByb21wdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1aS1tb2RhbC1mb290ZXIgdWktZ3JpZC1hXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ7e2lkTmVnYXRpdmV9fVwiIGNsYXNzPVwidWktYnRuIHVpLWJsb2NrLWFcIiBkYXRhLWF1dG8tY2xvc2U9XCJ0cnVlXCI+e3tsYWJlbE5lZ2F0aXZlfX08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInt7aWRQb3NpdGl2ZX19XCIgY2xhc3M9XCJjb21tYW5kLXByb21wdC1vayB1aS1idG4gdWktYmxvY2stYiB1aS10ZXh0LWVtcGhhc2lzXCIgZGF0YS1hdXRvLWNsb3NlPVwiZmFsc2VcIj57e2xhYmVsUG9zaXRpdmV9fTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICBjb25zdCBkbGdQcm9tcHQgPSBuZXcgRGlhbG9nUHJvbXB0KHRlbXBsYXRlLCAkLmV4dGVuZCh7fSwge1xyXG4gICAgICAgICAgICBzcmM6IG51bGwsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXHJcbiAgICAgICAgfSwgb3B0aW9ucykpO1xyXG5cclxuICAgICAgICByZXR1cm4gZGxnUHJvbXB0LnNob3coKTtcclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgQ0RQLlVJIHtcclxuXHJcbiAgICBpbXBvcnQgUm91dGVyICAgICAgID0gQ0RQLkZyYW1ld29yay5Sb3V0ZXI7XHJcbiAgICBpbXBvcnQgSVBhZ2UgICAgICAgID0gQ0RQLkZyYW1ld29yay5JUGFnZTtcclxuICAgIGltcG9ydCBNb2RlbCAgICAgICAgPSBDRFAuRnJhbWV3b3JrLk1vZGVsO1xyXG4gICAgaW1wb3J0IFZpZXcgICAgICAgICA9IENEUC5GcmFtZXdvcmsuVmlldztcclxuICAgIGltcG9ydCBWaWV3T3B0aW9ucyAgPSBDRFAuRnJhbWV3b3JrLlZpZXdPcHRpb25zO1xyXG4gICAgaW1wb3J0IFRlbXBsYXRlICAgICA9IENEUC5Ub29scy5UZW1wbGF0ZTtcclxuICAgIGltcG9ydCBKU1QgICAgICAgICAgPSBDRFAuVG9vbHMuSlNUO1xyXG5cclxuICAgIGNvbnN0IFRBRzogc3RyaW5nID0gXCJbQ0RQLlVJLkJhc2VIZWFkZXJWaWV3XSBcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcmZhY2UgQmFzZUhlYWRlclZpZXdPcHRpb25zXHJcbiAgICAgKiBAYnJpZWYgQmFzZUhlYWRlclZpZXcg44Gr5oyH5a6a44GZ44KL44Kq44OX44K344On44Oz44Kk44Oz44K/44O844OV44Kn44Kk44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQmFzZUhlYWRlclZpZXdPcHRpb25zPFRNb2RlbCBleHRlbmRzIE1vZGVsID0gTW9kZWw+IGV4dGVuZHMgVmlld09wdGlvbnM8VE1vZGVsPiB7XHJcbiAgICAgICAgYmFzZVRlbXBsYXRlPzogSlNUOyAgICAgICAgICAgICAvLyE8IOWbuuWumuODmOODg+ODgOeUqCBKYXZhU2NyaXB0IOODhuODs+ODl+ODrOODvOODiC5cclxuICAgICAgICBiYWNrQ29tbWFuZFNlbGVjdG9yPzogc3RyaW5nOyAgIC8vITwgXCLmiLvjgotcIuOCs+ODnuODs+ODieOCu+ODrOOCr+OCvy4gZGVmYXVsdDogXCJjb21tYW5kLWJhY2tcIlxyXG4gICAgICAgIGJhY2tDb21tYW5kS2luZD86IHN0cmluZzsgICAgICAgLy8hPCBcIuaIu+OCi1wi44Kz44Oe44Oz44OJ56iu5YilIChvbkNvbW1hbmQg56ysMuW8leaVsCkuIGRlZmF1bHQ6IFwicGFnZWJhY2tcIlxyXG4gICAgfVxyXG5cclxuICAgIC8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAY2xhc3MgQmFzZUhlYWRlclZpZXdcclxuICAgICAqIEBicmllZiDlhbHpgJrjg5jjg4Pjg4DjgpLmk43kvZzjgZnjgovjgq/jg6njgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGNsYXNzIEJhc2VIZWFkZXJWaWV3PFRNb2RlbCBleHRlbmRzIE1vZGVsID0gTW9kZWw+IGV4dGVuZHMgVmlldzxUTW9kZWw+IHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgc18kaGVhZGVyQmFzZTogSlF1ZXJ5OyAgIC8vITwg44Oa44O844K45aSW44Gr6YWN572u44GV44KM44KL5YWx6YCa44OY44OD44OA44Gu44OZ44O844K56YOo5ZOB55SoIGpRdWVyeSDjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAgICBwcml2YXRlIHN0YXRpYyBzX3JlZkNvdW50ID0gMDsgICAgICAgICAgLy8hPCDlj4Lnhafjgqvjgqbjg7Pjg4hcclxuICAgICAgICBwcml2YXRlIF90ZW1wbGF0ZTogSlNUO1xyXG4gICAgICAgIHByaXZhdGUgX2hhc0JhY2tJbmRpY2F0b3I6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGNvbnN0cnVjdG9yXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0lQYWdlfSBfb3duZXIgW2luXSDjgqrjg7zjg4rjg7zjg5rjg7zjgrjjgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9vd25lcjogSVBhZ2UsIHByaXZhdGUgX29wdGlvbnM/OiBCYXNlSGVhZGVyVmlld09wdGlvbnM8VE1vZGVsPikge1xyXG4gICAgICAgICAgICBzdXBlcihfb3B0aW9ucyA9ICQuZXh0ZW5kKHtcclxuICAgICAgICAgICAgICAgIGVsOiBfb3duZXIuJHBhZ2UuZmluZChcIltkYXRhLXJvbGU9J2hlYWRlciddXCIpLFxyXG4gICAgICAgICAgICAgICAgYmFja0NvbW1hbmRTZWxlY3RvcjogXCIuY29tbWFuZC1iYWNrXCIsXHJcbiAgICAgICAgICAgICAgICBiYWNrQ29tbWFuZEtpbmQ6IFwicGFnZWJhY2tcIixcclxuICAgICAgICAgICAgfSwgX29wdGlvbnMpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRlbXBsYXRlIOioreWumlxyXG4gICAgICAgICAgICBpZiAoX29wdGlvbnMuYmFzZVRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90ZW1wbGF0ZSA9IF9vcHRpb25zLmJhc2VUZW1wbGF0ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlID0gVGVtcGxhdGUuZ2V0SlNUKGBcclxuICAgICAgICAgICAgICAgICAgICA8c2NyaXB0IHR5cGU9J3RleHQvdGVtcGxhdGUnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aGVhZGVyIGNsYXNzPSd1aS1oZWFkZXItYmFzZSB1aS1ib2R5LXt7dGhlbWV9fSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSd1aS1maXhlZC1iYWNrLWluZGljYXRvcic+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEJhY2tib25lLlZpZXcg55So44Gu5Yid5pyf5YyWXHJcbiAgICAgICAgICAgIHRoaXMuc2V0RWxlbWVudCh0aGlzLiRlbCwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIHB1YmxpYyBtZXRob2RzXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOWIneacn+WMllxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBjcmVhdGUoKTogSlF1ZXJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlSGVhZGVyQmFzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5pyJ5Yq55YyWXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIGFjdGl2YXRlKCk6IEpRdWVyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNob3dJbmRpY2F0b3IoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOeEoeWKueWMllxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBpbmFjdGl2YXRlKCk6IEpRdWVyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpZGVJbmRpY2F0b3IoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOegtOajhFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyByZWxlYXNlKCk6IEpRdWVyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbGVhc2VIZWFkZXJCYXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIHByaXZhdGUgbWV0aG9kc1xyXG5cclxuICAgICAgICAvLyEg5YWx6YCa44OY44OD44OA44Gu44OZ44O844K544KS5rqW5YKZXHJcbiAgICAgICAgcHJpdmF0ZSBjcmVhdGVIZWFkZXJCYXNlKCk6IEpRdWVyeSB7XHJcbiAgICAgICAgICAgIC8vIOWbuuWumuODmOODg+ODgOOBruOBqOOBjeOBq+acieWKueWMllxyXG4gICAgICAgICAgICBpZiAoXCJmaXhlZFwiID09PSB0aGlzLl9vd25lci4kaGVhZGVyLmpxbURhdGEoXCJwb3NpdGlvblwiKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT0gQmFzZUhlYWRlclZpZXcuc18kaGVhZGVyQmFzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIEJhc2VIZWFkZXJWaWV3LnNfJGhlYWRlckJhc2UgPSAkKHRoaXMuX3RlbXBsYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWU6IHRoaXMuX293bmVyLiRwYWdlLmpxbURhdGEoXCJ0aGVtZVwiKSxcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBCYXNlSGVhZGVyVmlldy5zX3JlZkNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICBCYXNlSGVhZGVyVmlldy5zXyRoZWFkZXJCYXNlLmFwcGVuZFRvKCQoZG9jdW1lbnQuYm9keSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEJhY2sgSW5kaWNhdG9yIOOCkuaMgeOBo+OBpuOBhOOCi+OBi+WIpOWumlxyXG4gICAgICAgICAgICBpZiAoMCA8IHRoaXMuJGVsLmZpbmQoXCIudWktYmFjay1pbmRpY2F0b3JcIikubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNCYWNrSW5kaWNhdG9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gQmFzZUhlYWRlclZpZXcuc18kaGVhZGVyQmFzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBpbmRpY2F0b3Ig44Gu6KGo56S6XHJcbiAgICAgICAgcHJpdmF0ZSBzaG93SW5kaWNhdG9yKCk6IEpRdWVyeSB7XHJcbiAgICAgICAgICAgIC8vIEJhY2sgSW5kaWNhdG9yIOOCkuaMgeOBo+OBpuOBhOOBquOBhOWgtOWQiOihqOekuuOBl+OBquOBhFxyXG4gICAgICAgICAgICBpZiAobnVsbCAhPSBCYXNlSGVhZGVyVmlldy5zXyRoZWFkZXJCYXNlICYmIHRoaXMuX2hhc0JhY2tJbmRpY2F0b3IpIHtcclxuICAgICAgICAgICAgICAgIEJhc2VIZWFkZXJWaWV3LnNfJGhlYWRlckJhc2UuZmluZChcIi51aS1maXhlZC1iYWNrLWluZGljYXRvclwiKS5hZGRDbGFzcyhcInNob3dcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIEJhc2VIZWFkZXJWaWV3LnNfJGhlYWRlckJhc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgaW5kaWNhdG9yIOOBrumdnuihqOekulxyXG4gICAgICAgIHByaXZhdGUgaGlkZUluZGljYXRvcigpOiBKUXVlcnkge1xyXG4gICAgICAgICAgICBpZiAobnVsbCAhPSBCYXNlSGVhZGVyVmlldy5zXyRoZWFkZXJCYXNlKSB7XHJcbiAgICAgICAgICAgICAgICBCYXNlSGVhZGVyVmlldy5zXyRoZWFkZXJCYXNlLmZpbmQoXCIudWktZml4ZWQtYmFjay1pbmRpY2F0b3JcIikucmVtb3ZlQ2xhc3MoXCJzaG93XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBCYXNlSGVhZGVyVmlldy5zXyRoZWFkZXJCYXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOWFsemAmuODmOODg+ODgOOBruODmeODvOOCueOCkuegtOajhFxyXG4gICAgICAgIHByaXZhdGUgcmVsZWFzZUhlYWRlckJhc2UoKTogSlF1ZXJ5IHtcclxuICAgICAgICAgICAgaWYgKG51bGwgIT0gQmFzZUhlYWRlclZpZXcuc18kaGVhZGVyQmFzZSkge1xyXG4gICAgICAgICAgICAgICAgQmFzZUhlYWRlclZpZXcuc19yZWZDb3VudC0tO1xyXG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IEJhc2VIZWFkZXJWaWV3LnNfcmVmQ291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBCYXNlSGVhZGVyVmlldy5zXyRoZWFkZXJCYXNlLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIEJhc2VIZWFkZXJWaWV3LnNfJGhlYWRlckJhc2UgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBCYXNlSGVhZGVyVmlldy5zXyRoZWFkZXJCYXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBPdmVycmlkZTogQmFja2JvbmUuVmlld1xyXG5cclxuICAgICAgICAvLyEgZXZlbnRzIGJpbmRpbmdcclxuICAgICAgICBldmVudHMoKTogYW55IHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnRNYXAgPSB7fTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50TWFwW1widmNsaWNrIFwiICsgdGhpcy5fb3B0aW9ucy5iYWNrQ29tbWFuZFNlbGVjdG9yXSA9IHRoaXMub25Db21tYW5kQmFjaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZXZlbnRNYXA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgYmFjayDjga7jg4/jg7Pjg4njg6lcclxuICAgICAgICBwcml2YXRlIG9uQ29tbWFuZEJhY2soZXZlbnQ6IEpRdWVyeS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsZXQgaGFuZGxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb3duZXIpIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZWQgPSB0aGlzLl9vd25lci5vbkNvbW1hbmQoZXZlbnQsIHRoaXMuX29wdGlvbnMuYmFja0NvbW1hbmRLaW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWhhbmRsZWQpIHtcclxuICAgICAgICAgICAgICAgIFJvdXRlci5iYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXHJcblxyXG5uYW1lc3BhY2UgQ0RQLlVJIHtcclxuXHJcbiAgICBpbXBvcnQgRnJhbWV3b3JrID0gQ0RQLkZyYW1ld29yaztcclxuXHJcbiAgICBjb25zdCBUQUc6IHN0cmluZyA9IFwiW0NEUC5VSS5CYXNlUGFnZV0gXCI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAaW50ZXJmYWNlIEJhc2VQYWdlT3B0aW9uc1xyXG4gICAgICogQGJyaWVmIEJhc2VQYWdlIOOBq+aMh+WumuOBmeOCi+OCquODl+OCt+ODp+ODs+OCpOODs+OCv+ODvOODleOCp+OCpOOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIEJhc2VQYWdlT3B0aW9uczxUTW9kZWwgZXh0ZW5kcyBGcmFtZXdvcmsuTW9kZWwgPSBGcmFtZXdvcmsuTW9kZWw+IGV4dGVuZHMgRnJhbWV3b3JrLlBhZ2VDb25zdHJ1Y3RPcHRpb25zLCBCYXNlSGVhZGVyVmlld09wdGlvbnM8VE1vZGVsPiB7XHJcbiAgICAgICAgYmFzZUhlYWRlcj86IG5ldyAob3duZXI6IEZyYW1ld29yay5JUGFnZSwgb3B0aW9ucz86IEJhc2VIZWFkZXJWaWV3T3B0aW9uczxUTW9kZWw+KSA9PiBCYXNlSGVhZGVyVmlldzxUTW9kZWw+OyAgIC8vITwgSGVhZGVyIOapn+iDveOCkuaPkOS+m+OBmeOCi+WfuuW6leOCpOODs+OCueOCv+ODs+OCuVxyXG4gICAgICAgIGJhY2tDb21tYW5kSGFuZGxlcj86IHN0cmluZzsgICAgICAgICAgICAgICAgLy8hPCBcIuaIu+OCi1wiIOOCs+ODnuODs+ODieODj+ODs+ODieODqeODoeOCveODg+ODieWQjS4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG9uUGFnZUJhY2tcclxuICAgICAgICBkb21FeHRlbnNpb25PcHRpb25zPzogRG9tRXh0ZW5zaW9uT3B0aW9uczsgIC8vITwgRE9N5ouh5by144Gr5rih44GZ44Kq44OX44K344On44OzLiBudWxsfHVuZGVmaW5lZCDjgpLmjIflrprjgZnjgovjgajmi6HlvLXjgZfjgarjgYQgZGVmYXVsdDoge31cclxuICAgIH1cclxuXHJcbiAgICAvL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18vL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIEJhc2VQYWdlXHJcbiAgICAgKiBAYnJpZWYgSGVhZGVyIOOCkuWCmeOBiOOCiyBQYWdlIOOCr+ODqeOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgY2xhc3MgQmFzZVBhZ2U8VE1vZGVsIGV4dGVuZHMgRnJhbWV3b3JrLk1vZGVsID0gRnJhbWV3b3JrLk1vZGVsPiBleHRlbmRzIEZyYW1ld29yay5QYWdlIHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfYmFzZUhlYWRlcjogQmFzZUhlYWRlclZpZXc8VE1vZGVsPjsgICAgLy8hPCDjg5jjg4Pjg4Djgq/jg6njgrlcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogY29uc3RydWN0b3JcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICAgICAgICB1cmwgICAgICAgW2luXSDjg5rjg7zjgrggVVJMXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9ICAgICAgICAgIGlkICAgICAgICBbaW5dIOODmuODvOOCuCBJRFxyXG4gICAgICAgICAqIEBwYXJhbSB7QmFzZVBhZ2VPcHRpb25zfSBbb3B0aW9uc10gW2luXSDjgqrjg5fjgrfjg6fjg7NcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdHJ1Y3Rvcih1cmw6IHN0cmluZywgaWQ6IHN0cmluZywgcHJpdmF0ZSBfb3B0aW9ucz86IEJhc2VQYWdlT3B0aW9uczxUTW9kZWw+KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHVybCwgaWQsIF9vcHRpb25zID0gJC5leHRlbmQoe1xyXG4gICAgICAgICAgICAgICAgYmFzZUhlYWRlcjogQmFzZUhlYWRlclZpZXcsXHJcbiAgICAgICAgICAgICAgICBiYWNrQ29tbWFuZEhhbmRsZXI6IFwib25QYWdlQmFja1wiLFxyXG4gICAgICAgICAgICAgICAgYmFja0NvbW1hbmRLaW5kOiBcInBhZ2ViYWNrXCIsXHJcbiAgICAgICAgICAgICAgICBkb21FeHRlbnNpb25PcHRpb25zOiB7fSxcclxuICAgICAgICAgICAgfSwgX29wdGlvbnMpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gT3ZlcnJpZGU6IEZyYW1ld29yayBQYWdlXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGpRTSBldmVudDogXCJwYWdlYmVmb3JlY3JlYXRlXCIg44Gr5a++5b+cXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZXZlbnQge0pRdWVyeS5FdmVudH0gW2luXSDjgqTjg5njg7Pjg4jjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAgICAgKi9cclxuICAgICAgICBvblBhZ2VCZWZvcmVDcmVhdGUoZXZlbnQ6IEpRdWVyeS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5iYXNlSGVhZGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9iYXNlSGVhZGVyID0gbmV3IHRoaXMuX29wdGlvbnMuYmFzZUhlYWRlcih0aGlzLCB0aGlzLl9vcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Jhc2VIZWFkZXIuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3VwZXIub25QYWdlQmVmb3JlQ3JlYXRlKGV2ZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGpRTSBldmVudDogXCJwYWdlY3JlYXRlXCIg44Gr5a++5b+cXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZXZlbnQge0pRdWVyeS5FdmVudH0gW2luXSDjgqTjg5njg7Pjg4jjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAgICAgKi9cclxuICAgICAgICBvblBhZ2VJbml0KGV2ZW50OiBKUXVlcnkuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKG51bGwgIT0gdGhpcy5fb3B0aW9ucy5kb21FeHRlbnNpb25PcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBFeHRlbnNpb25NYW5hZ2VyLmFwcGx5RG9tRXh0ZW5zaW9uKHRoaXMuJHBhZ2UsIHRoaXMuX29wdGlvbnMuZG9tRXh0ZW5zaW9uT3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3VwZXIub25QYWdlSW5pdChldmVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBqUU0gZXZlbnQ6IFwicGFnZWJlZm9yZXNob3dcIiDjgavlr77lv5xcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIOOCpOODmeODs+ODiOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqIEBwYXJhbSBkYXRhICB7U2hvd0V2ZW50RGF0YX0gICAgIFtpbl0g5LuY5Yqg5oOF5aCxXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25QYWdlQmVmb3JlU2hvdyhldmVudDogSlF1ZXJ5LkV2ZW50LCBkYXRhPzogRnJhbWV3b3JrLlNob3dFdmVudERhdGEpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2Jhc2VIZWFkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Jhc2VIZWFkZXIuYWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdXBlci5vblBhZ2VCZWZvcmVTaG93KGV2ZW50LCBkYXRhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGpRTSBldmVudDogXCJwYWdlYmVmb3JlaGlkZVwiIOOBq+WvvuW/nFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IHtKUXVlcnkuRXZlbnR9IFtpbl0g44Kk44OZ44Oz44OI44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICogQHBhcmFtIGRhdGEgIHtIaWRlRXZlbnREYXRhfSAgICAgW2luXSDku5jliqDmg4XloLFcclxuICAgICAgICAgKi9cclxuICAgICAgICBvblBhZ2VCZWZvcmVIaWRlKGV2ZW50OiBKUXVlcnkuRXZlbnQsIGRhdGE/OiBGcmFtZXdvcmsuSGlkZUV2ZW50RGF0YSk6IHZvaWQge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fYmFzZUhlYWRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYmFzZUhlYWRlci5pbmFjdGl2YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3VwZXIub25QYWdlQmVmb3JlSGlkZShldmVudCwgZGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBqUU0gZXZlbnQ6IFwicGFnZXJlbW92ZVwiIOOBq+WvvuW/nFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IHtKUXVlcnkuRXZlbnR9IFtpbl0g44Kk44OZ44Oz44OI44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25QYWdlUmVtb3ZlKGV2ZW50OiBKUXVlcnkuRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2Jhc2VIZWFkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Jhc2VIZWFkZXIucmVsZWFzZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYmFzZUhlYWRlciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3VwZXIub25QYWdlUmVtb3ZlKGV2ZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEgvVyBCYWNrIEJ1dHRvbiDjg4/jg7Pjg4njg6lcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSAgZXZlbnQge0pRdWVyeS5FdmVudH0gW2luXSBldmVudCBvYmplY3RcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlOiDml6Llrprjga7lh6bnkIbjgpLooYzjgo/jgarjgYQgLyBmYWxzZTog5pei5a6a44Gu5Yem55CG44KS6KGM44GGXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25IYXJkd2FyZUJhY2tCdXR0b24oZXZlbnQ/OiBKUXVlcnkuRXZlbnQpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgbGV0IHJldHZhbCA9IHN1cGVyLm9uSGFyZHdhcmVCYWNrQnV0dG9uKGV2ZW50KTtcclxuICAgICAgICAgICAgaWYgKCFyZXR2YWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHZhbCA9IHRoaXMub25Db21tYW5kKGV2ZW50LCB0aGlzLl9vcHRpb25zLmJhY2tDb21tYW5kS2luZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldHZhbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gT3ZlcnJpZGU6IEN1c3RvbSBFdmVudFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcIuaIu+OCi1wiIGV2ZW50IOeZuuihjOaZguOBq+OCs+ODvOODq+OBleOCjOOCi1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IHtKUXVlcnkuRXZlbnR9IFtpbl0g44Kk44OZ44Oz44OI44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZTog5pei5a6a44Gu5Yem55CG44KS6KGM44KP44Gq44GEIC8gZmFsc2U6IOaXouWumuOBruWHpueQhuOCkuihjOOBhlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG9uQ29tbWFuZChldmVudDogSlF1ZXJ5LkV2ZW50LCBraW5kOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuYmFja0NvbW1hbmRLaW5kID09PSBraW5kKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb3duZXIgJiYgdGhpcy5fb3duZXJbdGhpcy5fb3B0aW9ucy5iYWNrQ29tbWFuZEhhbmRsZXJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX293bmVyW3RoaXMuX29wdGlvbnMuYmFja0NvbW1hbmRIYW5kbGVyXShldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cclxuXHJcbm5hbWVzcGFjZSBDRFAuVUkge1xyXG4gICAgaW1wb3J0IFByb21pc2UgICAgICA9IENEUC5Qcm9taXNlO1xyXG4gICAgaW1wb3J0IEZyYW1ld29yayAgICA9IENEUC5GcmFtZXdvcms7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlVJLlBhZ2VWaWV3XSBcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcmZhY2UgUGFnZVZpZXdDb25zdHJ1Y3RPcHRpb25zXHJcbiAgICAgKiBAYnJpZWYgUm91dGVyIOOBuOOBrueZu+mMsuaDheWgseOBqCBCYWNrYm9uZS5WaWV3IOOBuOOBruWIneacn+WMluaDheWgseOCkuagvOe0jeOBmeOCi+OCpOODs+OCv+ODvOODleOCp+OCpOOCueOCr+ODqeOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIFBhZ2VWaWV3Q29uc3RydWN0T3B0aW9uczxUTW9kZWwgZXh0ZW5kcyBGcmFtZXdvcmsuTW9kZWwgPSBGcmFtZXdvcmsuTW9kZWw+IGV4dGVuZHMgQmFzZVBhZ2VPcHRpb25zPFRNb2RlbD4ge1xyXG4gICAgICAgIGJhc2VQYWdlPzogbmV3ICh1cmw6IHN0cmluZywgaWQ6IHN0cmluZywgb3B0aW9ucz86IEZyYW1ld29yay5QYWdlQ29uc3RydWN0T3B0aW9ucykgPT4gRnJhbWV3b3JrLlBhZ2U7ICAgIC8vITwgUGFnZSDmqZ/og73jgpLmj5DkvpvjgZnjgovln7rlupXjgqTjg7Pjgrnjgr/jg7PjgrlcclxuICAgIH1cclxuXHJcbiAgICAvKiB0c2xpbnQ6ZGlzYWJsZTpuby11c2UtYmVmb3JlLWRlY2xhcmUgKi9cclxuICAgIC8qKlxyXG4gICAgICogQGludGVyZmFjZSBQYWdlQ29udGFpbmVyT3B0aW9uc1xyXG4gICAgICogQGJyaWVmIFBhZ2VDb250YWluZXIg44Gu44Kq44OX44K344On44OzXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgUGFnZUNvbnRhaW5lck9wdGlvbnM8VE1vZGVsIGV4dGVuZHMgRnJhbWV3b3JrLk1vZGVsID0gRnJhbWV3b3JrLk1vZGVsPiBleHRlbmRzIEZyYW1ld29yay5WaWV3T3B0aW9uczxUTW9kZWw+IHtcclxuICAgICAgICBvd25lcjogUGFnZVZpZXc7XHJcbiAgICAgICAgJGVsPzogSlF1ZXJ5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIFBhZ2VDb250YWluZXJWaWV3XHJcbiAgICAgKiBAYnJpZWYgUGFnZVZpZXcg44Go6YCj5pC65Y+v6IO944GqIOOCs+ODs+ODhuODiuODk+ODpeODvOOCr+ODqeOCuVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgY2xhc3MgUGFnZUNvbnRhaW5lclZpZXc8VE1vZGVsIGV4dGVuZHMgRnJhbWV3b3JrLk1vZGVsID0gRnJhbWV3b3JrLk1vZGVsPiBleHRlbmRzIEZyYW1ld29yay5WaWV3PFRNb2RlbD4ge1xyXG5cclxuICAgICAgICBwcml2YXRlIF9vd25lcjogUGFnZVZpZXcgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBjb25zdHJ1Y3RvclxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFBhZ2VDb250YWluZXJPcHRpb25zPFRNb2RlbD4pIHtcclxuICAgICAgICAgICAgc3VwZXIob3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHRoaXMuX293bmVyID0gb3B0aW9ucy5vd25lcjtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuJGVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxlZ2F0ZXMgPSAoPGFueT50aGlzKS5ldmVudHMgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEVsZW1lbnQob3B0aW9ucy4kZWwsIGRlbGVnYXRlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gc2hvcnQgY3V0IG1ldGhvZHNcclxuXHJcbiAgICAgICAgLy8hIE93bmVyIOWPluW+l1xyXG4gICAgICAgIGdldCBvd25lcigpOiBQYWdlVmlldyB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vd25lcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiB0c2xpbnQ6ZW5hYmxlOm5vLXVzZS1iZWZvcmUtZGVjbGFyZSAqL1xyXG5cclxuICAgIC8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAY2xhc3MgUGFnZVZpZXdcclxuICAgICAqIEBicmllZiBDRFAuRnJhbWV3b3JrLlBhZ2Ug44GoIEJhY2tib25lLlZpZXcg44Gu5Lih5pa544Gu5qmf6IO944KS5o+Q5L6b44GZ44KL44Oa44O844K444Gu5Z+65bqV44Kv44Op44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjbGFzcyBQYWdlVmlldzxUTW9kZWwgZXh0ZW5kcyBGcmFtZXdvcmsuTW9kZWwgPSBGcmFtZXdvcmsuTW9kZWw+IGV4dGVuZHMgRnJhbWV3b3JrLlZpZXc8VE1vZGVsPiBpbXBsZW1lbnRzIEZyYW1ld29yay5JUGFnZSwgSVN0YXR1c01hbmFnZXIge1xyXG5cclxuICAgICAgICBwcm90ZWN0ZWQgX3BhZ2VPcHRpb25zOiBQYWdlVmlld0NvbnN0cnVjdE9wdGlvbnM8VE1vZGVsPiA9IG51bGw7XHJcbiAgICAgICAgcHJvdGVjdGVkIF9iYXNlUGFnZTogRnJhbWV3b3JrLlBhZ2UgPSBudWxsO1xyXG4gICAgICAgIHByaXZhdGUgX3N0YXR1c01ncjogU3RhdHVzTWFuYWdlciA9IG51bGw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGNvbnN0cnVjdG9yXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gdXJsICAgICB7U3RyaW5nfSAgICAgICAgICAgICAgICAgICBbaW5dIOODmuODvOOCuCBVUkxcclxuICAgICAgICAgKiBAcGFyYW0gaWQgICAgICB7U3RyaW5nfSAgICAgICAgICAgICAgICAgICBbaW5dIOODmuODvOOCuCBJRFxyXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zIHtQYWdlVmlld0NvbnN0cnVjdE9wdGlvbnN9IFtpbl0g44Kq44OX44K344On44OzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3RydWN0b3IodXJsOiBzdHJpbmcsIGlkOiBzdHJpbmcsIG9wdGlvbnM/OiBQYWdlVmlld0NvbnN0cnVjdE9wdGlvbnM8VE1vZGVsPikge1xyXG4gICAgICAgICAgICBzdXBlcihvcHRpb25zKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBhZ2VWaWV3IOioreWumlxyXG4gICAgICAgICAgICB0aGlzLl9wYWdlT3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB7IG93bmVyOiB0aGlzIH0sIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICB0aGlzLl9iYXNlUGFnZSA9IHRoaXMuX3BhZ2VPcHRpb25zLmJhc2VQYWdlID8gbmV3IHRoaXMuX3BhZ2VPcHRpb25zLmJhc2VQYWdlKHVybCwgaWQsIHRoaXMuX3BhZ2VPcHRpb25zKSA6IG5ldyBCYXNlUGFnZSh1cmwsIGlkLCB0aGlzLl9wYWdlT3B0aW9ucyk7XHJcblxyXG4gICAgICAgICAgICAvLyBTdGF0dXNNYW5hZ2VyXHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXR1c01nciA9IG5ldyBTdGF0dXNNYW5hZ2VyKCk7XHJcbiAgICAgICAgICAgIC8vIEJhY2tib25lLlZpZXcg55So44Gu5Yid5pyf5YyWXHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGVnYXRlcyA9ICg8YW55PnRoaXMpLmV2ZW50cyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zZXRFbGVtZW50KHRoaXMuJHBhZ2UsIGRlbGVnYXRlcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIEltcGxlbWVudHM6IElTdGF0dXNNYW5hZ2VyIOeKtuaFi+euoeeQhlxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDnirbmhYvlpInmlbDjga7lj4Lnhafjgqvjgqbjg7Pjg4jjga7jgqTjg7Pjgq/jg6rjg6Hjg7Pjg4hcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBzdGF0dXMge1N0cmluZ30gW2luXSDnirbmhYvorZjliKXlrZBcclxuICAgICAgICAgKi9cclxuICAgICAgICBzdGF0dXNBZGRSZWYoc3RhdHVzOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzTWdyLnN0YXR1c0FkZFJlZihzdGF0dXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog54q25oWL5aSJ5pWw44Gu5Y+C54Wn44Kr44Km44Oz44OI44Gu44OH44Kv44Oq44Oh44Oz44OIXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gc3RhdHVzIHtTdHJpbmd9IFtpbl0g54q25oWL6K2Y5Yil5a2QXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3RhdHVzUmVsZWFzZShzdGF0dXM6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXNNZ3Iuc3RhdHVzUmVsZWFzZShzdGF0dXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog5Yem55CG44K544Kz44O844OX5q+O44Gr54q25oWL5aSJ5pWw44KS6Kit5a6aXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gc3RhdHVzICAge1N0cmluZ30gICBbaW5dIOeKtuaFi+itmOWIpeWtkFxyXG4gICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayB7RnVuY3Rpb259IFtpbl0g5Yem55CG44Kz44O844Or44OQ44OD44KvXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc3RhdHVzU2NvcGUoc3RhdHVzOiBzdHJpbmcsIGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXR1c01nci5zdGF0dXNTY29wZShzdGF0dXMsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOaMh+WumuOBl+OBn+eKtuaFi+S4reOBp+OBguOCi+OBi+eiuuiqjVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHN0YXR1cyB7U3RyaW5nfSAgIFtpbl0g54q25oWL6K2Y5Yil5a2QXHJcbiAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZTog54q25oWL5YaFIC8gZmFsc2U6IOeKtuaFi+WkllxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlzU3RhdHVzSW4oc3RhdHVzOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXR1c01nci5pc1N0YXR1c0luKHN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIElQYWdlIHN0dWIgc3R1ZmYuXHJcblxyXG4gICAgICAgIGdldCBhY3RpdmUoKTogYm9vbGVhbiAgICAgICAgICAgICAgICAgICB7IHJldHVybiB0aGlzLl9iYXNlUGFnZS5hY3RpdmU7ICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIGdldCB1cmwoKTogc3RyaW5nICAgICAgICAgICAgICAgICAgICAgICB7IHJldHVybiB0aGlzLl9iYXNlUGFnZS51cmw7ICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIGdldCBpZCgpOiBzdHJpbmcgICAgICAgICAgICAgICAgICAgICAgICB7IHJldHVybiB0aGlzLl9iYXNlUGFnZSA/IHRoaXMuX2Jhc2VQYWdlLmlkIDogbnVsbDsgfVxyXG4gICAgICAgIGdldCAkcGFnZSgpOiBKUXVlcnkgICAgICAgICAgICAgICAgICAgICB7IHJldHVybiB0aGlzLl9iYXNlUGFnZS4kcGFnZTsgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIGdldCAkaGVhZGVyKCk6IEpRdWVyeSAgICAgICAgICAgICAgICAgICB7IHJldHVybiB0aGlzLl9iYXNlUGFnZS4kaGVhZGVyOyAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIGdldCAkZm9vdGVyKCk6IEpRdWVyeSAgICAgICAgICAgICAgICAgICB7IHJldHVybiB0aGlzLl9iYXNlUGFnZS4kZm9vdGVyOyAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIGdldCBpbnRlbnQoKTogRnJhbWV3b3JrLkludGVudCAgICAgICAgICB7IHJldHVybiB0aGlzLl9iYXNlUGFnZS5pbnRlbnQ7ICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIHNldCBpbnRlbnQobmV3SW50ZW50OiBGcmFtZXdvcmsuSW50ZW50KSB7IHRoaXMuX2Jhc2VQYWdlLmludGVudCA9IG5ld0ludGVudDsgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBPcmllbnRhdGlvbiDjga7lpInmm7TjgpLlj5fkv6FcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBuZXdPcmllbnRhdGlvbiB7T3JpZW50YXRpb259IFtpbl0gbmV3IG9yaWVudGF0aW9uIGNvZGUuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25PcmllbnRhdGlvbkNoYW5nZWQobmV3T3JpZW50YXRpb246IEZyYW1ld29yay5PcmllbnRhdGlvbik6IHZvaWQge1xyXG4gICAgICAgICAgICAvLyBPdmVycmlkZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSC9XIEJhY2sgQnV0dG9uIOODj+ODs+ODieODqVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtICBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIGV2ZW50IG9iamVjdFxyXG4gICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWU6IOaXouWumuOBruWHpueQhuOCkuihjOOCj+OBquOBhCAvIGZhbHNlOiDml6Llrprjga7lh6bnkIbjgpLooYzjgYZcclxuICAgICAgICAgKi9cclxuICAgICAgICBvbkhhcmR3YXJlQmFja0J1dHRvbihldmVudD86IEpRdWVyeS5FdmVudCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSb3V0ZXIgXCJiZWZvcmUgcm91dGUgY2hhbmdlXCIg44OP44Oz44OJ44OpXHJcbiAgICAgICAgICog44Oa44O844K46YG356e755u05YmN44Gr6Z2e5ZCM5pyf5Yem55CG44KS6KGM44GG44GT44Go44GM5Y+v6IO9XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtJUHJvbWlzZUJhc2V9IFByb21pc2Ug44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25CZWZvcmVSb3V0ZUNoYW5nZSgpOiBJUHJvbWlzZUJhc2U8YW55PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOaxjueUqOOCs+ODnuODs+ODieOCkuWPl+S/oVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtICBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIGV2ZW50IG9iamVjdFxyXG4gICAgICAgICAqIEBwYXJhbSAgZXZlbnQge2tpbmR9ICAgICAgICAgICAgICBbaW5dIGNvbW1hbmQga2luZCBzdHJpbmdcclxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlOiDml6Llrprjga7lh6bnkIbjgpLooYzjgo/jgarjgYQgLyBmYWxzZTog5pei5a6a44Gu5Yem55CG44KS6KGM44GGXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25Db21tYW5kKGV2ZW50PzogSlF1ZXJ5LkV2ZW50LCBraW5kPzogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOacgOWIneOBriBPblBhZ2VJbml0KCkg44Gu44Go44GN44Gr44Gu44G/44Kz44O844Or44GV44KM44KLXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZXZlbnQge0pRdWVyeS5FdmVudH0gW2luXSDjgqTjg5njg7Pjg4jjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAgICAgKi9cclxuICAgICAgICBvbkluaXRpYWxpemUoZXZlbnQ6IEpRdWVyeS5FdmVudCk6IHZvaWQge1xyXG4gICAgICAgICAgICAvLyBPdmVycmlkZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogalFNIGV2ZW50OiBcInBhZ2ViZWZvcmVjcmVhdGVcIiDjgavlr77lv5xcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIOOCpOODmeODs+ODiOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG9uUGFnZUJlZm9yZUNyZWF0ZShldmVudDogSlF1ZXJ5LkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RWxlbWVudCh0aGlzLiRwYWdlLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGpRTSBldmVudDogXCJwYWdlY3JlYXRlXCIgKOaXpzpcInBhZ2Vpbml0XCIpIOOBq+WvvuW/nFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IHtKUXVlcnkuRXZlbnR9IFtpbl0g44Kk44OZ44Oz44OI44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25QYWdlSW5pdChldmVudDogSlF1ZXJ5LkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgICAgIC8vIE92ZXJyaWRlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBqUU0gZXZlbnQ6IFwicGFnZWJlZm9yZXNob3dcIiDjgavlr77lv5xcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIOOCpOODmeODs+ODiOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqIEBwYXJhbSBkYXRhICB7U2hvd0V2ZW50RGF0YX0gICAgIFtpbl0g5LuY5Yqg5oOF5aCxXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25QYWdlQmVmb3JlU2hvdyhldmVudDogSlF1ZXJ5LkV2ZW50LCBkYXRhPzogRnJhbWV3b3JrLlNob3dFdmVudERhdGEpOiB2b2lkIHtcclxuICAgICAgICAgICAgLy8gT3ZlcnJpZGVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGpRTSBldmVudDogXCJwYWdlY29udGFpbmVyc2hvd1wiICjml6c6XCJwYWdlc2hvd1wiKSDjgavlr77lv5xcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIOOCpOODmeODs+ODiOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqIEBwYXJhbSBkYXRhICB7U2hvd0V2ZW50RGF0YX0gICAgIFtpbl0g5LuY5Yqg5oOF5aCxXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgb25QYWdlU2hvdyhldmVudDogSlF1ZXJ5LkV2ZW50LCBkYXRhPzogRnJhbWV3b3JrLlNob3dFdmVudERhdGEpOiB2b2lkIHtcclxuICAgICAgICAgICAgLy8gT3ZlcnJpZGVcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGpRTSBldmVudDogXCJwYWdlYmVmb3JlaGlkZVwiIOOBq+WvvuW/nFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IHtKUXVlcnkuRXZlbnR9IFtpbl0g44Kk44OZ44Oz44OI44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICogQHBhcmFtIGRhdGEgIHtIaWRlRXZlbnREYXRhfSAgICAgW2luXSDku5jliqDmg4XloLFcclxuICAgICAgICAgKi9cclxuICAgICAgICBvblBhZ2VCZWZvcmVIaWRlKGV2ZW50OiBKUXVlcnkuRXZlbnQsIGRhdGE/OiBGcmFtZXdvcmsuSGlkZUV2ZW50RGF0YSk6IHZvaWQge1xyXG4gICAgICAgICAgICAvLyBPdmVycmlkZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogalFNIGV2ZW50OiBcInBhZ2Vjb250YWluZXJoaWRlXCIgKOaXpzpcInBhZ2VoaWRlXCIpIOOBq+WvvuW/nFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGV2ZW50IHtKUXVlcnkuRXZlbnR9IFtpbl0g44Kk44OZ44Oz44OI44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICogQHBhcmFtIGRhdGEgIHtIaWRlRXZlbnREYXRhfSAgICAgW2luXSDku5jliqDmg4XloLFcclxuICAgICAgICAgKi9cclxuICAgICAgICBvblBhZ2VIaWRlKGV2ZW50OiBKUXVlcnkuRXZlbnQsIGRhdGE/OiBGcmFtZXdvcmsuSGlkZUV2ZW50RGF0YSk6IHZvaWQge1xyXG4gICAgICAgICAgICAvLyBPdmVycmlkZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogalFNIGV2ZW50OiBcInBhZ2VyZW1vdmVcIiDjgavlr77lv5xcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBldmVudCB7SlF1ZXJ5LkV2ZW50fSBbaW5dIOOCpOODmeODs+ODiOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG9uUGFnZVJlbW92ZShldmVudDogSlF1ZXJ5LkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIi8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xyXG5cclxubmFtZXNwYWNlIENEUC5VSSB7XHJcblxyXG4gICAgaW1wb3J0IE1vZGVsID0gQ0RQLkZyYW1ld29yay5Nb2RlbDtcclxuXHJcbiAgICBjb25zdCBUQUcgPSBcIltDRFAuVUkuUGFnZUxpc3RWaWV3XSBcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcmZhY2UgUGFnZUxpc3RWaWV3Q29uc3RydWN0T3B0aW9uc1xyXG4gICAgICogQGJyaWVmIFBhZ2VMaXN0VmlldyDjgbjjga7liJ3mnJ/ljJbmg4XloLHjgpLmoLzntI3jgZnjgovjgqTjg7Pjgr/jg7zjg5XjgqfjgqTjgrnjgq/jg6njgrlcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBQYWdlTGlzdFZpZXdDb25zdHJ1Y3RPcHRpb25zPFRNb2RlbCBleHRlbmRzIE1vZGVsID0gTW9kZWw+IGV4dGVuZHMgTGlzdFZpZXdPcHRpb25zLCBQYWdlVmlld0NvbnN0cnVjdE9wdGlvbnM8VE1vZGVsPiB7XHJcbiAgICAgICAgYXV0b0Rlc3RvcnlFbGVtZW50PzogYm9vbGVhbjsgICAgICAgIC8vITwg44Oa44O844K46YG356e75YmN44GrIExpc3QgRWxlbWVudCDjgpLnoLTmo4TjgZnjgovloLTlkIjjga8gdHJ1ZSDjgpLmjIflrppcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBjbGFzcyBQYWdlTGlzdFZpZXdcclxuICAgICAqIEBicmllZiDku67mg7Pjg6rjgrnjg4jjg5Pjg6Xjg7zmqZ/og73jgpLmjIHjgaQgUGFnZVZpZXcg44Kv44Op44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjbGFzcyBQYWdlTGlzdFZpZXc8VE1vZGVsIGV4dGVuZHMgTW9kZWwgPSBNb2RlbD4gZXh0ZW5kcyBQYWdlVmlldzxUTW9kZWw+IGltcGxlbWVudHMgSUxpc3RWaWV3IHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfc2Nyb2xsTWdyOiBTY3JvbGxNYW5hZ2VyID0gbnVsbDsgICAgLy8hPCBzY3JvbGwg44Kz44Ki44Ot44K444OD44KvXHJcbiAgICAgICAgcHJpdmF0ZSBfbmVlZFJlYnVpbGQ6IGJvb2xlYW4gPSBmYWxzZTsgICAgICAgLy8hPCDjg5rjg7zjgrjooajnpLrmmYLjgasgcmVidWlsZCgpIOOCkuOCs+ODvOODq+OBmeOCi+OBn+OCgeOBruWGhemDqOWkieaVsFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBjb25zdHJ1Y3RvclxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHVybCAgICAge1N0cmluZ30gICAgICAgICAgICAgICAgICAgICAgIFtpbl0gcGFnZSB0ZW1wbGF0ZSDjgavkvb/nlKjjgZnjgosgVVJMXHJcbiAgICAgICAgICogQHBhcmFtIGlkICAgICAge1N0cmluZ30gICAgICAgICAgICAgICAgICAgICAgIFtpbl0gcGFnZSDjgavmjK/jgonjgozjgZ8gSURcclxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyB7UGFnZUxpc3RWaWV3Q29uc3RydWN0T3B0aW9uc30gW2luXSDjgqrjg5fjgrfjg6fjg7NcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdHJ1Y3Rvcih1cmw6IHN0cmluZywgaWQ6IHN0cmluZywgb3B0aW9ucz86IFBhZ2VMaXN0Vmlld0NvbnN0cnVjdE9wdGlvbnM8VE1vZGVsPikge1xyXG4gICAgICAgICAgICBzdXBlcih1cmwsIGlkLCAkLmV4dGVuZCh7fSwge1xyXG4gICAgICAgICAgICAgICAgYXV0b0Rlc3RvcnlFbGVtZW50OiBmYWxzZSxcclxuICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZ3IgPSBuZXcgU2Nyb2xsTWFuYWdlcihvcHRpb25zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISByZWJ1aWxkKCkg44Gu44K544Kx44K444Ol44O844Oq44Oz44KwXHJcbiAgICAgICAgcHVibGljIHJlc2VydmVSZWJ1aWxkKCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl9uZWVkUmVidWlsZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIE92ZXJyaWRlOiBQYWdlVmlld1xyXG5cclxuICAgICAgICAvLyEgT3JpZW50YXRpb24g44Gu5aSJ5pu05qSc55+lXHJcbiAgICAgICAgb25PcmllbnRhdGlvbkNoYW5nZWQobmV3T3JpZW50YXRpb246IEZyYW1ld29yay5PcmllbnRhdGlvbik6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZ3Iuc2V0QmFzZUhlaWdodCh0aGlzLmdldFBhZ2VCYXNlSGVpZ2h0KCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOODmuODvOOCuOmBt+enu+ebtOWJjeOCpOODmeODs+ODiOWHpueQhlxyXG4gICAgICAgIG9uQmVmb3JlUm91dGVDaGFuZ2UoKTogSVByb21pc2VCYXNlPGFueT4ge1xyXG4gICAgICAgICAgICBpZiAoKDxQYWdlTGlzdFZpZXdDb25zdHJ1Y3RPcHRpb25zPFRNb2RlbD4+dGhpcy5fcGFnZU9wdGlvbnMpLmF1dG9EZXN0b3J5RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWdyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIub25CZWZvcmVSb3V0ZUNoYW5nZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIGpRTSBldmVudDogXCJwYWdlYmVmb3Jlc2hvd1wiIOOBq+WvvuW/nFxyXG4gICAgICAgIG9uUGFnZUJlZm9yZVNob3coZXZlbnQ6IEpRdWVyeS5FdmVudCwgZGF0YT86IEZyYW1ld29yay5TaG93RXZlbnREYXRhKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLm9uUGFnZUJlZm9yZVNob3coZXZlbnQsIGRhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZ3IuaW5pdGlhbGl6ZSh0aGlzLiRwYWdlLCB0aGlzLmdldFBhZ2VCYXNlSGVpZ2h0KCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIGpRTSBldmVudDogXCJwYWdlY29udGFpbmVyc2hvd1wiICjml6c6XCJwYWdlc2hvd1wiKSDjgavlr77lv5xcclxuICAgICAgICBvblBhZ2VTaG93KGV2ZW50OiBKUXVlcnkuRXZlbnQsIGRhdGE/OiBGcmFtZXdvcmsuU2hvd0V2ZW50RGF0YSk6IHZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5vblBhZ2VTaG93KGV2ZW50LCBkYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWdyLnNldEJhc2VIZWlnaHQodGhpcy5nZXRQYWdlQmFzZUhlaWdodCgpKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX25lZWRSZWJ1aWxkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlYnVpbGQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX25lZWRSZWJ1aWxkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBqUU0gZXZlbnQ6IFwicGFnZXJlbW92ZVwiIOOBq+WvvuW/nFxyXG4gICAgICAgIG9uUGFnZVJlbW92ZShldmVudDogSlF1ZXJ5LkV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLm9uUGFnZVJlbW92ZShldmVudCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBJbXBsZW1lbnRzOiBJTGlzdFZpZXcgUHJvZmlsZSDnrqHnkIZcclxuXHJcbiAgICAgICAgLy8hIOWIneacn+WMlua4iOOBv+OBi+WIpOWumlxyXG4gICAgICAgIGlzSW5pdGlhbGl6ZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZ3IuaXNJbml0aWFsaXplZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOODl+ODreODkeODhuOCo+OCkuaMh+WumuOBl+OBpuOAgUxpc3RJdGVtIOOCkueuoeeQhlxyXG4gICAgICAgIGFkZEl0ZW0oXHJcbiAgICAgICAgICAgIGhlaWdodDogbnVtYmVyLFxyXG4gICAgICAgICAgICBpbml0aWFsaXplcjogbmV3IChvcHRpb25zPzogYW55KSA9PiBCYXNlTGlzdEl0ZW1WaWV3LFxyXG4gICAgICAgICAgICBpbmZvOiBhbnksXHJcbiAgICAgICAgICAgIGluc2VydFRvPzogbnVtYmVyXHJcbiAgICAgICAgICAgICk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl9hZGRMaW5lKG5ldyBMaW5lUHJvZmlsZSh0aGlzLl9zY3JvbGxNZ3IsIE1hdGguZmxvb3IoaGVpZ2h0KSwgaW5pdGlhbGl6ZXIsIGluZm8pLCBpbnNlcnRUbyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5oyH5a6a44GX44GfIEl0ZW0g44KS5YmK6ZmkXHJcbiAgICAgICAgcmVtb3ZlSXRlbShpbmRleDogbnVtYmVyLCBzaXplPzogbnVtYmVyLCBkZWxheT86IG51bWJlcik6IHZvaWQ7XHJcbiAgICAgICAgcmVtb3ZlSXRlbShpbmRleDogbnVtYmVyW10sIGRlbGF5PzogbnVtYmVyKTogdm9pZDtcclxuICAgICAgICByZW1vdmVJdGVtKGluZGV4OiBhbnksIGFyZzI/OiBudW1iZXIsIGFyZzM/OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWdyLnJlbW92ZUl0ZW0oaW5kZXgsIGFyZzIsIGFyZzMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOaMh+WumuOBl+OBnyBJdGVtIOOBq+ioreWumuOBl+OBn+aDheWgseOCkuWPluW+l1xyXG4gICAgICAgIGdldEl0ZW1JbmZvKHRhcmdldDogbnVtYmVyKTogYW55O1xyXG4gICAgICAgIGdldEl0ZW1JbmZvKHRhcmdldDogSlF1ZXJ5LkV2ZW50KTogYW55O1xyXG4gICAgICAgIGdldEl0ZW1JbmZvKHRhcmdldDogYW55KTogYW55IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbE1nci5nZXRJdGVtSW5mbyh0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOOCouOCr+ODhuOCo+ODluODmuODvOOCuOOCkuabtOaWsFxyXG4gICAgICAgIHJlZnJlc2goKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1nci5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5pyq44Ki44K144Kk44Oz44Oa44O844K444KS5qeL56+JXHJcbiAgICAgICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZ3IudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44Oa44O844K444Ki44K144Kk44Oz44KS5YaN5qeL5oiQXHJcbiAgICAgICAgcmVidWlsZCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWdyLnJlYnVpbGQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDnrqHovYTjg4fjg7zjgr/jgpLnoLTmo4RcclxuICAgICAgICByZWxlYXNlKCk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZ3IucmVsZWFzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBJbXBsZW1lbnRzOiBJTGlzdFZpZXcgUHJvZmlsZSBCYWNrdXAgLyBSZXN0b3JlXHJcblxyXG4gICAgICAgIC8vISDlhoXpg6jjg4fjg7zjgr/jgpLjg5Djg4Pjgq/jgqLjg4Pjg5dcclxuICAgICAgICBiYWNrdXAoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbE1nci5iYWNrdXAoa2V5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDlhoXpg6jjg4fjg7zjgr/jgpLjg6rjgrnjg4jjgqJcclxuICAgICAgICByZXN0b3JlKGtleTogc3RyaW5nLCByZWJ1aWxkOiBib29sZWFuID0gdHJ1ZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICBjb25zdCByZXR2YWwgPSB0aGlzLl9zY3JvbGxNZ3IucmVzdG9yZShrZXksIHJlYnVpbGQpO1xyXG4gICAgICAgICAgICBpZiAocmV0dmFsICYmICFyZWJ1aWxkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2VydmVSZWJ1aWxkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldHZhbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDjg5Djg4Pjgq/jgqLjg4Pjg5fjg4fjg7zjgr/jga7mnInnhKFcclxuICAgICAgICBoYXNCYWNrdXAoa2V5OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbE1nci5oYXNCYWNrdXAoa2V5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDjg5Djg4Pjgq/jgqLjg4Pjg5fjg4fjg7zjgr/jga7noLTmo4RcclxuICAgICAgICBjbGVhckJhY2t1cChrZXk/OiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbE1nci5jbGVhckJhY2t1cChrZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOODkOODg+OCr+OCouODg+ODl+ODh+ODvOOCv+OBq+OCouOCr+OCu+OCuVxyXG4gICAgICAgIGdldCBiYWNrdXBEYXRhKCk6IGFueSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZ3IuYmFja3VwRGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gSW1wbGVtZW50czogSUxpc3RWaWV3IFNjcm9sbFxyXG5cclxuICAgICAgICAvLyEg44K544Kv44Ot44O844Or44Kk44OZ44Oz44OI44OP44Oz44OJ44Op6Kit5a6aL+ino+mZpFxyXG4gICAgICAgIHNldFNjcm9sbEhhbmRsZXIoaGFuZGxlcjogKGV2ZW50OiBKUXVlcnkuRXZlbnQpID0+IHZvaWQsIG9uOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1nci5zZXRTY3JvbGxIYW5kbGVyKGhhbmRsZXIsIG9uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDjgrnjgq/jg63jg7zjg6vntYLkuobjgqTjg5njg7Pjg4jjg4/jg7Pjg4njg6noqK3lrpov6Kej6ZmkXHJcbiAgICAgICAgc2V0U2Nyb2xsU3RvcEhhbmRsZXIoaGFuZGxlcjogKGV2ZW50OiBKUXVlcnkuRXZlbnQpID0+IHZvaWQsIG9uOiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1nci5zZXRTY3JvbGxTdG9wSGFuZGxlcihoYW5kbGVyLCBvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44K544Kv44Ot44O844Or5L2N572u44KS5Y+W5b6XXHJcbiAgICAgICAgZ2V0U2Nyb2xsUG9zKCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZ3IuZ2V0U2Nyb2xsUG9zKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44K544Kv44Ot44O844Or5L2N572u44Gu5pyA5aSn5YCk44KS5Y+W5b6XXHJcbiAgICAgICAgZ2V0U2Nyb2xsUG9zTWF4KCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZ3IuZ2V0U2Nyb2xsUG9zTWF4KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44K544Kv44Ot44O844Or5L2N572u44KS5oyH5a6aXHJcbiAgICAgICAgc2Nyb2xsVG8ocG9zOiBudW1iZXIsIGFuaW1hdGU/OiBib29sZWFuLCB0aW1lPzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbE1nci5zY3JvbGxUbyhwb3MsIGFuaW1hdGUsIHRpbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOaMh+WumuOBleOCjOOBnyBMaXN0SXRlbVZpZXcg44Gu6KGo56S644KS5L+d6Ki8XHJcbiAgICAgICAgZW5zdXJlVmlzaWJsZShpbmRleDogbnVtYmVyLCBvcHRpb25zPzogRW5zdXJlVmlzaWJsZU9wdGlvbnMpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWdyLmVuc3VyZVZpc2libGUoaW5kZXgsIG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBJbXBsZW1lbnRzOiBJTGlzdFZpZXcgUHJvcGVydGllc1xyXG5cclxuICAgICAgICAvLyEgY29yZSBmcmFtZXdvcmsgYWNjZXNzXHJcbiAgICAgICAgZ2V0IGNvcmUoKTogSUxpc3RWaWV3RnJhbWV3b3JrIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbE1ncjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gSW1wbGVtZW50czogSUxpc3RWaWV3IEludGVybmFsIEkvRlxyXG5cclxuICAgICAgICAvLyEg55m76YyyIGZyYW1ld29yayDjgYzkvb/nlKjjgZnjgotcclxuICAgICAgICBfYWRkTGluZShfbGluZTogYW55LCBpbnNlcnRUbz86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZ3IuX2FkZExpbmUoX2xpbmUsIGluc2VydFRvKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gcHJpdmF0ZSBtZXRob2Q6XHJcblxyXG4gICAgICAgIC8vISDjg5rjg7zjgrjjga7ln7rmupblgKTjgpLlj5blvpdcclxuICAgICAgICBwcml2YXRlIGdldFBhZ2VCYXNlSGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgICAgIHJldHVybiAkKHdpbmRvdykuaGVpZ2h0KCkgLSBwYXJzZUludCh0aGlzLiRwYWdlLmNzcyhcInBhZGRpbmctdG9wXCIpLCAxMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIm5hbWVzcGFjZSBDRFAuVUkge1xyXG5cclxuICAgIGltcG9ydCBNb2RlbCA9IENEUC5GcmFtZXdvcmsuTW9kZWw7XHJcblxyXG4gICAgY29uc3QgVEFHID0gXCJbQ0RQLlVJLlBhZ2VFeHBhbmRhYmxlTGlzdFZpZXddIFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGNsYXNzIFBhZ2VFeHBhbmRhYmxlTGlzdFZpZXdcclxuICAgICAqIEBicmllZiDplovplonjg6rjgrnjg4jjg5Pjg6Xjg7zmqZ/og73jgpLmjIHjgaQgUGFnZVZpZXcg44Kv44Op44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjbGFzcyBQYWdlRXhwYW5kYWJsZUxpc3RWaWV3PFRNb2RlbCBleHRlbmRzIE1vZGVsID0gTW9kZWw+IGV4dGVuZHMgUGFnZUxpc3RWaWV3PFRNb2RlbD4gaW1wbGVtZW50cyBJRXhwYW5kYWJsZUxpc3RWaWV3IHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBfZXhwYW5kTWFuYWdlcjogRXhwYW5kTWFuYWdlciA9IG51bGw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGNvbnN0cnVjdG9yXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gdXJsICAgICB7U3RyaW5nfSAgICAgICAgICAgICAgICAgICAgICAgW2luXSBwYWdlIHRlbXBsYXRlIOOBq+S9v+eUqOOBmeOCiyBVUkxcclxuICAgICAgICAgKiBAcGFyYW0gaWQgICAgICB7U3RyaW5nfSAgICAgICAgICAgICAgICAgICAgICAgW2luXSBwYWdlIOOBq+aMr+OCieOCjOOBnyBJRFxyXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zIHtQYWdlTGlzdFZpZXdDb25zdHJ1Y3RPcHRpb25zfSBbaW5dIOOCquODl+OCt+ODp+ODs1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHVybDogc3RyaW5nLCBpZDogc3RyaW5nLCBvcHRpb25zPzogUGFnZUxpc3RWaWV3Q29uc3RydWN0T3B0aW9uczxUTW9kZWw+KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHVybCwgaWQsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICB0aGlzLl9leHBhbmRNYW5hZ2VyID0gbmV3IEV4cGFuZE1hbmFnZXIodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIEltcGxlbWVudHM6IElFeHBhbmRhYmxlTGlzdFZpZXdcclxuXHJcbiAgICAgICAgLy8hIOaWsOimjyBHcm91cFByb2ZpbGUg44KS5L2c5oiQXHJcbiAgICAgICAgbmV3R3JvdXAoaWQ/OiBzdHJpbmcpOiBHcm91cFByb2ZpbGUge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZXhwYW5kTWFuYWdlci5uZXdHcm91cChpZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg55m76Yyy5riI44G/IEdyb3VwIOOCkuWPluW+l1xyXG4gICAgICAgIGdldEdyb3VwKGlkOiBzdHJpbmcpOiBHcm91cFByb2ZpbGUge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZXhwYW5kTWFuYWdlci5nZXRHcm91cChpZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg56ysMemajuWxpOOBriBHcm91cCDnmbvpjLJcclxuICAgICAgICByZWdpc3RlclRvcEdyb3VwKHRvcEdyb3VwOiBHcm91cFByb2ZpbGUpOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5fZXhwYW5kTWFuYWdlci5yZWdpc3RlclRvcEdyb3VwKHRvcEdyb3VwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISDnrKwx6ZqO5bGk44GuIEdyb3VwIOOCkuWPluW+l1xyXG4gICAgICAgIGdldFRvcEdyb3VwcygpOiBHcm91cFByb2ZpbGVbXSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9leHBhbmRNYW5hZ2VyLmdldFRvcEdyb3VwcygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOOBmeOBueOBpuOBruOCsOODq+ODvOODl+OCkuWxlemWiyAoMemajuWxpClcclxuICAgICAgICBleHBhbmRBbGwoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX2V4cGFuZE1hbmFnZXIuZXhwYW5kQWxsKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg44GZ44G544Gm44Gu44Kw44Or44O844OX44KS5Y+O5p2fICgx6ZqO5bGkKVxyXG4gICAgICAgIGNvbGxhcHNlQWxsKGRlbGF5PzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuX2V4cGFuZE1hbmFnZXIuY29sbGFwc2VBbGwoZGVsYXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOWxlemWi+S4reOBi+WIpOWumlxyXG4gICAgICAgIGlzRXhwYW5kaW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZXhwYW5kTWFuYWdlci5pc0V4cGFuZGluZygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOWPjuadn+S4reOBi+WIpOWumlxyXG4gICAgICAgIGlzQ29sbGFwc2luZygpOiBib29sZWFuIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2V4cGFuZE1hbmFnZXIuaXNDb2xsYXBzaW5nKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg6ZaL6ZaJ5Lit44GL5Yik5a6aXHJcbiAgICAgICAgaXNTd2l0Y2hpbmcoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9leHBhbmRNYW5hZ2VyLmlzU3dpdGNoaW5nKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEgbGF5b3V0IGtleSDjgpLlj5blvpdcclxuICAgICAgICBnZXQgbGF5b3V0S2V5KCk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9leHBhbmRNYW5hZ2VyLmxheW91dEtleTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vISBsYXlvdXQga2V5IOOCkuioreWumlxyXG4gICAgICAgIHNldCBsYXlvdXRLZXkoa2V5OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5fZXhwYW5kTWFuYWdlci5sYXlvdXRLZXkgPSBrZXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIE92ZXJyaWRlOiBQYWdlTGlzdFZpZXdcclxuXHJcbiAgICAgICAgLy8hIOODh+ODvOOCv+OCkuegtOajhFxyXG4gICAgICAgIHJlbGVhc2UoKTogdm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLnJlbGVhc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5fZXhwYW5kTWFuYWdlci5yZWxlYXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyEg5YaF6YOo44OH44O844K/44KS44OQ44OD44Kv44Ki44OD44OXXHJcbiAgICAgICAgYmFja3VwKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9leHBhbmRNYW5hZ2VyLmJhY2t1cChrZXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8hIOWGhemDqOODh+ODvOOCv+OCkuODquOCueODiOOColxyXG4gICAgICAgIHJlc3RvcmUoa2V5OiBzdHJpbmcsIHJlYnVpbGQ6IGJvb2xlYW4gPSB0cnVlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9leHBhbmRNYW5hZ2VyLnJlc3RvcmUoa2V5LCByZWJ1aWxkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIGpRdWVyeSBwbHVnaW4gZGVmaW5pdGlvblxyXG4gKi9cclxuaW50ZXJmYWNlIEpRdWVyeSB7XHJcbiAgICByaXBwbGUob3B0aW9ucz86IENEUC5VSS5Eb21FeHRlbnNpb25PcHRpb25zKTogSlF1ZXJ5O1xyXG59XHJcblxyXG5uYW1lc3BhY2UgQ0RQLlVJLkV4dGVuc2lvbiB7XHJcblxyXG4gICAgaW1wb3J0IEZyYW1ld29yayA9IENEUC5GcmFtZXdvcms7XHJcblxyXG4gICAgLy8hIGpRdWVyeSBwbHVnaW5cclxuICAgICQuZm4ucmlwcGxlID0gZnVuY3Rpb24gKG9wdGlvbnM/OiBEb21FeHRlbnNpb25PcHRpb25zKSB7XHJcbiAgICAgICAgY29uc3QgJGVsID0gJCh0aGlzKTtcclxuICAgICAgICByZXR1cm4gJGVsLm9uKEZyYW1ld29yay5QYXRjaC5zX3ZjbGlja0V2ZW50LCBmdW5jdGlvbiAoZXZlbnQ6IEpRdWVyeS5FdmVudCkge1xyXG4gICAgICAgICAgICBjb25zdCBzdXJmYWNlID0gJCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBzdXJmYWNlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcclxuICAgICAgICAgICAgaWYgKHN1cmZhY2UuZmluZChcIi51aS1yaXBwbGUtaW5rXCIpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgc3VyZmFjZS5wcmVwZW5kKFwiPGRpdiBjbGFzcz0ndWktcmlwcGxlLWluayc+PC9kaXY+XCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgaW5rID0gc3VyZmFjZS5maW5kKFwiLnVpLXJpcHBsZS1pbmtcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBzdG9wIHRoZSBwcmV2aW91cyBhbmltYXRpb25cclxuICAgICAgICAgICAgaW5rLnJlbW92ZUNsYXNzKFwidWktcmlwcGxlLWFuaW1hdGVcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBpbmsgc2l6ZTpcclxuICAgICAgICAgICAgaWYgKCFpbmsuaGVpZ2h0KCkgJiYgIWluay53aWR0aCgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkID0gTWF0aC5tYXgoc3VyZmFjZS5vdXRlcldpZHRoKCksIHN1cmZhY2Uub3V0ZXJIZWlnaHQoKSk7XHJcbiAgICAgICAgICAgICAgICBpbmsuY3NzKHsgaGVpZ2h0OiBkLCB3aWR0aDogZCB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgeCA9IGV2ZW50LnBhZ2VYIC0gc3VyZmFjZS5vZmZzZXQoKS5sZWZ0IC0gKGluay53aWR0aCgpIC8gMik7XHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSBldmVudC5wYWdlWSAtIHN1cmZhY2Uub2Zmc2V0KCkudG9wIC0gKGluay5oZWlnaHQoKSAvIDIpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcmlwcGxlQ29sb3IgPSBzdXJmYWNlLmRhdGEoXCJyaXBwbGUtY29sb3JcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBhbmltYXRpb24gZW5kIGhhbmRsZXJcclxuICAgICAgICAgICAgY29uc3QgQU5JTUFUSU9OX0VORF9FVkVOVCA9IFwiYW5pbWF0aW9uZW5kIHdlYmtpdEFuaW1hdGlvbkVuZFwiO1xyXG4gICAgICAgICAgICBpbmsub24oQU5JTUFUSU9OX0VORF9FVkVOVCwgZnVuY3Rpb24gKGV2OiBKUXVlcnkuRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGluay5vZmYoKTtcclxuICAgICAgICAgICAgICAgIGluay5yZW1vdmVDbGFzcyhcInVpLXJpcHBsZS1hbmltYXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgaW5rID0gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgdGhlIHBvc2l0aW9uIGFuZCBhZGQgY2xhc3MgLmFuaW1hdGVcclxuICAgICAgICAgICAgaW5rLmNzcyh7XHJcbiAgICAgICAgICAgICAgICB0b3A6IHkgKyBcInB4XCIsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiB4ICsgXCJweFwiLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcmlwcGxlQ29sb3JcclxuICAgICAgICAgICAgfSkuYWRkQ2xhc3MoXCJ1aS1yaXBwbGUtYW5pbWF0ZVwiKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXRlcmlhbCBEZXNpZ24gUmlwcGxlIOaLoeW8tVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAgICAgICAgICAgICAgJHVpICAgICAgIFtpbl0g5qSc57Si5a++6LGh44GuIGpRdWVyeSDjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAqIEBwYXJhbSB7RG9tRXh0ZW5zaW9uT3B0aW9uc30gW29wdGlvbnNdIFtpbl0g44Kq44OX44K344On44OzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFwcGx5RG9tRXh0ZW5zaW9uKCR1aTogSlF1ZXJ5LCBvcHRpb25zPzogRG9tRXh0ZW5zaW9uT3B0aW9ucyk6IEpRdWVyeSB7XHJcbiAgICAgICAgY29uc3QgTk9fUklQUExFX0NMQVNTID0gW1xyXG4gICAgICAgICAgICBcIi51aS1yaXBwbGUtbm9uZVwiLFxyXG4gICAgICAgICAgICBcIi51aS1mbGlwc3dpdGNoLW9uXCIsXHJcbiAgICAgICAgICAgIFwiLnVpLXNsaWRlci1oYW5kbGVcIixcclxuICAgICAgICAgICAgXCIudWktaW5wdXQtY2xlYXJcIixcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBsZXQgc2VsZWN0b3IgPSBcIi51aS1idG5cIjtcclxuICAgICAgICBpZiAoJHVpLmhhc0NsYXNzKFwidWktcGFnZVwiKSkge1xyXG4gICAgICAgICAgICBzZWxlY3RvciA9IFwiLnVpLWNvbnRlbnQgLnVpLWJ0blwiOyAvLyBoZWFkZXIg44Gv6Ieq5YuVIHJpcHBsZSDljJblr77osaHlpJZcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICR1aS5maW5kKHNlbGVjdG9yKVxyXG4gICAgICAgICAgICAuZmlsdGVyKChpbmRleCwgZWxlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgJGVsZW0gPSAkKGVsZW0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRlbGVtLmlzKE5PX1JJUFBMRV9DTEFTUy5qb2luKFwiLFwiKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3MoXCJ1aS1yaXBwbGVcIik7XHJcblxyXG4gICAgICAgIC8vIHJpcHBsaWZ5XHJcbiAgICAgICAgJHVpLmZpbmQoXCIudWktcmlwcGxlXCIpLnJpcHBsZSgpO1xyXG4gICAgICAgIHJldHVybiAkdWk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g55m76YyyXHJcbiAgICBFeHRlbnNpb25NYW5hZ2VyLnJlZ2lzdGVyRG9tRXh0ZW5zaW9uKGFwcGx5RG9tRXh0ZW5zaW9uKTtcclxufVxyXG4iLCIvKipcclxuICogalF1ZXJ5IHBsdWdpbiBkZWZpbml0aW9uXHJcbiAqL1xyXG5pbnRlcmZhY2UgSlF1ZXJ5IHtcclxuICAgIHNwaW5uZXIob3B0aW9ucz86IENEUC5VSS5Eb21FeHRlbnNpb25PcHRpb25zKTogSlF1ZXJ5O1xyXG59XHJcblxyXG5uYW1lc3BhY2UgQ0RQLlVJLkV4dGVuc2lvbiB7XHJcblxyXG4gICAgaW1wb3J0IFRlbXBsYXRlID0gQ0RQLlRvb2xzLlRlbXBsYXRlO1xyXG4gICAgaW1wb3J0IEpTVCAgICAgID0gQ0RQLlRvb2xzLkpTVDtcclxuXHJcbiAgICBsZXQgX3RlbXBsYXRlOiBKU1Q7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXRlcmlhbCBEZXNpZ24gU3Bpbm5lciDmi6HlvLVcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gICAgICAgICAgICAgICR0YXJnZXQgICBbaW5dIOaknOe0ouWvvuixoeOBriBqUXVlcnkg44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgKiBAcGFyYW0ge0RvbUV4dGVuc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBbaW5dIOOCquODl+OCt+ODp+ODs1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBhcHBseURvbUV4dGVuc2lvbigkdGFyZ2V0OiBKUXVlcnksIG9wdGlvbnM/OiBEb21FeHRlbnNpb25PcHRpb25zKTogSlF1ZXJ5IHtcclxuICAgICAgICBpZiAoIV90ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICBfdGVtcGxhdGUgPSBUZW1wbGF0ZS5nZXRKU1QoYFxyXG4gICAgICAgICAgICAgICAgPHNjcmlwdCB0eXBlPVwidGV4dC90ZW1wbGF0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidWktc3Bpbm5lci1iYXNlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidWktc3Bpbm5lci1pbm5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ1aS1zcGlubmVyLWlubmVyLWdhcFwiIHt7Ym9yZGVyVG9wfX0+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ1aS1zcGlubmVyLWlubmVyLWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInVpLXNwaW5uZXItaW5uZXItaGFsZi1jaXJjbGVcIiB7e2JvcmRlcn19Pjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidWktc3Bpbm5lci1pbm5lci1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidWktc3Bpbm5lci1pbm5lci1oYWxmLWNpcmNsZVwiIHt7Ym9yZGVyfX0+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbWFrZVRlbXBsYXRlUGFyYW0gPSAoY29sb3I6IHN0cmluZyk6IE9iamVjdCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBib3JkZXJUb3A6IFwic3R5bGU9Ym9yZGVyLXRvcC1jb2xvcjpcIiArIGNvbG9yICsgXCI7XCIsXHJcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwic3R5bGU9Ym9yZGVyLWNvbG9yOlwiICsgY29sb3IgKyBcIjtcIixcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBzcGlubmVyaWZ5ID0gKGVsZW06IEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgJGVsZW0gPSAkKGVsZW0pO1xyXG4gICAgICAgICAgICBjb25zdCBjb2xvciA9ICRlbGVtLmRhdGEoXCJzcGlubmVyLWNvbG9yXCIpO1xyXG4gICAgICAgICAgICBsZXQgcGFyYW0gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICRlbGVtLmNzcyh7IFwiYmFja2dyb3VuZC1jb2xvclwiOiBjb2xvciB9KTtcclxuICAgICAgICAgICAgICAgIHBhcmFtID0gbWFrZVRlbXBsYXRlUGFyYW0oY29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRlbGVtLmFwcGVuZChfdGVtcGxhdGUocGFyYW0pKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkdGFyZ2V0LmZpbmQoXCIudWktc3Bpbm5lciwgLnVpLWljb24tbG9hZGluZ1wiKVxyXG4gICAgICAgICAgICAuZWFjaCgoaW5kZXg6IG51bWJlciwgZWxlbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc3Bpbm5lcmlmeShlbGVtKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiAkdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vISBqUXVlcnkgcGx1Z2luXHJcbiAgICAkLmZuLnNwaW5uZXIgPSBmdW5jdGlvbiAob3B0aW9ucz86IERvbUV4dGVuc2lvbk9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gYXBwbHlEb21FeHRlbnNpb24oJCh0aGlzKSwgb3B0aW9ucyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIOeZu+mMslxyXG4gICAgRXh0ZW5zaW9uTWFuYWdlci5yZWdpc3RlckRvbUV4dGVuc2lvbihhcHBseURvbUV4dGVuc2lvbik7XHJcbn1cclxuIiwibmFtZXNwYWNlIENEUC5VSS5FeHRlbnNpb24ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGV4dCBJbnB1dCDnlKggRmxvYXRpbmcgTGFiZWwg5ouh5by1XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9ICAgICAgICAgICAgICAkdWkgICAgICAgW2luXSDmpJzntKLlr77osaHjga4galF1ZXJ5IOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICogQHBhcmFtIHtEb21FeHRlbnNpb25PcHRpb25zfSBbb3B0aW9uc10gW2luXSDjgqrjg5fjgrfjg6fjg7NcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYXBwbHlEb21FeHRlbnNpb24oJHVpOiBKUXVlcnksIG9wdGlvbnM/OiBEb21FeHRlbnNpb25PcHRpb25zKTogSlF1ZXJ5IHtcclxuICAgICAgICBjb25zdCB1cGRhdGUgPSAoZWxlbTogRWxlbWVudCwgZmxvYXRpbmc6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgJGVsZW0gPSAkKGVsZW0pO1xyXG4gICAgICAgICAgICBpZiAoZmxvYXRpbmcpIHtcclxuICAgICAgICAgICAgICAgICRlbGVtLmFkZENsYXNzKFwidWktZmxvYXQtbGFiZWwtZmxvYXRpbmdcIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkZWxlbS5yZW1vdmVDbGFzcyhcInVpLWZsb2F0LWxhYmVsLWZsb2F0aW5nXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgZmxvYXRpbmdpZnkgPSAoZWxlbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpZCA9ICQoZWxlbSkuYXR0cihcImZvclwiKTtcclxuICAgICAgICAgICAgY29uc3QgJGlucHV0ID0gJHVpLmZpbmQoXCIjXCIgKyBpZCk7XHJcbiAgICAgICAgICAgIGlmIChcInNlYXJjaFwiID09PSAkaW5wdXQuanFtRGF0YShcInR5cGVcIikpIHtcclxuICAgICAgICAgICAgICAgICQoZWxlbSkuYWRkQ2xhc3MoXCJ1aS1mbG9hdC1sYWJlbC1oYXMtaWNvblwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1cGRhdGUoZWxlbSwgISEkaW5wdXQudmFsKCkpO1xyXG4gICAgICAgICAgICAkaW5wdXQub24oXCJrZXl1cCBjaGFuZ2UgaW5wdXQgZm9jdXMgYmx1ciBjdXQgcGFzdGVcIiwgKGV2ZW50OiBKUXVlcnkuRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZShlbGVtLCAhISQoZXZlbnQudGFyZ2V0KS52YWwoKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICR1aS5maW5kKFwibGFiZWwudWktZmxvYXQtbGFiZWwsIC51aS1mbG9hdC1sYWJlbCBsYWJlbFwiKVxyXG4gICAgICAgICAgICAuZWFjaCgoaW5kZXg6IG51bWJlciwgZWxlbTogRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZmxvYXRpbmdpZnkoZWxlbSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gJHVpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOeZu+mMslxyXG4gICAgRXh0ZW5zaW9uTWFuYWdlci5yZWdpc3RlckRvbUV4dGVuc2lvbihhcHBseURvbUV4dGVuc2lvbik7XHJcbn1cclxuIiwibmFtZXNwYWNlIENEUC5VSS5FeHRlbnNpb24ge1xyXG5cclxuICAgIGltcG9ydCBGcmFtZXdvcmsgPSBDRFAuRnJhbWV3b3JrO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogalF1ZXJ5IE1vYmlsZSBGbGlwIFN3aXRjaCDmi6HlvLVcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gICAgICAgICAgICAgICR1aSAgICAgICBbaW5dIOaknOe0ouWvvuixoeOBriBqUXVlcnkg44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgKiBAcGFyYW0ge0RvbUV4dGVuc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBbaW5dIOOCquODl+OCt+ODp+ODs1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBhcHBseURvbUV4dGVuc2lvbigkdWk6IEpRdWVyeSwgb3B0aW9ucz86IERvbUV4dGVuc2lvbk9wdGlvbnMpOiBKUXVlcnkge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogZmxpcHN3aXRjaCDjgavntJDjgaXjgY8gbGFiZWwg44GvIE9TIOOBq+OCiOOBo+OBpiBldmVudCDnmbrooYzlvaLlvI/jgYznlbDjgarjgovjgZ/jgoHjg5Xjg4Pjgq/jgZfjgabni6zoh6rjgqTjg5njg7Pjg4jjgaflr77lv5zjgZnjgosuXHJcbiAgICAgICAgICog44G+44GfIGZsaXBzd2l0Y2gg44Gv5YaF6YOo44GnIGNsaWNrIOOCkueZuuihjOOBl+OBpuOBhOOCi+OBjOOAgXZjbGljayDjgavlpInmm7TjgZnjgosuXHJcbiAgICAgICAgICovXHJcblxyXG4gICAgICAgIGNvbnN0IF9nZXRBbGxTd2l0Y2hlcyA9ICgpOiBKUXVlcnkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gJHVpLmZpbmQoXCIudWktZmxpcHN3aXRjaFwiKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBfZ2V0SW5wdXRGcm9tU3dpdGNoID0gKCRzd2l0Y2g6IEpRdWVyeSk6IEpRdWVyeSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0ICRpbnB1dCA9ICRzd2l0Y2guZmluZChcImlucHV0XCIpO1xyXG4gICAgICAgICAgICBpZiAoJGlucHV0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRpbnB1dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCAkc2VsZWN0ID0gJHN3aXRjaC5maW5kKFwic2VsZWN0XCIpO1xyXG4gICAgICAgICAgICBpZiAoJHNlbGVjdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkc2VsZWN0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IF9jaGFuZ2UgPSAoJGlucHV0OiBKUXVlcnksIHRvOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIGlmICgkaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChcIklOUFVUXCIgPT09ICRpbnB1dFswXS5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC5wcm9wKFwiY2hlY2tlZFwiLCB0bykuZmxpcHN3aXRjaChcInJlZnJlc2hcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwiU0VMRUNUXCIgPT09ICRpbnB1dFswXS5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC52YWwodG8gPyBcIm9uXCIgOiBcIm9mZlwiKS5mbGlwc3dpdGNoKFwicmVmcmVzaFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IF9nZXRMYWJlbHNGcm9tU3dpdGNoID0gKCRzd2l0Y2g6IEpRdWVyeSk6IEpRdWVyeSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0ICRpbnB1dCA9IF9nZXRJbnB1dEZyb21Td2l0Y2goJHN3aXRjaCk7XHJcbiAgICAgICAgICAgIGlmICgkaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVscyA9ICg8YW55PiRpbnB1dFswXSkubGFiZWxzO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxhYmVscykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGxhYmVscyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICQoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBfZ2V0U3dpdGNoRnJvbUxhYmVsID0gKCRsYWJlbDogSlF1ZXJ5KTogSlF1ZXJ5ID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9ICRsYWJlbC5hdHRyKFwiZm9yXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gX2dldEFsbFN3aXRjaGVzKCkuZmluZChcIltuYW1lPSdcIiArIG5hbWUgKyBcIiddXCIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIF9nZXRBbGxTd2l0Y2hlcygpXHJcbiAgICAgICAgICAgIC5vbihcInZjbGljayBfY2hhbmdlX2ZsaXBzd2ljaFwiLCAoZXZlbnQ6IEpRdWVyeS5FdmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgJHN3aXRjaCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCAkdGFyZ2V0ID0gJChldmVudC50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgJGlucHV0ID0gX2dldElucHV0RnJvbVN3aXRjaCgkc3dpdGNoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZVRvID0gISRzd2l0Y2guaGFzQ2xhc3MoXCJ1aS1mbGlwc3dpdGNoLWFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJHRhcmdldC5oYXNDbGFzcyhcInVpLWZsaXBzd2l0Y2gtaW5wdXRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBfY2hhbmdlKCRpbnB1dCwgY2hhbmdlVG8pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkdGFyZ2V0Lmhhc0NsYXNzKFwidWktZmxpcHN3aXRjaC1vblwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChGcmFtZXdvcmsuUGxhdGZvcm0uTW9iaWxlICYmIEZyYW1ld29yay5QYXRjaC5pc1N1cHBvcnRlZFZjbGljaygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGFuZ2UoJGlucHV0LCBjaGFuZ2VUbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZWFjaCgoaW5kZXg6IG51bWJlciwgZmxpcHN3aXRjaDogRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgX2dldExhYmVsc0Zyb21Td2l0Y2goJChmbGlwc3dpdGNoKSlcclxuICAgICAgICAgICAgICAgICAgICAub24oXCJ2Y2xpY2tcIiwgKGV2ZW50OiBKUXVlcnkuRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgJHN3aXRjaCA9IF9nZXRTd2l0Y2hGcm9tTGFiZWwoJChldmVudC50YXJnZXQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkc3dpdGNoLnBhcmVudCgpLmhhc0NsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzd2l0Y2gudHJpZ2dlcihcIl9jaGFuZ2VfZmxpcHN3aWNoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gJHVpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOeZu+mMslxyXG4gICAgRXh0ZW5zaW9uTWFuYWdlci5yZWdpc3RlckRvbUV4dGVuc2lvbihhcHBseURvbUV4dGVuc2lvbik7XHJcbn1cclxuIiwibmFtZXNwYWNlIENEUC5VSS5FeHRlbnNpb24ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogalF1ZXJ5IE1vYmlsZSBTbGlkZXIg5ouh5by1XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9ICAgICAgICAgICAgICAkdWkgICAgICAgW2luXSDmpJzntKLlr77osaHjga4galF1ZXJ5IOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICogQHBhcmFtIHtEb21FeHRlbnNpb25PcHRpb25zfSBbb3B0aW9uc10gW2luXSDjgqrjg5fjgrfjg6fjg7NcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYXBwbHlEb21FeHRlbnNpb24oJHVpOiBKUXVlcnksIG9wdGlvbnM/OiBEb21FeHRlbnNpb25PcHRpb25zKTogSlF1ZXJ5IHtcclxuICAgICAgICAkdWkuZmluZChcIi51aS1zbGlkZXItaW5wdXRcIilcclxuICAgICAgICAgICAgLm9uKFwic2xpZGVzdG9wXCIsIChldmVudDogSlF1ZXJ5LkV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCAkaGFuZGxlcyA9ICQoZXZlbnQuY3VycmVudFRhcmdldClcclxuICAgICAgICAgICAgICAgICAgICAucGFyZW50KClcclxuICAgICAgICAgICAgICAgICAgICAuZmluZChcIi51aS1zbGlkZXItaGFuZGxlXCIpO1xyXG4gICAgICAgICAgICAgICAgJGhhbmRsZXMuYmx1cigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gJHVpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOeZu+mMslxyXG4gICAgRXh0ZW5zaW9uTWFuYWdlci5yZWdpc3RlckRvbUV4dGVuc2lvbihhcHBseURvbUV4dGVuc2lvbik7XHJcbn1cclxuIiwibmFtZXNwYWNlIENEUC5VSS5FeHRlbnNpb24ge1xyXG5cclxuICAgIC8vISBpU2Nyb2xsLmNsaWNrIHBhdGNoXHJcbiAgICBjb25zdCBwYXRjaF9JU2Nyb2xsX3V0aWxzX2NsaWNrID0gZnVuY3Rpb24gKGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldDogYW55ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgIGNvbnN0IGU6IGFueSA9IGV2ZW50O1xyXG4gICAgICAgIGxldCBldjogTW91c2VFdmVudDtcclxuXHJcbiAgICAgICAgLy8gW0NEUCBtb2RpZmllZF06IHNldCB0YXJnZXQuY2xpZW50WC5cclxuICAgICAgICBpZiAobnVsbCA9PSB0YXJnZXQuY2xpZW50WCB8fCBudWxsID09IHRhcmdldC5jbGllbnRZKSB7XHJcbiAgICAgICAgICAgIGlmIChudWxsICE9IGUucGFnZVggJiYgbnVsbCAhPSBlLnBhZ2VZKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2xpZW50WCA9IGUucGFnZVg7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2xpZW50WSA9IGUucGFnZVk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5jaGFuZ2VkVG91Y2hlcyAmJiBlLmNoYW5nZWRUb3VjaGVzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2xpZW50WCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuY2xpZW50WSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghKC8oU0VMRUNUfElOUFVUfFRFWFRBUkVBKS9pKS50ZXN0KHRhcmdldC50YWdOYW1lKSkge1xyXG4gICAgICAgICAgICBldiA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudHNcIik7XHJcbiAgICAgICAgICAgIGV2LmluaXRNb3VzZUV2ZW50KFwiY2xpY2tcIiwgdHJ1ZSwgdHJ1ZSwgZS52aWV3LCAxLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnNjcmVlblgsIHRhcmdldC5zY3JlZW5ZLCB0YXJnZXQuY2xpZW50WCwgdGFyZ2V0LmNsaWVudFksXHJcbiAgICAgICAgICAgICAgICBlLmN0cmxLZXksIGUuYWx0S2V5LCBlLnNoaWZ0S2V5LCBlLm1ldGFLZXksXHJcbiAgICAgICAgICAgICAgICAwLCBudWxsKTtcclxuXHJcbiAgICAgICAgICAgICg8YW55PmV2KS5fY29uc3RydWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChldik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBsZXQgc19hcHBsaWVkID0gZmFsc2U7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBpU2Nyb2xsIFBhdGNoIOaLoeW8tVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAgICAgICAgICAgICAgJHVpICAgICAgIFtpbl0g5qSc57Si5a++6LGh44GuIGpRdWVyeSDjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAqIEBwYXJhbSB7RG9tRXh0ZW5zaW9uT3B0aW9uc30gW29wdGlvbnNdIFtpbl0g44Kq44OX44K344On44OzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFwcGx5UGF0Y2goJHVpOiBKUXVlcnksIG9wdGlvbnM/OiBEb21FeHRlbnNpb25PcHRpb25zKTogSlF1ZXJ5IHtcclxuICAgICAgICBpZiAoIXNfYXBwbGllZCAmJiBnbG9iYWwuSVNjcm9sbCAmJiBnbG9iYWwuSVNjcm9sbC51dGlscykge1xyXG4gICAgICAgICAgICBnbG9iYWwuSVNjcm9sbC51dGlscy5jbGljayA9IHBhdGNoX0lTY3JvbGxfdXRpbHNfY2xpY2s7XHJcbiAgICAgICAgICAgIHNfYXBwbGllZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAkdWk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g55m76YyyXHJcbiAgICBFeHRlbnNpb25NYW5hZ2VyLnJlZ2lzdGVyRG9tRXh0ZW5zaW9uKGFwcGx5UGF0Y2gpO1xyXG59XHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9AdHlwZXMvY2RwLnBsdWdpbi5uYXRpdmVicmlkZ2UuZC50c1wiIC8+XHJcblxyXG5uYW1lc3BhY2UgQ0RQLk5hdGl2ZUJyaWRnZSB7XHJcblxyXG4gICAgaW1wb3J0IFBsdWdpbiAgID0gQ0RQLlBsdWdpbi5OYXRpdmVCcmlkZ2U7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgKiBAaW50ZXJmYWNlIEZlYXR1cmVcclxuICAgICAqIEBicmllZiBmZWF0dXJlIGluZm9ybWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgKiBAaW50ZXJmYWNlIEZlYXR1cmVcclxuICAgICAqIEBicmllZiDmqZ/og73mg4XloLFcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBGZWF0dXJlIGV4dGVuZHMgUGx1Z2luLkZlYXR1cmUgeyB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgKiBAaW50ZXJmYWNlIENvbnN0cnVjdE9wdGlvbnNcclxuICAgICAqIEBicmllZiBOYXRpdmVCcmlkZ2UgY2xhc3MncyBjb25zcnRydWN0aW9uIG9wdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogXFx+amFwYW5lc2VcclxuICAgICAqIEBpbnRlcmZhY2UgQ29uc3RydWN0T3B0aW9uc1xyXG4gICAgICogQGJyaWVmIOWIneacn+WMluOBq+aMh+WumuOBmeOCi+OCquODl+OCt+ODp+ODs1xyXG4gICAgICovXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIENvbnN0cnVjdE9wdGlvbnMgZXh0ZW5kcyBQbHVnaW4uQ29uc3RydWN0T3B0aW9ucyB7XHJcbiAgICAgICAgcmVjZWl2ZVBhcmFtcz86IGJvb2xlYW47IC8vIGV4ZWMg5oiQ5Yqf5pmC44GrLCAuLi5wYXJhbXMsIElSZXN1bHQg44Gn6L+U5Y2044GZ44KL5aC05ZCIIHRydWUgKOaXouWumuWApClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAqIEBpbnRlcmZhY2UgSVJlc3VsdFxyXG4gICAgICogQGJyaWVmIE5hdGl2ZUJyaWRnZSBiYXNlIHJlc3VsdCBpbmZvcm1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogQGludGVyZmFjZSBJUmVzdWx0XHJcbiAgICAgKiBAYnJpZWYgTmF0aXZlQnJpZGdlIOOBruWfuuW6lSBSZXN1bHQg5oOF5aCxXHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSVJlc3VsdCBleHRlbmRzIFBsdWdpbi5JUmVzdWx0IHsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICogQGludGVyZmFjZSBFeGVjT3B0aW9uc1xyXG4gICAgICogQGJyaWVmIGV4ZWMoKSBtZXRob2Qgb3B0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICogQGludGVyZmFjZSBFeGVjT3B0aW9uc1xyXG4gICAgICogQGJyaWVmIGV4ZWMoKSDjgavmuKHjgZnjgqrjg5fjgrfjg6fjg7NcclxuICAgICAqL1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBFeGVjT3B0aW9ucyBleHRlbmRzIFBsdWdpbi5FeGVjT3B0aW9ucyB7XHJcbiAgICAgICAgcmVjZWl2ZVBhcmFtcz86IGJvb2xlYW47IC8vIGV4ZWMg5oiQ5Yqf5pmC44GrLCAuLi5wYXJhbXMsIElSZXN1bHQg44Gn6L+U5Y2044GZ44KL5aC05ZCIIHRydWVcclxuICAgIH1cclxufVxyXG5cclxuZGVjbGFyZSBtb2R1bGUgXCJjZHAubmF0aXZlYnJpZGdlXCIge1xyXG4gICAgY29uc3QgTmF0aXZlQnJpZGdlOiB0eXBlb2YgQ0RQLk5hdGl2ZUJyaWRnZTtcclxuICAgIGV4cG9ydCA9IE5hdGl2ZUJyaWRnZTtcclxufVxyXG4iLCJuYW1lc3BhY2UgQ0RQLk5hdGl2ZUJyaWRnZSB7XHJcblxyXG4gICAgaW1wb3J0IElQcm9taXNlID0gQ0RQLklQcm9taXNlO1xyXG5cclxuICAgIGNvbnN0IFRBRyA9IFwiW0NEUC5OYXRpdmVCcmlkZ2UuVXRpbHNdIFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICogQGNsYXNzIFV0aWxzXHJcbiAgICAgKiBAYnJpZWYgVGhlIHV0aWxpdHkgY2xhc3MgZm9yIENEUC5OYXRpdmVCcmlkZ2UuXHJcbiAgICAgKlxyXG4gICAgICogXFx+amFwYW5lc2VcclxuICAgICAqIEBjbGFzcyBVdGlsc1xyXG4gICAgICogQGJyaWVmIENEUC5OYXRpdmVCcmlkZ2Ug44GM5L2/55So44GZ44KL44Om44O844OG44Kj44Oq44OG44Kj44Kv44Op44K5XHJcbiAgICAgKi9cclxuICAgIGV4cG9ydCBjbGFzcyBVdGlscyB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIHNfcGx1Z2luUmVhZHkgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBwdWJsaWMgc3RhdGljIG1ldGhvZHNcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIERlZmluZXMgZXJyb3IgY29kZSBtYXAgZnJvbSB0aGUgcGx1Z2luIHJlc3VsdCB0byBDRFAuTmF0aXZlQnJpZGdlIHJlc3VsdCBjb2RlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGVycm9yQ29kZSBbaW5dIHNldCByZXN1bHQgY29kZSBzdHJpbmcuIGV4KTogXCJTVUNDRVNTX09LXCJcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICogcGx1Z2luIOOBriBSZXN1bHQgQ29kZSDjgpIgQ0RQLk5hdGl2ZUJyaWRnZSDjgavjg57jg4Pjg5fjgZnjgotcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBlcnJvckNvZGUgW2luXSBSZXN1bHQgQ29kZSDmloflrZfliJfjgpLmjIflrpogZXgpOiBcIlNVQ0NFU1NfT0tcIlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgZGVmaW5lUmVzdWx0Q29kZShlcnJvckNvZGU6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmF0aXZlQnJpZGdlLCBlcnJvckNvZGUsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChVdGlscy5zX3BsdWdpblJlYWR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQbHVnaW4uTmF0aXZlQnJpZGdlW2Vycm9yQ29kZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogV2FpdCBmb3IgY29yZG92YSBcImRldmljZXJlYWR5XCIgZXZlbnQgZmlyZWQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIGNvcmRvdmEg44GMIOS9v+eUqOWPr+iDveOBq+OBquOCi+OBvuOBp+W+heapn1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgd2FpdEZvclBsdWdpblJlYWR5KCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgICAgICBjb25zdCBkZiA9ICQuRGVmZXJyZWQ8dm9pZD4oKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChVdGlscy5zX3BsdWdpblJlYWR5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5EZWZlcnJlZDx2b2lkPigpLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWwgPSBjb3Jkb3ZhLnJlcXVpcmUoXCJjb3Jkb3ZhL2NoYW5uZWxcIik7XHJcbiAgICAgICAgICAgICAgICBjaGFubmVsLm9uQ29yZG92YVJlYWR5LnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gQ0RQLlBsdWdpbi5OYXRpdmVCcmlkZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVXRpbHMuc19wbHVnaW5SZWFkeSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRmLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZi5yZWplY3QoVEFHICsgXCInY29yZG92YS1wbHVnaW4tY2RwLW5hdGl2ZWJyaWRnZScgY29yZG92YSBwbHVnaW4gcmVxdWlyZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgZGYucmVqZWN0KFRBRyArIFwiY29yZG92YSByZXF1aXJlZC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBkZi5wcm9taXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogQ3JlYXRlIE5hdGl2ZUJyaWRnZS5Qcm9taXNlIG9iamVjdCBmcm9tIGpRdWVyeURlZmVycmVkIG9iamVjdC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBkZiBbaW5dIHNldCBqUXVlcnlEZWZlcnJlZCBpbnN0YW5jZS5cclxuICAgICAgICAgKiBAcmV0dXJucyBOYXRpdmVCcmlkZ2UuUHJvbWlzZSBvYmplY3QuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIFByb21pc2Ug44Kq44OW44K444Kn44Kv44OI44Gu5L2c5oiQXHJcbiAgICAgICAgICogalF1ZXJ5RGVmZXJyZWQg44Kq44OW44K444Kn44Kv44OI44GL44KJ44CBTmF0aXZlQnJpZGdlLlByb21pc2Ug44Kq44OW44K444Kn44Kv44OI44KS5L2c5oiQ44GZ44KLXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZGYgW2luXSBqUXVlcnlEZWZlcnJlZCBpbnN0YW5jZSDjgpLmjIflrppcclxuICAgICAgICAgKiBAcmV0dXJucyBOYXRpdmVCcmlkZ2UuUHJvbWlzZSDjgqrjg5bjgrjjgqfjgq/jg4hcclxuICAgICAgICAgKi9cclxuICAgICAgICBwdWJsaWMgc3RhdGljIG1ha2VQcm9taXNlKGRmOiBKUXVlcnlEZWZlcnJlZDxJUmVzdWx0Pik6IElQcm9taXNlPElSZXN1bHQ+IHtcclxuICAgICAgICAgICAgcmV0dXJuIENEUC5tYWtlUHJvbWlzZShkZiwge1xyXG4gICAgICAgICAgICAgICAgX2JyaWRnZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIF90YXNrSWQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBhYm9ydDogZnVuY3Rpb24gKGluZm8/OiBhbnkpOiB2b2lkIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXRhaWwgPSAkLmV4dGVuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IE5hdGl2ZUJyaWRnZS5FUlJPUl9DQU5DRUwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiYWJvcnRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogVEFHICsgXCJFUlJPUl9DQU5DRUxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0lkOiB0aGlzLl90YXNrSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgaW5mbyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbmNlbCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gdGhpcy5fYnJpZGdlICYmIG51bGwgIT0gdGhpcy5fdGFza0lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9icmlkZ2UuY2FuY2VsKHRoaXMuX3Rhc2tJZCwgZGV0YWlsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZi5yZWplY3QoZGV0YWlsKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSB0aGlzLmRlcGVuZGVuY3kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVwZW5kZW5jeS5hYm9ydCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXBlbmRlbmN5LmFib3J0KGRldGFpbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFRBRyArIFwiW2NhbGxdIGRlcGVuZGVuY3kgb2JqZWN0IGRvZXNuJ3QgaGF2ZSAnYWJvcnQoKScgbWV0aG9kLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWxsUmVqZWN0ICYmIFwicGVuZGluZ1wiID09PSB0aGlzLnN0YXRlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcInBlbmRpbmdcIiA9PT0gdGhpcy5zdGF0ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGNvcnJlY3RseSBzZXQgdXAgdGhlIHByb3RvdHlwZSBjaGFpbiwgZm9yIHN1YmNsYXNzZXMuXHJcbiAgICAgICAgICogVGhlIGZ1bmN0aW9uIGJlaGF2aW9yIGlzIHNhbWUgYXMgZXh0ZW5kKCkgZnVuY3Rpb24gb2YgQmFja2JvbmUuanMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gcHJvdG9Qcm9wcyAgW2luXSBzZXQgcHJvdG90eXBlIHByb3BlcnRpZXMgYXMgb2JqZWN0LlxyXG4gICAgICAgICAqIEBwYXJhbSBzdGF0aWNQcm9wcyBbaW5dIHNldCBzdGF0aWMgcHJvcGVydGllcyBhcyBvYmplY3QuXHJcbiAgICAgICAgICogQHJldHVybnMgc3ViY2xhc3MgY29uc3RydWN0b3IuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOOCr+ODqeOCuee2meaJv+OBruOBn+OCgeOBruODmOODq+ODkeODvOmWouaVsFxyXG4gICAgICAgICAqIEJhY2tib25lLmpzIGV4dGVuZCgpIOmWouaVsOOBqOWQjOetiVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHByb3RvUHJvcHMgIFtpbl0gcHJvdG90eXBlIHByb3BlcnRpZXMg44KS44Kq44OW44K444Kn44Kv44OI44Gn5oyH5a6aXHJcbiAgICAgICAgICogQHBhcmFtIHN0YXRpY1Byb3BzIFtpbl0gc3RhdGljIHByb3BlcnRpZXMg44KS44Kq44OW44K444Kn44Kv44OI44Gn5oyH5a6aXHJcbiAgICAgICAgICogQHJldHVybnMg44K144OW44Kv44Op44K544Gu44Kz44Oz44K544OI44Op44Kv44K/XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBleHRlbmQocHJvdG9Qcm9wczogT2JqZWN0LCBzdGF0aWNQcm9wcz86IE9iamVjdCk6IE9iamVjdCB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXM7XHJcbiAgICAgICAgICAgIGxldCBjaGlsZDtcclxuXHJcbiAgICAgICAgICAgIGlmIChwcm90b1Byb3BzICYmIHByb3RvUHJvcHMuaGFzT3duUHJvcGVydHkoXCJjb25zdHJ1Y3RvclwiKSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQgPSBwcm90b1Byb3BzLmNvbnN0cnVjdG9yO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJC5leHRlbmQoY2hpbGQsIHBhcmVudCwgc3RhdGljUHJvcHMpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgU3Vycm9nYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBTdXJyb2dhdGUucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTtcclxuICAgICAgICAgICAgY2hpbGQucHJvdG90eXBlID0gbmV3IFN1cnJvZ2F0ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwcm90b1Byb3BzKSB7XHJcbiAgICAgICAgICAgICAgICAkLmV4dGVuZChjaGlsZC5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJuYW1lc3BhY2UgQ0RQLk5hdGl2ZUJyaWRnZSB7XHJcblxyXG4gICAgaW1wb3J0IElQcm9taXNlICAgICA9IENEUC5JUHJvbWlzZTtcclxuICAgIGltcG9ydCBJUHJvbWlzZUJhc2UgPSBDRFAuSVByb21pc2VCYXNlO1xyXG5cclxuICAgIGNvbnN0IFRBRzogc3RyaW5nID0gXCJbQ0RQLk5hdGl2ZUJyaWRnZS5HYXRlXSBcIjtcclxuXHJcbiAgICAvLyBSZXN1bHQgY29kZVxyXG5cclxuICAgIGV4cG9ydCBsZXQgU1VDQ0VTU19PSzogbnVtYmVyOyAgICAgICAgICAgICAgVXRpbHMuZGVmaW5lUmVzdWx0Q29kZShcIlNVQ0NFU1NfT0tcIik7XHJcbiAgICBleHBvcnQgbGV0IFNVQ0NFU1NfUFJPR1JFU1M6IG51bWJlcjsgICAgICAgIFV0aWxzLmRlZmluZVJlc3VsdENvZGUoXCJTVUNDRVNTX1BST0dSRVNTXCIpO1xyXG4gICAgZXhwb3J0IGxldCBFUlJPUl9GQUlMOiBudW1iZXI7ICAgICAgICAgICAgICBVdGlscy5kZWZpbmVSZXN1bHRDb2RlKFwiRVJST1JfRkFJTFwiKTtcclxuICAgIGV4cG9ydCBsZXQgRVJST1JfQ0FOQ0VMOiBudW1iZXI7ICAgICAgICAgICAgVXRpbHMuZGVmaW5lUmVzdWx0Q29kZShcIkVSUk9SX0NBTkNFTFwiKTtcclxuICAgIGV4cG9ydCBsZXQgRVJST1JfSU5WQUxJRF9BUkc6IG51bWJlcjsgICAgICAgVXRpbHMuZGVmaW5lUmVzdWx0Q29kZShcIkVSUk9SX0lOVkFMSURfQVJHXCIpO1xyXG4gICAgZXhwb3J0IGxldCBFUlJPUl9OT1RfSU1QTEVNRU5UOiBudW1iZXI7ICAgICBVdGlscy5kZWZpbmVSZXN1bHRDb2RlKFwiRVJST1JfTk9UX0lNUExFTUVOVFwiKTtcclxuICAgIGV4cG9ydCBsZXQgRVJST1JfTk9UX1NVUFBPUlQ6IG51bWJlcjsgICAgICAgVXRpbHMuZGVmaW5lUmVzdWx0Q29kZShcIkVSUk9SX05PVF9TVVBQT1JUXCIpO1xyXG4gICAgZXhwb3J0IGxldCBFUlJPUl9JTlZBTElEX09QRVJBVElPTjogbnVtYmVyOyBVdGlscy5kZWZpbmVSZXN1bHRDb2RlKFwiRVJST1JfSU5WQUxJRF9PUEVSQVRJT05cIik7XHJcbiAgICBleHBvcnQgbGV0IEVSUk9SX0NMQVNTX05PVF9GT1VORDogbnVtYmVyOyAgIFV0aWxzLmRlZmluZVJlc3VsdENvZGUoXCJFUlJPUl9DTEFTU19OT1RfRk9VTkRcIik7XHJcbiAgICBleHBvcnQgbGV0IEVSUk9SX01FVEhPRF9OT1RfRk9VTkQ6IG51bWJlcjsgIFV0aWxzLmRlZmluZVJlc3VsdENvZGUoXCJFUlJPUl9NRVRIT0RfTk9UX0ZPVU5EXCIpO1xyXG5cclxuICAgIC8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcXH5lbmdsaXNoXHJcbiAgICAgKiBAY2xhc3MgR2F0ZVxyXG4gICAgICogQGJyaWVmIFRoZSBiYXNlIGNsYXNzIGZvciBOYXRpdmVCcmlkZ2UgY29tbXVuaWNhdGlvbi5cclxuICAgICAqICAgICAgICBZb3UgY2FuIGRlcml2ZSBhbnkgR2F0ZSBjbGFzcyBmcm9tIHRoaXMgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogXFx+amFwYW5lc2VcclxuICAgICAqIEBjbGFzcyBHYXRlXHJcbiAgICAgKiBAYnJpZWYgTmF0aXZlQnJpZGdlIOOBqOmAmuS/oeOBmeOCi+ODmeODvOOCueOCr+ODqeOCuVxyXG4gICAgICogICAgICAgIOOBk+OBruOCr+ODqeOCueOBi+OCieS7u+aEj+OBriBHYXRlIOOCr+ODqeOCueOCkua0vueUn+OBl+OBpuWun+ijheWPr+iDvVxyXG4gICAgICovXHJcbiAgICBleHBvcnQgY2xhc3MgR2F0ZSB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgX2JyaWRnZTogUGx1Z2luLk5hdGl2ZUJyaWRnZTtcclxuICAgICAgICBwcml2YXRlIF9vcHRpb25zOiBDb25zdHJ1Y3RPcHRpb25zO1xyXG5cclxuICAgICAgICAvKiB0c2xpbnQ6ZGlzYWJsZTpuby11bnVzZWQtdmFyaWFibGUgKi9cclxuICAgICAgICAvLyBGb3IgcHVyZSBqYXZhc2NyaXB0IGV4dGVuZCBoZWxwZXIuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgZXh0ZW5kID0gVXRpbHMuZXh0ZW5kO1xyXG4gICAgICAgIC8qIHRzbGludDplbmFibGU6bm8tdW51c2VkLXZhcmlhYmxlICovXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBjb25zdHJ1Y3RvclxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGZlYXR1cmUgW2luXSBmZWF0dXJlIGluZm9ybWF0aW9uLlxyXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zIFtpbl0gY29uc3RydWN0aW9uIG9wdGlvbnMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIGNvbnN0cnVjdG9yXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gZmVhdHVyZSBbaW5dIOWIneacn+WMluaDheWgseOCkuaMh+WumlxyXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zIFtpbl0g44Kq44OX44K344On44Oz44KS5oyH5a6aXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3RydWN0b3IoZmVhdHVyZTogRmVhdHVyZSwgb3B0aW9ucz86IENvbnN0cnVjdE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgVXRpbHMud2FpdEZvclBsdWdpblJlYWR5KClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9icmlkZ2UgPSBuZXcgUGx1Z2luLk5hdGl2ZUJyaWRnZShmZWF0dXJlLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoeyByZWNlaXZlUGFyYW1zOiB0cnVlIH0sIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgocmVhc29uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IocmVhc29uKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBvdmVycmlkZSBtZXRob2RzXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBFeGVjdXRlIHRhc2suXHJcbiAgICAgICAgICogdGhlIGZ1bmN0aW9uIGNhbGxzIHRoZSBOYXRpdmUgY2xhc3MgbWV0aG9kIGZyb20gY29ycmVzcG9uZGVudCBtZXRob2QgbmFtZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBtZXRob2QgIFtpbl0gbWV0aG9kIG5hbWUgb2YgTmF0aXZlIGNsYXNzXHJcbiAgICAgICAgICogQHBhcmFtIGFyZ3MgICAgW2luXSBzZXQgYXJndW1lbnRzIGJ5IGFycmF5IHR5cGUuXHJcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgW2luXSBzZXQgZXhlYyBvcHRpb25zLlxyXG4gICAgICAgICAqIEByZXR1cm5zIFByb21pc2Ugb2JqZWN0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiDjgr/jgrnjgq/jga7lrp/ooYxcclxuICAgICAgICAgKiDmjIflrprjgZfjgZ8gbWV0aG9kIOWQjeOBq+WvvuW/nOOBmeOCiyBOYXRpdmUgQ2xhc3Mg44GuIG1ldGhvZCDjgpLlkbzjgbPlh7rjgZnjgIJcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBtZXRob2QgIFtpbl0gTmF0aXZlIENsYXNzIOOBruODoeOCveODg+ODieWQjeOCkuaMh+WumlxyXG4gICAgICAgICAqIEBwYXJhbSBhcmdzICAgIFtpbl0g5byV5pWw44KS6YWN5YiX44Gn5oyH5a6aXHJcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgW2luXSDlrp/ooYzjgqrjg5fjgrfjg6fjg7PjgpLmjIflrppcclxuICAgICAgICAgKiBAcmV0dXJucyBQcm9taXNlIOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBleGVjKG1ldGhvZDogc3RyaW5nLCBhcmdzPzogYW55W10sIG9wdGlvbnM/OiBFeGVjT3B0aW9ucyk6IElQcm9taXNlPGFueT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkZiA9ICQuRGVmZXJyZWQoKTtcclxuICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IFV0aWxzLm1ha2VQcm9taXNlKGRmKTtcclxuICAgICAgICAgICAgY29uc3Qgb3B0ID0gJC5leHRlbmQoe30sIHRoaXMuX29wdGlvbnMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgVXRpbHMud2FpdEZvclBsdWdpblJlYWR5KClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXNrSWQgPSB0aGlzLl9icmlkZ2UuZXhlYyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHJlc3VsdDogSVJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFNVQ0NFU1NfUFJPR1JFU1MgPT09IHJlc3VsdC5jb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdC5yZWNlaXZlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRmLm5vdGlmeSguLi5bLi4ucmVzdWx0LnBhcmFtcywgcmVzdWx0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGYubm90aWZ5KHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0LnJlY2VpdmVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGYucmVzb2x2ZSguLi5bLi4ucmVzdWx0LnBhcmFtcywgcmVzdWx0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGYucmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGVycm9yOiBJUmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZi5yZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2QsIGFyZ3MsIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBzZXQgaW50ZXJuYWwgcHJvcGVydGllcy5cclxuICAgICAgICAgICAgICAgICAgICAoPGFueT5wcm9taXNlKS5fYnJpZGdlID0gdGhpcy5fYnJpZGdlO1xyXG4gICAgICAgICAgICAgICAgICAgICg8YW55PnByb21pc2UpLl90YXNrSWQgPSB0YXNrSWQ7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkZi5yZWplY3QodGhpcy5tYWtlRmF0YWwoKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogXFx+ZW5nbGlzaFxyXG4gICAgICAgICAqIENhbmNlbCBhbGwgdGFza3MuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyBbaW5dIHNldCBleGVjdXRlIG9wdGlvbnMuXHJcbiAgICAgICAgICogQHJldHVybnMgUHJvbWlzZSBvYmplY3QuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBcXH5qYXBhbmVzZVxyXG4gICAgICAgICAqIOOBmeOBueOBpuOBruOCv+OCueOCr+OBruOCreODo+ODs+OCu+ODq1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgW2luXSDlrp/ooYzjgqrjg5fjgrfjg6fjg7PjgpLmjIflrppcclxuICAgICAgICAgKiBAcmV0dXJucyBQcm9taXNlIOOCquODluOCuOOCp+OCr+ODiFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1YmxpYyBjYW5jZWwob3B0aW9ucz86IEV4ZWNPcHRpb25zKTogSVByb21pc2VCYXNlPElSZXN1bHQ+IHtcclxuICAgICAgICAgICAgY29uc3QgZGYgPSAkLkRlZmVycmVkKCk7XHJcbiAgICAgICAgICAgIFV0aWxzLndhaXRGb3JQbHVnaW5SZWFkeSgpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYnJpZGdlLmNhbmNlbChudWxsLCBvcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZi5yZXNvbHZlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGYucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkZi5yZWplY3QodGhpcy5tYWtlRmF0YWwoKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRmLnByb21pc2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBEZXN0cnVjdGlvbiBmb3IgdGhlIGluc3RhbmNlLlxyXG4gICAgICAgICAqIHJlbGVhc2UgTmF0aXZlIGNsYXNzIHJlZmVyZW5jZS4gYWZ0ZXIgdGhhdCwgZXhlYygpIGJlY29tZXMgaW52YWxpZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zIFtpbl0gc2V0IGV4ZWN1dGUgb3B0aW9ucy5cclxuICAgICAgICAgKiBAcmV0dXJucyBQcm9taXNlIG9iamVjdC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFxcfmphcGFuZXNlXHJcbiAgICAgICAgICog44Kk44Oz44K544K/44Oz44K544Gu56C05qOEXHJcbiAgICAgICAgICogTmF0aXZlIOOBruWPgueFp+OCkuino+mZpOOBmeOCi+OAguS7pemZjeOAgWV4ZWMg44Gv54Sh5Yq544Go44Gq44KL44CCXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyBbaW5dIOWun+ihjOOCquODl+OCt+ODp+ODs+OCkuaMh+WumlxyXG4gICAgICAgICAqIEByZXR1cm5zIFByb21pc2Ug44Kq44OW44K444Kn44Kv44OIXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcHVibGljIGRpc3Bvc2Uob3B0aW9ucz86IEV4ZWNPcHRpb25zKTogSVByb21pc2VCYXNlPElSZXN1bHQ+IHtcclxuICAgICAgICAgICAgY29uc3QgZGYgPSAkLkRlZmVycmVkKCk7XHJcbiAgICAgICAgICAgIFV0aWxzLndhaXRGb3JQbHVnaW5SZWFkeSgpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYnJpZGdlLmRpc3Bvc2Uob3B0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGYucmVzb2x2ZShyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRmLnJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGYucmVqZWN0KHRoaXMubWFrZUZhdGFsKCkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkZi5wcm9taXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8vIHByb3RlY3RlZCBtZXRob2RzXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFxcfmVuZ2xpc2hcclxuICAgICAgICAgKiBBY2Nlc3MgdG8gUGx1Z2luLk5hdGl2ZUJyaWRnZSBvYmplY3QuXHJcbiAgICAgICAgICogSWYgeW91IHdhbnQgdG8gdXNlIGxvdyBsZXZlbCBleGVjKCksIHlvdSBjYW4gdXNlIHRoaXMgYWNjZXNzb3IuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJucyBQbHVnaW4uTmF0aXZlQnJpZGdlIGluc3RhbmNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogXFx+amFwYW5lc2VcclxuICAgICAgICAgKiBQbHVnaW4uTmF0aXZlQnJpZGdlIOOCquODluOCuOOCp+OCr+ODiOOBuOOBruOCouOCr+OCu+OCuVxyXG4gICAgICAgICAqIOS9juODrOODmeODqyBleGVjKCkg44KS5L2/55So44GX44Gf44GE5aC05ZCI44Gr5Yip55So5Y+v6IO9XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJucyBQbHVnaW4uTmF0aXZlQnJpZGdlIOOCpOODs+OCueOCv+ODs+OCuS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwcm90ZWN0ZWQgZ2V0IGJyaWRnZSgpOiBQbHVnaW4uTmF0aXZlQnJpZGdlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JyaWRnZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gcHJpdmF0ZSBtZXRob2RzXHJcblxyXG4gICAgICAgIC8vISBNYWtlIGZhdGFsIGVycm9yIG9iamVjdC5cclxuICAgICAgICBwcml2YXRlIG1ha2VGYXRhbCgpOiBJUmVzdWx0IHtcclxuICAgICAgICAgICAgY29uc3QgbXNnID0gVEFHICsgXCJmYXRhbCBlcnJvci4gJ2NvcmRvdmEtcGx1Z2luLWNkcC1uYXRpdmVicmlkZ2UnIGlzIG5vdCBhdmFpbGFibGUuXCI7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBUQUcgKyBcIkVSUk9SX0ZBVEFMXCIsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2csXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBfY29yZSA9IHJlcXVpcmUoXCJjZHAuY29yZVwiKTtcclxuXHJcbi8vIENEUCBzdHVmZlxyXG5leHBvcnQgY29uc3QgZ2xvYmFsICAgICAgICAgPSBfY29yZS5nbG9iYWw7XHJcbmV4cG9ydCBjb25zdCBjb3JlSW5pdGlhbGl6ZSA9IF9jb3JlLmluaXRpYWxpemU7XHJcbmV4cG9ydCBjb25zdCB3ZWJSb290ICAgICAgICA9IF9jb3JlLndlYlJvb3Q7XHJcbmV4cG9ydCBjb25zdCBDb25maWcgICAgICAgICA9IF9jb3JlLkNvbmZpZztcclxuXHJcbi8vIGludGVyZmFjZXNcclxuZXhwb3J0IHR5cGUgQ29yZUluaXRPcHRpb25zID0gX2NvcmUuQ29yZUluaXRPcHRpb25zO1xyXG4iLCJpbXBvcnQgX3Byb21pc2UgPSByZXF1aXJlKFwiY2RwLnByb21pc2VcIik7XHJcblxyXG4vLyBQcm9taXNlIG1ldGhvZHNcclxuZXhwb3J0IGNvbnN0IG1ha2VQcm9taXNlICAgID0gX3Byb21pc2UubWFrZVByb21pc2U7XHJcbmV4cG9ydCBjb25zdCB3YWl0ICAgICAgICAgICA9IF9wcm9taXNlLndhaXQ7XHJcblxyXG4vLyBAY2xhc3MgUHJvbWlzZU1hbmFnZXJcclxuZXhwb3J0IHR5cGUgIFByb21pc2VNYW5hZ2VyID0gQ0RQLlByb21pc2VNYW5hZ2VyO1xyXG5leHBvcnQgY29uc3QgUHJvbWlzZU1hbmFnZXIgPSBfcHJvbWlzZS5Qcm9taXNlTWFuYWdlcjtcclxuXHJcbi8vIEBjbGFzcyBlczIwMTUgUHJvbWlzZVxyXG5leHBvcnQgdHlwZSAgUHJvbWlzZUNvbnN0cnVjdG9yPFQ+ID0gQ0RQLlByb21pc2VDb25zdHJ1Y3RvcjxUPjtcclxuZXhwb3J0IGNvbnN0IFByb21pc2UgPSBfcHJvbWlzZS5Qcm9taXNlO1xyXG5cclxuLy8gaW50ZXJmYWNlc1xyXG5leHBvcnQgdHlwZSBJUHJvbWlzZUJhc2U8VD4gPSBDRFAuSVByb21pc2VCYXNlPFQ+O1xyXG5leHBvcnQgdHlwZSBJUHJvbWlzZTxUPiAgICAgPSBDRFAuSVByb21pc2U8VD47XHJcbiIsImltcG9ydCBfaTE4biA9IHJlcXVpcmUoXCJjZHAuaTE4blwiKTtcclxuaW1wb3J0IGkxOG4gPSBDRFAuaTE4bjtcclxuXHJcbi8vIENEUCBzdHVmZlxyXG5leHBvcnQgeyBpMThuIH07XHJcblxyXG4vLyBpbnRlcmZhY2VzXHJcbmV4cG9ydCB0eXBlIEkxOE5TZXR0aW5ncyA9IF9pMThuLkkxOE5TZXR0aW5ncztcclxuIiwiLy8vIDxhbWQtZGVwZW5kZW5jeSBwYXRoPVwiY2RwLmZyYW1ld29yay5qcW1cIiAvPlxyXG5cclxuLy8gQ0RQIG1ldGhvZHNcclxuZXhwb3J0IGNvbnN0IHdhaXRGb3JEZXZpY2VSZWFkeSAgID0gQ0RQLndhaXRGb3JEZXZpY2VSZWFkeTtcclxuZXhwb3J0IGNvbnN0IHNldEJhY2tCdXR0b25IYW5kbGVyID0gQ0RQLnNldEJhY2tCdXR0b25IYW5kbGVyO1xyXG4iLCJleHBvcnQgKiBmcm9tIFwiLi9jb3JlL2NvcmVcIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vY29yZS9wcm9taXNlXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL2NvcmUvaTE4blwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9jb3JlL2ZyYW1ld29yay5qcW1cIjtcclxuIiwiaW1wb3J0IF9mcmFtZXdvcmsgPSByZXF1aXJlKFwiY2RwLmZyYW1ld29yay5qcW1cIik7XHJcblxyXG4vLyBAbW9kdWxlIFBsYXRmb3JtXHJcbmV4cG9ydCBjb25zdCBQbGF0Zm9ybSA9IF9mcmFtZXdvcmsuUGxhdGZvcm07XHJcblxyXG4vLyBGcmFtZXdvcmsgbWV0aG9kc1xyXG5leHBvcnQgY29uc3QgZ2V0T3JpZW50YXRpb24gICAgICAgICAgICAgICAgID0gX2ZyYW1ld29yay5nZXRPcmllbnRhdGlvbjtcclxuZXhwb3J0IGNvbnN0IHRvVXJsICAgICAgICAgICAgICAgICAgICAgICAgICA9IF9mcmFtZXdvcmsudG9Vcmw7XHJcbmV4cG9ydCBjb25zdCBzZXRCZWZvcmVSb3V0ZUNoYW5nZUhhbmRsZXIgICAgPSBfZnJhbWV3b3JrLnNldEJlZm9yZVJvdXRlQ2hhbmdlSGFuZGxlcjtcclxuXHJcbi8vIEBjbGFzcyBSb3V0ZXJcclxuZXhwb3J0IHR5cGUgIFJvdXRlciA9IENEUC5GcmFtZXdvcmsuUm91dGVyO1xyXG5leHBvcnQgY29uc3QgUm91dGVyID0gX2ZyYW1ld29yay5Sb3V0ZXI7XHJcblxyXG4vLyBGcmFtZXdvcmsgQ29yZSBBUElzXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsaXplICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IF9mcmFtZXdvcmsuaW5pdGlhbGl6ZTtcclxuZXhwb3J0IGNvbnN0IGlzSW5pdGlhbGl6ZWQgICAgICAgICAgICAgICAgICAgICAgICAgID0gX2ZyYW1ld29yay5pc0luaXRpYWxpemVkO1xyXG5leHBvcnQgY29uc3Qgd2FpdEZvckluaXRpYWxpemUgICAgICAgICAgICAgICAgICAgICAgPSBfZnJhbWV3b3JrLndhaXRGb3JJbml0aWFsaXplO1xyXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJPcmllbnRhdGlvbkNoYW5nZWRMaXN0ZW5lciAgICAgPSBfZnJhbWV3b3JrLnJlZ2lzdGVyT3JpZW50YXRpb25DaGFuZ2VkTGlzdGVuZXI7XHJcbmV4cG9ydCBjb25zdCB1bnJlZ2lzdGVyT3JpZW50YXRpb25DaGFuZ2VkTGlzdGVuZXIgICA9IF9mcmFtZXdvcmsudW5yZWdpc3Rlck9yaWVudGF0aW9uQ2hhbmdlZExpc3RlbmVyO1xyXG5leHBvcnQgY29uc3QgZ2V0RGVmYXVsdENsaWNrRXZlbnQgICAgICAgICAgICAgICAgICAgPSBfZnJhbWV3b3JrLmdldERlZmF1bHRDbGlja0V2ZW50O1xyXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJQYWdlcyAgICAgICAgICAgICAgICAgICAgICAgICAgPSBfZnJhbWV3b3JrLnJlZ2lzdGVyUGFnZXM7XHJcbmV4cG9ydCBjb25zdCBjb25zdHJ1Y3RQYWdlcyAgICAgICAgICAgICAgICAgICAgICAgICA9IF9mcmFtZXdvcmsuY29uc3RydWN0UGFnZXM7XHJcbmV4cG9ydCBjb25zdCBkaXNwb3NlUGFnZXMgICAgICAgICAgICAgICAgICAgICAgICAgICA9IF9mcmFtZXdvcmsuZGlzcG9zZVBhZ2VzO1xyXG5cclxuLy8gQGNsYXNzIFBhZ2VcclxuZXhwb3J0IHR5cGUgIFBhZ2UgPSBDRFAuRnJhbWV3b3JrLlBhZ2U7XHJcbmV4cG9ydCBjb25zdCBQYWdlID0gX2ZyYW1ld29yay5QYWdlO1xyXG5cclxuLy8gaW50ZXJmYWNlc1xyXG5leHBvcnQgdHlwZSAgTW9kZWwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gQ0RQLkZyYW1ld29yay5Nb2RlbDtcclxuZXhwb3J0IGNvbnN0IE1vZGVsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IF9mcmFtZXdvcmsuTW9kZWw7XHJcbmV4cG9ydCB0eXBlICBDb2xsZWN0aW9uPFRNb2RlbCBleHRlbmRzIE1vZGVsPiAgICAgICAgICAgPSBDRFAuRnJhbWV3b3JrLkNvbGxlY3Rpb248VE1vZGVsPjtcclxuZXhwb3J0IGNvbnN0IENvbGxlY3Rpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IF9mcmFtZXdvcmsuQ29sbGVjdGlvbjtcclxuZXhwb3J0IHR5cGUgIFZpZXc8VE1vZGVsIGV4dGVuZHMgTW9kZWwgPSBNb2RlbD4gICAgICAgICA9IENEUC5GcmFtZXdvcmsuVmlldzxUTW9kZWw+O1xyXG5leHBvcnQgY29uc3QgVmlldyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gX2ZyYW1ld29yay5WaWV3O1xyXG5leHBvcnQgdHlwZSAgRXZlbnRzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gQ0RQLkZyYW1ld29yay5FdmVudHM7XHJcbmV4cG9ydCBjb25zdCBFdmVudHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBfZnJhbWV3b3JrLkV2ZW50cztcclxuZXhwb3J0IHR5cGUgIE1vZGVsU2V0T3B0aW9ucyAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IENEUC5GcmFtZXdvcmsuTW9kZWxTZXRPcHRpb25zO1xyXG5leHBvcnQgdHlwZSAgTW9kZWxGZXRjaE9wdGlvbnMgICAgICAgICAgICAgICAgICAgICAgICAgID0gQ0RQLkZyYW1ld29yay5Nb2RlbEZldGNoT3B0aW9ucztcclxuZXhwb3J0IHR5cGUgIE1vZGVsU2F2ZU9wdGlvbnMgICAgICAgICAgICAgICAgICAgICAgICAgICA9IENEUC5GcmFtZXdvcmsuTW9kZWxTYXZlT3B0aW9ucztcclxuZXhwb3J0IHR5cGUgIE1vZGVsRGVzdHJveU9wdGlvbnMgICAgICAgICAgICAgICAgICAgICAgICA9IENEUC5GcmFtZXdvcmsuTW9kZWxEZXN0cm95T3B0aW9ucztcclxuZXhwb3J0IHR5cGUgIFZpZXdPcHRpb25zPFRNb2RlbCBleHRlbmRzIE1vZGVsID0gTW9kZWw+ICA9IENEUC5GcmFtZXdvcmsuVmlld09wdGlvbnM8VE1vZGVsPjtcclxuZXhwb3J0IHR5cGUgIE9yaWVudGF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IENEUC5GcmFtZXdvcmsuT3JpZW50YXRpb247XHJcbmV4cG9ydCB0eXBlICBQYWdlVHJhbnNpdGlvbkRpcmVjdGlvbiAgICAgICAgICAgICAgICAgICAgPSBDRFAuRnJhbWV3b3JrLlBhZ2VUcmFuc2l0aW9uRGlyZWN0aW9uO1xyXG5leHBvcnQgdHlwZSAgSW50ZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gQ0RQLkZyYW1ld29yay5JbnRlbnQ7XHJcbmV4cG9ydCB0eXBlICBQYWdlU3RhY2sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBDRFAuRnJhbWV3b3JrLlBhZ2VTdGFjaztcclxuZXhwb3J0IHR5cGUgIFN1YkZsb3dQYXJhbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IENEUC5GcmFtZXdvcmsuU3ViRmxvd1BhcmFtO1xyXG5leHBvcnQgdHlwZSAgUm91dGVyT3B0aW9ucyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gQ0RQLkZyYW1ld29yay5Sb3V0ZXJPcHRpb25zO1xyXG5leHBvcnQgdHlwZSAgTmF2aWdhdGVPcHRpb25zICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gQ0RQLkZyYW1ld29yay5OYXZpZ2F0ZU9wdGlvbnM7XHJcbmV4cG9ydCB0eXBlICBJT3JpZW50YXRpb25DaGFuZ2VkTGlzdGVuZXIgICAgICAgICAgICAgICAgPSBDRFAuRnJhbWV3b3JrLklPcmllbnRhdGlvbkNoYW5nZWRMaXN0ZW5lcjtcclxuZXhwb3J0IHR5cGUgIElCYWNrQnV0dG9uRXZlbnRMaXN0ZW5lciAgICAgICAgICAgICAgICAgICA9IENEUC5GcmFtZXdvcmsuSUJhY2tCdXR0b25FdmVudExpc3RlbmVyO1xyXG5leHBvcnQgdHlwZSAgSUNvbW1hbmRMaXN0ZW5lciAgICAgICAgICAgICAgICAgICAgICAgICAgID0gQ0RQLkZyYW1ld29yay5JQ29tbWFuZExpc3RlbmVyO1xyXG5leHBvcnQgdHlwZSAgUGFnZUNvbnN0cnVjdE9wdGlvbnMgICAgICAgICAgICAgICAgICAgICAgID0gQ0RQLkZyYW1ld29yay5QYWdlQ29uc3RydWN0T3B0aW9ucztcclxuZXhwb3J0IHR5cGUgIElQYWdlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IENEUC5GcmFtZXdvcmsuSVBhZ2U7XHJcbmV4cG9ydCB0eXBlICBTaG93RXZlbnREYXRhICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBDRFAuRnJhbWV3b3JrLlNob3dFdmVudERhdGE7XHJcbmV4cG9ydCB0eXBlICBIaWRlRXZlbnREYXRhICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBDRFAuRnJhbWV3b3JrLkhpZGVFdmVudERhdGE7XHJcbmV4cG9ydCB0eXBlICBGcmFtZXdvcmtPcHRpb25zICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBDRFAuRnJhbWV3b3JrLkZyYW1ld29ya09wdGlvbnM7XHJcbiIsImV4cG9ydCAqIGZyb20gXCIuL2NvcmUvcHJvbWlzZVwiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9mcmFtZXdvcmsvanFtXCI7XHJcbiIsImltcG9ydCBfdG9vbHMgPSByZXF1aXJlKFwiY2RwLnRvb2xzXCIpO1xyXG5cclxuLy8gQG1vZHVsZSBCbG9iXHJcbmV4cG9ydCBtb2R1bGUgQmxvYiB7XHJcbiAgICAvLyBCbG9iIG1ldGhvZHNcclxuICAgIGV4cG9ydCBjb25zdCBhcnJheUJ1ZmZlclRvQmxvYiAgICAgID0gX3Rvb2xzLkJsb2IuYXJyYXlCdWZmZXJUb0Jsb2I7XHJcbiAgICBleHBvcnQgY29uc3QgYmFzZTY0VG9CbG9iICAgICAgICAgICA9IF90b29scy5CbG9iLmJhc2U2NFRvQmxvYjtcclxuICAgIGV4cG9ydCBjb25zdCBiYXNlNjRUb0FycmF5QnVmZmVyICAgID0gX3Rvb2xzLkJsb2IuYmFzZTY0VG9BcnJheUJ1ZmZlcjtcclxuICAgIGV4cG9ydCBjb25zdCBiYXNlNjRUb1VpbnQ4QXJyYXkgICAgID0gX3Rvb2xzLkJsb2IuYmFzZTY0VG9VaW50OEFycmF5O1xyXG4gICAgZXhwb3J0IGNvbnN0IGFycmF5QnVmZmVyVG9CYXNlNjQgICAgPSBfdG9vbHMuQmxvYi5hcnJheUJ1ZmZlclRvQmFzZTY0O1xyXG4gICAgZXhwb3J0IGNvbnN0IHVpbnQ4QXJyYXlUb0Jhc2U2NCAgICAgPSBfdG9vbHMuQmxvYi51aW50OEFycmF5VG9CYXNlNjQ7XHJcbiAgICAvLyBCbG9iIHN0dWZmXHJcbiAgICBleHBvcnQgY29uc3QgVVJMID0gX3Rvb2xzLkJsb2IuVVJMO1xyXG59XHJcblxyXG4vLyBAY2xhc3MgRGF0ZVRpbWVcclxuZXhwb3J0IHR5cGUgIERhdGVUaW1lID0gQ0RQLlRvb2xzLkRhdGVUaW1lO1xyXG5leHBvcnQgY29uc3QgRGF0ZVRpbWUgPSBfdG9vbHMuRGF0ZVRpbWU7XHJcblxyXG4vLyBUb29scyBBUElzXHJcbmV4cG9ydCBjb25zdCBhYnMgICAgICAgICAgICAgICAgICAgID0gX3Rvb2xzLmFicztcclxuZXhwb3J0IGNvbnN0IG1heCAgICAgICAgICAgICAgICAgICAgPSBfdG9vbHMubWF4O1xyXG5leHBvcnQgY29uc3QgbWluICAgICAgICAgICAgICAgICAgICA9IF90b29scy5taW47XHJcbmV4cG9ydCBjb25zdCB0b1plcm9QYWRkaW5nICAgICAgICAgID0gX3Rvb2xzLnRvWmVyb1BhZGRpbmc7XHJcbmV4cG9ydCBjb25zdCBpbmhlcml0ICAgICAgICAgICAgICAgID0gX3Rvb2xzLmluaGVyaXQ7XHJcbmV4cG9ydCBjb25zdCBtaXhpbiAgICAgICAgICAgICAgICAgID0gX3Rvb2xzLm1peGluO1xyXG5leHBvcnQgY29uc3QgZXh0ZW5kICAgICAgICAgICAgICAgICA9IF90b29scy5leHRlbmQ7XHJcbmV4cG9ydCBjb25zdCBnZXREZXZpY2VQaXhjZWxSYXRpbyAgID0gX3Rvb2xzLmdldERldmljZVBpeGNlbFJhdGlvO1xyXG5cclxuLy8gQGNsYXNzIFRlbXBsYXRlXHJcbmV4cG9ydCB0eXBlICBUZW1wbGF0ZSA9IENEUC5Ub29scy5UZW1wbGF0ZTtcclxuZXhwb3J0IGNvbnN0IFRlbXBsYXRlID0gX3Rvb2xzLlRlbXBsYXRlO1xyXG5cclxuLy8gaW50ZXJmYWNlc1xyXG5leHBvcnQgdHlwZSBKU1QgPSBDRFAuVG9vbHMuSlNUO1xyXG4iLCJleHBvcnQgKiBmcm9tIFwiLi90b29scy90b29sc1wiO1xyXG4iLCJpbXBvcnQgX3VpID0gcmVxdWlyZShcImNkcC51aS5saXN0dmlld1wiKTtcclxuXHJcbi8vIGdsb2JhbCBjb25maWdcclxuZXhwb3J0IGNvbnN0IExpc3RWaWV3R2xvYmFsQ29uZmlnID0gX3VpLkxpc3RWaWV3R2xvYmFsQ29uZmlnO1xyXG5cclxuLy8gQGNsYXNzIExpbmVQcm9maWxlXHJcbmV4cG9ydCB0eXBlICBMaW5lUHJvZmlsZSA9IENEUC5VSS5MaW5lUHJvZmlsZTtcclxuZXhwb3J0IGNvbnN0IExpbmVQcm9maWxlID0gX3VpLkxpbmVQcm9maWxlO1xyXG5cclxuLy8gQGNsYXNzIEdyb3VwUHJvZmlsZVxyXG5leHBvcnQgdHlwZSBHcm91cFByb2ZpbGUgPSBDRFAuVUkuR3JvdXBQcm9maWxlO1xyXG5leHBvcnQgY29uc3QgIEdyb3VwUHJvZmlsZSA9IF91aS5Hcm91cFByb2ZpbGU7XHJcblxyXG4vLyBMaXN0VmlldyBBUElzXHJcbmV4cG9ydCBjb25zdCBjb21wb3NlVmlld3MgPSBfdWkuY29tcG9zZVZpZXdzO1xyXG5leHBvcnQgY29uc3QgZGVyaXZlVmlld3MgID0gX3VpLmRlcml2ZVZpZXdzO1xyXG5leHBvcnQgY29uc3QgbWl4aW5WaWV3cyAgID0gX3VpLm1peGluVmlld3M7XHJcblxyXG4vLyBAY2xhc3MgU3RhdHVzTWFuYWdlclxyXG5leHBvcnQgdHlwZSAgU3RhdHVzTWFuYWdlciA9IENEUC5VSS5TdGF0dXNNYW5hZ2VyO1xyXG5leHBvcnQgY29uc3QgU3RhdHVzTWFuYWdlciA9IF91aS5TdGF0dXNNYW5hZ2VyO1xyXG5cclxuLy8gQGNsYXNzIFBhZ2VQcm9maWxlXHJcbmV4cG9ydCB0eXBlICBQYWdlUHJvZmlsZSA9IENEUC5VSS5QYWdlUHJvZmlsZTtcclxuZXhwb3J0IGNvbnN0IFBhZ2VQcm9maWxlID0gX3VpLlBhZ2VQcm9maWxlO1xyXG5cclxuLy8gQGNsYXNzIFNjcm9sbGVyRWxlbWVudFxyXG5leHBvcnQgdHlwZSAgU2Nyb2xsZXJFbGVtZW50ID0gQ0RQLlVJLlNjcm9sbGVyRWxlbWVudDtcclxuZXhwb3J0IGNvbnN0IFNjcm9sbGVyRWxlbWVudCA9IF91aS5TY3JvbGxlckVsZW1lbnQ7XHJcblxyXG4vLyBAY2xhc3MgU2Nyb2xsZXJOYXRpdmVcclxuZXhwb3J0IGNvbnN0IFNjcm9sbGVyTmF0aXZlID0gX3VpLlNjcm9sbGVyTmF0aXZlO1xyXG5cclxuLy8gQGNsYXNzIFNjcm9sbGVySVNjcm9sbFxyXG5leHBvcnQgdHlwZSAgU2Nyb2xsZXJJU2Nyb2xsID0gQ0RQLlVJLlNjcm9sbGVySVNjcm9sbDtcclxuZXhwb3J0IGNvbnN0IFNjcm9sbGVySVNjcm9sbCA9IF91aS5TY3JvbGxlcklTY3JvbGw7XHJcblxyXG4vLyBAY2xhc3MgTGlzdEl0ZW1WaWV3XHJcbmV4cG9ydCB0eXBlIExpc3RJdGVtVmlldzxUTW9kZWwgZXh0ZW5kcyBCYWNrYm9uZS5Nb2RlbCA9IEJhY2tib25lLk1vZGVsPiA9IENEUC5VSS5MaXN0SXRlbVZpZXc8VE1vZGVsPjtcclxuZXhwb3J0IGNvbnN0IExpc3RJdGVtVmlldyA9IF91aS5MaXN0SXRlbVZpZXc7XHJcblxyXG4vLyBAY2xhc3MgU2Nyb2xsTWFuYWdlclxyXG5leHBvcnQgdHlwZSAgU2Nyb2xsTWFuYWdlciA9IENEUC5VSS5TY3JvbGxNYW5hZ2VyO1xyXG5leHBvcnQgY29uc3QgU2Nyb2xsTWFuYWdlciA9IF91aS5TY3JvbGxNYW5hZ2VyO1xyXG5cclxuLy8gQGNsYXNzIExpc3RWaWV3XHJcbmV4cG9ydCB0eXBlIExpc3RWaWV3PFRNb2RlbCBleHRlbmRzIEJhY2tib25lLk1vZGVsID0gQmFja2JvbmUuTW9kZWw+ID0gQ0RQLlVJLkxpc3RWaWV3PFRNb2RlbD47XHJcbmV4cG9ydCBjb25zdCBMaXN0VmlldyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBfdWkuTGlzdFZpZXc7XHJcblxyXG4vLyBAY2xhc3MgR3JvdXBMaXN0SXRlbVZpZXdcclxuZXhwb3J0IHR5cGUgR3JvdXBMaXN0SXRlbVZpZXc8VE1vZGVsIGV4dGVuZHMgQmFja2JvbmUuTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbD4gPSBDRFAuVUkuR3JvdXBMaXN0SXRlbVZpZXc8VE1vZGVsPjtcclxuZXhwb3J0IGNvbnN0IEdyb3VwTGlzdEl0ZW1WaWV3ID0gX3VpLkdyb3VwTGlzdEl0ZW1WaWV3O1xyXG5cclxuLy8gQGNsYXNzIEV4cGFuZE1hbmFnZXJcclxuZXhwb3J0IHR5cGUgIEV4cGFuZE1hbmFnZXIgPSBDRFAuVUkuRXhwYW5kTWFuYWdlcjtcclxuZXhwb3J0IGNvbnN0IEV4cGFuZE1hbmFnZXIgPSBfdWkuRXhwYW5kTWFuYWdlcjtcclxuXHJcbi8vIEBjbGFzcyBFeHBhbmRhYmxlTGlzdFZpZXdcclxuZXhwb3J0IHR5cGUgRXhwYW5kYWJsZUxpc3RWaWV3PFRNb2RlbCBleHRlbmRzIEJhY2tib25lLk1vZGVsID0gQmFja2JvbmUuTW9kZWw+ID0gQ0RQLlVJLkV4cGFuZGFibGVMaXN0VmlldzxUTW9kZWw+O1xyXG5leHBvcnQgY29uc3QgRXhwYW5kYWJsZUxpc3RWaWV3ID0gX3VpLkV4cGFuZGFibGVMaXN0VmlldztcclxuXHJcbi8vIGludGVyZmFjZXNcclxuZXhwb3J0IHR5cGUgTGlzdFZpZXdPcHRpb25zICAgICAgICAgPSBDRFAuVUkuTGlzdFZpZXdPcHRpb25zO1xyXG5leHBvcnQgdHlwZSBJTGlzdFZpZXdGcmFtZXdvcmsgICAgICA9IENEUC5VSS5JTGlzdFZpZXdGcmFtZXdvcms7XHJcbmV4cG9ydCB0eXBlIElTY3JvbGxlciAgICAgICAgICAgICAgID0gQ0RQLlVJLklTY3JvbGxlcjtcclxuZXhwb3J0IHR5cGUgSVNjcm9sbGFibGUgICAgICAgICAgICAgPSBDRFAuVUkuSVNjcm9sbGFibGU7XHJcbmV4cG9ydCB0eXBlIElCYWNrdXBSZXN0b3JlICAgICAgICAgID0gQ0RQLlVJLklCYWNrdXBSZXN0b3JlO1xyXG5leHBvcnQgdHlwZSBWaWV3Q29uc3RydWN0b3IgICAgICAgICA9IENEUC5VSS5WaWV3Q29uc3RydWN0b3I7XHJcbmV4cG9ydCB0eXBlIElDb21wb3NhYmxlVmlldyAgICAgICAgID0gQ0RQLlVJLklDb21wb3NhYmxlVmlldztcclxuZXhwb3J0IHR5cGUgSUNvbXBvc2FibGVWaWV3U3RhdGljICAgPSBDRFAuVUkuSUNvbXBvc2FibGVWaWV3U3RhdGljO1xyXG5leHBvcnQgdHlwZSBVcGRhdGVIZWlnaHRPcHRpb25zICAgICA9IENEUC5VSS5VcGRhdGVIZWlnaHRPcHRpb25zO1xyXG5leHBvcnQgdHlwZSBJTGlzdEl0ZW1WaWV3ICAgICAgICAgICA9IENEUC5VSS5JTGlzdEl0ZW1WaWV3O1xyXG5leHBvcnQgdHlwZSBCYXNlTGlzdEl0ZW1WaWV3ICAgICAgICA9IENEUC5VSS5CYXNlTGlzdEl0ZW1WaWV3O1xyXG5leHBvcnQgdHlwZSBFbnN1cmVWaXNpYmxlT3B0aW9ucyAgICA9IENEUC5VSS5FbnN1cmVWaXNpYmxlT3B0aW9ucztcclxuZXhwb3J0IHR5cGUgSUxpc3RWaWV3ICAgICAgICAgICAgICAgPSBDRFAuVUkuSUxpc3RWaWV3O1xyXG5leHBvcnQgdHlwZSBCYXNlTGlzdFZpZXcgICAgICAgICAgICA9IENEUC5VSS5CYXNlTGlzdFZpZXc7XHJcbmV4cG9ydCB0eXBlIElTdGF0dXNNYW5hZ2VyICAgICAgICAgID0gQ0RQLlVJLklTdGF0dXNNYW5hZ2VyO1xyXG5leHBvcnQgdHlwZSBJRXhwYW5kTWFuYWdlciAgICAgICAgICA9IENEUC5VSS5JRXhwYW5kTWFuYWdlcjtcclxuZXhwb3J0IHR5cGUgSUV4cGFuZGFibGVMaXN0VmlldyAgICAgPSBDRFAuVUkuSUV4cGFuZGFibGVMaXN0VmlldztcclxuZXhwb3J0IHR5cGUgQmFzZUV4cGFuZGFibGVMaXN0VmlldyAgPSBDRFAuVUkuQmFzZUV4cGFuZGFibGVMaXN0VmlldztcclxuZXhwb3J0IHR5cGUgTGlzdEl0ZW1WaWV3T3B0aW9uczxUTW9kZWwgZXh0ZW5kcyBCYWNrYm9uZS5Nb2RlbCA9IEJhY2tib25lLk1vZGVsPiAgICAgID0gQ0RQLlVJLkxpc3RJdGVtVmlld09wdGlvbnM8VE1vZGVsPjtcclxuZXhwb3J0IHR5cGUgTGlzdFZpZXdDb25zdHJ1Y3RPcHRpb25zPFRNb2RlbCBleHRlbmRzIEJhY2tib25lLk1vZGVsID0gQmFja2JvbmUuTW9kZWw+ID0gQ0RQLlVJLkxpc3RWaWV3Q29uc3RydWN0T3B0aW9uczxUTW9kZWw+O1xyXG5leHBvcnQgdHlwZSBHcm91cExpc3RJdGVtVmlld09wdGlvbnM8VE1vZGVsIGV4dGVuZHMgQmFja2JvbmUuTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbD4gPSBDRFAuVUkuR3JvdXBMaXN0SXRlbVZpZXdPcHRpb25zPFRNb2RlbD47XHJcbiIsImltcG9ydCBfdWkgPSByZXF1aXJlKFwiY2RwLnVpLmpxbVwiKTtcclxuXHJcbi8vIEBjbGFzcyBUaGVtZVxyXG5leHBvcnQgdHlwZSAgVGhlbWUgICA9IENEUC5VSS5UaGVtZTtcclxuZXhwb3J0IGNvbnN0IFRoZW1lICAgPSBfdWkuVGhlbWU7XHJcblxyXG5leHBvcnQgdHlwZSBQbGF0Zm9ybVRyYW5zaXRpb24gID0gQ0RQLlVJLlBsYXRmb3JtVHJhbnNpdGlvbjtcclxuZXhwb3J0IHR5cGUgVHJhbnNpdGlvbk1hcCAgICAgICA9IENEUC5VSS5UcmFuc2l0aW9uTWFwO1xyXG5cclxuLy8gQGNsYXNzIEV4dGVuc2lvbk1hbmFnZXJcclxuZXhwb3J0IHR5cGUgIEV4dGVuc2lvbk1hbmFnZXIgICAgPSBDRFAuVUkuRXh0ZW5zaW9uTWFuYWdlcjtcclxuZXhwb3J0IGNvbnN0IEV4dGVuc2lvbk1hbmFnZXIgICAgPSBfdWkuRXh0ZW5zaW9uTWFuYWdlcjtcclxuXHJcbmV4cG9ydCB0eXBlIERvbUV4dGVuc2lvbk9wdGlvbnMgPSBDRFAuVUkuRG9tRXh0ZW5zaW9uT3B0aW9ucztcclxuZXhwb3J0IHR5cGUgRG9tRXh0ZW5zaW9uICAgICAgICA9IENEUC5VSS5Eb21FeHRlbnNpb247XHJcblxyXG4vLyBAbW9kdWxlIFRvYXN0XHJcbmV4cG9ydCBtb2R1bGUgVG9hc3Qge1xyXG4gICAgLy8gVG9hc3Qgc3R1ZmZcclxuICAgIGV4cG9ydCBjb25zdCBMRU5HVEhfU0hPUlQgICAgICAgICA9IF91aS5Ub2FzdC5MRU5HVEhfU0hPUlQ7XHJcbiAgICBleHBvcnQgY29uc3QgTEVOR1RIX0xPTkcgICAgICAgICAgPSBfdWkuVG9hc3QuTEVOR1RIX0xPTkc7XHJcbiAgICBleHBvcnQgY29uc3QgU3R5bGVCdWlsZGVyRGVmYXVsdCAgPSBfdWkuVG9hc3QuU3R5bGVCdWlsZGVyRGVmYXVsdDtcclxuICAgIGV4cG9ydCBjb25zdCBzaG93ICAgICAgICAgICAgICAgICA9IF91aS5Ub2FzdC5zaG93O1xyXG4gICAgLy8gaW50ZXJmYWNlc1xyXG4gICAgZXhwb3J0IHR5cGUgT2Zmc2V0WCAgICAgICAgICAgICA9IENEUC5VSS5Ub2FzdC5PZmZzZXRYO1xyXG4gICAgZXhwb3J0IHR5cGUgT2Zmc2V0WSAgICAgICAgICAgICA9IENEUC5VSS5Ub2FzdC5PZmZzZXRZO1xyXG4gICAgZXhwb3J0IHR5cGUgU3R5bGVCdWlsZGVyICAgICAgICA9IENEUC5VSS5Ub2FzdC5TdHlsZUJ1aWxkZXI7XHJcbn1cclxuXHJcbi8vIEBjbGFzcyBEaWFsb2dcclxuZXhwb3J0IHR5cGUgIERpYWxvZyA9IENEUC5VSS5EaWFsb2c7XHJcbmV4cG9ydCBjb25zdCBEaWFsb2cgPSBfdWkuRGlhbG9nO1xyXG5cclxuZXhwb3J0IHR5cGUgRGlhbG9nT3B0aW9ucyA9IENEUC5VSS5EaWFsb2dPcHRpb25zO1xyXG5cclxuLy8gQGZ1bmN0aW9ucyBEaWFsb2dDb21tb25zXHJcbmV4cG9ydCBjb25zdCBhbGVydCAgICA9IF91aS5hbGVydDtcclxuZXhwb3J0IGNvbnN0IGNvbmZpcm0gID0gX3VpLmNvbmZpcm07XHJcbmV4cG9ydCBjb25zdCBwcm9tcHQgICA9IF91aS5wcm9tcHQ7XHJcblxyXG5pbXBvcnQgTW9kZWwgPSBDRFAuRnJhbWV3b3JrLk1vZGVsO1xyXG5cclxuLy8gQGNsYXNzIEJhc2VIZWFkZXJWaWV3XHJcbmV4cG9ydCB0eXBlIEJhc2VIZWFkZXJWaWV3PFRNb2RlbCBleHRlbmRzIE1vZGVsID0gTW9kZWw+ID0gQ0RQLlVJLkJhc2VIZWFkZXJWaWV3PFRNb2RlbD47XHJcbmV4cG9ydCBjb25zdCBCYXNlSGVhZGVyVmlldyA9IF91aS5CYXNlSGVhZGVyVmlldztcclxuXHJcbmV4cG9ydCB0eXBlIEJhc2VIZWFkZXJWaWV3T3B0aW9uczxUTW9kZWwgZXh0ZW5kcyBNb2RlbCA9IE1vZGVsPiA9IENEUC5VSS5CYXNlSGVhZGVyVmlld09wdGlvbnM8VE1vZGVsPjtcclxuXHJcblxyXG4vLyBAY2xhc3MgQmFzZVBhZ2VcclxuZXhwb3J0IHR5cGUgQmFzZVBhZ2U8VE1vZGVsIGV4dGVuZHMgTW9kZWwgPSBNb2RlbD4gPSBDRFAuVUkuQmFzZVBhZ2U8VE1vZGVsPjtcclxuZXhwb3J0IGNvbnN0IEJhc2VQYWdlID0gX3VpLkJhc2VQYWdlO1xyXG5leHBvcnQgdHlwZSBCYXNlUGFnZU9wdGlvbnM8VE1vZGVsIGV4dGVuZHMgTW9kZWwgPSBNb2RlbD4gPSBDRFAuVUkuQmFzZVBhZ2VPcHRpb25zPFRNb2RlbD47XHJcblxyXG4vLyBAY2xhc3MgUGFnZUNvbnRhaW5lclZpZXdcclxuZXhwb3J0IHR5cGUgUGFnZUNvbnRhaW5lclZpZXc8VE1vZGVsIGV4dGVuZHMgTW9kZWwgPSBNb2RlbD4gICAgPSBDRFAuVUkuUGFnZUNvbnRhaW5lclZpZXc8VE1vZGVsPjtcclxuZXhwb3J0IGNvbnN0IFBhZ2VDb250YWluZXJWaWV3ID0gX3VpLlBhZ2VDb250YWluZXJWaWV3O1xyXG5cclxuZXhwb3J0IHR5cGUgUGFnZUNvbnRhaW5lck9wdGlvbnM8VE1vZGVsIGV4dGVuZHMgTW9kZWwgPSBNb2RlbD4gPSBDRFAuVUkuUGFnZUNvbnRhaW5lck9wdGlvbnM8VE1vZGVsPjtcclxuXHJcblxyXG4vLyBAY2xhc3MgUGFnZVZpZXdcclxuZXhwb3J0IHR5cGUgUGFnZVZpZXc8VE1vZGVsIGV4dGVuZHMgTW9kZWwgPSBNb2RlbD4gPSBDRFAuVUkuUGFnZVZpZXc8VE1vZGVsPjtcclxuZXhwb3J0IGNvbnN0IFBhZ2VWaWV3ID0gX3VpLlBhZ2VWaWV3O1xyXG5cclxuZXhwb3J0IHR5cGUgUGFnZVZpZXdDb25zdHJ1Y3RPcHRpb25zPFRNb2RlbCBleHRlbmRzIE1vZGVsID0gTW9kZWw+ID0gQ0RQLlVJLlBhZ2VWaWV3Q29uc3RydWN0T3B0aW9uczxUTW9kZWw+O1xyXG5cclxuLy8gQGNsYXNzIFBhZ2VMaXN0Vmlld1xyXG5leHBvcnQgdHlwZSBQYWdlTGlzdFZpZXc8VE1vZGVsIGV4dGVuZHMgTW9kZWwgPSBNb2RlbD4gPSBDRFAuVUkuUGFnZUxpc3RWaWV3PFRNb2RlbD47XHJcbmV4cG9ydCBjb25zdCBQYWdlTGlzdFZpZXcgPSBfdWkuUGFnZUxpc3RWaWV3O1xyXG5cclxuZXhwb3J0IHR5cGUgUGFnZUxpc3RWaWV3Q29uc3RydWN0T3B0aW9uczxUTW9kZWwgZXh0ZW5kcyBNb2RlbCA9IE1vZGVsPiA9IENEUC5VSS5QYWdlTGlzdFZpZXdDb25zdHJ1Y3RPcHRpb25zPFRNb2RlbD47XHJcblxyXG4vLyBAY2xhc3MgUGFnZUV4cGFuZGFibGVMaXN0Vmlld1xyXG5leHBvcnQgdHlwZSBQYWdlRXhwYW5kYWJsZUxpc3RWaWV3PFRNb2RlbCBleHRlbmRzIE1vZGVsID0gTW9kZWw+ICAgPSBDRFAuVUkuUGFnZUV4cGFuZGFibGVMaXN0VmlldzxUTW9kZWw+O1xyXG5leHBvcnQgY29uc3QgUGFnZUV4cGFuZGFibGVMaXN0VmlldyA9IF91aS5QYWdlRXhwYW5kYWJsZUxpc3RWaWV3O1xyXG4iLCJpbXBvcnQgKiBhcyBfZnJhbWV3b3JrIGZyb20gXCIuL2ZyYW1ld29yay9qcW1cIjtcclxuZXhwb3J0ICogZnJvbSBcIi4vY29yZS9wcm9taXNlXCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL3VpL2xpc3R2aWV3XCI7XHJcbmV4cG9ydCAqIGZyb20gXCIuL3VpL2pxbVwiO1xyXG5cclxuLy8gZnJhbWV3b3JrIHVpIHR5cGVzXHJcbmV4cG9ydCB0eXBlIElQYWdlICAgICAgICAgICA9IF9mcmFtZXdvcmsuSVBhZ2U7XHJcbmV4cG9ydCB0eXBlIFBhZ2UgICAgICAgICAgICA9IF9mcmFtZXdvcmsuUGFnZTtcclxuZXhwb3J0IHR5cGUgT3JpZW50YXRpb24gICAgID0gX2ZyYW1ld29yay5PcmllbnRhdGlvbjtcclxuZXhwb3J0IHR5cGUgU2hvd0V2ZW50RGF0YSAgID0gX2ZyYW1ld29yay5TaG93RXZlbnREYXRhO1xyXG5leHBvcnQgdHlwZSBIaWRlRXZlbnREYXRhICAgPSBfZnJhbWV3b3JrLkhpZGVFdmVudERhdGE7XHJcbiIsImltcG9ydCBfYnJpZGdlID0gcmVxdWlyZShcImNkcC5uYXRpdmVicmlkZ2VcIik7XHJcblxyXG4vLyBAY2xhc3MgR2F0ZVxyXG5leHBvcnQgdHlwZSAgR2F0ZSA9IENEUC5OYXRpdmVCcmlkZ2UuR2F0ZTtcclxuZXhwb3J0IGNvbnN0IEdhdGUgPSBfYnJpZGdlLkdhdGU7XHJcblxyXG4vLyBpbnRlcmZhY2VzXHJcbmV4cG9ydCB0eXBlIEZlYXR1cmUgICAgICAgICAgICAgPSBDRFAuTmF0aXZlQnJpZGdlLkZlYXR1cmU7XHJcbmV4cG9ydCB0eXBlIENvbnN0cnVjdE9wdGlvbnMgICAgPSBDRFAuTmF0aXZlQnJpZGdlLkNvbnN0cnVjdE9wdGlvbnM7XHJcbmV4cG9ydCB0eXBlIElSZXN1bHQgICAgICAgICAgICAgPSBDRFAuTmF0aXZlQnJpZGdlLklSZXN1bHQ7XHJcbmV4cG9ydCB0eXBlIEV4ZWNPcHRpb25zICAgICAgICAgPSBDRFAuTmF0aXZlQnJpZGdlLkV4ZWNPcHRpb25zO1xyXG4iLCJleHBvcnQgKiBmcm9tIFwiLi9icmlkZ2UvbmF0aXZlYnJpZGdlXCI7XHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJAdHlwZXMvY2RwLmNvcmUuZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJAdHlwZXMvY2RwLnByb21pc2UuZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJAdHlwZXMvY2RwLm5hdGl2ZWJyaWRnZS5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIkB0eXBlcy9jZHAuaTE4bi5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIkB0eXBlcy9jZHAuZnJhbWV3b3JrLmpxbS5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIkB0eXBlcy9jZHAudG9vbHMuZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJAdHlwZXMvY2RwLnVpLmxpc3R2aWV3LmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiQHR5cGVzL2NkcC51aS5qcW0uZC50c1wiIC8+XHJcbi8vLyA8YW1kLW1vZHVsZSBuYW1lPVwiY2RwXCIgLz5cclxuXHJcbmV4cG9ydCAqIGZyb20gXCIuL2NkcC9jb3JlXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBGcmFtZXdvcmsgZnJvbSBcIi4vY2RwL2ZyYW1ld29ya1wiO1xyXG5pbXBvcnQgKiBhcyBUb29scyBmcm9tIFwiLi9jZHAvdG9vbHNcIjtcclxuaW1wb3J0ICogYXMgVUkgZnJvbSBcIi4vY2RwL3VpXCI7XHJcbmltcG9ydCAqIGFzIE5hdGl2ZUJyaWRnZSBmcm9tIFwiLi9jZHAvYnJpZGdlXCI7XHJcblxyXG5leHBvcnQgeyBGcmFtZXdvcmssIFRvb2xzLCBVSSwgTmF0aXZlQnJpZGdlIH07XHJcblxyXG4vLyBzaG9ydCBjdXQgZm9yIGluaXRpYWxpemUgbWV0aG9kXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsaXplICAgICAgICAgICA9IEZyYW1ld29yay5pbml0aWFsaXplO1xyXG5leHBvcnQgY29uc3QgaXNJbml0aWFsaXplZCAgICAgICAgPSBGcmFtZXdvcmsuaXNJbml0aWFsaXplZDtcclxuZXhwb3J0IGNvbnN0IHdhaXRGb3JJbml0aWFsaXplICAgID0gRnJhbWV3b3JrLndhaXRGb3JJbml0aWFsaXplO1xyXG4iLCJkZWNsYXJlIG1vZHVsZSBcImNkcC50b29sc1wiIHtcclxuICAgIGNvbnN0IFRvb2xzOiB0eXBlb2YgQ0RQLlRvb2xzO1xyXG4gICAgZXhwb3J0ID0gVG9vbHM7XHJcbn1cclxuIiwiZGVjbGFyZSBtb2R1bGUgXCJjZHAudWkuanFtXCIge1xyXG4gICAgY29uc3QgVUk6IHR5cGVvZiBDRFAuVUk7XHJcbiAgICBleHBvcnQgPSBVSTtcclxufVxyXG4iXX0="]}